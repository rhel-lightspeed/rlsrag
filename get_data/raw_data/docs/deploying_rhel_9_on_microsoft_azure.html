<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deploying RHEL 9 on Microsoft Azure | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/deploying_rhel_9_on_microsoft_azure/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Deploying RHEL 9 on Microsoft Azure | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Deploying RHEL 9 on Microsoft Azure<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Deploying RHEL 9 on Microsoft Azure</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_cloud-content-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-proc_providing-feedback-on-red-hat-documentation_cloud-content-azure" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--introducing-rhel-on-public-cloud-platforms_cloud-content-azure" data-v-fa0dae77><summary class="heading chapter-title" id="introducing-rhel-on-public-cloud-platforms_cloud-content-azure--summary" data-v-fa0dae77>1. Introducing RHEL on public cloud platforms</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#introducing-rhel-on-public-cloud-platforms_cloud-content-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-introducing-rhel-on-public-cloud-platforms_cloud-content-azure" data-v-fa0dae77>Introducing RHEL on public cloud platforms</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#benefits-of-using-rhel-in-a-public-cloud_introducing-rhel-on-public-cloud-platforms" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-benefits-of-using-rhel-in-a-public-cloud_introducing-rhel-on-public-cloud-platforms" data-v-b883c74f>1.1. Benefits of using RHEL in a public cloud</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms" data-v-b883c74f>1.2. Public cloud use cases for RHEL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#frequent-concerns-when-migrating-to-a-public-cloud_introducing-rhel-on-public-cloud-platforms" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-frequent-concerns-when-migrating-to-a-public-cloud_introducing-rhel-on-public-cloud-platforms" data-v-b883c74f>1.3. Frequent concerns when migrating to a public cloud</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms" data-v-b883c74f>1.4. Obtaining RHEL for public cloud deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms" data-v-b883c74f>1.5. Methods for creating RHEL cloud instances</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#pushing-vhd-imaged-to-azure-cloud_cloud-content-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-pushing-vhd-imaged-to-azure-cloud_cloud-content-azure" data-v-fa0dae77>2. Pushing VHD images to Microsoft Azure cloud</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure--summary" data-v-fa0dae77>3. Deploying a Red Hat Enterprise Linux image as a virtual machine on Microsoft Azure</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure" data-v-fa0dae77>Deploying a Red Hat Enterprise Linux image as a virtual machine on Microsoft Azure</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-image-options_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-image-options_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.1. Red Hat Enterprise Linux image options on Azure</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f><summary class="heading sub-chapter-title" id="understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure--summary" data-v-b883c74f>3.2. Understanding base images</summary><ol id="sub-nav--understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>Understanding base images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#about-vm-images_understanding-base-images-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-about-vm-images_understanding-base-images-azure" data-v-b883c74f>3.2.1. Using a custom base image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#required-system-packages_understanding-base-images-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-required-system-packages_understanding-base-images-azure" data-v-b883c74f>3.2.2. Required system packages</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-vm-configuration-settings_understanding-base-images-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-vm-configuration-settings_understanding-base-images-azure" data-v-b883c74f>3.2.3. Azure VM configuration settings</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#create-a-vm-from-an-iso-image_understanding-base-images-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-create-a-vm-from-an-iso-image_understanding-base-images-azure" data-v-b883c74f>3.2.4. Creating a base image from an ISO image</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f><summary class="heading sub-chapter-title" id="configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure--summary" data-v-b883c74f>3.3. Configuring a custom base image for Microsoft Azure</summary><ol id="sub-nav--configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>Configuring a custom base image for Microsoft Azure</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-hyperv-drivers_configure-the-image-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-installing-hyperv-drivers_configure-the-image-azure" data-v-b883c74f>3.3.1. Installing Hyper-V device drivers</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#making-configuration-changes_configure-the-image-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-making-configuration-changes_configure-the-image-azure" data-v-b883c74f>3.3.2. Making configuration changes required for a Microsoft Azure deployment</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#convert-the-image_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-convert-the-image_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.4. Converting the image to a fixed VHD format</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.5. Installing the Azure CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#create-azure-resources_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-create-azure-resources_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.6. Creating resources in Azure</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#upload-image-to-azure_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-upload-image-to-azure_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.7. Uploading and creating an Azure image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.8. Creating and starting the VM in Azure</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.9. Other authentication methods</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#attaching-subscriptions_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-attaching-subscriptions_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.10. Attaching Red Hat subscriptions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-up-automatic-registration-on-azure-gold-images_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-proc_setting-up-automatic-registration-on-azure-gold-images_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.11. Setting up automatic registration on Azure Gold Images</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-kdump-for-microsoft-azure-instances_deploying-a-virtual-machine-on-microsoft-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-configuring-kdump-for-microsoft-azure-instances_deploying-a-virtual-machine-on-microsoft-azure" data-v-b883c74f>3.12. Configuring kdump for Microsoft Azure instances</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-additional_resources" data-v-b883c74f>3.13. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-rhel-high-availability-on-azure_cloud-content-azure" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-rhel-high-availability-on-azure_cloud-content-azure--summary" data-v-fa0dae77>4. Configuring a Red Hat High Availability cluster on Microsoft Azure</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-rhel-high-availability-on-azure_cloud-content-azure" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-configuring-rhel-high-availability-on-azure_cloud-content-azure" data-v-fa0dae77>Configuring a Red Hat High Availability cluster on Microsoft Azure</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-benefits-of-using-high-availability-clusters-on-public-cloud-platforms_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-the-benefits-of-using-high-availability-clusters-on-public-cloud-platforms_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.1. The benefits of using high-availability clusters on public cloud platforms</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#create-azure-resources-for-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-create-azure-resources-for-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.2. Creating resources in Azure</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#required-system-packages-for-azure-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-required-system-packages-for-azure-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.3. Required system packages for High Availability</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-vm-configuration-settings_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-vm-configuration-settings_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.4. Azure VM configuration settings</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-hyperv-drivers_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-installing-hyperv-drivers_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.5. Installing Hyper-V device drivers</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#making-configuration-changes_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-making-configuration-changes_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.6. Making configuration changes required for a Microsoft Azure deployment</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-create-an-azure-directory-application-in-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-create-an-azure-directory-application-in-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.7. Creating an Azure Active Directory application</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#convert-the-image_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-convert-the-image_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.8. Converting the image to a fixed VHD format</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#upload-image-to-azure_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-upload-image-to-azure_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.9. Uploading and creating an Azure image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-install-red-hat-ha-packages-and-agents_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-install-red-hat-ha-packages-and-agents_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.10. Installing Red Hat HA packages and agents</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-create-cluster-in-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-create-cluster-in-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.11. Creating a cluster</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-fencing-overview-in-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-fencing-overview-in-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.12. Fencing overview</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-create-a-fencing-device-in-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-create-a-fencing-device-in-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.13. Creating a fencing device</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-create-internal-load-balancer-in-azure-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-create-internal-load-balancer-in-azure-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.14. Creating an Azure internal load balancer</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-configure-the-load-balancer-resource-agent-in-ha_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-configure-the-load-balancer-resource-agent-in-ha_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.15. Configuring the load balancer resource agent</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure" data-v-b883c74f>4.16. Configuring shared block storage</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_2" id="sub-link-to-deploying_rhel_9_on_microsoft_azure-additional_resources_2" data-v-b883c74f>4.17. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm140444521198352" id="chapter-landing--deploying_rhel_9_on_microsoft_azure-idm140444521198352" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Deploying RHEL 9 on Microsoft Azure</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm140444523586848"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Obtaining RHEL system images and creating RHEL instances on Azure</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140444521198352">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				To use Red Hat Enterprise Linux (RHEL) in a public cloud environment, you can create and deploy RHEL system images on various cloud platforms, including Microsoft Azure. You can also create and configure a Red Hat High Availability (HA) cluster on Azure.
			</div><div class="para">
				The following chapters provide instructions for creating cloud RHEL instances and HA clusters on Azure. These processes include installing the required packages and agents, configuring fencing, and installing network resource agents.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_cloud-content-azure"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="introducing-rhel-on-public-cloud-platforms_cloud-content-azure"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Introducing RHEL on public cloud platforms</h2></div></div></div><p>
			Public cloud platforms provide computing resources as a service. Instead of using on-premises hardware, you can run your IT workloads, including Red Hat Enterprise Linux (RHEL) systems, as public cloud instances.
		</p><section class="section" id="benefits-of-using-rhel-in-a-public-cloud_introducing-rhel-on-public-cloud-platforms"><div class="titlepage"><div><div><h3 class="title">1.1. Benefits of using RHEL in a public cloud</h3></div></div></div><p>
				RHEL as a cloud instance located on a public cloud platform has the following benefits over RHEL on-premises physical systems or virtual machines (VMs):
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Flexible and fine-grained allocation of resources</strong></span>
					</p><p class="simpara">
						A cloud instance of RHEL runs as a VM on a cloud platform, which typically means a cluster of remote servers maintained by the provider of the cloud service. Therefore, allocating hardware resources to the instance, such as a specific type of CPU or storage, happens on the software level and is easily customizable.
					</p><p class="simpara">
						In comparison to a local RHEL system, you are also not limited by the capabilities of your physical host. Instead, you can choose from a variety of features, based on selection offered by the cloud provider.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Space and cost efficiency</strong></span>
					</p><p class="simpara">
						You do not need to own any on-premises servers to host your cloud workloads. This avoids the space, power, and maintenance requirements associated with physical hardware.
					</p><p class="simpara">
						Instead, on public cloud platforms, you pay the cloud provider directly for using a cloud instance. The cost is typically based on the hardware allocated to the instance and the time you spend using it. Therefore, you can optimize your costs based on your requirements.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Software-controlled configurations</strong></span>
					</p><p class="simpara">
						The entire configuration of a cloud instance is saved as data on the cloud platform, and is controlled by software. Therefore, you can easily create, remove, clone, or migrate the instance. A cloud instance is also operated remotely in a cloud provider console and is connected to remote storage by default.
					</p><p class="simpara">
						In addition, you can back up the current state of a cloud instance as a snapshot at any time. Afterwards, you can load the snapshot to restore the instance to the saved state.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Separation from the host and software compatibility</strong></span>
					</p><p class="simpara">
						Similarly to a local VM, the RHEL guest operating system on a cloud instance runs on a virtualized kernel. This kernel is separate from the host operating system and from the <span class="emphasis"><em>client</em></span> system that you use to connect to the instance.
					</p><p class="simpara">
						Therefore, any operating system can be installed on the cloud instance. This means that on a RHEL public cloud instance, you can run RHEL-specific applications that cannot be used on your local operating system.
					</p><p class="simpara">
						In addition, even if the operating system of the instance becomes unstable or is compromised, your client system is not affected in any way.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/topics/cloud-computing/what-is-public-cloud">What is public cloud?</a>
					</li><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/topics/cloud/what-is-a-hyperscaler">What is a hyperscaler?</a>
					</li><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/topics/cloud-computing/public-cloud-vs-private-cloud-and-hybrid-cloud">Types of cloud computing</a>
					</li><li class="listitem">
						<a class="link" href="#public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms" title="1.2. Public cloud use cases for RHEL">Public cloud use cases for RHEL</a>
					</li><li class="listitem">
						<a class="link" href="#obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms" title="1.4. Obtaining RHEL for public cloud deployments">Obtaining RHEL for public cloud deployments</a>
					</li></ul></div></section><section class="section" id="public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms"><div class="titlepage"><div><div><h3 class="title">1.2. Public cloud use cases for RHEL</h3></div></div></div><p>
				Deploying on a public cloud provides many benefits, but might not be the most efficient solution in every scenario. If you are evaluating whether to migrate your RHEL deployments to the public cloud, consider whether your use case will benefit from the advantages of the public cloud.
			</p><p>
				<span class="strong strong"><strong>Beneficial use cases</strong></span>
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Deploying public cloud instances is very effective for flexibly increasing and decreasing the active computing power of your deployments, also known as <span class="emphasis"><em>scaling up</em></span> and <span class="emphasis"><em>scaling down</em></span>. Therefore, using RHEL on public cloud is recommended in the following scenarios:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Clusters with high peak workloads and low general performance requirements. Scaling up and down based on your demands can be highly efficient in terms of resource costs.
							</li><li class="listitem">
								Quickly setting up or expanding your clusters. This avoids high upfront costs of setting up local servers.
							</li></ul></div></li><li class="listitem">
						Cloud instances are not affected by what happens in your local environment. Therefore, you can use them for backup and disaster recovery.
					</li></ul></div><p>
				<span class="strong strong"><strong>Potentially problematic use cases</strong></span>
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You are running an existing environment that cannot be adjusted. Customizing a cloud instance to fit the specific needs of an existing deployment may not be cost-effective in comparison with your current host platform.
					</li><li class="listitem">
						You are operating with a hard limit on your budget. Maintaining your deployment in a local data center typically provides less flexibility but more control over the maximum resource costs than the public cloud does.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms" title="1.4. Obtaining RHEL for public cloud deployments">Obtaining RHEL for public cloud deployments</a>
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/blog/should-i-migrate-my-application-cloud-heres-how-decide">Should I migrate my application to the cloud? Here’s how to decide.</a>
					</li></ul></div></section><section class="section" id="frequent-concerns-when-migrating-to-a-public-cloud_introducing-rhel-on-public-cloud-platforms"><div class="titlepage"><div><div><h3 class="title">1.3. Frequent concerns when migrating to a public cloud</h3></div></div></div><p>
				Moving your RHEL workloads from a local environment to a public cloud platform might raise concerns about the changes involved. The following are the most commonly asked questions.
			</p><p>
				<span class="strong strong"><strong>Will my RHEL work differently as a cloud instance than as a local virtual machine?</strong></span>
			</p><p>
				In most respects, RHEL instances on a public cloud platform work the same as RHEL virtual machines on a local host, such as an on-premises server. Notable exceptions include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Instead of private orchestration interfaces, public cloud instances use provider-specific console interfaces for managing your cloud resources.
					</li><li class="listitem">
						Certain features, such as nested virtualization, may not work correctly. If a specific feature is critical for your deployment, check the feature’s compatibility in advance with your chosen public cloud provider.
					</li></ul></div><p>
				<span class="strong strong"><strong>Will my data stay safe in a public cloud as opposed to a local server?</strong></span>
			</p><p>
				The data in your RHEL cloud instances is in your ownership, and your public cloud provider does not have any access to it. In addition, major cloud providers support data encryption in transit, which improves the security of data when migrating your virtual machines to the public cloud.
			</p><p>
				The general security of your RHEL public cloud instances is managed as follows:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Your public cloud provider is responsible for the security of the cloud hypervisor
					</li><li class="listitem">
						Red Hat provides the security features of the RHEL guest operating systems in your instances
					</li><li class="listitem">
						You manage the specific security settings and practices in your cloud infrastructure
					</li></ul></div><p>
				<span class="strong strong"><strong>What effect does my geographic region have on the functionality of RHEL public cloud instances?</strong></span>
			</p><p>
				You can use RHEL instances on a public cloud platform regardless of your geographical location. Therefore, you can run your instances in the same region as your on-premises server.
			</p><p>
				However, hosting your instances in a physically distant region might cause high latency when operating them. In addition, depending on the public cloud provider, certain regions may provide additional features or be more cost-efficient. Before creating your RHEL instances, review the properties of the hosting regions available for your chosen cloud provider.
			</p></section><section class="section" id="obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms"><div class="titlepage"><div><div><h3 class="title">1.4. Obtaining RHEL for public cloud deployments</h3></div></div></div><p>
				To deploy a RHEL system in a public cloud environment, you need to:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Select the optimal cloud provider for your use case, based on your requirements and the current offer on the market.
					</p><p class="simpara">
						The cloud providers currently certified for running RHEL instances are:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<a class="link" href="https://aws.amazon.com/">Amazon Web Services (AWS)</a>
							</li><li class="listitem">
								<a class="link" href="https://cloud.google.com/">Google Cloud Platform (GCP)</a>
							</li><li class="listitem"><p class="simpara">
								<a class="link" href="https://azure.microsoft.com/en-us/">Microsoft Azure</a>
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									This document specifically talks about deploying RHEL on Microsoft Azure.
								</p></div></rh-alert></li></ul></div></li><li class="listitem">
						Create a RHEL cloud instance on your chosen cloud platform. For more information, see <a class="link" href="#methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms" title="1.5. Methods for creating RHEL cloud instances">Methods for creating RHEL cloud instances</a>.
					</li><li class="listitem">
						To keep your RHEL deployment up-to-date, use <a class="link" href="https://access.redhat.com/products/red-hat-update-infrastructure">Red Hat Update Infrastructure</a> (RHUI).
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_update_infrastructure">RHUI documentation</a>
					</li><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/products/open-hybrid-cloud">Red Hat Open Hybrid Cloud</a>
					</li></ul></div></section><section class="section" id="methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms"><div class="titlepage"><div><div><h3 class="title">1.5. Methods for creating RHEL cloud instances</h3></div></div></div><p>
				To deploy a RHEL instance on a public cloud platform, you can use one of the following methods:
			</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 100%; " class="col_1"><!--Empty--></colgroup><tbody><tr><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Create a system image of RHEL and import it to the cloud platform.</strong></span>
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										To create the system image, you can use the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index">RHEL image builder</a> or you can build the image manually.
									</li><li class="listitem">
										This method uses your existing RHEL subscription, and is also referred to as <span class="emphasis"><em>bring your own subscription</em></span> (BYOS).
									</li><li class="listitem">
										You pre-pay a yearly subscription, and you can use your Red Hat customer discount.
									</li><li class="listitem">
										Your customer service is provided by Red Hat.
									</li><li class="listitem">
										For creating multiple images effectively, you can use the <code class="literal">cloud-init</code> tool.
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Purchase a RHEL instance directly from the cloud provider marketplace.</strong></span>
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										You post-pay an hourly rate for using the service. Therefore, this method is also referred to as <span class="emphasis"><em>pay as you go</em></span> (PAYG).
									</li><li class="listitem">
										Your customer service is provided by the cloud platform provider.
									</li></ul></div>
							 </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					For detailed instructions on using various methods to deploy RHEL instances On Microsoft Azure, see the following chapters in this document.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/topics/linux/what-is-a-golden-image">What is a golden image?</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_cloud-init_for_rhel_9/index">Configuring and managing cloud-init for RHEL 9</a>
					</li></ul></div></section></section><section class="chapter" id="pushing-vhd-imaged-to-azure-cloud_cloud-content-azure"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Pushing VHD images to Microsoft Azure cloud</h2></div></div></div><p class="_abstract _abstract">
			You can create <code class="literal">.vhd</code> images by using RHEL image builder. Then, you can push the output <code class="literal">.vhd</code> images to a Blob Storage of the Microsoft Azure Cloud service provider.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have root access to the system.
				</li><li class="listitem">
					You have access to the RHEL image builder interface of the RHEL web console.
				</li><li class="listitem">
					You created a blueprint. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating a RHEL image builder blueprint in the web console interface</a>.
				</li><li class="listitem">
					You have a <a class="link" href="https://portal.azure.com/#create/Microsoft.StorageAccount">Microsoft Storage Account</a> created.
				</li><li class="listitem">
					You have a writable <a class="link" href="https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts">Blob Storage</a> prepared.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					In the RHEL image builder dashboard, select the blueprint you want to use.
				</li><li class="listitem">
					Click the <span class="guibutton">Images</span> tab.
				</li><li class="listitem"><p class="simpara">
					Click <span class="guibutton">Create Image</span> to create your customized <code class="literal">.vhd</code> image.
				</p><p class="simpara">
					The <span class="strong strong"><strong>Create image</strong></span> wizard opens.
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							Select <code class="literal">Microsoft Azure (.vhd)</code> from the <span class="strong strong"><strong>Type</strong></span> drop-down menu list.
						</li><li class="listitem">
							Check the <span class="strong strong"><strong>Upload to Azure</strong></span> checkbox to upload your image to the Microsoft Azure Cloud.
						</li><li class="listitem">
							Enter the <span class="strong strong"><strong>Image Size</strong></span> and click <span class="guibutton">Next</span>.
						</li></ol></div></li><li class="listitem"><p class="simpara">
					On the <span class="strong strong"><strong>Upload to Azure</strong></span> page, enter the following information:
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
							On the Authentication page, enter:
						</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
									Your <span class="strong strong"><strong>Storage account</strong></span> name. You can find it on the <span class="strong strong"><strong>Storage account</strong></span> page, in the <a class="link" href="https://portal.azure.com/">Microsoft Azure portal</a>.
								</li><li class="listitem">
									Your <span class="strong strong"><strong>Storage access key</strong></span>: You can find it on the <span class="strong strong"><strong>Access Key</strong></span> Storage page.
								</li><li class="listitem">
									Click <span class="guibutton">Next</span>.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Authentication</strong></span> page, enter:
						</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
									The image name.
								</li><li class="listitem">
									The <span class="strong strong"><strong>Storage container</strong></span>. It is the blob container to which you will upload the image. Find it under the <span class="strong strong"><strong>Blob service</strong></span> section, in the <a class="link" href="https://portal.azure.com/">Microsoft Azure portal</a>.
								</li><li class="listitem">
									Click <span class="guibutton">Next</span>.
								</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
					On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Create</span>. The RHEL image builder and upload processes start.
				</p><p class="simpara">
					Access the image you pushed into <span class="strong strong"><strong>Microsoft Azure Cloud</strong></span>.
				</p></li><li class="listitem">
					Access the <a class="link" href="https://portal.azure.com">Microsoft Azure portal</a>.
				</li><li class="listitem">
					In the search bar, type "storage account" and click <span class="strong strong"><strong>Storage accounts</strong></span> from the list.
				</li><li class="listitem">
					On the search bar, type "Images" and select the first entry under <span class="strong strong"><strong>Services</strong></span>. You are redirected to the <span class="strong strong"><strong>Image dashboard</strong></span>.
				</li><li class="listitem">
					On the navigation panel, click <span class="strong strong"><strong>Containers</strong></span>.
				</li><li class="listitem">
					Find the container you created. Inside the container is the <code class="literal">.vhd</code> file you created and pushed by using RHEL image builder.
				</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Verify that you can create a VM image and launch it.
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							In the search bar, type images account and click <span class="strong strong"><strong>Images</strong></span> from the list.
						</li><li class="listitem">
							Click <span class="guibutton">+Create</span>.
						</li><li class="listitem">
							From the dropdown list, choose the resource group you used earlier.
						</li><li class="listitem">
							Enter a name for the image.
						</li><li class="listitem">
							For the <span class="strong strong"><strong>OS type</strong></span>, select <span class="strong strong"><strong>Linux</strong></span>.
						</li><li class="listitem">
							For the <span class="strong strong"><strong>VM generation</strong></span>, select <span class="strong strong"><strong>Gen 2</strong></span>.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>Storage Blob</strong></span>, click <span class="guibutton">Browse</span> and click through the storage accounts and container until you reach your VHD file.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Select</strong></span> at the end of the page.
						</li><li class="listitem">
							Choose an Account Type, for example, <span class="strong strong"><strong>Standard SSD</strong></span>.
						</li><li class="listitem">
							Click <span class="guibutton">Review + Create</span> and then <span class="guibutton">Create</span>. Wait a few moments for the image creation.
						</li></ol></div></li><li class="listitem"><p class="simpara">
					To launch the VM, follow the steps:
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							Click <span class="guibutton">Go to resource</span>.
						</li><li class="listitem">
							Click <span class="guibutton">+ Create VM</span> from the menu bar on the header.
						</li><li class="listitem">
							Enter a name for your virtual machine.
						</li><li class="listitem">
							Complete the <span class="strong strong"><strong>Size</strong></span> and <span class="strong strong"><strong>Administrator account</strong></span> sections.
						</li><li class="listitem"><p class="simpara">
							Click <span class="guibutton">Review + Create</span> and then <span class="guibutton">Create</span>. You can see the deployment progress.
						</p><p class="simpara">
							After the deployment finishes, click the virtual machine name to retrieve the public IP address of the instance to connect by using SSH.
						</p></li><li class="listitem">
							Open a terminal to create an SSH connection to connect to the VM.
						</li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					<a class="link" href="https://docs.microsoft.com/en-us/azure/storage/">Microsoft Azure Storage Documentation</a>.
				</li><li class="listitem">
					<a class="link" href="https://docs.microsoft.com/en-us/azure/storage/common/storage-account-create?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&amp;tabs=azure-portal">Create a Microsoft Azure Storage account</a>.
				</li><li class="listitem">
					<a class="link" href="https://access.redhat.com/support/cases/#/case/new/open-case?intcmp=hp|a|a3|case&amp;caseCreate=true">Open a case on Red Hat Customer Portal</a>.
				</li><li class="listitem">
					<a class="link" href="https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview">Help + support</a>.
				</li><li class="listitem">
					<a class="link" href="https://access.redhat.com/support/contact/">Contacting Red Hat</a>.
				</li></ul></div></section><section class="chapter" id="assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Deploying a Red Hat Enterprise Linux image as a virtual machine on Microsoft Azure</h2></div></div></div><p>
			To deploy a Red Hat Enterprise Linux 9 (RHEL 9) image on Microsoft Azure, follow the information below. This chapter:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Discusses your options for choosing an image
				</li><li class="listitem">
					Lists or refers to system requirements for your host system and virtual machine (VM)
				</li><li class="listitem">
					Provides procedures for creating a custom VM from an ISO image, uploading it to Azure, and launching an Azure VM instance
				</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
				You can create a custom VM from an ISO image, but Red Hat recommends that you use the <span class="emphasis"><em>Red Hat Image Builder</em></span> product to create customized images for use on specific cloud providers. With Image Builder, you can create and upload an Azure Disk Image (VHD format). See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index">Composing a Customized RHEL System Image</a> for more information.
			</p></div></rh-alert><p>
			For a list of Red Hat products that you can use securely on Azure, refer to <a class="link" href="https://access.redhat.com/public-cloud/microsoft-azure">Red Hat on Microsoft Azure</a>.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					Sign up for a <a class="link" href="https://access.redhat.com/">Red Hat Customer Portal</a> account.
				</li><li class="listitem">
					Sign up for a <a class="link" href="https://azure.microsoft.com/en-us/">Microsoft Azure</a> account.
				</li></ul></div><section class="section" id="azure-image-options_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.1. Red Hat Enterprise Linux image options on Azure</h3></div></div></div><p>
				The following table lists image choices for RHEL 9 on Microsoft Azure, and notes the differences in the image options.
			</p><rh-table id="idm140444521629216"><table class="gt-4-cols lt-7-rows"><caption>Table 3.1. Image options</caption><colgroup><col style="width: 25%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 25%; " class="col_3"><!--Empty--><col style="width: 25%; " class="col_4"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140444520873808" scope="col">Image option</th><th align="left" valign="top" id="idm140444520872720" scope="col">Subscriptions</th><th align="left" valign="top" id="idm140444520871632" scope="col">Sample scenario</th><th align="left" valign="top" id="idm140444520870544" scope="col">Considerations</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140444520873808"> <p>
								Deploy a Red Hat Gold Image.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520872720"> <p>
								Use your existing Red Hat subscriptions.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520871632"> <p>
								Select a Red Hat Gold Image on Azure. For details on Gold Images and how to access them on Azure, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/index">Red Hat Cloud Access Reference Guide</a>.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520870544"> <p>
								The subscription includes the Red Hat product cost; you pay Microsoft for all other instance costs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444520873808"> <p>
								Deploy a custom image that you move to Azure.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520872720"> <p>
								Use your existing Red Hat subscriptions.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520871632"> <p>
								Upload your custom image and attach your subscriptions.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520870544"> <p>
								The subscription includes the Red Hat product cost; you pay Microsoft for all other instance costs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444520873808"> <p>
								Deploy an existing Azure image that includes RHEL.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520872720"> <p>
								The Azure images include a Red Hat product.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520871632"> <p>
								Choose a RHEL image when you create a VM by using the Azure console, or choose a VM from the <a class="link" href="https://azuremarketplace.microsoft.com/en-us/marketplace/">Azure Marketplace</a>.
							</p>
							 </td><td align="left" valign="top" headers="idm140444520870544"> <p>
								You pay Microsoft hourly on a <span class="emphasis"><em>pay-as-you-go</em></span> model. Such images are called "on-demand." Azure provides support for on-demand images through a support agreement.
							</p>
							 <p>
								Red Hat provides updates to the images. Azure makes the updates available through the Red Hat Update Infrastructure (RHUI).
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access#using-gold-images-on-azure_cloud-access">Using Red Hat Gold Images on Microsoft Azure</a>
					</li><li class="listitem">
						<a class="link" href="https://azuremarketplace.microsoft.com/en-us/marketplace/">Azure Marketplace</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/marketplace/marketplace-commercial-transaction-capabilities-and-considerations">Billing options in the Azure Marketplace</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/redhat/byos">Red Hat Enterprise Linux Bring-Your-Own-Subscription Gold Images in Azure</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/index">Red Hat Cloud Access Reference Guide</a>
					</li></ul></div></section><section class="section" id="understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.2. Understanding base images</h3></div></div></div><p>
				This section includes information about using preconfigured base images and their configuration settings.
			</p><section class="section" id="about-vm-images_understanding-base-images-azure"><div class="titlepage"><div><div><h4 class="title">3.2.1. Using a custom base image</h4></div></div></div><p>
					To manually configure a virtual machine (VM), first create a base (starter) VM image. Then, you can modify configuration settings and add the packages the VM requires to operate on the cloud. You can make additional configuration changes for your specific application after you upload the image.
				</p><p>
					To prepare a cloud image of RHEL, follow the instructions in the sections below. To prepare a Hyper-V cloud image of RHEL, see the <a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/redhat-create-upload-vhd#prepare-a-red-hat-based-virtual-machine-from-hyper-v-manager">Prepare a Red Hat-based virtual machine from Hyper-V Manager</a>.
				</p></section><section class="section" id="required-system-packages_understanding-base-images-azure"><div class="titlepage"><div><div><h4 class="title">3.2.2. Required system packages</h4></div></div></div><p>
					To create and configure a base image of RHEL, your host system must have the following packages installed.
				</p><rh-table id="idm140444514517424"><table class="lt-4-cols lt-7-rows"><caption>Table 3.2. System packages</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140444514511664" scope="col">Package</th><th align="left" valign="top" id="idm140444514510576" scope="col">Repository</th><th align="left" valign="top" id="idm140444514509488" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140444514511664"> <p>
									libvirt
								</p>
								 </td><td align="left" valign="top" headers="idm140444514510576"> <p>
									rhel-9-for-x86_64-appstream-rpms
								</p>
								 </td><td align="left" valign="top" headers="idm140444514509488"> <p>
									Open source API, daemon, and management tool for managing platform virtualization
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444514511664"> <p>
									virt-install
								</p>
								 </td><td align="left" valign="top" headers="idm140444514510576"> <p>
									rhel-9-for-x86_64-appstream-rpms
								</p>
								 </td><td align="left" valign="top" headers="idm140444514509488"> <p>
									A command-line utility for building VMs
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444514511664"> <p>
									libguestfs
								</p>
								 </td><td align="left" valign="top" headers="idm140444514510576"> <p>
									rhel-9-for-x86_64-appstream-rpms
								</p>
								 </td><td align="left" valign="top" headers="idm140444514509488"> <p>
									A library for accessing and modifying VM file systems
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444514511664"> <p>
									guestfs-tools
								</p>
								 </td><td align="left" valign="top" headers="idm140444514510576"> <p>
									rhel-9-for-x86_64-appstream-rpms
								</p>
								 </td><td align="left" valign="top" headers="idm140444514509488"> <p>
									System administration tools for VMs; includes the <code class="literal">virt-customize</code> utility
								</p>
								 </td></tr></tbody></table></rh-table></section><section class="section" id="azure-vm-configuration-settings_understanding-base-images-azure"><div class="titlepage"><div><div><h4 class="title">3.2.3. Azure VM configuration settings</h4></div></div></div><p>
					Azure VMs must have the following configuration settings. Some of these settings are enabled during the initial VM creation. Other settings are set when provisioning the VM image for Azure. Keep these settings in mind as you move through the procedures. Refer to them as necessary.
				</p><rh-table id="idm140444516856880"><table class="lt-4-cols lt-7-rows"><caption>Table 3.3. VM configuration settings</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140444515115392" scope="col">Setting</th><th align="left" valign="top" id="idm140444515114304" scope="col">Recommendation</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140444515115392"> <p>
									ssh
								</p>
								 </td><td align="left" valign="top" headers="idm140444515114304"> <p>
									ssh must be enabled to provide remote access to your Azure VMs.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444515115392"> <p>
									dhcp
								</p>
								 </td><td align="left" valign="top" headers="idm140444515114304"> <p>
									The primary virtual adapter should be configured for dhcp (IPv4 only).
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444515115392"> <p>
									Swap Space
								</p>
								 </td><td align="left" valign="top" headers="idm140444515114304"> <p>
									Do not create a dedicated swap file or swap partition. You can configure swap space with the Windows Azure Linux Agent (WALinuxAgent).
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444515115392"> <p>
									NIC
								</p>
								 </td><td align="left" valign="top" headers="idm140444515114304"> <p>
									Choose <span class="strong strong"><strong>virtio</strong></span> for the primary virtual network adapter.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140444515115392"> <p>
									encryption
								</p>
								 </td><td align="left" valign="top" headers="idm140444515114304"> <p>
									For custom images, use Network Bound Disk Encryption (NBDE) for full disk encryption on Azure.
								</p>
								 </td></tr></tbody></table></rh-table></section><section class="section" id="create-a-vm-from-an-iso-image_understanding-base-images-azure"><div class="titlepage"><div><div><h4 class="title">3.2.4. Creating a base image from an ISO image</h4></div></div></div><p>
					The following procedure lists the steps and initial configuration requirements for creating a custom ISO image. Once you have configured the image, you can use the image as a template for creating additional VM instances.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Ensure that you have enabled your host machine for virtualization. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_enabling-virtualization-in-rhel-9_configuring-and-managing-virtualization">Enabling virtualization in RHEL 9</a> for information and procedures.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Download the latest Red Hat Enterprise Linux 9 DVD ISO image from the <a class="link" href="https://access.redhat.com/downloads/content/479/">Red Hat Customer Portal</a>.
						</li><li class="listitem"><p class="simpara">
							Create and start a basic Red Hat Enterprise Linux VM. For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization">Creating virtual machines</a>.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									If you use the command line to create your VM, ensure that you set the default memory and CPUs to the capacity you want for the VM. Set your virtual network interface to <span class="strong strong"><strong>virtio</strong></span>.
								</p><p class="simpara">
									For example, the following command creates a <code class="literal">kvmtest</code> VM by using the <code class="literal">rhel-9.0-x86_64-kvm.qcow2</code> image:
								</p><pre class="screen"># <span class="strong strong"><strong>virt-install \</strong></span>
    <span class="strong strong"><strong>--name kvmtest --memory 2048 --vcpus 2 \</strong></span>
    <span class="strong strong"><strong>--disk rhel-9.0-x86_64-kvm.qcow2,bus=virtio \</strong></span>
    <span class="strong strong"><strong>--import --os-variant=rhel9.0</strong></span></pre></li><li class="listitem"><p class="simpara">
									If you use the web console to create your VM, follow the procedure in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization#creating-vms-and-installing-an-os-using-the-rhel-web-console_assembly_creating-virtual-machines">Creating virtual machines using the web console</a>, with these caveats:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											Do not check <span class="strong strong"><strong>Immediately Start VM</strong></span>.
										</li><li class="listitem">
											Change your <span class="strong strong"><strong>Memory</strong></span> size to your preferred settings.
										</li><li class="listitem">
											Before you start the installation, ensure that you have changed <span class="strong strong"><strong>Model</strong></span> under <span class="strong strong"><strong>Virtual Network Interface Settings</strong></span> to <span class="strong strong"><strong>virtio</strong></span> and change your <span class="strong strong"><strong>vCPUs</strong></span> to the capacity settings you want for the VM.
										</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Review the following additional installation selection and modifications.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Select <span class="strong strong"><strong>Minimal Install</strong></span> with the <span class="strong strong"><strong>standard RHEL</strong></span> option.
								</li><li class="listitem"><p class="simpara">
									For <span class="strong strong"><strong>Installation Destination</strong></span>, select <span class="strong strong"><strong>Custom Storage Configuration</strong></span>. Use the following configuration information to make your selections.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											Verify at least 500 MB for <span class="strong strong"><strong>/boot</strong></span>.
										</li><li class="listitem">
											For file system, use xfs, ext4, or ext3 for both <span class="strong strong"><strong>boot</strong></span> and <span class="strong strong"><strong>root</strong></span> partitions.
										</li><li class="listitem">
											Remove swap space. Swap space is configured on the physical blade server in Azure by the WALinuxAgent.
										</li></ul></div></li><li class="listitem">
									On the <span class="strong strong"><strong>Installation Summary</strong></span> screen, select <span class="strong strong"><strong>Network and Host Name</strong></span>. Switch <span class="strong strong"><strong>Ethernet</strong></span> to <span class="strong strong"><strong>On</strong></span>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							When the install starts:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Create a <code class="literal">root</code> password.
								</li><li class="listitem">
									Create an administrative user account.
								</li></ul></div></li><li class="listitem">
							When installation is complete, reboot the VM and log in to the root account.
						</li><li class="listitem">
							Once you are logged in as <code class="literal">root</code>, you can configure the image.
						</li></ol></div></section></section><section class="section" id="configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.3. Configuring a custom base image for Microsoft Azure</h3></div></div></div><p>
				To deploy a RHEL 9 virtual machine (VM) with specific settings in Azure, you can create a custom base image for the VM. The following sections describe additional configuration changes that Azure requires.
			</p><section class="section" id="installing-hyperv-drivers_configure-the-image-azure"><div class="titlepage"><div><div><h4 class="title">3.3.1. Installing Hyper-V device drivers</h4></div></div></div><p>
					Microsoft provides network and storage device drivers as part of their Linux Integration Services (LIS) for Hyper-V package. You may need to install Hyper-V device drivers on the VM image prior to provisioning it as an Azure virtual machine (VM). Use the <code class="literal command">lsinitrd | grep hv</code> command to verify that the drivers are installed.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enter the following <code class="literal command">grep</code> command to determine if the required Hyper-V device drivers are installed.
						</p><pre class="screen"># <span class="strong strong"><strong>lsinitrd | grep hv</strong></span></pre><p class="simpara">
							In the example below, all required drivers are installed.
						</p><pre class="screen"># <span class="strong strong"><strong>lsinitrd | grep hv</strong></span>
drwxr-xr-x   2 root     root            0 Aug 12 14:21 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv
-rw-r--r--   1 root     root        31272 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv/hv_vmbus.ko.xz
-rw-r--r--   1 root     root        25132 Aug 11 08:46 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/net/hyperv/hv_netvsc.ko.xz
-rw-r--r--   1 root     root         9796 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/scsi/hv_storvsc.ko.xz</pre><p class="simpara">
							If all the drivers are not installed, complete the remaining steps.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								An <code class="literal">hv_vmbus</code> driver may exist in the environment. Even if this driver is present, complete the following steps.
							</p></div></rh-alert></li><li class="listitem">
							Create a file named <code class="literal">hv.conf</code> in <code class="literal">/etc/dracut.conf.d</code>.
						</li><li class="listitem"><p class="simpara">
							Add the following driver parameters to the <code class="literal">hv.conf</code> file.
						</p><pre class="screen">add_drivers+=" hv_vmbus "
add_drivers+=" hv_netvsc "
add_drivers+=" hv_storvsc "
add_drivers+=" nvme "</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Note the spaces before and after the quotes, for example, <code class="literal">add_drivers+=" hv_vmbus "</code>. This ensures that unique drivers are loaded in the event that other Hyper-V drivers already exist in the environment.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Regenerate the <code class="literal">initramfs</code> image.
						</p><pre class="screen"># <span class="strong strong"><strong>dracut -f -v --regenerate-all</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Reboot the machine.
						</li><li class="listitem">
							Run the <code class="literal command">lsinitrd | grep hv</code> command to verify that the drivers are installed.
						</li></ol></div></section><section class="section" id="making-configuration-changes_configure-the-image-azure"><div class="titlepage"><div><div><h4 class="title">3.3.2. Making configuration changes required for a Microsoft Azure deployment</h4></div></div></div><p>
					Before you deploy your custom base image to Azure, you must perform additional configuration changes to ensure that the virtual machine (VM) can properly operate in Azure.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Log in to the VM.
						</li><li class="listitem"><p class="simpara">
							Register the VM, and enable the Red Hat Enterprise Linux 9 repository.
						</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager register --auto-attach</strong></span>
Installed Product Current Status:
Product Name: Red Hat Enterprise Linux for x86_64
Status: Subscribed</pre></li><li class="listitem"><p class="simpara">
							Ensure that the <code class="literal">cloud-init</code> and <code class="literal">hyperv-daemons</code> packages are installed.
						</p><pre class="screen"># <span class="strong strong"><strong>dnf install cloud-init hyperv-daemons -y</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create <code class="literal">cloud-init</code> configuration files that are needed for integration with Azure services:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									To enable logging to the Hyper-V Data Exchange Service (KVP), create the <code class="literal">/etc/cloud/cloud.cfg.d/10-azure-kvp.cfg</code> configuration file and add the following lines to that file.
								</p><pre class="screen">reporting:
    logging:
        type: log
    telemetry:
        type: hyperv</pre></li><li class="listitem"><p class="simpara">
									To add Azure as a datasource, create the <code class="literal">/etc/cloud/cloud.cfg.d/91-azure_datasource.cfg</code> configuration file, and add the following lines to that file.
								</p><pre class="screen">datasource_list: [ Azure ]
datasource:
    Azure:
        apply_network_config: False</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							To ensure that specific kernel modules are blocked from loading automatically, edit or create the <code class="literal">/etc/modprobe.d/blocklist.conf</code> file and add the following lines to that file.
						</p><pre class="screen">blacklist nouveau
blacklist lbm-nouveau
blacklist floppy
blacklist amdgpu
blacklist skx_edac
blacklist intel_cstate</pre></li><li class="listitem"><p class="simpara">
							Modify <code class="literal">udev</code> network device rules:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Remove the following persistent network device rules if present.
								</p><pre class="screen"># <span class="strong strong"><strong>rm -f /etc/udev/rules.d/70-persistent-net.rules</strong></span>
# <span class="strong strong"><strong>rm -f /etc/udev/rules.d/75-persistent-net-generator.rules</strong></span>
# <span class="strong strong"><strong>rm -f /etc/udev/rules.d/80-net-name-slot-rules</strong></span></pre></li><li class="listitem"><p class="simpara">
									To ensure that Accelerated Networking on Azure works as intended, create a new network device rule <code class="literal">/etc/udev/rules.d/68-azure-sriov-nm-unmanaged.rules</code> and add the following line to it.
								</p><pre class="screen">SUBSYSTEM=="net", DRIVERS=="hv_pci", ACTION=="add", ENV{NM_UNMANAGED}="1"</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Set the <code class="literal">sshd</code> service to start automatically.
						</p><pre class="screen"># <span class="strong strong"><strong>systemctl enable sshd</strong></span>
# <span class="strong strong"><strong>systemctl is-enabled sshd</strong></span></pre></li><li class="listitem"><p class="simpara">
							Modify kernel boot parameters:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Open the <code class="literal">/etc/default/grub</code> file, and ensure the <code class="literal">GRUB_TIMEOUT</code> line has the following value.
								</p><pre class="screen">GRUB_TIMEOUT=10</pre></li><li class="listitem"><p class="simpara">
									Remove the following options from the end of the <code class="literal">GRUB_CMDLINE_LINUX</code> line if present.
								</p><pre class="screen">rhgb quiet</pre></li><li class="listitem"><p class="simpara">
									Ensure the <code class="literal">/etc/default/grub</code> file contains the following lines with all the specified options.
								</p><pre class="screen">GRUB_CMDLINE_LINUX="loglevel=3 crashkernel=auto console=tty1 console=ttyS0 earlyprintk=ttyS0 rootdelay=300"
GRUB_TIMEOUT_STYLE=countdown
GRUB_TERMINAL="serial console"
GRUB_SERIAL_COMMAND="serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1"</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										If you do not plan to run your workloads on HDDs, add <code class="literal">elevator=none</code> to the end of the <code class="literal">GRUB_CMDLINE_LINUX</code> line.
									</p><p>
										This sets the I/O scheduler to <code class="literal">none</code>, which improves I/O performance when running workloads on SSDs.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Regenerate the <code class="literal">grub.cfg</code> file.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
											On a BIOS-based machine:
										</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
													In RHEL 9.2 and earlier:
												</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg</strong></span></pre></li><li class="listitem"><p class="simpara">
													In RHEL 9.3 and later:
												</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg --update-bls-cmdline</strong></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
											On a UEFI-based machine:
										</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
													In RHEL 9.2 and earlier:
												</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg</strong></span></pre></li><li class="listitem"><p class="simpara">
													In RHEL 9.3 and later:
												</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg --update-bls-cmdline</strong></span></pre><p class="simpara">
													If your system uses a non-default location for <code class="literal">grub.cfg</code>, adjust the command accordingly.
												</p></li></ul></div></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Configure the Windows Azure Linux Agent (<code class="literal">WALinuxAgent</code>):
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Install and enable the <code class="literal">WALinuxAgent</code> package.
								</p><pre class="screen"># <span class="strong strong"><strong>dnf install WALinuxAgent -y</strong></span>
# <span class="strong strong"><strong>systemctl enable waagent</strong></span></pre></li><li class="listitem"><p class="simpara">
									To ensure that a swap partition is not used in provisioned VMs, edit the following lines in the <code class="literal">/etc/waagent.conf</code> file.
								</p><pre class="screen">Provisioning.DeleteRootPassword=y
ResourceDisk.Format=n
ResourceDisk.EnableSwap=n</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Prepare the VM for Azure provisioning:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Unregister the VM from Red Hat Subscription Manager.
								</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager unregister</strong></span></pre></li><li class="listitem"><p class="simpara">
									Clean up the existing provisioning details.
								</p><pre class="screen"># <span class="strong strong"><strong>waagent -force -deprovision</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										This command generates warnings, which are expected because Azure handles the provisioning of VMs automatically.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Clean the shell history and shut down the VM.
								</p><pre class="screen"># <span class="strong strong"><strong>export HISTSIZE=0</strong></span>
# <span class="strong strong"><strong>poweroff</strong></span></pre></li></ol></div></li></ol></div></section></section><section class="section" id="convert-the-image_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.4. Converting the image to a fixed VHD format</h3></div></div></div><p>
				All Microsoft Azure VM images must be in a fixed <code class="literal">VHD</code> format. The image must be aligned on a 1 MB boundary before it is converted to VHD. To convert the image from <code class="literal">qcow2</code> to a fixed <code class="literal">VHD</code> format and align the image, see the following procedure. Once you have converted the image, you can upload it to Azure.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Convert the image from <code class="literal">qcow2</code> to <code class="literal">raw</code> format.
					</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img convert -f qcow2 -O raw <span class="emphasis"><em>&lt;image-name&gt;</em></span>.qcow2 <span class="emphasis"><em>&lt;image-name&gt;</em></span>.raw</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a shell script with the following content.
					</p><pre class="screen">#!/bin/bash
MB=$((1024 * 1024))
size=$(qemu-img info -f raw --output json "$1" | gawk 'match($0, /"virtual-size": ([0-9]+),/, val) {print val[1]}')
rounded_size=$((($size/$MB + 1) * $MB))
if [ $(($size % $MB)) -eq  0 ]
then
 echo "Your image is already aligned. You do not need to resize."
 exit 1
fi
echo "rounded size = $rounded_size"
export rounded_size</pre></li><li class="listitem"><p class="simpara">
						Run the script. This example uses the name <code class="literal">align.sh</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>sh align.sh <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw</strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If the message <span class="emphasis"><em>"Your image is already aligned. You do not need to resize."</em></span> displays, proceed to the following step.
							</li><li class="listitem">
								If a value displays, your image is not aligned.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Use the following command to convert the file to a fixed <code class="literal">VHD</code> format.
					</p><p class="simpara">
						<span class="strong strong"><strong>The sample uses qemu-img version 2.12.0.</strong></span>
					</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw <span class="emphasis"><em>&lt;image.xxx&gt;</em></span>.vhd</strong></span></pre><p class="simpara">
						Once converted, the <code class="literal">VHD</code> file is ready to upload to Azure.
					</p></li><li class="listitem"><p class="simpara">
						If the <code class="literal">raw</code> image is not aligned, complete the following steps to align it.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Resize the <code class="literal">raw</code> file by using the rounded value displayed when you ran the verification script.
							</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img resize -f raw <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw <span class="emphasis"><em>&lt;rounded-value&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								Convert the <code class="literal">raw</code> image file to a <code class="literal">VHD</code> format.
							</p><p class="simpara">
								<span class="strong strong"><strong>The sample uses qemu-img version 2.12.0.</strong></span>
							</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw <span class="emphasis"><em>&lt;image.xxx&gt;</em></span>.vhd</strong></span></pre><p class="simpara">
								Once converted, the <code class="literal">VHD</code> file is ready to upload to Azure.
							</p></li></ol></div></li></ol></div></section><section class="section" id="install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.5. Installing the Azure CLI</h3></div></div></div><p>
				Complete the following steps to install the Azure command line interface (Azure CLI 2.1). Azure CLI 2.1 is a Python-based utility that creates and manages VMs in Azure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You need to have an account with <a class="link" href="https://azure.microsoft.com/en-us/free/">Microsoft Azure</a> before you can use the Azure CLI.
					</li><li class="listitem">
						The Azure CLI installation requires Python 3.x.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Import the Microsoft repository key.
					</p><pre class="screen">$ <span class="strong strong"><strong>sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a local Azure CLI repository entry.
					</p><pre class="screen white-space-pre white-space-pre">$ <span class="strong strong"><strong>sudo sh -c 'echo -e "[azure-cli]\nname=Azure CLI\nbaseurl=https://packages.microsoft.com/yumrepos/azure-cli\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" &gt; /etc/yum.repos.d/azure-cli.repo'</strong></span></pre></li><li class="listitem"><p class="simpara">
						Update the <code class="literal">dnf</code> package index.
					</p><pre class="screen">$ <span class="strong strong"><strong>dnf check-update</strong></span></pre></li><li class="listitem"><p class="simpara">
						Check your Python version (<code class="literal">python --version</code>) and install Python 3.x, if necessary.
					</p><pre class="screen">$ <span class="strong strong"><strong>sudo dnf install python3</strong></span></pre></li><li class="listitem"><p class="simpara">
						Install the Azure CLI.
					</p><pre class="screen">$ <span class="strong strong"><strong>sudo dnf install -y azure-cli</strong></span></pre></li><li class="listitem"><p class="simpara">
						Run the Azure CLI.
					</p><pre class="screen">$ <span class="strong strong"><strong>az</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest">Azure CLI</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest">Azure CLI command reference</a>
					</li></ul></div></section><section class="section" id="create-azure-resources_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.6. Creating resources in Azure</h3></div></div></div><p>
				Complete the following procedure to create the Azure resources that you need before you can upload the <code class="literal">VHD</code> file and create the Azure image.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Authenticate your system with Azure and log in.
					</p><pre class="screen">$ <span class="strong strong"><strong>az login</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If a browser is available in your environment, the CLI opens your browser to the Azure sign-in page. See <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli?view=azure-cli-latest">Sign in with Azure CLI</a> for more information and options.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Create a resource group in an Azure region.
					</p><pre class="screen">$ <span class="strong strong"><strong>az group create --name &lt;resource-group&gt; --location &lt;azure-region&gt;</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az group create --name azrhelclirsgrp --location southcentralus</strong></span>
{
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp",
  "location": "southcentralus",
  "managedBy": null,
  "name": "azrhelclirsgrp",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": null
}</pre></li><li class="listitem"><p class="simpara">
						Create a storage account. See <a class="link" href="https://docs.microsoft.com/en-us/rest/api/storagerp/srp_sku_types">SKU Types</a> for more information about valid SKU values.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage account create -l &lt;azure-region&gt; -n &lt;storage-account-name&gt; -g &lt;resource-group&gt; --sku &lt;sku_type&gt;</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage account create -l southcentralus -n azrhelclistact -g azrhelclirsgrp --sku Standard_LRS</strong></span>
{
  "accessTier": null,
  "creationTime": "2017-04-05T19:10:29.855470+00:00",
  "customDomain": null,
  "encryption": null,
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Storage/storageAccounts/azrhelclistact",
  "kind": "StorageV2",
  "lastGeoFailoverTime": null,
  "location": "southcentralus",
  "name": "azrhelclistact",
  "primaryEndpoints": {
    "blob": "https://azrhelclistact.blob.core.windows.net/",
    "file": "https://azrhelclistact.file.core.windows.net/",
    "queue": "https://azrhelclistact.queue.core.windows.net/",
    "table": "https://azrhelclistact.table.core.windows.net/"
},
"primaryLocation": "southcentralus",
"provisioningState": "Succeeded",
"resourceGroup": "azrhelclirsgrp",
"secondaryEndpoints": null,
"secondaryLocation": null,
"sku": {
  "name": "Standard_LRS",
  "tier": "Standard"
},
"statusOfPrimary": "available",
"statusOfSecondary": null,
"tags": {},
  "type": "Microsoft.Storage/storageAccounts"
}</pre></li><li class="listitem"><p class="simpara">
						Get the storage account connection string.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage account show-connection-string -n &lt;storage-account-name&gt; -g &lt;resource-group&gt;</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage account show-connection-string -n azrhelclistact -g azrhelclirsgrp</strong></span>
{
  "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="
}</pre></li><li class="listitem"><p class="simpara">
						Export the connection string by copying the connection string and pasting it into the following command. This string connects your system to the storage account.
					</p><pre class="screen">$ <span class="strong strong"><strong>export AZURE_STORAGE_CONNECTION_STRING="&lt;storage-connection-string&gt;"</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>export AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create the storage container.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage container create -n &lt;container-name&gt;</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage container create -n azrhelclistcont</strong></span>
{
  "created": true
}</pre></li><li class="listitem"><p class="simpara">
						Create a virtual network.
					</p><pre class="screen">$ <span class="strong strong"><strong>az network vnet create -g &lt;resource group&gt; --name &lt;vnet-name&gt; --subnet-name &lt;subnet-name&gt;</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az network vnet create --resource-group azrhelclirsgrp --name azrhelclivnet1 --subnet-name azrhelclisubnet1</strong></span>
{
  "newVNet": {
    "addressSpace": {
      "addressPrefixes": [
      "10.0.0.0/16"
      ]
  },
  "dhcpOptions": {
    "dnsServers": []
  },
  "etag": "W/\"\"",
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1",
  "location": "southcentralus",
  "name": "azrhelclivnet1",
  "provisioningState": "Succeeded",
  "resourceGroup": "azrhelclirsgrp",
  "resourceGuid": "0f25efee-e2a6-4abe-a4e9-817061ee1e79",
  "subnets": [
    {
      "addressPrefix": "10.0.0.0/24",
      "etag": "W/\"\"",
      "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1/subnets/azrhelclisubnet1",
      "ipConfigurations": null,
      "name": "azrhelclisubnet1",
      "networkSecurityGroup": null,
      "provisioningState": "Succeeded",
      "resourceGroup": "azrhelclirsgrp",
      "resourceNavigationLinks": null,
      "routeTable": null
    }
  ],
  "tags": {},
  "type": "Microsoft.Network/virtualNetworks",
  "virtualNetworkPeerings": null
  }
}</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/managed-disks-overview">Azure Managed Disks Overview</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/rest/api/storagerp/srp_sku_types">SKU Types</a>
					</li></ul></div></section><section class="section" id="upload-image-to-azure_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.7. Uploading and creating an Azure image</h3></div></div></div><p>
				Complete the following steps to upload the <code class="literal">VHD</code> file to your container and create an Azure custom image.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The exported storage connection string does not persist after a system reboot. If any of the commands in the following steps fail, export the connection string again.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Upload the <code class="literal">VHD</code> file to the storage container. It may take several minutes. To get a list of storage containers, enter the <code class="literal command">az storage container list</code> command.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage blob upload \</strong></span>
    <span class="strong strong"><strong>--account-name &lt;storage-account-name&gt; --container-name &lt;container-name&gt; \</strong></span>
    <span class="strong strong"><strong>--type page --file &lt;path-to-vhd&gt; --name &lt;image-name&gt;.vhd</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage blob upload \</strong></span>
<span class="strong strong"><strong>--account-name azrhelclistact --container-name azrhelclistcont \</strong></span>
<span class="strong strong"><strong>--type page --file rhel-image-{ProductNumber}.vhd --name rhel-image-{ProductNumber}.vhd</strong></span>

Percent complete: %100.0</pre></li><li class="listitem"><p class="simpara">
						Get the URL for the uploaded <code class="literal">VHD</code> file to use in the following step.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage blob url -c &lt;container-name&gt; -n &lt;image-name&gt;.vhd</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage blob url -c azrhelclistcont -n rhel-image-9.vhd "https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd"</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create the Azure custom image.
					</p><pre class="screen">$ <span class="strong strong"><strong>az image create -n &lt;image-name&gt; -g &lt;resource-group&gt; -l &lt;azure-region&gt; --source &lt;URL&gt; --os-type linux</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The default hypervisor generation of the VM is V1. You can optionally specify a V2 hypervisor generation by including the option <code class="literal">--hyper-v-generation V2</code>. Generation 2 VMs use a UEFI-based boot architecture. See <a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/generation-2">Support for generation 2 VMs on Azure</a> for information about generation 2 VMs.
						</p><p>
							The command may return the error "Only blobs formatted as VHDs can be imported." This error may mean that the image was not aligned to the nearest 1 MB boundary before it was converted to <code class="literal">VHD</code>.
						</p></div></rh-alert><p class="simpara">
						Example:
					</p><pre class="screen">$ <span class="strong strong"><strong>az image create -n rhel9 -g azrhelclirsgrp2 -l southcentralus --source https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd --os-type linux</strong></span></pre></li></ol></div></section><section class="section" id="create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.8. Creating and starting the VM in Azure</h3></div></div></div><p>
				The following steps provide the minimum command options to create a managed-disk Azure VM from the image. See <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/vm?view=azure-cli-latest#az_vm_create">az vm create</a> for additional options.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enter the following command to create the VM.
					</p><pre class="screen">$ <span class="strong strong"><strong>az vm create \</strong></span>
    <span class="strong strong"><strong>-g <span class="emphasis"><em>&lt;resource-group&gt;</em></span> -l <span class="emphasis"><em>&lt;azure-region&gt;</em></span> -n <span class="emphasis"><em>&lt;vm-name&gt;</em></span> \</strong></span>
    <span class="strong strong"><strong>--vnet-name <span class="emphasis"><em>&lt;vnet-name&gt;</em></span> --subnet <span class="emphasis"><em>&lt;subnet-name&gt;</em></span> --size Standard_A2 \</strong></span>
    <span class="strong strong"><strong>--os-disk-name <span class="emphasis"><em>&lt;simple-name&gt;</em></span> --admin-username <span class="emphasis"><em>&lt;administrator-name&gt;</em></span> \</strong></span>
    <span class="strong strong"><strong>--generate-ssh-keys --image <span class="emphasis"><em>&lt;path-to-image&gt;</em></span></strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The option <code class="literal">--generate-ssh-keys</code> creates a private/public key pair. Private and public key files are created in <code class="literal">~/.ssh</code> on your system. The public key is added to the <code class="literal">authorized_keys</code> file on the VM for the user specified by the <code class="literal">--admin-username</code> option. See <a class="link" href="#other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure" title="3.9. Other authentication methods">Other authentication methods</a> for additional information.
						</p></div></rh-alert><p class="simpara">
						Example:
					</p><pre class="screen white-space-pre white-space-pre">[clouduser@localhost]$ <span class="strong strong"><strong>az vm create \</strong></span>
<span class="strong strong"><strong>-g azrhelclirsgrp2 -l southcentralus -n rhel-azure-vm-1 \</strong></span>
<span class="strong strong"><strong>--vnet-name azrhelclivnet1 --subnet azrhelclisubnet1 --size Standard_A2 \</strong></span>
<span class="strong strong"><strong>--os-disk-name vm-1-osdisk --admin-username clouduser \</strong></span>
<span class="strong strong"><strong>--generate-ssh-keys --image rhel9</strong></span>

{
  "fqdns": "",
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Compute/virtualMachines/rhel-azure-vm-1",
  "location": "southcentralus",
  "macAddress": "",
  "powerState": "VM running",
  "privateIpAddress": "10.0.0.4",
  "publicIpAddress": "<span class="emphasis"><em>&lt;public-IP-address&gt;</em></span>",
  "resourceGroup": "azrhelclirsgrp2"</pre><p class="simpara">
						Note the <code class="literal">publicIpAddress</code>. You need this address to log in to the VM in the following step.
					</p></li><li class="listitem"><p class="simpara">
						Start an SSH session and log in to the VM.
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>ssh -i /home/clouduser/.ssh/id_rsa clouduser@<span class="emphasis"><em>&lt;public-IP-address&gt;</em></span>.</strong></span>
The authenticity of host ',<span class="emphasis"><em>&lt;public-IP-address&gt;</em></span>' can't be established.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '<span class="emphasis"><em>&lt;public-IP-address&gt;</em></span>' (ECDSA) to the list of known hosts.

[clouduser@rhel-azure-vm-1 ~]$</pre></li></ol></div><p>
				If you see a user prompt, you have successfully deployed your Azure VM.
			</p><p>
				You can now go to the Microsoft Azure portal and check the audit logs and properties of your resources. You can manage your VMs directly in this portal. If you are managing multiple VMs, you should use the Azure CLI. The Azure CLI provides a powerful interface to your resources in Azure. Enter <code class="literal">az --help</code> in the CLI or see the <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest">Azure CLI command reference</a> to learn more about the commands you use to manage your VMs in Microsoft Azure.
			</p></section><section class="section" id="other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.9. Other authentication methods</h3></div></div></div><p>
				While recommended for increased security, using the Azure-generated key pair is not required. The following examples show two methods for SSH authentication.
			</p><p>
				<span class="strong strong"><strong>Example 1:</strong></span> These command options provision a new VM without generating a public key file. They allow SSH authentication by using a password.
			</p><pre class="screen">$ <span class="strong strong"><strong>az vm create \</strong></span>
    <span class="strong strong"><strong>-g &lt;resource-group&gt; -l &lt;azure-region&gt; -n &lt;vm-name&gt; \</strong></span>
    <span class="strong strong"><strong>--vnet-name &lt;vnet-name&gt; --subnet &lt;subnet-name&gt; --size Standard_A2 \</strong></span>
    <span class="strong strong"><strong>--os-disk-name &lt;simple-name&gt; --authentication-type password \</strong></span>
    <span class="strong strong"><strong>--admin-username &lt;administrator-name&gt; --admin-password &lt;ssh-password&gt; --image &lt;path-to-image&gt;</strong></span></pre><pre class="screen">$ ssh <span class="emphasis"><em>&lt;admin-username&gt;</em></span>@<span class="emphasis"><em>&lt;public-ip-address&gt;</em></span></pre><p>
				<span class="strong strong"><strong>Example 2:</strong></span> These command options provision a new Azure VM and allow SSH authentication by using an existing public key file.
			</p><pre class="screen">$ <span class="strong strong"><strong>az vm create \</strong></span>
    <span class="strong strong"><strong>-g &lt;resource-group&gt; -l <span class="emphasis"><em>&lt;azure-region&gt;</em></span> -n <span class="emphasis"><em>&lt;vm-name&gt;</em></span> \</strong></span>
    <span class="strong strong"><strong>--vnet-name <span class="emphasis"><em>&lt;vnet-name&gt;</em></span> --subnet <span class="emphasis"><em>&lt;subnet-name&gt;</em></span> --size Standard_A2 \</strong></span>
    <span class="strong strong"><strong>--os-disk-name <span class="emphasis"><em>&lt;simple-name&gt;</em></span> --admin-username <span class="emphasis"><em>&lt;administrator-name&gt;</em></span> \</strong></span>
    <span class="strong strong"><strong>--ssh-key-value <span class="emphasis"><em>&lt;path-to-existing-ssh-key&gt;</em></span> --image &lt;path-to-image&gt;</strong></span></pre><pre class="screen">$ <span class="strong strong"><strong>ssh -i <span class="emphasis"><em>&lt;path-to-existing-ssh-key&gt;</em></span> <span class="emphasis"><em>&lt;admin-username&gt;</em></span>@<span class="emphasis"><em>&lt;public-ip-address&gt;</em></span></strong></span></pre></section><section class="section" id="attaching-subscriptions_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.10. Attaching Red Hat subscriptions</h3></div></div></div><p>
				Using the <code class="literal">subscription-manager</code> command, you can register and attach your Red Hat subscription to a RHEL instance.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have enabled your subscriptions.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Register your system.
					</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager register --auto-attach</strong></span></pre></li><li class="listitem"><p class="simpara">
						Attach your subscriptions.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								You can use an activation key to attach subscriptions. See <a class="link" href="https://access.redhat.com/articles/1378093">Creating Red Hat Customer Portal Activation Keys</a> for more information.
							</li><li class="listitem">
								Alternatively, you can manually attach a subscription by using the ID of the subscription pool (Pool ID). See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/quick_registration_for_rhel/sub-cli">Attaching and Removing Subscriptions Through the Command Line</a>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Optional:</strong></span> To collect various system metrics about the instance in the <a class="link" href="console.redhat.com">Red Hat Hybrid Cloud Console</a>, you can register the instance with <a class="link" href="https://www.redhat.com/en/technologies/management/insights">Red Hat Insights</a>.
					</p><pre class="screen"># <span class="strong strong"><strong>insights-client register --display-name <span class="emphasis"><em>&lt;display-name-value&gt;</em></span></strong></span></pre><p class="simpara">
						For information on further configuration of Red Hat Insights, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/client_configuration_guide_for_red_hat_insights/index">Client Configuration Guide for Red Hat Insights</a>.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/1378093">Creating Red Hat Customer Portal Activation Keys</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/quick_registration_for_rhel/sub-cli">Attaching and Removing Subscriptions Through the Command Line</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/rhsm/index">Using and Configuring Red Hat Subscription Manager</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/client_configuration_guide_for_red_hat_insights/index">Client Configuration Guide for Red Hat Insights</a>
					</li></ul></div></section><section class="section" id="proc_setting-up-automatic-registration-on-azure-gold-images_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.11. Setting up automatic registration on Azure Gold Images</h3></div></div></div><p class="_abstract _abstract">
				To make deploying RHEL 9 virtual machines (VM) on Micorsoft Azure faster and more comfortable, you can set up Gold Images of RHEL 9 to be automatically registered to the Red Hat Subscription Manager (RHSM).
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						RHEL 9 Gold Images are available to you in Microsoft Azure. For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access#using-gold-images-on-azure_cloud-access">Using Gold Images on Azure</a>.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							A Microsoft Azure account can only be attached to a single Red Hat account at a time. Therefore, ensure no other users require access to the Azure account before attaching it to your Red Hat one.
						</p></div></rh-alert></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Use the Gold Image to create a RHEL 9 VM in your Azure instance. For instructions, see <a class="link" href="#create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure" title="3.8. Creating and starting the VM in Azure">Creating and starting the VM in Azure</a>.
					</li><li class="listitem">
						Start the created VM.
					</li><li class="listitem"><p class="simpara">
						In the RHEL 9 VM, enable automatic registration.
					</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager config --rhsmcertd.auto_registration=1</strong></span></pre></li><li class="listitem"><p class="simpara">
						Enable the <code class="literal">rhsmcertd</code> service.
					</p><pre class="screen"># <span class="strong strong"><strong>systemctl enable rhsmcertd.service</strong></span></pre></li><li class="listitem"><p class="simpara">
						Disable the <code class="literal">redhat.repo</code> repository.
					</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager config --rhsm.manage_repos=0</strong></span></pre></li><li class="listitem">
						Power off the VM, and save it as a managed image on Azure. For instructions, see <a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/capture-image">How to create a managed image of a virtual machine or VHD</a>.
					</li><li class="listitem">
						Create VMs by using the managed image. They will be automatically subscribed to RHSM.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						In a RHEL 9 VM created using the above instructions, verify the system is registered to RHSM by executing the <code class="literal">subscription-manager identity</code> command. On a successfully registered system, this displays the UUID of the system. For example:
					</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager identity</strong></span>
system identity: fdc46662-c536-43fb-a18a-bbcb283102b7
name: 192.168.122.222
org name: 6340056
org ID: 6340056</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/redhat/byos">Red Hat Gold Images in Azure</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/redhat/redhat-images">Overview of RHEL images in Azure</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_cloud_platform/2021/html/configuring_sources_for_red_hat_services/configuring-sources-for-redhat-services_crc-sources#adding-cloud-sources_">Configuring cloud sources for Red Hat services</a>
					</li></ul></div></section><section class="section" id="configuring-kdump-for-microsoft-azure-instances_deploying-a-virtual-machine-on-microsoft-azure"><div class="titlepage"><div><div><h3 class="title">3.12. Configuring kdump for Microsoft Azure instances</h3></div></div></div><p>
				If a kernel crash occurs in a RHEL instance, you can use the <code class="literal">kdump</code> service to determine the cause of the crash. If <code class="literal">kdump</code> is configured correctly when your instance kernel terminates unexpectedly, <code class="literal">kdump</code> generates a dump file, known as crash dump or a <code class="literal">vmcore</code> file. You can then analyze the file to find why the crash occurred and to debug your system.
			</p><p>
				For <code class="literal">kdump</code> to work on Microsoft Azure instances, you might need to adjust the <code class="literal">kdump</code> reserved memory and the <code class="literal">vmcore</code> target to fit VM sizes and RHEL versions.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You are using a Microsoft Azure environment that supports <code class="literal">kdump</code>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Standard_DS2_v2 VM
							</li><li class="listitem">
								Standard NV16as v4
							</li><li class="listitem">
								Standard M416-208s v2
							</li><li class="listitem">
								Standard M416ms v2
							</li></ul></div></li><li class="listitem">
						You have <code class="literal">root</code> permissions on the system.
					</li><li class="listitem">
						Your system meets the requirements for <code class="literal">kdump</code> configurations and targets. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#supported-kdump-configurations-and-targets_managing-monitoring-and-updating-the-kernel">Supported kdump configurations and targets</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Ensure that <code class="literal">kdump</code> and other necessary packages are installed on your system.
					</p><pre class="screen"># <span class="strong strong"><strong>dnf install kexec-tools</strong></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the default location for crash dump files is set in the <code class="literal">kdump</code> configuration file and that the <code class="literal">/var/crash</code> file is available.
					</p><pre class="screen"># <span class="strong strong"><strong>grep -v "#" /etc/kdump.conf</strong></span>

path /var/crash
core_collector makedumpfile -l --message-level 7 -d 31</pre></li><li class="listitem"><p class="simpara">
						Based on the size and version of your RHEL virtual machine (VM) instance, decide whether you need a <code class="literal">vmcore</code> target with more free space, such as <code class="literal">/mnt/crash</code>. To do so, use the following table.
					</p><rh-table id="idm140444516697648"><table class="gt-4-cols lt-7-rows"><caption>Table 3.4. Virtual machine sizes that have been tested with GEN2 VM on Azure</caption><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 20%; " class="col_2"><!--Empty--><col style="width: 20%; " class="col_3"><!--Empty--><col style="width: 20%; " class="col_4"><!--Empty--><col style="width: 20%; " class="col_5"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140444516689584" scope="col">RHEL Version</th><th align="left" valign="top" id="idm140444516688496" scope="col">Standard DS1 v2 (1 vCPU, 3.5GiB)</th><th align="left" valign="top" id="idm140444516687392" scope="col">Standard NV16as v4 (16 vCPUs, 56 GiB)</th><th align="left" valign="top" id="idm140444516686288" scope="col">Standard M416-208s v2 (208 vCPUs, 5700 GiB)</th><th align="left" valign="top" id="idm140444516685232" scope="col">Standard M416ms v2 (416 vCPUs, 11400 GiB)</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140444516689584"> <p>
										RHEL 9.0 - RHEL 9.3
									</p>
									 </td><td align="left" valign="top" headers="idm140444516688496"> <p>
										Default
									</p>
									 </td><td align="left" valign="top" headers="idm140444516687392"> <p>
										Default
									</p>
									 </td><td align="left" valign="top" headers="idm140444516686288"> <p>
										Target
									</p>
									 </td><td align="left" valign="top" headers="idm140444516685232"> <p>
										Target
									</p>
									 </td></tr></tbody></table></rh-table><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Default</strong></span> indicates that <code class="literal">kdump</code> works as expected with the default memory and the default <code class="literal">kdump</code> target. The default <code class="literal">kdump</code> target is <code class="literal">/var/crash</code>.
							</li><li class="listitem">
								<span class="strong strong"><strong>Target</strong></span> indicates that <code class="literal">kdump</code> works as expected with the default memory. However, you might need to assign a target with more free space.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						If your instance requires it, assign a target with more free space, such as <code class="literal">/mnt/crash</code>. To do so, edit the <code class="literal">/etc/kdump.conf</code> file and replace the default path.
					</p><pre class="screen">$ <span class="strong strong"><strong>sed s/"path /var/crash"/"path /mnt/crash"</strong></span></pre><p class="simpara">
						The option path <code class="literal">/mnt/crash</code> represents the path to the file system in which <code class="literal">kdump</code> saves the crash dump file.
					</p><p class="simpara">
						For more options, such as writing the crash dump file to a different partition, directly to a device or storing it to a remote machine, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#configuring-the-kdump-target_configuring-kdump-on-the-command-line">Configuring the kdump target</a>.
					</p></li><li class="listitem"><p class="simpara">
						If your instance requires it, increase the crash kernel size to the sufficient size for <code class="literal">kdump</code> to capture the <code class="literal">vmcore</code> by adding the respective boot parameter.
					</p><p class="simpara">
						For example, for a Standard M416-208s v2 VM, the sufficient size is 512 MB, so the boot parameter would be <code class="literal">crashkernel=512M</code>.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Open the GRUB configuration file and add <code class="literal">crashkernel=512M</code> to the boot parameter line.
							</p><pre class="screen"># <span class="strong strong"><strong>vi /etc/default/grub</strong></span>

GRUB_CMDLINE_LINUX="console=tty1 console=ttyS0 earlyprintk=ttyS0 rootdelay=300 crashkernel=512M"</pre></li><li class="listitem"><p class="simpara">
								Update the GRUB configuration file.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										In RHEL 9.2 and earlier:
									</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg</strong></span></pre></li><li class="listitem"><p class="simpara">
										In RHEL 9.3 and later:
									</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg --update-bls-cmdline</strong></span></pre></li></ul></div></li></ol></div></li><li class="listitem">
						Reboot the VM to allocate separate kernel crash memory to the VM.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Ensure that <code class="literal">kdump</code> is active and running.
					</p><pre class="screen"># <span class="strong strong"><strong>systemctl status kdump</strong></span>
● kdump.service - Crash recovery kernel arming
   Loaded: loaded (/usr/lib/systemd/system/kdump.service; enabled; vendor prese&gt;
   Active: active (exited) since Fri 2024-02-09 10:50:18 CET; 1h 20min ago
  Process: 1252 ExecStart=/usr/bin/kdumpctl start (code=exited, status=0/SUCCES&gt;
 Main PID: 1252 (code=exited, status=0/SUCCESS)
    Tasks: 0 (limit: 16975)
   Memory: 512B
   CGroup: /system.slice/kdump.service</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#installing-kdump_managing-monitoring-and-updating-the-kernel">Installing kdump</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6038#dumptargets">How to troubleshoot kernel crashes, hangs, or reboots with kdump on Red Hat Enterprise Linux</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#memory-requirements-for-kdump_supported-kdump-configurations-and-targets">Memory requirements for kdump</a>
					</li></ul></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">3.13. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/red_hat_cloud_access_reference_guide/index">Red Hat Cloud Access Reference Guide</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/2758981">Frequently Asked Questions and Recommended Practices for Microsoft Azure</a>
					</li></ul></div></section></section><section class="chapter" id="configuring-rhel-high-availability-on-azure_cloud-content-azure"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Configuring a Red Hat High Availability cluster on Microsoft Azure</h2></div></div></div><p>
			To create a cluster where RHEL nodes automatically redistribute their workloads if a node failure occurs, use the Red Hat High Availability Add-On. Such high availability (HA) clusters can also be hosted on public cloud platforms, including Microsoft Azure. Creating RHEL HA clusters on Azure is similar to creating HA clusters in non-cloud environments, with certain specifics.
		</p><p>
			To configure a Red Hat HA cluster on Azure using Azure virtual machine (VM) instances as cluster nodes, see the following sections. The procedures in these sections assume that you are creating a custom image for Azure. You have a number of options for obtaining the RHEL 9 images you use for your cluster. See <a class="link" href="#azure-image-options_deploying-a-virtual-machine-on-microsoft-azure" title="3.1. Red Hat Enterprise Linux image options on Azure">Red Hat Enterprise Linux Image Options on Azure</a> for information on image options for Azure.
		</p><p>
			The following sections provide:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Prerequisite procedures for setting up your environment for Azure. After you set up your environment, you can create and configure Azure VM instances.
				</li><li class="listitem">
					Procedures specific to the creation of HA clusters, which transform individual nodes into a cluster of HA nodes on Azure. These include procedures for installing the High Availability packages and agents on each cluster node, configuring fencing, and installing Azure network resource agents.
				</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					Sign up for a <a class="link" href="https://access.redhat.com/">Red Hat Customer Portal account</a>.
				</li><li class="listitem">
					Sign up for a <a class="link" href="https://azure.microsoft.com/en-us/">Microsoft Azure account</a> with administrator privileges.
				</li><li class="listitem">
					You need to install Azure command line interface (CLI). For more information, see <a class="link" href="#install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure" title="3.5. Installing the Azure CLI">Installing the Azure CLI</a>.
				</li></ul></div><section class="section" id="the-benefits-of-using-high-availability-clusters-on-public-cloud-platforms_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.1. The benefits of using high-availability clusters on public cloud platforms</h3></div></div></div><p>
				A high-availability (HA) cluster is a set of computers (called <span class="emphasis"><em>nodes</em></span>) that are linked together to run a specific workload. The purpose of HA clusters is to provide redundancy in case of a hardware or software failure. If a node in the HA cluster fails, the Pacemaker cluster resource manager distributes the workload to other nodes and no noticeable downtime occurs in the services that are running on the cluster.
			</p><p>
				You can also run HA clusters on public cloud platforms. In this case, you would use virtual machine (VM) instances in the cloud as the individual cluster nodes. Using HA clusters on a public cloud platform has the following benefits:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Improved availability: In case of a VM failure, the workload is quickly redistributed to other nodes, so running services are not disrupted.
					</li><li class="listitem">
						Scalability: Additional nodes can be started when demand is high and stopped when demand is low.
					</li><li class="listitem">
						Cost-effectiveness: With the pay-as-you-go pricing, you pay only for nodes that are running.
					</li><li class="listitem">
						Simplified management: Some public cloud platforms offer management interfaces to make configuring HA clusters easier.
					</li></ul></div><p>
				To enable HA on your Red Hat Enterprise Linux (RHEL) systems, Red Hat offers a High Availability Add-On. The High Availability Add-On provides all necessary components for creating HA clusters on RHEL systems. The components include high availability service management and cluster administration tools.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_high_availability_clusters/assembly_overview-of-high-availability-configuring-and-managing-high-availability-clusters">High Availability Add-On overview</a>
					</li></ul></div></section><section class="section" id="create-azure-resources-for-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.2. Creating resources in Azure</h3></div></div></div><p>
				Complete the following procedure to create a region, resource group, storage account, virtual network, and availability set. You need these resources to set up a cluster on Microsoft Azure.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Authenticate your system with Azure and log in.
					</p><pre class="screen">$ <span class="strong strong"><strong>az login</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If a browser is available in your environment, the CLI opens your browser to the Azure sign-in page.
						</p></div></rh-alert><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az login</strong></span>

To sign in, use a web browser to open the page https://aka.ms/devicelogin and enter the code FDMSCMETZ to authenticate.
  [
    {
      "cloudName": "AzureCloud",
      "id": "<span class="emphasis"><em>Subscription ID</em></span>",
      "isDefault": true,
      "name": "<span class="emphasis"><em>MySubscriptionName</em></span>",
      "state": "Enabled",
      "tenantId": "<span class="emphasis"><em>Tenant ID</em></span>",
      "user": {
        "name": "<span class="emphasis"><em>clouduser@company.com</em></span>",
        "type": "user"
      }
    }
  ]</pre></li><li class="listitem"><p class="simpara">
						Create a resource group in an Azure region.
					</p><pre class="screen">$ <span class="strong strong"><strong>az group create --name <span class="emphasis"><em>resource-group</em></span> --location <span class="emphasis"><em>azure-region</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az group create --name <span class="emphasis"><em>azrhelclirsgrp</em></span> --location <span class="emphasis"><em>southcentralus</em></span></strong></span>

{
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp",
  "location": "southcentralus",
  "managedBy": null,
  "name": "azrhelclirsgrp",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": null
}</pre></li><li class="listitem"><p class="simpara">
						Create a storage account.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage account create -l <span class="emphasis"><em>azure-region</em></span> -n <span class="emphasis"><em>storage-account-name</em></span> -g <span class="emphasis"><em>resource-group</em></span> --sku <span class="emphasis"><em>sku_type</em></span> --kind StorageV2</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage account create -l southcentralus -n azrhelclistact -g azrhelclirsgrp --sku Standard_LRS --kind StorageV2</strong></span>

{
  "accessTier": null,
  "creationTime": "2017-04-05T19:10:29.855470+00:00",
  "customDomain": null,
  "encryption": null,
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Storage/storageAccounts/azrhelclistact",
  "kind": "StorageV2",
  "lastGeoFailoverTime": null,
  "location": "southcentralus",
  "name": "azrhelclistact",
  "primaryEndpoints": {
    "blob": "https://azrhelclistact.blob.core.windows.net/",
    "file": "https://azrhelclistact.file.core.windows.net/",
    "queue": "https://azrhelclistact.queue.core.windows.net/",
    "table": "https://azrhelclistact.table.core.windows.net/"
},
"primaryLocation": "southcentralus",
"provisioningState": "Succeeded",
"resourceGroup": "azrhelclirsgrp",
"secondaryEndpoints": null,
"secondaryLocation": null,
"sku": {
  "name": "Standard_LRS",
  "tier": "Standard"
},
"statusOfPrimary": "available",
"statusOfSecondary": null,
"tags": {},
  "type": "Microsoft.Storage/storageAccounts"
}</pre></li><li class="listitem"><p class="simpara">
						Get the storage account connection string.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage account show-connection-string -n <span class="emphasis"><em>storage-account-name</em></span> -g <span class="emphasis"><em>resource-group</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage account show-connection-string -n azrhelclistact -g azrhelclirsgrp</strong></span>
{
  "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="
}</pre></li><li class="listitem"><p class="simpara">
						Export the connection string by copying the connection string and pasting it into the following command. This string connects your system to the storage account.
					</p><pre class="screen">$ <span class="strong strong"><strong>export AZURE_STORAGE_CONNECTION_STRING="<span class="emphasis"><em>storage-connection-string</em></span>"</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>export AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...=="</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create the storage container.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage container create -n <span class="emphasis"><em>container-name</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen white-space-pre white-space-pre">[clouduser@localhost]$ <span class="strong strong"><strong>az storage container create -n azrhelclistcont</strong></span>

{
  "created": true
}</pre></li><li class="listitem"><p class="simpara">
						Create a virtual network. All cluster nodes must be in the same virtual network.
					</p><pre class="screen">$ <span class="strong strong"><strong>az network vnet create -g <span class="emphasis"><em>resource group</em></span> --name <span class="emphasis"><em>vnet-name</em></span> --subnet-name <span class="emphasis"><em>subnet-name</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az network vnet create --resource-group azrhelclirsgrp --name azrhelclivnet1 --subnet-name azrhelclisubnet1</strong></span>
{
  "newVNet": {
    "addressSpace": {
      "addressPrefixes": [
      "10.0.0.0/16"
      ]
  },
  "dhcpOptions": {
    "dnsServers": []
  },
  "etag": "W/\"\"",
  "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1",
  "location": "southcentralus",
  "name": "azrhelclivnet1",
  "provisioningState": "Succeeded",
  "resourceGroup": "azrhelclirsgrp",
  "resourceGuid": "0f25efee-e2a6-4abe-a4e9-817061ee1e79",
  "subnets": [
    {
      "addressPrefix": "10.0.0.0/24",
      "etag": "W/\"\"",
      "id": "/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1/subnets/azrhelclisubnet1",
      "ipConfigurations": null,
      "name": "azrhelclisubnet1",
      "networkSecurityGroup": null,
      "provisioningState": "Succeeded",
      "resourceGroup": "azrhelclirsgrp",
      "resourceNavigationLinks": null,
      "routeTable": null
    }
  ],
  "tags": {},
  "type": "Microsoft.Network/virtualNetworks",
  "virtualNetworkPeerings": null
  }
}</pre></li><li class="listitem"><p class="simpara">
						Create an availability set. All cluster nodes must be in the same availability set.
					</p><pre class="screen">$ <span class="strong strong"><strong>az vm availability-set create --name <span class="emphasis"><em>MyAvailabilitySet</em></span> --resource-group <span class="emphasis"><em>MyResourceGroup</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az vm availability-set create --name rhelha-avset1 --resource-group azrhelclirsgrp</strong></span>
{
  "additionalProperties": {},
    "id": "/subscriptions/.../resourceGroups/azrhelclirsgrp/providers/Microsoft.Compute/availabilitySets/rhelha-avset1",
    "location": "southcentralus",
    "name": “rhelha-avset1",
    "platformFaultDomainCount": 2,
    "platformUpdateDomainCount": 5,

[omitted]</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli?view=azure-cli-latest">Sign in with Azure CLI</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/rest/api/storagerp/srp_sku_types">SKU Types</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/managed-disks-overview">Azure Managed Disks Overview</a>
					</li></ul></div></section><section class="section" id="required-system-packages-for-azure-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.3. Required system packages for High Availability</h3></div></div></div><p>
				The procedure assumes you are creating a VM image for Azure HA that uses Red Hat Enterprise Linux. To successfully complete the procedure, the following packages must be installed.
			</p><rh-table id="idm140444515361824"><table class="lt-4-cols lt-7-rows"><caption>Table 4.1. System packages</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140444515356064" scope="col">Package</th><th align="left" valign="top" id="idm140444515354976" scope="col">Repository</th><th align="left" valign="top" id="idm140444515353888" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140444515356064"> <p>
								libvirt
							</p>
							 </td><td align="left" valign="top" headers="idm140444515354976"> <p>
								rhel-9-for-x86_64-appstream-rpms
							</p>
							 </td><td align="left" valign="top" headers="idm140444515353888"> <p>
								Open source API, daemon, and management tool for managing platform virtualization
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444515356064"> <p>
								virt-install
							</p>
							 </td><td align="left" valign="top" headers="idm140444515354976"> <p>
								rhel-9-for-x86_64-appstream-rpms
							</p>
							 </td><td align="left" valign="top" headers="idm140444515353888"> <p>
								A command-line utility for building VMs
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444515356064"> <p>
								libguestfs
							</p>
							 </td><td align="left" valign="top" headers="idm140444515354976"> <p>
								rhel-9-for-x86_64-appstream-rpms
							</p>
							 </td><td align="left" valign="top" headers="idm140444515353888"> <p>
								A library for accessing and modifying VM file systems
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444515356064"> <p>
								guestfs-tools
							</p>
							 </td><td align="left" valign="top" headers="idm140444515354976"> <p>
								rhel-9-for-x86_64-appstream-rpms
							</p>
							 </td><td align="left" valign="top" headers="idm140444515353888"> <p>
								System administration tools for VMs; includes the <code class="literal">virt-customize</code> utility
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="azure-vm-configuration-settings_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.4. Azure VM configuration settings</h3></div></div></div><p>
				Azure VMs must have the following configuration settings. Some of these settings are enabled during the initial VM creation. Other settings are set when provisioning the VM image for Azure. Keep these settings in mind as you move through the procedures. Refer to them as necessary.
			</p><rh-table id="idm140444514584304"><table class="lt-4-cols lt-7-rows"><caption>Table 4.2. VM configuration settings</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140444517685632" scope="col">Setting</th><th align="left" valign="top" id="idm140444517684544" scope="col">Recommendation</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140444517685632"> <p>
								ssh
							</p>
							 </td><td align="left" valign="top" headers="idm140444517684544"> <p>
								ssh must be enabled to provide remote access to your Azure VMs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444517685632"> <p>
								dhcp
							</p>
							 </td><td align="left" valign="top" headers="idm140444517684544"> <p>
								The primary virtual adapter should be configured for dhcp (IPv4 only).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444517685632"> <p>
								Swap Space
							</p>
							 </td><td align="left" valign="top" headers="idm140444517684544"> <p>
								Do not create a dedicated swap file or swap partition. You can configure swap space with the Windows Azure Linux Agent (WALinuxAgent).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444517685632"> <p>
								NIC
							</p>
							 </td><td align="left" valign="top" headers="idm140444517684544"> <p>
								Choose <span class="strong strong"><strong>virtio</strong></span> for the primary virtual network adapter.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140444517685632"> <p>
								encryption
							</p>
							 </td><td align="left" valign="top" headers="idm140444517684544"> <p>
								For custom images, use Network Bound Disk Encryption (NBDE) for full disk encryption on Azure.
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="installing-hyperv-drivers_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.5. Installing Hyper-V device drivers</h3></div></div></div><p>
				Microsoft provides network and storage device drivers as part of their Linux Integration Services (LIS) for Hyper-V package. You may need to install Hyper-V device drivers on the VM image prior to provisioning it as an Azure virtual machine (VM). Use the <code class="literal command">lsinitrd | grep hv</code> command to verify that the drivers are installed.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enter the following <code class="literal command">grep</code> command to determine if the required Hyper-V device drivers are installed.
					</p><pre class="screen"># <span class="strong strong"><strong>lsinitrd | grep hv</strong></span></pre><p class="simpara">
						In the example below, all required drivers are installed.
					</p><pre class="screen"># <span class="strong strong"><strong>lsinitrd | grep hv</strong></span>
drwxr-xr-x   2 root     root            0 Aug 12 14:21 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv
-rw-r--r--   1 root     root        31272 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv/hv_vmbus.ko.xz
-rw-r--r--   1 root     root        25132 Aug 11 08:46 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/net/hyperv/hv_netvsc.ko.xz
-rw-r--r--   1 root     root         9796 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/scsi/hv_storvsc.ko.xz</pre><p class="simpara">
						If all the drivers are not installed, complete the remaining steps.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							An <code class="literal">hv_vmbus</code> driver may exist in the environment. Even if this driver is present, complete the following steps.
						</p></div></rh-alert></li><li class="listitem">
						Create a file named <code class="literal">hv.conf</code> in <code class="literal">/etc/dracut.conf.d</code>.
					</li><li class="listitem"><p class="simpara">
						Add the following driver parameters to the <code class="literal">hv.conf</code> file.
					</p><pre class="screen">add_drivers+=" hv_vmbus "
add_drivers+=" hv_netvsc "
add_drivers+=" hv_storvsc "
add_drivers+=" nvme "</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							Note the spaces before and after the quotes, for example, <code class="literal">add_drivers+=" hv_vmbus "</code>. This ensures that unique drivers are loaded in the event that other Hyper-V drivers already exist in the environment.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Regenerate the <code class="literal">initramfs</code> image.
					</p><pre class="screen"># <span class="strong strong"><strong>dracut -f -v --regenerate-all</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Reboot the machine.
					</li><li class="listitem">
						Run the <code class="literal command">lsinitrd | grep hv</code> command to verify that the drivers are installed.
					</li></ol></div></section><section class="section" id="making-configuration-changes_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.6. Making configuration changes required for a Microsoft Azure deployment</h3></div></div></div><p>
				Before you deploy your custom base image to Azure, you must perform additional configuration changes to ensure that the virtual machine (VM) can properly operate in Azure.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the VM.
					</li><li class="listitem"><p class="simpara">
						Register the VM, and enable the Red Hat Enterprise Linux 9 repository.
					</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager register --auto-attach</strong></span>
Installed Product Current Status:
Product Name: Red Hat Enterprise Linux for x86_64
Status: Subscribed</pre></li><li class="listitem"><p class="simpara">
						Ensure that the <code class="literal">cloud-init</code> and <code class="literal">hyperv-daemons</code> packages are installed.
					</p><pre class="screen"># <span class="strong strong"><strong>dnf install cloud-init hyperv-daemons -y</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create <code class="literal">cloud-init</code> configuration files that are needed for integration with Azure services:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								To enable logging to the Hyper-V Data Exchange Service (KVP), create the <code class="literal">/etc/cloud/cloud.cfg.d/10-azure-kvp.cfg</code> configuration file and add the following lines to that file.
							</p><pre class="screen">reporting:
    logging:
        type: log
    telemetry:
        type: hyperv</pre></li><li class="listitem"><p class="simpara">
								To add Azure as a datasource, create the <code class="literal">/etc/cloud/cloud.cfg.d/91-azure_datasource.cfg</code> configuration file, and add the following lines to that file.
							</p><pre class="screen">datasource_list: [ Azure ]
datasource:
    Azure:
        apply_network_config: False</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						To ensure that specific kernel modules are blocked from loading automatically, edit or create the <code class="literal">/etc/modprobe.d/blocklist.conf</code> file and add the following lines to that file.
					</p><pre class="screen">blacklist nouveau
blacklist lbm-nouveau
blacklist floppy
blacklist amdgpu
blacklist skx_edac
blacklist intel_cstate</pre></li><li class="listitem"><p class="simpara">
						Modify <code class="literal">udev</code> network device rules:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Remove the following persistent network device rules if present.
							</p><pre class="screen"># <span class="strong strong"><strong>rm -f /etc/udev/rules.d/70-persistent-net.rules</strong></span>
# <span class="strong strong"><strong>rm -f /etc/udev/rules.d/75-persistent-net-generator.rules</strong></span>
# <span class="strong strong"><strong>rm -f /etc/udev/rules.d/80-net-name-slot-rules</strong></span></pre></li><li class="listitem"><p class="simpara">
								To ensure that Accelerated Networking on Azure works as intended, create a new network device rule <code class="literal">/etc/udev/rules.d/68-azure-sriov-nm-unmanaged.rules</code> and add the following line to it.
							</p><pre class="screen">SUBSYSTEM=="net", DRIVERS=="hv_pci", ACTION=="add", ENV{NM_UNMANAGED}="1"</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Set the <code class="literal">sshd</code> service to start automatically.
					</p><pre class="screen"># <span class="strong strong"><strong>systemctl enable sshd</strong></span>
# <span class="strong strong"><strong>systemctl is-enabled sshd</strong></span></pre></li><li class="listitem"><p class="simpara">
						Modify kernel boot parameters:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Open the <code class="literal">/etc/default/grub</code> file, and ensure the <code class="literal">GRUB_TIMEOUT</code> line has the following value.
							</p><pre class="screen">GRUB_TIMEOUT=10</pre></li><li class="listitem"><p class="simpara">
								Remove the following options from the end of the <code class="literal">GRUB_CMDLINE_LINUX</code> line if present.
							</p><pre class="screen">rhgb quiet</pre></li><li class="listitem"><p class="simpara">
								Ensure the <code class="literal">/etc/default/grub</code> file contains the following lines with all the specified options.
							</p><pre class="screen">GRUB_CMDLINE_LINUX="loglevel=3 crashkernel=auto console=tty1 console=ttyS0 earlyprintk=ttyS0 rootdelay=300"
GRUB_TIMEOUT_STYLE=countdown
GRUB_TERMINAL="serial console"
GRUB_SERIAL_COMMAND="serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1"</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									If you do not plan to run your workloads on HDDs, add <code class="literal">elevator=none</code> to the end of the <code class="literal">GRUB_CMDLINE_LINUX</code> line.
								</p><p>
									This sets the I/O scheduler to <code class="literal">none</code>, which improves I/O performance when running workloads on SSDs.
								</p></div></rh-alert></li><li class="listitem"><p class="simpara">
								Regenerate the <code class="literal">grub.cfg</code> file.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										On a BIOS-based machine:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
												In RHEL 9.2 and earlier:
											</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg</strong></span></pre></li><li class="listitem"><p class="simpara">
												In RHEL 9.3 and later:
											</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg --update-bls-cmdline</strong></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
										On a UEFI-based machine:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
												In RHEL 9.2 and earlier:
											</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg</strong></span></pre></li><li class="listitem"><p class="simpara">
												In RHEL 9.3 and later:
											</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg --update-bls-cmdline</strong></span></pre><p class="simpara">
												If your system uses a non-default location for <code class="literal">grub.cfg</code>, adjust the command accordingly.
											</p></li></ul></div></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Configure the Windows Azure Linux Agent (<code class="literal">WALinuxAgent</code>):
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install and enable the <code class="literal">WALinuxAgent</code> package.
							</p><pre class="screen"># <span class="strong strong"><strong>dnf install WALinuxAgent -y</strong></span>
# <span class="strong strong"><strong>systemctl enable waagent</strong></span></pre></li><li class="listitem"><p class="simpara">
								To ensure that a swap partition is not used in provisioned VMs, edit the following lines in the <code class="literal">/etc/waagent.conf</code> file.
							</p><pre class="screen">Provisioning.DeleteRootPassword=y
ResourceDisk.Format=n
ResourceDisk.EnableSwap=n</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Prepare the VM for Azure provisioning:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Unregister the VM from Red Hat Subscription Manager.
							</p><pre class="screen"># <span class="strong strong"><strong>subscription-manager unregister</strong></span></pre></li><li class="listitem"><p class="simpara">
								Clean up the existing provisioning details.
							</p><pre class="screen"># <span class="strong strong"><strong>waagent -force -deprovision</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									This command generates warnings, which are expected because Azure handles the provisioning of VMs automatically.
								</p></div></rh-alert></li><li class="listitem"><p class="simpara">
								Clean the shell history and shut down the VM.
							</p><pre class="screen"># <span class="strong strong"><strong>export HISTSIZE=0</strong></span>
# <span class="strong strong"><strong>poweroff</strong></span></pre></li></ol></div></li></ol></div></section><section class="section" id="azure-create-an-azure-directory-application-in-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.7. Creating an Azure Active Directory application</h3></div></div></div><p>
				Complete the following procedure to create an Azure Active Directory (AD) application. The Azure AD application authorizes and automates access for HA operations for all nodes in the cluster.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <a class="link" href="#install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure" title="3.5. Installing the Azure CLI">Azure Command Line Interface (CLI)</a> is installed on your system.
					</li><li class="listitem">
						You are an Administrator or Owner for the Microsoft Azure subscription. You need this authorization to create an Azure AD application.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On any node in the HA cluster, log in to your Azure account.
					</p><pre class="screen">$ <span class="strong strong"><strong>az login</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">json</code> configuration file for a custom role for the Azure fence agent. Use the following configuration, but replace <span class="emphasis"><em>&lt;subscription-id&gt;</em></span> with your subscription IDs.
					</p><pre class="programlisting language-json">{
      "Name": "Linux Fence Agent Role",
      "description": "Allows to power-off and start virtual machines",
      "assignableScopes": [
              "/subscriptions/<span class="emphasis"><em>&lt;subscription-id&gt;</em></span>"
      ],
      "actions": [
              "Microsoft.Compute/*/read",
              "Microsoft.Compute/virtualMachines/powerOff/action",
              "Microsoft.Compute/virtualMachines/start/action"
      ],
      "notActions": [],
      "dataActions": [],
      "notDataActions": []
}</pre></li><li class="listitem"><p class="simpara">
						Define the custom role for the Azure fence agent. Use the <code class="literal">json</code> file created in the previous step to do this.
					</p><pre class="screen">$ <span class="strong strong"><strong>az role definition create --role-definition <span class="emphasis"><em>azure-fence-role.json</em></span></strong></span>

{
  "assignableScopes": [
    "/subscriptions/<span class="emphasis"><em>&lt;my-subscription-id&gt;</em></span>"
  ],
  "description": "Allows to power-off and start virtual machines",
  "id": "/subscriptions/<span class="emphasis"><em>&lt;my-subscription-id&gt;</em></span>/providers/Microsoft.Authorization/roleDefinitions/<span class="emphasis"><em>&lt;role-id&gt;</em></span>",
  "name": "<span class="emphasis"><em>&lt;role-id&gt;</em></span>",
  "permissions": [
    {
      "actions": [
        "Microsoft.Compute/*/read",
        "Microsoft.Compute/virtualMachines/powerOff/action",
        "Microsoft.Compute/virtualMachines/start/action"
      ],
      "dataActions": [],
      "notActions": [],
      "notDataActions": []
    }
  ],
  "roleName": "Linux Fence Agent Role",
  "roleType": "CustomRole",
  "type": "Microsoft.Authorization/roleDefinitions"
}</pre></li><li class="listitem">
						In the Azure web console interface, select <span class="strong strong"><strong>Virtual Machine</strong></span> → Click <span class="strong strong"><strong>Identity</strong></span> in the left-side menu.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>On</strong></span> → Click <span class="strong strong"><strong>Save</strong></span> → click <span class="strong strong"><strong>Yes</strong></span> to confirm.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Azure role assignments</strong></span> → <span class="strong strong"><strong>Add role assignment</strong></span>.
					</li><li class="listitem">
						Select the <span class="strong strong"><strong>Scope</strong></span> required for the role, for example <code class="literal">Resource Group</code>.
					</li><li class="listitem">
						Select the required <span class="strong strong"><strong>Resource Group</strong></span>.
					</li><li class="listitem">
						<span class="strong strong"><strong>Optional:</strong></span> Change the <span class="strong strong"><strong>Subscription</strong></span> if necessary.
					</li><li class="listitem">
						Select the <span class="strong strong"><strong>Linux Fence Agent Role</strong></span> role.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Display nodes visible to Azure AD.
					</p><pre class="screen"># <span class="strong strong"><strong>fence_azure_arm --msi -o list</strong></span>
node1,
node2,
[...]</pre><p class="simpara">
						If this command outputs all nodes on your cluster, the AD application has been configured successfully.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/role-based-access-control/check-access">View the access a user has to Azure resources</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/high-availability-guide-rhel-pacemaker#1-create-a-custom-role-for-the-fence-agent">Create a custom role for the fence agent</a>
					</li><li class="listitem">
						<a class="link" href="https://learn.microsoft.com/en-us/azure/role-based-access-control/role-assignments-cli">Assign Azure roles by using Azure CLI</a>
					</li></ul></div></section><section class="section" id="convert-the-image_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.8. Converting the image to a fixed VHD format</h3></div></div></div><p>
				All Microsoft Azure VM images must be in a fixed <code class="literal">VHD</code> format. The image must be aligned on a 1 MB boundary before it is converted to VHD. To convert the image from <code class="literal">qcow2</code> to a fixed <code class="literal">VHD</code> format and align the image, see the following procedure. Once you have converted the image, you can upload it to Azure.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Convert the image from <code class="literal">qcow2</code> to <code class="literal">raw</code> format.
					</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img convert -f qcow2 -O raw <span class="emphasis"><em>&lt;image-name&gt;</em></span>.qcow2 <span class="emphasis"><em>&lt;image-name&gt;</em></span>.raw</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a shell script with the following content.
					</p><pre class="screen">#!/bin/bash
MB=$((1024 * 1024))
size=$(qemu-img info -f raw --output json "$1" | gawk 'match($0, /"virtual-size": ([0-9]+),/, val) {print val[1]}')
rounded_size=$((($size/$MB + 1) * $MB))
if [ $(($size % $MB)) -eq  0 ]
then
 echo "Your image is already aligned. You do not need to resize."
 exit 1
fi
echo "rounded size = $rounded_size"
export rounded_size</pre></li><li class="listitem"><p class="simpara">
						Run the script. This example uses the name <code class="literal">align.sh</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>sh align.sh <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw</strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If the message <span class="emphasis"><em>"Your image is already aligned. You do not need to resize."</em></span> displays, proceed to the following step.
							</li><li class="listitem">
								If a value displays, your image is not aligned.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Use the following command to convert the file to a fixed <code class="literal">VHD</code> format.
					</p><p class="simpara">
						<span class="strong strong"><strong>The sample uses qemu-img version 2.12.0.</strong></span>
					</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw <span class="emphasis"><em>&lt;image.xxx&gt;</em></span>.vhd</strong></span></pre><p class="simpara">
						Once converted, the <code class="literal">VHD</code> file is ready to upload to Azure.
					</p></li><li class="listitem"><p class="simpara">
						If the <code class="literal">raw</code> image is not aligned, complete the following steps to align it.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Resize the <code class="literal">raw</code> file by using the rounded value displayed when you ran the verification script.
							</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img resize -f raw <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw <span class="emphasis"><em>&lt;rounded-value&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								Convert the <code class="literal">raw</code> image file to a <code class="literal">VHD</code> format.
							</p><p class="simpara">
								<span class="strong strong"><strong>The sample uses qemu-img version 2.12.0.</strong></span>
							</p><pre class="screen">$ <span class="strong strong"><strong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc <span class="emphasis"><em>&lt;image-xxx&gt;</em></span>.raw <span class="emphasis"><em>&lt;image.xxx&gt;</em></span>.vhd</strong></span></pre><p class="simpara">
								Once converted, the <code class="literal">VHD</code> file is ready to upload to Azure.
							</p></li></ol></div></li></ol></div></section><section class="section" id="upload-image-to-azure_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.9. Uploading and creating an Azure image</h3></div></div></div><p>
				Complete the following steps to upload the <code class="literal">VHD</code> file to your container and create an Azure custom image.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The exported storage connection string does not persist after a system reboot. If any of the commands in the following steps fail, export the connection string again.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Upload the <code class="literal">VHD</code> file to the storage container. It may take several minutes. To get a list of storage containers, enter the <code class="literal command">az storage container list</code> command.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage blob upload \</strong></span>
    <span class="strong strong"><strong>--account-name &lt;storage-account-name&gt; --container-name &lt;container-name&gt; \</strong></span>
    <span class="strong strong"><strong>--type page --file &lt;path-to-vhd&gt; --name &lt;image-name&gt;.vhd</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[clouduser@localhost]$ <span class="strong strong"><strong>az storage blob upload \</strong></span>
<span class="strong strong"><strong>--account-name azrhelclistact --container-name azrhelclistcont \</strong></span>
<span class="strong strong"><strong>--type page --file rhel-image-{ProductNumber}.vhd --name rhel-image-{ProductNumber}.vhd</strong></span>

Percent complete: %100.0</pre></li><li class="listitem"><p class="simpara">
						Get the URL for the uploaded <code class="literal">VHD</code> file to use in the following step.
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage blob url -c &lt;container-name&gt; -n &lt;image-name&gt;.vhd</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">$ <span class="strong strong"><strong>az storage blob url -c azrhelclistcont -n rhel-image-9.vhd "https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd"</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create the Azure custom image.
					</p><pre class="screen">$ <span class="strong strong"><strong>az image create -n &lt;image-name&gt; -g &lt;resource-group&gt; -l &lt;azure-region&gt; --source &lt;URL&gt; --os-type linux</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The default hypervisor generation of the VM is V1. You can optionally specify a V2 hypervisor generation by including the option <code class="literal">--hyper-v-generation V2</code>. Generation 2 VMs use a UEFI-based boot architecture. See <a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/generation-2">Support for generation 2 VMs on Azure</a> for information about generation 2 VMs.
						</p><p>
							The command may return the error "Only blobs formatted as VHDs can be imported." This error may mean that the image was not aligned to the nearest 1 MB boundary before it was converted to <code class="literal">VHD</code>.
						</p></div></rh-alert><p class="simpara">
						Example:
					</p><pre class="screen">$ <span class="strong strong"><strong>az image create -n rhel9 -g azrhelclirsgrp2 -l southcentralus --source https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd --os-type linux</strong></span></pre></li></ol></div></section><section class="section" id="azure-install-red-hat-ha-packages-and-agents_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.10. Installing Red Hat HA packages and agents</h3></div></div></div><p>
				Complete the following steps on all nodes.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Launch an SSH terminal session and connect to the VM by using the administrator name and public IP address.
					</p><pre class="literallayout white-space-pre">$ <span class="strong strong"><strong>ssh administrator@PublicIP</strong></span></pre><p class="simpara">
						To get the public IP address for an Azure VM, open the VM properties in the Azure Portal or enter the following Azure CLI command.
					</p><pre class="literallayout white-space-pre">$ <span class="strong strong"><strong>az vm list -g &lt;resource-group&gt; -d --output table</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="literallayout white-space-pre">[clouduser@localhost ~] $ <span class="strong strong"><strong>az vm list -g <span class="emphasis"><em>azrhelclirsgrp</em></span> -d --output table</strong></span>
Name    ResourceGroup           PowerState      PublicIps        Location
------  ----------------------  --------------  -------------    --------------
node01  azrhelclirsgrp          VM running      192.98.152.251    southcentralus</pre></li><li class="listitem"><p class="simpara">
						Register the VM with Red Hat.
					</p><pre class="literallayout white-space-pre">$ <span class="strong strong"><strong>sudo -i</strong></span>
# <span class="strong strong"><strong>subscription-manager register --auto-attach</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If the <code class="literal command">--auto-attach</code> command fails, manually register the VM to your subscription.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Disable all repositories.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>subscription-manager repos --disable=</strong></span>*</pre></li><li class="listitem"><p class="simpara">
						Enable the RHEL 9 Server HA repositories.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>subscription-manager repos --enable=rhel-9-for-x86_64-highavailability-rpms</strong></span></pre></li><li class="listitem"><p class="simpara">
						Update all packages.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>dnf update -y</strong></span></pre></li><li class="listitem"><p class="simpara">
						Install the Red Hat High Availability Add-On software packages, along with the Azure fencing agent from the High Availability channel.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>dnf install pcs pacemaker fence-agents-azure-arm</strong></span></pre></li><li class="listitem"><p class="simpara">
						The user <code class="literal">hacluster</code> was created during the pcs and pacemaker installation in the previous step. Create a password for <code class="literal">hacluster</code> on all cluster nodes. Use the same password for all nodes.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>passwd hacluster</strong></span></pre></li><li class="listitem"><p class="simpara">
						Add the <code class="literal">high availability</code> service to the RHEL Firewall if <code class="literal">firewalld.service</code> is installed.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=high-availability</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal">pcs</code> service and enable it to start on boot.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>systemctl start pcsd.service</strong></span>
# <span class="strong strong"><strong>systemctl enable pcsd.service</strong></span>

Created symlink from /etc/systemd/system/multi-user.target.wants/pcsd.service to /usr/lib/systemd/system/pcsd.service.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Ensure the <code class="literal">pcs</code> service is running.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>systemctl status pcsd.service</strong></span>
pcsd.service - PCS GUI and remote configuration interface
Loaded: loaded (/usr/lib/systemd/system/pcsd.service; enabled; vendor preset: disabled)
Active: active (running) since Fri 2018-02-23 11:00:58 EST; 1min 23s ago
Docs: man:pcsd(8)
          man:pcs(8)
Main PID: 46235 (pcsd)
  CGroup: /system.slice/pcsd.service
          └─46235 /usr/bin/ruby /usr/lib/pcsd/pcsd &gt; /dev/null &amp;</pre></li></ul></div></section><section class="section" id="azure-create-cluster-in-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.11. Creating a cluster</h3></div></div></div><p>
				Complete the following steps to create the cluster of nodes.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On one of the nodes, enter the following command to authenticate the pcs user <code class="literal">hacluster</code>. In the command, specify the name of each node in the cluster.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs host auth <span class="emphasis"><em>&lt;hostname1&gt;</em></span> <span class="emphasis"><em>&lt;hostname2&gt;</em></span> <span class="emphasis"><em>&lt;hostname3&gt;</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[root@node01 clouduser]# <span class="strong strong"><strong>pcs host auth node01 node02 node03</strong></span>
Username: hacluster
Password:
node01: Authorized
node02: Authorized
node03: Authorized</pre></li><li class="listitem"><p class="simpara">
						Create the cluster.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs cluster setup <span class="emphasis"><em>&lt;cluster_name&gt;</em></span> <span class="emphasis"><em>&lt;hostname1&gt;</em></span> <span class="emphasis"><em>&lt;hostname2&gt;</em></span> <span class="emphasis"><em>&lt;hostname3&gt;</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen">[root@node01 clouduser]# <span class="strong strong"><strong>pcs cluster setup new_cluster node01 node02 node03</strong></span>

[...]

Synchronizing pcsd certificates on nodes node01, node02, node03...
node02: Success
node03: Success
node01: Success
Restarting pcsd on the nodes in order to reload the certificates...
node02: Success
node03: Success
node01: Success</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enable the cluster.
					</p><pre class="screen">[root@node01 clouduser]# <span class="strong strong"><strong>pcs cluster enable --all</strong></span>
node02: Cluster Enabled
node03: Cluster Enabled
node01: Cluster Enabled</pre></li><li class="listitem"><p class="simpara">
						Start the cluster.
					</p><pre class="screen">[root@node01 clouduser]# <span class="strong strong"><strong>pcs cluster start --all</strong></span>
node02: Starting Cluster...
node03: Starting Cluster...
node01: Starting Cluster...</pre></li></ol></div></section><section class="section" id="azure-fencing-overview-in-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.12. Fencing overview</h3></div></div></div><p>
				If communication with a single node in the cluster fails, then other nodes in the cluster must be able to restrict or release access to resources that the failed cluster node may have access to. This cannot be accomplished by contacting the cluster node itself as the cluster node may not be responsive. Instead, you must provide an external method, which is called fencing with a fence agent.
			</p><p>
				A node that is unresponsive may still be accessing data. The only way to be certain that your data is safe is to fence the node by using STONITH. STONITH is an acronym for "Shoot The Other Node In The Head," and it protects your data from being corrupted by rogue nodes or concurrent access. Using STONITH, you can be certain that a node is truly offline before allowing the data to be accessed from another node.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/15575">Fencing in Red Hat High Availability Cluster</a>
					</li></ul></div></section><section class="section" id="azure-create-a-fencing-device-in-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.13. Creating a fencing device</h3></div></div></div><p>
				Complete the following steps to configure fencing. Complete these commands from any node in the cluster
			</p><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					You need to set the cluster property <code class="literal">stonith-enabled</code> to <code class="literal">true</code>.
				</p></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Identify the Azure node name for each RHEL VM. You use the Azure node names to configure the fence device.
					</p><pre class="screen white-space-pre white-space-pre"># <span class="strong strong"><strong>fence_azure_arm \</strong></span>
    <span class="strong strong"><strong>-l <span class="emphasis"><em>&lt;AD-Application-ID&gt;</em></span> -p <span class="emphasis"><em>&lt;AD-Password&gt;</em></span> \</strong></span>
    <span class="strong strong"><strong>--resourceGroup <span class="emphasis"><em>&lt;MyResourceGroup&gt;</em></span> --tenantId <span class="emphasis"><em>&lt;Tenant-ID&gt;</em></span> \</strong></span>
    <span class="strong strong"><strong>--subscriptionId <span class="emphasis"><em>&lt;Subscription-ID&gt;</em></span> -o list</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen white-space-pre white-space-pre">[root@node01 clouduser]# <span class="strong strong"><strong>fence_azure_arm \</strong></span>
<span class="strong strong"><strong>-l e04a6a49-9f00-xxxx-xxxx-a8bdda4af447 -p z/a05AwCN0IzAjVwXXXXXXXEWIoeVp0xg7QT//JE=</strong></span>
<span class="strong strong"><strong>--resourceGroup azrhelclirsgrp --tenantId 77ecefb6-cff0-XXXX-XXXX-757XXXX9485</strong></span>
<span class="strong strong"><strong>--subscriptionId XXXXXXXX-38b4-4527-XXXX-012d49dfc02c -o list</strong></span>

node01,
node02,
node03,</pre></li><li class="listitem"><p class="simpara">
						View the options for the Azure ARM STONITH agent.
					</p><pre class="literallayout"># <span class="strong strong"><strong>pcs stonith describe fence_azure_arm</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="literallayout"># <span class="strong strong"><strong>pcs stonith describe fence_apc</strong></span>
Stonith options:
password: Authentication key
password_script: Script to run to retrieve password</pre><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							For fence agents that provide a method option, do not specify a value of cycle as it is not supported and can cause data corruption.
						</p></div></rh-alert><p class="simpara">
						Some fence devices can fence only a single node, while other devices can fence multiple nodes. The parameters you specify when you create a fencing device depend on what your fencing device supports and requires.
					</p><p class="simpara">
						You can use the <code class="literal">pcmk_host_list</code> parameter when creating a fencing device to specify all of the machines that are controlled by that fencing device.
					</p><p class="simpara">
						You can use <code class="literal">pcmk_host_map</code> parameter when creating a fencing device to map host names to the specifications that comprehends the fence device.
					</p></li><li class="listitem"><p class="simpara">
						Create a fence device.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs stonith create <span class="emphasis"><em>clusterfence</em></span> fence_azure_arm</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Test the fencing agent for one of the other nodes.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs stonith fence <span class="emphasis"><em>azurenodename</em></span></strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen white-space-pre white-space-pre">[root@node01 clouduser]# <span class="strong strong"><strong>pcs status</strong></span>
Cluster name: newcluster
Stack: corosync
Current DC: node01 (version 1.1.18-11.el7-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb 23 11:44:35 2018
Last change: Fri Feb 23 11:21:01 2018 by root via cibadmin on node01

3 nodes configured
1 resource configured

Online: [ node01 node03 ]
OFFLINE: [ node02 ]

Full list of resources:

  clusterfence  (stonith:fence_azure_arm):  Started node01

Daemon Status:
  corosync: active/disabled
  pacemaker: active/disabled
  pcsd: active/enabled</pre></li><li class="listitem"><p class="simpara">
						Start the node that was fenced in the previous step.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs cluster start <span class="emphasis"><em>&lt;hostname&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Check the status to verify the node started.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs status</strong></span></pre><p class="simpara">
						Example:
					</p><pre class="screen white-space-pre white-space-pre">[root@node01 clouduser]# <span class="strong strong"><strong>pcs status</strong></span>
Cluster name: newcluster
Stack: corosync
Current DC: node01 (version 1.1.18-11.el7-2b07d5c5a9) - partition with quorum
Last updated: Fri Feb 23 11:34:59 2018
Last change: Fri Feb 23 11:21:01 2018 by root via cibadmin on node01

3 nodes configured
1 resource configured

Online: [ node01 node02 node03 ]

Full list of resources:

clusterfence    (stonith:fence_azure_arm):  Started node01

Daemon Status:
  corosync: active/disabled
  pacemaker: active/disabled
  pcsd: active/enabled</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/15575">Fencing in a Red Hat High Availability Cluster</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_high_availability_clusters/assembly_configuring-fencing-configuring-and-managing-high-availability-clusters#ref_general-fence-device-properties-configuring-fencing">General properties of fencing devices</a>
					</li></ul></div></section><section class="section" id="azure-create-internal-load-balancer-in-azure-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.14. Creating an Azure internal load balancer</h3></div></div></div><p>
				The Azure internal load balancer removes cluster nodes that do not answer health probe requests.
			</p><p>
				Perform the following procedure to create an Azure internal load balancer. Each step references a specific Microsoft procedure and includes the settings for customizing the load balancer for HA.
			</p><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					<a class="link" href="https://azure.microsoft.com/en-us/features/azure-portal/">Azure control panel</a>
				</p></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-basic-load-balancer">Create a Basic load balancer</a>. Select <span class="strong strong"><strong>Internal load balancer</strong></span>, the <span class="strong strong"><strong>Basic SKU</strong></span>, and <span class="strong strong"><strong>Dynamic</strong></span> for the type of IP address assignment.
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-back-end-address-pool">Create a back-end address pool</a>. Associate the backend pool to the availability set created while creating Azure resources in HA. Do not set any target network IP configurations.
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-health-probe">Create a health probe</a>. For the health probe, select <span class="strong strong"><strong>TCP</strong></span> and enter port <span class="strong strong"><strong>61000</strong></span>. You can use TCP port number that does not interfere with another service. For certain HA product applications (for example, SAP HANA and SQL Server), you may need to work with Microsoft to identify the correct port to use.
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-load-balancer-rule">Create a load balancer rule</a>. To create the load balancing rule, the default values are prepopulated. Ensure to set <span class="strong strong"><strong>Floating IP (direct server return)</strong></span> to <span class="strong strong"><strong>Enabled</strong></span>.
					</li></ol></div></section><section class="section" id="azure-configure-the-load-balancer-resource-agent-in-ha_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.15. Configuring the load balancer resource agent</h3></div></div></div><p>
				After you have created the health probe, you must configure the <code class="literal">load balancer</code> resource agent. This resource agent runs a service that answers health probe requests from the Azure load balancer and removes cluster nodes that do not answer requests.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nmap-ncat</code> resource agents on all nodes.
					</p><pre class="screen"># <span class="strong strong"><strong>dnf install nmap-ncat resource-agents-cloud</strong></span></pre><p class="simpara">
						Perform the following steps on a single node.
					</p></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">pcs</code> resources and group. Use your load balancer FrontendIP for the IPaddr2 address.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs resource create <span class="emphasis"><em>resource-name</em></span> IPaddr2 ip="10.0.0.7" --group <span class="emphasis"><em>cluster-resources-group</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Configure the <code class="literal">load balancer</code> resource agent.
					</p><pre class="screen"># <span class="strong strong"><strong>pcs resource create <span class="emphasis"><em>resource-loadbalancer-name</em></span> azure-lb port=<span class="emphasis"><em>port-number</em></span> --group <span class="emphasis"><em>cluster-resources-group</em></span></strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run <code class="literal">pcs status</code> to see the results.
					</p><pre class="screen">[root@node01 clouduser]# <span class="strong strong"><strong>pcs status</strong></span></pre><p class="simpara">
						Example output:
					</p><pre class="screen">Cluster name: clusterfence01
Stack: corosync
Current DC: node02 (version 1.1.16-12.el7_4.7-94ff4df) - partition with quorum
Last updated: Tue Jan 30 12:42:35 2018
Last change: Tue Jan 30 12:26:42 2018 by root via cibadmin on node01

3 nodes configured
3 resources configured

Online: [ node01 node02 node03 ]

Full list of resources:

clusterfence (stonith:fence_azure_arm):      Started node01
Resource Group: g_azure
    vip_azure  (ocf::heartbeat:IPaddr2):       Started node02
    lb_azure   (ocf::heartbeat:azure-lb):      Started node02

Daemon Status:
  corosync: active/disabled
  pacemaker: active/disabled
  pcsd: active/enabled</pre></li></ul></div></section><section class="section" id="azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure"><div class="titlepage"><div><div><h3 class="title">4.16. Configuring shared block storage</h3></div></div></div><p>
				To configure shared block storage for a Red Hat High Availability cluster with Microsoft Azure Shared Disks, use the following procedure. Note that this procedure is optional, and the steps below assume three Azure VMs (a three-node cluster) with a 1 TB shared disk.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					This is a stand-alone sample procedure for configuring block storage. The procedure assumes that you have not yet created your cluster.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have installed the Azure CLI on your host system and created your SSH key(s).
					</li><li class="listitem"><p class="simpara">
						You must have created your cluster environment in Azure, which includes creating the following resources. Links are to the Microsoft Azure documentation.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-network/quick-create-cli#create-a-resource-group-and-a-virtual-network">Resource group</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-network/quick-create-cli#create-a-resource-group-and-a-virtual-network">Virtual network</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group">Network security group(s)</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group#view-details-of-a-network-security-group">Network security group rules</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-manage-subnet">Subnet(s)</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/azure/load-balancer/quickstart-load-balancer-standard-public-portal?tabs=option-1-create-load-balancer-standard">Load balancer (optional)</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/storage/account?view=azure-cli-latest#az_storage_account_create">Storage account</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/ppg?view=azure-cli-latest#az_ppg_create">Proximity placement group</a>
							</li><li class="listitem">
								<a class="link" href="https://docs.microsoft.com/en-us/cli/azure/vm/availability-set?view=azure-cli-latest#az_vm_availability_set_create">Availability set</a>
							</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a shared block volume by using the Azure command <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/disk?view=azure-cli-latest#az_disk_create"><code class="literal">az disk create</code></a>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az disk create -g &lt;resource_group&gt; -n &lt;shared_block_volume_name&gt; --size-gb &lt;disk_size&gt; --max-shares &lt;number_vms&gt; -l</strong></span> &lt;location&gt;</pre><p class="simpara">
						For example, the following command creates a shared block volume named <code class="literal">shared-block-volume.vhd</code> in the resource group <code class="literal">sharedblock</code> within the Azure Availability Zone <code class="literal">westcentralus</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az disk create -g sharedblock-rg -n shared-block-volume.vhd --size-gb 1024 --max-shares 3 -l westcentralus</strong></span>

{
  "creationData": {
    "createOption": "Empty",
    "galleryImageReference": null,
    "imageReference": null,
    "sourceResourceId": null,
    "sourceUniqueId": null,
    "sourceUri": null,
    "storageAccountId": null,
    "uploadSizeBytes": null
  },
  "diskAccessId": null,
  "diskIopsReadOnly": null,
  "diskIopsReadWrite": 5000,
  "diskMbpsReadOnly": null,
  "diskMbpsReadWrite": 200,
  "diskSizeBytes": 1099511627776,
  "diskSizeGb": 1024,
  "diskState": "Unattached",
  "encryption": {
    "diskEncryptionSetId": null,
    "type": "EncryptionAtRestWithPlatformKey"
  },
  "encryptionSettingsCollection": null,
  "hyperVgeneration": "V1",
  "id": "/subscriptions/12345678910-12345678910/resourceGroups/sharedblock-rg/providers/Microsoft.Compute/disks/shared-block-volume.vhd",
  "location": "westcentralus",
  "managedBy": null,
  "managedByExtended": null,
  "maxShares": 3,
  "name": "shared-block-volume.vhd",
  "networkAccessPolicy": "AllowAll",
  "osType": null,
  "provisioningState": "Succeeded",
  "resourceGroup": "sharedblock-rg",
  "shareInfo": null,
  "sku": {
    "name": "Premium_LRS",
    "tier": "Premium"
  },
  "tags": {},
  "timeCreated": "2020-08-27T15:36:56.263382+00:00",
  "type": "Microsoft.Compute/disks",
  "uniqueId": "cd8b0a25-6fbe-4779-9312-8d9cbb89b6f2",
  "zones": null
}</pre></li><li class="listitem"><p class="simpara">
						Verify that you have created the shared block volume by using the Azure command <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/disk?view=azure-cli-latest#az_disk_show"><code class="literal">az disk show</code></a>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az disk show -g &lt;resource_group&gt; -n &lt;shared_block_volume_name&gt;</strong></span></pre><p class="simpara">
						For example, the following command shows details for the shared block volume <code class="literal">shared-block-volume.vhd</code> within the resource group <code class="literal">sharedblock-rg</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az disk show -g sharedblock-rg -n shared-block-volume.vhd</strong></span>

{
  "creationData": {
    "createOption": "Empty",
    "galleryImageReference": null,
    "imageReference": null,
    "sourceResourceId": null,
    "sourceUniqueId": null,
    "sourceUri": null,
    "storageAccountId": null,
    "uploadSizeBytes": null
  },
  "diskAccessId": null,
  "diskIopsReadOnly": null,
  "diskIopsReadWrite": 5000,
  "diskMbpsReadOnly": null,
  "diskMbpsReadWrite": 200,
  "diskSizeBytes": 1099511627776,
  "diskSizeGb": 1024,
  "diskState": "Unattached",
  "encryption": {
    "diskEncryptionSetId": null,
    "type": "EncryptionAtRestWithPlatformKey"
  },
  "encryptionSettingsCollection": null,
  "hyperVgeneration": "V1",
  "id": "/subscriptions/12345678910-12345678910/resourceGroups/sharedblock-rg/providers/Microsoft.Compute/disks/shared-block-volume.vhd",
  "location": "westcentralus",
  "managedBy": null,
  "managedByExtended": null,
  "maxShares": 3,
  "name": "shared-block-volume.vhd",
  "networkAccessPolicy": "AllowAll",
  "osType": null,
  "provisioningState": "Succeeded",
  "resourceGroup": "sharedblock-rg",
  "shareInfo": null,
  "sku": {
    "name": "Premium_LRS",
    "tier": "Premium"
  },
  "tags": {},
  "timeCreated": "2020-08-27T15:36:56.263382+00:00",
  "type": "Microsoft.Compute/disks",
  "uniqueId": "cd8b0a25-6fbe-4779-9312-8d9cbb89b6f2",
  "zones": null
}</pre></li><li class="listitem"><p class="simpara">
						Create three network interfaces by using the Azure command <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/network/nic?view=azure-cli-latest#az_network_nic_create"><code class="literal">az network nic create</code></a>. Run the following command three times by using a different <code class="literal">&lt;nic_name&gt;</code> for each.
					</p><pre class="screen">$ <span class="strong strong"><strong>az network nic create \</strong></span>
    <span class="strong strong"><strong>-g &lt;resource_group&gt; -n &lt;nic_name&gt; --subnet &lt;subnet_name&gt; \</strong></span>
    <span class="strong strong"><strong>--vnet-name &lt;virtual_network&gt; --location &lt;location&gt; \</strong></span>
    <span class="strong strong"><strong>--network-security-group &lt;network_security_group&gt; --private-ip-address-version IPv4</strong></span></pre><p class="simpara">
						For example, the following command creates a network interface with the name <code class="literal">shareblock-nodea-vm-nic-protected</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az network nic create \</strong></span>
    <span class="strong strong"><strong>-g sharedblock-rg -n sharedblock-nodea-vm-nic-protected --subnet sharedblock-subnet-protected \</strong></span>
    <span class="strong strong"><strong>--vnet-name sharedblock-vn --location westcentralus \</strong></span>
    <span class="strong strong"><strong>--network-security-group sharedblock-nsg --private-ip-address-version IPv4</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create three VMs and attach the shared block volume by using the Azure command <a class="link" href="https://docs.microsoft.com/en-us/cli/azure/vm?view=azure-cli-latest#az_vm_create"><code class="literal">az vm create</code></a>. Option values are the same for each VM except that each VM has its own <code class="literal">&lt;vm_name&gt;</code>, <code class="literal">&lt;new_vm_disk_name&gt;</code>, and <code class="literal">&lt;nic_name&gt;</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az vm create \</strong></span>
    <span class="strong strong"><strong>-n &lt;vm_name&gt; -g &lt;resource_group&gt; --attach-data-disks &lt;shared_block_volume_name&gt; \</strong></span>
    <span class="strong strong"><strong>--data-disk-caching None --os-disk-caching ReadWrite --os-disk-name &lt;new-vm-disk-name&gt; \</strong></span>
    <span class="strong strong"><strong>--os-disk-size-gb &lt;disk_size&gt; --location &lt;location&gt; --size &lt;virtual_machine_size&gt; \</strong></span>
    <span class="strong strong"><strong>--image &lt;image_name&gt; --admin-username &lt;vm_username&gt; --authentication-type ssh \</strong></span>
    <span class="strong strong"><strong>--ssh-key-values &lt;ssh_key&gt; --nics &lt;nic_name&gt; --availability-set &lt;availability_set&gt; --ppg &lt;proximity_placement_group&gt;</strong></span></pre><p class="simpara">
						For example, the following command creates a VM named <code class="literal">sharedblock-nodea-vm</code>.
					</p><pre class="screen">$ <span class="strong strong"><strong>az vm create \</strong></span>
<span class="strong strong"><strong>-n sharedblock-nodea-vm -g sharedblock-rg --attach-data-disks shared-block-volume.vhd \</strong></span>
<span class="strong strong"><strong>--data-disk-caching None --os-disk-caching ReadWrite --os-disk-name sharedblock-nodea-vm.vhd \</strong></span>
<span class="strong strong"><strong>--os-disk-size-gb 64 --location westcentralus --size Standard_D2s_v3 \</strong></span>
<span class="strong strong"><strong>--image /subscriptions/12345678910-12345678910/resourceGroups/sample-azureimagesgroupwestcentralus/providers/Microsoft.Compute/images/sample-azure-rhel-9.3.0-20200713.n.0.x86_64 --admin-username sharedblock-user --authentication-type ssh \</strong></span>
<span class="strong strong"><strong>--ssh-key-values @sharedblock-key.pub --nics sharedblock-nodea-vm-nic-protected --availability-set sharedblock-as --ppg sharedblock-ppg</strong></span>

{
  "fqdns": "",
  "id": "/subscriptions/12345678910-12345678910/resourceGroups/sharedblock-rg/providers/Microsoft.Compute/virtualMachines/sharedblock-nodea-vm",
  "location": "westcentralus",
  "macAddress": "00-22-48-5D-EE-FB",
  "powerState": "VM running",
  "privateIpAddress": "198.51.100.3",
  "publicIpAddress": "",
  "resourceGroup": "sharedblock-rg",
  "zones": ""
}</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						For each VM in your cluster, verify that the block device is available by using the <code class="literal command">ssh</code> command with your VM’s IP address.
					</p><pre class="screen white-space-pre white-space-pre"># <span class="strong strong"><strong>ssh <span class="emphasis"><em>&lt;ip_address&gt;</em></span> "hostname ; lsblk -d | grep ' 1T '"</strong></span></pre><p class="simpara">
						For example, the following command lists details including the host name and block device for the VM IP <code class="literal">198.51.100.3</code>.
					</p><pre class="screen white-space-pre white-space-pre"># <span class="strong strong"><strong>ssh 198.51.100.3 "hostname ; lsblk -d | grep ' 1T '"</strong></span>

nodea
sdb    8:16   0    1T  0 disk</pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal command">ssh</code> command to verify that each VM in your cluster uses the same shared disk.
					</p><pre class="screen white-space-pre white-space-pre"># <span class="strong strong"><strong>ssh <span class="emphasis"><em>&lt;ip_address&gt;</em></span> "hostname ; lsblk -d | grep ' 1T ' | awk '{print \$1}' | xargs -i udevadm info --query=all --name=/dev/{} | grep '^E: ID_SERIAL='"</strong></span></pre><p class="simpara">
						For example, the following command lists details including the host name and shared disk volume ID for the instance IP address <code class="literal">198.51.100.3</code>.
					</p><pre class="screen white-space-pre white-space-pre"># <span class="strong strong"><strong>ssh 198.51.100.3 "hostname ; lsblk -d | grep ' 1T ' | awk '{print \$1}' | xargs -i udevadm info --query=all --name=/dev/{} | grep '^E: ID_SERIAL='"</strong></span>

nodea
E: ID_SERIAL=3600224808dd8eb102f6ffc5822c41d89</pre></li></ol></div><p>
				After you have verified that the shared disk is attached to each VM, you can configure resilient storage for the cluster.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_high_availability_clusters/assembly_configuring-gfs2-in-a-cluster-configuring-and-managing-high-availability-clusters#proc_configuring-gfs2-in-a-cluster.adoc-configuring-gfs2-cluster">Configuring a GFS2 file system in a cluster</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_gfs2_file_systems/index">Configuring GFS2 file systems</a>
					</li></ul></div></section><section class="section _additional-resources" id="additional_resources_2"><div class="titlepage"><div><div><h3 class="title">4.17. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/3131341">Support Policies for RHEL High Availability Clusters - Microsoft Azure Virtual Machines as Cluster Members</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_high_availability_clusters/index">Configuring and Managing High Availability Clusters</a>
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140444521198352"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":376,"once":380,"_errors":381,"serverRendered":15,"path":383},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":10,"Pn02PlJOas":304,"rFVLKcOK8e":375},[5,6,7,8,9],"fr-fr","ko-kr","en-us","zh-cn","ja-jp",{"name":11,"html":12,"type":-1,"toc":13,"breadcrumbs":231,"error":18,"title":239,"productName":233,"productVersions":248,"pagination":277,"redirect":285,"canonicalLinks":286,"openShiftProducts":288,"tocFromVolume":-1,"jumpLinks":303},"Deploying RHEL 9 on Microsoft Azure","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm140444523586848\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Obtaining RHEL system images and creating RHEL instances on Azure\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm140444521198352\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tTo use Red Hat Enterprise Linux (RHEL) in a public cloud environment, you can create and deploy RHEL system images on various cloud platforms, including Microsoft Azure. You can also create and configure a Red Hat High Availability (HA) cluster on Azure.\n\t\t\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\t\tThe following chapters provide instructions for creating cloud RHEL instances and HA clusters on Azure. These processes include installing the required packages and agents, configuring fencing, and installing network resource agents.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_cloud-content-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"introducing-rhel-on-public-cloud-platforms_cloud-content-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Introducing RHEL on public cloud platforms\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tPublic cloud platforms provide computing resources as a service. Instead of using on-premises hardware, you can run your IT workloads, including Red Hat Enterprise Linux (RHEL) systems, as public cloud instances.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"benefits-of-using-rhel-in-a-public-cloud_introducing-rhel-on-public-cloud-platforms\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. Benefits of using RHEL in a public cloud\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tRHEL as a cloud instance located on a public cloud platform has the following benefits over RHEL on-premises physical systems or virtual machines (VMs):\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Flexible and fine-grained allocation of resources\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tA cloud instance of RHEL runs as a VM on a cloud platform, which typically means a cluster of remote servers maintained by the provider of the cloud service. Therefore, allocating hardware resources to the instance, such as a specific type of CPU or storage, happens on the software level and is easily customizable.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn comparison to a local RHEL system, you are also not limited by the capabilities of your physical host. Instead, you can choose from a variety of features, based on selection offered by the cloud provider.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Space and cost efficiency\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou do not need to own any on-premises servers to host your cloud workloads. This avoids the space, power, and maintenance requirements associated with physical hardware.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstead, on public cloud platforms, you pay the cloud provider directly for using a cloud instance. The cost is typically based on the hardware allocated to the instance and the time you spend using it. Therefore, you can optimize your costs based on your requirements.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Software-controlled configurations\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe entire configuration of a cloud instance is saved as data on the cloud platform, and is controlled by software. Therefore, you can easily create, remove, clone, or migrate the instance. A cloud instance is also operated remotely in a cloud provider console and is connected to remote storage by default.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn addition, you can back up the current state of a cloud instance as a snapshot at any time. Afterwards, you can load the snapshot to restore the instance to the saved state.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Separation from the host and software compatibility\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSimilarly to a local VM, the RHEL guest operating system on a cloud instance runs on a virtualized kernel. This kernel is separate from the host operating system and from the \u003Cspan class=\"emphasis\">\u003Cem>client\u003C/em>\u003C/span> system that you use to connect to the instance.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTherefore, any operating system can be installed on the cloud instance. This means that on a RHEL public cloud instance, you can run RHEL-specific applications that cannot be used on your local operating system.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn addition, even if the operating system of the instance becomes unstable or is compromised, your client system is not affected in any way.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/topics/cloud-computing/what-is-public-cloud\">What is public cloud?\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/topics/cloud/what-is-a-hyperscaler\">What is a hyperscaler?\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/topics/cloud-computing/public-cloud-vs-private-cloud-and-hybrid-cloud\">Types of cloud computing\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms\" title=\"1.2. Public cloud use cases for RHEL\">Public cloud use cases for RHEL\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms\" title=\"1.4. Obtaining RHEL for public cloud deployments\">Obtaining RHEL for public cloud deployments\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. Public cloud use cases for RHEL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tDeploying on a public cloud provides many benefits, but might not be the most efficient solution in every scenario. If you are evaluating whether to migrate your RHEL deployments to the public cloud, consider whether your use case will benefit from the advantages of the public cloud.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Beneficial use cases\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDeploying public cloud instances is very effective for flexibly increasing and decreasing the active computing power of your deployments, also known as \u003Cspan class=\"emphasis\">\u003Cem>scaling up\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>scaling down\u003C/em>\u003C/span>. Therefore, using RHEL on public cloud is recommended in the following scenarios:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClusters with high peak workloads and low general performance requirements. Scaling up and down based on your demands can be highly efficient in terms of resource costs.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tQuickly setting up or expanding your clusters. This avoids high upfront costs of setting up local servers.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCloud instances are not affected by what happens in your local environment. Therefore, you can use them for backup and disaster recovery.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Potentially problematic use cases\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are running an existing environment that cannot be adjusted. Customizing a cloud instance to fit the specific needs of an existing deployment may not be cost-effective in comparison with your current host platform.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are operating with a hard limit on your budget. Maintaining your deployment in a local data center typically provides less flexibility but more control over the maximum resource costs than the public cloud does.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms\" title=\"1.4. Obtaining RHEL for public cloud deployments\">Obtaining RHEL for public cloud deployments\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/blog/should-i-migrate-my-application-cloud-heres-how-decide\">Should I migrate my application to the cloud? Here’s how to decide.\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"frequent-concerns-when-migrating-to-a-public-cloud_introducing-rhel-on-public-cloud-platforms\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.3. Frequent concerns when migrating to a public cloud\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tMoving your RHEL workloads from a local environment to a public cloud platform might raise concerns about the changes involved. The following are the most commonly asked questions.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Will my RHEL work differently as a cloud instance than as a local virtual machine?\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn most respects, RHEL instances on a public cloud platform work the same as RHEL virtual machines on a local host, such as an on-premises server. Notable exceptions include:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstead of private orchestration interfaces, public cloud instances use provider-specific console interfaces for managing your cloud resources.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCertain features, such as nested virtualization, may not work correctly. If a specific feature is critical for your deployment, check the feature’s compatibility in advance with your chosen public cloud provider.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Will my data stay safe in a public cloud as opposed to a local server?\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe data in your RHEL cloud instances is in your ownership, and your public cloud provider does not have any access to it. In addition, major cloud providers support data encryption in transit, which improves the security of data when migrating your virtual machines to the public cloud.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe general security of your RHEL public cloud instances is managed as follows:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYour public cloud provider is responsible for the security of the cloud hypervisor\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRed Hat provides the security features of the RHEL guest operating systems in your instances\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou manage the specific security settings and practices in your cloud infrastructure\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>What effect does my geographic region have on the functionality of RHEL public cloud instances?\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use RHEL instances on a public cloud platform regardless of your geographical location. Therefore, you can run your instances in the same region as your on-premises server.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tHowever, hosting your instances in a physically distant region might cause high latency when operating them. In addition, depending on the public cloud provider, certain regions may provide additional features or be more cost-efficient. Before creating your RHEL instances, review the properties of the hosting regions available for your chosen cloud provider.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.4. Obtaining RHEL for public cloud deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo deploy a RHEL system in a public cloud environment, you need to:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSelect the optimal cloud provider for your use case, based on your requirements and the current offer on the market.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe cloud providers currently certified for running RHEL instances are:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://aws.amazon.com/\">Amazon Web Services (AWS)\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://cloud.google.com/\">Google Cloud Platform (GCP)\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://azure.microsoft.com/en-us/\">Microsoft Azure\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThis document specifically talks about deploying RHEL on Microsoft Azure.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL cloud instance on your chosen cloud platform. For more information, see \u003Ca class=\"link\" href=\"#methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms\" title=\"1.5. Methods for creating RHEL cloud instances\">Methods for creating RHEL cloud instances\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTo keep your RHEL deployment up-to-date, use \u003Ca class=\"link\" href=\"https://access.redhat.com/products/red-hat-update-infrastructure\">Red Hat Update Infrastructure\u003C/a> (RHUI).\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_update_infrastructure\">RHUI documentation\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/products/open-hybrid-cloud\">Red Hat Open Hybrid Cloud\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.5. Methods for creating RHEL cloud instances\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo deploy a RHEL instance on a public cloud platform, you can use one of the following methods:\n\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 100%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Create a system image of RHEL and import it to the cloud platform.\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tTo create the system image, you can use the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index\">RHEL image builder\u003C/a> or you can build the image manually.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThis method uses your existing RHEL subscription, and is also referred to as \u003Cspan class=\"emphasis\">\u003Cem>bring your own subscription\u003C/em>\u003C/span> (BYOS).\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tYou pre-pay a yearly subscription, and you can use your Red Hat customer discount.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tYour customer service is provided by Red Hat.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tFor creating multiple images effectively, you can use the \u003Ccode class=\"literal\">cloud-init\u003C/code> tool.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Purchase a RHEL instance directly from the cloud provider marketplace.\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tYou post-pay an hourly rate for using the service. Therefore, this method is also referred to as \u003Cspan class=\"emphasis\">\u003Cem>pay as you go\u003C/em>\u003C/span> (PAYG).\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tYour customer service is provided by the cloud platform provider.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tFor detailed instructions on using various methods to deploy RHEL instances On Microsoft Azure, see the following chapters in this document.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/topics/linux/what-is-a-golden-image\">What is a golden image?\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_cloud-init_for_rhel_9/index\">Configuring and managing cloud-init for RHEL 9\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"pushing-vhd-imaged-to-azure-cloud_cloud-content-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Pushing VHD images to Microsoft Azure cloud\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can create \u003Ccode class=\"literal\">.vhd\u003C/code> images by using RHEL image builder. Then, you can push the output \u003Ccode class=\"literal\">.vhd\u003C/code> images to a Blob Storage of the Microsoft Azure Cloud service provider.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have root access to the system.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have access to the RHEL image builder interface of the RHEL web console.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou created a blueprint. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-composer-blueprint-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface\">Creating a RHEL image builder blueprint in the web console interface\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have a \u003Ca class=\"link\" href=\"https://portal.azure.com/#create/Microsoft.StorageAccount\">Microsoft Storage Account\u003C/a> created.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have a writable \u003Ca class=\"link\" href=\"https://portal.azure.com/#blade/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts\">Blob Storage\u003C/a> prepared.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tIn the RHEL image builder dashboard, select the blueprint you want to use.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Images\u003C/span> tab.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create Image\u003C/span> to create your customized \u003Ccode class=\"literal\">.vhd\u003C/code> image.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Create image\u003C/strong>\u003C/span> wizard opens.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSelect \u003Ccode class=\"literal\">Microsoft Azure (.vhd)\u003C/code> from the \u003Cspan class=\"strong strong\">\u003Cstrong>Type\u003C/strong>\u003C/span> drop-down menu list.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCheck the \u003Cspan class=\"strong strong\">\u003Cstrong>Upload to Azure\u003C/strong>\u003C/span> checkbox to upload your image to the Microsoft Azure Cloud.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEnter the \u003Cspan class=\"strong strong\">\u003Cstrong>Image Size\u003C/strong>\u003C/span> and click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Upload to Azure\u003C/strong>\u003C/span> page, enter the following information:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the Authentication page, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tYour \u003Cspan class=\"strong strong\">\u003Cstrong>Storage account\u003C/strong>\u003C/span> name. You can find it on the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage account\u003C/strong>\u003C/span> page, in the \u003Ca class=\"link\" href=\"https://portal.azure.com/\">Microsoft Azure portal\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tYour \u003Cspan class=\"strong strong\">\u003Cstrong>Storage access key\u003C/strong>\u003C/span>: You can find it on the \u003Cspan class=\"strong strong\">\u003Cstrong>Access Key\u003C/strong>\u003C/span> Storage page.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Authentication\u003C/strong>\u003C/span> page, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe image name.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Storage container\u003C/strong>\u003C/span>. It is the blob container to which you will upload the image. Find it under the \u003Cspan class=\"strong strong\">\u003Cstrong>Blob service\u003C/strong>\u003C/span> section, in the \u003Ca class=\"link\" href=\"https://portal.azure.com/\">Microsoft Azure portal\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, click \u003Cspan class=\"guibutton\">Create\u003C/span>. The RHEL image builder and upload processes start.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tAccess the image you pushed into \u003Cspan class=\"strong strong\">\u003Cstrong>Microsoft Azure Cloud\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAccess the \u003Ca class=\"link\" href=\"https://portal.azure.com\">Microsoft Azure portal\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tIn the search bar, type \"storage account\" and click \u003Cspan class=\"strong strong\">\u003Cstrong>Storage accounts\u003C/strong>\u003C/span> from the list.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tOn the search bar, type \"Images\" and select the first entry under \u003Cspan class=\"strong strong\">\u003Cstrong>Services\u003C/strong>\u003C/span>. You are redirected to the \u003Cspan class=\"strong strong\">\u003Cstrong>Image dashboard\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tOn the navigation panel, click \u003Cspan class=\"strong strong\">\u003Cstrong>Containers\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tFind the container you created. Inside the container is the \u003Ccode class=\"literal\">.vhd\u003C/code> file you created and pushed by using RHEL image builder.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tVerify that you can create a VM image and launch it.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the search bar, type images account and click \u003Cspan class=\"strong strong\">\u003Cstrong>Images\u003C/strong>\u003C/span> from the list.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">+Create\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFrom the dropdown list, choose the resource group you used earlier.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEnter a name for the image.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFor the \u003Cspan class=\"strong strong\">\u003Cstrong>OS type\u003C/strong>\u003C/span>, select \u003Cspan class=\"strong strong\">\u003Cstrong>Linux\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFor the \u003Cspan class=\"strong strong\">\u003Cstrong>VM generation\u003C/strong>\u003C/span>, select \u003Cspan class=\"strong strong\">\u003Cstrong>Gen 2\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUnder \u003Cspan class=\"strong strong\">\u003Cstrong>Storage Blob\u003C/strong>\u003C/span>, click \u003Cspan class=\"guibutton\">Browse\u003C/span> and click through the storage accounts and container until you reach your VHD file.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Select\u003C/strong>\u003C/span> at the end of the page.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tChoose an Account Type, for example, \u003Cspan class=\"strong strong\">\u003Cstrong>Standard SSD\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Review + Create\u003C/span> and then \u003Cspan class=\"guibutton\">Create\u003C/span>. Wait a few moments for the image creation.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tTo launch the VM, follow the steps:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Go to resource\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">+ Create VM\u003C/span> from the menu bar on the header.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEnter a name for your virtual machine.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tComplete the \u003Cspan class=\"strong strong\">\u003Cstrong>Size\u003C/strong>\u003C/span> and \u003Cspan class=\"strong strong\">\u003Cstrong>Administrator account\u003C/strong>\u003C/span> sections.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Review + Create\u003C/span> and then \u003Cspan class=\"guibutton\">Create\u003C/span>. You can see the deployment progress.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter the deployment finishes, click the virtual machine name to retrieve the public IP address of the instance to connect by using SSH.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOpen a terminal to create an SSH connection to connect to the VM.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/storage/\">Microsoft Azure Storage Documentation\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-create?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&amp;tabs=azure-portal\">Create a Microsoft Azure Storage account\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/support/cases/#/case/new/open-case?intcmp=hp|a|a3|case&amp;caseCreate=true\">Open a case on Red Hat Customer Portal\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview\">Help + support\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/support/contact/\">Contacting Red Hat\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. Deploying a Red Hat Enterprise Linux image as a virtual machine on Microsoft Azure\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tTo deploy a Red Hat Enterprise Linux 9 (RHEL 9) image on Microsoft Azure, follow the information below. This chapter:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tDiscusses your options for choosing an image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tLists or refers to system requirements for your host system and virtual machine (VM)\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tProvides procedures for creating a custom VM from an ISO image, uploading it to Azure, and launching an Azure VM instance\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tYou can create a custom VM from an ISO image, but Red Hat recommends that you use the \u003Cspan class=\"emphasis\">\u003Cem>Red Hat Image Builder\u003C/em>\u003C/span> product to create customized images for use on specific cloud providers. With Image Builder, you can create and upload an Azure Disk Image (VHD format). See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index\">Composing a Customized RHEL System Image\u003C/a> for more information.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\tFor a list of Red Hat products that you can use securely on Azure, refer to \u003Ca class=\"link\" href=\"https://access.redhat.com/public-cloud/microsoft-azure\">Red Hat on Microsoft Azure\u003C/a>.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tSign up for a \u003Ca class=\"link\" href=\"https://access.redhat.com/\">Red Hat Customer Portal\u003C/a> account.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSign up for a \u003Ca class=\"link\" href=\"https://azure.microsoft.com/en-us/\">Microsoft Azure\u003C/a> account.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"azure-image-options_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.1. Red Hat Enterprise Linux image options on Azure\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following table lists image choices for RHEL 9 on Microsoft Azure, and notes the differences in the image options.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140444521629216\">\u003Ctable class=\"gt-4-cols lt-7-rows\">\u003Ccaption>Table 3.1. Image options\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 25%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_4\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444520873808\" scope=\"col\">Image option\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444520872720\" scope=\"col\">Subscriptions\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444520871632\" scope=\"col\">Sample scenario\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444520870544\" scope=\"col\">Considerations\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520873808\"> \u003Cp>\n\t\t\t\t\t\t\t\tDeploy a Red Hat Gold Image.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520872720\"> \u003Cp>\n\t\t\t\t\t\t\t\tUse your existing Red Hat subscriptions.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520871632\"> \u003Cp>\n\t\t\t\t\t\t\t\tSelect a Red Hat Gold Image on Azure. For details on Gold Images and how to access them on Azure, see the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/index\">Red Hat Cloud Access Reference Guide\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520870544\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe subscription includes the Red Hat product cost; you pay Microsoft for all other instance costs.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520873808\"> \u003Cp>\n\t\t\t\t\t\t\t\tDeploy a custom image that you move to Azure.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520872720\"> \u003Cp>\n\t\t\t\t\t\t\t\tUse your existing Red Hat subscriptions.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520871632\"> \u003Cp>\n\t\t\t\t\t\t\t\tUpload your custom image and attach your subscriptions.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520870544\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe subscription includes the Red Hat product cost; you pay Microsoft for all other instance costs.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520873808\"> \u003Cp>\n\t\t\t\t\t\t\t\tDeploy an existing Azure image that includes RHEL.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520872720\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe Azure images include a Red Hat product.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520871632\"> \u003Cp>\n\t\t\t\t\t\t\t\tChoose a RHEL image when you create a VM by using the Azure console, or choose a VM from the \u003Ca class=\"link\" href=\"https://azuremarketplace.microsoft.com/en-us/marketplace/\">Azure Marketplace\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444520870544\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou pay Microsoft hourly on a \u003Cspan class=\"emphasis\">\u003Cem>pay-as-you-go\u003C/em>\u003C/span> model. Such images are called \"on-demand.\" Azure provides support for on-demand images through a support agreement.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tRed Hat provides updates to the images. Azure makes the updates available through the Red Hat Update Infrastructure (RHUI).\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access#using-gold-images-on-azure_cloud-access\">Using Red Hat Gold Images on Microsoft Azure\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://azuremarketplace.microsoft.com/en-us/marketplace/\">Azure Marketplace\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/marketplace/marketplace-commercial-transaction-capabilities-and-considerations\">Billing options in the Azure Marketplace\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/redhat/byos\">Red Hat Enterprise Linux Bring-Your-Own-Subscription Gold Images in Azure\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/index\">Red Hat Cloud Access Reference Guide\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.2. Understanding base images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis section includes information about using preconfigured base images and their configuration settings.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"about-vm-images_understanding-base-images-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">3.2.1. Using a custom base image\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo manually configure a virtual machine (VM), first create a base (starter) VM image. Then, you can modify configuration settings and add the packages the VM requires to operate on the cloud. You can make additional configuration changes for your specific application after you upload the image.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo prepare a cloud image of RHEL, follow the instructions in the sections below. To prepare a Hyper-V cloud image of RHEL, see the \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/linux/redhat-create-upload-vhd#prepare-a-red-hat-based-virtual-machine-from-hyper-v-manager\">Prepare a Red Hat-based virtual machine from Hyper-V Manager\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"required-system-packages_understanding-base-images-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">3.2.2. Required system packages\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo create and configure a base image of RHEL, your host system must have the following packages installed.\n\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140444514517424\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 3.2. System packages\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444514511664\" scope=\"col\">Package\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444514510576\" scope=\"col\">Repository\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444514509488\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514511664\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tlibvirt\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514510576\"> \u003Cp>\n\t\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514509488\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tOpen source API, daemon, and management tool for managing platform virtualization\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514511664\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tvirt-install\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514510576\"> \u003Cp>\n\t\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514509488\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tA command-line utility for building VMs\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514511664\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tlibguestfs\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514510576\"> \u003Cp>\n\t\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514509488\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tA library for accessing and modifying VM file systems\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514511664\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tguestfs-tools\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514510576\"> \u003Cp>\n\t\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444514509488\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tSystem administration tools for VMs; includes the \u003Ccode class=\"literal\">virt-customize\u003C/code> utility\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"azure-vm-configuration-settings_understanding-base-images-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">3.2.3. Azure VM configuration settings\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tAzure VMs must have the following configuration settings. Some of these settings are enabled during the initial VM creation. Other settings are set when provisioning the VM image for Azure. Keep these settings in mind as you move through the procedures. Refer to them as necessary.\n\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140444516856880\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 3.3. VM configuration settings\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444515115392\" scope=\"col\">Setting\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444515114304\" scope=\"col\">Recommendation\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515115392\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tssh\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515114304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tssh must be enabled to provide remote access to your Azure VMs.\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515115392\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tdhcp\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515114304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tThe primary virtual adapter should be configured for dhcp (IPv4 only).\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515115392\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tSwap Space\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515114304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tDo not create a dedicated swap file or swap partition. You can configure swap space with the Windows Azure Linux Agent (WALinuxAgent).\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515115392\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tNIC\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515114304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tChoose \u003Cspan class=\"strong strong\">\u003Cstrong>virtio\u003C/strong>\u003C/span> for the primary virtual network adapter.\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515115392\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tencryption\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515114304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tFor custom images, use Network Bound Disk Encryption (NBDE) for full disk encryption on Azure.\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"create-a-vm-from-an-iso-image_understanding-base-images-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">3.2.4. Creating a base image from an ISO image\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe following procedure lists the steps and initial configuration requirements for creating a custom ISO image. Once you have configured the image, you can use the image as a template for creating additional VM instances.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEnsure that you have enabled your host machine for virtualization. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_enabling-virtualization-in-rhel-9_configuring-and-managing-virtualization\">Enabling virtualization in RHEL 9\u003C/a> for information and procedures.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tDownload the latest Red Hat Enterprise Linux 9 DVD ISO image from the \u003Ca class=\"link\" href=\"https://access.redhat.com/downloads/content/479/\">Red Hat Customer Portal\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate and start a basic Red Hat Enterprise Linux VM. For instructions, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization\">Creating virtual machines\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you use the command line to create your VM, ensure that you set the default memory and CPUs to the capacity you want for the VM. Set your virtual network interface to \u003Cspan class=\"strong strong\">\u003Cstrong>virtio\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor example, the following command creates a \u003Ccode class=\"literal\">kvmtest\u003C/code> VM by using the \u003Ccode class=\"literal\">rhel-9.0-x86_64-kvm.qcow2\u003C/code> image:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>virt-install \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--name kvmtest --memory 2048 --vcpus 2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--disk rhel-9.0-x86_64-kvm.qcow2,bus=virtio \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--import --os-variant=rhel9.0\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you use the web console to create your VM, follow the procedure in \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization#creating-vms-and-installing-an-os-using-the-rhel-web-console_assembly_creating-virtual-machines\">Creating virtual machines using the web console\u003C/a>, with these caveats:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tDo not check \u003Cspan class=\"strong strong\">\u003Cstrong>Immediately Start VM\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tChange your \u003Cspan class=\"strong strong\">\u003Cstrong>Memory\u003C/strong>\u003C/span> size to your preferred settings.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tBefore you start the installation, ensure that you have changed \u003Cspan class=\"strong strong\">\u003Cstrong>Model\u003C/strong>\u003C/span> under \u003Cspan class=\"strong strong\">\u003Cstrong>Virtual Network Interface Settings\u003C/strong>\u003C/span> to \u003Cspan class=\"strong strong\">\u003Cstrong>virtio\u003C/strong>\u003C/span> and change your \u003Cspan class=\"strong strong\">\u003Cstrong>vCPUs\u003C/strong>\u003C/span> to the capacity settings you want for the VM.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReview the following additional installation selection and modifications.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSelect \u003Cspan class=\"strong strong\">\u003Cstrong>Minimal Install\u003C/strong>\u003C/span> with the \u003Cspan class=\"strong strong\">\u003Cstrong>standard RHEL\u003C/strong>\u003C/span> option.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor \u003Cspan class=\"strong strong\">\u003Cstrong>Installation Destination\u003C/strong>\u003C/span>, select \u003Cspan class=\"strong strong\">\u003Cstrong>Custom Storage Configuration\u003C/strong>\u003C/span>. Use the following configuration information to make your selections.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tVerify at least 500 MB for \u003Cspan class=\"strong strong\">\u003Cstrong>/boot\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tFor file system, use xfs, ext4, or ext3 for both \u003Cspan class=\"strong strong\">\u003Cstrong>boot\u003C/strong>\u003C/span> and \u003Cspan class=\"strong strong\">\u003Cstrong>root\u003C/strong>\u003C/span> partitions.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tRemove swap space. Swap space is configured on the physical blade server in Azure by the WALinuxAgent.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Installation Summary\u003C/strong>\u003C/span> screen, select \u003Cspan class=\"strong strong\">\u003Cstrong>Network and Host Name\u003C/strong>\u003C/span>. Switch \u003Cspan class=\"strong strong\">\u003Cstrong>Ethernet\u003C/strong>\u003C/span> to \u003Cspan class=\"strong strong\">\u003Cstrong>On\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhen the install starts:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">root\u003C/code> password.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCreate an administrative user account.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tWhen installation is complete, reboot the VM and log in to the root account.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOnce you are logged in as \u003Ccode class=\"literal\">root\u003C/code>, you can configure the image.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.3. Configuring a custom base image for Microsoft Azure\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo deploy a RHEL 9 virtual machine (VM) with specific settings in Azure, you can create a custom base image for the VM. The following sections describe additional configuration changes that Azure requires.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"installing-hyperv-drivers_configure-the-image-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">3.3.1. Installing Hyper-V device drivers\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tMicrosoft provides network and storage device drivers as part of their Linux Integration Services (LIS) for Hyper-V package. You may need to install Hyper-V device drivers on the VM image prior to provisioning it as an Azure virtual machine (VM). Use the \u003Ccode class=\"literal command\">lsinitrd | grep hv\u003C/code> command to verify that the drivers are installed.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnter the following \u003Ccode class=\"literal command\">grep\u003C/code> command to determine if the required Hyper-V device drivers are installed.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lsinitrd | grep hv\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the example below, all required drivers are installed.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lsinitrd | grep hv\u003C/strong>\u003C/span>\ndrwxr-xr-x   2 root     root            0 Aug 12 14:21 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv\n-rw-r--r--   1 root     root        31272 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv/hv_vmbus.ko.xz\n-rw-r--r--   1 root     root        25132 Aug 11 08:46 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/net/hyperv/hv_netvsc.ko.xz\n-rw-r--r--   1 root     root         9796 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/scsi/hv_storvsc.ko.xz\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf all the drivers are not installed, complete the remaining steps.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tAn \u003Ccode class=\"literal\">hv_vmbus\u003C/code> driver may exist in the environment. Even if this driver is present, complete the following steps.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCreate a file named \u003Ccode class=\"literal\">hv.conf\u003C/code> in \u003Ccode class=\"literal\">/etc/dracut.conf.d\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the following driver parameters to the \u003Ccode class=\"literal\">hv.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">add_drivers+=\" hv_vmbus \"\nadd_drivers+=\" hv_netvsc \"\nadd_drivers+=\" hv_storvsc \"\nadd_drivers+=\" nvme \"\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tNote the spaces before and after the quotes, for example, \u003Ccode class=\"literal\">add_drivers+=\" hv_vmbus \"\u003C/code>. This ensures that unique drivers are loaded in the event that other Hyper-V drivers already exist in the environment.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRegenerate the \u003Ccode class=\"literal\">initramfs\u003C/code> image.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dracut -f -v --regenerate-all\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tReboot the machine.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRun the \u003Ccode class=\"literal command\">lsinitrd | grep hv\u003C/code> command to verify that the drivers are installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"making-configuration-changes_configure-the-image-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">3.3.2. Making configuration changes required for a Microsoft Azure deployment\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tBefore you deploy your custom base image to Azure, you must perform additional configuration changes to ensure that the virtual machine (VM) can properly operate in Azure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tLog in to the VM.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRegister the VM, and enable the Red Hat Enterprise Linux 9 repository.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager register --auto-attach\u003C/strong>\u003C/span>\nInstalled Product Current Status:\nProduct Name: Red Hat Enterprise Linux for x86_64\nStatus: Subscribed\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnsure that the \u003Ccode class=\"literal\">cloud-init\u003C/code> and \u003Ccode class=\"literal\">hyperv-daemons\u003C/code> packages are installed.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install cloud-init hyperv-daemons -y\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate \u003Ccode class=\"literal\">cloud-init\u003C/code> configuration files that are needed for integration with Azure services:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo enable logging to the Hyper-V Data Exchange Service (KVP), create the \u003Ccode class=\"literal\">/etc/cloud/cloud.cfg.d/10-azure-kvp.cfg\u003C/code> configuration file and add the following lines to that file.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">reporting:\n    logging:\n        type: log\n    telemetry:\n        type: hyperv\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo add Azure as a datasource, create the \u003Ccode class=\"literal\">/etc/cloud/cloud.cfg.d/91-azure_datasource.cfg\u003C/code> configuration file, and add the following lines to that file.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">datasource_list: [ Azure ]\ndatasource:\n    Azure:\n        apply_network_config: False\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo ensure that specific kernel modules are blocked from loading automatically, edit or create the \u003Ccode class=\"literal\">/etc/modprobe.d/blocklist.conf\u003C/code> file and add the following lines to that file.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">blacklist nouveau\nblacklist lbm-nouveau\nblacklist floppy\nblacklist amdgpu\nblacklist skx_edac\nblacklist intel_cstate\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tModify \u003Ccode class=\"literal\">udev\u003C/code> network device rules:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRemove the following persistent network device rules if present.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /etc/udev/rules.d/70-persistent-net.rules\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /etc/udev/rules.d/75-persistent-net-generator.rules\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /etc/udev/rules.d/80-net-name-slot-rules\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo ensure that Accelerated Networking on Azure works as intended, create a new network device rule \u003Ccode class=\"literal\">/etc/udev/rules.d/68-azure-sriov-nm-unmanaged.rules\u003C/code> and add the following line to it.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">SUBSYSTEM==\"net\", DRIVERS==\"hv_pci\", ACTION==\"add\", ENV{NM_UNMANAGED}=\"1\"\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">sshd\u003C/code> service to start automatically.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable sshd\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl is-enabled sshd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tModify kernel boot parameters:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/etc/default/grub\u003C/code> file, and ensure the \u003Ccode class=\"literal\">GRUB_TIMEOUT\u003C/code> line has the following value.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">GRUB_TIMEOUT=10\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRemove the following options from the end of the \u003Ccode class=\"literal\">GRUB_CMDLINE_LINUX\u003C/code> line if present.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">rhgb quiet\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnsure the \u003Ccode class=\"literal\">/etc/default/grub\u003C/code> file contains the following lines with all the specified options.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">GRUB_CMDLINE_LINUX=\"loglevel=3 crashkernel=auto console=tty1 console=ttyS0 earlyprintk=ttyS0 rootdelay=300\"\nGRUB_TIMEOUT_STYLE=countdown\nGRUB_TERMINAL=\"serial console\"\nGRUB_SERIAL_COMMAND=\"serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1\"\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tIf you do not plan to run your workloads on HDDs, add \u003Ccode class=\"literal\">elevator=none\u003C/code> to the end of the \u003Ccode class=\"literal\">GRUB_CMDLINE_LINUX\u003C/code> line.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThis sets the I/O scheduler to \u003Ccode class=\"literal\">none\u003C/code>, which improves I/O performance when running workloads on SSDs.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRegenerate the \u003Ccode class=\"literal\">grub.cfg\u003C/code> file.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tOn a BIOS-based machine:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.2 and earlier:\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.3 and later:\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg --update-bls-cmdline\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tOn a UEFI-based machine:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.2 and earlier:\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.3 and later:\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg --update-bls-cmdline\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tIf your system uses a non-default location for \u003Ccode class=\"literal\">grub.cfg\u003C/code>, adjust the command accordingly.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConfigure the Windows Azure Linux Agent (\u003Ccode class=\"literal\">WALinuxAgent\u003C/code>):\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tInstall and enable the \u003Ccode class=\"literal\">WALinuxAgent\u003C/code> package.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install WALinuxAgent -y\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable waagent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo ensure that a swap partition is not used in provisioned VMs, edit the following lines in the \u003Ccode class=\"literal\">/etc/waagent.conf\u003C/code> file.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Provisioning.DeleteRootPassword=y\nResourceDisk.Format=n\nResourceDisk.EnableSwap=n\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPrepare the VM for Azure provisioning:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUnregister the VM from Red Hat Subscription Manager.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager unregister\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tClean up the existing provisioning details.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>waagent -force -deprovision\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThis command generates warnings, which are expected because Azure handles the provisioning of VMs automatically.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tClean the shell history and shut down the VM.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>export HISTSIZE=0\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>poweroff\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"convert-the-image_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.4. Converting the image to a fixed VHD format\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAll Microsoft Azure VM images must be in a fixed \u003Ccode class=\"literal\">VHD\u003C/code> format. The image must be aligned on a 1 MB boundary before it is converted to VHD. To convert the image from \u003Ccode class=\"literal\">qcow2\u003C/code> to a fixed \u003Ccode class=\"literal\">VHD\u003C/code> format and align the image, see the following procedure. Once you have converted the image, you can upload it to Azure.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConvert the image from \u003Ccode class=\"literal\">qcow2\u003C/code> to \u003Ccode class=\"literal\">raw\u003C/code> format.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img convert -f qcow2 -O raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-name&gt;\u003C/em>\u003C/span>.qcow2 \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-name&gt;\u003C/em>\u003C/span>.raw\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a shell script with the following content.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">#!/bin/bash\nMB=$((1024 * 1024))\nsize=$(qemu-img info -f raw --output json \"$1\" | gawk 'match($0, /\"virtual-size\": ([0-9]+),/, val) {print val[1]}')\nrounded_size=$((($size/$MB + 1) * $MB))\nif [ $(($size % $MB)) -eq  0 ]\nthen\n echo \"Your image is already aligned. You do not need to resize.\"\n exit 1\nfi\necho \"rounded size = $rounded_size\"\nexport rounded_size\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the script. This example uses the name \u003Ccode class=\"literal\">align.sh\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sh align.sh \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf the message \u003Cspan class=\"emphasis\">\u003Cem>\"Your image is already aligned. You do not need to resize.\"\u003C/em>\u003C/span> displays, proceed to the following step.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf a value displays, your image is not aligned.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to convert the file to a fixed \u003Ccode class=\"literal\">VHD\u003C/code> format.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>The sample uses qemu-img version 2.12.0.\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image.xxx&gt;\u003C/em>\u003C/span>.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOnce converted, the \u003Ccode class=\"literal\">VHD\u003C/code> file is ready to upload to Azure.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">raw\u003C/code> image is not aligned, complete the following steps to align it.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tResize the \u003Ccode class=\"literal\">raw\u003C/code> file by using the rounded value displayed when you ran the verification script.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img resize -f raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;rounded-value&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tConvert the \u003Ccode class=\"literal\">raw\u003C/code> image file to a \u003Ccode class=\"literal\">VHD\u003C/code> format.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>The sample uses qemu-img version 2.12.0.\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image.xxx&gt;\u003C/em>\u003C/span>.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOnce converted, the \u003Ccode class=\"literal\">VHD\u003C/code> file is ready to upload to Azure.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.5. Installing the Azure CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following steps to install the Azure command line interface (Azure CLI 2.1). Azure CLI 2.1 is a Python-based utility that creates and manages VMs in Azure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need to have an account with \u003Ca class=\"link\" href=\"https://azure.microsoft.com/en-us/free/\">Microsoft Azure\u003C/a> before you can use the Azure CLI.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Azure CLI installation requires Python 3.x.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the Microsoft repository key.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a local Azure CLI repository entry.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo sh -c 'echo -e \"[azure-cli]\\nname=Azure CLI\\nbaseurl=https://packages.microsoft.com/yumrepos/azure-cli\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" &gt; /etc/yum.repos.d/azure-cli.repo'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpdate the \u003Ccode class=\"literal\">dnf\u003C/code> package index.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>dnf check-update\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck your Python version (\u003Ccode class=\"literal\">python --version\u003C/code>) and install Python 3.x, if necessary.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo dnf install python3\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the Azure CLI.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo dnf install -y azure-cli\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Azure CLI.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest\">Azure CLI\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest\">Azure CLI command reference\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"create-azure-resources_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.6. Creating resources in Azure\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following procedure to create the Azure resources that you need before you can upload the \u003Ccode class=\"literal\">VHD\u003C/code> file and create the Azure image.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAuthenticate your system with Azure and log in.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az login\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf a browser is available in your environment, the CLI opens your browser to the Azure sign-in page. See \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli?view=azure-cli-latest\">Sign in with Azure CLI\u003C/a> for more information and options.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a resource group in an Azure region.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az group create --name &lt;resource-group&gt; --location &lt;azure-region&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az group create --name azrhelclirsgrp --location southcentralus\u003C/strong>\u003C/span>\n{\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp\",\n  \"location\": \"southcentralus\",\n  \"managedBy\": null,\n  \"name\": \"azrhelclirsgrp\",\n  \"properties\": {\n    \"provisioningState\": \"Succeeded\"\n  },\n  \"tags\": null\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a storage account. See \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/rest/api/storagerp/srp_sku_types\">SKU Types\u003C/a> for more information about valid SKU values.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account create -l &lt;azure-region&gt; -n &lt;storage-account-name&gt; -g &lt;resource-group&gt; --sku &lt;sku_type&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account create -l southcentralus -n azrhelclistact -g azrhelclirsgrp --sku Standard_LRS\u003C/strong>\u003C/span>\n{\n  \"accessTier\": null,\n  \"creationTime\": \"2017-04-05T19:10:29.855470+00:00\",\n  \"customDomain\": null,\n  \"encryption\": null,\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Storage/storageAccounts/azrhelclistact\",\n  \"kind\": \"StorageV2\",\n  \"lastGeoFailoverTime\": null,\n  \"location\": \"southcentralus\",\n  \"name\": \"azrhelclistact\",\n  \"primaryEndpoints\": {\n    \"blob\": \"https://azrhelclistact.blob.core.windows.net/\",\n    \"file\": \"https://azrhelclistact.file.core.windows.net/\",\n    \"queue\": \"https://azrhelclistact.queue.core.windows.net/\",\n    \"table\": \"https://azrhelclistact.table.core.windows.net/\"\n},\n\"primaryLocation\": \"southcentralus\",\n\"provisioningState\": \"Succeeded\",\n\"resourceGroup\": \"azrhelclirsgrp\",\n\"secondaryEndpoints\": null,\n\"secondaryLocation\": null,\n\"sku\": {\n  \"name\": \"Standard_LRS\",\n  \"tier\": \"Standard\"\n},\n\"statusOfPrimary\": \"available\",\n\"statusOfSecondary\": null,\n\"tags\": {},\n  \"type\": \"Microsoft.Storage/storageAccounts\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGet the storage account connection string.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account show-connection-string -n &lt;storage-account-name&gt; -g &lt;resource-group&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account show-connection-string -n azrhelclistact -g azrhelclirsgrp\u003C/strong>\u003C/span>\n{\n  \"connectionString\": \"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...==\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExport the connection string by copying the connection string and pasting it into the following command. This string connects your system to the storage account.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>export AZURE_STORAGE_CONNECTION_STRING=\"&lt;storage-connection-string&gt;\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>export AZURE_STORAGE_CONNECTION_STRING=\"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...==\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the storage container.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage container create -n &lt;container-name&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage container create -n azrhelclistcont\u003C/strong>\u003C/span>\n{\n  \"created\": true\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a virtual network.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az network vnet create -g &lt;resource group&gt; --name &lt;vnet-name&gt; --subnet-name &lt;subnet-name&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az network vnet create --resource-group azrhelclirsgrp --name azrhelclivnet1 --subnet-name azrhelclisubnet1\u003C/strong>\u003C/span>\n{\n  \"newVNet\": {\n    \"addressSpace\": {\n      \"addressPrefixes\": [\n      \"10.0.0.0/16\"\n      ]\n  },\n  \"dhcpOptions\": {\n    \"dnsServers\": []\n  },\n  \"etag\": \"W/\\\"\\\"\",\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1\",\n  \"location\": \"southcentralus\",\n  \"name\": \"azrhelclivnet1\",\n  \"provisioningState\": \"Succeeded\",\n  \"resourceGroup\": \"azrhelclirsgrp\",\n  \"resourceGuid\": \"0f25efee-e2a6-4abe-a4e9-817061ee1e79\",\n  \"subnets\": [\n    {\n      \"addressPrefix\": \"10.0.0.0/24\",\n      \"etag\": \"W/\\\"\\\"\",\n      \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1/subnets/azrhelclisubnet1\",\n      \"ipConfigurations\": null,\n      \"name\": \"azrhelclisubnet1\",\n      \"networkSecurityGroup\": null,\n      \"provisioningState\": \"Succeeded\",\n      \"resourceGroup\": \"azrhelclirsgrp\",\n      \"resourceNavigationLinks\": null,\n      \"routeTable\": null\n    }\n  ],\n  \"tags\": {},\n  \"type\": \"Microsoft.Network/virtualNetworks\",\n  \"virtualNetworkPeerings\": null\n  }\n}\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/managed-disks-overview\">Azure Managed Disks Overview\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/rest/api/storagerp/srp_sku_types\">SKU Types\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"upload-image-to-azure_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.7. Uploading and creating an Azure image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following steps to upload the \u003Ccode class=\"literal\">VHD\u003C/code> file to your container and create an Azure custom image.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe exported storage connection string does not persist after a system reboot. If any of the commands in the following steps fail, export the connection string again.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpload the \u003Ccode class=\"literal\">VHD\u003C/code> file to the storage container. It may take several minutes. To get a list of storage containers, enter the \u003Ccode class=\"literal command\">az storage container list\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob upload \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--account-name &lt;storage-account-name&gt; --container-name &lt;container-name&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type page --file &lt;path-to-vhd&gt; --name &lt;image-name&gt;.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob upload \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--account-name azrhelclistact --container-name azrhelclistcont \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--type page --file rhel-image-{ProductNumber}.vhd --name rhel-image-{ProductNumber}.vhd\u003C/strong>\u003C/span>\n\nPercent complete: %100.0\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGet the URL for the uploaded \u003Ccode class=\"literal\">VHD\u003C/code> file to use in the following step.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob url -c &lt;container-name&gt; -n &lt;image-name&gt;.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob url -c azrhelclistcont -n rhel-image-9.vhd \"https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the Azure custom image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az image create -n &lt;image-name&gt; -g &lt;resource-group&gt; -l &lt;azure-region&gt; --source &lt;URL&gt; --os-type linux\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe default hypervisor generation of the VM is V1. You can optionally specify a V2 hypervisor generation by including the option \u003Ccode class=\"literal\">--hyper-v-generation V2\u003C/code>. Generation 2 VMs use a UEFI-based boot architecture. See \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/linux/generation-2\">Support for generation 2 VMs on Azure\u003C/a> for information about generation 2 VMs.\n\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\tThe command may return the error \"Only blobs formatted as VHDs can be imported.\" This error may mean that the image was not aligned to the nearest 1 MB boundary before it was converted to \u003Ccode class=\"literal\">VHD\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az image create -n rhel9 -g azrhelclirsgrp2 -l southcentralus --source https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd --os-type linux\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.8. Creating and starting the VM in Azure\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following steps provide the minimum command options to create a managed-disk Azure VM from the image. See \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/vm?view=azure-cli-latest#az_vm_create\">az vm create\u003C/a> for additional options.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter the following command to create the VM.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm create \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-g \u003Cspan class=\"emphasis\">\u003Cem>&lt;resource-group&gt;\u003C/em>\u003C/span> -l \u003Cspan class=\"emphasis\">\u003Cem>&lt;azure-region&gt;\u003C/em>\u003C/span> -n \u003Cspan class=\"emphasis\">\u003Cem>&lt;vm-name&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--vnet-name \u003Cspan class=\"emphasis\">\u003Cem>&lt;vnet-name&gt;\u003C/em>\u003C/span> --subnet \u003Cspan class=\"emphasis\">\u003Cem>&lt;subnet-name&gt;\u003C/em>\u003C/span> --size Standard_A2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--os-disk-name \u003Cspan class=\"emphasis\">\u003Cem>&lt;simple-name&gt;\u003C/em>\u003C/span> --admin-username \u003Cspan class=\"emphasis\">\u003Cem>&lt;administrator-name&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--generate-ssh-keys --image \u003Cspan class=\"emphasis\">\u003Cem>&lt;path-to-image&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe option \u003Ccode class=\"literal\">--generate-ssh-keys\u003C/code> creates a private/public key pair. Private and public key files are created in \u003Ccode class=\"literal\">~/.ssh\u003C/code> on your system. The public key is added to the \u003Ccode class=\"literal\">authorized_keys\u003C/code> file on the VM for the user specified by the \u003Ccode class=\"literal\">--admin-username\u003C/code> option. See \u003Ca class=\"link\" href=\"#other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure\" title=\"3.9. Other authentication methods\">Other authentication methods\u003C/a> for additional information.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm create \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>-g azrhelclirsgrp2 -l southcentralus -n rhel-azure-vm-1 \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--vnet-name azrhelclivnet1 --subnet azrhelclisubnet1 --size Standard_A2 \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--os-disk-name vm-1-osdisk --admin-username clouduser \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--generate-ssh-keys --image rhel9\u003C/strong>\u003C/span>\n\n{\n  \"fqdns\": \"\",\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Compute/virtualMachines/rhel-azure-vm-1\",\n  \"location\": \"southcentralus\",\n  \"macAddress\": \"\",\n  \"powerState\": \"VM running\",\n  \"privateIpAddress\": \"10.0.0.4\",\n  \"publicIpAddress\": \"\u003Cspan class=\"emphasis\">\u003Cem>&lt;public-IP-address&gt;\u003C/em>\u003C/span>\",\n  \"resourceGroup\": \"azrhelclirsgrp2\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote the \u003Ccode class=\"literal\">publicIpAddress\u003C/code>. You need this address to log in to the VM in the following step.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart an SSH session and log in to the VM.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>ssh -i /home/clouduser/.ssh/id_rsa clouduser@\u003Cspan class=\"emphasis\">\u003Cem>&lt;public-IP-address&gt;\u003C/em>\u003C/span>.\u003C/strong>\u003C/span>\nThe authenticity of host ',\u003Cspan class=\"emphasis\">\u003Cem>&lt;public-IP-address&gt;\u003C/em>\u003C/span>' can't be established.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '\u003Cspan class=\"emphasis\">\u003Cem>&lt;public-IP-address&gt;\u003C/em>\u003C/span>' (ECDSA) to the list of known hosts.\n\n[clouduser@rhel-azure-vm-1 ~]$\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tIf you see a user prompt, you have successfully deployed your Azure VM.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can now go to the Microsoft Azure portal and check the audit logs and properties of your resources. You can manage your VMs directly in this portal. If you are managing multiple VMs, you should use the Azure CLI. The Azure CLI provides a powerful interface to your resources in Azure. Enter \u003Ccode class=\"literal\">az --help\u003C/code> in the CLI or see the \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest\">Azure CLI command reference\u003C/a> to learn more about the commands you use to manage your VMs in Microsoft Azure.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.9. Other authentication methods\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWhile recommended for increased security, using the Azure-generated key pair is not required. The following examples show two methods for SSH authentication.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Example 1:\u003C/strong>\u003C/span> These command options provision a new VM without generating a public key file. They allow SSH authentication by using a password.\n\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm create \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-g &lt;resource-group&gt; -l &lt;azure-region&gt; -n &lt;vm-name&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--vnet-name &lt;vnet-name&gt; --subnet &lt;subnet-name&gt; --size Standard_A2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--os-disk-name &lt;simple-name&gt; --authentication-type password \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--admin-username &lt;administrator-name&gt; --admin-password &lt;ssh-password&gt; --image &lt;path-to-image&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cpre class=\"screen\">$ ssh \u003Cspan class=\"emphasis\">\u003Cem>&lt;admin-username&gt;\u003C/em>\u003C/span>@\u003Cspan class=\"emphasis\">\u003Cem>&lt;public-ip-address&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Example 2:\u003C/strong>\u003C/span> These command options provision a new Azure VM and allow SSH authentication by using an existing public key file.\n\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm create \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-g &lt;resource-group&gt; -l \u003Cspan class=\"emphasis\">\u003Cem>&lt;azure-region&gt;\u003C/em>\u003C/span> -n \u003Cspan class=\"emphasis\">\u003Cem>&lt;vm-name&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--vnet-name \u003Cspan class=\"emphasis\">\u003Cem>&lt;vnet-name&gt;\u003C/em>\u003C/span> --subnet \u003Cspan class=\"emphasis\">\u003Cem>&lt;subnet-name&gt;\u003C/em>\u003C/span> --size Standard_A2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--os-disk-name \u003Cspan class=\"emphasis\">\u003Cem>&lt;simple-name&gt;\u003C/em>\u003C/span> --admin-username \u003Cspan class=\"emphasis\">\u003Cem>&lt;administrator-name&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--ssh-key-value \u003Cspan class=\"emphasis\">\u003Cem>&lt;path-to-existing-ssh-key&gt;\u003C/em>\u003C/span> --image &lt;path-to-image&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ssh -i \u003Cspan class=\"emphasis\">\u003Cem>&lt;path-to-existing-ssh-key&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;admin-username&gt;\u003C/em>\u003C/span>@\u003Cspan class=\"emphasis\">\u003Cem>&lt;public-ip-address&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"attaching-subscriptions_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.10. Attaching Red Hat subscriptions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUsing the \u003Ccode class=\"literal\">subscription-manager\u003C/code> command, you can register and attach your Red Hat subscription to a RHEL instance.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou must have enabled your subscriptions.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegister your system.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager register --auto-attach\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAttach your subscriptions.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou can use an activation key to attach subscriptions. See \u003Ca class=\"link\" href=\"https://access.redhat.com/articles/1378093\">Creating Red Hat Customer Portal Activation Keys\u003C/a> for more information.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tAlternatively, you can manually attach a subscription by using the ID of the subscription pool (Pool ID). See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/quick_registration_for_rhel/sub-cli\">Attaching and Removing Subscriptions Through the Command Line\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Optional:\u003C/strong>\u003C/span> To collect various system metrics about the instance in the \u003Ca class=\"link\" href=\"console.redhat.com\">Red Hat Hybrid Cloud Console\u003C/a>, you can register the instance with \u003Ca class=\"link\" href=\"https://www.redhat.com/en/technologies/management/insights\">Red Hat Insights\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>insights-client register --display-name \u003Cspan class=\"emphasis\">\u003Cem>&lt;display-name-value&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor information on further configuration of Red Hat Insights, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/client_configuration_guide_for_red_hat_insights/index\">Client Configuration Guide for Red Hat Insights\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/articles/1378093\">Creating Red Hat Customer Portal Activation Keys\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/quick_registration_for_rhel/sub-cli\">Attaching and Removing Subscriptions Through the Command Line\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/rhsm/index\">Using and Configuring Red Hat Subscription Manager\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/client_configuration_guide_for_red_hat_insights/index\">Client Configuration Guide for Red Hat Insights\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-up-automatic-registration-on-azure-gold-images_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.11. Setting up automatic registration on Azure Gold Images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo make deploying RHEL 9 virtual machines (VM) on Micorsoft Azure faster and more comfortable, you can set up Gold Images of RHEL 9 to be automatically registered to the Red Hat Subscription Manager (RHSM).\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL 9 Gold Images are available to you in Microsoft Azure. For instructions, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/2023/html/red_hat_cloud_access_reference_guide/understanding-gold-images_cloud-access#using-gold-images-on-azure_cloud-access\">Using Gold Images on Azure\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tA Microsoft Azure account can only be attached to a single Red Hat account at a time. Therefore, ensure no other users require access to the Azure account before attaching it to your Red Hat one.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the Gold Image to create a RHEL 9 VM in your Azure instance. For instructions, see \u003Ca class=\"link\" href=\"#create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure\" title=\"3.8. Creating and starting the VM in Azure\">Creating and starting the VM in Azure\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStart the created VM.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the RHEL 9 VM, enable automatic registration.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager config --rhsmcertd.auto_registration=1\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">rhsmcertd\u003C/code> service.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable rhsmcertd.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable the \u003Ccode class=\"literal\">redhat.repo\u003C/code> repository.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager config --rhsm.manage_repos=0\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPower off the VM, and save it as a managed image on Azure. For instructions, see \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/linux/capture-image\">How to create a managed image of a virtual machine or VHD\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate VMs by using the managed image. They will be automatically subscribed to RHSM.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn a RHEL 9 VM created using the above instructions, verify the system is registered to RHSM by executing the \u003Ccode class=\"literal\">subscription-manager identity\u003C/code> command. On a successfully registered system, this displays the UUID of the system. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager identity\u003C/strong>\u003C/span>\nsystem identity: fdc46662-c536-43fb-a18a-bbcb283102b7\nname: 192.168.122.222\norg name: 6340056\norg ID: 6340056\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/redhat/byos\">Red Hat Gold Images in Azure\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/redhat/redhat-images\">Overview of RHEL images in Azure\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_cloud_platform/2021/html/configuring_sources_for_red_hat_services/configuring-sources-for-redhat-services_crc-sources#adding-cloud-sources_\">Configuring cloud sources for Red Hat services\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-kdump-for-microsoft-azure-instances_deploying-a-virtual-machine-on-microsoft-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.12. Configuring kdump for Microsoft Azure instances\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf a kernel crash occurs in a RHEL instance, you can use the \u003Ccode class=\"literal\">kdump\u003C/code> service to determine the cause of the crash. If \u003Ccode class=\"literal\">kdump\u003C/code> is configured correctly when your instance kernel terminates unexpectedly, \u003Ccode class=\"literal\">kdump\u003C/code> generates a dump file, known as crash dump or a \u003Ccode class=\"literal\">vmcore\u003C/code> file. You can then analyze the file to find why the crash occurred and to debug your system.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor \u003Ccode class=\"literal\">kdump\u003C/code> to work on Microsoft Azure instances, you might need to adjust the \u003Ccode class=\"literal\">kdump\u003C/code> reserved memory and the \u003Ccode class=\"literal\">vmcore\u003C/code> target to fit VM sizes and RHEL versions.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou are using a Microsoft Azure environment that supports \u003Ccode class=\"literal\">kdump\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tStandard_DS2_v2 VM\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tStandard NV16as v4\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tStandard M416-208s v2\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tStandard M416ms v2\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have \u003Ccode class=\"literal\">root\u003C/code> permissions on the system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYour system meets the requirements for \u003Ccode class=\"literal\">kdump\u003C/code> configurations and targets. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#supported-kdump-configurations-and-targets_managing-monitoring-and-updating-the-kernel\">Supported kdump configurations and targets\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnsure that \u003Ccode class=\"literal\">kdump\u003C/code> and other necessary packages are installed on your system.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install kexec-tools\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the default location for crash dump files is set in the \u003Ccode class=\"literal\">kdump\u003C/code> configuration file and that the \u003Ccode class=\"literal\">/var/crash\u003C/code> file is available.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grep -v \"#\" /etc/kdump.conf\u003C/strong>\u003C/span>\n\npath /var/crash\ncore_collector makedumpfile -l --message-level 7 -d 31\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBased on the size and version of your RHEL virtual machine (VM) instance, decide whether you need a \u003Ccode class=\"literal\">vmcore\u003C/code> target with more free space, such as \u003Ccode class=\"literal\">/mnt/crash\u003C/code>. To do so, use the following table.\n\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140444516697648\">\u003Ctable class=\"gt-4-cols lt-7-rows\">\u003Ccaption>Table 3.4. Virtual machine sizes that have been tested with GEN2 VM on Azure\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 20%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 20%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 20%; \" class=\"col_4\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 20%; \" class=\"col_5\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444516689584\" scope=\"col\">RHEL Version\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444516688496\" scope=\"col\">Standard DS1 v2 (1 vCPU, 3.5GiB)\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444516687392\" scope=\"col\">Standard NV16as v4 (16 vCPUs, 56 GiB)\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444516686288\" scope=\"col\">Standard M416-208s v2 (208 vCPUs, 5700 GiB)\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444516685232\" scope=\"col\">Standard M416ms v2 (416 vCPUs, 11400 GiB)\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444516689584\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\tRHEL 9.0 - RHEL 9.3\n\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444516688496\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\tDefault\n\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444516687392\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\tDefault\n\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444516686288\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\tTarget\n\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444516685232\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\tTarget\n\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Default\u003C/strong>\u003C/span> indicates that \u003Ccode class=\"literal\">kdump\u003C/code> works as expected with the default memory and the default \u003Ccode class=\"literal\">kdump\u003C/code> target. The default \u003Ccode class=\"literal\">kdump\u003C/code> target is \u003Ccode class=\"literal\">/var/crash\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Target\u003C/strong>\u003C/span> indicates that \u003Ccode class=\"literal\">kdump\u003C/code> works as expected with the default memory. However, you might need to assign a target with more free space.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf your instance requires it, assign a target with more free space, such as \u003Ccode class=\"literal\">/mnt/crash\u003C/code>. To do so, edit the \u003Ccode class=\"literal\">/etc/kdump.conf\u003C/code> file and replace the default path.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sed s/\"path /var/crash\"/\"path /mnt/crash\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe option path \u003Ccode class=\"literal\">/mnt/crash\u003C/code> represents the path to the file system in which \u003Ccode class=\"literal\">kdump\u003C/code> saves the crash dump file.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor more options, such as writing the crash dump file to a different partition, directly to a device or storing it to a remote machine, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#configuring-the-kdump-target_configuring-kdump-on-the-command-line\">Configuring the kdump target\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf your instance requires it, increase the crash kernel size to the sufficient size for \u003Ccode class=\"literal\">kdump\u003C/code> to capture the \u003Ccode class=\"literal\">vmcore\u003C/code> by adding the respective boot parameter.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, for a Standard M416-208s v2 VM, the sufficient size is 512 MB, so the boot parameter would be \u003Ccode class=\"literal\">crashkernel=512M\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOpen the GRUB configuration file and add \u003Ccode class=\"literal\">crashkernel=512M\u003C/code> to the boot parameter line.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>vi /etc/default/grub\u003C/strong>\u003C/span>\n\nGRUB_CMDLINE_LINUX=\"console=tty1 console=ttyS0 earlyprintk=ttyS0 rootdelay=300 crashkernel=512M\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUpdate the GRUB configuration file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIn RHEL 9.2 and earlier:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIn RHEL 9.3 and later:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg --update-bls-cmdline\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReboot the VM to allocate separate kernel crash memory to the VM.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnsure that \u003Ccode class=\"literal\">kdump\u003C/code> is active and running.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status kdump\u003C/strong>\u003C/span>\n● kdump.service - Crash recovery kernel arming\n   Loaded: loaded (/usr/lib/systemd/system/kdump.service; enabled; vendor prese&gt;\n   Active: active (exited) since Fri 2024-02-09 10:50:18 CET; 1h 20min ago\n  Process: 1252 ExecStart=/usr/bin/kdumpctl start (code=exited, status=0/SUCCES&gt;\n Main PID: 1252 (code=exited, status=0/SUCCESS)\n    Tasks: 0 (limit: 16975)\n   Memory: 512B\n   CGroup: /system.slice/kdump.service\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#installing-kdump_managing-monitoring-and-updating-the-kernel\">Installing kdump\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/6038#dumptargets\">How to troubleshoot kernel crashes, hangs, or reboots with kdump on Red Hat Enterprise Linux\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_monitoring_and_updating_the_kernel/index#memory-requirements-for-kdump_supported-kdump-configurations-and-targets\">Memory requirements for kdump\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.13. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/public-cloud\">Red Hat in the Public Cloud\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/red_hat_cloud_access_reference_guide/index\">Red Hat Cloud Access Reference Guide\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/articles/2758981\">Frequently Asked Questions and Recommended Practices for Microsoft Azure\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-rhel-high-availability-on-azure_cloud-content-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 4. Configuring a Red Hat High Availability cluster on Microsoft Azure\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tTo create a cluster where RHEL nodes automatically redistribute their workloads if a node failure occurs, use the Red Hat High Availability Add-On. Such high availability (HA) clusters can also be hosted on public cloud platforms, including Microsoft Azure. Creating RHEL HA clusters on Azure is similar to creating HA clusters in non-cloud environments, with certain specifics.\n\t\t\u003C/p>\u003Cp>\n\t\t\tTo configure a Red Hat HA cluster on Azure using Azure virtual machine (VM) instances as cluster nodes, see the following sections. The procedures in these sections assume that you are creating a custom image for Azure. You have a number of options for obtaining the RHEL 9 images you use for your cluster. See \u003Ca class=\"link\" href=\"#azure-image-options_deploying-a-virtual-machine-on-microsoft-azure\" title=\"3.1. Red Hat Enterprise Linux image options on Azure\">Red Hat Enterprise Linux Image Options on Azure\u003C/a> for information on image options for Azure.\n\t\t\u003C/p>\u003Cp>\n\t\t\tThe following sections provide:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tPrerequisite procedures for setting up your environment for Azure. After you set up your environment, you can create and configure Azure VM instances.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tProcedures specific to the creation of HA clusters, which transform individual nodes into a cluster of HA nodes on Azure. These include procedures for installing the High Availability packages and agents on each cluster node, configuring fencing, and installing Azure network resource agents.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tSign up for a \u003Ca class=\"link\" href=\"https://access.redhat.com/\">Red Hat Customer Portal account\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSign up for a \u003Ca class=\"link\" href=\"https://azure.microsoft.com/en-us/\">Microsoft Azure account\u003C/a> with administrator privileges.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou need to install Azure command line interface (CLI). For more information, see \u003Ca class=\"link\" href=\"#install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure\" title=\"3.5. Installing the Azure CLI\">Installing the Azure CLI\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"the-benefits-of-using-high-availability-clusters-on-public-cloud-platforms_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.1. The benefits of using high-availability clusters on public cloud platforms\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tA high-availability (HA) cluster is a set of computers (called \u003Cspan class=\"emphasis\">\u003Cem>nodes\u003C/em>\u003C/span>) that are linked together to run a specific workload. The purpose of HA clusters is to provide redundancy in case of a hardware or software failure. If a node in the HA cluster fails, the Pacemaker cluster resource manager distributes the workload to other nodes and no noticeable downtime occurs in the services that are running on the cluster.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can also run HA clusters on public cloud platforms. In this case, you would use virtual machine (VM) instances in the cloud as the individual cluster nodes. Using HA clusters on a public cloud platform has the following benefits:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImproved availability: In case of a VM failure, the workload is quickly redistributed to other nodes, so running services are not disrupted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tScalability: Additional nodes can be started when demand is high and stopped when demand is low.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCost-effectiveness: With the pay-as-you-go pricing, you pay only for nodes that are running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSimplified management: Some public cloud platforms offer management interfaces to make configuring HA clusters easier.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo enable HA on your Red Hat Enterprise Linux (RHEL) systems, Red Hat offers a High Availability Add-On. The High Availability Add-On provides all necessary components for creating HA clusters on RHEL systems. The components include high availability service management and cluster administration tools.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_high_availability_clusters/assembly_overview-of-high-availability-configuring-and-managing-high-availability-clusters\">High Availability Add-On overview\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"create-azure-resources-for-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.2. Creating resources in Azure\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following procedure to create a region, resource group, storage account, virtual network, and availability set. You need these resources to set up a cluster on Microsoft Azure.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAuthenticate your system with Azure and log in.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az login\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf a browser is available in your environment, the CLI opens your browser to the Azure sign-in page.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az login\u003C/strong>\u003C/span>\n\nTo sign in, use a web browser to open the page https://aka.ms/devicelogin and enter the code FDMSCMETZ to authenticate.\n  [\n    {\n      \"cloudName\": \"AzureCloud\",\n      \"id\": \"\u003Cspan class=\"emphasis\">\u003Cem>Subscription ID\u003C/em>\u003C/span>\",\n      \"isDefault\": true,\n      \"name\": \"\u003Cspan class=\"emphasis\">\u003Cem>MySubscriptionName\u003C/em>\u003C/span>\",\n      \"state\": \"Enabled\",\n      \"tenantId\": \"\u003Cspan class=\"emphasis\">\u003Cem>Tenant ID\u003C/em>\u003C/span>\",\n      \"user\": {\n        \"name\": \"\u003Cspan class=\"emphasis\">\u003Cem>clouduser@company.com\u003C/em>\u003C/span>\",\n        \"type\": \"user\"\n      }\n    }\n  ]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a resource group in an Azure region.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az group create --name \u003Cspan class=\"emphasis\">\u003Cem>resource-group\u003C/em>\u003C/span> --location \u003Cspan class=\"emphasis\">\u003Cem>azure-region\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az group create --name \u003Cspan class=\"emphasis\">\u003Cem>azrhelclirsgrp\u003C/em>\u003C/span> --location \u003Cspan class=\"emphasis\">\u003Cem>southcentralus\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n{\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp\",\n  \"location\": \"southcentralus\",\n  \"managedBy\": null,\n  \"name\": \"azrhelclirsgrp\",\n  \"properties\": {\n    \"provisioningState\": \"Succeeded\"\n  },\n  \"tags\": null\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a storage account.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account create -l \u003Cspan class=\"emphasis\">\u003Cem>azure-region\u003C/em>\u003C/span> -n \u003Cspan class=\"emphasis\">\u003Cem>storage-account-name\u003C/em>\u003C/span> -g \u003Cspan class=\"emphasis\">\u003Cem>resource-group\u003C/em>\u003C/span> --sku \u003Cspan class=\"emphasis\">\u003Cem>sku_type\u003C/em>\u003C/span> --kind StorageV2\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account create -l southcentralus -n azrhelclistact -g azrhelclirsgrp --sku Standard_LRS --kind StorageV2\u003C/strong>\u003C/span>\n\n{\n  \"accessTier\": null,\n  \"creationTime\": \"2017-04-05T19:10:29.855470+00:00\",\n  \"customDomain\": null,\n  \"encryption\": null,\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Storage/storageAccounts/azrhelclistact\",\n  \"kind\": \"StorageV2\",\n  \"lastGeoFailoverTime\": null,\n  \"location\": \"southcentralus\",\n  \"name\": \"azrhelclistact\",\n  \"primaryEndpoints\": {\n    \"blob\": \"https://azrhelclistact.blob.core.windows.net/\",\n    \"file\": \"https://azrhelclistact.file.core.windows.net/\",\n    \"queue\": \"https://azrhelclistact.queue.core.windows.net/\",\n    \"table\": \"https://azrhelclistact.table.core.windows.net/\"\n},\n\"primaryLocation\": \"southcentralus\",\n\"provisioningState\": \"Succeeded\",\n\"resourceGroup\": \"azrhelclirsgrp\",\n\"secondaryEndpoints\": null,\n\"secondaryLocation\": null,\n\"sku\": {\n  \"name\": \"Standard_LRS\",\n  \"tier\": \"Standard\"\n},\n\"statusOfPrimary\": \"available\",\n\"statusOfSecondary\": null,\n\"tags\": {},\n  \"type\": \"Microsoft.Storage/storageAccounts\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGet the storage account connection string.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account show-connection-string -n \u003Cspan class=\"emphasis\">\u003Cem>storage-account-name\u003C/em>\u003C/span> -g \u003Cspan class=\"emphasis\">\u003Cem>resource-group\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage account show-connection-string -n azrhelclistact -g azrhelclirsgrp\u003C/strong>\u003C/span>\n{\n  \"connectionString\": \"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...==\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExport the connection string by copying the connection string and pasting it into the following command. This string connects your system to the storage account.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>export AZURE_STORAGE_CONNECTION_STRING=\"\u003Cspan class=\"emphasis\">\u003Cem>storage-connection-string\u003C/em>\u003C/span>\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>export AZURE_STORAGE_CONNECTION_STRING=\"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azrhelclistact;AccountKey=NreGk...==\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the storage container.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage container create -n \u003Cspan class=\"emphasis\">\u003Cem>container-name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage container create -n azrhelclistcont\u003C/strong>\u003C/span>\n\n{\n  \"created\": true\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a virtual network. All cluster nodes must be in the same virtual network.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az network vnet create -g \u003Cspan class=\"emphasis\">\u003Cem>resource group\u003C/em>\u003C/span> --name \u003Cspan class=\"emphasis\">\u003Cem>vnet-name\u003C/em>\u003C/span> --subnet-name \u003Cspan class=\"emphasis\">\u003Cem>subnet-name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az network vnet create --resource-group azrhelclirsgrp --name azrhelclivnet1 --subnet-name azrhelclisubnet1\u003C/strong>\u003C/span>\n{\n  \"newVNet\": {\n    \"addressSpace\": {\n      \"addressPrefixes\": [\n      \"10.0.0.0/16\"\n      ]\n  },\n  \"dhcpOptions\": {\n    \"dnsServers\": []\n  },\n  \"etag\": \"W/\\\"\\\"\",\n  \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1\",\n  \"location\": \"southcentralus\",\n  \"name\": \"azrhelclivnet1\",\n  \"provisioningState\": \"Succeeded\",\n  \"resourceGroup\": \"azrhelclirsgrp\",\n  \"resourceGuid\": \"0f25efee-e2a6-4abe-a4e9-817061ee1e79\",\n  \"subnets\": [\n    {\n      \"addressPrefix\": \"10.0.0.0/24\",\n      \"etag\": \"W/\\\"\\\"\",\n      \"id\": \"/subscriptions//resourceGroups/azrhelclirsgrp/providers/Microsoft.Network/virtualNetworks/azrhelclivnet1/subnets/azrhelclisubnet1\",\n      \"ipConfigurations\": null,\n      \"name\": \"azrhelclisubnet1\",\n      \"networkSecurityGroup\": null,\n      \"provisioningState\": \"Succeeded\",\n      \"resourceGroup\": \"azrhelclirsgrp\",\n      \"resourceNavigationLinks\": null,\n      \"routeTable\": null\n    }\n  ],\n  \"tags\": {},\n  \"type\": \"Microsoft.Network/virtualNetworks\",\n  \"virtualNetworkPeerings\": null\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate an availability set. All cluster nodes must be in the same availability set.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm availability-set create --name \u003Cspan class=\"emphasis\">\u003Cem>MyAvailabilitySet\u003C/em>\u003C/span> --resource-group \u003Cspan class=\"emphasis\">\u003Cem>MyResourceGroup\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm availability-set create --name rhelha-avset1 --resource-group azrhelclirsgrp\u003C/strong>\u003C/span>\n{\n  \"additionalProperties\": {},\n    \"id\": \"/subscriptions/.../resourceGroups/azrhelclirsgrp/providers/Microsoft.Compute/availabilitySets/rhelha-avset1\",\n    \"location\": \"southcentralus\",\n    \"name\": “rhelha-avset1\",\n    \"platformFaultDomainCount\": 2,\n    \"platformUpdateDomainCount\": 5,\n\n[omitted]\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli?view=azure-cli-latest\">Sign in with Azure CLI\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/rest/api/storagerp/srp_sku_types\">SKU Types\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/managed-disks-overview\">Azure Managed Disks Overview\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"required-system-packages-for-azure-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.3. Required system packages for High Availability\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe procedure assumes you are creating a VM image for Azure HA that uses Red Hat Enterprise Linux. To successfully complete the procedure, the following packages must be installed.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140444515361824\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 4.1. System packages\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444515356064\" scope=\"col\">Package\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444515354976\" scope=\"col\">Repository\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444515353888\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515356064\"> \u003Cp>\n\t\t\t\t\t\t\t\tlibvirt\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515354976\"> \u003Cp>\n\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515353888\"> \u003Cp>\n\t\t\t\t\t\t\t\tOpen source API, daemon, and management tool for managing platform virtualization\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515356064\"> \u003Cp>\n\t\t\t\t\t\t\t\tvirt-install\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515354976\"> \u003Cp>\n\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515353888\"> \u003Cp>\n\t\t\t\t\t\t\t\tA command-line utility for building VMs\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515356064\"> \u003Cp>\n\t\t\t\t\t\t\t\tlibguestfs\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515354976\"> \u003Cp>\n\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515353888\"> \u003Cp>\n\t\t\t\t\t\t\t\tA library for accessing and modifying VM file systems\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515356064\"> \u003Cp>\n\t\t\t\t\t\t\t\tguestfs-tools\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515354976\"> \u003Cp>\n\t\t\t\t\t\t\t\trhel-9-for-x86_64-appstream-rpms\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444515353888\"> \u003Cp>\n\t\t\t\t\t\t\t\tSystem administration tools for VMs; includes the \u003Ccode class=\"literal\">virt-customize\u003C/code> utility\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"azure-vm-configuration-settings_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.4. Azure VM configuration settings\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAzure VMs must have the following configuration settings. Some of these settings are enabled during the initial VM creation. Other settings are set when provisioning the VM image for Azure. Keep these settings in mind as you move through the procedures. Refer to them as necessary.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140444514584304\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 4.2. VM configuration settings\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444517685632\" scope=\"col\">Setting\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140444517684544\" scope=\"col\">Recommendation\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517685632\"> \u003Cp>\n\t\t\t\t\t\t\t\tssh\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517684544\"> \u003Cp>\n\t\t\t\t\t\t\t\tssh must be enabled to provide remote access to your Azure VMs.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517685632\"> \u003Cp>\n\t\t\t\t\t\t\t\tdhcp\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517684544\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe primary virtual adapter should be configured for dhcp (IPv4 only).\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517685632\"> \u003Cp>\n\t\t\t\t\t\t\t\tSwap Space\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517684544\"> \u003Cp>\n\t\t\t\t\t\t\t\tDo not create a dedicated swap file or swap partition. You can configure swap space with the Windows Azure Linux Agent (WALinuxAgent).\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517685632\"> \u003Cp>\n\t\t\t\t\t\t\t\tNIC\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517684544\"> \u003Cp>\n\t\t\t\t\t\t\t\tChoose \u003Cspan class=\"strong strong\">\u003Cstrong>virtio\u003C/strong>\u003C/span> for the primary virtual network adapter.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517685632\"> \u003Cp>\n\t\t\t\t\t\t\t\tencryption\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140444517684544\"> \u003Cp>\n\t\t\t\t\t\t\t\tFor custom images, use Network Bound Disk Encryption (NBDE) for full disk encryption on Azure.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"installing-hyperv-drivers_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.5. Installing Hyper-V device drivers\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tMicrosoft provides network and storage device drivers as part of their Linux Integration Services (LIS) for Hyper-V package. You may need to install Hyper-V device drivers on the VM image prior to provisioning it as an Azure virtual machine (VM). Use the \u003Ccode class=\"literal command\">lsinitrd | grep hv\u003C/code> command to verify that the drivers are installed.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter the following \u003Ccode class=\"literal command\">grep\u003C/code> command to determine if the required Hyper-V device drivers are installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lsinitrd | grep hv\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the example below, all required drivers are installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lsinitrd | grep hv\u003C/strong>\u003C/span>\ndrwxr-xr-x   2 root     root            0 Aug 12 14:21 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv\n-rw-r--r--   1 root     root        31272 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/hv/hv_vmbus.ko.xz\n-rw-r--r--   1 root     root        25132 Aug 11 08:46 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/net/hyperv/hv_netvsc.ko.xz\n-rw-r--r--   1 root     root         9796 Aug 11 08:45 usr/lib/modules/3.10.0-932.el9.x86_64/kernel/drivers/scsi/hv_storvsc.ko.xz\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf all the drivers are not installed, complete the remaining steps.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tAn \u003Ccode class=\"literal\">hv_vmbus\u003C/code> driver may exist in the environment. Even if this driver is present, complete the following steps.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a file named \u003Ccode class=\"literal\">hv.conf\u003C/code> in \u003Ccode class=\"literal\">/etc/dracut.conf.d\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the following driver parameters to the \u003Ccode class=\"literal\">hv.conf\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">add_drivers+=\" hv_vmbus \"\nadd_drivers+=\" hv_netvsc \"\nadd_drivers+=\" hv_storvsc \"\nadd_drivers+=\" nvme \"\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tNote the spaces before and after the quotes, for example, \u003Ccode class=\"literal\">add_drivers+=\" hv_vmbus \"\u003C/code>. This ensures that unique drivers are loaded in the event that other Hyper-V drivers already exist in the environment.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate the \u003Ccode class=\"literal\">initramfs\u003C/code> image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dracut -f -v --regenerate-all\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReboot the machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRun the \u003Ccode class=\"literal command\">lsinitrd | grep hv\u003C/code> command to verify that the drivers are installed.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"making-configuration-changes_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.6. Making configuration changes required for a Microsoft Azure deployment\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tBefore you deploy your custom base image to Azure, you must perform additional configuration changes to ensure that the virtual machine (VM) can properly operate in Azure.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the VM.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegister the VM, and enable the Red Hat Enterprise Linux 9 repository.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager register --auto-attach\u003C/strong>\u003C/span>\nInstalled Product Current Status:\nProduct Name: Red Hat Enterprise Linux for x86_64\nStatus: Subscribed\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnsure that the \u003Ccode class=\"literal\">cloud-init\u003C/code> and \u003Ccode class=\"literal\">hyperv-daemons\u003C/code> packages are installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install cloud-init hyperv-daemons -y\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate \u003Ccode class=\"literal\">cloud-init\u003C/code> configuration files that are needed for integration with Azure services:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo enable logging to the Hyper-V Data Exchange Service (KVP), create the \u003Ccode class=\"literal\">/etc/cloud/cloud.cfg.d/10-azure-kvp.cfg\u003C/code> configuration file and add the following lines to that file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">reporting:\n    logging:\n        type: log\n    telemetry:\n        type: hyperv\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo add Azure as a datasource, create the \u003Ccode class=\"literal\">/etc/cloud/cloud.cfg.d/91-azure_datasource.cfg\u003C/code> configuration file, and add the following lines to that file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">datasource_list: [ Azure ]\ndatasource:\n    Azure:\n        apply_network_config: False\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo ensure that specific kernel modules are blocked from loading automatically, edit or create the \u003Ccode class=\"literal\">/etc/modprobe.d/blocklist.conf\u003C/code> file and add the following lines to that file.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">blacklist nouveau\nblacklist lbm-nouveau\nblacklist floppy\nblacklist amdgpu\nblacklist skx_edac\nblacklist intel_cstate\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tModify \u003Ccode class=\"literal\">udev\u003C/code> network device rules:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRemove the following persistent network device rules if present.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /etc/udev/rules.d/70-persistent-net.rules\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /etc/udev/rules.d/75-persistent-net-generator.rules\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /etc/udev/rules.d/80-net-name-slot-rules\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo ensure that Accelerated Networking on Azure works as intended, create a new network device rule \u003Ccode class=\"literal\">/etc/udev/rules.d/68-azure-sriov-nm-unmanaged.rules\u003C/code> and add the following line to it.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">SUBSYSTEM==\"net\", DRIVERS==\"hv_pci\", ACTION==\"add\", ENV{NM_UNMANAGED}=\"1\"\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">sshd\u003C/code> service to start automatically.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable sshd\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl is-enabled sshd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tModify kernel boot parameters:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/etc/default/grub\u003C/code> file, and ensure the \u003Ccode class=\"literal\">GRUB_TIMEOUT\u003C/code> line has the following value.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">GRUB_TIMEOUT=10\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRemove the following options from the end of the \u003Ccode class=\"literal\">GRUB_CMDLINE_LINUX\u003C/code> line if present.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">rhgb quiet\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnsure the \u003Ccode class=\"literal\">/etc/default/grub\u003C/code> file contains the following lines with all the specified options.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">GRUB_CMDLINE_LINUX=\"loglevel=3 crashkernel=auto console=tty1 console=ttyS0 earlyprintk=ttyS0 rootdelay=300\"\nGRUB_TIMEOUT_STYLE=countdown\nGRUB_TERMINAL=\"serial console\"\nGRUB_SERIAL_COMMAND=\"serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1\"\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tIf you do not plan to run your workloads on HDDs, add \u003Ccode class=\"literal\">elevator=none\u003C/code> to the end of the \u003Ccode class=\"literal\">GRUB_CMDLINE_LINUX\u003C/code> line.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\t\tThis sets the I/O scheduler to \u003Ccode class=\"literal\">none\u003C/code>, which improves I/O performance when running workloads on SSDs.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRegenerate the \u003Ccode class=\"literal\">grub.cfg\u003C/code> file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tOn a BIOS-based machine:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.2 and earlier:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.3 and later:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg --update-bls-cmdline\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tOn a UEFI-based machine:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.2 and earlier:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tIn RHEL 9.3 and later:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg --update-bls-cmdline\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tIf your system uses a non-default location for \u003Ccode class=\"literal\">grub.cfg\u003C/code>, adjust the command accordingly.\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the Windows Azure Linux Agent (\u003Ccode class=\"literal\">WALinuxAgent\u003C/code>):\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall and enable the \u003Ccode class=\"literal\">WALinuxAgent\u003C/code> package.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install WALinuxAgent -y\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable waagent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo ensure that a swap partition is not used in provisioned VMs, edit the following lines in the \u003Ccode class=\"literal\">/etc/waagent.conf\u003C/code> file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Provisioning.DeleteRootPassword=y\nResourceDisk.Format=n\nResourceDisk.EnableSwap=n\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPrepare the VM for Azure provisioning:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUnregister the VM from Red Hat Subscription Manager.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager unregister\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClean up the existing provisioning details.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>waagent -force -deprovision\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThis command generates warnings, which are expected because Azure handles the provisioning of VMs automatically.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClean the shell history and shut down the VM.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>export HISTSIZE=0\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>poweroff\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-create-an-azure-directory-application-in-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.7. Creating an Azure Active Directory application\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following procedure to create an Azure Active Directory (AD) application. The Azure AD application authorizes and automates access for HA operations for all nodes in the cluster.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ca class=\"link\" href=\"#install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure\" title=\"3.5. Installing the Azure CLI\">Azure Command Line Interface (CLI)\u003C/a> is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are an Administrator or Owner for the Microsoft Azure subscription. You need this authorization to create an Azure AD application.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn any node in the HA cluster, log in to your Azure account.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az login\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">json\u003C/code> configuration file for a custom role for the Azure fence agent. Use the following configuration, but replace \u003Cspan class=\"emphasis\">\u003Cem>&lt;subscription-id&gt;\u003C/em>\u003C/span> with your subscription IDs.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-json\">{\n      \"Name\": \"Linux Fence Agent Role\",\n      \"description\": \"Allows to power-off and start virtual machines\",\n      \"assignableScopes\": [\n              \"/subscriptions/\u003Cspan class=\"emphasis\">\u003Cem>&lt;subscription-id&gt;\u003C/em>\u003C/span>\"\n      ],\n      \"actions\": [\n              \"Microsoft.Compute/*/read\",\n              \"Microsoft.Compute/virtualMachines/powerOff/action\",\n              \"Microsoft.Compute/virtualMachines/start/action\"\n      ],\n      \"notActions\": [],\n      \"dataActions\": [],\n      \"notDataActions\": []\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDefine the custom role for the Azure fence agent. Use the \u003Ccode class=\"literal\">json\u003C/code> file created in the previous step to do this.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az role definition create --role-definition \u003Cspan class=\"emphasis\">\u003Cem>azure-fence-role.json\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n{\n  \"assignableScopes\": [\n    \"/subscriptions/\u003Cspan class=\"emphasis\">\u003Cem>&lt;my-subscription-id&gt;\u003C/em>\u003C/span>\"\n  ],\n  \"description\": \"Allows to power-off and start virtual machines\",\n  \"id\": \"/subscriptions/\u003Cspan class=\"emphasis\">\u003Cem>&lt;my-subscription-id&gt;\u003C/em>\u003C/span>/providers/Microsoft.Authorization/roleDefinitions/\u003Cspan class=\"emphasis\">\u003Cem>&lt;role-id&gt;\u003C/em>\u003C/span>\",\n  \"name\": \"\u003Cspan class=\"emphasis\">\u003Cem>&lt;role-id&gt;\u003C/em>\u003C/span>\",\n  \"permissions\": [\n    {\n      \"actions\": [\n        \"Microsoft.Compute/*/read\",\n        \"Microsoft.Compute/virtualMachines/powerOff/action\",\n        \"Microsoft.Compute/virtualMachines/start/action\"\n      ],\n      \"dataActions\": [],\n      \"notActions\": [],\n      \"notDataActions\": []\n    }\n  ],\n  \"roleName\": \"Linux Fence Agent Role\",\n  \"roleType\": \"CustomRole\",\n  \"type\": \"Microsoft.Authorization/roleDefinitions\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the Azure web console interface, select \u003Cspan class=\"strong strong\">\u003Cstrong>Virtual Machine\u003C/strong>\u003C/span> → Click \u003Cspan class=\"strong strong\">\u003Cstrong>Identity\u003C/strong>\u003C/span> in the left-side menu.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect \u003Cspan class=\"strong strong\">\u003Cstrong>On\u003C/strong>\u003C/span> → Click \u003Cspan class=\"strong strong\">\u003Cstrong>Save\u003C/strong>\u003C/span> → click \u003Cspan class=\"strong strong\">\u003Cstrong>Yes\u003C/strong>\u003C/span> to confirm.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Azure role assignments\u003C/strong>\u003C/span> → \u003Cspan class=\"strong strong\">\u003Cstrong>Add role assignment\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Scope\u003C/strong>\u003C/span> required for the role, for example \u003Ccode class=\"literal\">Resource Group\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the required \u003Cspan class=\"strong strong\">\u003Cstrong>Resource Group\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Optional:\u003C/strong>\u003C/span> Change the \u003Cspan class=\"strong strong\">\u003Cstrong>Subscription\u003C/strong>\u003C/span> if necessary.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Linux Fence Agent Role\u003C/strong>\u003C/span> role.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Save\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisplay nodes visible to Azure AD.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>fence_azure_arm --msi -o list\u003C/strong>\u003C/span>\nnode1,\nnode2,\n[...]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf this command outputs all nodes on your cluster, the AD application has been configured successfully.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/role-based-access-control/check-access\">View the access a user has to Azure resources\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/high-availability-guide-rhel-pacemaker#1-create-a-custom-role-for-the-fence-agent\">Create a custom role for the fence agent\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://learn.microsoft.com/en-us/azure/role-based-access-control/role-assignments-cli\">Assign Azure roles by using Azure CLI\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"convert-the-image_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.8. Converting the image to a fixed VHD format\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAll Microsoft Azure VM images must be in a fixed \u003Ccode class=\"literal\">VHD\u003C/code> format. The image must be aligned on a 1 MB boundary before it is converted to VHD. To convert the image from \u003Ccode class=\"literal\">qcow2\u003C/code> to a fixed \u003Ccode class=\"literal\">VHD\u003C/code> format and align the image, see the following procedure. Once you have converted the image, you can upload it to Azure.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConvert the image from \u003Ccode class=\"literal\">qcow2\u003C/code> to \u003Ccode class=\"literal\">raw\u003C/code> format.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img convert -f qcow2 -O raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-name&gt;\u003C/em>\u003C/span>.qcow2 \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-name&gt;\u003C/em>\u003C/span>.raw\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a shell script with the following content.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">#!/bin/bash\nMB=$((1024 * 1024))\nsize=$(qemu-img info -f raw --output json \"$1\" | gawk 'match($0, /\"virtual-size\": ([0-9]+),/, val) {print val[1]}')\nrounded_size=$((($size/$MB + 1) * $MB))\nif [ $(($size % $MB)) -eq  0 ]\nthen\n echo \"Your image is already aligned. You do not need to resize.\"\n exit 1\nfi\necho \"rounded size = $rounded_size\"\nexport rounded_size\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the script. This example uses the name \u003Ccode class=\"literal\">align.sh\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sh align.sh \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf the message \u003Cspan class=\"emphasis\">\u003Cem>\"Your image is already aligned. You do not need to resize.\"\u003C/em>\u003C/span> displays, proceed to the following step.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf a value displays, your image is not aligned.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to convert the file to a fixed \u003Ccode class=\"literal\">VHD\u003C/code> format.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>The sample uses qemu-img version 2.12.0.\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image.xxx&gt;\u003C/em>\u003C/span>.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOnce converted, the \u003Ccode class=\"literal\">VHD\u003C/code> file is ready to upload to Azure.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">raw\u003C/code> image is not aligned, complete the following steps to align it.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tResize the \u003Ccode class=\"literal\">raw\u003C/code> file by using the rounded value displayed when you ran the verification script.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img resize -f raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;rounded-value&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tConvert the \u003Ccode class=\"literal\">raw\u003C/code> image file to a \u003Ccode class=\"literal\">VHD\u003C/code> format.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>The sample uses qemu-img version 2.12.0.\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>qemu-img convert -f raw -o subformat=fixed,force_size -O vpc \u003Cspan class=\"emphasis\">\u003Cem>&lt;image-xxx&gt;\u003C/em>\u003C/span>.raw \u003Cspan class=\"emphasis\">\u003Cem>&lt;image.xxx&gt;\u003C/em>\u003C/span>.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOnce converted, the \u003Ccode class=\"literal\">VHD\u003C/code> file is ready to upload to Azure.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"upload-image-to-azure_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.9. Uploading and creating an Azure image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following steps to upload the \u003Ccode class=\"literal\">VHD\u003C/code> file to your container and create an Azure custom image.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe exported storage connection string does not persist after a system reboot. If any of the commands in the following steps fail, export the connection string again.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpload the \u003Ccode class=\"literal\">VHD\u003C/code> file to the storage container. It may take several minutes. To get a list of storage containers, enter the \u003Ccode class=\"literal command\">az storage container list\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob upload \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--account-name &lt;storage-account-name&gt; --container-name &lt;container-name&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type page --file &lt;path-to-vhd&gt; --name &lt;image-name&gt;.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[clouduser@localhost]$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob upload \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--account-name azrhelclistact --container-name azrhelclistcont \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--type page --file rhel-image-{ProductNumber}.vhd --name rhel-image-{ProductNumber}.vhd\u003C/strong>\u003C/span>\n\nPercent complete: %100.0\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGet the URL for the uploaded \u003Ccode class=\"literal\">VHD\u003C/code> file to use in the following step.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob url -c &lt;container-name&gt; -n &lt;image-name&gt;.vhd\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az storage blob url -c azrhelclistcont -n rhel-image-9.vhd \"https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the Azure custom image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az image create -n &lt;image-name&gt; -g &lt;resource-group&gt; -l &lt;azure-region&gt; --source &lt;URL&gt; --os-type linux\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe default hypervisor generation of the VM is V1. You can optionally specify a V2 hypervisor generation by including the option \u003Ccode class=\"literal\">--hyper-v-generation V2\u003C/code>. Generation 2 VMs use a UEFI-based boot architecture. See \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/linux/generation-2\">Support for generation 2 VMs on Azure\u003C/a> for information about generation 2 VMs.\n\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\tThe command may return the error \"Only blobs formatted as VHDs can be imported.\" This error may mean that the image was not aligned to the nearest 1 MB boundary before it was converted to \u003Ccode class=\"literal\">VHD\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az image create -n rhel9 -g azrhelclirsgrp2 -l southcentralus --source https://azrhelclistact.blob.core.windows.net/azrhelclistcont/rhel-image-9.vhd --os-type linux\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-install-red-hat-ha-packages-and-agents_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.10. Installing Red Hat HA packages and agents\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following steps on all nodes.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLaunch an SSH terminal session and connect to the VM by using the administrator name and public IP address.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ssh administrator@PublicIP\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo get the public IP address for an Azure VM, open the VM properties in the Azure Portal or enter the following Azure CLI command.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm list -g &lt;resource-group&gt; -d --output table\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\">[clouduser@localhost ~] $ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm list -g \u003Cspan class=\"emphasis\">\u003Cem>azrhelclirsgrp\u003C/em>\u003C/span> -d --output table\u003C/strong>\u003C/span>\nName    ResourceGroup           PowerState      PublicIps        Location\n------  ----------------------  --------------  -------------    --------------\nnode01  azrhelclirsgrp          VM running      192.98.152.251    southcentralus\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegister the VM with Red Hat.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo -i\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager register --auto-attach\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal command\">--auto-attach\u003C/code> command fails, manually register the VM to your subscription.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable all repositories.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager repos --disable=\u003C/strong>\u003C/span>*\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable the RHEL 9 Server HA repositories.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>subscription-manager repos --enable=rhel-9-for-x86_64-highavailability-rpms\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpdate all packages.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf update -y\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the Red Hat High Availability Add-On software packages, along with the Azure fencing agent from the High Availability channel.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install pcs pacemaker fence-agents-azure-arm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe user \u003Ccode class=\"literal\">hacluster\u003C/code> was created during the pcs and pacemaker installation in the previous step. Create a password for \u003Ccode class=\"literal\">hacluster\u003C/code> on all cluster nodes. Use the same password for all nodes.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>passwd hacluster\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">high availability\u003C/code> service to the RHEL Firewall if \u003Ccode class=\"literal\">firewalld.service\u003C/code> is installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service=high-availability\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">pcs\u003C/code> service and enable it to start on boot.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl start pcsd.service\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable pcsd.service\u003C/strong>\u003C/span>\n\nCreated symlink from /etc/systemd/system/multi-user.target.wants/pcsd.service to /usr/lib/systemd/system/pcsd.service.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnsure the \u003Ccode class=\"literal\">pcs\u003C/code> service is running.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status pcsd.service\u003C/strong>\u003C/span>\npcsd.service - PCS GUI and remote configuration interface\nLoaded: loaded (/usr/lib/systemd/system/pcsd.service; enabled; vendor preset: disabled)\nActive: active (running) since Fri 2018-02-23 11:00:58 EST; 1min 23s ago\nDocs: man:pcsd(8)\n          man:pcs(8)\nMain PID: 46235 (pcsd)\n  CGroup: /system.slice/pcsd.service\n          └─46235 /usr/bin/ruby /usr/lib/pcsd/pcsd &gt; /dev/null &amp;\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-create-cluster-in-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.11. Creating a cluster\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following steps to create the cluster of nodes.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn one of the nodes, enter the following command to authenticate the pcs user \u003Ccode class=\"literal\">hacluster\u003C/code>. In the command, specify the name of each node in the cluster.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs host auth \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname1&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname2&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname3&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs host auth node01 node02 node03\u003C/strong>\u003C/span>\nUsername: hacluster\nPassword:\nnode01: Authorized\nnode02: Authorized\nnode03: Authorized\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the cluster.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs cluster setup \u003Cspan class=\"emphasis\">\u003Cem>&lt;cluster_name&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname1&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname2&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname3&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs cluster setup new_cluster node01 node02 node03\u003C/strong>\u003C/span>\n\n[...]\n\nSynchronizing pcsd certificates on nodes node01, node02, node03...\nnode02: Success\nnode03: Success\nnode01: Success\nRestarting pcsd on the nodes in order to reload the certificates...\nnode02: Success\nnode03: Success\nnode01: Success\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable the cluster.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs cluster enable --all\u003C/strong>\u003C/span>\nnode02: Cluster Enabled\nnode03: Cluster Enabled\nnode01: Cluster Enabled\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the cluster.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs cluster start --all\u003C/strong>\u003C/span>\nnode02: Starting Cluster...\nnode03: Starting Cluster...\nnode01: Starting Cluster...\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-fencing-overview-in-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.12. Fencing overview\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf communication with a single node in the cluster fails, then other nodes in the cluster must be able to restrict or release access to resources that the failed cluster node may have access to. This cannot be accomplished by contacting the cluster node itself as the cluster node may not be responsive. Instead, you must provide an external method, which is called fencing with a fence agent.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tA node that is unresponsive may still be accessing data. The only way to be certain that your data is safe is to fence the node by using STONITH. STONITH is an acronym for \"Shoot The Other Node In The Head,\" and it protects your data from being corrupted by rogue nodes or concurrent access. Using STONITH, you can be certain that a node is truly offline before allowing the data to be accessed from another node.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/15575\">Fencing in Red Hat High Availability Cluster\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-create-a-fencing-device-in-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.13. Creating a fencing device\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tComplete the following steps to configure fencing. Complete these commands from any node in the cluster\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tYou need to set the cluster property \u003Ccode class=\"literal\">stonith-enabled\u003C/code> to \u003Ccode class=\"literal\">true\u003C/code>.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIdentify the Azure node name for each RHEL VM. You use the Azure node names to configure the fence device.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>fence_azure_arm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-l \u003Cspan class=\"emphasis\">\u003Cem>&lt;AD-Application-ID&gt;\u003C/em>\u003C/span> -p \u003Cspan class=\"emphasis\">\u003Cem>&lt;AD-Password&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--resourceGroup \u003Cspan class=\"emphasis\">\u003Cem>&lt;MyResourceGroup&gt;\u003C/em>\u003C/span> --tenantId \u003Cspan class=\"emphasis\">\u003Cem>&lt;Tenant-ID&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--subscriptionId \u003Cspan class=\"emphasis\">\u003Cem>&lt;Subscription-ID&gt;\u003C/em>\u003C/span> -o list\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>fence_azure_arm \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>-l e04a6a49-9f00-xxxx-xxxx-a8bdda4af447 -p z/a05AwCN0IzAjVwXXXXXXXEWIoeVp0xg7QT//JE=\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--resourceGroup azrhelclirsgrp --tenantId 77ecefb6-cff0-XXXX-XXXX-757XXXX9485\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--subscriptionId XXXXXXXX-38b4-4527-XXXX-012d49dfc02c -o list\u003C/strong>\u003C/span>\n\nnode01,\nnode02,\nnode03,\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the options for the Azure ARM STONITH agent.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs stonith describe fence_azure_arm\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs stonith describe fence_apc\u003C/strong>\u003C/span>\nStonith options:\npassword: Authentication key\npassword_script: Script to run to retrieve password\u003C/pre>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tFor fence agents that provide a method option, do not specify a value of cycle as it is not supported and can cause data corruption.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSome fence devices can fence only a single node, while other devices can fence multiple nodes. The parameters you specify when you create a fencing device depend on what your fencing device supports and requires.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">pcmk_host_list\u003C/code> parameter when creating a fencing device to specify all of the machines that are controlled by that fencing device.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can use \u003Ccode class=\"literal\">pcmk_host_map\u003C/code> parameter when creating a fencing device to map host names to the specifications that comprehends the fence device.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a fence device.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs stonith create \u003Cspan class=\"emphasis\">\u003Cem>clusterfence\u003C/em>\u003C/span> fence_azure_arm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTest the fencing agent for one of the other nodes.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs stonith fence \u003Cspan class=\"emphasis\">\u003Cem>azurenodename\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs status\u003C/strong>\u003C/span>\nCluster name: newcluster\nStack: corosync\nCurrent DC: node01 (version 1.1.18-11.el7-2b07d5c5a9) - partition with quorum\nLast updated: Fri Feb 23 11:44:35 2018\nLast change: Fri Feb 23 11:21:01 2018 by root via cibadmin on node01\n\n3 nodes configured\n1 resource configured\n\nOnline: [ node01 node03 ]\nOFFLINE: [ node02 ]\n\nFull list of resources:\n\n  clusterfence  (stonith:fence_azure_arm):  Started node01\n\nDaemon Status:\n  corosync: active/disabled\n  pacemaker: active/disabled\n  pcsd: active/enabled\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the node that was fenced in the previous step.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs cluster start \u003Cspan class=\"emphasis\">\u003Cem>&lt;hostname&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the status to verify the node started.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs status\u003C/strong>\u003C/span>\nCluster name: newcluster\nStack: corosync\nCurrent DC: node01 (version 1.1.18-11.el7-2b07d5c5a9) - partition with quorum\nLast updated: Fri Feb 23 11:34:59 2018\nLast change: Fri Feb 23 11:21:01 2018 by root via cibadmin on node01\n\n3 nodes configured\n1 resource configured\n\nOnline: [ node01 node02 node03 ]\n\nFull list of resources:\n\nclusterfence    (stonith:fence_azure_arm):  Started node01\n\nDaemon Status:\n  corosync: active/disabled\n  pacemaker: active/disabled\n  pcsd: active/enabled\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/15575\">Fencing in a Red Hat High Availability Cluster\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_high_availability_clusters/assembly_configuring-fencing-configuring-and-managing-high-availability-clusters#ref_general-fence-device-properties-configuring-fencing\">General properties of fencing devices\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-create-internal-load-balancer-in-azure-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.14. Creating an Azure internal load balancer\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe Azure internal load balancer removes cluster nodes that do not answer health probe requests.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tPerform the following procedure to create an Azure internal load balancer. Each step references a specific Microsoft procedure and includes the settings for customizing the load balancer for HA.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://azure.microsoft.com/en-us/features/azure-portal/\">Azure control panel\u003C/a>\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-basic-load-balancer\">Create a Basic load balancer\u003C/a>. Select \u003Cspan class=\"strong strong\">\u003Cstrong>Internal load balancer\u003C/strong>\u003C/span>, the \u003Cspan class=\"strong strong\">\u003Cstrong>Basic SKU\u003C/strong>\u003C/span>, and \u003Cspan class=\"strong strong\">\u003Cstrong>Dynamic\u003C/strong>\u003C/span> for the type of IP address assignment.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-back-end-address-pool\">Create a back-end address pool\u003C/a>. Associate the backend pool to the availability set created while creating Azure resources in HA. Do not set any target network IP configurations.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-health-probe\">Create a health probe\u003C/a>. For the health probe, select \u003Cspan class=\"strong strong\">\u003Cstrong>TCP\u003C/strong>\u003C/span> and enter port \u003Cspan class=\"strong strong\">\u003Cstrong>61000\u003C/strong>\u003C/span>. You can use TCP port number that does not interfere with another service. For certain HA product applications (for example, SAP HANA and SQL Server), you may need to work with Microsoft to identify the correct port to use.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-basic-internal-portal#create-a-load-balancer-rule\">Create a load balancer rule\u003C/a>. To create the load balancing rule, the default values are prepopulated. Ensure to set \u003Cspan class=\"strong strong\">\u003Cstrong>Floating IP (direct server return)\u003C/strong>\u003C/span> to \u003Cspan class=\"strong strong\">\u003Cstrong>Enabled\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-configure-the-load-balancer-resource-agent-in-ha_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.15. Configuring the load balancer resource agent\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAfter you have created the health probe, you must configure the \u003Ccode class=\"literal\">load balancer\u003C/code> resource agent. This resource agent runs a service that answers health probe requests from the Azure load balancer and removes cluster nodes that do not answer requests.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nmap-ncat\u003C/code> resource agents on all nodes.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nmap-ncat resource-agents-cloud\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPerform the following steps on a single node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">pcs\u003C/code> resources and group. Use your load balancer FrontendIP for the IPaddr2 address.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs resource create \u003Cspan class=\"emphasis\">\u003Cem>resource-name\u003C/em>\u003C/span> IPaddr2 ip=\"10.0.0.7\" --group \u003Cspan class=\"emphasis\">\u003Cem>cluster-resources-group\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the \u003Ccode class=\"literal\">load balancer\u003C/code> resource agent.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pcs resource create \u003Cspan class=\"emphasis\">\u003Cem>resource-loadbalancer-name\u003C/em>\u003C/span> azure-lb port=\u003Cspan class=\"emphasis\">\u003Cem>port-number\u003C/em>\u003C/span> --group \u003Cspan class=\"emphasis\">\u003Cem>cluster-resources-group\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">pcs status\u003C/code> to see the results.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@node01 clouduser]# \u003Cspan class=\"strong strong\">\u003Cstrong>pcs status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Cluster name: clusterfence01\nStack: corosync\nCurrent DC: node02 (version 1.1.16-12.el7_4.7-94ff4df) - partition with quorum\nLast updated: Tue Jan 30 12:42:35 2018\nLast change: Tue Jan 30 12:26:42 2018 by root via cibadmin on node01\n\n3 nodes configured\n3 resources configured\n\nOnline: [ node01 node02 node03 ]\n\nFull list of resources:\n\nclusterfence (stonith:fence_azure_arm):      Started node01\nResource Group: g_azure\n    vip_azure  (ocf::heartbeat:IPaddr2):       Started node02\n    lb_azure   (ocf::heartbeat:azure-lb):      Started node02\n\nDaemon Status:\n  corosync: active/disabled\n  pacemaker: active/disabled\n  pcsd: active/enabled\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.16. Configuring shared block storage\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo configure shared block storage for a Red Hat High Availability cluster with Microsoft Azure Shared Disks, use the following procedure. Note that this procedure is optional, and the steps below assume three Azure VMs (a three-node cluster) with a 1 TB shared disk.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThis is a stand-alone sample procedure for configuring block storage. The procedure assumes that you have not yet created your cluster.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou must have installed the Azure CLI on your host system and created your SSH key(s).\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou must have created your cluster environment in Azure, which includes creating the following resources. Links are to the Microsoft Azure documentation.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-network/quick-create-cli#create-a-resource-group-and-a-virtual-network\">Resource group\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-network/quick-create-cli#create-a-resource-group-and-a-virtual-network\">Virtual network\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group\">Network security group(s)\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group#view-details-of-a-network-security-group\">Network security group rules\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-manage-subnet\">Subnet(s)\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/azure/load-balancer/quickstart-load-balancer-standard-public-portal?tabs=option-1-create-load-balancer-standard\">Load balancer (optional)\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/storage/account?view=azure-cli-latest#az_storage_account_create\">Storage account\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/ppg?view=azure-cli-latest#az_ppg_create\">Proximity placement group\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/vm/availability-set?view=azure-cli-latest#az_vm_availability_set_create\">Availability set\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a shared block volume by using the Azure command \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/disk?view=azure-cli-latest#az_disk_create\">\u003Ccode class=\"literal\">az disk create\u003C/code>\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az disk create -g &lt;resource_group&gt; -n &lt;shared_block_volume_name&gt; --size-gb &lt;disk_size&gt; --max-shares &lt;number_vms&gt; -l\u003C/strong>\u003C/span> &lt;location&gt;\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, the following command creates a shared block volume named \u003Ccode class=\"literal\">shared-block-volume.vhd\u003C/code> in the resource group \u003Ccode class=\"literal\">sharedblock\u003C/code> within the Azure Availability Zone \u003Ccode class=\"literal\">westcentralus\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az disk create -g sharedblock-rg -n shared-block-volume.vhd --size-gb 1024 --max-shares 3 -l westcentralus\u003C/strong>\u003C/span>\n\n{\n  \"creationData\": {\n    \"createOption\": \"Empty\",\n    \"galleryImageReference\": null,\n    \"imageReference\": null,\n    \"sourceResourceId\": null,\n    \"sourceUniqueId\": null,\n    \"sourceUri\": null,\n    \"storageAccountId\": null,\n    \"uploadSizeBytes\": null\n  },\n  \"diskAccessId\": null,\n  \"diskIopsReadOnly\": null,\n  \"diskIopsReadWrite\": 5000,\n  \"diskMbpsReadOnly\": null,\n  \"diskMbpsReadWrite\": 200,\n  \"diskSizeBytes\": 1099511627776,\n  \"diskSizeGb\": 1024,\n  \"diskState\": \"Unattached\",\n  \"encryption\": {\n    \"diskEncryptionSetId\": null,\n    \"type\": \"EncryptionAtRestWithPlatformKey\"\n  },\n  \"encryptionSettingsCollection\": null,\n  \"hyperVgeneration\": \"V1\",\n  \"id\": \"/subscriptions/12345678910-12345678910/resourceGroups/sharedblock-rg/providers/Microsoft.Compute/disks/shared-block-volume.vhd\",\n  \"location\": \"westcentralus\",\n  \"managedBy\": null,\n  \"managedByExtended\": null,\n  \"maxShares\": 3,\n  \"name\": \"shared-block-volume.vhd\",\n  \"networkAccessPolicy\": \"AllowAll\",\n  \"osType\": null,\n  \"provisioningState\": \"Succeeded\",\n  \"resourceGroup\": \"sharedblock-rg\",\n  \"shareInfo\": null,\n  \"sku\": {\n    \"name\": \"Premium_LRS\",\n    \"tier\": \"Premium\"\n  },\n  \"tags\": {},\n  \"timeCreated\": \"2020-08-27T15:36:56.263382+00:00\",\n  \"type\": \"Microsoft.Compute/disks\",\n  \"uniqueId\": \"cd8b0a25-6fbe-4779-9312-8d9cbb89b6f2\",\n  \"zones\": null\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that you have created the shared block volume by using the Azure command \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/disk?view=azure-cli-latest#az_disk_show\">\u003Ccode class=\"literal\">az disk show\u003C/code>\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az disk show -g &lt;resource_group&gt; -n &lt;shared_block_volume_name&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, the following command shows details for the shared block volume \u003Ccode class=\"literal\">shared-block-volume.vhd\u003C/code> within the resource group \u003Ccode class=\"literal\">sharedblock-rg\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az disk show -g sharedblock-rg -n shared-block-volume.vhd\u003C/strong>\u003C/span>\n\n{\n  \"creationData\": {\n    \"createOption\": \"Empty\",\n    \"galleryImageReference\": null,\n    \"imageReference\": null,\n    \"sourceResourceId\": null,\n    \"sourceUniqueId\": null,\n    \"sourceUri\": null,\n    \"storageAccountId\": null,\n    \"uploadSizeBytes\": null\n  },\n  \"diskAccessId\": null,\n  \"diskIopsReadOnly\": null,\n  \"diskIopsReadWrite\": 5000,\n  \"diskMbpsReadOnly\": null,\n  \"diskMbpsReadWrite\": 200,\n  \"diskSizeBytes\": 1099511627776,\n  \"diskSizeGb\": 1024,\n  \"diskState\": \"Unattached\",\n  \"encryption\": {\n    \"diskEncryptionSetId\": null,\n    \"type\": \"EncryptionAtRestWithPlatformKey\"\n  },\n  \"encryptionSettingsCollection\": null,\n  \"hyperVgeneration\": \"V1\",\n  \"id\": \"/subscriptions/12345678910-12345678910/resourceGroups/sharedblock-rg/providers/Microsoft.Compute/disks/shared-block-volume.vhd\",\n  \"location\": \"westcentralus\",\n  \"managedBy\": null,\n  \"managedByExtended\": null,\n  \"maxShares\": 3,\n  \"name\": \"shared-block-volume.vhd\",\n  \"networkAccessPolicy\": \"AllowAll\",\n  \"osType\": null,\n  \"provisioningState\": \"Succeeded\",\n  \"resourceGroup\": \"sharedblock-rg\",\n  \"shareInfo\": null,\n  \"sku\": {\n    \"name\": \"Premium_LRS\",\n    \"tier\": \"Premium\"\n  },\n  \"tags\": {},\n  \"timeCreated\": \"2020-08-27T15:36:56.263382+00:00\",\n  \"type\": \"Microsoft.Compute/disks\",\n  \"uniqueId\": \"cd8b0a25-6fbe-4779-9312-8d9cbb89b6f2\",\n  \"zones\": null\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate three network interfaces by using the Azure command \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/network/nic?view=azure-cli-latest#az_network_nic_create\">\u003Ccode class=\"literal\">az network nic create\u003C/code>\u003C/a>. Run the following command three times by using a different \u003Ccode class=\"literal\">&lt;nic_name&gt;\u003C/code> for each.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az network nic create \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-g &lt;resource_group&gt; -n &lt;nic_name&gt; --subnet &lt;subnet_name&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--vnet-name &lt;virtual_network&gt; --location &lt;location&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--network-security-group &lt;network_security_group&gt; --private-ip-address-version IPv4\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, the following command creates a network interface with the name \u003Ccode class=\"literal\">shareblock-nodea-vm-nic-protected\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az network nic create \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-g sharedblock-rg -n sharedblock-nodea-vm-nic-protected --subnet sharedblock-subnet-protected \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--vnet-name sharedblock-vn --location westcentralus \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--network-security-group sharedblock-nsg --private-ip-address-version IPv4\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate three VMs and attach the shared block volume by using the Azure command \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/cli/azure/vm?view=azure-cli-latest#az_vm_create\">\u003Ccode class=\"literal\">az vm create\u003C/code>\u003C/a>. Option values are the same for each VM except that each VM has its own \u003Ccode class=\"literal\">&lt;vm_name&gt;\u003C/code>, \u003Ccode class=\"literal\">&lt;new_vm_disk_name&gt;\u003C/code>, and \u003Ccode class=\"literal\">&lt;nic_name&gt;\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm create \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-n &lt;vm_name&gt; -g &lt;resource_group&gt; --attach-data-disks &lt;shared_block_volume_name&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--data-disk-caching None --os-disk-caching ReadWrite --os-disk-name &lt;new-vm-disk-name&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--os-disk-size-gb &lt;disk_size&gt; --location &lt;location&gt; --size &lt;virtual_machine_size&gt; \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--image &lt;image_name&gt; --admin-username &lt;vm_username&gt; --authentication-type ssh \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--ssh-key-values &lt;ssh_key&gt; --nics &lt;nic_name&gt; --availability-set &lt;availability_set&gt; --ppg &lt;proximity_placement_group&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, the following command creates a VM named \u003Ccode class=\"literal\">sharedblock-nodea-vm\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>az vm create \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>-n sharedblock-nodea-vm -g sharedblock-rg --attach-data-disks shared-block-volume.vhd \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--data-disk-caching None --os-disk-caching ReadWrite --os-disk-name sharedblock-nodea-vm.vhd \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--os-disk-size-gb 64 --location westcentralus --size Standard_D2s_v3 \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--image /subscriptions/12345678910-12345678910/resourceGroups/sample-azureimagesgroupwestcentralus/providers/Microsoft.Compute/images/sample-azure-rhel-9.3.0-20200713.n.0.x86_64 --admin-username sharedblock-user --authentication-type ssh \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--ssh-key-values @sharedblock-key.pub --nics sharedblock-nodea-vm-nic-protected --availability-set sharedblock-as --ppg sharedblock-ppg\u003C/strong>\u003C/span>\n\n{\n  \"fqdns\": \"\",\n  \"id\": \"/subscriptions/12345678910-12345678910/resourceGroups/sharedblock-rg/providers/Microsoft.Compute/virtualMachines/sharedblock-nodea-vm\",\n  \"location\": \"westcentralus\",\n  \"macAddress\": \"00-22-48-5D-EE-FB\",\n  \"powerState\": \"VM running\",\n  \"privateIpAddress\": \"198.51.100.3\",\n  \"publicIpAddress\": \"\",\n  \"resourceGroup\": \"sharedblock-rg\",\n  \"zones\": \"\"\n}\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor each VM in your cluster, verify that the block device is available by using the \u003Ccode class=\"literal command\">ssh\u003C/code> command with your VM’s IP address.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ssh \u003Cspan class=\"emphasis\">\u003Cem>&lt;ip_address&gt;\u003C/em>\u003C/span> \"hostname ; lsblk -d | grep ' 1T '\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, the following command lists details including the host name and block device for the VM IP \u003Ccode class=\"literal\">198.51.100.3\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ssh 198.51.100.3 \"hostname ; lsblk -d | grep ' 1T '\"\u003C/strong>\u003C/span>\n\nnodea\nsdb    8:16   0    1T  0 disk\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal command\">ssh\u003C/code> command to verify that each VM in your cluster uses the same shared disk.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ssh \u003Cspan class=\"emphasis\">\u003Cem>&lt;ip_address&gt;\u003C/em>\u003C/span> \"hostname ; lsblk -d | grep ' 1T ' | awk '{print \\$1}' | xargs -i udevadm info --query=all --name=/dev/{} | grep '^E: ID_SERIAL='\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, the following command lists details including the host name and shared disk volume ID for the instance IP address \u003Ccode class=\"literal\">198.51.100.3\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ssh 198.51.100.3 \"hostname ; lsblk -d | grep ' 1T ' | awk '{print \\$1}' | xargs -i udevadm info --query=all --name=/dev/{} | grep '^E: ID_SERIAL='\"\u003C/strong>\u003C/span>\n\nnodea\nE: ID_SERIAL=3600224808dd8eb102f6ffc5822c41d89\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAfter you have verified that the shared disk is attached to each VM, you can configure resilient storage for the cluster.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_high_availability_clusters/assembly_configuring-gfs2-in-a-cluster-configuring-and-managing-high-availability-clusters#proc_configuring-gfs2-in-a-cluster.adoc-configuring-gfs2-cluster\">Configuring a GFS2 file system in a cluster\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_gfs2_file_systems/index\">Configuring GFS2 file systems\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_2\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.17. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/articles/3131341\">Support Policies for RHEL High Availability Clusters - Microsoft Azure Virtual Machines as Cluster Members\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_high_availability_clusters/index\">Configuring and Managing High Availability Clusters\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm140444521198352\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[14,21,26,54,58,149,226],{"title":11,"visible":15,"weight":16,"urlFragment":17,"anchor":18,"singlePageAnchor":18,"docTitle":19,"url":20},true,1,"index",null,"deploying_rhel_9_on_microsoft_azure","#",{"title":22,"visible":15,"weight":23,"urlFragment":24,"anchor":18,"singlePageAnchor":24,"docTitle":19,"url":25},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_cloud-content-azure","#proc_providing-feedback-on-red-hat-documentation_cloud-content-azure",{"title":27,"visible":15,"weight":28,"urlFragment":29,"anchor":18,"singlePageAnchor":29,"sections":30,"docTitle":19,"url":53},"1. Introducing RHEL on public cloud platforms",3,"introducing-rhel-on-public-cloud-platforms_cloud-content-azure",[31,35,39,43,48],{"title":32,"visible":15,"weight":16,"urlFragment":29,"anchor":33,"singlePageAnchor":33,"docTitle":19,"url":34},"1.1. Benefits of using RHEL in a public cloud","benefits-of-using-rhel-in-a-public-cloud_introducing-rhel-on-public-cloud-platforms","#benefits-of-using-rhel-in-a-public-cloud_introducing-rhel-on-public-cloud-platforms",{"title":36,"visible":15,"weight":23,"urlFragment":29,"anchor":37,"singlePageAnchor":37,"docTitle":19,"url":38},"1.2. Public cloud use cases for RHEL","public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms","#public-cloud-usecases-for-rhel_introducing-rhel-on-public-cloud-platforms",{"title":40,"visible":15,"weight":28,"urlFragment":29,"anchor":41,"singlePageAnchor":41,"docTitle":19,"url":42},"1.3. Frequent concerns when migrating to a public cloud","frequent-concerns-when-migrating-to-a-public-cloud_introducing-rhel-on-public-cloud-platforms","#frequent-concerns-when-migrating-to-a-public-cloud_introducing-rhel-on-public-cloud-platforms",{"title":44,"visible":15,"weight":45,"urlFragment":29,"anchor":46,"singlePageAnchor":46,"docTitle":19,"url":47},"1.4. Obtaining RHEL for public cloud deployments",4,"obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms","#obtaining-rhel-for-public-cloud-deployments_introducing-rhel-on-public-cloud-platforms",{"title":49,"visible":15,"weight":50,"urlFragment":29,"anchor":51,"singlePageAnchor":51,"docTitle":19,"url":52},"1.5. Methods for creating RHEL cloud instances",5,"methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms","#methods-for-creating-rhel-cloud-instances_introducing-rhel-on-public-cloud-platforms","#introducing-rhel-on-public-cloud-platforms_cloud-content-azure",{"title":55,"visible":15,"weight":45,"urlFragment":56,"anchor":18,"singlePageAnchor":56,"docTitle":19,"url":57},"2. Pushing VHD images to Microsoft Azure cloud","pushing-vhd-imaged-to-azure-cloud_cloud-content-azure","#pushing-vhd-imaged-to-azure-cloud_cloud-content-azure",{"title":59,"visible":15,"weight":50,"urlFragment":60,"anchor":18,"singlePageAnchor":60,"sections":61,"docTitle":19,"url":148},"3. Deploying a Red Hat Enterprise Linux image as a virtual machine on Microsoft Azure","assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure",[62,66,87,100,104,108,113,118,123,128,133,138,143],{"title":63,"visible":15,"weight":16,"urlFragment":60,"anchor":64,"singlePageAnchor":64,"docTitle":19,"url":65},"3.1. Red Hat Enterprise Linux image options on Azure","azure-image-options_deploying-a-virtual-machine-on-microsoft-azure","#azure-image-options_deploying-a-virtual-machine-on-microsoft-azure",{"title":67,"visible":15,"weight":23,"urlFragment":60,"anchor":68,"singlePageAnchor":68,"sections":69,"docTitle":19,"url":86},"3.2. Understanding base images","understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure",[70,74,78,82],{"title":71,"visible":15,"weight":16,"urlFragment":60,"anchor":72,"singlePageAnchor":72,"docTitle":19,"url":73},"3.2.1. Using a custom base image","about-vm-images_understanding-base-images-azure","#about-vm-images_understanding-base-images-azure",{"title":75,"visible":15,"weight":23,"urlFragment":60,"anchor":76,"singlePageAnchor":76,"docTitle":19,"url":77},"3.2.2. Required system packages","required-system-packages_understanding-base-images-azure","#required-system-packages_understanding-base-images-azure",{"title":79,"visible":15,"weight":28,"urlFragment":60,"anchor":80,"singlePageAnchor":80,"docTitle":19,"url":81},"3.2.3. Azure VM configuration settings","azure-vm-configuration-settings_understanding-base-images-azure","#azure-vm-configuration-settings_understanding-base-images-azure",{"title":83,"visible":15,"weight":45,"urlFragment":60,"anchor":84,"singlePageAnchor":84,"docTitle":19,"url":85},"3.2.4. Creating a base image from an ISO image","create-a-vm-from-an-iso-image_understanding-base-images-azure","#create-a-vm-from-an-iso-image_understanding-base-images-azure","#understanding-base-images-azure_deploying-a-virtual-machine-on-microsoft-azure",{"title":88,"visible":15,"weight":28,"urlFragment":60,"anchor":89,"singlePageAnchor":89,"sections":90,"docTitle":19,"url":99},"3.3. Configuring a custom base image for Microsoft Azure","configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure",[91,95],{"title":92,"visible":15,"weight":16,"urlFragment":60,"anchor":93,"singlePageAnchor":93,"docTitle":19,"url":94},"3.3.1. Installing Hyper-V device drivers","installing-hyperv-drivers_configure-the-image-azure","#installing-hyperv-drivers_configure-the-image-azure",{"title":96,"visible":15,"weight":23,"urlFragment":60,"anchor":97,"singlePageAnchor":97,"docTitle":19,"url":98},"3.3.2. Making configuration changes required for a Microsoft Azure deployment","making-configuration-changes_configure-the-image-azure","#making-configuration-changes_configure-the-image-azure","#configure-the-image-azure_deploying-a-virtual-machine-on-microsoft-azure",{"title":101,"visible":15,"weight":45,"urlFragment":60,"anchor":102,"singlePageAnchor":102,"docTitle":19,"url":103},"3.4. Converting the image to a fixed VHD format","convert-the-image_deploying-a-virtual-machine-on-microsoft-azure","#convert-the-image_deploying-a-virtual-machine-on-microsoft-azure",{"title":105,"visible":15,"weight":50,"urlFragment":60,"anchor":106,"singlePageAnchor":106,"docTitle":19,"url":107},"3.5. Installing the Azure CLI","install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure","#install-the-azure-cli_deploying-a-virtual-machine-on-microsoft-azure",{"title":109,"visible":15,"weight":110,"urlFragment":60,"anchor":111,"singlePageAnchor":111,"docTitle":19,"url":112},"3.6. Creating resources in Azure",6,"create-azure-resources_deploying-a-virtual-machine-on-microsoft-azure","#create-azure-resources_deploying-a-virtual-machine-on-microsoft-azure",{"title":114,"visible":15,"weight":115,"urlFragment":60,"anchor":116,"singlePageAnchor":116,"docTitle":19,"url":117},"3.7. Uploading and creating an Azure image",7,"upload-image-to-azure_deploying-a-virtual-machine-on-microsoft-azure","#upload-image-to-azure_deploying-a-virtual-machine-on-microsoft-azure",{"title":119,"visible":15,"weight":120,"urlFragment":60,"anchor":121,"singlePageAnchor":121,"docTitle":19,"url":122},"3.8. Creating and starting the VM in Azure",8,"create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure","#create-start-the-VM_deploying-a-virtual-machine-on-microsoft-azure",{"title":124,"visible":15,"weight":125,"urlFragment":60,"anchor":126,"singlePageAnchor":126,"docTitle":19,"url":127},"3.9. Other authentication methods",9,"other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure","#other-authentication-methods_deploying-a-virtual-machine-on-microsoft-azure",{"title":129,"visible":15,"weight":130,"urlFragment":60,"anchor":131,"singlePageAnchor":131,"docTitle":19,"url":132},"3.10. Attaching Red Hat subscriptions",10,"attaching-subscriptions_deploying-a-virtual-machine-on-microsoft-azure","#attaching-subscriptions_deploying-a-virtual-machine-on-microsoft-azure",{"title":134,"visible":15,"weight":135,"urlFragment":60,"anchor":136,"singlePageAnchor":136,"docTitle":19,"url":137},"3.11. Setting up automatic registration on Azure Gold Images",11,"proc_setting-up-automatic-registration-on-azure-gold-images_deploying-a-virtual-machine-on-microsoft-azure","#proc_setting-up-automatic-registration-on-azure-gold-images_deploying-a-virtual-machine-on-microsoft-azure",{"title":139,"visible":15,"weight":140,"urlFragment":60,"anchor":141,"singlePageAnchor":141,"docTitle":19,"url":142},"3.12. Configuring kdump for Microsoft Azure instances",12,"configuring-kdump-for-microsoft-azure-instances_deploying-a-virtual-machine-on-microsoft-azure","#configuring-kdump-for-microsoft-azure-instances_deploying-a-virtual-machine-on-microsoft-azure",{"title":144,"visible":15,"weight":145,"urlFragment":60,"anchor":146,"singlePageAnchor":146,"docTitle":19,"url":147},"3.13. Additional resources",13,"additional_resources","#additional_resources","#assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure",{"title":150,"visible":15,"weight":110,"urlFragment":151,"anchor":18,"singlePageAnchor":151,"sections":152,"docTitle":19,"url":225},"4. Configuring a Red Hat High Availability cluster on Microsoft Azure","configuring-rhel-high-availability-on-azure_cloud-content-azure",[153,157,161,165,169,173,177,181,185,189,193,197,201,205,210,215,220],{"title":154,"visible":15,"weight":16,"urlFragment":151,"anchor":155,"singlePageAnchor":155,"docTitle":19,"url":156},"4.1. The benefits of using high-availability clusters on public cloud platforms","the-benefits-of-using-high-availability-clusters-on-public-cloud-platforms_configuring-rhel-high-availability-on-azure","#the-benefits-of-using-high-availability-clusters-on-public-cloud-platforms_configuring-rhel-high-availability-on-azure",{"title":158,"visible":15,"weight":23,"urlFragment":151,"anchor":159,"singlePageAnchor":159,"docTitle":19,"url":160},"4.2. Creating resources in Azure","create-azure-resources-for-ha_configuring-rhel-high-availability-on-azure","#create-azure-resources-for-ha_configuring-rhel-high-availability-on-azure",{"title":162,"visible":15,"weight":28,"urlFragment":151,"anchor":163,"singlePageAnchor":163,"docTitle":19,"url":164},"4.3. Required system packages for High Availability","required-system-packages-for-azure-ha_configuring-rhel-high-availability-on-azure","#required-system-packages-for-azure-ha_configuring-rhel-high-availability-on-azure",{"title":166,"visible":15,"weight":45,"urlFragment":151,"anchor":167,"singlePageAnchor":167,"docTitle":19,"url":168},"4.4. Azure VM configuration settings","azure-vm-configuration-settings_configuring-rhel-high-availability-on-azure","#azure-vm-configuration-settings_configuring-rhel-high-availability-on-azure",{"title":170,"visible":15,"weight":50,"urlFragment":151,"anchor":171,"singlePageAnchor":171,"docTitle":19,"url":172},"4.5. Installing Hyper-V device drivers","installing-hyperv-drivers_configuring-rhel-high-availability-on-azure","#installing-hyperv-drivers_configuring-rhel-high-availability-on-azure",{"title":174,"visible":15,"weight":110,"urlFragment":151,"anchor":175,"singlePageAnchor":175,"docTitle":19,"url":176},"4.6. Making configuration changes required for a Microsoft Azure deployment","making-configuration-changes_configuring-rhel-high-availability-on-azure","#making-configuration-changes_configuring-rhel-high-availability-on-azure",{"title":178,"visible":15,"weight":115,"urlFragment":151,"anchor":179,"singlePageAnchor":179,"docTitle":19,"url":180},"4.7. Creating an Azure Active Directory application","azure-create-an-azure-directory-application-in-ha_configuring-rhel-high-availability-on-azure","#azure-create-an-azure-directory-application-in-ha_configuring-rhel-high-availability-on-azure",{"title":182,"visible":15,"weight":120,"urlFragment":151,"anchor":183,"singlePageAnchor":183,"docTitle":19,"url":184},"4.8. Converting the image to a fixed VHD format","convert-the-image_configuring-rhel-high-availability-on-azure","#convert-the-image_configuring-rhel-high-availability-on-azure",{"title":186,"visible":15,"weight":125,"urlFragment":151,"anchor":187,"singlePageAnchor":187,"docTitle":19,"url":188},"4.9. Uploading and creating an Azure image","upload-image-to-azure_configuring-rhel-high-availability-on-azure","#upload-image-to-azure_configuring-rhel-high-availability-on-azure",{"title":190,"visible":15,"weight":130,"urlFragment":151,"anchor":191,"singlePageAnchor":191,"docTitle":19,"url":192},"4.10. Installing Red Hat HA packages and agents","azure-install-red-hat-ha-packages-and-agents_configuring-rhel-high-availability-on-azure","#azure-install-red-hat-ha-packages-and-agents_configuring-rhel-high-availability-on-azure",{"title":194,"visible":15,"weight":135,"urlFragment":151,"anchor":195,"singlePageAnchor":195,"docTitle":19,"url":196},"4.11. Creating a cluster","azure-create-cluster-in-ha_configuring-rhel-high-availability-on-azure","#azure-create-cluster-in-ha_configuring-rhel-high-availability-on-azure",{"title":198,"visible":15,"weight":140,"urlFragment":151,"anchor":199,"singlePageAnchor":199,"docTitle":19,"url":200},"4.12. Fencing overview","azure-fencing-overview-in-ha_configuring-rhel-high-availability-on-azure","#azure-fencing-overview-in-ha_configuring-rhel-high-availability-on-azure",{"title":202,"visible":15,"weight":145,"urlFragment":151,"anchor":203,"singlePageAnchor":203,"docTitle":19,"url":204},"4.13. Creating a fencing device","azure-create-a-fencing-device-in-ha_configuring-rhel-high-availability-on-azure","#azure-create-a-fencing-device-in-ha_configuring-rhel-high-availability-on-azure",{"title":206,"visible":15,"weight":207,"urlFragment":151,"anchor":208,"singlePageAnchor":208,"docTitle":19,"url":209},"4.14. Creating an Azure internal load balancer",14,"azure-create-internal-load-balancer-in-azure-ha_configuring-rhel-high-availability-on-azure","#azure-create-internal-load-balancer-in-azure-ha_configuring-rhel-high-availability-on-azure",{"title":211,"visible":15,"weight":212,"urlFragment":151,"anchor":213,"singlePageAnchor":213,"docTitle":19,"url":214},"4.15. Configuring the load balancer resource agent",15,"azure-configure-the-load-balancer-resource-agent-in-ha_configuring-rhel-high-availability-on-azure","#azure-configure-the-load-balancer-resource-agent-in-ha_configuring-rhel-high-availability-on-azure",{"title":216,"visible":15,"weight":217,"urlFragment":151,"anchor":218,"singlePageAnchor":218,"docTitle":19,"url":219},"4.16. Configuring shared block storage",16,"azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure","#azure-configuring-shared-block-storage_configuring-rhel-high-availability-on-azure",{"title":221,"visible":15,"weight":222,"urlFragment":151,"anchor":223,"singlePageAnchor":223,"docTitle":19,"url":224},"4.17. Additional resources",17,"additional_resources_2","#additional_resources_2","#configuring-rhel-high-availability-on-azure_cloud-content-azure",{"title":227,"visible":15,"weight":115,"urlFragment":228,"anchor":18,"singlePageAnchor":229,"docTitle":19,"url":230},"Legal Notice","legal-notice","idm140444521198352","#idm140444521198352",[232,235,238],{"text":233,"link":234},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":236,"link":237},"9","/documentation/red_hat_enterprise_linux/9/",{"text":11},{"name":11,"translations":240,"productVersion":241,"singlePage":242,"pdf":245,"publishingStatus":247},[5,6,7,8,9],{"name":236},{"contentUrl":243,"name":11,"new":244,"url":19},"https://d2bhdhkti9t3uj.cloudfront.net/html/159a3865-dc80-4918-ab97-09d02f8f9eaa/37f491b966468cd951e4a325e4f9ab11.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/deploying_rhel_9_on_microsoft_azure/index",{"url":246},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/deploying_rhel_9_on_microsoft_azure/Red_Hat_Enterprise_Linux-9-Deploying_RHEL_9_on_Microsoft_Azure-en-US.pdf","PUBLISHED",[249,254,257,261,265,269,273],{"name":250,"new":251,"url":252,"urlAliases":253},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":236,"new":255,"url":236,"urlAliases":256},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":258,"new":259,"url":258,"urlAliases":260},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":262,"new":263,"url":262,"urlAliases":264},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":266,"new":267,"url":266,"urlAliases":268},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":270,"new":271,"url":270,"urlAliases":272},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":274,"new":275,"url":274,"urlAliases":276},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"deploying_rhel_9_on_microsoft_azure/index":278,"deploying_rhel_9_on_microsoft_azure/proc_providing-feedback-on-red-hat-documentation_cloud-content-azure":279,"deploying_rhel_9_on_microsoft_azure/introducing-rhel-on-public-cloud-platforms_cloud-content-azure":280,"deploying_rhel_9_on_microsoft_azure/pushing-vhd-imaged-to-azure-cloud_cloud-content-azure":281,"deploying_rhel_9_on_microsoft_azure/assembly_deploying-a-rhel-image-as-a-virtual-machine-on-microsoft-azure_cloud-content-azure":282,"deploying_rhel_9_on_microsoft_azure/configuring-rhel-high-availability-on-azure_cloud-content-azure":283,"deploying_rhel_9_on_microsoft_azure/legal-notice":284},{"prevt":18,"next":24},{"prevt":17,"next":29},{"prevt":18,"next":29},{"prevt":29,"next":60},{"prevt":18,"next":60},{"prevt":18,"next":151},{"prevt":151,"next":18},{"product":18,"version":18},{"deploying_rhel_9_on_microsoft_azure":287},[244],{"products":289},[290,291,292,293,294,295,296,297,298,299,300,301,302],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":305},[306,315,321,330,338,346,353,361,368],{"nid":307,"type":308,"langcode":309,"Published":16,"title":310,"Created":311,"Updated":312,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":313,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":314},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":316,"type":308,"langcode":309,"Published":16,"title":310,"Created":317,"Updated":318,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":319,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":320},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":322,"type":323,"langcode":309,"Published":16,"title":324,"Created":325,"Updated":326,"body_value":18,"field_documentation banner_text_value":327,"field_documentation banner_text_format":328,"field_paths_value":329,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":331,"type":332,"langcode":309,"Published":16,"title":333,"Created":334,"Updated":335,"body_value":18,"field_documentation banner_text_value":336,"field_documentation banner_text_format":328,"field_paths_value":337,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":339,"type":340,"langcode":309,"Published":16,"title":341,"Created":342,"Updated":343,"body_value":18,"field_documentation banner_text_value":344,"field_documentation banner_text_format":328,"field_paths_value":345,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":347,"type":340,"langcode":309,"Published":16,"title":348,"Created":349,"Updated":350,"body_value":18,"field_documentation banner_text_value":351,"field_documentation banner_text_format":328,"field_paths_value":352,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":354,"type":355,"langcode":309,"Published":16,"title":356,"Created":357,"Updated":358,"body_value":18,"field_documentation banner_text_value":359,"field_documentation banner_text_format":328,"field_paths_value":360,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":362,"type":355,"langcode":309,"Published":16,"title":363,"Created":364,"Updated":365,"body_value":18,"field_documentation banner_text_value":366,"field_documentation banner_text_format":328,"field_paths_value":367,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":369,"alertType":370,"type":371,"langcode":309,"Published":16,"title":372,"Created":367,"Updated":367,"body_value":18,"field_documentation banner_text_value":373,"field_documentation banner_text_format":328,"field_paths_value":374,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":233},["Reactive",377],{"$snuxt-i18n-meta":378,"$sisLoading":379,"$sisSinglePage":15,"$sisInFocusMode":379,"$smobileTocOpen":379,"$sisLargeTOC":379,"$scurrentChapter":17,"$scurrentSection":17,"$scurrentSubSection":367},{},false,["Set"],["ShallowReactive",382],{"s8LoCEfG4A":18,"rFVLKcOK8e":18,"uUstF4AIyn":18,"MdHNSZP4nR":18,"Pn02PlJOas":18},"/en/documentation/red_hat_enterprise_linux/9/html-single/deploying_rhel_9_on_microsoft_azure/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
