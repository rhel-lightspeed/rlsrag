<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Managing storage devices | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Managing storage devices | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Managing storage devices<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Managing storage devices</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_managing-storage-devices" id="chapter-landing--managing_storage_devices-proc_providing-feedback-on-red-hat-documentation_managing-storage-devices" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--overview-of-available-storage-options_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="overview-of-available-storage-options_managing-storage-devices--summary" data-v-fa0dae77>1. Overview of available storage options</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#overview-of-available-storage-options_managing-storage-devices" id="chapter-landing--managing_storage_devices-overview-of-available-storage-options_managing-storage-devices" data-v-fa0dae77>Overview of available storage options</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#local-storage-overview_overview-of-available-storage-options" id="sub-link-to-managing_storage_devices-local-storage-overview_overview-of-available-storage-options" data-v-b883c74f>1.1. Local storage overview</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#remote-storage-overview_overview-of-available-storage-options" id="sub-link-to-managing_storage_devices-remote-storage-overview_overview-of-available-storage-options" data-v-b883c74f>1.2. Remote storage overview</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#gfs2-file-system-overview_overview-of-available-storage-options" id="sub-link-to-managing_storage_devices-gfs2-file-system-overview_overview-of-available-storage-options" data-v-b883c74f>1.3. GFS2 file system overview</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--persistent-naming-attributes_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="persistent-naming-attributes_managing-storage-devices--summary" data-v-fa0dae77>2. Persistent naming attributes</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#persistent-naming-attributes_managing-storage-devices" id="chapter-landing--managing_storage_devices-persistent-naming-attributes_managing-storage-devices" data-v-fa0dae77>Persistent naming attributes</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#persistent-attributes-for-identifying-file-systems-and-block-devices_persistent-naming-attributes" id="sub-link-to-managing_storage_devices-persistent-attributes-for-identifying-file-systems-and-block-devices_persistent-naming-attributes" data-v-b883c74f>2.1. Persistent attributes for identifying file systems and block devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#udev-device-naming-rules_persistent-naming-attributes" id="sub-link-to-managing_storage_devices-udev-device-naming-rules_persistent-naming-attributes" data-v-b883c74f>2.2. udev device naming rules</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-local-storage-using-rhel-system-roles_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="managing-local-storage-using-rhel-system-roles_managing-storage-devices--summary" data-v-fa0dae77>3. Managing local storage by using RHEL system roles</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-local-storage-using-rhel-system-roles_managing-storage-devices" id="chapter-landing--managing_storage_devices-managing-local-storage-using-rhel-system-roles_managing-storage-devices" data-v-fa0dae77>Managing local storage by using RHEL system roles</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#an-example-ansible-playbook-to-create-an-xfs-file-system_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-an-example-ansible-playbook-to-create-an-xfs-file-system_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.1. Creating an XFS file system on a block device by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#an-example-ansible-playbook-to-persistently-mount-a-file-system_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-an-example-ansible-playbook-to-persistently-mount-a-file-system_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.2. Persistently mounting a file system by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-or-resizing-logical-volume-using-storage-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-creating-or-resizing-logical-volume-using-storage-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.3. Creating or resizing a logical volume by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#an-example-ansible-playbook-to-enable-online-block-discard_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-an-example-ansible-playbook-to-enable-online-block-discard_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.4. Enabling online block discard by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#an-example-playbook-to-create-mount-an-ext4-file-system_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-an-example-playbook-to-create-mount-an-ext4-file-system_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.5. Creating and mounting an Ext4 file system by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#an-example-ansible-playbook-to-create-mount-ext3-file-system_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-an-example-ansible-playbook-to-create-mount-ext3-file-system_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.6. Creating and mounting an Ext3 file system by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#example-ansible-playbook-to-create-a-swap-partition-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-example-ansible-playbook-to-create-a-swap-partition-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.7. Creating a swap volume by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-a-raid-volume-using-the-storage-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-configuring-a-raid-volume-using-the-storage-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.8. Configuring a RAID volume by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-lvm-pool-with-raid-using-storage-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-configuring-lvm-pool-with-raid-using-storage-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.9. Configuring an LVM pool with RAID by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-a-stripe-size-for-raid-lvm-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-configuring-a-stripe-size-for-raid-lvm-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.10. Configuring a stripe size for RAID LVM volumes by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-an-lvm-vdo-volume-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-configuring-an-lvm-vdo-volume-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.11. Configuring an LVM-VDO volume by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-luks2-encrypted-volume-using-the-storage-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-creating-a-luks2-encrypted-volume-using-the-storage-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.12. Creating a LUKS2 encrypted volume by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-shared-lvm-devices-using-storage-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-creating-shared-lvm-devices-using-storage-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.13. Creating shared LVM devices using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#resizing-physical-volumes-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-resizing-physical-volumes-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.14. Resizing physical volumes by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-encrypted-stratis-pool-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" id="sub-link-to-managing_storage_devices-creating-an-encrypted-stratis-pool-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles" data-v-b883c74f>3.15. Creating an encrypted Stratis pool by using the storage RHEL system role</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--disk-partitions_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="disk-partitions_managing-storage-devices--summary" data-v-fa0dae77>4. Disk partitions</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#disk-partitions_managing-storage-devices" id="chapter-landing--managing_storage_devices-disk-partitions_managing-storage-devices" data-v-fa0dae77>Disk partitions</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-partitions_disk-partitions" id="sub-link-to-managing_storage_devices-overview-of-partitions_disk-partitions" data-v-b883c74f>4.1. Overview of partitions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_considerations-before-modifying-partitions-on-a-disk_disk-partitions" id="sub-link-to-managing_storage_devices-con_considerations-before-modifying-partitions-on-a-disk_disk-partitions" data-v-b883c74f>4.2. Considerations before modifying partitions on a disk</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#comparison-of-partition-table-types_disk-partitions" id="sub-link-to-managing_storage_devices-comparison-of-partition-table-types_disk-partitions" data-v-b883c74f>4.3. Comparison of partition table types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#mbr-disk-partitions_disk-partitions" id="sub-link-to-managing_storage_devices-mbr-disk-partitions_disk-partitions" data-v-b883c74f>4.4. MBR disk partitions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#extended-mbr-partitions_disk-partitions" id="sub-link-to-managing_storage_devices-extended-mbr-partitions_disk-partitions" data-v-b883c74f>4.5. Extended MBR partitions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#mbr-partition-types_disk-partitions" id="sub-link-to-managing_storage_devices-mbr-partition-types_disk-partitions" data-v-b883c74f>4.6. MBR partition types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guid-partition-table_disk-partitions" id="sub-link-to-managing_storage_devices-guid-partition-table_disk-partitions" data-v-b883c74f>4.7. GUID partition table</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#partition-types_disk-partitions" id="sub-link-to-managing_storage_devices-partition-types_disk-partitions" data-v-b883c74f>4.8. Partition types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#partition-naming-scheme_disk-partitions" id="sub-link-to-managing_storage_devices-partition-naming-scheme_disk-partitions" data-v-b883c74f>4.9. Partition naming scheme</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#mount-points-and-disk-partitions_disk-partitions" id="sub-link-to-managing_storage_devices-mount-points-and-disk-partitions_disk-partitions" data-v-b883c74f>4.10. Mount points and disk partitions</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--getting-started-with-partitions_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="getting-started-with-partitions_managing-storage-devices--summary" data-v-fa0dae77>5. Getting started with partitions</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#getting-started-with-partitions_managing-storage-devices" id="chapter-landing--managing_storage_devices-getting-started-with-partitions_managing-storage-devices" data-v-fa0dae77>Getting started with partitions</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-partition-table-on-a-disk-with-parted_getting-started-with-partitions" id="sub-link-to-managing_storage_devices-proc_creating-a-partition-table-on-a-disk-with-parted_getting-started-with-partitions" data-v-b883c74f>5.1. Creating a partition table on a disk with parted</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#viewing-the-partition-table-with-parted_getting-started-with-partitions" id="sub-link-to-managing_storage_devices-viewing-the-partition-table-with-parted_getting-started-with-partitions" data-v-b883c74f>5.2. Viewing the partition table with parted</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-partition-with-parted_getting-started-with-partitions" id="sub-link-to-managing_storage_devices-proc_creating-a-partition-with-parted_getting-started-with-partitions" data-v-b883c74f>5.3. Creating a partition with parted</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-a-partition-type-with-fdisk_getting-started-with-partitions" id="sub-link-to-managing_storage_devices-proc_setting-a-partition-type-with-fdisk_getting-started-with-partitions" data-v-b883c74f>5.4. Setting a partition type with fdisk</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_resizing-a-partition-with-parted_getting-started-with-partitions" id="sub-link-to-managing_storage_devices-proc_resizing-a-partition-with-parted_getting-started-with-partitions" data-v-b883c74f>5.5. Resizing a partition with parted</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_removing-a-partition-with-parted_getting-started-with-partitions" id="sub-link-to-managing_storage_devices-proc_removing-a-partition-with-parted_getting-started-with-partitions" data-v-b883c74f>5.6. Removing a partition with parted</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--strategies-for-repartitioning-a-disk_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="strategies-for-repartitioning-a-disk_managing-storage-devices--summary" data-v-fa0dae77>6. Strategies for repartitioning a disk</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#strategies-for-repartitioning-a-disk_managing-storage-devices" id="chapter-landing--managing_storage_devices-strategies-for-repartitioning-a-disk_managing-storage-devices" data-v-fa0dae77>Strategies for repartitioning a disk</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-unpartitioned-free-space_strategies-for-repartitioning-a-disk" id="sub-link-to-managing_storage_devices-using-unpartitioned-free-space_strategies-for-repartitioning-a-disk" data-v-b883c74f>6.1. Using unpartitioned free space</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-space-from-an-unused-partition_strategies-for-repartitioning-a-disk" id="sub-link-to-managing_storage_devices-using-space-from-an-unused-partition_strategies-for-repartitioning-a-disk" data-v-b883c74f>6.2. Using space from an unused partition</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk" data-v-b883c74f><summary class="heading sub-chapter-title" id="using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk--summary" data-v-b883c74f>6.3. Using free space from an active partition</summary><ol id="sub-nav--using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk" id="chapter-landing--managing_storage_devices-using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk" data-v-b883c74f>Using free space from an active partition</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#destructive-repartitioning_using-free-space-from-an-active-partition" id="sub-link-to-managing_storage_devices-destructive-repartitioning_using-free-space-from-an-active-partition" data-v-b883c74f>6.3.1. Destructive repartitioning</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#non-destructive-repartitioning_using-free-space-from-an-active-partition" id="sub-link-to-managing_storage_devices-non-destructive-repartitioning_using-free-space-from-an-active-partition" data-v-b883c74f>6.3.2. Non-destructive repartitioning</a></li><!--]--><!--]--></ol></details></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-an-iscsi-target_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-an-iscsi-target_managing-storage-devices--summary" data-v-fa0dae77>7. Configuring an iSCSI target</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-an-iscsi-target_managing-storage-devices" id="chapter-landing--managing_storage_devices-configuring-an-iscsi-target_managing-storage-devices" data-v-fa0dae77>Configuring an iSCSI target</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-targetcli_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-installing-targetcli_configuring-an-iscsi-target" data-v-b883c74f>7.1. Installing targetcli</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-iscsi-target_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-an-iscsi-target_configuring-an-iscsi-target" data-v-b883c74f>7.2. Creating an iSCSI target</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#iscsi-backstore_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-iscsi-backstore_configuring-an-iscsi-target" data-v-b883c74f>7.3. iSCSI Backstore</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-fileio-storage-object_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-a-fileio-storage-object_configuring-an-iscsi-target" data-v-b883c74f>7.4. Creating a fileio storage object</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-block-storage-object_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-a-block-storage-object_configuring-an-iscsi-target" data-v-b883c74f>7.5. Creating a block storage object</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-pscsi-storage-object_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-a-pscsi-storage-object_configuring-an-iscsi-target" data-v-b883c74f>7.6. Creating a pscsi storage object</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target" data-v-b883c74f>7.7. Creating a Memory Copy RAM disk storage object</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-iscsi-portal_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-an-iscsi-portal_configuring-an-iscsi-target" data-v-b883c74f>7.8. Creating an iSCSI portal</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-iscsi-lun_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-an-iscsi-lun_configuring-an-iscsi-target" data-v-b883c74f>7.9. Creating an iSCSI LUN</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-read-only-iscsi-lun_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-a-read-only-iscsi-lun_configuring-an-iscsi-target" data-v-b883c74f>7.10. Creating a read-only iSCSI LUN</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-iscsi-acl_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-creating-an-iscsi-acl_configuring-an-iscsi-target" data-v-b883c74f>7.11. Creating an iSCSI ACL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target" data-v-b883c74f>7.12. Setting up the Challenge-Handshake Authentication Protocol for the target</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-an-iscsi-object-using-targetcli-tool_configuring-an-iscsi-target" id="sub-link-to-managing_storage_devices-removing-an-iscsi-object-using-targetcli-tool_configuring-an-iscsi-target" data-v-b883c74f>7.13. Removing an iSCSI object using targetcli tool</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-an-iscsi-initiator_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-an-iscsi-initiator_managing-storage-devices--summary" data-v-fa0dae77>8. Configuring an iSCSI initiator</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-an-iscsi-initiator_managing-storage-devices" id="chapter-landing--managing_storage_devices-configuring-an-iscsi-initiator_managing-storage-devices" data-v-fa0dae77>Configuring an iSCSI initiator</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-iscsi-initiator_configuring-an-iscsi-initiator" id="sub-link-to-managing_storage_devices-creating-an-iscsi-initiator_configuring-an-iscsi-initiator" data-v-b883c74f>8.1. Creating an iSCSI initiator</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-the-challenge-handshake-authentication-protocol-for-the-initiator_configuring-an-iscsi-initiator" id="sub-link-to-managing_storage_devices-setting-up-the-challenge-handshake-authentication-protocol-for-the-initiator_configuring-an-iscsi-initiator" data-v-b883c74f>8.2. Setting up the Challenge-Handshake Authentication Protocol for the initiator</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#monitoring-an-iscsi-session-using-the-iscsiadm-utility_configuring-an-iscsi-initiator" id="sub-link-to-managing_storage_devices-monitoring-an-iscsi-session-using-the-iscsiadm-utility_configuring-an-iscsi-initiator" data-v-b883c74f>8.3. Monitoring an iSCSI session using the iscsiadm utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#dm-multipath-overrides-of-the-device-timeout_configuring-an-iscsi-initiator" id="sub-link-to-managing_storage_devices-dm-multipath-overrides-of-the-device-timeout_configuring-an-iscsi-initiator" data-v-b883c74f>8.4. DM Multipath overrides of the device timeout</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--using-fibre-channel-devices_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="using-fibre-channel-devices_managing-storage-devices--summary" data-v-fa0dae77>9. Using Fibre Channel devices</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#using-fibre-channel-devices_managing-storage-devices" id="chapter-landing--managing_storage_devices-using-fibre-channel-devices_managing-storage-devices" data-v-fa0dae77>Using Fibre Channel devices</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#resizing-fibre-channel-logical-units_using-fibre-channel-devices" id="sub-link-to-managing_storage_devices-resizing-fibre-channel-logical-units_using-fibre-channel-devices" data-v-b883c74f>9.1. Resizing Fibre Channel Logical Units</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#determining-the-link-loss-behavior-of-device-using-fibre-channel_using-fibre-channel-devices" id="sub-link-to-managing_storage_devices-determining-the-link-loss-behavior-of-device-using-fibre-channel_using-fibre-channel-devices" data-v-b883c74f>9.2. Determining the link loss behavior of device using Fibre Channel</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#fibre-channel-configuration-files_using-fibre-channel-devices" id="sub-link-to-managing_storage_devices-fibre-channel-configuration-files_using-fibre-channel-devices" data-v-b883c74f>9.3. Fibre Channel configuration files</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#dm-multipath-overrides-of-the-device-timeout_using-fibre-channel-devices" id="sub-link-to-managing_storage_devices-dm-multipath-overrides-of-the-device-timeout_using-fibre-channel-devices" data-v-b883c74f>9.4. DM Multipath overrides of the device timeout</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-system-upgrades-with-snapshots_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="managing-system-upgrades-with-snapshots_managing-storage-devices--summary" data-v-fa0dae77>10. Managing system upgrades with snapshots</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-system-upgrades-with-snapshots_managing-storage-devices" id="chapter-landing--managing_storage_devices-managing-system-upgrades-with-snapshots_managing-storage-devices" data-v-fa0dae77>Managing system upgrades with snapshots</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-the-boom-process_managing-system-upgrades-with-snapshots" id="sub-link-to-managing_storage_devices-overview-of-the-boom-process_managing-system-upgrades-with-snapshots" data-v-b883c74f>10.1. Overview of the Boom process</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots" id="sub-link-to-managing_storage_devices-upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots" data-v-b883c74f>10.2. Upgrading to another version using Boom Boot Manager</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#switching-between-red-hat-enterprise-linux-versions_managing-system-upgrades-with-snapshots" id="sub-link-to-managing_storage_devices-switching-between-red-hat-enterprise-linux-versions_managing-system-upgrades-with-snapshots" data-v-b883c74f>10.3. Switching between Red Hat Enterprise Linux versions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deleting-the-logical-volume-snapshot-after-a-successful-upgrade_managing-system-upgrades-with-snapshots" id="sub-link-to-managing_storage_devices-deleting-the-logical-volume-snapshot-after-a-successful-upgrade_managing-system-upgrades-with-snapshots" data-v-b883c74f>10.4. Deleting the logical volume snapshot after a successful upgrade</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rollback-boot-entry-after-an-unsuccessful-upgrade_managing-system-upgrades-with-snapshots" id="sub-link-to-managing_storage_devices-creating-a-rollback-boot-entry-after-an-unsuccessful-upgrade_managing-system-upgrades-with-snapshots" data-v-b883c74f>10.5. Creating a rollback boot entry after an unsuccessful upgrade</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices--summary" data-v-fa0dae77>11. Configuring NVMe over fabrics using NVMe/RDMA</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices" id="chapter-landing--managing_storage_devices-configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices" data-v-fa0dae77>Configuring NVMe over fabrics using NVMe/RDMA</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma" id="sub-link-to-managing_storage_devices-overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma" data-v-b883c74f>11.1. Overview of NVMe over fabric devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma" id="sub-link-to-managing_storage_devices-setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma" data-v-b883c74f>11.2. Setting up an NVMe/RDMA controller using configfs</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma" id="sub-link-to-managing_storage_devices-setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma" data-v-b883c74f>11.3. Setting up the NVMe/RDMA controller using nvmetcli</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma" id="sub-link-to-managing_storage_devices-configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma" data-v-b883c74f>11.4. Configuring an NVMe/RDMA host</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#next_steps" id="sub-link-to-managing_storage_devices-next_steps" data-v-b883c74f>11.5. Next steps</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices--summary" data-v-fa0dae77>12. Configuring NVMe over fabrics using NVMe/FC</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices" id="chapter-landing--managing_storage_devices-configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices" data-v-fa0dae77>Configuring NVMe over fabrics using NVMe/FC</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-fc" id="sub-link-to-managing_storage_devices-overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-fc" data-v-b883c74f>12.1. Overview of NVMe over fabric devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc" id="sub-link-to-managing_storage_devices-configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc" data-v-b883c74f>12.2. Configuring the NVMe host for Broadcom adapters</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc" id="sub-link-to-managing_storage_devices-configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc" data-v-b883c74f>12.3. Configuring the NVMe host for QLogic adapters</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#next_steps_2" id="sub-link-to-managing_storage_devices-next_steps_2" data-v-b883c74f>12.4. Next steps</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices--summary" data-v-fa0dae77>13. Configuring NVMe over fabrics using NVMe/TCP</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices" id="chapter-landing--managing_storage_devices-configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices" data-v-fa0dae77>Configuring NVMe over fabrics using NVMe/TCP</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-tcp" id="sub-link-to-managing_storage_devices-overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-tcp" data-v-b883c74f>13.1. Overview of NVMe over fabric devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp" id="sub-link-to-managing_storage_devices-configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp" data-v-b883c74f>13.2. Configuring an NVMe/TCP host</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp" id="sub-link-to-managing_storage_devices-connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp" data-v-b883c74f>13.3. Connecting the NVMe/TCP host to the NVMe/TCP controller</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--enabling-multipathing-on-nvme-devices_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="enabling-multipathing-on-nvme-devices_managing-storage-devices--summary" data-v-fa0dae77>14. Enabling multipathing on NVMe devices</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#enabling-multipathing-on-nvme-devices_managing-storage-devices" id="chapter-landing--managing_storage_devices-enabling-multipathing-on-nvme-devices_managing-storage-devices" data-v-fa0dae77>Enabling multipathing on NVMe devices</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#native-nvme-multipathing-and-dm-multipath_enabling-multipathing-on-nvme-devices" id="sub-link-to-managing_storage_devices-native-nvme-multipathing-and-dm-multipath_enabling-multipathing-on-nvme-devices" data-v-b883c74f>14.1. Native NVMe multipathing and DM Multipath</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-dm-multipath-on-nvme-devices_enabling-multipathing-on-nvme-devices" id="sub-link-to-managing_storage_devices-proc_enabling-dm-multipath-on-nvme-devices_enabling-multipathing-on-nvme-devices" data-v-b883c74f>14.2. Enabling DM Multipath on NVMe devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-native-nvme-multipathing_enabling-multipathing-on-nvme-devices" id="sub-link-to-managing_storage_devices-proc_enabling-native-nvme-multipathing_enabling-multipathing-on-nvme-devices" data-v-b883c74f>14.3. Enabling native NVMe multipathing</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--setting-up-a-remote-diskless-system_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="setting-up-a-remote-diskless-system_managing-storage-devices--summary" data-v-fa0dae77>15. Setting up a remote diskless system</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#setting-up-a-remote-diskless-system_managing-storage-devices" id="chapter-landing--managing_storage_devices-setting-up-a-remote-diskless-system_managing-storage-devices" data-v-fa0dae77>Setting up a remote diskless system</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#preparing-environments-for-the-remote-diskless-system_setting-up-a-remote-diskless-system" id="sub-link-to-managing_storage_devices-preparing-environments-for-the-remote-diskless-system_setting-up-a-remote-diskless-system" data-v-b883c74f>15.1. Preparing environments for the remote diskless system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system" id="sub-link-to-managing_storage_devices-configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system" data-v-b883c74f>15.2. Configuring a TFTP service for diskless clients</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system" id="sub-link-to-managing_storage_devices-configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system" data-v-b883c74f>15.3. Configuring a DHCP server for diskless clients</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system" id="sub-link-to-managing_storage_devices-configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system" data-v-b883c74f>15.4. Configuring an exported file system for diskless clients</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#re-configuring-a-remote-diskless-system_setting-up-a-remote-diskless-system" id="sub-link-to-managing_storage_devices-re-configuring-a-remote-diskless-system_setting-up-a-remote-diskless-system" data-v-b883c74f>15.5. Re-configuring a remote diskless system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#troubleshooting-common-issues-with-loading-a-remote-diskless-system_setting-up-a-remote-diskless-system" id="sub-link-to-managing_storage_devices-troubleshooting-common-issues-with-loading-a-remote-diskless-system_setting-up-a-remote-diskless-system" data-v-b883c74f>15.6. Troubleshooting common issues with loading a remote diskless system</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--getting-started-with-swap_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="getting-started-with-swap_managing-storage-devices--summary" data-v-fa0dae77>16. Getting started with swap</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#getting-started-with-swap_managing-storage-devices" id="chapter-landing--managing_storage_devices-getting-started-with-swap_managing-storage-devices" data-v-fa0dae77>Getting started with swap</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-swap-space_getting-started-with-swap" id="sub-link-to-managing_storage_devices-overview-of-swap-space_getting-started-with-swap" data-v-b883c74f>16.1. Overview of swap space</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#recommended-system-swap-space_getting-started-with-swap" id="sub-link-to-managing_storage_devices-recommended-system-swap-space_getting-started-with-swap" data-v-b883c74f>16.2. Recommended system swap space</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap" id="sub-link-to-managing_storage_devices-creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap" data-v-b883c74f>16.3. Creating an LVM2 logical volume for swap</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-swap-file_getting-started-with-swap" id="sub-link-to-managing_storage_devices-creating-a-swap-file_getting-started-with-swap" data-v-b883c74f>16.4. Creating a swap file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap" id="sub-link-to-managing_storage_devices-extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap" data-v-b883c74f>16.5. Extending swap on an LVM2 logical volume</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap" id="sub-link-to-managing_storage_devices-reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap" data-v-b883c74f>16.6. Reducing swap on an LVM2 logical volume</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap" id="sub-link-to-managing_storage_devices-removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap" data-v-b883c74f>16.7. Removing an LVM2 logical volume for swap</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-swap-file_getting-started-with-swap" id="sub-link-to-managing_storage_devices-removing-a-swap-file_getting-started-with-swap" data-v-b883c74f>16.8. Removing a swap file</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-fibre-channel-over-ethernet_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-fibre-channel-over-ethernet_managing-storage-devices--summary" data-v-fa0dae77>17. Configuring Fibre Channel over Ethernet</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-fibre-channel-over-ethernet_managing-storage-devices" id="chapter-landing--managing_storage_devices-configuring-fibre-channel-over-ethernet_managing-storage-devices" data-v-fa0dae77>Configuring Fibre Channel over Ethernet</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-hardware-fcoe-hbas-in-rhel_configuring-fibre-channel-over-ethernet" id="sub-link-to-managing_storage_devices-using-hardware-fcoe-hbas-in-rhel_configuring-fibre-channel-over-ethernet" data-v-b883c74f>17.1. Using hardware FCoE HBAs in RHEL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-a-software-fcoe-device_configuring-fibre-channel-over-ethernet" id="sub-link-to-managing_storage_devices-setting-up-a-software-fcoe-device_configuring-fibre-channel-over-ethernet" data-v-b883c74f>17.2. Setting up a software FCoE device</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-tape-devices_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="managing-tape-devices_managing-storage-devices--summary" data-v-fa0dae77>18. Managing tape devices</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-tape-devices_managing-storage-devices" id="chapter-landing--managing_storage_devices-managing-tape-devices_managing-storage-devices" data-v-fa0dae77>Managing tape devices</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#types-of-tape-devices_managing-tape-devices" id="sub-link-to-managing_storage_devices-types-of-tape-devices_managing-tape-devices" data-v-b883c74f>18.1. Types of tape devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-tape-drive-management-tool_managing-tape-devices" id="sub-link-to-managing_storage_devices-installing-tape-drive-management-tool_managing-tape-devices" data-v-b883c74f>18.2. Installing tape drive management tool</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#writing-to-rewinding-tape-devices_managing-tape-devices" id="sub-link-to-managing_storage_devices-writing-to-rewinding-tape-devices_managing-tape-devices" data-v-b883c74f>18.3. Writing to rewinding tape devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#writing-to-non-rewinding-tape-devices_managing-tape-devices" id="sub-link-to-managing_storage_devices-writing-to-non-rewinding-tape-devices_managing-tape-devices" data-v-b883c74f>18.4. Writing to non-rewinding tape devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#switching-tape-head-in-tape-devices_managing-tape-devices" id="sub-link-to-managing_storage_devices-switching-tape-head-in-tape-devices_managing-tape-devices" data-v-b883c74f>18.5. Switching tape head in tape devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#restoring-data-from-tape-devices_managing-tape-devices" id="sub-link-to-managing_storage_devices-restoring-data-from-tape-devices_managing-tape-devices" data-v-b883c74f>18.6. Restoring data from tape devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#erasing-data-from-tape-devices_managing-tape-devices" id="sub-link-to-managing_storage_devices-erasing-data-from-tape-devices_managing-tape-devices" data-v-b883c74f>18.7. Erasing data from tape devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#tape-commands_managing-tape-devices" id="sub-link-to-managing_storage_devices-tape-commands_managing-tape-devices" data-v-b883c74f>18.8. Tape commands</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-raid_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="managing-raid_managing-storage-devices--summary" data-v-fa0dae77>19. Managing RAID</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-raid_managing-storage-devices" id="chapter-landing--managing_storage_devices-managing-raid_managing-storage-devices" data-v-fa0dae77>Managing RAID</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-raid_managing-raid" id="sub-link-to-managing_storage_devices-overview-of-raid_managing-raid" data-v-b883c74f>19.1. Overview of RAID</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#raid-types_managing-raid" id="sub-link-to-managing_storage_devices-raid-types_managing-raid" data-v-b883c74f>19.2. RAID types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#raid-levels-and-linear-support_managing-raid" id="sub-link-to-managing_storage_devices-raid-levels-and-linear-support_managing-raid" data-v-b883c74f>19.3. RAID levels and linear support</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#supported-raid-conversions_managing-raid" id="sub-link-to-managing_storage_devices-supported-raid-conversions_managing-raid" data-v-b883c74f>19.4. Supported RAID conversions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#linux-raid-subsystems_managing-raid" id="sub-link-to-managing_storage_devices-linux-raid-subsystems_managing-raid" data-v-b883c74f>19.5. Linux RAID subsystems</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-software-raid-during-the-installation_managing-raid" id="sub-link-to-managing_storage_devices-creating-a-software-raid-during-the-installation_managing-raid" data-v-b883c74f>19.6. Creating a software RAID during the installation</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-software-raid-on-an-installed-system_managing-raid" id="sub-link-to-managing_storage_devices-creating-a-software-raid-on-an-installed-system_managing-raid" data-v-b883c74f>19.7. Creating a software RAID on an installed system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-raid-in-the-web-console_managing-raid" id="sub-link-to-managing_storage_devices-creating-raid-in-the-web-console_managing-raid" data-v-b883c74f>19.8. Creating RAID in the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#formatting-raid-in-the-web-console_managing-raid" id="sub-link-to-managing_storage_devices-formatting-raid-in-the-web-console_managing-raid" data-v-b883c74f>19.9. Formatting RAID in the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-partition-table-on-raid-using-the-web-console_managing-raid" id="sub-link-to-managing_storage_devices-creating-a-partition-table-on-raid-using-the-web-console_managing-raid" data-v-b883c74f>19.10. Creating a partition table on RAID by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-partitions-on-raid-using-the-web-console_managing-raid" id="sub-link-to-managing_storage_devices-creating-partitions-on-raid-using-the-web-console_managing-raid" data-v-b883c74f>19.11. Creating partitions on RAID by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-volume-group-on-top-of-raid-using-the-web-console_managing-raid" id="sub-link-to-managing_storage_devices-creating-volume-group-on-top-of-raid-using-the-web-console_managing-raid" data-v-b883c74f>19.12. Creating a volume group on top of RAID by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-a-raid-volume-using-the-storage-system-role_managing-raid" id="sub-link-to-managing_storage_devices-configuring-a-raid-volume-using-the-storage-system-role_managing-raid" data-v-b883c74f>19.13. Configuring a RAID volume by using the storage RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#extending-raid_managing-raid" id="sub-link-to-managing_storage_devices-extending-raid_managing-raid" data-v-b883c74f>19.14. Extending RAID</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#shrinking-raid_managing-raid" id="sub-link-to-managing_storage_devices-shrinking-raid_managing-raid" data-v-b883c74f>19.15. Shrinking RAID</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#converting-a-root-disk-to-raid1-after-installation_managing-raid" id="sub-link-to-managing_storage_devices-converting-a-root-disk-to-raid1-after-installation_managing-raid" data-v-b883c74f>19.16. Converting a root disk to RAID1 after installation</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-advanced-raid-devices_managing-raid" id="sub-link-to-managing_storage_devices-creating-advanced-raid-devices_managing-raid" data-v-b883c74f>19.17. Creating advanced RAID devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-email-notifications-to-monitor-a-raid_managing-raid" id="sub-link-to-managing_storage_devices-setting-up-email-notifications-to-monitor-a-raid_managing-raid" data-v-b883c74f>19.18. Setting up email notifications to monitor a RAID</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#replacing-a-failed-disk-in-raid_managing-raid" id="sub-link-to-managing_storage_devices-replacing-a-failed-disk-in-raid_managing-raid" data-v-b883c74f>19.19. Replacing a failed disk in RAID</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#repairing-raid-disks_managing-raid" id="sub-link-to-managing_storage_devices-repairing-raid-disks_managing-raid" data-v-b883c74f>19.20. Repairing RAID disks</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--encrypting-block-devices-using-luks_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="encrypting-block-devices-using-luks_managing-storage-devices--summary" data-v-fa0dae77>20. Encrypting block devices using LUKS</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#encrypting-block-devices-using-luks_managing-storage-devices" id="chapter-landing--managing_storage_devices-encrypting-block-devices-using-luks_managing-storage-devices" data-v-fa0dae77>Encrypting block devices using LUKS</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#luks-disk-encryption_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-luks-disk-encryption_encrypting-block-devices-using-luks" data-v-b883c74f>20.1. LUKS disk encryption</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#luks-versions-in-rhel_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-luks-versions-in-rhel_encrypting-block-devices-using-luks" data-v-b883c74f>20.2. LUKS versions in RHEL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#options-for-data-protection-during-luks2-re-encryption_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-options-for-data-protection-during-luks2-re-encryption_encrypting-block-devices-using-luks" data-v-b883c74f>20.3. Options for data protection during LUKS2 re-encryption</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#encrypting-existing-data-on-a-block-device-using-luks2_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-encrypting-existing-data-on-a-block-device-using-luks2_encrypting-block-devices-using-luks" data-v-b883c74f>20.4. Encrypting existing data on a block device using LUKS2</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#encrypting-existing-data-on-a-block-device-using-luks2-with-a-detached-header_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-encrypting-existing-data-on-a-block-device-using-luks2-with-a-detached-header_encrypting-block-devices-using-luks" data-v-b883c74f>20.5. Encrypting existing data on a block device using LUKS2 with a detached header</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#encrypting-a-blank-block-device-using-luks2_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-encrypting-a-blank-block-device-using-luks2_encrypting-block-devices-using-luks" data-v-b883c74f>20.6. Encrypting a blank block device using LUKS2</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-configuring-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks" data-v-b883c74f>20.7. Configuring the LUKS passphrase in the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#changing-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-changing-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks" data-v-b883c74f>20.8. Changing the LUKS passphrase in the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-luks2-encrypted-volume-using-the-storage-role_encrypting-block-devices-using-luks" id="sub-link-to-managing_storage_devices-creating-a-luks2-encrypted-volume-using-the-storage-role_encrypting-block-devices-using-luks" data-v-b883c74f>20.9. Creating a LUKS2 encrypted volume by using the storage RHEL system role</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--using-nvdimm-persistent-memory-storage_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="using-nvdimm-persistent-memory-storage_managing-storage-devices--summary" data-v-fa0dae77>21. Using NVDIMM persistent memory storage</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#using-nvdimm-persistent-memory-storage_managing-storage-devices" id="chapter-landing--managing_storage_devices-using-nvdimm-persistent-memory-storage_managing-storage-devices" data-v-fa0dae77>Using NVDIMM persistent memory storage</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-nvdimm-persistent-memory-technology_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-the-nvdimm-persistent-memory-technology_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.1. The NVDIMM persistent memory technology</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#nvdimm-interleaving-and-regions_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-nvdimm-interleaving-and-regions_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.2. NVDIMM interleaving and regions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#nvdimm-namespaces_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-nvdimm-namespaces_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.3. NVDIMM namespaces</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#nvdimm-access-modes_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-nvdimm-access-modes_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.4. NVDIMM access modes</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-installing-ndctl_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.5. Installing ndctl</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage" data-v-b883c74f><summary class="heading sub-chapter-title" id="creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage--summary" data-v-b883c74f>21.6. Creating a sector namespace on an NVDIMM to act as a block device</summary><ol id="sub-nav--creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage" id="chapter-landing--managing_storage_devices-creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage" data-v-b883c74f>Creating a sector namespace on an NVDIMM to act as a block device</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#reconfiguring-an-existing-nvdimm-namespace-to-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device" id="sub-link-to-managing_storage_devices-reconfiguring-an-existing-nvdimm-namespace-to-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device" data-v-b883c74f>21.6.1. Reconfiguring an existing NVDIMM namespace to sector mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-new-nvdimm-namespace-in-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device" id="sub-link-to-managing_storage_devices-creating-a-new-nvdimm-namespace-in-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device" data-v-b883c74f>21.6.2. Creating a new NVDIMM namespace in sector mode</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" data-v-b883c74f><summary class="heading sub-chapter-title" id="creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage--summary" data-v-b883c74f>21.7. Creating a device DAX namespace on an NVDIMM</summary><ol id="sub-nav--creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" id="chapter-landing--managing_storage_devices-creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" data-v-b883c74f>Creating a device DAX namespace on an NVDIMM</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#nvdimm-in-device-direct-access-mode_creating-a-device-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-nvdimm-in-device-direct-access-mode_creating-a-device-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.7.1. NVDIMM in device direct access mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#reconfiguring-an-existing-nvdimm-namespace-to-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-reconfiguring-an-existing-nvdimm-namespace-to-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.7.2. Reconfiguring an existing NVDIMM namespace to device DAX mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-new-nvdimm-namespace-in-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-creating-a-new-nvdimm-namespace-in-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.7.3. Creating a new NVDIMM namespace in device DAX mode</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" data-v-b883c74f><summary class="heading sub-chapter-title" id="creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage--summary" data-v-b883c74f>21.8. Creating a file system DAX namespace on an NVDIMM</summary><ol id="sub-nav--creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" id="chapter-landing--managing_storage_devices-creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage" data-v-b883c74f>Creating a file system DAX namespace on an NVDIMM</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.8.1. NVDIMM in file system direct access mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#reconfiguring-an-existing-nvdimm-namespace-to-file-system-dax-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-reconfiguring-an-existing-nvdimm-namespace-to-file-system-dax-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.8.2. Reconfiguring an existing NVDIMM namespace to file system DAX mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-new-nvdimm-namespace-in-file-system-DAX-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-creating-a-new-nvdimm-namespace-in-file-system-DAX-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.8.3. Creating a new NVDIMM namespace in file system DAX mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-file-system-on-a-file-system-dax-device_creating-a-file-system-dax-namespace-on-an-nvdimm" id="sub-link-to-managing_storage_devices-creating-a-file-system-on-a-file-system-dax-device_creating-a-file-system-dax-namespace-on-an-nvdimm" data-v-b883c74f>21.8.4. Creating a file system on a file system DAX device</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.9. Monitoring NVDIMM health using S.M.A.R.T.</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage" id="sub-link-to-managing_storage_devices-detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage" data-v-b883c74f>21.10. Detecting and replacing a broken NVDIMM device</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--discarding-unused-blocks_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="discarding-unused-blocks_managing-storage-devices--summary" data-v-fa0dae77>22. Discarding unused blocks</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#discarding-unused-blocks_managing-storage-devices" id="chapter-landing--managing_storage_devices-discarding-unused-blocks_managing-storage-devices" data-v-fa0dae77>Discarding unused blocks</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#types-of-block-discard-operations_discarding-unused-blocks" id="sub-link-to-managing_storage_devices-types-of-block-discard-operations_discarding-unused-blocks" data-v-b883c74f>22.1. Types of block discard operations</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#performing-batch-block-discard_discarding-unused-blocks" id="sub-link-to-managing_storage_devices-performing-batch-block-discard_discarding-unused-blocks" data-v-b883c74f>22.2. Performing batch block discard</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-online-block-discard_discarding-unused-blocks" id="sub-link-to-managing_storage_devices-enabling-online-block-discard_discarding-unused-blocks" data-v-b883c74f>22.3. Enabling online block discard</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-periodic-block-discard_discarding-unused-blocks" id="sub-link-to-managing_storage_devices-enabling-periodic-block-discard_discarding-unused-blocks" data-v-b883c74f>22.4. Enabling periodic block discard</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--removing-storage-devices_managing-storage-devices" data-v-fa0dae77><summary class="heading chapter-title" id="removing-storage-devices_managing-storage-devices--summary" data-v-fa0dae77>23. Removing storage devices</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#removing-storage-devices_managing-storage-devices" id="chapter-landing--managing_storage_devices-removing-storage-devices_managing-storage-devices" data-v-fa0dae77>Removing storage devices</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#safe-removal-of-storage-devices_removing-storage-devices" id="sub-link-to-managing_storage_devices-safe-removal-of-storage-devices_removing-storage-devices" data-v-b883c74f>23.1. Safe removal of storage devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-block-devices-and-associated-metadata_removing-storage-devices" id="sub-link-to-managing_storage_devices-removing-block-devices-and-associated-metadata_removing-storage-devices" data-v-b883c74f>23.2. Removing block devices and associated metadata</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--setting-up-stratis-file-systems" data-v-fa0dae77><summary class="heading chapter-title" id="setting-up-stratis-file-systems--summary" data-v-fa0dae77>24. Setting up Stratis file systems</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#setting-up-stratis-file-systems" id="chapter-landing--managing_storage_devices-setting-up-stratis-file-systems" data-v-fa0dae77>Setting up Stratis file systems</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-purpose-and-features-of-stratis_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-the-purpose-and-features-of-stratis_setting-up-stratis-file-systems" data-v-b883c74f>24.1. What is Stratis</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#components-of-a-stratis-volume_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-components-of-a-stratis-volume_setting-up-stratis-file-systems" data-v-b883c74f>24.2. Components of a Stratis volume</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#block-devices-usable-with-stratis_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-block-devices-usable-with-stratis_setting-up-stratis-file-systems" data-v-b883c74f>24.3. Block devices usable with Stratis</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-stratis_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-installing-stratis_setting-up-stratis-file-systems" data-v-b883c74f>24.4. Installing Stratis</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#create-unencrypted-stratis-pool_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-create-unencrypted-stratis-pool_setting-up-stratis-file-systems" data-v-b883c74f>24.5. Creating an unencrypted Stratis pool</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-unencrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-creating-an-unencrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" data-v-b883c74f>24.6. Creating an unencrypted Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#create-encrypted-stratis-pool_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-create-encrypted-stratis-pool_setting-up-stratis-file-systems" data-v-b883c74f>24.7. Creating an encrypted Stratis pool</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-encrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-creating-an-encrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" data-v-b883c74f>24.8. Creating an encrypted Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#renaming-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-renaming-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" data-v-b883c74f>24.9. Renaming a Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-overprovisioning-mode-in-stratis-fs_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-proc_setting-overprovisioning-mode-in-stratis-fs_setting-up-stratis-file-systems" data-v-b883c74f>24.10. Setting overprovisioning mode in Stratis filesystem</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#bind-stratis-pool-nbde_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-bind-stratis-pool-nbde_setting-up-stratis-file-systems" data-v-b883c74f>24.11. Binding a Stratis pool to NBDE</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#bind-stratis-pool-tpm_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-bind-stratis-pool-tpm_setting-up-stratis-file-systems" data-v-b883c74f>24.12. Binding a Stratis pool to TPM</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#unlock-encrypted-stratis-pool-keyring_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-unlock-encrypted-stratis-pool-keyring_setting-up-stratis-file-systems" data-v-b883c74f>24.13. Unlocking an encrypted Stratis pool with kernel keyring</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#unbind-encrypted-stratis-pool-from-supplementary-encryption_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-unbind-encrypted-stratis-pool-from-supplementary-encryption_setting-up-stratis-file-systems" data-v-b883c74f>24.14. Unbinding a Stratis pool from supplementary encryption</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_starting-and-stopping-stratis-pool_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-proc_starting-and-stopping-stratis-pool_setting-up-stratis-file-systems" data-v-b883c74f>24.15. Starting and stopping Stratis pool</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-stratis-file-system_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-creating-a-stratis-file-system_setting-up-stratis-file-systems" data-v-b883c74f>24.16. Creating a Stratis file system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-file-system-on-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-creating-a-file-system-on-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems" data-v-b883c74f>24.17. Creating a file system on a Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#mounting-a-stratis-file-system_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-mounting-a-stratis-file-system_setting-up-stratis-file-systems" data-v-b883c74f>24.18. Mounting a Stratis file system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#persistently-mounting-a-stratis-file-system_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-persistently-mounting-a-stratis-file-system_setting-up-stratis-file-systems" data-v-b883c74f>24.19. Persistently mounting a Stratis file system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-up-non-root-stratis-fs-fstab-systemd_setting-up-stratis-file-systems" id="sub-link-to-managing_storage_devices-proc_setting-up-non-root-stratis-fs-fstab-systemd_setting-up-stratis-file-systems" data-v-b883c74f>24.20. Setting up non-root Stratis filesystems in /etc/fstab using a systemd service</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--extending-a-stratis-volume-with-additional-block-devices" data-v-fa0dae77><summary class="heading chapter-title" id="extending-a-stratis-volume-with-additional-block-devices--summary" data-v-fa0dae77>25. Extending a Stratis volume with additional block devices</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#extending-a-stratis-volume-with-additional-block-devices" id="chapter-landing--managing_storage_devices-extending-a-stratis-volume-with-additional-block-devices" data-v-fa0dae77>Extending a Stratis volume with additional block devices</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#components-of-a-stratis-volume_extending-a-stratis-volume-with-additional-block-devices" id="sub-link-to-managing_storage_devices-components-of-a-stratis-volume_extending-a-stratis-volume-with-additional-block-devices" data-v-b883c74f>25.1. Components of a Stratis volume</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#adding-block-devices-to-a-stratis-pool_extending-a-stratis-volume-with-additional-block-devices" id="sub-link-to-managing_storage_devices-adding-block-devices-to-a-stratis-pool_extending-a-stratis-volume-with-additional-block-devices" data-v-b883c74f>25.2. Adding block devices to a Stratis pool</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#adding-a-block-device-to-a-stratis-pool-using-the-web-console_extending-a-stratis-volume-with-additional-block-devices" id="sub-link-to-managing_storage_devices-adding-a-block-device-to-a-stratis-pool-using-the-web-console_extending-a-stratis-volume-with-additional-block-devices" data-v-b883c74f>25.3. Adding a block device to a Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-managing_storage_devices-additional_resources" data-v-b883c74f>25.4. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--monitoring-stratis-file-systems" data-v-fa0dae77><summary class="heading chapter-title" id="monitoring-stratis-file-systems--summary" data-v-fa0dae77>26. Monitoring Stratis file systems</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#monitoring-stratis-file-systems" id="chapter-landing--managing_storage_devices-monitoring-stratis-file-systems" data-v-fa0dae77>Monitoring Stratis file systems</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#stratis-sizes-reported-by-different-utilities_monitoring-stratis-file-systems" id="sub-link-to-managing_storage_devices-stratis-sizes-reported-by-different-utilities_monitoring-stratis-file-systems" data-v-b883c74f>26.1. Stratis sizes reported by different utilities</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#displaying-information-about-stratis-volumes_monitoring-stratis-file-systems" id="sub-link-to-managing_storage_devices-displaying-information-about-stratis-volumes_monitoring-stratis-file-systems" data-v-b883c74f>26.2. Displaying information about Stratis volumes</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#viewing-a-stratis-pool-using-the-web-console_monitoring-stratis-file-systems" id="sub-link-to-managing_storage_devices-viewing-a-stratis-pool-using-the-web-console_monitoring-stratis-file-systems" data-v-b883c74f>26.3. Viewing a Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_2" id="sub-link-to-managing_storage_devices-additional_resources_2" data-v-b883c74f>26.4. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--using-snapshots-on-stratis-file-systems" data-v-fa0dae77><summary class="heading chapter-title" id="using-snapshots-on-stratis-file-systems--summary" data-v-fa0dae77>27. Using snapshots on Stratis file systems</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#using-snapshots-on-stratis-file-systems" id="chapter-landing--managing_storage_devices-using-snapshots-on-stratis-file-systems" data-v-fa0dae77>Using snapshots on Stratis file systems</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#characteristics-of-stratis-snapshots_using-snapshots-on-stratis-file-systems" id="sub-link-to-managing_storage_devices-characteristics-of-stratis-snapshots_using-snapshots-on-stratis-file-systems" data-v-b883c74f>27.1. Characteristics of Stratis snapshots</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems" id="sub-link-to-managing_storage_devices-creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems" data-v-b883c74f>27.2. Creating a Stratis snapshot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#accessing-the-content-of-a-stratis-snapshot_using-snapshots-on-stratis-file-systems" id="sub-link-to-managing_storage_devices-accessing-the-content-of-a-stratis-snapshot_using-snapshots-on-stratis-file-systems" data-v-b883c74f>27.3. Accessing the content of a Stratis snapshot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#reverting-a-stratis-file-system-to-a-previous-snapshot_using-snapshots-on-stratis-file-systems" id="sub-link-to-managing_storage_devices-reverting-a-stratis-file-system-to-a-previous-snapshot_using-snapshots-on-stratis-file-systems" data-v-b883c74f>27.4. Reverting a Stratis file system to a previous snapshot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-stratis-snapshot_using-snapshots-on-stratis-file-systems" id="sub-link-to-managing_storage_devices-removing-a-stratis-snapshot_using-snapshots-on-stratis-file-systems" data-v-b883c74f>27.5. Removing a Stratis snapshot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_3" id="sub-link-to-managing_storage_devices-additional_resources_3" data-v-b883c74f>27.6. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--removing-stratis-file-systems" data-v-fa0dae77><summary class="heading chapter-title" id="removing-stratis-file-systems--summary" data-v-fa0dae77>28. Removing Stratis file systems</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#removing-stratis-file-systems" id="chapter-landing--managing_storage_devices-removing-stratis-file-systems" data-v-fa0dae77>Removing Stratis file systems</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#components-of-a-stratis-volume_removing-stratis-file-systems" id="sub-link-to-managing_storage_devices-components-of-a-stratis-volume_removing-stratis-file-systems" data-v-b883c74f>28.1. Components of a Stratis volume</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-stratis-file-system_removing-stratis-file-systems" id="sub-link-to-managing_storage_devices-removing-a-stratis-file-system_removing-stratis-file-systems" data-v-b883c74f>28.2. Removing a Stratis file system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deleting-a-file-system-from-a-stratis-pool-using-the-web-console_removing-stratis-file-systems" id="sub-link-to-managing_storage_devices-deleting-a-file-system-from-a-stratis-pool-using-the-web-console_removing-stratis-file-systems" data-v-b883c74f>28.3. Deleting a file system from a Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-stratis-pool_removing-stratis-file-systems" id="sub-link-to-managing_storage_devices-removing-a-stratis-pool_removing-stratis-file-systems" data-v-b883c74f>28.4. Removing a Stratis pool</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deleting-a-stratis-pool-using-the-web-console_removing-stratis-file-systems" id="sub-link-to-managing_storage_devices-deleting-a-stratis-pool-using-the-web-console_removing-stratis-file-systems" data-v-b883c74f>28.5. Deleting a Stratis pool by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_4" id="sub-link-to-managing_storage_devices-additional_resources_4" data-v-b883c74f>28.6. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm140664177928336" id="chapter-landing--managing_storage_devices-idm140664177928336" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Managing storage devices</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm140664197321568"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Configuring and managing local and remote storage devices</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140664177928336">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Red Hat Enterprise Linux (RHEL) provides several local and remote storage options. With the available storage options, you can perform the following tasks:
			</div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><div class="para">
						Create disk partitions according to your requirements. Use disk encryption to protect the data on a block device.
					</div></li><li class="listitem"><div class="para">
						Create a Redundant Array of Independent Disks (RAID) to store data across multiple drives and avoid data loss.
					</div></li><li class="listitem"><div class="para">
						Use iSCSI and NVMe over Fabrics to access storage over a network.
					</div></li><li class="listitem"><div class="para">
						Set up Stratis to manage pools of physical storage devices.
					</div></li></ul></div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="overview-of-available-storage-options_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Overview of available storage options</h2></div></div></div><p>
			There are several local, remote, and cluster-based storage options available on Red Hat Enterprise Linux 9.
		</p><p>
			Local storage implies that the storage devices are either installed on the system or directly attached to the system.
		</p><p>
			With remote storage, devices are accessed over LAN, the internet, or using a Fibre channel network. The following high level Red Hat Enterprise Linux storage diagram describes the different storage options.
		</p><div class="figure" id="High-Level-RHEL-Storage-Diagram_overview-of-available-storage-options"><p class="title"><strong>Figure 1.1. High level Red Hat Enterprise Linux storage diagram</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/72eec6a83fb27ddb3e44bc5ab1a3a3a8/High-Level-RHEL-Storage-Diagram.png" alt="High Level RHEL Storage Diagram"></div></div></div><section class="section" id="local-storage-overview_overview-of-available-storage-options"><div class="titlepage"><div><div><h3 class="title">1.1. Local storage overview</h3></div></div></div><p class="_abstract _abstract">
				Red Hat Enterprise Linux 9 offers several local storage options.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Basic disk administration</span></dt><dd><p class="simpara">
							Using <code class="literal">parted</code> and <code class="literal">fdisk</code>, you can create, modify, delete, and view disk partitions. The following are the partitioning layout standards:
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Master Boot Record (MBR)</span></dt><dd>
										It is used with BIOS-based computers. You can create primary, extended, and logical partitions.
									</dd><dt><span class="term">GUID Partition Table (GPT)</span></dt><dd>
										It uses Globally Unique identifier (GUID) and provides unique disk and partition GUID.
									</dd></dl></div><p class="simpara">
							To encrypt the partition, you can use Linux Unified Key Setup-on-disk-format (LUKS). To encrypt the partition, select the option during the installation and the prompt displays to enter the passphrase. This passphrase unlocks the encryption key.
						</p></dd><dt><span class="term">Storage consumption options</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">Non-Volatile Dual In-line Memory Modules (NVDIMM) Management</span></dt><dd>
										It is a combination of memory and storage. You can enable and manage various types of storage on NVDIMM devices connected to your system.
									</dd><dt><span class="term">Block Storage Management</span></dt><dd>
										Data is stored in the form of blocks where each block has a unique identifier.
									</dd><dt><span class="term">File Storage</span></dt><dd>
										Data is stored at file level on the local system. These data can be accessed locally using XFS (default) or ext4, and over a network by using NFS and SMB.
									</dd></dl></div></dd><dt><span class="term">Logical volumes</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">Logical Volume Manager (LVM)</span></dt><dd><p class="simpara">
										It creates logical devices from physical devices. Logical volume (LV) is a combination of the physical volumes (PV) and volume groups (VG). Configuring LVM include:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												Creating PV from the hard drives.
											</li><li class="listitem">
												Creating VG from the PV.
											</li><li class="listitem">
												Creating LV from the VG assigning mount points to the LV.
											</li></ul></div></dd><dt><span class="term">Virtual Data Optimizer (VDO)</span></dt><dd><p class="simpara">
										It is used for data reduction by using deduplication, compression, and thin provisioning. Using LV below VDO helps in:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												Extending of VDO volume
											</li><li class="listitem">
												Spanning VDO volume over multiple devices
											</li></ul></div></dd></dl></div></dd><dt><span class="term">Local file systems</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">XFS</span></dt><dd>
										The default RHEL file system.
									</dd><dt><span class="term">Ext4</span></dt><dd>
										A legacy file system.
									</dd><dt><span class="term">Stratis</span></dt><dd>
										Stratis is a hybrid user-and-kernel local storage management system that supports advanced storage features.
									</dd></dl></div></dd></dl></div></section><section class="section" id="remote-storage-overview_overview-of-available-storage-options"><div class="titlepage"><div><div><h3 class="title">1.2. Remote storage overview</h3></div></div></div><p>
				The following are the remote storage options available in Red Hat Enterprise Linux 9:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Storage connectivity options</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">iSCSI</span></dt><dd>
										RHEL 9 uses the targetcli tool to add, remove, view, and monitor iSCSI storage interconnects.
									</dd><dt><span class="term">Fibre Channel (FC)</span></dt><dd><p class="simpara">
										RHEL 9 provides the following native Fibre Channel drivers:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<code class="literal">lpfc</code>
											</li><li class="listitem">
												<code class="literal">qla2xxx</code>
											</li><li class="listitem">
												<code class="literal">Zfcp</code>
											</li></ul></div></dd><dt><span class="term">Non-volatile Memory Express (NVMe)</span></dt><dd><p class="simpara">
										An interface which allows host software utility to communicate with solid state drives. Use the following types of fabric transport to configure NVMe over fabrics:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												NVMe over fabrics using Remote Direct Memory Access (RDMA).
											</li><li class="listitem">
												NVMe over fabrics using Fibre Channel (FC)
											</li></ul></div></dd><dt><span class="term">Device Mapper multipathing (DM Multipath)</span></dt><dd>
										Allows you to configure multiple I/O paths between server nodes and storage arrays into a single device. These I/O paths are physical SAN connections that can include separate cables, switches, and controllers.
									</dd></dl></div></dd><dt><span class="term">Network file system</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									NFS
								</li><li class="listitem">
									SMB
								</li></ul></div></dd></dl></div></section><section class="section" id="gfs2-file-system-overview_overview-of-available-storage-options"><div class="titlepage"><div><div><h3 class="title">1.3. GFS2 file system overview</h3></div></div></div><p class="_abstract _abstract">
				The Red Hat Global File System 2 (GFS2) file system is a 64-bit symmetric cluster file system which provides a shared name space and manages coherency between multiple nodes sharing a common block device. A GFS2 file system is intended to provide a feature set which is as close as possible to a local file system, while at the same time enforcing full cluster coherency between nodes. To achieve this, the nodes employ a cluster-wide locking scheme for file system resources. This locking scheme uses communication protocols such as TCP/IP to exchange locking information.
			</p><p>
				In a few cases, the Linux file system API does not allow the clustered nature of GFS2 to be totally transparent; for example, programs using POSIX locks in GFS2 should avoid using the <code class="literal">GETLK</code> function since, in a clustered environment, the process ID may be for a different node in the cluster. In most cases however, the functionality of a GFS2 file system is identical to that of a local file system.
			</p><p>
				The Red Hat Enterprise Linux Resilient Storage Add-On provides GFS2, and it depends on the Red Hat Enterprise Linux High Availability Add-On to provide the cluster management required by GFS2.
			</p><p>
				The <code class="literal">gfs2.ko</code> kernel module implements the GFS2 file system and is loaded on GFS2 cluster nodes.
			</p><p>
				To get the best performance from GFS2, it is important to take into account the performance considerations which stem from the underlying design. Just like a local file system, GFS2 relies on the page cache in order to improve performance by local caching of frequently used data. In order to maintain coherency across the nodes in the cluster, cache control is provided by the <span class="emphasis"><em>glock</em></span> state machine.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_gfs2_file_systems/index">Configuring GFS2 file systems</a>
					</li></ul></div></section></section><section class="chapter" id="persistent-naming-attributes_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Persistent naming attributes</h2></div></div></div><p>
			The way you identify and manage storage devices ensures the stability and predictability of the system. Red Hat Enterprise Linux 9 uses two primary naming schemes for this purpose: traditional device names and persistent naming attributes.
		</p><div class="formalpara"><p class="title"><strong>Traditional device names</strong></p><p>
				Traditional device names are determined by the Linux kernel based on the physical location of the device in the system. For example, the first SATA drive is usually labeled as <code class="literal">/dev/sda</code>, the second as <code class="literal">/dev/sdb</code>, and so on. While these names are straightforward, they are subject to change when devices are added or removed or when the hardware configuration is modified. This can pose challenges for scripting and configuration files. Furthermore, traditional names lack descriptive information about the purpose or characteristics of the device.
			</p></div><div class="formalpara"><p class="title"><strong>Persistent naming attributes</strong></p><p>
				Persistent naming attributes are based on unique characteristics of the storage devices, making them more stable and predictable across system reboots. Implementing PNAs involves a more detailed initial configuration compared to traditional naming. One of the key benefits of PNAs is their resilience to changes in hardware configurations, making them ideal for maintaining consistent naming conventions. When using PNAs, you can reference storage devices within scripts, configuration files, and management tools without concerns about unexpected name changes. Additionally, PNAs often include valuable metadata, such as device type or manufacturer information, enhancing their descriptiveness for effective device identification and management.
			</p></div><section class="section" id="persistent-attributes-for-identifying-file-systems-and-block-devices_persistent-naming-attributes"><div class="titlepage"><div><div><h3 class="title">2.1. Persistent attributes for identifying file systems and block devices</h3></div></div></div><p>
				In Red Hat Enterprise Linux 9 storage, persistent naming attributes (PNAs) are mechanisms that provide consistent and reliable naming for storage devices across system reboots, hardware changes, or other events. These attributes are used to identify storage devices consistently, even if the storage devices are added, removed, or reconfigured.
			</p><p>
				PNAs are used to identify both file systems and block devices, but they serve different purposes:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Persistent attributes for identifying file systems</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Universally unique identifier (UUID)
								</p><p class="simpara">
									UUIDs are primarily used to uniquely identify file systems on storage devices. Each file system has its own UUID, and this identifier remains constant even if the file system is unmounted, remounted, or the device is detached and reattached.
								</p></li><li class="listitem"><p class="simpara">
									Label
								</p><p class="simpara">
									Labels are user-assigned names for file systems. While they can be used to identify and reference file systems, they are not as standardized as UUIDs. Labels are often used as alternatives to UUIDs to specify file systems in configuration files.
								</p><p class="simpara">
									When you assign a label to a file system, it becomes part of the file system metadata. This label persists with the file system even if you mount the file system on different mount points or different systems.
								</p></li></ul></div></dd><dt><span class="term">Persistent attributes for identifying block devices</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Universally unique identifier (UUID)
								</p><p class="simpara">
									UUIDs can be used to identify storage block devices. When a storage device is formatted or when a file system is created on it, a UUID is often assigned to the device itself. This UUID is embedded within the file system metadata or partition table and is used as a reference for persistent device naming. It allows you to uniquely identify the block device, even if you change the file system or reformat it.
								</p></li><li class="listitem"><p class="simpara">
									World Wide Identifier (WWID)
								</p><p class="simpara">
									WWIDs are globally unique identifiers associated with storage block devices. They are commonly used in Fibre Channel Storage Area Networks (SANs) to identify Host Bus Adapters (HBAs) or network interfaces that connect servers to SAN storage devices. WWIDs ensure consistent communication between servers and SAN storage devices and help manage redundant paths to storage devices.
								</p></li><li class="listitem"><p class="simpara">
									Serial number
								</p><p class="simpara">
									The serial number is a unique identifier assigned to each storage block device by the manufacturer. It can be used to differentiate between storage devices and may be used in combination with other attributes like UUIDs or WWIDs for device management.
								</p></li></ul></div></dd></dl></div></section><section class="section" id="udev-device-naming-rules_persistent-naming-attributes"><div class="titlepage"><div><div><h3 class="title">2.2. <code class="literal">udev</code> device naming rules</h3></div></div></div><p>
				Userspace device manager (<code class="literal">udev</code>) subsystem allows you to define rules for assigning persistent names to devices. These rules are stored in a file with a <code class="literal">.rules</code> extension in the <code class="literal">/etc/udev/rules.d/</code> directory. The purpose of these rules is to ensure that storage devices are consistently and predictably identified, even across system reboots and configuration changes.
			</p><p>
				<code class="literal">udev</code> rules are written in a human-readable format using key-value pairs. When a device is detected or initialized, <code class="literal">udev</code> evaluates these rules sequentially, based on the order they are defined. The first matching rule is applied to the device, determining its name and how it will be identified within the system.
			</p><p>
				In the case of storage devices, <code class="literal">udev</code> rules create symbolic links in the <code class="literal">/dev/disk/</code> directory. These symbolic links provide user-friendly aliases for storage devices, making it more convenient to refer to and manage these devices.
			</p><p>
				You can create custom <code class="literal">udev</code> rules to specify how devices should be named based on various attributes such as serial numbers, WWN (World Wide Name) identifiers, or other device-specific characteristics. By defining specific naming rules, you have precise control over how devices are identified within the system.
			</p><p>
				There are two primary locations for <code class="literal">udev</code> rules:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">/lib/udev/rules.d/</code> directory contains default rules that come with the <code class="literal">udev</code> package.
					</li><li class="listitem">
						<code class="literal">/etc/udev/rules.d</code> directory is intended for custom <code class="literal">udev</code> rules.
					</li></ul></div><p>
				While <code class="literal">udev</code> rules are very flexible, it is important to be aware of <code class="literal">udev</code> limitations:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Accessibility Timing: Some storage devices might not be accessible at the time of a <code class="literal">udev</code> query.
					</li><li class="listitem">
						Event-Based Processing: The kernel can send <code class="literal">udev</code> events at any time, potentially triggering rule processing and link removal if a device is inaccessible.
					</li><li class="listitem">
						Processing Delay: There might be a delay between event generation and processing, especially with numerous devices, causing a lag between kernel detection and link availability.
					</li><li class="listitem">
						Device Accessibility: External programs invoked by <code class="literal">udev</code> rules, like <code class="literal">blkid</code>, might briefly open the device, making it temporarily inaccessible for other tasks.
					</li><li class="listitem">
						Link Updates: Device names managed by <code class="literal">udev</code> in <code class="literal">/dev/disk/</code> can change between major releases, requiring link updates.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">udev</code> man page on your system
					</li></ul></div></section></section><section class="chapter" id="managing-local-storage-using-rhel-system-roles_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Managing local storage by using RHEL system roles</h2></div></div></div><p class="_abstract _abstract">
			To manage LVM and local file systems (FS) by using Ansible, you can use the <code class="literal">storage</code> role, which is one of the RHEL system roles available in RHEL 9.
		</p><p>
			Using the <code class="literal">storage</code> role enables you to automate administration of file systems on disks and logical volumes on multiple machines and across all versions of RHEL starting with RHEL 7.7.
		</p><p>
			For more information about RHEL system roles and how to apply them, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/intro-to-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">Introduction to RHEL system roles</a>.
		</p><section class="section" id="an-example-ansible-playbook-to-create-an-xfs-file-system_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.1. Creating an XFS file system on a block device by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				The example Ansible playbook applies the <code class="literal">storage</code> role to create an XFS file system on a block device using the default parameters.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The <code class="literal">storage</code> role can create a file system only on an unpartitioned, whole disk or a logical volume (LV). It cannot create the file system on a partition.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- hosts: managed-node-01.example.com
  roles:
    - rhel-system-roles.storage
  vars:
    storage_volumes:
      - name: barefs
        type: disk
        disks:
          - sdb
        fs_type: xfs</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The volume name (<code class="literal"><span class="emphasis"><em>barefs</em></span></code> in the example) is currently arbitrary. The <code class="literal">storage</code> role identifies the volume by the disk device listed under the <code class="literal">disks:</code> attribute.
							</li><li class="listitem">
								You can omit the <code class="literal">fs_type: xfs</code> line because XFS is the default file system in RHEL 9.
							</li><li class="listitem"><p class="simpara">
								To create the file system on an LV, provide the LVM setup under the <code class="literal">disks:</code> attribute, including the enclosing volume group. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/managing-lvm-logical-volumes_configuring-and-managing-logical-volumes#an-example-playbook-to-manage-logical-volumes_managing-lvm-logical-volumes-using-rhel-system-roles">Managing logical volumes by using the storage RHEL system role</a>.
							</p><p class="simpara">
								Do not provide the path to the LV device.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="an-example-ansible-playbook-to-persistently-mount-a-file-system_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.2. Persistently mounting a file system by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				The example Ansible applies the <code class="literal">storage</code> role to immediately and persistently mount an XFS file system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- hosts: managed-node-01.example.com
  roles:
    - rhel-system-roles.storage
  vars:
    storage_volumes:
      - name: barefs
        type: disk
        disks:
          - sdb
        fs_type: xfs
        mount_point: /mnt/data
        mount_user: somebody
        mount_group: somegroup
        mount_mode: 0755</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								This playbook adds the file system to the <code class="literal">/etc/fstab</code> file, and mounts the file system immediately.
							</li><li class="listitem">
								If the file system on the <code class="literal">/dev/sdb</code> device or the mount point directory do not exist, the playbook creates them.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="creating-or-resizing-logical-volume-using-storage-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.3. Creating or resizing a logical volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				<span id="an-example-playbook-to-manage-logical-volumes_managing-local-storage-using-rhel-system-roles"><!--Empty--></span>
			</p><p>
				Use the <code class="literal">storage</code> role to perform the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						To create an LVM logical volume in a volume group consisting of many disks
					</li><li class="listitem">
						To resize an existing file system on LVM
					</li><li class="listitem">
						To express an LVM volume size in percentage of the pool’s total size
					</li></ul></div><p>
				If the volume group does not exist, the role creates it. If a logical volume exists in the volume group, it is resized if the size does not match what is specified in the playbook.
			</p><p>
				If you are reducing a logical volume, to prevent data loss you must ensure that the file system on that logical volume is not using the space in the logical volume that is being reduced.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Create logical volume
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_pools:
          - name: myvg
            disks:
              - sda
              - sdb
              - sdc
            volumes:
              - name: mylv
                size: 2G
                fs_type: ext4
                mount_point: /mnt/data</pre><p class="simpara">
						The settings specified in the example playbook include the following:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">size: <span class="emphasis"><em>&lt;size&gt;</em></span></code></span></dt><dd>
									You must specify the size by using units (for example, GiB) or percentage (for example, 60%).
								</dd></dl></div><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that specified volume has been created or resized to the requested size:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'lvs myvg'</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="an-example-ansible-playbook-to-enable-online-block-discard_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.4. Enabling online block discard by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				You can mount an XFS file system with the online block discard option to automatically discard unused blocks.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Enable online block discard
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_volumes:
          - name: barefs
            type: disk
            disks:
              - sdb
            fs_type: xfs
            mount_point: /mnt/data
            mount_options: discard</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that online block discard option is enabled:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'findmnt /mnt/data'</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="an-example-playbook-to-create-mount-an-ext4-file-system_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.5. Creating and mounting an Ext4 file system by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				The example Ansible playbook applies the <code class="literal">storage</code> role to create and mount an Ext4 file system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- hosts: managed-node-01.example.com
  roles:
    - rhel-system-roles.storage
  vars:
    storage_volumes:
      - name: barefs
        type: disk
        disks:
          - sdb
        fs_type: ext4
        fs_label: label-name
        mount_point: /mnt/data</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The playbook creates the file system on the <code class="literal">/dev/sdb</code> disk.
							</li><li class="listitem">
								The playbook persistently mounts the file system at the <code class="literal">/mnt/data</code> directory.
							</li><li class="listitem">
								The label of the file system is <code class="literal">label-name</code>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="an-example-ansible-playbook-to-create-mount-ext3-file-system_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.6. Creating and mounting an Ext3 file system by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				The example Ansible playbook applies the <code class="literal">storage</code> role to create and mount an Ext3 file system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- hosts: all
  roles:
    - rhel-system-roles.storage
  vars:
    storage_volumes:
      - name: barefs
        type: disk
        disks:
          - sdb
        fs_type: ext3
        fs_label: label-name
        mount_point: /mnt/data
        mount_user: somebody
        mount_group: somegroup
        mount_mode: 0755</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The playbook creates the file system on the <code class="literal">/dev/sdb</code> disk.
							</li><li class="listitem">
								The playbook persistently mounts the file system at the <code class="literal">/mnt/data</code> directory.
							</li><li class="listitem">
								The label of the file system is <code class="literal">label-name</code>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="example-ansible-playbook-to-create-a-swap-partition-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.7. Creating a swap volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				This section provides an example Ansible playbook. This playbook applies the <code class="literal">storage</code> role to create a swap volume, if it does not exist, or to modify the swap volume, if it already exist, on a block device by using the default parameters.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Create a disk device with swap
  hosts: managed-node-01.example.com
  roles:
    - rhel-system-roles.storage
  vars:
    storage_volumes:
      - name: swap_fs
        type: disk
        disks:
          - /dev/sdb
        size: 15 GiB
        fs_type: swap</pre><p class="simpara">
						The volume name (<code class="literal"><span class="emphasis"><em>swap_fs</em></span></code> in the example) is currently arbitrary. The <code class="literal">storage</code> role identifies the volume by the disk device listed under the <code class="literal">disks:</code> attribute.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="configuring-a-raid-volume-using-the-storage-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.8. Configuring a RAID volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				With the <code class="literal">storage</code> system role, you can configure a RAID volume on RHEL by using Red Hat Ansible Automation Platform and Ansible-Core. Create an Ansible playbook with the parameters to configure a RAID volume to suit your requirements.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Device names might change in certain circumstances, for example, when you add a new disk to a system. Therefore, to prevent data loss, use persistent naming attributes in the playbook. For more information about persistent naming attributes, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/persistent-naming-attributes_managing-storage-devices#persistent-naming-attributes_managing-storage-devices">Persistent naming attributes</a>.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Create a RAID on sdd, sde, sdf, and sdg
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_safe_mode: false
        storage_volumes:
          - name: data
            type: raid
            disks: [sdd, sde, sdf, sdg]
            raid_level: raid0
            raid_chunk_size: 32 KiB
            mount_point: /mnt/data
            state: present</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the array was correctly created:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'mdadm --detail /dev/md/data'</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="configuring-lvm-pool-with-raid-using-storage-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.9. Configuring an LVM pool with RAID by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				With the <code class="literal">storage</code> system role, you can configure an LVM pool with RAID on RHEL by using Red Hat Ansible Automation Platform. You can set up an Ansible playbook with the available parameters to configure an LVM pool with RAID.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Configure LVM pool with RAID
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_safe_mode: false
        storage_pools:
          - name: my_pool
            type: lvm
            disks: [sdh, sdi]
            raid_level: raid1
            volumes:
              - name: my_volume
                size: "1 GiB"
                mount_point: "/mnt/app/shared"
                fs_type: xfs
                state: present</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that your pool is on RAID:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'lsblk'</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index#managing-raid_managing-storage-devices">Managing RAID</a>
					</li></ul></div></section><section class="section" id="configuring-a-stripe-size-for-raid-lvm-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.10. Configuring a stripe size for RAID LVM volumes by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				With the <code class="literal">storage</code> system role, you can configure a stripe size for RAID LVM volumes on RHEL by using Red Hat Ansible Automation Platform. You can set up an Ansible playbook with the available parameters to configure an LVM pool with RAID.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Configure stripe size for RAID LVM volumes
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_safe_mode: false
        storage_pools:
          - name: my_pool
            type: lvm
            disks: [sdh, sdi]
            volumes:
              - name: my_volume
                size: "1 GiB"
                mount_point: "/mnt/app/shared"
                fs_type: xfs
                raid_level: raid0
                raid_stripe_size: "256 KiB"
                state: present</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that stripe size is set to the required size:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'lvs -o+stripesize /dev/my_pool/my_volume'</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux//9/html-single/managing_storage_devices/index#managing-raid_managing-storage-devices">Managing RAID</a>
					</li></ul></div></section><section class="section" id="configuring-an-lvm-vdo-volume-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.11. Configuring an LVM-VDO volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				<span id="example-ansible-playbook-to-compress-and-deduplicate-a-vdo-volume-on-lvm-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles"><!--Empty--></span>
			</p><p>
				You can use the <code class="literal">storage</code> RHEL system role to create a VDO volume on LVM (LVM-VDO) with enabled compression and deduplication.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Because of the <code class="literal">storage</code> system role use of LVM-VDO, only one volume can be created per pool.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Create LVM-VDO volume under volume group 'myvg'
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_pools:
          - name: myvg
            disks:
              - /dev/sdb
            volumes:
              - name: mylv1
                compression: true
                deduplication: true
                vdo_pool_size: 10 GiB
                size: 30 GiB
                mount_point: /mnt/app/shared</pre><p class="simpara">
						The settings specified in the example playbook include the following:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">vdo_pool_size: <span class="emphasis"><em>&lt;size&gt;</em></span></code></span></dt><dd>
									The actual size that the volume takes on the device. You can specify the size in human-readable format, such as 10 GiB. If you do not specify a unit, it defaults to bytes.
								</dd><dt><span class="term"><code class="literal">size: <span class="emphasis"><em>&lt;size&gt;</em></span></code></span></dt><dd>
									The virtual size of VDO volume.
								</dd></dl></div><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						View the current status of compression and deduplication:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'lvs -o+vdo_compression,vdo_compression_state,vdo_deduplication,vdo_index_state'</strong></span>
  LV       VG      Attr       LSize   Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert VDOCompression VDOCompressionState VDODeduplication VDOIndexState
  mylv1   myvg   vwi-a-v---   3.00t vpool0                                                         enabled              online          enabled        online</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="creating-a-luks2-encrypted-volume-using-the-storage-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.12. Creating a LUKS2 encrypted volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				You can use the <code class="literal">storage</code> role to create and configure a volume encrypted with LUKS by running an Ansible playbook.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Store your sensitive variables in an encrypted file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create the vault:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-vault create vault.yml</strong></span>
New Vault password: <span class="emphasis"><em>&lt;vault_password&gt;</em></span>
Confirm New Vault password: <span class="emphasis"><em>&lt;vault_password&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
								After the <code class="literal">ansible-vault create</code> command opens an editor, enter the sensitive data in the <code class="literal"><span class="emphasis"><em>&lt;key&gt;</em></span>: <span class="emphasis"><em>&lt;value&gt;</em></span></code> format:
							</p><pre class="programlisting language-ini">luks_password: <span class="emphasis"><em>&lt;password&gt;</em></span></pre></li><li class="listitem">
								Save the changes, and close the editor. Ansible encrypts the data in the vault.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  vars_files:
    - vault.yml
  tasks:
    - name: Create and configure a volume encrypted with LUKS
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_volumes:
          - name: barefs
            type: disk
            disks:
              - sdb
            fs_type: xfs
            fs_label: <span class="emphasis"><em>&lt;label&gt;</em></span>
            mount_point: /mnt/data
            encryption: true
            encryption_password: "{{ luks_password }}"</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --ask-vault-pass --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --ask-vault-pass ~/playbook.yml</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find the <code class="literal">luksUUID</code> value of the LUKS encrypted volume:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksUUID /dev/sdb'</strong></span>

4e4e7970-1822-470e-b55a-e91efe5d0f5c</pre></li><li class="listitem"><p class="simpara">
						View the encryption status of the volume:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'cryptsetup status luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c'</strong></span>

/dev/mapper/luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c is active and is in use.
  type:    LUKS2
  cipher:  aes-xts-plain64
  keysize: 512 bits
  key location: keyring
  device:  /dev/sdb
...</pre></li><li class="listitem"><p class="simpara">
						Verify the created LUKS encrypted volume:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksDump /dev/sdb'</strong></span>

LUKS header information
Version:        2
Epoch:          3
Metadata area:  16384 [bytes]
Keyslots area:  16744448 [bytes]
UUID:           4e4e7970-1822-470e-b55a-e91efe5d0f5c
Label:          (no label)
Subsystem:      (no subsystem)
Flags:          (no flags)

Data segments:
  0: crypt
        offset: 16777216 [bytes]
        length: (whole device)
        cipher: aes-xts-plain64
        sector: 512 [bytes]
...</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/encrypting-block-devices-using-luks_managing-storage-devices">Encrypting block devices by using LUKS</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/ansible-vault_automating-system-administration-by-using-rhel-system-roles">Ansible vault</a>
					</li></ul></div></section><section class="section" id="creating-shared-lvm-devices-using-storage-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.13. Creating shared LVM devices using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p class="_abstract _abstract">
				You can use the <code class="literal">storage</code> RHEL system role to create shared LVM devices if you want your multiple systems to access the same storage at the same time.
			</p><p>
				This can bring the following notable benefits:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Resource sharing
					</li><li class="listitem">
						Flexibility in managing storage resources
					</li><li class="listitem">
						Simplification of storage management tasks
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li><li class="listitem">
						<code class="literal">lvmlockd</code> is configured on the managed node. For more information, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/configuring-lvm-on-shared-storage_configuring-and-managing-logical-volumes#configuring-lvm-on-san-multiple_configuring-lvm-on-shared-storage">Configuring LVM to share SAN disks among multiple machines</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  become: true
  tasks:
    - name: Create shared LVM device
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_pools:
          - name: <span class="emphasis"><em>vg1</em></span>
            disks: <span class="emphasis"><em>/dev/vdb</em></span>
            type: lvm
            <span class="strong strong"><strong>shared: true</strong></span>
            state: present
            volumes:
              - name: <span class="emphasis"><em>lv1</em></span>
                size: 4g
                mount_point: <span class="emphasis"><em>/opt/test1</em></span>
        storage_safe_mode: false
        storage_use_partitions: true</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="resizing-physical-volumes-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.14. Resizing physical volumes by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				With the <code class="literal">storage</code> system role, you can resize LVM physical volumes after resizing the underlying storage or disks from outside of the host. For example, you increased the size of a virtual disk and want to use the extra space in an existing LVM.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li><li class="listitem">
						The size of the underlying block storage has been changed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Resize LVM PV size
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_pools:
           - name: <span class="emphasis"><em>myvg</em></span>
             disks: <span class="emphasis"><em>["sdf"]</em></span>
             type: lvm
             <span class="strong strong"><strong>grow_to_fill: true</strong></span></pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Display the new physical volume size:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'pvs'</strong></span>
PV         VG   Fmt Attr PSize PFree
<span class="emphasis"><em>/dev/sdf1</em></span> <span class="emphasis"><em>myvg</em></span> lvm2 a-- 1,99g 1,99g</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="creating-an-encrypted-stratis-pool-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.15. Creating an encrypted Stratis pool by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				To secure your data, you can create an encrypted Stratis pool with the <code class="literal">storage</code> RHEL system role. In addition to a passphrase, you can use Clevis and Tang or TPM protection as an encryption method.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					You can configure Stratis encryption only on the entire pool.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Store your sensitive variables in an encrypted file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create the vault:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-vault create vault.yml</strong></span>
New Vault password: <span class="emphasis"><em>&lt;vault_password&gt;</em></span>
Confirm New Vault password: <span class="emphasis"><em>&lt;vault_password&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
								After the <code class="literal">ansible-vault create</code> command opens an editor, enter the sensitive data in the <code class="literal"><span class="emphasis"><em>&lt;key&gt;</em></span>: <span class="emphasis"><em>&lt;value&gt;</em></span></code> format:
							</p><pre class="programlisting language-ini">luks_password: <span class="emphasis"><em>&lt;password&gt;</em></span></pre></li><li class="listitem">
								Save the changes, and close the editor. Ansible encrypts the data in the vault.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  vars_files:
    - vault.yml
  tasks:
    - name: Create a new encrypted Stratis pool with Clevis and Tang
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_pools:
           - name: mypool
             disks:
               - sdd
               - sde
             <span class="strong strong"><strong>type: stratis</strong></span>
             <span class="strong strong"><strong>encryption: true</strong></span>
             encryption_password: "{{ luks_password }}"
             encryption_clevis_pin: tang
             encryption_tang_url: tang-server.example.com:7500</pre><p class="simpara">
						The settings specified in the example playbook include the following:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">encryption_password</code></span></dt><dd>
									Password or passphrase used to unlock the LUKS volumes.
								</dd><dt><span class="term"><code class="literal">encryption_clevis_pin</code></span></dt><dd>
									Clevis method that you can use to encrypt the created pool. You can use <code class="literal">tang</code> and <code class="literal">tpm2</code>.
								</dd><dt><span class="term"><code class="literal">encryption_tang_url</code></span></dt><dd>
									URL of the Tang server.
								</dd></dl></div><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --ask-vault-pass --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --ask-vault-pass ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the pool was created with Clevis and Tang configured:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'sudo stratis report'</strong></span>
...
                        "clevis_config": {
                            "thp": "j-G4ddvdbVfxpnUbgxlpbe3KutSKmcHttILAtAkMTNA",
                            "url": "tang-server.example.com:7500"
                        },
                        "clevis_pin": "tang",
                        "in_use": true,
                        "key_description": "blivet-mypool",</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/ansible-vault_automating-system-administration-by-using-rhel-system-roles">Ansible vault</a>
					</li></ul></div></section></section><section class="chapter" id="disk-partitions_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Disk partitions</h2></div></div></div><p>
			To divide a disk into one or more logical areas, use the disk partitioning utility. It enables separate management of each partition.
		</p><section class="section" id="overview-of-partitions_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.1. Overview of partitions</h3></div></div></div><p>
				The hard disk stores information about the location and size of each disk partition in the partition table. Using information from the partition table, the operating system treats each partition as a logical disk. Some of the advantages of disk partitioning include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Reduce the likelihood of administrative oversights of Physical Volumes
					</li><li class="listitem">
						Ensure sufficient backup
					</li><li class="listitem">
						Provide efficient disk management
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/163853">What are the advantages and disadvantages to using partitioning on LUNs, either directly or with LVM in between?</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="con_considerations-before-modifying-partitions-on-a-disk_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.2. Considerations before modifying partitions on a disk</h3></div></div></div><p>
				Before creating, removing, or resizing any disk partitions, consider the following aspects.
			</p><p>
				On a device, the type of the partition table determines the maximum number and size of individual partitions.
			</p><p>
				Maximum number of partitions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						On a device formatted with the <span class="strong strong"><strong>Master Boot Record (MBR)</strong></span> partition table, you can have:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Up to four primary partitions.
							</li><li class="listitem"><p class="simpara">
								Up to three primary partitions, one extended partition
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										Multiple logical partitions within the extended partition
									</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
						On a device formatted with the <span class="strong strong"><strong>GUID Partition Table (GPT)</strong></span>, you can have:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								Up to 128 partitions, if using the <code class="literal">parted</code> utility.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										Though the GPT specification allows more partitions by increasing the reserved size of the partition table, the parted utility limits the area required for 128 partitions.
									</li></ul></div></li></ul></div></li></ul></div><p>
				Maximum size of partitions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						On a device formatted with the <span class="strong strong"><strong>Master Boot Record (MBR)</strong></span> partition table:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								While using 512b sector drives, the maximum size is 2 TiB.
							</li><li class="listitem">
								While using 4k sector drives, the maximum size is 16 TiB.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						On a device formatted with the <span class="strong strong"><strong>GUID Partition Table (GPT)</strong></span>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								While using 512b sector drives, the maximum size is 8 ZiB.
							</li><li class="listitem">
								While using 4k sector drives, the maximum size is 64 ZiB.
							</li></ul></div></li></ul></div><p>
				By using the <code class="literal">parted</code> utility, you can specify the partition size using multiple different suffixes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>MiB, GiB, or TiB</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Size expressed in powers of 2.
							</li><li class="listitem">
								The starting point of the partition is aligned to the exact sector specified by size.
							</li><li class="listitem">
								The ending point is aligned to the specified size minus 1 sector.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>MB, GB, or TB</strong></span>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Size expressed in powers of 10.
							</li><li class="listitem">
								The starting and ending points are aligned within one half of the specified unit. For example, ±500KB when using the MB suffix.
							</li></ul></div></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					This section does not cover the DASD partition table, which is specific to the IBM Z architecture.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-linux-instance-on-ibm-z_preparing-a-rhel-installation-on-64-bit-ibm-z">Configuring a Linux instance on IBM Z</a>
					</li><li class="listitem">
						<a class="link" href="https://www.ibm.com/docs/en/linux-on-systems?topic=d-what-you-should-know">What you should know about DASD</a>
					</li></ul></div></section><section class="section" id="comparison-of-partition-table-types_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.3. Comparison of partition table types</h3></div></div></div><p>
				To enable partitions on a device, format a block device with different types of partition tables. The following table compares the properties of different types of partition tables that you can create on a block device.
			</p><rh-table id="idm140664188859664"><table class="lt-4-cols lt-7-rows"><caption>Table 4.1. Partition table types</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140664197411760" scope="col">Partition table</th><th align="left" valign="top" id="idm140664197410672" scope="col">Maximum number of partitions</th><th align="left" valign="top" id="idm140664197409568" scope="col">Maximum partition size</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140664197411760"> <p>
								Master Boot Record (MBR)
							</p>
							 </td><td align="left" valign="top" headers="idm140664197410672"> <p>
								4 primary, or 3 primary and 1 extended partition with 12 logical partitions
							</p>
							 </td><td align="left" valign="top" headers="idm140664197409568"> <p>
								2TiB
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664197411760"> <p>
								GUID Partition Table (GPT)
							</p>
							 </td><td align="left" valign="top" headers="idm140664197410672"> <p>
								128
							</p>
							 </td><td align="left" valign="top" headers="idm140664197409568"> <p>
								8ZiB
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="mbr-disk-partitions_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.4. MBR disk partitions</h3></div></div></div><p>
				The partition table is stored at the very start of the disk, before any file system or user data. For a more clear example, the partition table is shown as being separate in the following diagrams.
			</p><div class="figure" id="idm140664179571264"><p class="title"><strong>Figure 4.1. Disk with MBR partition table</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/74379cb1696956d9d20f229b0c0c8817/unused-partitioned-drive.png" alt="unused partitioned drive"></div></div></div><p>
				As the previous diagram shows, the partition table is divided into four sections of four unused primary partitions. A primary partition is a partition on a hard disk drive that contains only one logical drive (or section). Each logical drive holds the information necessary to define a single partition, meaning that the partition table can define no more than four primary partitions.
			</p><p>
				Each partition table entry contains important characteristics of the partition:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The points on the disk where the partition starts and ends
					</li><li class="listitem">
						The state of the partition, as only one partition can be flagged as <code class="literal">active</code>
					</li><li class="listitem">
						The type of partition
					</li></ul></div><p>
				The starting and ending points define the size and location of the partition on the disk. Some of the operating systems boot loaders use the <code class="literal">active</code> flag. That means that the operating system in the partition that is marked "active" is booted.
			</p><p>
				The type is a number that identifies the anticipated usage of a partition. Some operating systems use the partition type to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Denote a specific file system type
					</li><li class="listitem">
						Flag the partition as being associated with a particular operating system
					</li><li class="listitem">
						Indicate that the partition contains a bootable operating system
					</li></ul></div><p>
				The following diagram shows an example of a drive with a single partition. In this example, the first partition is labeled as <code class="literal">DOS</code> partition type:
			</p><div class="figure" id="idm140664195421360"><p class="title"><strong>Figure 4.2. Disk with a single partition</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/9429aaebbe148b973e415eb641325e53/dos-single-partition.png" alt="dos single partition"></div></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/disk-partitions_managing-storage-devices#mbr-partition-types_disk-partitions">MBR partition types</a>
					</li></ul></div></section><section class="section" id="extended-mbr-partitions_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.5. Extended MBR partitions</h3></div></div></div><p>
				To create additional partitions, if needed, set the type to <code class="literal">extended</code>.
			</p><p>
				An extended partition is similar to a disk drive. It has its own partition table, which points to one or more logical partitions, contained entirely within the extended partition. The following diagram shows a disk drive with two primary partitions, and one extended partition containing two logical partitions, along with some unpartitioned free space.
			</p><div class="figure" id="idm140664191924400"><p class="title"><strong>Figure 4.3. Disk with both two primary and an extended MBR partitions</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/3a176ae803526f8a94f32819086f6a75/extended-partitions.png" alt="extended partitions"></div></div></div><p>
				You can have only up to four primary and extended partitions, but there is no fixed limit to the number of logical partitions. As a limit in Linux to access partitions, a single disk drive allows maximum 15 logical partitions.
			</p></section><section class="section" id="mbr-partition-types_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.6. MBR partition types</h3></div></div></div><p>
				The table below shows a list of some of the most commonly used MBR partition types and hexadecimal numbers to represent them.
			</p><rh-table id="idm140664193410096"><table class="gt-4-cols lt-7-rows"><caption>Table 4.2. MBR partition types</caption><colgroup><col style="width: 25%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 25%; " class="col_3"><!--Empty--><col style="width: 25%; " class="col_4"><!--Empty--></colgroup><tbody><tr><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>MBR partition type</strong></span>
							</p>
							 </td><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Value</strong></span>
							</p>
							 </td><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>MBR partition type</strong></span>
							</p>
							 </td><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Value</strong></span>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Empty
							</p>
							 </td><td align="left" valign="top"> <p>
								00
							</p>
							 </td><td align="left" valign="top"> <p>
								Novell Netware 386
							</p>
							 </td><td align="left" valign="top"> <p>
								65
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								DOS 12-bit FAT
							</p>
							 </td><td align="left" valign="top"> <p>
								01
							</p>
							 </td><td align="left" valign="top"> <p>
								PIC/IX
							</p>
							 </td><td align="left" valign="top"> <p>
								75
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								XENIX root
							</p>
							 </td><td align="left" valign="top"> <p>
								O2
							</p>
							 </td><td align="left" valign="top"> <p>
								Old MINIX
							</p>
							 </td><td align="left" valign="top"> <p>
								80
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								XENIX usr
							</p>
							 </td><td align="left" valign="top"> <p>
								O3
							</p>
							 </td><td align="left" valign="top"> <p>
								Linux/MINUX
							</p>
							 </td><td align="left" valign="top"> <p>
								81
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								DOS 16-bit ⇐32M
							</p>
							 </td><td align="left" valign="top"> <p>
								04
							</p>
							 </td><td align="left" valign="top"> <p>
								Linux swap
							</p>
							 </td><td align="left" valign="top"> <p>
								82
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Extended
							</p>
							 </td><td align="left" valign="top"> <p>
								05
							</p>
							 </td><td align="left" valign="top"> <p>
								Linux native
							</p>
							 </td><td align="left" valign="top"> <p>
								83
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								DOS 16-bit &gt;=32
							</p>
							 </td><td align="left" valign="top"> <p>
								06
							</p>
							 </td><td align="left" valign="top"> <p>
								Linux extended
							</p>
							 </td><td align="left" valign="top"> <p>
								85
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								OS/2 HPFS
							</p>
							 </td><td align="left" valign="top"> <p>
								07
							</p>
							 </td><td align="left" valign="top"> <p>
								Amoeba
							</p>
							 </td><td align="left" valign="top"> <p>
								93
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								AIX
							</p>
							 </td><td align="left" valign="top"> <p>
								08
							</p>
							 </td><td align="left" valign="top"> <p>
								Amoeba BBT
							</p>
							 </td><td align="left" valign="top"> <p>
								94
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								AIX bootable
							</p>
							 </td><td align="left" valign="top"> <p>
								09
							</p>
							 </td><td align="left" valign="top"> <p>
								BSD/386
							</p>
							 </td><td align="left" valign="top"> <p>
								a5
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								OS/2 Boot Manager
							</p>
							 </td><td align="left" valign="top"> <p>
								0a
							</p>
							 </td><td align="left" valign="top"> <p>
								OpenBSD
							</p>
							 </td><td align="left" valign="top"> <p>
								a6
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Win95 FAT32
							</p>
							 </td><td align="left" valign="top"> <p>
								0b
							</p>
							 </td><td align="left" valign="top"> <p>
								NEXTSTEP
							</p>
							 </td><td align="left" valign="top"> <p>
								a7
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Win95 FAT32 (LBA)
							</p>
							 </td><td align="left" valign="top"> <p>
								0c
							</p>
							 </td><td align="left" valign="top"> <p>
								BSDI fs
							</p>
							 </td><td align="left" valign="top"> <p>
								b7
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Win95 FAT16 (LBA)
							</p>
							 </td><td align="left" valign="top"> <p>
								0e
							</p>
							 </td><td align="left" valign="top"> <p>
								BSDI swap
							</p>
							 </td><td align="left" valign="top"> <p>
								b8
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Win95 Extended (LBA)
							</p>
							 </td><td align="left" valign="top"> <p>
								0f
							</p>
							 </td><td align="left" valign="top"> <p>
								Syrinx
							</p>
							 </td><td align="left" valign="top"> <p>
								c7
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Venix 80286
							</p>
							 </td><td align="left" valign="top"> <p>
								40
							</p>
							 </td><td align="left" valign="top"> <p>
								CP/M
							</p>
							 </td><td align="left" valign="top"> <p>
								db
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Novell
							</p>
							 </td><td align="left" valign="top"> <p>
								51
							</p>
							 </td><td align="left" valign="top"> <p>
								DOS access
							</p>
							 </td><td align="left" valign="top"> <p>
								e1
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								PRep Boot
							</p>
							 </td><td align="left" valign="top"> <p>
								41
							</p>
							 </td><td align="left" valign="top"> <p>
								DOS R/O
							</p>
							 </td><td align="left" valign="top"> <p>
								e3
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								GNU HURD
							</p>
							 </td><td align="left" valign="top"> <p>
								63
							</p>
							 </td><td align="left" valign="top"> <p>
								DOS secondary
							</p>
							 </td><td align="left" valign="top"> <p>
								f2
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Novell Netware 286
							</p>
							 </td><td align="left" valign="top"> <p>
								64
							</p>
							 </td><td align="left" valign="top"> <p>
								BBT
							</p>
							 </td><td align="left" valign="top"> <p>
								ff
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="guid-partition-table_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.7. GUID partition table</h3></div></div></div><p>
				The GUID partition table (GPT) is a partitioning scheme based on the Globally Unique Identifier (GUID).
			</p><p>
				GPT deals with the limitations of the Mater Boot Record (MBR) partition table. The MBR partition table cannot address storage larger than 2 TiB, equal to approximately 2.2 TB. Instead, GPT supports hard disks with larger capacity. The maximum addressable disk size is 8 ZiB, when using 512b sector drives, and 64 ZiB, when using 4096b sector drives. In addition, by default, GPT supports creation of up to 128 primary partitions. Extend the maximum amount of primary partitions by allocating more space to the partition table.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					A GPT has partition types based on GUIDs. Certain partitions require a specific GUID. For example, the system partition for Extensible Firmware Interface (EFI) boot loaders require GUID <code class="literal">C12A7328-F81F-11D2-BA4B-00A0C93EC93B</code>.
				</p></div></rh-alert><p>
				GPT disks use logical block addressing (LBA) and a partition layout as follows:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For backward compatibility with MBR disks, the system reserves the first sector (LBA 0) of GPT for MBR data, and applies the name "protective MBR".
					</li><li class="listitem"><p class="simpara">
						Primary GPT
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The header begins on the second logical block (LBA 1) of the device. The header contains the disk GUID, the location of the primary partition table, the location of the secondary GPT header, and CRC32 checksums of itself, and the primary partition table. It also specifies the number of partition entries on the table.
							</li><li class="listitem">
								By default, the primary GPT includes 128 partition entries. Each partition has an entry size of 128 bytes, a partition type GUID and a unique partition GUID.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Secondary GPT
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								For recovery, it is useful as a backup table in case the primary partition table is corrupted.
							</li><li class="listitem">
								The last logical sector of the disk contains the secondary GPT header and recovers GPT information, in case the primary header is corrupted.
							</li><li class="listitem"><p class="simpara">
								It contains:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										The disk GUID
									</li><li class="listitem">
										The location of the secondary partition table and the primary GPT header
									</li><li class="listitem">
										CRC32 checksums of itself
									</li><li class="listitem">
										The secondary partition table
									</li><li class="listitem">
										The number of possible partition entries
									</li></ul></div></li></ul></div></li></ul></div><div class="figure" id="idm140664189433584"><p class="title"><strong>Figure 4.4. Disk with a GUID Partition Table</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/6e469a6b3b73066fcd8340d962618004/gpt-partition.png" alt="gpt partition"></div></div></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					For a successful installation of the boot loader onto a GPT disk a BIOS boot partition must be present. Reuse is possible only if the disk already contains a BIOS boot partition. This includes disks initialized by the <span class="strong strong"><strong>Anaconda</strong></span> installation program.
				</p></div></rh-alert></section><section class="section" id="partition-types_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.8. Partition types</h3></div></div></div><p>
				There are multiple ways to manage partition types:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">fdisk</code> utility supports the full range of partition types by specifying hexadecimal codes.
					</li><li class="listitem">
						The <code class="literal">systemd-gpt-auto-generator</code>, a unit generator utility, uses the partition type to automatically identify and mount devices.
					</li><li class="listitem"><p class="simpara">
						The <code class="literal">parted</code> utility maps out the partition type with <span class="emphasis"><em>flags</em></span>. The <code class="literal">parted</code> utility handles only certain partition types, for example LVM, swap or RAID.
					</p><p class="simpara">
						The <code class="literal">parted</code> utility supports setting the following flags:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">boot</code>
							</li><li class="listitem">
								<code class="literal">root</code>
							</li><li class="listitem">
								<code class="literal">swap</code>
							</li><li class="listitem">
								<code class="literal">hidden</code>
							</li><li class="listitem">
								<code class="literal">raid</code>
							</li><li class="listitem">
								<code class="literal">lvm</code>
							</li><li class="listitem">
								<code class="literal">lba</code>
							</li><li class="listitem">
								<code class="literal">legacy_boot</code>
							</li><li class="listitem">
								<code class="literal">irst</code>
							</li><li class="listitem">
								<code class="literal">esp</code>
							</li><li class="listitem">
								<code class="literal">palo</code>
							</li></ul></div></li></ul></div><p>
				On Red Hat Enterprise Linux 9 with <code class="literal">parted</code> 3.5, you can use the additional flags <code class="literal">chromeos_kernel</code> and <code class="literal">bls_boot</code>.
			</p><p>
				The <code class="literal">parted</code> utility optionally accepts a file system type argument while creating a partition. See <a class="link" href="#proc_creating-a-partition-with-parted_getting-started-with-partitions" title="5.3. Creating a partition with parted">Creating a partition with parted</a>
			</p><p>
				for a list of the required conditions. Use the value to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Set the partition flags on MBR.
					</li><li class="listitem">
						Set the partition UUID type on GPT. For example, the <code class="literal">swap</code>, <code class="literal">fat</code>, or <code class="literal">hfs</code> file system types set different GUIDs. The default value is the Linux Data GUID.
					</li></ul></div><p>
				The argument does not modify the file system on the partition. It only differentiates between the supported flags and GUIDs.
			</p><p>
				The following file system types are supported:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">xfs</code>
					</li><li class="listitem">
						<code class="literal">ext2</code>
					</li><li class="listitem">
						<code class="literal">ext3</code>
					</li><li class="listitem">
						<code class="literal">ext4</code>
					</li><li class="listitem">
						<code class="literal">fat16</code>
					</li><li class="listitem">
						<code class="literal">fat32</code>
					</li><li class="listitem">
						<code class="literal">hfs</code>
					</li><li class="listitem">
						<code class="literal">hfs+</code>
					</li><li class="listitem">
						<code class="literal">linux-swap</code>
					</li><li class="listitem">
						<code class="literal">ntfs</code>
					</li><li class="listitem">
						<code class="literal">reiserfs</code>
					</li></ul></div></section><section class="section" id="partition-naming-scheme_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.9. Partition naming scheme</h3></div></div></div><p>
				Red Hat Enterprise Linux uses a file-based naming scheme, with file names in the form of <code class="literal">/dev/<span class="emphasis"><em>xxyN</em></span></code>.
			</p><p>
				Device and partition names consist of the following structure:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>/dev/</em></span></strong></span></code></span></dt><dd>
							Name of the directory that contains all device files. Hard disks contain partitions, thus the files representing all possible partitions are located in <code class="literal">/dev</code>.
						</dd><dt><span class="term"><code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>xx</em></span></strong></span></code></span></dt><dd>
							The first two letters of the partition name indicate the type of device that contains the partition.
						</dd><dt><span class="term"><code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>y</em></span></strong></span></code></span></dt><dd>
							This letter indicates the specific device containing the partition. For example, <code class="literal">/dev/sda</code> for the first hard disk and <code class="literal">/dev/sdb</code> for the second. You can use more letters in systems with more than 26 drives, for example, <code class="literal">/dev/sdaa1</code>.
						</dd><dt><span class="term"><code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>N</em></span></strong></span></code></span></dt><dd>
							The final letter indicates the number to represent the partition. The first four (primary or extended) partitions are numbered <code class="literal">1</code> through <code class="literal">4</code>. Logical partitions start at <code class="literal">5</code>. For example, <code class="literal">/dev/sda3</code> is the third primary or extended partition on the first hard disk, and <code class="literal">/dev/sdb6</code> is the second logical partition on the second hard disk. Drive partition numbering applies only to MBR partition tables. Note that <span class="strong strong"><strong><span class="emphasis"><em>N</em></span></strong></span> does not always mean partition.
						</dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Even if Red Hat Enterprise Linux can identify and refer to <span class="emphasis"><em>all</em></span> types of disk partitions, it might not be able to read the file system and therefore access stored data on every partition type. However, in many cases, it is possible to successfully access data on a partition dedicated to another operating system.
				</p></div></rh-alert></section><section class="section" id="mount-points-and-disk-partitions_disk-partitions"><div class="titlepage"><div><div><h3 class="title">4.10. Mount points and disk partitions</h3></div></div></div><p>
				In Red Hat Enterprise Linux, each partition forms a part of the storage, necessary to support a single set of files and directories. Mounting a partition makes the storage of that partition available, starting at the specified directory known as a <span class="emphasis"><em>mount point</em></span>.
			</p><p>
				For example, if partition <code class="literal">/dev/sda5</code> is mounted on <code class="literal">/usr/</code>, it means that all files and directories under <code class="literal">/usr/</code> physically reside on <code class="literal">/dev/sda5</code>. The file <code class="literal">/usr/share/doc/FAQ/txt/Linux-FAQ</code> resides on <code class="literal">/dev/sda5</code>, while the file <code class="literal">/etc/gdm/custom.conf</code> does not.
			</p><p>
				Continuing the example, it is also possible that one or more directories below <code class="literal">/usr/</code> would be mount points for other partitions. For example, <code class="literal">/usr/local/man/whatis</code> resides on <code class="literal">/dev/sda7</code>, rather than on <code class="literal">/dev/sda5</code>, if <code class="literal">/usr/local</code> includes a mounted <code class="literal">/dev/sda7</code> partition.
			</p></section></section><section class="chapter" id="getting-started-with-partitions_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Getting started with partitions</h2></div></div></div><p>
			Use disk partitioning to divide a disk into one or more logical areas which enables work on each partition separately. The hard disk stores information about the location and size of each disk partition in the partition table. Using the table, each partition then appears as a logical disk to the operating system. You can then read and write on those individual disks.
		</p><p>
			For an overview of the advantages and disadvantages to using partitions on block devices, see <a class="link" href="https://access.redhat.com/solutions/163853">What are the advantages and disadvantages to using partitioning on LUNs, either directly or with LVM in between?</a>.
		</p><section class="section" id="proc_creating-a-partition-table-on-a-disk-with-parted_getting-started-with-partitions"><div class="titlepage"><div><div><h3 class="title">5.1. Creating a partition table on a disk with parted</h3></div></div></div><p>
				Use the <code class="literal">parted</code> utility to format a block device with a partition table more easily.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Formatting a block device with a partition table deletes all data stored on the device.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the interactive <code class="literal">parted</code> shell:
					</p><pre class="screen"># parted <span class="emphasis"><em>block-device</em></span></pre></li><li class="listitem"><p class="simpara">
						Determine if there already is a partition table on the device:
					</p><pre class="screen"># (parted) print</pre><p class="simpara">
						If the device already contains partitions, they will be deleted in the following steps.
					</p></li><li class="listitem"><p class="simpara">
						Create the new partition table:
					</p><pre class="screen"># (parted) mklabel <span class="emphasis"><em>table-type</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Replace <span class="emphasis"><em>table-type</em></span> with with the intended partition table type:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">msdos</code> for MBR
									</li><li class="listitem">
										<code class="literal">gpt</code> for GPT
									</li></ul></div></li></ul></div><div class="example" id="idm140664191154608"><p class="title"><strong>Example 5.1. Creating a GUID Partition Table (GPT) table</strong></p><div class="example-contents"><p>
							To create a GPT table on the disk, use:
						</p><pre class="screen"># (parted) mklabel gpt</pre></div></div><p class="simpara">
						The changes start applying after you enter this command.
					</p></li><li class="listitem"><p class="simpara">
						View the partition table to confirm that it is created:
					</p><pre class="screen"># (parted) print</pre></li><li class="listitem"><p class="simpara">
						Exit the <code class="literal">parted</code> shell:
					</p><pre class="screen"># (parted) quit</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">parted(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="viewing-the-partition-table-with-parted_getting-started-with-partitions"><div class="titlepage"><div><div><h3 class="title">5.2. Viewing the partition table with parted</h3></div></div></div><p>
				Display the partition table of a block device to see the partition layout and details about individual partitions. You can view the partition table on a block device using the <code class="literal">parted</code> utility.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the <code class="literal">parted</code> utility. For example, the following output lists the device <code class="literal">/dev/sda</code>:
					</p><pre class="screen"># parted /dev/sda</pre></li><li class="listitem"><p class="simpara">
						View the partition table:
					</p><pre class="screen"># (parted) print

Model: ATA SAMSUNG MZNLN256 (scsi)
Disk /dev/sda: 256GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type      File system  Flags
 1      1049kB  269MB   268MB   primary   xfs          boot
 2      269MB   34.6GB  34.4GB  primary
 3      34.6GB  45.4GB  10.7GB  primary
 4      45.4GB  256GB   211GB   extended
 5      45.4GB  256GB   211GB   logical</pre></li><li class="listitem"><p class="simpara">
						Optional: Switch to the device you want to examine next:
					</p><pre class="screen"># (parted) select <span class="emphasis"><em>block-device</em></span></pre></li></ol></div><p>
				For a detailed description of the print command output, see the following:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Model: ATA SAMSUNG MZNLN256 (scsi)</code></span></dt><dd>
							The disk type, manufacturer, model number, and interface.
						</dd><dt><span class="term"><code class="literal">Disk /dev/sda: 256GB</code></span></dt><dd>
							The file path to the block device and the storage capacity.
						</dd><dt><span class="term"><code class="literal">Partition Table: msdos</code></span></dt><dd>
							The disk label type.
						</dd><dt><span class="term"><code class="literal">Number</code></span></dt><dd>
							The partition number. For example, the partition with minor number 1 corresponds to <code class="literal filename">/dev/sda1</code>.
						</dd><dt><span class="term"><code class="literal">Start</code> and <code class="literal">End</code></span></dt><dd>
							The location on the device where the partition starts and ends.
						</dd><dt><span class="term"><code class="literal">Type</code></span></dt><dd>
							Valid types are metadata, free, primary, extended, or logical.
						</dd><dt><span class="term"><code class="literal">File system</code></span></dt><dd>
							The file system type. If the <code class="literal">File system</code> field of a device shows no value, this means that its file system type is unknown. The <code class="literal">parted</code> utility cannot recognize the file system on encrypted devices.
						</dd><dt><span class="term"><code class="literal">Flags</code></span></dt><dd>
							Lists the flags set for the partition. Available flags are <code class="literal">boot</code>, <code class="literal">root</code>, <code class="literal">swap</code>, <code class="literal">hidden</code>, <code class="literal">raid</code>, <code class="literal">lvm</code>, or <code class="literal">lba</code>.
						</dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">parted(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="proc_creating-a-partition-with-parted_getting-started-with-partitions"><div class="titlepage"><div><div><h3 class="title">5.3. Creating a partition with parted</h3></div></div></div><p>
				As a system administrator, you can create new partitions on a disk by using the <code class="literal">parted</code> utility.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The required partitions are <code class="literal">swap</code>, <code class="literal">/boot/</code>, and <code class="literal">/ (root)</code>.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A partition table on the disk.
					</li><li class="listitem">
						If the partition you want to create is larger than 2TiB, format the disk with the <span class="strong strong"><strong>GUID Partition Table (GPT)</strong></span>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the <code class="literal">parted</code> utility:
					</p><pre class="screen"># parted <span class="emphasis"><em>block-device</em></span></pre></li><li class="listitem"><p class="simpara">
						View the current partition table to determine if there is enough free space:
					</p><pre class="screen"># (parted) print</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Resize the partition in case there is not enough free space.
							</li><li class="listitem"><p class="simpara">
								From the partition table, determine:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										The start and end points of the new partition.
									</li><li class="listitem">
										On MBR, what partition type it should be.
									</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Create the new partition:
					</p><pre class="screen"># (parted) mkpart <span class="emphasis"><em><span class="replaceable replaceable">part-type</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">fs-type</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">start</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">end</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em>part-type</em></span> with with <code class="literal">primary</code>, <code class="literal">logical</code>, or <code class="literal">extended</code>. This applies only to the MBR partition table.
							</li><li class="listitem">
								Replace <span class="emphasis"><em>name</em></span> with an arbitrary partition name. This is required for GPT partition tables.
							</li><li class="listitem">
								Replace <span class="emphasis"><em>fs-type</em></span> with <code class="literal">xfs</code>, <code class="literal">ext2</code>, <code class="literal">ext3</code>, <code class="literal">ext4</code>, <code class="literal">fat16</code>, <code class="literal">fat32</code>, <code class="literal">hfs</code>, <code class="literal">hfs+</code>, <code class="literal">linux-swap</code>, <code class="literal">ntfs</code>, or <code class="literal">reiserfs</code>. The <span class="emphasis"><em>fs-type</em></span> parameter is optional. Note that the <code class="literal">parted</code> utility does not create the file system on the partition.
							</li><li class="listitem">
								Replace <span class="emphasis"><em>start</em></span> and <span class="emphasis"><em>end</em></span> with the sizes that determine the starting and ending points of the partition, counting from the beginning of the disk. You can use size suffixes, such as <code class="literal">512MiB</code>, <code class="literal">20GiB</code>, or <code class="literal">1.5TiB</code>. The default size is in megabytes.
							</li></ul></div><div class="example" id="idm140664195363168"><p class="title"><strong>Example 5.2. Creating a small primary partition</strong></p><div class="example-contents"><p>
							To create a primary partition from 1024MiB until 2048MiB on an MBR table, use:
						</p><pre class="screen"># (parted) mkpart primary 1024MiB 2048MiB</pre></div></div><p class="simpara">
						The changes start applying after you enter the command.
					</p></li><li class="listitem"><p class="simpara">
						View the partition table to confirm that the created partition is in the partition table with the correct partition type, file system type, and size:
					</p><pre class="screen"># (parted) print</pre></li><li class="listitem"><p class="simpara">
						Exit the <code class="literal">parted</code> shell:
					</p><pre class="screen"># (parted) quit</pre></li><li class="listitem"><p class="simpara">
						Register the new device node:
					</p><pre class="screen"># udevadm settle</pre></li><li class="listitem"><p class="simpara">
						Verify that the kernel recognizes the new partition:
					</p><pre class="screen"># cat /proc/partitions</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">parted(8)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/partition-operations-with-parted_managing-file-systems#proc_creating-a-partition-table-on-a-disk-with-parted_partition-operations-with-parted">Creating a partition table on a disk with parted</a>.
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/partition-operations-with-parted_managing-file-systems#proc_resizing-a-partition-with-parted_partition-operations-with-parted">Resizing a partition with parted</a>
					</li></ul></div></section><section class="section" id="proc_setting-a-partition-type-with-fdisk_getting-started-with-partitions"><div class="titlepage"><div><div><h3 class="title">5.4. Setting a partition type with fdisk</h3></div></div></div><p class="_abstract _abstract">
				You can set a partition type or flag, using the <code class="literal">fdisk</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A partition on the disk.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the interactive <code class="literal">fdisk</code> shell:
					</p><pre class="screen"># fdisk <span class="emphasis"><em>block-device</em></span></pre></li><li class="listitem"><p class="simpara">
						View the current partition table to determine the minor partition number:
					</p><pre class="screen">Command (m for help): <span class="strong strong"><strong>print</strong></span></pre><p class="simpara">
						You can see the current partition type in the <code class="literal">Type</code> column and its corresponding type ID in the <code class="literal">Id</code> column.
					</p></li><li class="listitem"><p class="simpara">
						Enter the partition type command and select a partition using its minor number:
					</p><pre class="screen">Command (m for help): <span class="strong strong"><strong>type</strong></span>
Partition number (<span class="emphasis"><em><span class="replaceable replaceable">1,2,3</span></em></span> default <span class="emphasis"><em><span class="replaceable replaceable">3</span></em></span>): <span class="emphasis"><em><span class="replaceable replaceable"><span class="strong strong"><strong>2</strong></span></span></em></span></pre></li><li class="listitem"><p class="simpara">
						Optional: View the list in hexadecimal codes:
					</p><pre class="screen">Hex code (type L to list all codes): <span class="strong strong"><strong>L</strong></span></pre></li><li class="listitem"><p class="simpara">
						Set the partition type:
					</p><pre class="screen">Hex code (type L to list all codes): <span class="emphasis"><em><span class="replaceable replaceable"><span class="strong strong"><strong>8e</strong></span></span></em></span></pre></li><li class="listitem"><p class="simpara">
						Write your changes and exit the <code class="literal">fdisk</code> shell:
					</p><pre class="screen">Command (m for help): <span class="strong strong"><strong>write</strong></span>
The partition table has been altered.
Syncing disks.</pre></li><li class="listitem"><p class="simpara">
						Verify your changes:
					</p><pre class="screen"># fdisk --list <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span></pre></li></ol></div></section><section class="section" id="proc_resizing-a-partition-with-parted_getting-started-with-partitions"><div class="titlepage"><div><div><h3 class="title">5.5. Resizing a partition with parted</h3></div></div></div><p>
				Using the <code class="literal">parted</code> utility, extend a partition to use unused disk space, or shrink a partition to use its capacity for different purposes.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Back up the data before shrinking a partition.
					</li><li class="listitem">
						If the partition you want to create is larger than 2TiB, format the disk with the <span class="strong strong"><strong>GUID Partition Table (GPT)</strong></span>.
					</li><li class="listitem">
						If you want to shrink the partition, first shrink the file system so that it is not larger than the resized partition.
					</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					XFS does not support shrinking.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the <code class="literal">parted</code> utility:
					</p><pre class="screen"># parted <span class="emphasis"><em>block-device</em></span></pre></li><li class="listitem"><p class="simpara">
						View the current partition table:
					</p><pre class="screen"># (parted) print</pre><p class="simpara">
						From the partition table, determine:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The minor number of the partition.
							</li><li class="listitem">
								The location of the existing partition and its new ending point after resizing.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Resize the partition:
					</p><pre class="screen"># (parted) resizepart <span class="emphasis"><em>1</em></span> <span class="emphasis"><em>2GiB</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em>1</em></span> with the minor number of the partition that you are resizing.
							</li><li class="listitem">
								Replace <span class="emphasis"><em>2</em></span> with the size that determines the new ending point of the resized partition, counting from the beginning of the disk. You can use size suffixes, such as <code class="literal">512MiB</code>, <code class="literal">20GiB</code>, or <code class="literal">1.5TiB</code>. The default size is in megabytes.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						View the partition table to confirm that the resized partition is in the partition table with the correct size:
					</p><pre class="screen"># (parted) print</pre></li><li class="listitem"><p class="simpara">
						Exit the <code class="literal">parted</code> shell:
					</p><pre class="screen"># (parted) quit</pre></li><li class="listitem"><p class="simpara">
						Verify that the kernel registers the new partition:
					</p><pre class="screen"># cat /proc/partitions</pre></li><li class="listitem">
						Optional: If you extended the partition, extend the file system on it as well.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">parted(8)</code> man page.
					</li></ul></div></section><section class="section" id="proc_removing-a-partition-with-parted_getting-started-with-partitions"><div class="titlepage"><div><div><h3 class="title">5.6. Removing a partition with parted</h3></div></div></div><p>
				Using the <code class="literal">parted</code> utility, you can remove a disk partition to free up disk space.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Removing a partition deletes all data stored on the partition.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the interactive <code class="literal">parted</code> shell:
					</p><pre class="screen"># parted <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span> with the path to the device where you want to remove a partition: for example, <code class="literal filename">/dev/sda</code>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						View the current partition table to determine the minor number of the partition to remove:
					</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
						Remove the partition:
					</p><pre class="screen">(parted) rm <span class="emphasis"><em>minor-number</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em>minor-number</em></span> with the minor number of the partition you want to remove.
							</li></ul></div><p class="simpara">
						The changes start applying as soon as you enter this command.
					</p></li><li class="listitem"><p class="simpara">
						Verify that you have removed the partition from the partition table:
					</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
						Exit the <code class="literal">parted</code> shell:
					</p><pre class="screen">(parted) quit</pre></li><li class="listitem"><p class="simpara">
						Verify that the kernel registers that the partition is removed:
					</p><pre class="screen"># cat /proc/partitions</pre></li><li class="listitem">
						Remove the partition from the <code class="literal">/etc/fstab</code> file, if it is present. Find the line that declares the removed partition, and remove it from the file.
					</li><li class="listitem"><p class="simpara">
						Regenerate mount units so that your system registers the new <code class="literal">/etc/fstab</code> configuration:
					</p><pre class="screen"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						If you have deleted a swap partition or removed pieces of LVM, remove all references to the partition from the kernel command line:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								List active kernel options and see if any option references the removed partition:
							</p><pre class="screen"># grubby --info=ALL</pre></li><li class="listitem"><p class="simpara">
								Remove the kernel options that reference the removed partition:
							</p><pre class="screen"># grubby --update-kernel=ALL --remove-args="<span class="emphasis"><em>option</em></span>"</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						To register the changes in the early boot system, rebuild the <code class="literal">initramfs</code> file system:
					</p><pre class="screen"># dracut --force --verbose</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">parted(8)</code> man page on your system
					</li></ul></div></section></section><section class="chapter" id="strategies-for-repartitioning-a-disk_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Strategies for repartitioning a disk</h2></div></div></div><p>
			There are different approaches to repartitioning a disk. These include:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Unpartitioned free space is available.
				</li><li class="listitem">
					An unused partition is available.
				</li><li class="listitem">
					Free space in an actively used partition is available.
				</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				The following examples are simplified for clarity and do not reflect the exact partition layout when actually installing Red Hat Enterprise Linux.
			</p></div></rh-alert><section class="section" id="using-unpartitioned-free-space_strategies-for-repartitioning-a-disk"><div class="titlepage"><div><div><h3 class="title">6.1. Using unpartitioned free space</h3></div></div></div><p>
				Partitions that are already defined and do not span the entire hard disk, leave unallocated space that is not part of any defined partition. The following diagram shows what this might look like.
			</p><div class="figure" id="idm140664190037472"><p class="title"><strong>Figure 6.1. Disk with unpartitioned free space</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/9bf58e64ea156351d8517609bd24afbe/unpart-space.png" alt="unpart space"></div></div></div><p>
				The first diagram represents a disk with one primary partition and an undefined partition with unallocated space. The second diagram represents a disk with two defined partitions with allocated space.
			</p><p>
				An unused hard disk also falls into this category. The only difference is that <span class="emphasis"><em>all</em></span> the space is not part of any defined partition.
			</p><p>
				On a new disk, you can create the necessary partitions from the unused space. Most preinstalled operating systems are configured to take up all available space on a disk drive.
			</p></section><section class="section" id="using-space-from-an-unused-partition_strategies-for-repartitioning-a-disk"><div class="titlepage"><div><div><h3 class="title">6.2. Using space from an unused partition</h3></div></div></div><p>
				In the following example, the first diagram represents a disk with an unused partition. The second diagram represents reallocating an unused partition for Linux.
			</p><div class="figure" id="idm140664190521696"><p class="title"><strong>Figure 6.2. Disk with an unused partition</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f617fa878e1ca30a354e912eb6a67596/unused-partition.png" alt="unused partition"></div></div></div><p>
				To use the space allocated to the unused partition, delete the partition and then create the appropriate Linux partition instead. Alternatively, during the installation process, delete the unused partition and manually create new partitions.
			</p></section><section class="section" id="using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk"><div class="titlepage"><div><div><h3 class="title">6.3. Using free space from an active partition</h3></div></div></div><p>
				This process can be difficult to manage because an active partition, that is already in use, contains the required free space. In most cases, hard disks of computers with preinstalled software contain one larger partition holding the operating system and data.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					If you want to use an operating system (OS) on an active partition, you must reinstall the OS. Be aware that some computers, which include pre-installed software, do not include installation media to reinstall the original OS. Check whether this applies to your OS before you destroy an original partition and the OS installation.
				</p></div></rh-alert><p>
				To optimise the use of available free space, you can use the methods of destructive or non-destructive repartitioning.
			</p><section class="section" id="destructive-repartitioning_using-free-space-from-an-active-partition"><div class="titlepage"><div><div><h4 class="title">6.3.1. Destructive repartitioning</h4></div></div></div><p>
					Destructive repartitioning destroys the partition on your hard drive and creates several smaller partitions instead. Backup any needed data from the original partition as this method deletes the complete contents.
				</p><p>
					After creating a smaller partition for your existing operating system, you can:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Reinstall software.
						</li><li class="listitem">
							Restore your data.
						</li><li class="listitem">
							Start your Red Hat Enterprise Linux installation.
						</li></ul></div><p>
					The following diagram is a simplified representation of using the destructive repartitioning method.
				</p><div class="figure" id="idm140664187413392"><p class="title"><strong>Figure 6.3. Destructive repartitioning action on disk</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/216af447e0b72d58cd1c3b8636e40ca1/dstrct-reprt.png" alt="dstrct reprt"></div></div></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						This method deletes all data previously stored in the original partition.
					</p></div></rh-alert></section><section class="section" id="non-destructive-repartitioning_using-free-space-from-an-active-partition"><div class="titlepage"><div><div><h4 class="title">6.3.2. Non-destructive repartitioning</h4></div></div></div><p>
					Non-destructive repartitioning resizes partitions, without any data loss. This method is reliable, however it takes longer processing time on large drives.
				</p><p>
					The following is a list of methods, which can help initiate non-destructive repartitioning.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Compress existing data
						</li></ul></div><p>
					The storage location of some data cannot be changed. This can prevent the resizing of a partition to the required size, and ultimately lead to a destructive repartition process. Compressing data in an already existing partition can help you resize your partitions as needed. It can also help to maximize the free space available.
				</p><p>
					The following diagram is a simplified representation of this process.
				</p><div class="figure" id="idm140664193242080"><p class="title"><strong>Figure 6.4. Data compression on a disk</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/43ebf43f99569475246687fdc405a96d/compression.png" alt="compression"></div></div></div><p>
					To avoid any possible data loss, create a backup before continuing with the compression process.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Resize the existing partition
						</li></ul></div><p>
					By resizing an already existing partition, you can free up more space. Depending on your resizing software, the results may vary. In the majority of cases, you can create a new unformatted partition of the same type, as the original partition.
				</p><p>
					The steps you take after resizing can depend on the software you use. In the following example, the best practice is to delete the new DOS (Disk Operating System) partition, and create a Linux partition instead. Verify what is most suitable for your disk before initiating the resizing process.
				</p><div class="figure" id="idm140664193435808"><p class="title"><strong>Figure 6.5. Partition resizing on a disk</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/a025b166d95662700634e74f4bb8b5b6/part-resize.png" alt="part resize"></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Optional: Create new partitions
						</li></ul></div><p>
					Some pieces of resizing software support Linux based systems. In such cases, there is no need to delete the newly created partition after resizing. Creating a new partition afterwards depends on the software you use.
				</p><p>
					The following diagram represents the disk state, before and after creating a new partition.
				</p><div class="figure" id="idm140664198483088"><p class="title"><strong>Figure 6.6. Disk with final partition configuration</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/df31d5c5afb12bf44ab0e543ee20ab58/nondestruct-fin.png" alt="nondestruct fin"></div></div></div></section></section></section><section class="chapter" id="configuring-an-iscsi-target_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Configuring an iSCSI target</h2></div></div></div><p class="_abstract _abstract">
			Red Hat Enterprise Linux uses the <code class="literal">targetcli</code> shell as a command-line interface to perform the following operations:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Add, remove, view, and monitor iSCSI storage interconnects to utilize iSCSI hardware.
				</li><li class="listitem">
					Export local storage resources that are backed by either files, volumes, local SCSI devices, or by RAM disks to remote systems.
				</li></ul></div><p>
			The <code class="literal">targetcli</code> tool has a tree-based layout including built-in tab completion, auto-complete support, and inline documentation.
		</p><section class="section" id="installing-targetcli_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.1. Installing targetcli</h3></div></div></div><p class="_abstract _abstract">
				Install the <code class="literal">targetcli</code> tool to add, monitor, and remove iSCSI storage interconnects .
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">targetcli</code> tool:
					</p><pre class="screen"># dnf install targetcli</pre></li><li class="listitem"><p class="simpara">
						Start the target service:
					</p><pre class="screen"># systemctl start target</pre></li><li class="listitem"><p class="simpara">
						Configure target to start at boot time:
					</p><pre class="screen"># systemctl enable target</pre></li><li class="listitem"><p class="simpara">
						Open port <code class="literal">3260</code> in the firewall and reload the firewall configuration:
					</p><pre class="screen"># firewall-cmd --permanent --add-port=3260/tcp
Success

# firewall-cmd --reload
Success</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						View the <code class="literal">targetcli</code> layout:
					</p><pre class="screen"># targetcli
/&gt; ls
o- /........................................[...]
  o- backstores.............................[...]
  | o- block.................[Storage Objects: 0]
  | o- fileio................[Storage Objects: 0]
  | o- pscsi.................[Storage Objects: 0]
  | o- ramdisk...............[Storage Objects: 0]
  o- iscsi...........................[Targets: 0]
  o- loopback........................[Targets: 0]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-an-iscsi-target_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.2. Creating an iSCSI target</h3></div></div></div><p class="_abstract _abstract">
				Creating an iSCSI target enables the iSCSI initiator of the client to access the storage devices on the server. Both targets and initiators have unique identifying names.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the iSCSI directory:
					</p><pre class="screen">/&gt; iscsi/</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The <code class="literal">cd</code> command is used to change directories as well as to list the path to move into.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Use one of the following options to create an iSCSI target:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Creating an iSCSI target using a default target name:
							</p><pre class="screen">/iscsi&gt; create

Created target
iqn.2003-01.org.linux-iscsi.hostname.x8664:sn.78b473f296ff
Created TPG1</pre></li><li class="listitem"><p class="simpara">
								Creating an iSCSI target using a specific name:
							</p><pre class="screen">/iscsi&gt; create <span class="emphasis"><em>iqn.2006-04.com.example:444</em></span>

Created target iqn.2006-04.com.example:444
Created TPG1
Here <code class="literal">iqn.2006-04.com.example:444</code> is target_iqn_name</pre><p class="simpara">
								Replace <span class="emphasis"><em>iqn.2006-04.com.example:444</em></span> with the specific target name.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Verify the newly created target:
					</p><pre class="screen">/iscsi&gt; ls

o- iscsi.......................................[1 Target]
    o- iqn.2006-04.com.example:444................[1 TPG]
        o- tpg1...........................[enabled, auth]
           o- acls...............................[0 ACL]
            o- luns...............................[0 LUN]
           o- portals.........................[0 Portal]</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="iscsi-backstore_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.3. iSCSI Backstore</h3></div></div></div><p class="_abstract _abstract">
				An iSCSI backstore enables support for different methods of storing an exported LUN’s data on the local machine. Creating a storage object defines the resources that the backstore uses.
			</p><p>
				An administrator can choose any of the following backstore devices that Linux-IO (LIO) supports:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">fileio</code> backstore</span></dt><dd>
							Create a <code class="literal">fileio</code> storage object if you are using regular files on the local file system as disk images. For creating a <code class="literal">fileio</code> backstore, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-fileio-storage-object_configuring-an-iscsi-target">Creating a fileio storage object</a>.
						</dd><dt><span class="term"><code class="literal">block</code> backstore</span></dt><dd>
							Create a <code class="literal">block</code> storage object if you are using any local block device and logical device. For creating a <code class="literal">block</code> backstore, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-block-storage-object_configuring-an-iscsi-target">Creating a block storage object</a>.
						</dd><dt><span class="term"><code class="literal">pscsi</code> backstore</span></dt><dd>
							Create a <code class="literal">pscsi</code> storage object if your storage object supports direct pass-through of SCSI commands. For creating a <code class="literal">pscsi</code> backstore, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-pscsi-storage-object_configuring-an-iscsi-target">Creating a pscsi storage object</a>.
						</dd><dt><span class="term"><code class="literal">ramdisk</code> backstore</span></dt><dd>
							Create a <code class="literal">ramdisk</code> storage object if you want to create a temporary RAM backed device. For creating a <code class="literal">ramdisk</code> backstore, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target">Creating a Memory Copy RAM disk storage object</a>.
						</dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-a-fileio-storage-object_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.4. Creating a fileio storage object</h3></div></div></div><p class="_abstract _abstract">
				<code class="literal">fileio</code> storage objects can support either the <code class="literal">write_back</code> or <code class="literal">write_thru</code> operations. The <code class="literal">write_back</code> operation enables the local file system cache. This improves performance but increases the risk of data loss.
			</p><p>
				It is recommended to use <code class="literal">write_back=false</code> to disable the <code class="literal">write_back</code> operation in favor of the <code class="literal">write_thru</code> operation.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">fileio/</code> from the <code class="literal">backstores/</code> directory:
					</p><pre class="screen">/&gt; backstores/fileio</pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">fileio</code> storage object:
					</p><pre class="screen">/backstores/fileio&gt; create <span class="emphasis"><em>file1 /tmp/disk1</em></span>.img <span class="emphasis"><em>200M</em></span> write_back=false

Created fileio file1 with size 209715200</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the created <code class="literal">fileio</code> storage object:
					</p><pre class="screen">/backstores/fileio&gt; ls</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-a-block-storage-object_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.5. Creating a block storage object</h3></div></div></div><p class="_abstract _abstract">
				The block driver allows the use of any block device that appears in the <code class="literal">/sys/block/</code> directory to be used with Linux-IO (LIO). This includes physical devices such as, HDDs, SSDs, CDs, and DVDs, and logical devices such as, software or hardware RAID volumes, or LVM volumes.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">block/</code> from the <code class="literal">backstores/</code> directory:
					</p><pre class="screen">/&gt; backstores/block/</pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">block</code> backstore:
					</p><pre class="screen">/backstores/block&gt; create name=<span class="emphasis"><em>block_backend</em></span> dev=/dev/<span class="emphasis"><em>sdb</em></span>

Generating a wwn serial.
Created block storage object block_backend using /dev/vdb.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the created <code class="literal">block</code> storage object:
					</p><pre class="screen">/backstores/block&gt; ls</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							You can also create a <code class="literal">block</code> backstore on a logical volume.
						</p></div></rh-alert></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-a-pscsi-storage-object_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.6. Creating a pscsi storage object</h3></div></div></div><p class="_abstract _abstract">
				You can configure, as a backstore, any storage object that supports direct pass-through of SCSI commands without SCSI emulation, and with an underlying SCSI device that appears with <code class="literal">lsscsi</code> in the <code class="literal">/proc/scsi/scsi</code> such as, a SAS hard drive . SCSI-3 and higher is supported with this subsystem.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					<code class="literal">pscsi</code> should only be used by advanced users. Advanced SCSI commands such as for Asymmetric Logical Unit Assignment (ALUAs) or Persistent Reservations (for example, those used by VMware ESX, and vSphere) are usually not implemented in the device firmware and can cause malfunctions or crashes. When in doubt, use <code class="literal">block</code> backstore for production setups instead.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">pscsi/</code> from the <code class="literal">backstores/</code> directory:
					</p><pre class="screen">/&gt; backstores/pscsi/</pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">pscsi</code> backstore for a physical SCSI device, a TYPE_ROM device using <code class="literal">/dev/sr0</code> in this example:
					</p><pre class="screen">/backstores/pscsi&gt; create name=<span class="emphasis"><em>pscsi_backend</em></span> dev=/dev/sr0

Generating a wwn serial.
Created pscsi storage object pscsi_backend using /dev/sr0</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the created <code class="literal">pscsi</code> storage object:
					</p><pre class="screen">/backstores/pscsi&gt; ls</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.7. Creating a Memory Copy RAM disk storage object</h3></div></div></div><p class="_abstract _abstract">
				Memory Copy RAM disks (<code class="literal">ramdisk</code>) provide RAM disks with full SCSI emulation and separate memory mappings using memory copy for initiators. This provides capability for multi-sessions and is particularly useful for fast and volatile mass storage for production purposes.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">ramdisk/</code> from the <code class="literal">backstores/</code> directory:
					</p><pre class="screen">/&gt; backstores/ramdisk/</pre></li><li class="listitem"><p class="simpara">
						Create a 1GB RAM disk backstore:
					</p><pre class="screen">/backstores/ramdisk&gt; create name=<span class="emphasis"><em>rd_backend</em></span> size=<span class="emphasis"><em>1GB</em></span>

Generating a wwn serial.
Created rd_mcp ramdisk rd_backend with size 1GB.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the created <code class="literal">ramdisk</code> storage object:
					</p><pre class="screen">/backstores/ramdisk&gt; ls</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-an-iscsi-portal_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.8. Creating an iSCSI portal</h3></div></div></div><p class="_abstract _abstract">
				Creating an iSCSI portal adds an IP address and a port to the target that keeps the target enabled.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li><li class="listitem">
						An iSCSI target associated with a Target Portal Groups (TPG). For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target">Creating an iSCSI target</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the TPG directory:
					</p><pre class="screen">/iscsi&gt; iqn.2006-04.example:444/tpg1/</pre></li><li class="listitem"><p class="simpara">
						Use one of the following options to create an iSCSI portal:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Creating a default portal uses the default iSCSI port <code class="literal">3260</code> and allows the target to listen to all IP addresses on that port:
							</p><pre class="screen">/iscsi/iqn.20...mple:444/tpg1&gt; portals/ create

Using default IP port 3260
Binding to INADDR_Any (0.0.0.0)
Created network portal 0.0.0.0:3260</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									When an iSCSI target is created, a default portal is also created. This portal is set to listen to all IP addresses with the default port number that is: <code class="literal">0.0.0.0:3260</code>.
								</p><p>
									To remove the default portal, use the following command:
								</p><pre class="screen">/iscsi/iqn-name/tpg1/portals delete ip_address=0.0.0.0 ip_port=3260</pre></div></rh-alert></li><li class="listitem"><p class="simpara">
								Creating a portal using a specific IP address:
							</p><pre class="screen">/iscsi/iqn.20...mple:444/tpg1&gt; portals/ create <span class="emphasis"><em>192.168.122.137</em></span>

Using default IP port 3260
Created network portal 192.168.122.137:3260</pre></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the newly created portal:
					</p><pre class="screen">/iscsi/iqn.20...mple:444/tpg1&gt; ls

o- tpg.................................. [enambled, auth]
    o- acls ......................................[0 ACL]
    o- luns ......................................[0 LUN]
    o- portals ................................[1 Portal]
       o- 192.168.122.137:3260......................[OK]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-an-iscsi-lun_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.9. Creating an iSCSI LUN</h3></div></div></div><p class="_abstract _abstract">
				Logical unit number (LUN) is a physical device that is backed by the iSCSI backstore. Each LUN has a unique number.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li><li class="listitem">
						An iSCSI target associated with a Target Portal Groups (TPG). For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target">Creating an iSCSI target</a>.
					</li><li class="listitem">
						Created storage objects. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#iscsi-backstore_configuring-an-iscsi-target">iSCSI Backstore</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create LUNs of already created storage objects:
					</p><pre class="screen">/iscsi/iqn.20...mple:444/tpg1&gt; luns/ create /backstores/ramdisk/rd_backend
Created LUN 0.

/iscsi/iqn.20...mple:444/tpg1&gt; luns/ create /backstores/block/block_backend
Created LUN 1.

/iscsi/iqn.20...mple:444/tpg1&gt; luns/ create /backstores/fileio/file1
Created LUN 2.</pre></li><li class="listitem"><p class="simpara">
						Verify the created LUNs:
					</p><pre class="screen">/iscsi/iqn.20...mple:444/tpg1&gt; ls

o- tpg.................................. [enambled, auth]
    o- acls ......................................[0 ACL]
    o- luns .....................................[3 LUNs]
    |  o- lun0.........................[ramdisk/ramdisk1]
    |  o- lun1.................[block/block1 (/dev/vdb1)]
    |  o- lun2...................[fileio/file1 (/foo.img)]
    o- portals ................................[1 Portal]
        o- 192.168.122.137:3260......................[OK]</pre><p class="simpara">
						Default LUN name starts at <code class="literal">0</code>.
					</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
							By default, LUNs are created with read-write permissions. If a new LUN is added after ACLs are created, LUN automatically maps to all available ACLs and can cause a security risk. To create a LUN with read-only permissions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-read-only-iscsi-lun_configuring-an-iscsi-target">Creating a read-only iSCSI LUN</a>.
						</p></div></rh-alert></li><li class="listitem">
						Configure ACLs. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target">Creating an iSCSI ACL</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-a-read-only-iscsi-lun_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.10. Creating a read-only iSCSI LUN</h3></div></div></div><p class="_abstract _abstract">
				By default, LUNs are created with read-write permissions. This procedure describes how to create a read-only LUN.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and running <code class="literal">targetcli</code>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target">Installing targetcli</a>.
					</li><li class="listitem">
						An iSCSI target associated with a Target Portal Groups (TPG). For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target">Creating an iSCSI target</a>.
					</li><li class="listitem">
						Created storage objects. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#iscsi-backstore_configuring-an-iscsi-target">iSCSI Backstore</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Set read-only permissions:
					</p><pre class="screen">/&gt; set global auto_add_mapped_luns=false

Parameter auto_add_mapped_luns is now 'false'.</pre><p class="simpara">
						This prevents the auto mapping of LUNs to existing ACLs allowing the manual mapping of LUNs.
					</p></li><li class="listitem"><p class="simpara">
						Navigate to the <span class="emphasis"><em>initiator_iqn_name</em></span> directory:
					</p><pre class="literallayout">/&gt; iscsi/target_iqn_name/tpg1/acls/<span class="emphasis"><em>initiator_iqn_name</em></span>/</pre></li><li class="listitem"><p class="simpara">
						Create the LUN:
					</p><pre class="screen">/iscsi/target_iqn_name/tpg1/acls/<span class="emphasis"><em>initiator_iqn_name</em></span>&gt; create mapped_lun=next_sequential_LUN_number tpg_lun_or_backstore=backstore write_protect=1</pre><p class="simpara">
						Example:
					</p><pre class="screen">/iscsi/target_iqn_name/tpg1/acls/2006-04.com.example:888&gt; create mapped_lun=1 tpg_lun_or_backstore=/backstores/block/block2 write_protect=1

Created LUN 1.
Created Mapped LUN 1.</pre></li><li class="listitem"><p class="simpara">
						Verify the created LUN:
					</p><pre class="screen">/iscsi/target_iqn_name/tpg1/acls/2006-04.com.example:888&gt; ls
 o- 2006-04.com.example:888 .. [Mapped LUNs: 2]
 | o- mapped_lun0 .............. [lun0 block/disk1 (rw)]
 | o- mapped_lun1 .............. [lun1 block/disk2 (ro)]</pre><p class="simpara">
						The mapped_lun1 line now has (<code class="literal">ro</code>) at the end (unlike mapped_lun0’s (<code class="literal">rw</code>)) stating that it is read-only.
					</p></li><li class="listitem">
						Configure ACLs. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target">Creating an iSCSI ACL</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-an-iscsi-acl_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.11. Creating an iSCSI ACL</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">targetcli</code> service uses Access Control Lists (ACLs) to define access rules and grant each initiator access to a Logical Unit Number (LUN).
			</p><p>
				Both targets and initiators have unique identifying names. You must know the unique name of the initiator to configure ACLs. The <code class="literal">/etc/iscsi/initiatorname.iscsi</code> file, provided by the <code class="literal">iscsi-initiator-utils</code> package, contains the iSCSI initiator names.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">targetcli</code> service is <a class="link" href="#installing-targetcli_configuring-an-iscsi-target" title="7.1. Installing targetcli">installed</a> and running.
					</li><li class="listitem">
						An <a class="link" href="#creating-an-iscsi-target_configuring-an-iscsi-target" title="7.2. Creating an iSCSI target">iSCSI target</a> associated with a Target Portal Groups (TPG).
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Optional: To disable auto mapping of LUNs to ACLs see <a class="link" href="#creating-a-read-only-iscsi-lun_configuring-an-iscsi-target" title="7.10. Creating a read-only iSCSI LUN">Creating a read-only iSCSI LUN</a>.
					</li><li class="listitem"><p class="simpara">
						Navigate to the acls directory:
					</p><pre class="screen">/&gt; <span class="strong strong"><strong>iscsi/<span class="emphasis"><em>target_iqn_name</em></span>/<span class="emphasis"><em>tpg_name</em></span>/acls/</strong></span></pre></li><li class="listitem"><p class="simpara">
						Use one of the following options to create an ACL:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Use the <span class="emphasis"><em>initiator_iqn_name</em></span> from the <code class="literal">/etc/iscsi/initiatorname.iscsi</code> file on the initiator:
							</p><pre class="screen">iscsi/<span class="emphasis"><em>target_iqn_name</em></span>/<span class="emphasis"><em>tpg_name</em></span>/acls&gt; <span class="strong strong"><strong>create <span class="emphasis"><em>initiator_iqn_name</em></span></strong></span>

Created Node ACL for <span class="emphasis"><em>initiator_iqn_name</em></span>
Created mapped LUN 2.
Created mapped LUN 1.
Created mapped LUN 0.</pre></li><li class="listitem"><p class="simpara">
								Use a <span class="emphasis"><em>custom_name</em></span> and update the initiator to match it:
							</p><pre class="screen">iscsi/<span class="emphasis"><em>target_iqn_name</em></span>/<span class="emphasis"><em>tpg_name</em></span>/acls&gt; <span class="strong strong"><strong>create <span class="emphasis"><em>custom_name</em></span></strong></span>

Created Node ACL for <span class="emphasis"><em>custom_name</em></span>
Created mapped LUN 2.
Created mapped LUN 1.
Created mapped LUN 0.</pre><p class="simpara">
								For information about updating the initiator name, see <a class="link" href="#creating-an-iscsi-initiator_configuring-an-iscsi-initiator" title="8.1. Creating an iSCSI initiator">Creating an iSCSI intiator</a>.
							</p></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the created ACL:
					</p><pre class="screen">iscsi/<span class="emphasis"><em>target_iqn_name</em></span>/<span class="emphasis"><em>tpg_name</em></span>/acls&gt; <span class="strong strong"><strong>ls</strong></span>

o- acls .................................................[1 ACL]
    o- <span class="emphasis"><em>target_iqn_name</em></span> ....[3 Mapped LUNs, auth]
        o- mapped_lun0 .............[lun0 ramdisk/ramdisk1 (rw)]
        o- mapped_lun1 .................[lun1 block/block1 (rw)]
        o- mapped_lun2 .................[lun2 fileio/file1 (rw)]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.12. Setting up the Challenge-Handshake Authentication Protocol for the target</h3></div></div></div><p class="_abstract _abstract">
				By using the <code class="literal">Challenge-Handshake Authentication Protocol (CHAP)</code>, users can protect the target with a password. The initiator must be aware of this password to be able to connect to the target.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Created iSCSI ACL. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target">Creating an iSCSI ACL</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Set attribute authentication:
					</p><pre class="screen">/iscsi/iqn.20...mple:444/tpg1&gt; set attribute authentication=1

Parameter authentication is now '1'.</pre></li><li class="listitem"><p class="simpara">
						Set <code class="literal">userid</code> and <code class="literal">password</code>:
					</p><pre class="screen">/tpg1&gt; set auth userid=<span class="emphasis"><em>redhat</em></span>
Parameter userid is now '<span class="emphasis"><em>redhat</em></span>'.

/iscsi/iqn.20...689dcbb3/tpg1&gt; set auth password=<span class="emphasis"><em>redhat_passwd</em></span>
Parameter password is now '<span class="emphasis"><em>redhat_passwd</em></span>'.</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="removing-an-iscsi-object-using-targetcli-tool_configuring-an-iscsi-target"><div class="titlepage"><div><div><h3 class="title">7.13. Removing an iSCSI object using targetcli tool</h3></div></div></div><p class="_abstract _abstract">
				This procedure describes how to remove the iSCSI objects using the <code class="literal">targetcli</code> tool.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log off from the target:
					</p><pre class="screen"># iscsiadm -m node -T <span class="emphasis"><em>iqn.2006-04.example:444</em></span> -u</pre><p class="simpara">
						For more information about how to log in to the target, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-initiator_managing-storage-devices#creating-an-iscsi-initiator_configuring-an-iscsi-initiator">Creating an iSCSI initiator</a>.
					</p></li><li class="listitem"><p class="simpara">
						Remove the entire target, including all ACLs, LUNs, and portals:
					</p><pre class="screen">/&gt; iscsi/ delete <span class="emphasis"><em>iqn.2006-04.com.example:444</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>iqn.2006-04.com.example:444</em></span> with the target_iqn_name.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To remove an iSCSI backstore:
							</p><pre class="screen">/&gt; backstores/<span class="emphasis"><em>backstore-type</em></span>/ delete <span class="emphasis"><em>block_backend</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Replace <span class="emphasis"><em>backstore-type</em></span> with either <code class="literal">fileio</code>, <code class="literal">block</code>, <code class="literal">pscsi</code>, or <code class="literal">ramdisk</code>.
									</li><li class="listitem">
										Replace <span class="emphasis"><em>block_backend</em></span> with the <span class="emphasis"><em>backstore-name</em></span> you want to delete.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								To remove parts of an iSCSI target, such as an ACL:
							</p><pre class="screen">/&gt; /iscsi/iqn-name/tpg/acls/ delete <span class="emphasis"><em>iqn.2006-04.com.example:444</em></span></pre></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						View the changes:
					</p><pre class="screen">/&gt; iscsi/ ls</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> man page on your system
					</li></ul></div></section></section><section class="chapter" id="configuring-an-iscsi-initiator_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Configuring an iSCSI initiator</h2></div></div></div><p class="_abstract _abstract">
			An iSCSI initiator forms a session to connect to the iSCSI target. By default, an iSCSI service is lazily started and the service starts after running the <code class="literal">iscsiadm</code> command. If root is not on an iSCSI device or there are no nodes marked with <code class="literal">node.startup = automatic</code> then the iSCSI service will not start until an <code class="literal">iscsiadm</code> command is executed that requires <code class="literal">iscsid</code> or the <code class="literal">iscsi</code> kernel modules to be started.
		</p><p>
			Execute the <code class="literal">systemctl start iscsid.service</code> command as root to force the <code class="literal">iscsid</code> daemon to run and iSCSI kernel modules to load.
		</p><section class="section" id="creating-an-iscsi-initiator_configuring-an-iscsi-initiator"><div class="titlepage"><div><div><h3 class="title">8.1. Creating an iSCSI initiator</h3></div></div></div><p class="_abstract _abstract">
				Create an iSCSI initiator to connect to the iSCSI target to access the storage devices on the server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have an iSCSI target’s hostname and IP address:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								If you are connecting to a storage target that the external software created, find the target’s hostname and IP address from the storage administrator.
							</li><li class="listitem">
								If you are creating an iSCSI target, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target">Creating an iSCSI target</a>.
							</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install <code class="literal">iscsi-initiator-utils</code> on client machine:
					</p><pre class="screen"># dnf install iscsi-initiator-utils</pre></li><li class="listitem"><p class="simpara">
						Check the initiator name:
					</p><pre class="screen"># cat /etc/iscsi/initiatorname.iscsi

InitiatorName=iqn.2006-04.com.example:888</pre></li><li class="listitem"><p class="simpara">
						If the ACL was given a custom name in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target">Creating an iSCI ACL</a>, update the initiator name to match the ACL:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Open the <code class="literal">/etc/iscsi/initiatorname.iscsi</code> file and modify the initiator name:
							</p><pre class="screen"># vi /etc/iscsi/initiatorname.iscsi

InitiatorName=<span class="emphasis"><em>custom-name</em></span></pre></li><li class="listitem"><p class="simpara">
								Restart the <code class="literal">iscsid</code> service:
							</p><pre class="screen"># systemctl restart iscsid</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Discover the target and log in to the target with the displayed target IQN:
					</p><pre class="screen"># iscsiadm -m discovery -t st -p <span class="emphasis"><em>10.64.24.179</em></span>
    10.64.24.179:3260,1 iqn.2006-04.example:444

# iscsiadm -m node -T <span class="emphasis"><em>iqn.2006-04.example:444</em></span> -l
    Logging in to [iface: default, target: iqn.2006-04.example:444, portal: 10.64.24.179,3260] (multiple)
    Login to [iface: default, target: iqn.2006-04.example:444, portal: 10.64.24.179,3260] successful.</pre><p class="simpara">
						Replace <span class="emphasis"><em>10.64.24.179</em></span> with the target-ip-address.
					</p><p class="simpara">
						You can use this procedure for any number of initiators connected to the same target if their respective initiator names are added to the ACL as described in the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target">Creating an iSCSI ACL</a>.
					</p></li><li class="listitem"><p class="simpara">
						Find the iSCSI disk name and create a file system on this iSCSI disk:
					</p><pre class="screen"># grep "Attached SCSI" /var/log/messages

# mkfs.ext4 /dev/<span class="emphasis"><em>disk_name</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>disk_name</em></span> with the iSCSI disk name displayed in the <code class="literal">/var/log/messages</code> file.
					</p></li><li class="listitem"><p class="simpara">
						Mount the file system:
					</p><pre class="screen"># mkdir <span class="emphasis"><em>/mount/point</em></span>

# mount /dev/<span class="emphasis"><em>disk_name /mount/point</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>/mount/point</em></span> with the mount point of the partition.
					</p></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/fstab</code> file to mount the file system automatically when the system boots:
					</p><pre class="screen"># vi /etc/fstab

/dev/<span class="emphasis"><em>disk_name /mount/point</em></span> ext4 _netdev 0 0</pre><p class="simpara">
						Replace <span class="emphasis"><em>disk_name</em></span> with the iSCSI disk name and <span class="emphasis"><em>/mount/point</em></span> with the mount point of the partition.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">targetcli(8)</code> and <code class="literal">iscsiadm(8)</code> man pages on your system
					</li></ul></div></section><section class="section" id="setting-up-the-challenge-handshake-authentication-protocol-for-the-initiator_configuring-an-iscsi-initiator"><div class="titlepage"><div><div><h3 class="title">8.2. Setting up the Challenge-Handshake Authentication Protocol for the initiator</h3></div></div></div><p class="_abstract _abstract">
				By using the <code class="literal">Challenge-Handshake Authentication Protocol (CHAP)</code>, users can protect the target with a password. The initiator must be aware of this password to be able to connect to the target.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Created iSCSI initiator. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-initiator_managing-storage-devices#creating-an-iscsi-initiator_configuring-an-iscsi-initiator">Creating an iSCSI initiator</a>.
					</li><li class="listitem">
						Set the <code class="literal">CHAP</code> for the target. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target">Setting up the Challenge-Handshake Authentication Protocol for the target</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enable CHAP authentication in the <code class="literal">iscsid.conf</code> file:
					</p><pre class="screen"># vi /etc/iscsi/iscsid.conf

node.session.auth.authmethod = CHAP</pre><p class="simpara">
						By default, the <code class="literal">node.session.auth.authmethod</code> is set to <code class="literal">None</code>
					</p></li><li class="listitem"><p class="simpara">
						Add target <code class="literal">username</code> and <code class="literal">password</code> in the <code class="literal">iscsid.conf</code> file:
					</p><pre class="screen">node.session.auth.username = <span class="emphasis"><em>redhat</em></span>
node.session.auth.password = <span class="emphasis"><em>redhat_passwd</em></span></pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal">iscsid</code> daemon:
					</p><pre class="screen"># systemctl start iscsid.service</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">iscsiadm(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="monitoring-an-iscsi-session-using-the-iscsiadm-utility_configuring-an-iscsi-initiator"><div class="titlepage"><div><div><h3 class="title">8.3. Monitoring an iSCSI session using the iscsiadm utility</h3></div></div></div><p class="_abstract _abstract">
				This procedure describes how to monitor the iscsi session using the <code class="literal">iscsiadm</code> utility.
			</p><p>
				By default, an iSCSI service is <code class="literal">lazily</code> started and the service starts after running the <code class="literal">iscsiadm</code> command. If root is not on an iSCSI device or there are no nodes marked with <code class="literal">node.startup = automatic</code> then the iSCSI service will not start until an <code class="literal">iscsiadm</code> command is executed that requires <code class="literal">iscsid</code> or the <code class="literal">iscsi</code> kernel modules to be started.
			</p><p>
				Execute the <code class="literal">systemctl start iscsid.service</code> command as root to force the <code class="literal">iscsid</code> daemon to run and iSCSI kernel modules to load.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">iscsi-initiator-utils</code> on client machine:
					</p><pre class="screen"># dnf install iscsi-initiator-utils</pre></li><li class="listitem"><p class="simpara">
						Find information about the running sessions:
					</p><pre class="screen"># iscsiadm -m session -P 3</pre><p class="simpara">
						This command displays the session or device state, session ID (sid), some negotiated parameters, and the SCSI devices accessible through the session.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For shorter output, for example, to display only the <code class="literal">sid-to-node</code> mapping, run:
							</p><pre class="screen"># iscsiadm -m session -P 0
        or
# iscsiadm -m session

tcp [2] 10.15.84.19:3260,2 iqn.1992-08.com.netapp:sn.33615311
tcp [3] 10.15.85.19:3260,3 iqn.1992-08.com.netapp:sn.33615311</pre><p class="simpara">
								These commands print the list of running sessions in the following format: <code class="literal">driver [sid] target_ip:port,target_portal_group_tag proper_target_name</code>.
							</p></li></ul></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/doc/iscsi-initiator-utils-version/README</code> file
					</li><li class="listitem">
						<code class="literal">iscsiadm(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="dm-multipath-overrides-of-the-device-timeout_configuring-an-iscsi-initiator"><div class="titlepage"><div><div><h3 class="title">8.4. DM Multipath overrides of the device timeout</h3></div></div></div><p>
				The <code class="literal">recovery_tmo</code> <code class="literal">sysfs</code> option controls the timeout for a particular iSCSI device. The following options globally override the <code class="literal">recovery_tmo</code> values:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">replacement_timeout</code> configuration option globally overrides the <code class="literal">recovery_tmo</code> value for all iSCSI devices.
					</li><li class="listitem"><p class="simpara">
						For all iSCSI devices that are managed by DM Multipath, the <code class="literal">fast_io_fail_tmo</code> option in DM Multipath globally overrides the <code class="literal">recovery_tmo</code> value.
					</p><p class="simpara">
						The <code class="literal">fast_io_fail_tmo</code> option in DM Multipath also overrides the <code class="literal">fast_io_fail_tmo</code> option in Fibre Channel devices.
					</p></li></ul></div><p>
				The DM Multipath <code class="literal">fast_io_fail_tmo</code> option takes precedence over <code class="literal">replacement_timeout</code>. Red Hat does not recommend using <code class="literal">replacement_timeout</code> to override <code class="literal">recovery_tmo</code> in devices managed by DM Multipath because DM Multipath always resets <code class="literal">recovery_tmo</code>, when the <code class="literal">multipathd</code> service reloads.
			</p></section></section><section class="chapter" id="using-fibre-channel-devices_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Using Fibre Channel devices</h2></div></div></div><p class="_abstract _abstract">
			Red Hat Enterprise Linux 9 provides the following native Fibre Channel drivers:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">lpfc</code>
				</li><li class="listitem">
					<code class="literal">qla2xxx</code>
				</li><li class="listitem">
					<code class="literal">zfcp</code>
				</li></ul></div><section class="section" id="resizing-fibre-channel-logical-units_using-fibre-channel-devices"><div class="titlepage"><div><div><h3 class="title">9.1. Resizing Fibre Channel Logical Units</h3></div></div></div><p class="_abstract _abstract">
				As a system administrator, you can resize Fibre Channel logical units.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Determine which devices are paths for a <code class="literal">multipath</code> logical unit:
					</p><pre class="screen">multipath -ll</pre></li><li class="listitem"><p class="simpara">
						Re-scan Fibre Channel logical units on a system that uses multipathing:
					</p><pre class="screen">$ echo 1 &gt; /sys/block/<span class="emphasis"><em>sdX</em></span>/device/rescan</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">multipath(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="determining-the-link-loss-behavior-of-device-using-fibre-channel_using-fibre-channel-devices"><div class="titlepage"><div><div><h3 class="title">9.2. Determining the link loss behavior of device using Fibre Channel</h3></div></div></div><p class="_abstract _abstract">
				If a driver implements the Transport <code class="literal">dev_loss_tmo</code> callback, access attempts to a device through a link will be blocked when a transport problem is detected.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Determine the state of a remote port:
					</p><pre class="screen">$ cat /sys/class/fc_remote_port/rport-<span class="emphasis"><em>host</em></span>:<span class="emphasis"><em>bus</em></span>:<span class="emphasis"><em>remote-port</em></span>/port_state</pre><p class="simpara">
						This command returns any one of the following output:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">Blocked</code> when the remote port along with devices accessed through it are blocked.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">Online</code> if the remote port is operating normally
							</p><p class="simpara">
								If the problem is not resolved within <code class="literal">dev_loss_tmo</code> seconds, the <code class="literal">rport</code> and devices will be unblocked. All I/O running on that device along with any new I/O sent to that device will fail.
							</p></li></ul></div></li></ul></div><p>
				When a link loss exceeds <code class="literal">dev_loss_tmo</code>, the <code class="literal">scsi_device</code> and <code class="literal">sd_N_</code> devices are removed. Typically, the Fibre Channel class will leave the device as is, that is <code class="literal">/dev/<span class="emphasis"><em>sdx</em></span></code> will remain <code class="literal">/dev/<span class="emphasis"><em>sdx</em></span></code>. This is because the target binding is saved by the Fibre Channel driver and when the target port returns, the SCSI addresses are recreated faithfully. However, this cannot be guaranteed, the <code class="literal"><span class="emphasis"><em>sdx</em></span></code> device will be restored only if no additional change on in-storage box configuration of LUNs is made.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">multipath.conf(5)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/3182081">Recommended tuning at scsi,multipath and at application layer while configuring Oracle RAC cluster</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="fibre-channel-configuration-files_using-fibre-channel-devices"><div class="titlepage"><div><div><h3 class="title">9.3. Fibre Channel configuration files</h3></div></div></div><p>
				The following is the list of configuration files in the <code class="literal">/sys/class/</code> directory that provide the user-space API to Fibre Channel.
			</p><p>
				The items use the following variables:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">H</code></span></dt><dd>
							Host number
						</dd><dt><span class="term"><code class="literal">B</code></span></dt><dd>
							Bus number
						</dd><dt><span class="term"><code class="literal">T</code></span></dt><dd>
							Target
						</dd><dt><span class="term"><code class="literal">L</code></span></dt><dd>
							Logical unit (LUNs)
						</dd><dt><span class="term"><code class="literal">R</code></span></dt><dd>
							Remote port number
						</dd></dl></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Consult your hardware vendor before changing any of the values described in this section, if your system is using multipath software.
				</p></div></rh-alert><div class="variablelist"><p class="title"><strong>Transport configuration in <code class="literal">/sys/class/fc_transport/target<span class="emphasis"><em>H</em></span>:<span class="emphasis"><em>B</em></span>:<span class="emphasis"><em>T</em></span>/</code></strong></p><dl class="variablelist"><dt><span class="term"><code class="literal">port_id</code></span></dt><dd>
							24-bit port ID/address
						</dd><dt><span class="term"><code class="literal">node_name</code></span></dt><dd>
							64-bit node name
						</dd><dt><span class="term"><code class="literal">port_name</code></span></dt><dd>
							64-bit port name
						</dd></dl></div><div class="itemizedlist"><p class="title"><strong>Remote port configuration in <code class="literal">/sys/class/fc_remote_ports/rport-<span class="emphasis"><em>H</em></span>:<span class="emphasis"><em>B</em></span>-<span class="emphasis"><em>R</em></span>/</code></strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">port_id</code>
					</li><li class="listitem">
						<code class="literal">node_name</code>
					</li><li class="listitem">
						<code class="literal">port_name</code>
					</li><li class="listitem"><p class="simpara">
						<code class="literal">dev_loss_tmo</code>
					</p><p class="simpara">
						Controls when the scsi device gets removed from the system. After <code class="literal">dev_loss_tmo</code> triggers, the scsi device is removed. In the <code class="literal">multipath.conf</code> file , you can set <code class="literal">dev_loss_tmo</code> to <code class="literal">infinity</code>.
					</p><p class="simpara">
						In Red Hat Enterprise Linux 9, if you do not set the <code class="literal">fast_io_fail_tmo</code> option, <code class="literal">dev_loss_tmo</code> is capped to <code class="literal">600</code> seconds. By default, <code class="literal">fast_io_fail_tmo</code> is set to <code class="literal">5</code> seconds in Red Hat Enterprise Linux 9 if the <code class="literal">multipathd</code> service is running; otherwise, it is set to <code class="literal">off</code>.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">fast_io_fail_tmo</code>
					</p><p class="simpara">
						Specifies the number of seconds to wait before it marks a link as "bad". Once a link is marked bad, existing running I/O or any new I/O on its corresponding path fails.
					</p><p class="simpara">
						If I/O is in a blocked queue, it will not be failed until <code class="literal">dev_loss_tmo</code> expires and the queue is unblocked.
					</p><p class="simpara">
						If <code class="literal">fast_io_fail_tmo</code> is set to any value except off, <code class="literal">dev_loss_tmo</code> is uncapped. If <code class="literal">fast_io_fail_tmo</code> is set to off, no I/O fails until the device is removed from the system. If <code class="literal">fast_io_fail_tmo</code> is set to a number, I/O fails immediately when the <code class="literal">fast_io_fail_tmo</code> timeout triggers.
					</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Host configuration in <code class="literal">/sys/class/fc_host/host<span class="emphasis"><em>H</em></span>/</code></strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">port_id</code>
					</li><li class="listitem">
						<code class="literal">node_name</code>
					</li><li class="listitem">
						<code class="literal">port_name</code>
					</li><li class="listitem"><p class="simpara">
						<code class="literal">issue_lip</code>
					</p><p class="simpara">
						Instructs the driver to rediscover remote ports.
					</p></li></ul></div></section><section class="section" id="dm-multipath-overrides-of-the-device-timeout_using-fibre-channel-devices"><div class="titlepage"><div><div><h3 class="title">9.4. DM Multipath overrides of the device timeout</h3></div></div></div><p>
				The <code class="literal">recovery_tmo</code> <code class="literal">sysfs</code> option controls the timeout for a particular iSCSI device. The following options globally override the <code class="literal">recovery_tmo</code> values:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">replacement_timeout</code> configuration option globally overrides the <code class="literal">recovery_tmo</code> value for all iSCSI devices.
					</li><li class="listitem"><p class="simpara">
						For all iSCSI devices that are managed by DM Multipath, the <code class="literal">fast_io_fail_tmo</code> option in DM Multipath globally overrides the <code class="literal">recovery_tmo</code> value.
					</p><p class="simpara">
						The <code class="literal">fast_io_fail_tmo</code> option in DM Multipath also overrides the <code class="literal">fast_io_fail_tmo</code> option in Fibre Channel devices.
					</p></li></ul></div><p>
				The DM Multipath <code class="literal">fast_io_fail_tmo</code> option takes precedence over <code class="literal">replacement_timeout</code>. Red Hat does not recommend using <code class="literal">replacement_timeout</code> to override <code class="literal">recovery_tmo</code> in devices managed by DM Multipath because DM Multipath always resets <code class="literal">recovery_tmo</code>, when the <code class="literal">multipathd</code> service reloads.
			</p></section></section><section class="chapter" id="managing-system-upgrades-with-snapshots_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 10. Managing system upgrades with snapshots</h2></div></div></div><p>
			Perform rollback capable upgrades of Red Hat Enterprise Linux systems to return to an earlier version of the operating system. You can use the <span class="strong strong"><strong>Boom Boot Manager</strong></span> and the Leapp operating system modernization framework.
		</p><p>
			Before performing the operating system upgrades, consider the following aspects:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					System upgrades with snapshots do not work on multiple file systems in your system tree, for example, a separate <code class="literal">/var</code> or <code class="literal">/usr</code> partition.
				</li><li class="listitem">
					System upgrades with snapshots do not work for the Red Hat Update Infrastructure (RHUI) systems. Instead of using the Boom utility, consider creating snapshots of your virtual machines (VMs).
				</li></ul></div><section class="section" id="overview-of-the-boom-process_managing-system-upgrades-with-snapshots"><div class="titlepage"><div><div><h3 class="title">10.1. Overview of the Boom process</h3></div></div></div><p>
				Create boot entries using the Boom Boot Manager so you can select and access these entries from the GRUB boot loader menu. Creating boot entries simplifies the process of preparation for a rollback capable upgrade.
			</p><p>
				The following boot entries are part of the upgrade and rollback processes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">Upgrade boot entry</code>
					</p><p class="simpara">
						Boots the Leapp upgrade environment. Use the <code class="literal">leapp</code> utility to create and manage this boot entry. The <code class="literal">leapp</code> upgrade process automatically removes this entry.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">Red Hat Enterprise Linux 9 boot entry</code>
					</p><p class="simpara">
						Boots the upgrade system environment. Use the <code class="literal">leapp</code> utility to create this boot entry after a successful upgrade process.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">Snapshot boot entry</code>
					</p><p class="simpara">
						Boots the snapshot of the original system. Use it to review and test the previous operating system state, following a successful or unsuccessful upgrade attempt. Before upgrading the operating system, use the <code class="literal">boom</code> command to create this boot entry.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">Rollback boot entry</code>
					</p><p class="simpara">
						Boots the original system environment and rolls back any upgrade to the previous system state. Use the <code class="literal">boom</code> command to create this boot entry when initiating a rollback of the upgrade procedure.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">boom(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots"><div class="titlepage"><div><div><h3 class="title">10.2. Upgrading to another version using Boom Boot Manager</h3></div></div></div><p>
				Perform an upgrade of your Red Hat Enterprise Linux operating system by using the Boom Boot Manager.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are running Red Hat Enterprise Linux 8.8 or 8.10.
					</li><li class="listitem">
						You have installed the current version of the <code class="literal">boom-boot</code> package (version <span class="strong strong"><strong>boom-boot-1.3-2.el8</strong></span> or later).
					</li><li class="listitem">
						You have sufficient space available for the snapshot. Make a size estimate based on the size of the original installation. List all the mounted logical volumes.
					</li><li class="listitem">
						You have installed the <code class="literal">leapp</code> package.
					</li><li class="listitem">
						You have enabled software repositories.
					</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Additional file systems might include <span class="strong strong"><strong>/usr</strong></span> or <span class="strong strong"><strong>/var</strong></span>.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a snapshot of your <span class="emphasis"><em>root</em></span> logical volume:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If your root file system uses thin provisioning, create a thin snapshot:
							</p><pre class="screen"># <span class="strong strong"><strong>lvcreate -s rhel/root -kn -n <span class="emphasis"><em>root_snapshot_before_changes</em></span></strong></span>
 Logical volume <span class="emphasis"><em>"root_snapshot_before_changes"</em></span> created.</pre><p class="simpara">
								Here:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">-s</code> creates the snapshot.
									</li><li class="listitem">
										<code class="literal">rhel/root</code> copies the file system to the logical volume.
									</li><li class="listitem">
										<code class="literal">-kn</code> automatically activates LV at boot time.
									</li><li class="listitem"><p class="simpara">
										<code class="literal">-n <span class="emphasis"><em>root_snapshot_before_changes</em></span></code> shows the name of the snapshot.
									</p><p class="simpara">
										While creating a thin snapshot, do not define the snapshot size. The snapshot is allocated from the thin pool.
									</p></li></ul></div></li><li class="listitem"><p class="simpara">
								If your root file system uses thick provisioning, create a thick snapshot:
							</p><pre class="screen"># <span class="strong strong"><strong>lvcreate -s rhel/root -n <span class="emphasis"><em>root_snapshot_before_changes</em></span> <span class="emphasis"><em>-L</em></span> <span class="emphasis"><em>25g</em></span></strong></span>
  Rounding up size to full physical extent 25 GiB
  Logical volume <span class="emphasis"><em>"root_snapshot_before_changes"</em></span> created.</pre><p class="simpara">
								In this command:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">-s</code> creates the snapshot.
									</li><li class="listitem">
										<code class="literal">rhel/root</code> copies the file system to the logical volume.
									</li><li class="listitem">
										<code class="literal">-n <span class="emphasis"><em>root_snapshot_before_changes</em></span></code> shows the name of the snapshot.
									</li><li class="listitem"><p class="simpara">
										<code class="literal">-L <span class="emphasis"><em>25g</em></span></code> is the snapshot size. Make a size estimate based on the size of the original installation.
									</p><p class="simpara">
										While creating a thick snapshot, define the snapshot size that can hold all the changes during the upgrade.
									</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
											The created snapshot does not include any additional system changes.
										</p></div></rh-alert></li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Create the profile:
					</p><p class="simpara">
						Creating a profile requires an architecture-specific workaround to avoid an interaction between <code class="literal">kexec-tools</code> or <code class="literal">kdumpctl</code> and <code class="literal">boom</code>. During the upgrade, the updated <code class="literal">kexec-tools</code> package attempts to modify all boot entries with updated <code class="literal">crashkernel</code> settings. This deletes the boot images used by the entry. You can avoid this by appending the RHEL 9 <code class="literal">crashkernel</code> settings to the RHEL 8 profile options.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On an Intel 64 or AMD64 (x86_64), or IBM Z (s390x) architecture:
							</p><pre class="screen"># <span class="strong strong"><strong>boom profile create --from-host --os-options "root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M"</strong></span>
Created profile with os_id <span class="emphasis"><em>43747d3</em></span>:
  OS ID: <span class="emphasis"><em>"43747d3888b663d2bc88efd35d0813159a84d291"</em></span>,
  Name: "Red Hat Enterprise Linux", Short name: "rhel",
  Version: "8.9 (Ootpa)", Version ID: "8.9",
  Kernel pattern: "/vmlinuz-%{version}", Initramfs pattern: "/initramfs-%{version}.img",
  Root options (LVM2): "rd.lvm.lv=%{lvm_root_lv}",
  Root options (BTRFS): "rootflags=%{btrfs_subvolume}",
  Options: "root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M",
  Title: "%{os_name} %{os_version_id} (%{version})",
  Optional keys: "", UTS release pattern: "el8"</pre></li><li class="listitem"><p class="simpara">
								On an 64-bit ARM (AArch64) architecture:
							</p><pre class="screen"># <span class="strong strong"><strong>boom profile create --from-host --os-options "root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=1G-4G:256M,4G-64G:320M,64G-:576M"</strong></span></pre></li><li class="listitem"><p class="simpara">
								On an IBM POWER little-endian (ppc64le) architecture:
							</p><pre class="screen"># <span class="strong strong"><strong>boom profile create --from-host --os-options "root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=2G-4G:384M,4G-16G:512M,16G-64G:1G,64G-128G:2G,128G-:4G" --optional-keys "grub_users grub_arg grub_class id"</strong></span></pre><p class="simpara">
								The <code class="literal">--optional-keys</code> argument is required on ppc64le to ensure that the <code class="literal">grub2-mkconfig</code> command generates the correct boot entry in step 10.2.3. For more information, see <a class="link" href="https://issues.redhat.com/browse/RHEL-36180">RHEL-36180</a>.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Create a snapshot boot entry of the original system using backup copies of the original boot images:
					</p><pre class="screen"># <span class="strong strong"><strong>boom create --backup --title <span class="emphasis"><em>"Root LV snapshot before changes"</em></span> --rootlv rhel/<span class="emphasis"><em>root_snapshot_before_changes</em></span></strong></span>
WARNING - Boom grub2 integration is disabled in '/boot/../etc/default/boom'
Created entry with boot_id c919f89:
  title <span class="emphasis"><em>Root LV snapshot before changes</em></span>
  machine-id b1dcec73886b45218892b1a7bbfa0dee
  version 4.18.0-513.24.1.el8_9.x86_64
  linux /vmlinuz-4.18.0-513.24.1.el8_9.x86_64.boom0
  initrd /initramfs-4.18.0-513.24.1.el8_9.x86_64.img.boom0
  options root=/dev/rhel/root_snapshot_before_changes ro rd.lvm.lv=rhel/root_snapshot_before_changes rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M</pre><p class="simpara">
						Here:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">--title <span class="emphasis"><em>"Root LV snapshot before changes"</em></span></code> is the name of the boot entry, that shows in the boot entry list during system startup.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">--rootlv</code> is the root logical volume that corresponds to the new boot entry.
							</p><p class="simpara">
								After you complete the previous step, you have a boot entry that enables access to the original system, before the upgrade.
							</p><p class="simpara">
								Ignore "WARNING - Boom grub2 integration is disabled in '/boot/../etc/default/boom'". For details, see <a class="link" href="https://issues.redhat.com/browse/RHEL-35983">RHEL-35983</a>.
							</p></li><li class="listitem"><p class="simpara">
								On systems with ppc64le architecture, update boot entries:
							</p><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg</strong></span>
Generating grub configuration file ...
Generating boot entries from BLS files...
done</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Upgrade to Red Hat Enterprise Linux 9 using the Leapp utility:
					</p><pre class="screen"># <span class="strong strong"><strong>leapp upgrade</strong></span>
==&gt; Processing phase `configuration_phase`
====&gt; * ipu_workflow_config
        IPU workflow config actor
==&gt; Processing phase `FactsCollection`
...
============================================================
                      REPORT OVERVIEW
============================================================

Upgrade has been inhibited due to the following problems:
    1. Firewalld Configuration AllowZoneDrifting Is Unsupported
    2. Possible problems with remote login using root account

HIGH and MEDIUM severity reports:
    1. Remote root logins globally allowed using password
    2. GRUB2 core will be automatically updated during the upgrade

Reports summary:
    Errors:                      0
    Inhibitors:                  2
    HIGH severity reports:       2
    MEDIUM severity reports:     0
    LOW severity reports:        1
    INFO severity reports:       3

Before continuing consult the full report:
    A report has been generated at /var/log/leapp/leapp-report.json
    A report has been generated at /var/log/leapp/leapp-report.txt

============================================================
                   END OF REPORT OVERVIEW
============================================================</pre><p class="simpara">
						Review and resolve any blockers indicated by the <code class="literal">leapp upgrade</code> command report. For detailed instructions on the report, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/upgrading_from_rhel_8_to_rhel_9/reviewing-the-pre-upgrade-report_upgrading-from-rhel-8-to-rhel-9#doc-wrapper">Reviewing the pre-upgrade report</a>.
					</p></li><li class="listitem"><p class="simpara">
						Reboot into the upgrade boot entry:
					</p><pre class="screen"># <span class="strong strong"><strong>leapp upgrade --reboot</strong></span>
==&gt; Processing phase `configuration_phase`
====&gt; * ipu_workflow_config
        IPU workflow config actor
==&gt; Processing phase `FactsCollection`
...</pre><p class="simpara">
						Select the <span class="strong strong"><strong>Red Hat Enterprise Linux Upgrade Initramfs</strong></span> entry from the GRUB boot screen.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The Snapshots submenu from the GRUB boot screen is not available in Red Hat Enterprise Linux 9.
						</p></div></rh-alert></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						After completing the upgrade, the system automatically reboots. The GRUB screen shows the upgraded (Red Hat Enterprise Linux 9) and the previous version of the available operating system. The upgraded system version is the default selection.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">boom(1)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/3750001">What is BOOM and how to install it?</a> (Red Hat Knowledgebase)
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/3772101">How to create a BOOM boot entry</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="switching-between-red-hat-enterprise-linux-versions_managing-system-upgrades-with-snapshots"><div class="titlepage"><div><div><h3 class="title">10.3. Switching between Red Hat Enterprise Linux versions</h3></div></div></div><p>
				Access simultaneously current and previous Red Hat Enterprise Linux versions on your machine. Using the <span class="strong strong"><strong>Boom Boot Manager</strong></span> to access different operating system versions reduces the risk associated with upgrading an operating system, and also helps reduce hardware downtime. With this ability to switch between environments, you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Quickly compare both environments in a side-by-side fashion.
					</li><li class="listitem">
						Switch between environments while evaluating the result of the upgrade.
					</li><li class="listitem">
						Recover older content of the file system.
					</li><li class="listitem">
						Continue accessing the old system, while the upgraded host is running.
					</li><li class="listitem">
						Halt and revert the update process at any time, even while the update itself is running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Reboot the system:
					</p><pre class="screen"># <span class="strong strong"><strong>reboot</strong></span></pre></li><li class="listitem">
						Select the required boot entry from the GRUB boot loader screen.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the selected boot volume is displayed:
					</p><pre class="screen"># <span class="strong strong"><strong>cat /proc/cmdline</strong></span>
BOOT_IMAGE=(hd0,msdos1)/vmlinuz-4.18.0-513.24.1.el8_9.x86_64.boom0 root=/dev/rhel/root_snapshot_before_changes ro rd.lvm.lv=rhel/root_snapshot_before_changes rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">boom(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="deleting-the-logical-volume-snapshot-after-a-successful-upgrade_managing-system-upgrades-with-snapshots"><div class="titlepage"><div><div><h3 class="title">10.4. Deleting the logical volume snapshot after a successful upgrade</h3></div></div></div><p id="deleting-the-logical-volume-snapshot_managing-system-upgrades-with-snapshots">
				If you have successfully upgraded your system by using the Boom Boot Manager, you can remove the snapshot boot entry and the logical volume (LV) snapshot to use the upgraded system.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					You cannot perform any further operations with the LV snapshot after you delete it.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have recently upgraded your Red Hat Enterprise Linux to a later version <a class="link" href="#upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots" title="10.2. Upgrading to another version using Boom Boot Manager">by using the Boom Boot Manager</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Boot into Red Hat Enterprise Linux 9 from the GRUB boot loader screen.
					</li><li class="listitem"><p class="simpara">
						After the system loads, view the available boot entries. The following output shows the snapshot boot entry in the list of boom boot entries:
					</p><pre class="screen"># <span class="strong strong"><strong>boom list</strong></span>
BootID  Version                      Name                     RootDevice
<span class="emphasis"><em>1e1a9b4</em></span> 4.18.0-513.5.1.el8_9.x86_64  Red Hat Enterprise Linux /dev/mapper/rhel-root
<span class="emphasis"><em>4ea37b9</em></span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/mapper/rhel-root
<span class="emphasis"><em>c919f89</em></span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/rhel/root_snapshot_before_changes</pre></li><li class="listitem"><p class="simpara">
						Delete the snapshot entry by using the <code class="literal">BootID</code> value:
					</p><pre class="screen"># <span class="strong strong"><strong>boom delete --boot-id <span class="emphasis"><em>c919f89</em></span></strong></span>
Deleted 1 entry</pre><p class="simpara">
						This deletes the boot entry from the GRUB menu.
					</p></li><li class="listitem"><p class="simpara">
						Remove the LV snapshot:
					</p><pre class="screen"># <span class="strong strong"><strong>lvremove rhel/<span class="emphasis"><em>root_snapshot_before_changes</em></span></strong></span>
Do you really want to remove active logical volume <span class="emphasis"><em>rhel/root_snapshot_before_changes</em></span>? [y/n]: y
      Logical volume "<span class="emphasis"><em>root_snapshot_before_changes</em></span>" successfully removed</pre></li><li class="listitem">
						Complete the remaining post-upgrade tasks. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/upgrading_from_rhel_8_to_rhel_9/index">Upgrading from RHEL 8 to RHEL 9</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">boom(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="creating-a-rollback-boot-entry-after-an-unsuccessful-upgrade_managing-system-upgrades-with-snapshots"><div class="titlepage"><div><div><h3 class="title">10.5. Creating a rollback boot entry after an unsuccessful upgrade</h3></div></div></div><p id="creating-a-rollback-boot-entry_managing-system-upgrades-with-snapshots">
				To revert the operating system upgrade back to the previous state of the system after an unsuccessful upgrade, use a rollback boot entry. This can also be helpful if you find a problem with the upgraded environment, for example, incompatibility with in-house software.
			</p><p>
				To prepare the rollback boot entry, use the snapshot environment.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a snapshot. For instructions for creating a snapshot, see <a class="link" href="#upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots" title="10.2. Upgrading to another version using Boom Boot Manager">Upgrading to another version using Boom boot manager</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Merge the snapshot with the original volume:
					</p><pre class="screen"># <span class="strong strong"><strong>lvconvert --merge rhel/<span class="emphasis"><em>root_snapshot_before_changes</em></span></strong></span>
  Logical volume rhel/root_snapshot_before_changes contains a filesystem in use.
  Delaying merge since snapshot is open.
  Merging of thin snapshot rhel/root_snapshot_before_changes will occur on next activation of rhel/root.</pre><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							After you merge the snapshot, you must continue with all the remaining steps in this procedure to prevent data loss.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Create a rollback boot entry for the merged snapshot:
					</p><pre class="screen"># <span class="strong strong"><strong>boom create --backup --title <span class="emphasis"><em>"RHEL Rollback"</em></span> --rootlv rhel/root</strong></span>
WARNING - Boom grub2 integration is disabled in '/boot/../etc/default/boom'
WARNING - Options for BootEntry(boot_id=1e1a9b4) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=1ccc554) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=4ea37b9) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=e22dd61) do not match OsProfile: marking read-only
Created entry with boot_id <span class="emphasis"><em>6c44638</em></span>:
  title <span class="emphasis"><em>RHEL Rollback</em></span>
  machine-id <span class="emphasis"><em>b1dcec73886b45218892b1a7bbfa0dee</em></span>
  version 4.18.0-513.24.1.el8_9.x86_64
  linux /vmlinuz-4.18.0-513.24.1.el8_9.x86_64.boom0
  initrd /initramfs-4.18.0-513.24.1.el8_9.x86_64.img.boom0
  options root=/dev/rhel/root ro rd.lvm.lv=rhel/root rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M</pre><p class="simpara">
						Ignore all WARNING messages, see <a class="link" href="https://issues.redhat.com/browse/RHEL-35983">RHEL-35983</a>.
					</p></li><li class="listitem"><p class="simpara">
						Reboot your machine to restore the operating system state:
					</p><pre class="screen"># <span class="strong strong"><strong>reboot</strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								After the system reboots, select the <span class="strong strong"><strong>RHEL Rollback</strong></span> boot entry from the GRUB screen.
							</li><li class="listitem"><p class="simpara">
								When the <code class="literal">root</code> logical volume is active, the system automatically starts the snapshot merge operation.
							</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
									When the merge operation starts, the snapshot volume is no longer available. After successfully booting the <span class="strong strong"><strong>RHEL Rollback</strong></span> boot entry, the <span class="strong strong"><strong>Root LV snapshot boot entry</strong></span> no longer works. Merging the snapshot logical volume destroys the Root LV snapshot and restores the prior state of the original volume.
								</p></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						After you complete the merge operation, remove the unused entries and restore the original boot entry:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Remove the unused Red Hat Enterprise Linux 9 boot entries from the <code class="literal">/boot</code> file system and rebuild the <code class="literal">grub.cfg</code> file for the changes to take effect:
							</p><pre class="screen"># <span class="strong strong"><strong>rm -f /boot/loader/entries/*.el9*</strong></span></pre><pre class="screen"># <span class="strong strong"><strong>rm -f /boot/*.el9*</strong></span></pre><pre class="screen"># <span class="strong strong"><strong>grub2-mkconfig -o /boot/grub2/grub.cfg</strong></span>
Generating grub configuration file ...
done</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						After a successful rollback to the system, delete the <code class="literal">boom</code> snapshot and rollback boot entries:
					</p><pre class="screen"># <span class="strong strong"><strong>boom list -o+title</strong></span>
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>1e1a9b4</em></span>) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>1ccc554</em></span>) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>4ea37b9</em></span>) do not match OsProfile: marking read-only
BootID  Version                      Name                     RootDevice                             Title
<span class="emphasis"><em>1e1a9b4</em></span> 4.18.0-513.5.1.el8_9.x86_64  Red Hat Enterprise Linux /dev/mapper/rhel-root                  Red Hat Enterprise Linux (4.18.0-513.5.1.el8_9.x86_64) 8.9 (Ootpa)
<span class="emphasis"><em>4ea37b9</em></span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/mapper/rhel-root                  Red Hat Enterprise Linux (4.18.0-513.24.1.el8_9.x86_64) 8.9 (Ootpa)
<span class="emphasis"><em>c919f89</em></span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/rhel/root_snapshot_before_changes Root LV snapshot before changes
<span class="emphasis"><em>6c44638</em></span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/rhel/root                         RHEL Rollback</pre><pre class="screen"># <span class="strong strong"><strong>boom delete <span class="emphasis"><em>c919f89</em></span></strong></span>
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>1e1a9b4</em></span>) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>1ccc554</em></span>) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>4ea37b9</em></span>) do not match OsProfile: marking read-only
Deleted 1 entry</pre><pre class="screen"># <span class="strong strong"><strong>boom delete <span class="emphasis"><em>6c44638</em></span></strong></span>
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>1e1a9b4</em></span>) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>1ccc554</em></span>) do not match OsProfile: marking read-only
WARNING - Options for BootEntry(boot_id=<span class="emphasis"><em>4ea37b9</em></span>) do not match OsProfile: marking read-only
Deleted 1 entry</pre><p class="simpara">
						Ignore the warnings. For details, see <a class="link" href="https://issues.redhat.com/browse/RHEL-35983">RHEL-35983</a>.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">boom(1)</code> man page on your system
					</li></ul></div></section></section><section class="chapter" id="configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA</h2></div></div></div><p>
			In an Non-volatile Memory Express™ (NVMe™) over RDMA (NVMe™/RDMA) setup, you configure an NVMe controller and an NVMe initiator.
		</p><p>
			As a system administrator, complete the following tasks to deploy the NVMe/RDMA setup:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<a class="link" href="#setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma" title="11.2. Setting up an NVMe/RDMA controller using configfs">Setting up an NVMe/RDMA controller using configfs</a>
				</li><li class="listitem">
					<a class="link" href="#setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma" title="11.3. Setting up the NVMe/RDMA controller using nvmetcli">Setting up the NVMe/RDMA controller using nvmetcli</a>
				</li><li class="listitem">
					<a class="link" href="#configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma" title="11.4. Configuring an NVMe/RDMA host">Configuring an NVMe/RDMA host</a>
				</li></ul></div><section class="section" id="overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma"><div class="titlepage"><div><div><h3 class="title">11.1. Overview of NVMe over fabric devices</h3></div></div></div><p class="_abstract _abstract">
				Non-volatile Memory Express™ (NVMe™) is an interface that allows host software utility to communicate with solid state drives.
			</p><p>
				Use the following types of fabric transport to configure NVMe over fabric devices:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">NVMe over Remote Direct Memory Access (NVMe/RDMA)</span></dt><dd>
							For information about how to configure NVMe™/RDMA, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices" title="Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA">Configuring NVMe over fabrics using NVMe/RDMA</a>.
						</dd><dt><span class="term">NVMe over Fibre Channel (NVMe/FC)</span></dt><dd>
							For information about how to configure NVMe™/FC, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices" title="Chapter 12. Configuring NVMe over fabrics using NVMe/FC">Configuring NVMe over fabrics using NVMe/FC</a>.
						</dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">NVMe over TCP (NVMe/TCP)</span></dt><dd>
							For information about how to configure NVMe/FC, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices" title="Chapter 13. Configuring NVMe over fabrics using NVMe/TCP">Configuring NVMe over fabrics using NVMe/TCP</a>.
						</dd></dl></div><p>
				When using NVMe over fabrics, the solid-state drive does not have to be local to your system; it can be configured remotely through a NVMe over fabrics devices.
			</p></section><section class="section" id="setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma"><div class="titlepage"><div><div><h3 class="title">11.2. Setting up an NVMe/RDMA controller using configfs</h3></div></div></div><p class="_abstract _abstract">
				Use this procedure to configure an Non-volatile Memory Express™ (NVMe™) over RDMA (NVMe™/RDMA) controller using <code class="literal">configfs</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Verify that you have a block device to assign to the <code class="literal">nvmet</code> subsystem.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal">nvmet-rdma</code> subsystem:
					</p><pre class="screen"># modprobe nvmet-rdma

# mkdir /sys/kernel/config/nvmet/subsystems/<span class="emphasis"><em>testnqn</em></span>

# cd /sys/kernel/config/nvmet/subsystems/<span class="emphasis"><em>testnqn</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>testnqn</em></span> with the subsystem name.
					</p></li><li class="listitem"><p class="simpara">
						Allow any host to connect to this controller:
					</p><pre class="screen"># echo 1 &gt; attr_allow_any_host</pre></li><li class="listitem"><p class="simpara">
						Configure a namespace:
					</p><pre class="screen"># mkdir namespaces/<span class="emphasis"><em>10</em></span>

# cd namespaces/<span class="emphasis"><em>10</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>10</em></span> with the namespace number
					</p></li><li class="listitem"><p class="simpara">
						Set a path to the NVMe device:
					</p><pre class="screen"># echo -n /dev/<span class="emphasis"><em>nvme0n1</em></span> &gt; device_path</pre></li><li class="listitem"><p class="simpara">
						Enable the namespace:
					</p><pre class="screen"># echo 1 &gt; enable</pre></li><li class="listitem"><p class="simpara">
						Create a directory with an NVMe port:
					</p><pre class="screen"># mkdir /sys/kernel/config/nvmet/ports/<span class="emphasis"><em>1</em></span>

# cd /sys/kernel/config/nvmet/ports/<span class="emphasis"><em>1</em></span></pre></li><li class="listitem"><p class="simpara">
						Display the IP address of <span class="emphasis"><em>mlx5_ib0</em></span>:
					</p><pre class="literallayout"># ip addr show mlx5_ib0

8: mlx5_ib0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 4092 qdisc mq state UP group default qlen 256
    link/infiniband 00:00:06:2f:fe:80:00:00:00:00:00:00:e4:1d:2d:03:00:e7:0f:f6 brd 00:ff:ff:ff:ff:12:40:1b:ff:ff:00:00:00:00:00:00:ff:ff:ff:ff
    inet 172.31.0.202/24 brd 172.31.0.255 scope global noprefixroute mlx5_ib0
       valid_lft forever preferred_lft forever
    inet6 fe80::e61d:2d03:e7:ff6/64 scope link noprefixroute
       valid_lft forever preferred_lft forever</pre></li><li class="listitem"><p class="simpara">
						Set the transport address for the controller:
					</p><pre class="screen"># echo -n 172.31.0.202 &gt; addr_traddr</pre></li><li class="listitem"><p class="simpara">
						Set RDMA as the transport type:
					</p><pre class="screen"># echo rdma &gt; addr_trtype

# echo 4420 &gt; addr_trsvcid</pre></li><li class="listitem"><p class="simpara">
						Set the address family for the port:
					</p><pre class="screen"># echo ipv4 &gt; addr_adrfam</pre></li><li class="listitem"><p class="simpara">
						Create a soft link:
					</p><pre class="literallayout"># ln -s /sys/kernel/config/nvmet/subsystems/<span class="emphasis"><em>testnqn</em></span>   /sys/kernel/config/nvmet/ports/1/subsystems/<span class="emphasis"><em>testnqn</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the NVMe controller is listening on the given port and ready for connection requests:
					</p><pre class="screen"># dmesg | grep "enabling port"
[ 1091.413648] nvmet_rdma: enabling port 1 (172.31.0.202:4420)</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvme(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma"><div class="titlepage"><div><div><h3 class="title">11.3. Setting up the NVMe/RDMA controller using nvmetcli</h3></div></div></div><p class="_abstract _abstract">
				Use the <code class="literal">nvmetcli</code> utility to edit, view, and start an Non-volatile Memory Express™ (NVMe™) controller. The <code class="literal">nvmetcli</code> utility provides a command line and an interactive shell option. Use this procedure to configure the NVMe™/RDMA controller by <code class="literal">nvmetcli</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Verify that you have a block device to assign to the <code class="literal">nvmet</code> subsystem.
					</li><li class="listitem">
						Execute the following <code class="literal">nvmetcli</code> operations as a root user.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nvmetcli</code> package:
					</p><pre class="screen"># dnf install nvmetcli</pre></li><li class="listitem"><p class="simpara">
						Download the <code class="literal">rdma.json</code> file:
					</p><pre class="literallayout"># wget http://git.infradead.org/users/hch/nvmetcli.git/blob_plain/0a6b088db2dc2e5de11e6f23f1e890e4b54fee64:/rdma.json</pre></li><li class="listitem">
						Edit the <code class="literal">rdma.json</code> file and change the <code class="literal">traddr</code> value to <code class="literal">172.31.0.202</code>.
					</li><li class="listitem"><p class="simpara">
						Setup the controller by loading the NVMe controller configuration file:
					</p><pre class="screen"># nvmetcli restore rdma.json</pre></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					If the NVMe controller configuration file name is not specified, the <code class="literal">nvmetcli</code> uses the <code class="literal">/etc/nvmet/config.json</code> file.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the NVMe controller is listening on the given port and ready for connection requests:
					</p><pre class="screen"># dmesg | tail -1
[ 4797.132647] nvmet_rdma: enabling port 2 (172.31.0.202:4420)</pre></li><li class="listitem"><p class="simpara">
						Optional: Clear the current NVMe controller:
					</p><pre class="screen"># nvmetcli clear</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvmetcli</code> and <code class="literal">nvme(1)</code> man pages on your system
					</li></ul></div></section><section class="section" id="configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma"><div class="titlepage"><div><div><h3 class="title">11.4. Configuring an NVMe/RDMA host</h3></div></div></div><p class="_abstract _abstract">
				Use this procedure to configure an Non-volatile Memory Express™ (NVMe™) over RDMA (NVMe™/RDMA) host using the NVMe management command line interface (<code class="literal">nvme-cli</code>) tool.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nvme-cli</code> tool:
					</p><pre class="screen"># dnf install nvme-cli</pre></li><li class="listitem"><p class="simpara">
						Load the <code class="literal">nvme-rdma</code> module if it is not loaded:
					</p><pre class="screen"># modprobe nvme-rdma</pre></li><li class="listitem"><p class="simpara">
						Discover available subsystems on the NVMe controller:
					</p><pre class="screen"># nvme discover -t rdma -a <span class="emphasis"><em>172.31.0.202</em></span> -s 4420

Discovery Log Number of Records 1, Generation counter 2
=====Discovery Log Entry 0======
trtype:  rdma
adrfam:  ipv4
subtype: nvme subsystem
treq:    not specified, sq flow control disable supported
portid:  1
trsvcid: 4420
subnqn:  testnqn
traddr:  <span class="emphasis"><em>172.31.0.202</em></span>
rdma_prtype: not specified
rdma_qptype: connected
rdma_cms:    rdma-cm
rdma_pkey: 0x0000</pre></li><li class="listitem"><p class="simpara">
						Connect to the discovered subsystems:
					</p><pre class="screen"># nvme connect -t rdma -n <span class="emphasis"><em>testnqn</em></span> -a <span class="emphasis"><em>172.31.0.202</em></span> -s <span class="emphasis"><em>4420</em></span>

# lsblk
NAME                         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda                            8:0    0 465.8G  0 disk
├─sda1                         8:1    0     1G  0 part /boot
└─sda2                         8:2    0 464.8G  0 part
  ├─rhel_rdma--virt--03-root 253:0    0    50G  0 lvm  /
  ├─rhel_rdma--virt--03-swap 253:1    0     4G  0 lvm  [SWAP]
  └─rhel_rdma--virt--03-home 253:2    0 410.8G  0 lvm  /home
nvme0n1

# cat /sys/class/nvme/nvme0/transport
rdma</pre><p class="simpara">
						Replace <span class="emphasis"><em>testnqn</em></span> with the NVMe subsystem name.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>172.31.0.202</em></span> with the controller IP address.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>4420</em></span> with the port number.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List the NVMe devices that are currently connected:
					</p><pre class="screen"># nvme list</pre></li><li class="listitem"><p class="simpara">
						Optional: Disconnect from the controller:
					</p><pre class="screen"># nvme disconnect -n <span class="emphasis"><em>testnqn</em></span>
NQN:testnqn disconnected 1 controller(s)

# lsblk
NAME                         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda                            8:0    0 465.8G  0 disk
├─sda1                         8:1    0     1G  0 part /boot
└─sda2                         8:2    0 464.8G  0 part
  ├─rhel_rdma--virt--03-root 253:0    0    50G  0 lvm  /
  ├─rhel_rdma--virt--03-swap 253:1    0     4G  0 lvm  [SWAP]
  └─rhel_rdma--virt--03-home 253:2    0 410.8G  0 lvm  /home</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvme(1)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://github.com/linux-nvme/nvme-cli">Nvme-cli Github repository</a>
					</li></ul></div></section><section class="section _additional-resources" id="next_steps"><div class="titlepage"><div><div><h3 class="title">11.5. Next steps</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#enabling-multipathing-on-nvme-devices_managing-storage-devices" title="Chapter 14. Enabling multipathing on NVMe devices">Enabling multipathing on NVMe devices</a>.
					</li></ul></div></section></section><section class="chapter" id="configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 12. Configuring NVMe over fabrics using NVMe/FC</h2></div></div></div><p>
			The Non-volatile Memory Express™ (NVMe™) over Fibre Channel (NVMe™/FC) transport is fully supported in host mode when used with certain Broadcom Emulex and Marvell Qlogic Fibre Channel adapters. As a system administrator, complete the tasks in the following sections to deploy the NVMe/FC setup:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<a class="link" href="#configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc" title="12.2. Configuring the NVMe host for Broadcom adapters">Configuring the NVMe host for Broadcom adapters</a>
				</li><li class="listitem">
					<a class="link" href="#configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc" title="12.3. Configuring the NVMe host for QLogic adapters">Configuring the NVMe host for QLogic adapters</a>
				</li></ul></div><section class="section" id="overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-fc"><div class="titlepage"><div><div><h3 class="title">12.1. Overview of NVMe over fabric devices</h3></div></div></div><p class="_abstract _abstract">
				Non-volatile Memory Express™ (NVMe™) is an interface that allows host software utility to communicate with solid state drives.
			</p><p>
				Use the following types of fabric transport to configure NVMe over fabric devices:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">NVMe over Remote Direct Memory Access (NVMe/RDMA)</span></dt><dd>
							For information about how to configure NVMe™/RDMA, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices" title="Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA">Configuring NVMe over fabrics using NVMe/RDMA</a>.
						</dd><dt><span class="term">NVMe over Fibre Channel (NVMe/FC)</span></dt><dd>
							For information about how to configure NVMe™/FC, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices" title="Chapter 12. Configuring NVMe over fabrics using NVMe/FC">Configuring NVMe over fabrics using NVMe/FC</a>.
						</dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">NVMe over TCP (NVMe/TCP)</span></dt><dd>
							For information about how to configure NVMe/FC, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices" title="Chapter 13. Configuring NVMe over fabrics using NVMe/TCP">Configuring NVMe over fabrics using NVMe/TCP</a>.
						</dd></dl></div><p>
				When using NVMe over fabrics, the solid-state drive does not have to be local to your system; it can be configured remotely through a NVMe over fabrics devices.
			</p></section><section class="section" id="configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc"><div class="titlepage"><div><div><h3 class="title">12.2. Configuring the NVMe host for Broadcom adapters</h3></div></div></div><p class="_abstract _abstract">
				Use this procedure to configure the Non-volatile Memory Express™ (NVMe™) host for Broadcom adapters client using the NVMe management command line interface (<code class="literal">nvme-cli</code>) utility.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nvme-cli</code> utility:
					</p><pre class="screen"># <span class="strong strong"><strong>dnf install nvme-cli</strong></span></pre><p class="simpara">
						This creates the <code class="literal">hostnqn</code> file in the <code class="literal">/etc/nvme/</code> directory. The <code class="literal">hostnqn</code> file identifies the NVMe host.
					</p></li><li class="listitem"><p class="simpara">
						Find the World Wide Node Name (WWNN) and World Wide Port Name (WWPN) identifiers of the local and remote ports:
					</p><pre class="literallayout"># <span class="strong strong"><strong>cat /sys/class/scsi_host/host*/nvme_info</strong></span>

NVME Host Enabled
XRI Dist lpfc0 Total 6144 IO 5894 ELS 250
NVME LPORT lpfc0 WWPN x10000090fae0b5f5 WWNN x20000090fae0b5f5 DID x010f00 ONLINE
NVME RPORT       WWPN x204700a098cbcac6 WWNN x204600a098cbcac6 DID x01050e TARGET DISCSRVC ONLINE

NVME Statistics
LS: Xmt 000000000e Cmpl 000000000e Abort 00000000
LS XMIT: Err 00000000  CMPL: xb 00000000 Err 00000000
Total FCP Cmpl 00000000000008ea Issue 00000000000008ec OutIO 0000000000000002
    abort 00000000 noxri 00000000 nondlp 00000000 qdepth 00000000 wqerr 00000000 err 00000000
FCP CMPL: xb 00000000 Err 00000000</pre><p class="simpara">
						Using these <code class="literal">host-traddr</code> and <code class="literal">traddr</code> values, find the subsystem NVMe Qualified Name (NQN):
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme discover --transport fc \ --traddr <span class="emphasis"><em>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6</em></span> \ --host-traddr <span class="emphasis"><em>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5</em></span></strong></span>

Discovery Log Number of Records 2, Generation counter 49530
=====Discovery Log Entry 0======
trtype:  fc
adrfam:  fibre-channel
subtype: nvme subsystem
treq:    not specified
portid:  0
trsvcid: none
subnqn:  nqn.1992-08.com.netapp:sn.e18bfca87d5e11e98c0800a098cbcac6:subsystem.st14_nvme_ss_1_1
traddr:  nn-0x204600a098cbcac6:pn-0x204700a098cbcac6</pre><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6</em></span> with the <code class="literal">traddr</code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5</em></span> with the <code class="literal">host-traddr</code>.
					</p></li><li class="listitem"><p class="simpara">
						Connect to the NVMe controller using the <code class="literal">nvme-cli</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme connect --transport fc \ --traddr <span class="emphasis"><em>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6</em></span> \ --host-traddr <span class="emphasis"><em>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5</em></span> \ -n <span class="emphasis"><em>nqn.1992-08.com.netapp:sn.e18bfca87d5e11e98c0800a098cbcac6:subsystem.st14_nvme_ss_1_1</em></span> \ -k <span class="emphasis"><em>5</em></span></strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If you see the <code class="literal">keep-alive timer (5 seconds) expired!</code> error when a connection time exceeds the default keep-alive timeout value, increase it using the <code class="literal">-k</code> option. For example, you can use, <code class="literal">-k 7</code>.
						</p></div></rh-alert><p class="simpara">
						Here,
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6</em></span> with the <code class="literal">traddr</code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5</em></span> with the <code class="literal">host-traddr</code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nqn.1992-08.com.netapp:sn.e18bfca87d5e11e98c0800a098cbcac6:subsystem.st14_nvme_ss_1_1</em></span> with the <code class="literal"><span class="emphasis"><em>subnqn</em></span></code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>5</em></span> with the keep-alive timeout value in seconds.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List the NVMe devices that are currently connected:
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme list</strong></span>
Node             SN                   Model                                    Namespace Usage                      Format           FW Rev
---------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------
/dev/nvme0n1     80BgLFM7xMJbAAAAAAAC NetApp ONTAP Controller                  1         107.37  GB / 107.37  GB      4 KiB +  0 B   FFFFFFFF


# <span class="strong strong"><strong>lsblk |grep nvme</strong></span>
nvme0n1                     259:0    0   100G  0 disk</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvme(1)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://github.com/linux-nvme/nvme-cli">Nvme-cli Github repository</a>
					</li></ul></div></section><section class="section" id="configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc"><div class="titlepage"><div><div><h3 class="title">12.3. Configuring the NVMe host for QLogic adapters</h3></div></div></div><p class="_abstract _abstract">
				Use this procedure to configure Non-volatile Memory Express™ (NVMe™) host for Qlogic adapters client using the NVMe management command line interface (<code class="literal">nvme-cli</code>) utility.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nvme-cli</code> utility:
					</p><pre class="screen"># <span class="strong strong"><strong>dnf install nvme-cli</strong></span></pre><p class="simpara">
						This creates the <code class="literal">hostnqn</code> file in the <code class="literal">/etc/nvme/</code> directory. The <code class="literal">hostnqn</code> file identifies the NVMe host.
					</p></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal">qla2xxx</code> module:
					</p><pre class="screen"># <span class="strong strong"><strong>modprobe -r qla2xxx</strong></span>
# <span class="strong strong"><strong>modprobe qla2xxx</strong></span></pre></li><li class="listitem"><p class="simpara">
						Find the World Wide Node Name (WWNN) and World Wide Port Name (WWPN) identifiers of the local and remote ports:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dmesg |grep traddr</strong></span>

[    6.139862] qla2xxx [0000:04:00.0]-ffff:0: register_localport: host-traddr=nn-0x20000024ff19bb62:pn-0x21000024ff19bb62 on portID:10700
[    6.241762] qla2xxx [0000:04:00.0]-2102:0: qla_nvme_register_remote: traddr=nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6 PortID:01050d</pre><p class="simpara">
						Using these <code class="literal">host-traddr</code> and <code class="literal">traddr</code> values, find the subsystem NVMe Qualified Name (NQN):
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme discover --transport fc \ --traddr <span class="emphasis"><em>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6</em></span> \ --host-traddr <span class="emphasis"><em>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62</em></span></strong></span>

Discovery Log Number of Records 2, Generation counter 49530
=====Discovery Log Entry 0======
trtype:  fc
adrfam:  fibre-channel
subtype: nvme subsystem
treq:    not specified
portid:  0
trsvcid: none
subnqn:  nqn.1992-08.com.netapp:sn.c9ecc9187b1111e98c0800a098cbcac6:subsystem.vs_nvme_multipath_1_subsystem_468
traddr:  nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6</pre><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6</em></span> with the <code class="literal">traddr</code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62</em></span> with the <code class="literal">host-traddr</code>.
					</p></li><li class="listitem"><p class="simpara">
						Connect to the NVMe controller using the <code class="literal">nvme-cli</code> tool:
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme connect --transport fc \ --traddr <span class="emphasis"><em>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6</em></span> \ --host-traddr <span class="emphasis"><em>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62</em></span> \ -n <span class="emphasis"><em>nqn.1992-08.com.netapp:sn.c9ecc9187b1111e98c0800a098cbcac6:subsystem.vs_nvme_multipath_1_subsystem_468</em></span>\ -k <span class="emphasis"><em>5</em></span></strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If you see the <code class="literal">keep-alive timer (5 seconds) expired!</code> error when a connection time exceeds the default keep-alive timeout value, increase it using the <code class="literal">-k</code> option. For example, you can use, <code class="literal">-k 7</code>.
						</p></div></rh-alert><p class="simpara">
						Here,
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6</em></span> with the <code class="literal">traddr</code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62</em></span> with the <code class="literal">host-traddr</code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>nqn.1992-08.com.netapp:sn.c9ecc9187b1111e98c0800a098cbcac6:subsystem.vs_nvme_multipath_1_subsystem_468</em></span> with the <code class="literal"><span class="emphasis"><em>subnqn</em></span></code>.
					</p><p class="simpara">
						Replace <span class="emphasis"><em>5</em></span> with the keep-live timeout value in seconds.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List the NVMe devices that are currently connected:
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme list</strong></span>
Node             SN                   Model                                    Namespace Usage                      Format           FW Rev
---------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------
/dev/nvme0n1     80BgLFM7xMJbAAAAAAAC NetApp ONTAP Controller                  1         107.37  GB / 107.37  GB      4 KiB +  0 B   FFFFFFFF

# <span class="strong strong"><strong>lsblk |grep nvme</strong></span>
nvme0n1                     259:0    0   100G  0 disk</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvme(1)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://github.com/linux-nvme/nvme-cli">Nvme-cli Github repository</a>
					</li></ul></div></section><section class="section _additional-resources" id="next_steps_2"><div class="titlepage"><div><div><h3 class="title">12.4. Next steps</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#enabling-multipathing-on-nvme-devices_managing-storage-devices" title="Chapter 14. Enabling multipathing on NVMe devices">Enabling multipathing on NVMe devices</a>.
					</li></ul></div></section></section><section class="chapter" id="configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 13. Configuring NVMe over fabrics using NVMe/TCP</h2></div></div></div><p>
			In an Non-volatile Memory Express™ (NVMe™) over TCP (NVMe/TCP) setup, the host mode is fully supported and the controller setup is not supported.
		</p><p>
			As a system administrator, complete the tasks in the following sections to deploy the NVMe/TCP setup:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<a class="link" href="#configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp" title="13.2. Configuring an NVMe/TCP host">Configuring an NVMe/TCP host</a>
				</li><li class="listitem">
					<a class="link" href="#connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp" title="13.3. Connecting the NVMe/TCP host to the NVMe/TCP controller">Connecting the NVMe/TCP host to the NVMe/TCP controller</a>
				</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				In Red Hat Enterprise Linux 9, the native NVMe multipathing is enabled by default. Enabling DM multipathing is not supported with NVMe/TCP.
			</p></div></rh-alert><section class="section" id="overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-tcp"><div class="titlepage"><div><div><h3 class="title">13.1. Overview of NVMe over fabric devices</h3></div></div></div><p class="_abstract _abstract">
				Non-volatile Memory Express™ (NVMe™) is an interface that allows host software utility to communicate with solid state drives.
			</p><p>
				Use the following types of fabric transport to configure NVMe over fabric devices:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">NVMe over Remote Direct Memory Access (NVMe/RDMA)</span></dt><dd>
							For information about how to configure NVMe™/RDMA, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices" title="Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA">Configuring NVMe over fabrics using NVMe/RDMA</a>.
						</dd><dt><span class="term">NVMe over Fibre Channel (NVMe/FC)</span></dt><dd>
							For information about how to configure NVMe™/FC, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices" title="Chapter 12. Configuring NVMe over fabrics using NVMe/FC">Configuring NVMe over fabrics using NVMe/FC</a>.
						</dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">NVMe over TCP (NVMe/TCP)</span></dt><dd>
							For information about how to configure NVMe/FC, see <a class="link" href="#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices" title="Chapter 13. Configuring NVMe over fabrics using NVMe/TCP">Configuring NVMe over fabrics using NVMe/TCP</a>.
						</dd></dl></div><p>
				When using NVMe over fabrics, the solid-state drive does not have to be local to your system; it can be configured remotely through a NVMe over fabrics devices.
			</p></section><section class="section" id="configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp"><div class="titlepage"><div><div><h3 class="title">13.2. Configuring an NVMe/TCP host</h3></div></div></div><p>
				Use the Non-volatile Memory Express™ (NVMe™) management command line interface (nvme-cli) tool to configure an NVMe/TCP host.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nvme-cli</code> tool:
					</p><pre class="literallayout"># dnf install nvme-cli</pre><p class="simpara">
						This tool creates the <code class="literal">hostnqn</code> file in the <code class="literal">/etc/nvme/</code> directory, which identifies the NVMe host.
					</p></li><li class="listitem"><p class="simpara">
						Find the nvme <code class="literal">hostid</code> and <code class="literal">hostnqn</code>:
					</p><pre class="literallayout"># cat /etc/nvme/hostnqn
<span class="emphasis"><em>nqn.2014-08.org.nvmexpress:uuid:8ae2b12c-3d28-4458-83e3-658e571ed4b8</em></span>

# cat /etc/nvme/hostid
<span class="emphasis"><em>09e2ce17-ccc9-412d-8dcf-2b0a1d581ee3</em></span></pre><p class="simpara">
						Use the <code class="literal">hostid</code> and <code class="literal">hostnqn</code> values to configure the NVMe/TCP controller.
					</p></li><li class="listitem"><p class="simpara">
						Check the status of the controller:
					</p><pre class="literallayout"># nmcli device show ens6
GENERAL.DEVICE:                         <span class="emphasis"><em>ens6</em></span>
GENERAL.TYPE:                           ethernet
GENERAL.HWADDR:                         52:57:02:12:02:02
GENERAL.MTU:                            1500
GENERAL.STATE:                          30 (disconnected)
GENERAL.CONNECTION:                     --
GENERAL.CON-PATH:                       --
WIRED-PROPERTIES.CARRIER:               on</pre></li><li class="listitem"><p class="simpara">
						Configure the host network for a newly installed Ethernet controller with a static IP address:
					</p><pre class="literallayout"># nmcli connection add con-name <span class="emphasis"><em>ens6</em></span> ifname <span class="emphasis"><em>ens6</em></span> type ethernet ip4 <span class="emphasis"><em>192.168.101.154/24</em></span> gw4 <span class="emphasis"><em>192.168.101.1</em></span></pre><p class="simpara">
						Here, replace <span class="emphasis"><em>192.168.101.154</em></span> with the host IP address.
					</p><pre class="literallayout"># nmcli connection mod <span class="emphasis"><em>ens6</em></span> ipv4.method manual
# nmcli connection up <span class="emphasis"><em>ens6</em></span></pre><p class="simpara">
						Since a new network is created to connect the NVMe/TCP host to the NVMe/TCP controller, execute this step on the controller too.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify if the newly created host network works correctly:
					</p><pre class="literallayout"># nmcli device show ens6
GENERAL.DEVICE:                         <span class="emphasis"><em>ens6</em></span>
GENERAL.TYPE:                           ethernet
GENERAL.HWADDR:                         52:57:02:12:02:02
GENERAL.MTU:                            1500
GENERAL.STATE:                          100 (connected)
GENERAL.CONNECTION:                     ens6
GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveConnection/5
WIRED-PROPERTIES.CARRIER:               on
IP4.ADDRESS[1]:                         <span class="emphasis"><em>192.168.101.154/24</em></span>
IP4.GATEWAY:                            192.168.101.1
IP4.ROUTE[1]:                           dst = 192.168.101.0/24, nh = 0.0.0.0, mt = 101
IP4.ROUTE[2]:                           dst = 192.168.1.1/32, nh = 0.0.0.0, mt = 101
IP4.ROUTE[3]:                           dst = 0.0.0.0/0, nh = 192.168.1.1, mt = 101
IP6.ADDRESS[1]:                         fe80::27ce:dde1:620:996c/64
IP6.GATEWAY:                            --
IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 101</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvme(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp"><div class="titlepage"><div><div><h3 class="title">13.3. Connecting the NVMe/TCP host to the NVMe/TCP controller</h3></div></div></div><p>
				Connect the NVMe™ over TCP (NVMe/TCP) host to the NVMe/TCP controller system to verify that the NVMe/TCP host can now access the namespace.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The NVMe/TCP controller (<code class="literal">nvmet-tcp</code>) module is not supported.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have configured an NVMe/TCP host. For more information, see <a class="link" href="#configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp" title="13.2. Configuring an NVMe/TCP host">Configuring an NVMe/TCP host</a>.
					</li><li class="listitem">
						You have configured an NVMe/TCP controller using external storage software and the network is configured on the controller. In this procedure, <span class="emphasis"><em>192.168.101.55</em></span> is the IP address of NVMe/TCP controller.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Load the <code class="literal">nvme-tcp</code> module if not already:
					</p><pre class="literallayout"># modprobe nvme-tcp</pre></li><li class="listitem"><p class="simpara">
						Discover the available subsystems on the NVMe controller:
					</p><pre class="literallayout"># nvme discover --transport=tcp --traddr=<span class="emphasis"><em>192.168.101.55</em></span> --host-traddr=<span class="emphasis"><em>192.168.101.154</em></span> --trsvcid=8009

Discovery Log Number of Records 2, Generation counter 7
=====Discovery Log Entry 0======
trtype:  tcp
adrfam:  ipv4
subtype: current discovery subsystem
treq:	not specified, sq flow control disable supported
portid:  2
trsvcid: 8009
subnqn:  nqn.2014-08.org.nvmexpress.discovery
traddr:  192.168.101.55
eflags:  not specified
sectype: none
=====Discovery Log Entry 1======
trtype:  tcp
adrfam:  ipv4
subtype: nvme subsystem
treq:	not specified, sq flow control disable supported
portid:  2
trsvcid: 8009
subnqn:  nqn.2014-08.org.nvmexpress:uuid:0c468c4d-a385-47e0-8299-6e95051277db
traddr:  192.168.101.55
eflags:  not specified
sectype: none</pre><p class="simpara">
						Here, <span class="emphasis"><em>192.168.101.55</em></span> is the NVMe/TCP controller IP address and <span class="emphasis"><em>192.168.101.154</em></span> is the NVMe/TCP host IP address.
					</p></li><li class="listitem"><p class="simpara">
						Configure the <code class="literal">/etc/nvme/discovery.conf</code> file to add the parameters used in the <code class="literal">nvme discover</code> command :
					</p><pre class="literallayout"># echo "--transport=tcp --traddr=<span class="emphasis"><em>192.168.101.55</em></span> --host-traddr=<span class="emphasis"><em>192.168.101.154</em></span> --trsvcid=8009" &gt;&gt; /etc/nvme/discovery.conf</pre></li><li class="listitem"><p class="simpara">
						Connect the NVMe/TCP host to the controller system:
					</p><pre class="literallayout"># nvme connect-all</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the NVMe/TCP host can access the namespace:
					</p><pre class="literallayout"># nvme list-subsys

nvme-subsys3 - NQN=<span class="emphasis"><em>nqn.2014-08.org.nvmexpress:uuid:0c468c4d-a385-47e0-8299-6e95051277db</em></span>
\
 +- nvme3 tcp traddr=<span class="emphasis"><em>192.168.101.55</em></span>,trsvcid=8009,host_traddr=<span class="emphasis"><em>192.168.101.154</em></span> live optimized

# nvme list
Node              	Generic           	SN               	Model                                	Namespace Usage                  	Format       	FW Rev
--------------------- --------------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------
/dev/nvme3n1      	/dev/ng3n1        	d93a63d394d043ab4b74 Linux                                    1          21.47  GB /  21.47  GB    512   B +  0 B   5.18.5-2</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">nvme(1)</code> man page on your system
					</li></ul></div></section></section><section class="chapter" id="enabling-multipathing-on-nvme-devices_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 14. Enabling multipathing on NVMe devices</h2></div></div></div><p>
			You can multipath Non-volatile Memory Express™ (NVMe™) devices that are connected to your system over a fabric transport, such as Fibre Channel (FC). You can select between multiple multipathing solutions.
		</p><section class="section" id="native-nvme-multipathing-and-dm-multipath_enabling-multipathing-on-nvme-devices"><div class="titlepage"><div><div><h3 class="title">14.1. Native NVMe multipathing and DM Multipath</h3></div></div></div><p class="_abstract _abstract">
				Non-volatile Memory Express™ (NVMe™) devices support a native multipathing functionality. When configuring multipathing on NVMe, you can select between the standard DM Multipath framework and the native NVMe multipathing.
			</p><p>
				Both DM Multipath and native NVMe multipathing support the Asymmetric Namespace Access (ANA) multipathing scheme of NVMe devices. ANA identifies optimized paths between the controller and the host, and improves performance.
			</p><p>
				When native NVMe multipathing is enabled, it applies globally to all NVMe devices. It can provide higher performance, but does not contain all of the functionality that DM Multipath provides. For example, native NVMe multipathing supports only the <code class="literal">numa</code> and <code class="literal">round-robin</code> path selection methods.
			</p><p>
				By default, NVMe multipathing is enabled in Red Hat Enterprise Linux 9 and is the recommended multipathing solution.
			</p></section><section class="section" id="proc_enabling-dm-multipath-on-nvme-devices_enabling-multipathing-on-nvme-devices"><div class="titlepage"><div><div><h3 class="title">14.2. Enabling DM Multipath on NVMe devices</h3></div></div></div><p>
				The default kernel setting for the <code class="literal">nvme_core.multipath</code> option is set to <code class="literal">Y</code>, which means that the native Non-volatile Memory Express™ (NVMe™) multipathing is enabled. You can enable DM Multipath on connected NVMe devices by disabling native NVMe multipathing.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The NVMe devices are connected to your system. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma">Overview of NVMe over fabric devices</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check if the native NVMe multipathing is enabled:
					</p><pre class="screen"># <span class="strong strong"><strong>cat /sys/module/nvme_core/parameters/multipath</strong></span></pre><p class="simpara">
						The command displays one of the following:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">N</code></span></dt><dd>
									Native NVMe multipathing is disabled.
								</dd><dt><span class="term"><code class="literal">Y</code></span></dt><dd>
									Native NVMe multipathing is enabled.
								</dd></dl></div></li><li class="listitem"><p class="simpara">
						If the native NVMe multipathing is enabled, disable it by using one of the following methods:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Using a kernel option:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Add the <code class="literal">nvme_core.multipath=N</code> option to the command line:
									</p><pre class="screen"># <span class="strong strong"><strong>grubby --update-kernel=ALL --args="nvme_core.multipath=N"</strong></span></pre></li><li class="listitem"><p class="simpara">
										On the 64-bit IBM Z architecture, update the boot menu:
									</p><pre class="screen"># <span class="strong strong"><strong>zipl</strong></span></pre></li><li class="listitem">
										Reboot the system.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Using a kernel module configuration file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Create the <code class="literal">/etc/modprobe.d/nvme_core.conf</code> configuration file with the following content:
									</p><pre class="screen"><span class="strong strong"><strong>options nvme_core multipath=N</strong></span></pre></li><li class="listitem"><p class="simpara">
										Back up the <code class="literal">initramfs</code> file:
									</p><pre class="literallayout"># <span class="strong strong"><strong>cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m%d-%H%M%S).img</strong></span></pre></li><li class="listitem"><p class="simpara">
										Rebuild the <code class="literal">initramfs</code>:
									</p><pre class="literallayout"># <span class="strong strong"><strong>cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m-%d-%H%M%S).img</strong></span>
# <span class="strong strong"><strong>dracut --force --verbose</strong></span></pre></li><li class="listitem">
										Reboot the system.
									</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Enable DM Multipath:
					</p><pre class="screen"># <span class="strong strong"><strong>systemctl enable --now multipathd.service</strong></span></pre></li><li class="listitem"><p class="simpara">
						Distribute I/O on all available paths. Add the following content in the <code class="literal">/etc/multipath.conf</code> file:
					</p><pre class="literallayout"><span class="strong strong"><strong>devices {</strong></span>
        <span class="strong strong"><strong>device {</strong></span>
                <span class="strong strong"><strong>vendor "NVME"</strong></span>
                <span class="strong strong"><strong>product ".*"</strong></span>
                <span class="strong strong"><strong>path_grouping_policy group_by_prio</strong></span>
        <span class="strong strong"><strong>}</strong></span>
<span class="strong strong"><strong>}</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The <code class="literal">/sys/class/nvme-subsystem/nvme-subsys0/iopolicy</code> configuration file has no effect on the I/O distribution when DM Multipath manages the NVMe devices.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal">multipathd</code> service to apply the configuration changes:
					</p><pre class="screen"># <span class="strong strong"><strong>multipath -r</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify if the native NVMe multipathing is disabled:
					</p><pre class="screen"># <span class="strong strong"><strong>cat /sys/module/nvme_core/parameters/multipath</strong></span>
N</pre></li><li class="listitem"><p class="simpara">
						Verify if DM multipath recognizes the nvme devices:
					</p><pre class="screen"># <span class="strong strong"><strong>multipath -l</strong></span>

eui.00007a8962ab241100a0980000d851c8 dm-6 NVME,NetApp E-Series
size=20G features='0' hwhandler='0' wp=rw
`-+- policy='service-time 0' prio=0 status=active
  |- 0:10:2:2 nvme0n2 259:3 active undef running
`-+- policy='service-time 0' prio=0 status=enabled
  |- 4:11:2:2 nvme4n2 259:28 active undef running
`-+- policy='service-time 0' prio=0 status=enabled
  |- 5:32778:2:2 nvme5n2 259:38 active undef running
`-+- policy='service-time 0' prio=0 status=enabled
  |- 6:32779:2:2 nvme6n2 259:44 active undef running</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel">Configuring kernel command-line parameters</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_device_mapper_multipath/configuring-dm-multipath_configuring-device-mapper-multipath">Configuring DM Multipath</a>
					</li></ul></div></section><section class="section" id="proc_enabling-native-nvme-multipathing_enabling-multipathing-on-nvme-devices"><div class="titlepage"><div><div><h3 class="title">14.3. Enabling native NVMe multipathing</h3></div></div></div><p>
				If native NVMe multipathing is disabled, you can enable it using the following solution.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The NVMe devices are connected to your system. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma">Overview of NVMe over fabric devices</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check if native NVMe multipathing is enabled in the kernel:
					</p><pre class="screen"># <span class="strong strong"><strong>cat /sys/module/nvme_core/parameters/multipath</strong></span></pre><p class="simpara">
						The command displays one of the following:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">N</code></span></dt><dd>
									Native NVMe multipathing is disabled.
								</dd><dt><span class="term"><code class="literal">Y</code></span></dt><dd>
									Native NVMe multipathing is enabled.
								</dd></dl></div></li><li class="listitem"><p class="simpara">
						If native NVMe multipathing is disabled, enable it by using one of the following methods:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Using a kernel option:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Remove the <code class="literal">nvme_core.multipath=N</code> option from the kernel command line:
									</p><pre class="screen"># <span class="strong strong"><strong>grubby --update-kernel=ALL --remove-args="nvme_core.multipath=N"</strong></span></pre></li><li class="listitem"><p class="simpara">
										On the 64-bit IBM Z architecture, update the boot menu:
									</p><pre class="screen"># <span class="strong strong"><strong>zipl</strong></span></pre></li><li class="listitem">
										Reboot the system.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Using a kernel module configuration file:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Remove the <code class="literal">/etc/modprobe.d/nvme_core.conf</code> configuration file:
									</p><pre class="screen"># <span class="strong strong"><strong>rm /etc/modprobe.d/nvme_core.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
										Back up the <code class="literal">initramfs</code> file:
									</p><pre class="literallayout"># <span class="strong strong"><strong>cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m-%d-%H%M%S).img</strong></span></pre></li><li class="listitem"><p class="simpara">
										Rebuild the <code class="literal">initramfs</code>:
									</p><pre class="screen"># <span class="strong strong"><strong>dracut --force --verbose</strong></span></pre></li><li class="listitem">
										Reboot the system.
									</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: On the running system, change the I/O policy on NVMe devices to distribute the I/O on all available paths:
					</p><pre class="screen"># <span class="strong strong"><strong>echo "round-robin" &gt; /sys/class/nvme-subsystem/nvme-subsys0/iopolicy</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional: Set the I/O policy persistently using <code class="literal">udev</code> rules. Create the <code class="literal">/etc/udev/rules.d/71-nvme-io-policy.rules</code> file with the following content:
					</p><pre class="literallayout"><span class="strong strong"><strong>ACTION=="add|change", SUBSYSTEM=="nvme-subsystem", ATTR{iopolicy}="round-robin"</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify if your system recognizes the NVMe devices. The following example assumes you have a connected NVMe over fabrics storage subsystem with two NVMe namespaces:
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme list</strong></span>

Node             SN                   Model                                    Namespace Usage                      Format           FW Rev
---------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------
/dev/nvme0n1     a34c4f3a0d6f5cec     Linux                                    1         250.06  GB / 250.06  GB    512   B +  0 B   4.18.0-2
/dev/nvme0n2     a34c4f3a0d6f5cec     Linux                                    2         250.06  GB / 250.06  GB    512   B +  0 B   4.18.0-2</pre></li><li class="listitem"><p class="simpara">
						List all connected NVMe subsystems:
					</p><pre class="literallayout"># <span class="strong strong"><strong>nvme list-subsys</strong></span>

nvme-subsys0 - NQN=testnqn
\
 +- nvme0 fc traddr=nn-0x20000090fadd597a:pn-0x10000090fadd597a host_traddr=nn-0x20000090fac7e1dd:pn-0x10000090fac7e1dd live
 +- nvme1 fc traddr=nn-0x20000090fadd5979:pn-0x10000090fadd5979 host_traddr=nn-0x20000090fac7e1dd:pn-0x10000090fac7e1dd live
 +- nvme2 fc traddr=nn-0x20000090fadd5979:pn-0x10000090fadd5979 host_traddr=nn-0x20000090fac7e1de:pn-0x10000090fac7e1de live
 +- nvme3 fc traddr=nn-0x20000090fadd597a:pn-0x10000090fadd597a host_traddr=nn-0x20000090fac7e1de:pn-0x10000090fac7e1de live</pre><p class="simpara">
						Check the active transport type. For example, <code class="literal">nvme0 fc</code> indicates that the device is connected over the Fibre Channel transport, and <code class="literal">nvme tcp</code> indicates that the device is connected over TCP.
					</p></li><li class="listitem"><p class="simpara">
						If you edited the kernel options, verify if native NVMe multipathing is enabled on the kernel command line:
					</p><pre class="screen"># <span class="strong strong"><strong>cat /proc/cmdline</strong></span>

BOOT_IMAGE=[...] nvme_core.multipath=Y</pre></li><li class="listitem"><p class="simpara">
						If you changed the I/O policy, verify if <code class="literal">round-robin</code> is the active I/O policy on NVMe devices:
					</p><pre class="screen"># <span class="strong strong"><strong>cat /sys/class/nvme-subsystem/nvme-subsys0/iopolicy</strong></span>

round-robin</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel">Configuring kernel command-line parameters</a>
					</li></ul></div></section></section><section class="chapter" id="setting-up-a-remote-diskless-system_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 15. Setting up a remote diskless system</h2></div></div></div><p>
			In a network environment, you can setup multiple clients with the identical configuration by deploying a remote diskless system. By using current Red Hat Enterprise Linux server version, you can save the cost of hard drives for these clients as well as configure the gateway on a separate server.
		</p><p>
			The following diagram describes the connection of a diskless client with the server through Dynamic Host Configuration Protocol (DHCP) and Trivial File Transfer Protocol (TFTP) services.
		</p><div class="figure" id="remote-diskless-system"><p class="title"><strong>Figure 15.1. Remote diskless system settings diagram</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/0abd6222baab2b55916c9e4126a9579b/remote-diskless-system-schema.png" alt="Remote diskless system settings diagram"></div></div></div><section class="section" id="preparing-environments-for-the-remote-diskless-system_setting-up-a-remote-diskless-system"><div class="titlepage"><div><div><h3 class="title">15.1. Preparing environments for the remote diskless system</h3></div></div></div><p>
				Prepare your environment to be able to continue with remote diskless system implementation. The remote diskless system booting requires a Trivial File Transfer Protocol (TFTP) service (provided by <code class="literal">tftp-server</code>) and a Dynamic Host Configuration Protocol (DHCP) service (provided by <code class="literal">dhcp</code>). The system uses the <code class="literal">tftp</code> service to retrieve the kernel image and the initial RAM disk, <code class="literal">initrd</code>, over the network, through the Preboot Execution Environment (PXE) loader.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					To ensure correct functionality of the remote diskless system in your environment, configure services in the following order:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							<code class="literal">tftp</code> service for diskless clients
						</li><li class="listitem">
							the DHCP server
						</li><li class="listitem">
							the Network File System (NFS)
						</li><li class="listitem">
							the exported file system.
						</li></ol></div></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have set up your network connection.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">dracut-network</code> package:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install dracut-network</strong></span></pre></li><li class="listitem"><p class="simpara">
						Add the following line to the <code class="literal">/etc/dracut.conf.d/network.conf</code> file:
					</p><pre class="literallayout">add_dracutmodules+=" nfs "</pre></li></ol></div></section><section class="section" id="configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system"><div class="titlepage"><div><div><h3 class="title">15.2. Configuring a TFTP service for diskless clients</h3></div></div></div><p>
				For the remote diskless system to function correctly in your environment, you need to first configure a Trivial File Transfer Protocol (TFTP) service for diskless clients.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					This configuration does not boot over the Unified Extensible Firmware Interface (UEFI). For UEFI based installation, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/preparing-for-a-network-install_rhel-installer#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install">Configuring a TFTP server for UEFI-based clients</a>.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the following packages:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">tftp-server</code>
							</li><li class="listitem">
								<code class="literal">syslinux</code>
							</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enable the <code class="literal">tftp</code> service:
					</p><pre class="literallayout"># systemctl enable --now tftp</pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">pxelinux</code> directory inside the <code class="literal">tftp</code> root directory:
					</p><pre class="literallayout"># mkdir -p /var/lib/tftpboot/pxelinux/</pre></li><li class="listitem"><p class="simpara">
						Copy the <code class="literal">/usr/share/syslinux/pxelinux.0</code> file to the <code class="literal">/var/lib/tftpboot/pxelinux/</code> directory:
					</p><pre class="literallayout"># cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/pxelinux/</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								You can find the tftp root directory (<code class="literal">chroot</code>) in the <code class="literal">/var/lib/tftpboot</code> directory.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Copy <code class="literal">/usr/share/syslinux/ldlinux.c32</code> to <code class="literal">/var/lib/tftpboot/pxelinux/</code>:
					</p><pre class="literallayout"># cp /usr/share/syslinux/ldlinux.c32 /var/lib/tftpboot/pxelinux/</pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">pxelinux.cfg</code> directory inside the <code class="literal">tftp</code> root directory:
					</p><pre class="literallayout"># mkdir -p /var/lib/tftpboot/pxelinux/pxelinux.cfg/</pre><p class="simpara">
						This configuration does not boot over the Unified Extensible Firmware Interface (UEFI). To perform the installation for UEFI, follow the procedure in <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/preparing-for-a-network-install_rhel-installer#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install">Configuring a TFTP server for UEFI-based clients</a>.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check status of service <code class="literal">tftp</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl status tftp</strong></span>
...
Active: active (running)
...</pre></li></ul></div></section><section class="section" id="configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system"><div class="titlepage"><div><div><h3 class="title">15.3. Configuring a DHCP server for diskless clients</h3></div></div></div><p>
				The remote diskless system requires several pre–installed services to enable correct functionality. First, you need to install the Trivial File Transfer Protocol (TFTP) service, and then configure the Dynamic Host Configuration Protocol (DHCP) server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the following package:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">dhcp-server</code>
							</li></ul></div></li><li class="listitem">
						You have configured the <code class="literal">tftp</code> service for diskless clients. See section <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/setting-up-a-remote-diskless-system_managing-storage-devices#configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system">Configuring a TFTP service for diskless clients</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add the configuration to the <code class="literal">/etc/dhcp/dhcpd.conf</code> file to setup a DHCP server and enable Preboot Execution Environment (PXE) for booting:
					</p><pre class="literallayout">option space pxelinux;
option pxelinux.magic code 208 = string;
option pxelinux.configfile code 209 = text;
option pxelinux.pathprefix code 210 = text;
option pxelinux.reboottime code 211 = unsigned integer 32;
option architecture-type code 93 = unsigned integer 16;

subnet 192.168.205.0 netmask 255.255.255.0 {
  option routers 192.168.205.1;
  range 192.168.205.10 192.168.205.25;

  class "pxeclients" {
    match if substring (option vendor-class-identifier, 0, 9) = "PXEClient";
    next-server 192.168.205.1;

    if option architecture-type = 00:07 {
      filename "BOOTX64.efi";
      } else {
      filename "pxelinux/pxelinux.0";
    }
  }
}</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Your DHCP configuration might be different depending on your environment, like setting lease time or fixed address. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services/providing-dhcp-services_networking-infrastructure-services">Providing DHCP services</a>.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									While using <code class="literal">libvirt</code> virtual machine as a diskless client, the <code class="literal">libvirt</code> daemon provides the DHCP service, and the standalone DHCP server is not used. In this situation, network booting must be enabled with the <code class="literal">bootp file=&lt;filename&gt;</code> option in the <code class="literal">libvirt</code> network configuration, <code class="literal">virsh net-edit</code>.
								</p></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						Enable <code class="literal">dhcpd.service</code>:
					</p><pre class="literallayout"># systemctl enable --now dhcpd.service</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check the status of service <code class="literal">dhcpd.service</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl status dhcpd.service</strong></span>
...
Active: active (running)
...</pre></li></ul></div></section><section class="section" id="configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system"><div class="titlepage"><div><div><h3 class="title">15.4. Configuring an exported file system for diskless clients</h3></div></div></div><p>
				As a part of configuring a remote diskless system in your environment, you must configure an exported file system for diskless clients.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have configured the <code class="literal">tftp</code> service for diskless clients. See section <a class="link" href="#configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system" title="15.2. Configuring a TFTP service for diskless clients">Configuring a TFTP service for diskless clients</a>.
					</li><li class="listitem">
						You have configured the Dynamic Host Configuration Protocol (DHCP) server. See section <a class="link" href="#configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system" title="15.3. Configuring a DHCP server for diskless clients">Configuring a DHCP server for diskless clients</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure the Network File System (NFS) server to export the root directory by adding it to the <code class="literal">/etc/exports</code> directory. For the complete set of instructions see
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_using_network_file_services/deploying-an-nfs-server_configuring-and-using-network-file-services">Deploying an NFS server</a>
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Install a complete version of Red Hat Enterprise Linux to the root directory to accommodate completely diskless clients. To do that you can either install a new base system or clone an existing installation.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Install Red Hat Enterprise Linux to the exported location by replacing exported-root-directory with the path to the exported file system:
							</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install @Base kernel dracut-network nfs-utils --installroot=<span class="emphasis"><em>exported-root-directory</em></span> --releasever=/</strong></span></pre><p class="simpara">
								By setting the <code class="literal">releasever</code> option to <code class="literal">/</code>, releasever is detected from the host (<code class="literal">/</code>) system.
							</p></li><li class="listitem"><p class="simpara">
								Use the <code class="literal">rsync</code> utility to synchronize with a running system:
							</p><pre class="literallayout"># <span class="strong strong"><strong>rsync -a -e ssh --exclude='/proc/' --exclude='/sys/' <span class="emphasis"><em>example.com</em></span>:/ <span class="emphasis"><em>exported-root-directory</em></span></strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Replace <span class="emphasis"><em>example.com</em></span> with the hostname of the running system with which to synchronize via the <code class="literal">rsync</code> utility.
									</li><li class="listitem"><p class="simpara">
										Replace <span class="emphasis"><em>exported-root-directory</em></span> with the path to the exported file system.
									</p><p class="simpara">
										Note, that for this option you must have a separate existing running system, which you will clone to the server by the command above.
									</p></li></ul></div></li></ul></div></li></ol></div><p>
				You need to fully configure the file system, that is ready for export, before you can use it with diskless clients. Follow the procedure below to complete the configuration.
			</p><div class="orderedlist"><p class="title"><strong>Configuring a File System</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Copy the diskless client supported kernel (<code class="literal">vmlinuz-_kernel-version_pass:attributes</code>) to the <code class="literal">tftp</code> boot directory:
					</p><pre class="literallayout"># <span class="strong strong"><strong>cp /<span class="emphasis"><em>exported-root-directory</em></span>/boot/vmlinuz-kernel-version /var/lib/tftpboot/pxelinux/</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">initramfs-<span class="emphasis"><em>kernel-version</em></span>.img</code> file locally and move it to the exported root directory with NFS support:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dracut --add nfs initramfs-kernel-version.img kernel-version</strong></span></pre><p class="simpara">
						For example:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dracut --add nfs <span class="emphasis"><em>/exports/root/boot/initramfs-5.14.0-202.el9.x86_64.img 5.14.0-202.el9.x86_64</em></span></strong></span></pre><p class="simpara">
						Example for creating initrd, using current running kernel version, and overwriting existing image:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dracut -f --add nfs "boot/initramfs-$(uname -r).img" "$(uname -r)"</strong></span></pre></li><li class="listitem"><p class="simpara">
						Change the file permissions for <code class="literal">initrd</code> to <code class="literal">0644</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>chmod 0644 /<span class="emphasis"><em>exported-root-directory</em></span>/boot/initramfs-<span class="emphasis"><em>kernel-version</em></span>.img</strong></span></pre><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							If you do not change the <code class="literal">initrd</code> file permissions, the <code class="literal">pxelinux.0</code> boot loader fails with a "file not found" error.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Copy the resulting <code class="literal">initramfs-<span class="emphasis"><em>kernel-version</em></span>.img</code> file into the <code class="literal">tftp</code> boot directory:
					</p><pre class="literallayout"># <span class="strong strong"><strong>cp /<span class="emphasis"><em>exported-root-directory</em></span>/boot/initramfs-<span class="emphasis"><em>kernel-version</em></span>.img /var/lib/tftpboot/pxelinux/</strong></span></pre></li><li class="listitem"><p class="simpara">
						Add the following configuration in the <code class="literal">/var/lib/tftpboot/pxelinux/pxelinux.cfg/default</code> file to edit the default boot configuration for using the <code class="literal">initrd</code> and the kernel:
					</p><pre class="literallayout">default rhel9

label rhel9
  kernel vmlinuz-<span class="emphasis"><em>kernel-version</em></span>
  append initrd=initramfs-<span class="emphasis"><em>kernel-version</em></span>.img root=nfs:_server-ip_:/<span class="emphasis"><em>exported-root-directory</em></span> rw</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								This configuration instructs the diskless client root to mount the exported file system (<code class="literal">/exported-root-directory</code>) in a read/write format.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: Mount the file system in a <span class="emphasis"><em>read-only</em></span> format by editing the <code class="literal">/var/lib/tftpboot/pxelinux/pxelinux.cfg/default</code> file with the following configuration:
					</p><pre class="literallayout">default rhel9

label rhel9
  kernel vmlinuz-<span class="emphasis"><em>kernel-version</em></span>
  append initrd=initramfs-<span class="emphasis"><em>kernel-version</em></span>.img root=nfs:<span class="emphasis"><em>server-ip</em></span>:/<span class="emphasis"><em>exported-root-directory</em></span> ro</pre></li><li class="listitem"><p class="simpara">
						Restart the NFS server:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart nfs-server.service</strong></span></pre></li></ol></div><p>
				You can now export the NFS share to diskless clients. These clients can boot over the network via Preboot Execution Environment (PXE).
			</p></section><section class="section" id="re-configuring-a-remote-diskless-system_setting-up-a-remote-diskless-system"><div class="titlepage"><div><div><h3 class="title">15.5. Re-configuring a remote diskless system</h3></div></div></div><p>
				If you want to install package updates, service restart, or debug the issues, you can reconfigure the system. The steps below show how to change the password for a user, how to install software on a system, describe how to split a system into a <span class="strong strong"><strong>/usr</strong></span> that is in read-only mode and a <span class="strong strong"><strong>/var</strong></span> that is in read-write mode.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have enabled the <code class="literal">no_root_squash</code> option in the exported file system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To change the user password, follow the steps below:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Change the command line to <span class="emphasis"><em>/exported/root/directory</em></span>:
							</p><pre class="literallayout"># chroot <span class="emphasis"><em>/exported/root/directory</em></span> /bin/bash</pre></li><li class="listitem"><p class="simpara">
								Change the password for the user you want:
							</p><pre class="literallayout"># passwd <span class="emphasis"><em>&lt;username&gt;</em></span></pre><p class="simpara">
								Replace the <span class="emphasis"><em>&lt;username&gt;</em></span> with a real user to whom you want to change the password.
							</p></li><li class="listitem">
								Exit the command line.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Install software on a remote diskless system:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install <span class="emphasis"><em>&lt;package&gt;</em></span> --installroot=<span class="emphasis"><em>/exported/root/directory</em></span> --releasever=/ --config /etc/dnf/dnf.conf --setopt=reposdir=/etc/yum.repos.d/</strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em>&lt;package&gt;</em></span> with the actual package you want to install.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Configure two separate exports to split a remote diskless system into a <span class="strong strong"><strong>/usr</strong></span> and a <span class="strong strong"><strong>/var</strong></span>. See
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_using_network_file_services/deploying-an-nfs-server_configuring-and-using-network-file-services">Deploying an NFS server</a>
							</li></ul></div></li></ol></div></section><section class="section" id="troubleshooting-common-issues-with-loading-a-remote-diskless-system_setting-up-a-remote-diskless-system"><div class="titlepage"><div><div><h3 class="title">15.6. Troubleshooting common issues with loading a remote diskless system</h3></div></div></div><p>
				Based on the earlier configuration, some issues can occur while loading the remote diskless system. Following are some examples of the most common issues and ways to troubleshoot them on a Red Hat Enterprise Linux server.
			</p><div class="example" id="idm140664179208320"><p class="title"><strong>Example 15.1. The client does not get an IP address</strong></p><div class="example-contents"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Check if the Dynamic Host Configuration Protocol (DHCP) service is enabled on the server.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									Check if the <code class="literal">dhcp.service</code> is running:
								</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl status dhcpd.service</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal">dhcp.service</code> is inactive, you must enable and start it:
								</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable dhcpd.service</strong></span>
# <span class="strong strong"><strong>systemctl start dhcpd.service</strong></span></pre></li><li class="listitem">
									Reboot the diskless client.
								</li><li class="listitem">
									Check the DHCP configuration file <code class="literal">/etc/dhcp/dhcpd.conf</code>. For details, see <a class="link" href="#configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system" title="15.3. Configuring a DHCP server for diskless clients">Configuring a DHCP server for diskless clients</a>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Check if the Firewall ports are opened.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									Check if the <code class="literal">dhcp.service</code> is listed in active services:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span>
# <span class="strong strong"><strong>firewall-cmd --info-zone=public</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal">dhcp.service</code> is not listed in active services, add it to the list:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --add-service=dhcp --permanent</strong></span></pre></li><li class="listitem"><p class="simpara">
									Check if the <code class="literal">nfs.service</code> is listed in active services:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span>
# <span class="strong strong"><strong>firewall-cmd --info-zone=public</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal">nfs.service</code> is not listed in active services, add it to the list:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --add-service=nfs --permanent</strong></span></pre></li></ul></div></li></ul></div></div></div><div class="example" id="idm140664217294960"><p class="title"><strong>Example 15.2. The file is not available during the booting a remote diskless system</strong></p><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Check if the file is in the <code class="literal">/var/lib/tftpboot/</code> directory.
						</li><li class="listitem"><p class="simpara">
							If the file is in the directory, check the permission:
						</p><pre class="literallayout"># <span class="strong strong"><strong>chmod 644 pxelinux.0</strong></span></pre></li><li class="listitem">
							Check if the Firewall ports are opened.
						</li></ol></div></div></div><div class="example" id="idm140664217288304"><p class="title"><strong>Example 15.3. System boot failed after loading <code class="literal">kernel</code>/<code class="literal">initrd</code></strong></p><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check if the NFS service is enabled on a server.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Check if <code class="literal">nfs.service</code> is running:
								</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl status nfs.service</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal">nfs.service</code> is inactive, you must start and enable it:
								</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl start nfs.service</strong></span>
# <span class="strong strong"><strong>systemctl enable nfs.service</strong></span></pre></li></ol></div></li><li class="listitem">
							Check if the parameters are correct in the <code class="literal">/var/lib/tftpboot/pxelinux.cfg/</code> directory. For details, see <a class="link" href="#configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system" title="15.4. Configuring an exported file system for diskless clients">Configuring an exported file system for diskless clients</a>.
						</li><li class="listitem">
							Check if the Firewall ports are opened.
						</li></ol></div></div></div></section></section><section class="chapter" id="getting-started-with-swap_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 16. Getting started with swap</h2></div></div></div><p>
			Use the swap space to provide temporary storage for inactive processes and data, and prevent out-of-memory errors when physical memory is full. The swap space acts as an extension to the physical memory and allows the system to continue running smoothly even when physical memory is exhausted. Note that using swap space can slow down system performance, so optimizing the use of physical memory, before relying on swap space, can be more favorable.
		</p><section class="section" id="overview-of-swap-space_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.1. Overview of swap space</h3></div></div></div><p class="_abstract _abstract">
				<span class="emphasis"><em>Swap space</em></span> in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM.
			</p><p>
				Swap space is located on hard drives, which have a slower access time than physical memory. Swap space can be a dedicated swap partition (recommended), a swap file, or a combination of swap partitions and swap files.
			</p><p>
				In years past, the recommended amount of swap space increased linearly with the amount of RAM in the system. However, modern systems often include hundreds of gigabytes of RAM. As a consequence, recommended swap space is considered a function of system memory workload, not system memory.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Adding swap space</span></dt><dd><p class="simpara">
							The following are the different ways to add a swap space:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap">Extending swap on an LVM2 logical volume</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap">Creating an LVM2 logical volume for swap</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#creating-a-swap-file_getting-started-with-swap">Creating a swap file</a>
								</li><li class="listitem"><p class="simpara">
									<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_creating-a-partition-with-parted_getting-started-with-partitions">Creating a partition with parted</a>
								</p><p class="simpara">
									For example, you may upgrade the amount of RAM in your system from 1 GB to 2 GB, but there is only 2 GB of swap space. It might be advantageous to increase the amount of swap space to 4 GB if you perform memory-intense operations or run applications that require a large amount of memory.
								</p></li></ul></div></dd><dt><span class="term">Removing swap space</span></dt><dd><p class="simpara">
							The following are the different ways to remove a swap space:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap">Reducing swap on an LVM2 logical volume</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap">Removing an LVM2 logical volume for swap</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#removing-a-swap-file_getting-started-with-swap">Removing a swap file</a>
								</li><li class="listitem"><p class="simpara">
									<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_removing-a-partition-with-parted_getting-started-with-partitions">Removing a partition with parted</a>
								</p><p class="simpara">
									For example, you have downgraded the amount of RAM in your system from 1 GB to 512 MB, but there is 2 GB of swap space still assigned. It might be advantageous to reduce the amount of swap space to 1 GB, since the larger 2 GB could be wasting disk space.
								</p></li></ul></div></dd></dl></div></section><section class="section" id="recommended-system-swap-space_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.2. Recommended system swap space</h3></div></div></div><p class="_abstract _abstract">
				The recommended size of a swap partition depends on the amount of RAM in your system and whether you want sufficient memory for your system to hibernate. The recommended swap partition size is set automatically during installation. To allow for hibernation, however, you need to edit the swap space in the custom partitioning stage.
			</p><p>
				The following recommendations are especially important on systems with low memory, such as 1 GB or less. Failure to allocate sufficient swap space on these systems can cause issues, such as instability or even render the installed system unbootable.
			</p><rh-table id="idm140664181717664"><table class="lt-4-cols lt-7-rows"><caption>Table 16.1. Recommended swap space</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140664179542080" scope="col">Amount of RAM in the system</th><th align="left" valign="top" id="idm140664179540976" scope="col">Recommended swap space</th><th align="left" valign="top" id="idm140664179539888" scope="col">Recommended swap space if allowing for hibernation</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140664179542080"> <p>
								⩽ 2 GB
							</p>
							 </td><td align="left" valign="top" headers="idm140664179540976"> <p>
								2 times the amount of RAM
							</p>
							 </td><td align="left" valign="top" headers="idm140664179539888"> <p>
								3 times the amount of RAM
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664179542080"> <p>
								&gt; 2 GB – 8 GB
							</p>
							 </td><td align="left" valign="top" headers="idm140664179540976"> <p>
								Equal to the amount of RAM
							</p>
							 </td><td align="left" valign="top" headers="idm140664179539888"> <p>
								2 times the amount of RAM
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664179542080"> <p>
								&gt; 8 GB – 64 GB
							</p>
							 </td><td align="left" valign="top" headers="idm140664179540976"> <p>
								At least 4 GB
							</p>
							 </td><td align="left" valign="top" headers="idm140664179539888"> <p>
								1.5 times the amount of RAM
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664179542080"> <p>
								&gt; 64 GB
							</p>
							 </td><td align="left" valign="top" headers="idm140664179540976"> <p>
								At least 4 GB
							</p>
							 </td><td align="left" valign="top" headers="idm140664179539888"> <p>
								Hibernation not recommended
							</p>
							 </td></tr></tbody></table></rh-table><p>
				For border values such as 2 GB, 8 GB, or 64 GB of system RAM, choose swap size based on your needs or preference. If your system resources allow for it, increasing the swap space can lead to better performance.
			</p><p>
				Note that distributing swap space over multiple storage devices also improves swap space performance, particularly on systems with fast drives, controllers, and interfaces.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					File systems and LVM2 volumes assigned as swap space <span class="emphasis"><em>should not</em></span> be in use when being modified. Any attempts to modify swap fail if a system process or the kernel is using swap space. Use the <code class="literal">free</code> and <code class="literal">cat /proc/swaps</code> commands to verify how much and where swap is in use.
				</p><p>
					Resizing swap space requires temporarily removing it from the system. This can be problematic if running applications rely on the additional swap space and might run into low-memory situations. Preferably, perform swap resizing from rescue mode, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer/kickstart-and-advanced-boot-options_boot-options-for-rhel-installer#debug-boot-options_kickstart-and-advanced-boot-options">Debug boot options</a>. When prompted to mount the file system, select <span class="guibutton">Skip</span>.
				</p></div></rh-alert></section><section class="section" id="creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.3. Creating an LVM2 logical volume for swap</h3></div></div></div><p class="_abstract _abstract">
				You can create an LVM2 logical volume for swap. Assuming <span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span> is the swap volume you want to add.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have enough disk space.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the LVM2 logical volume of size <span class="emphasis"><em>2 GB</em></span>:
					</p><pre class="screen"># lvcreate <span class="emphasis"><em>VolGroup00</em></span> -n <span class="emphasis"><em>LogVol02</em></span> -L <span class="emphasis"><em>2G</em></span></pre></li><li class="listitem"><p class="simpara">
						Format the new swap space:
					</p><pre class="screen"># mkswap <span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span></pre></li><li class="listitem"><p class="simpara">
						Add the following entry to the <code class="literal">/etc/fstab</code> file:
					</p><pre class="screen"><span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span> none swap defaults 0 0</pre></li><li class="listitem"><p class="simpara">
						Regenerate mount units so that your system registers the new configuration:
					</p><pre class="screen"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Activate swap on the logical volume:
					</p><pre class="screen"># swapon -v <span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To test if the swap logical volume was successfully created and activated, inspect active swap space by using the following command:
					</p><pre class="screen"># cat /proc/swaps
               total        used        free      shared  buff/cache   available
Mem:            30Gi       1.2Gi        28Gi        12Mi       994Mi        28Gi
Swap:           22Gi          0B        22Gi</pre><pre class="screen"># free -h
               total        used        free      shared  buff/cache   available
Mem:            30Gi       1.2Gi        28Gi        12Mi       995Mi        28Gi
Swap:           17Gi          0B        17Gi</pre></li></ul></div></section><section class="section" id="creating-a-swap-file_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.4. Creating a swap file</h3></div></div></div><p class="_abstract _abstract">
				You can create a swap file to create a temporary storage space on a solid-state drive or hard disk when the system runs low on memory.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have enough disk space.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Determine the size of the new swap file in megabytes and multiply by 1024 to determine the number of blocks. For example, the block size of a 64 MB swap file is 65536.
					</li><li class="listitem"><p class="simpara">
						Create an empty file:
					</p><pre class="screen"># dd if=/dev/zero of=/swapfile bs=1024 count=<span class="emphasis"><em>65536</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>65536</em></span> with the value equal to the required block size.
					</p></li><li class="listitem"><p class="simpara">
						Set up the swap file with the command:
					</p><pre class="screen"># mkswap /swapfile</pre></li><li class="listitem"><p class="simpara">
						Change the security of the swap file so it is not world readable.
					</p><pre class="screen"># chmod 0600 /swapfile</pre></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/fstab</code> file with the following entries to enable the swap file at boot time:
					</p><pre class="screen">/swapfile none swap defaults 0 0</pre><p class="simpara">
						The next time the system boots, it activates the new swap file.
					</p></li><li class="listitem"><p class="simpara">
						Regenerate mount units so that your system registers the new <code class="literal">/etc/fstab</code> configuration:
					</p><pre class="screen"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Activate the swap file immediately:
					</p><pre class="screen"># swapon /swapfile</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To test if the new swap file was successfully created and activated, inspect active swap space by using the following command:
					</p><pre class="screen">$ cat /proc/swaps
$ free -h</pre></li></ul></div></section><section class="section" id="extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.5. Extending swap on an LVM2 logical volume</h3></div></div></div><p class="_abstract _abstract">
				You can extend swap space on an existing LVM2 logical volume. Assuming <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span> is the volume you want to extend by <span class="emphasis"><em>2 GB</em></span>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have sufficient disk space.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Disable swapping for the associated logical volume:
					</p><pre class="screen"># swapoff -v <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li><li class="listitem"><p class="simpara">
						Resize the LVM2 logical volume by <span class="emphasis"><em>2 GB</em></span>:
					</p><pre class="screen"># lvresize <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span> -L <span class="emphasis"><em>+2G</em></span></pre></li><li class="listitem"><p class="simpara">
						Format the new swap space:
					</p><pre class="screen"># mkswap <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li><li class="listitem"><p class="simpara">
						Enable the extended logical volume:
					</p><pre class="screen"># swapon -v <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To test if the swap logical volume was successfully extended and activated, inspect active swap space:
					</p><pre class="screen"># cat /proc/swaps
Filename                Type        Size        Used        Priority
/dev/dm-1          partition    16322556           0              -2
/dev/dm-4          partition     7340028           0              -3</pre><pre class="screen"># free -h
               total        used        free      shared  buff/cache   available
Mem:            30Gi       1.2Gi        28Gi        12Mi       994Mi        28Gi
Swap:           22Gi          0B        22Gi</pre></li></ul></div></section><section class="section" id="reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.6. Reducing swap on an LVM2 logical volume</h3></div></div></div><p class="_abstract _abstract">
				You can reduce swap on an LVM2 logical volume. Assuming <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span> is the volume you want to reduce.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Disable swapping for the associated logical volume:
					</p><pre class="screen"># swapoff -v <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li><li class="listitem"><p class="simpara">
						Clean the swap signature:
					</p><pre class="screen"># wipefs -a <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li><li class="listitem"><p class="simpara">
						Reduce the LVM2 logical volume by 512 MB:
					</p><pre class="screen"># lvreduce <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span> -L <span class="emphasis"><em>-512M</em></span></pre></li><li class="listitem"><p class="simpara">
						Format the new swap space:
					</p><pre class="screen"># mkswap <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li><li class="listitem"><p class="simpara">
						Activate swap on the logical volume:
					</p><pre class="screen"># swapon -v <span class="emphasis"><em>/dev/VolGroup00/LogVol01</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To test if the swap logical volume was successfully reduced, inspect active swap space by using the following command:
					</p><pre class="screen">$ cat /proc/swaps
$ free -h</pre></li></ul></div></section><section class="section" id="removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.7. Removing an LVM2 logical volume for swap</h3></div></div></div><p class="_abstract _abstract">
				You can remove an LVM2 logical volume for swap. Assuming <span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span> is the swap volume you want to remove.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Disable swapping for the associated logical volume:
					</p><pre class="screen"># swapoff -v <span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span></pre></li><li class="listitem"><p class="simpara">
						Remove the LVM2 logical volume:
					</p><pre class="screen"># lvremove <span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span></pre></li><li class="listitem"><p class="simpara">
						Remove the following associated entry from the <code class="literal">/etc/fstab</code> file:
					</p><pre class="screen"><span class="emphasis"><em>/dev/VolGroup00/LogVol02</em></span> none swap defaults 0 0</pre></li><li class="listitem"><p class="simpara">
						Regenerate mount units to register the new configuration:
					</p><pre class="screen"># systemctl daemon-reload</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Test if the logical volume was successfully removed, inspect active swap space by using the following command:
					</p><pre class="screen">$ cat /proc/swaps
$ free -h</pre></li></ul></div></section><section class="section" id="removing-a-swap-file_getting-started-with-swap"><div class="titlepage"><div><div><h3 class="title">16.8. Removing a swap file</h3></div></div></div><p class="_abstract _abstract">
				You can remove a swap file.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Disable the <code class="literal">/swapfile</code> swap file:
					</p><pre class="screen"># swapoff -v /swapfile</pre></li><li class="listitem">
						Remove its entry from the <code class="literal">/etc/fstab</code> file accordingly.
					</li><li class="listitem"><p class="simpara">
						Regenerate mount units so that your system registers the new configuration:
					</p><pre class="screen"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Remove the actual file:
					</p><pre class="screen"># rm /swapfile</pre></li></ol></div></section></section><section class="chapter" id="configuring-fibre-channel-over-ethernet_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 17. Configuring Fibre Channel over Ethernet</h2></div></div></div><p class="_abstract _abstract">
			Based on the IEEE T11 FC-BB-5 standard, Fibre Channel over Ethernet (FCoE) is a protocol to transmit Fibre Channel frames over Ethernet networks. Typically, data centers have a dedicated LAN and Storage Area Network (SAN) that are separated from each other with their own specific configuration. FCoE combines these networks into a single and converged network structure. Benefits of FCoE are, for example, lower hardware and energy costs.
		</p><section class="section" id="using-hardware-fcoe-hbas-in-rhel_configuring-fibre-channel-over-ethernet"><div class="titlepage"><div><div><h3 class="title">17.1. Using hardware FCoE HBAs in RHEL</h3></div></div></div><p class="_abstract _abstract">
				In RHEL you can use hardware Fibre Channel over Ethernet (FCoE) Host Bus Adapter (HBA), which is supported by the following drivers:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">qedf</code>
					</li><li class="listitem">
						<code class="literal">bnx2fc</code>
					</li><li class="listitem">
						<code class="literal">fnic</code>
					</li></ul></div><p>
				If you use such a HBA, you configure the FCoE settings in the setup of the HBA. For more information, see the documentation of the adapter.
			</p><p>
				After you configure the HBA, the exported Logical Unit Numbers (LUN) from the Storage Area Network (SAN) are automatically available to RHEL as <code class="literal">/dev/sd*</code> devices. You can use these devices similar to local storage devices.
			</p></section><section class="section" id="setting-up-a-software-fcoe-device_configuring-fibre-channel-over-ethernet"><div class="titlepage"><div><div><h3 class="title">17.2. Setting up a software FCoE device</h3></div></div></div><p class="_abstract _abstract">
				Use the software FCoE device to access Logical Unit Numbers (LUN) over FCoE, which uses using an Ethernet adapter that partially supports FCoE offload.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					RHEL does not support software FCoE devices that require the <code class="literal">fcoe.ko</code> kernel module.
				</p></div></rh-alert><p>
				After you complete this procedure, the exported LUNs from the Storage Area Network (SAN) are automatically available to RHEL as <code class="literal">/dev/sd*</code> devices. You can use these devices in a similar way to local storage devices.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have configured the network switch to support VLAN.
					</li><li class="listitem">
						The SAN uses a VLAN to separate the storage traffic from normal Ethernet traffic.
					</li><li class="listitem">
						You have configured the HBA of the server in its BIOS.
					</li><li class="listitem">
						The HBA is connected to the network and the link is up. For more information, see the documentation of your HBA.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">fcoe-utils</code> package:
					</p><pre class="literallayout"># dnf install fcoe-utils</pre></li><li class="listitem"><p class="simpara">
						Copy the <code class="literal">/etc/fcoe/cfg-ethx</code> template file to <code class="literal">/etc/fcoe/cfg-<span class="emphasis"><em>interface_name</em></span></code>. For example, if you want to configure the <code class="literal">enp1s0</code> interface to use FCoE, enter the following command:
					</p><pre class="literallayout"># cp /etc/fcoe/cfg-ethx /etc/fcoe/cfg-<span class="emphasis"><em>enp1s0</em></span></pre></li><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">fcoe</code> service:
					</p><pre class="literallayout"># systemctl enable --now fcoe</pre></li><li class="listitem"><p class="simpara">
						Discover the FCoE VLAN on interface <code class="literal">enp1s0</code>, create a network device for the discovered VLAN, and start the initiator:
					</p><pre class="literallayout"># fipvlan -s -c enp1s0
Created VLAN device enp1s0.200
Starting FCoE on interface enp1s0.200
Fibre Channel Forwarders Discovered
interface       | VLAN | FCF MAC
------------------------------------------
enp1s0          | 200  | 00:53:00:a7:e7:1b</pre></li><li class="listitem"><p class="simpara">
						Optional: Display details about the discovered targets, the LUNs, and the devices associated with the LUNs:
					</p><pre class="literallayout"># fcoeadm -t
Interface:        enp1s0.200
Roles:            FCP Target
Node Name:        0x500a0980824acd15
Port Name:        0x500a0982824acd15
Target ID:        0
MaxFrameSize:     2048 bytes
OS Device Name:   rport-11:0-1
FC-ID (Port ID):  0xba00a0
State:            Online

LUN ID  Device Name   Capacity   Block Size  Description
------  -----------  ----------  ----------  ---------------------
     0  sdb           28.38 GiB      512     NETAPP LUN (rev 820a)
     ...</pre><p class="simpara">
						This example shows that LUN 0 from the SAN has been attached to the host as the <code class="literal">/dev/sdb</code> device.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Display information about all active FCoE interfaces:
					</p><pre class="literallayout"># fcoeadm -i
Description:      BCM57840 NetXtreme II 10 Gigabit Ethernet
Revision:         11
Manufacturer:     Broadcom Inc. and subsidiaries
Serial Number:    000AG703A9B7

Driver:           bnx2x Unknown
Number of Ports:  1

    Symbolic Name:     bnx2fc (QLogic BCM57840) v2.12.13 over enp1s0.200
    OS Device Name:    host11
    Node Name:         0x2000000af70ae935
    Port Name:         0x2001000af70ae935
    Fabric Name:       0x20c8002a6aa7e701
    Speed:             10 Gbit
    Supported Speed:   1 Gbit, 10 Gbit
    MaxFrameSize:      2048 bytes
    FC-ID (Port ID):   0xba02c0
    State:             Online</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">fcoeadm(8)</code> man page on your system
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/fcoe-utils/README</code>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_storage_devices/using-fibre-channel-devices_managing-storage-devices">Using Fibre Channel devices</a>
					</li></ul></div></section></section><section class="chapter" id="managing-tape-devices_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 18. Managing tape devices</h2></div></div></div><p>
			A tape device is a magnetic tape where data is stored and accessed sequentially. Data is written to this tape device with the help of a tape drive. There is no need to create a file system in order to store data on a tape device. Tape drives can be connected to a host computer with various interfaces like, SCSI, FC, USB, SATA, and other interfaces.
		</p><section class="section" id="types-of-tape-devices_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.1. Types of tape devices</h3></div></div></div><p>
				The following is a list of the different types of tape devices:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">/dev/st0</code> is a rewinding tape device.
					</li><li class="listitem">
						<code class="literal">/dev/nst0</code> is a non-rewinding tape device. Use non-rewinding devices for daily backups.
					</li></ul></div><p>
				There are several advantages to using tape devices. They are cost efficient and stable. Tape devices are also resilient against data corruption and are suitable for data retention.
			</p></section><section class="section" id="installing-tape-drive-management-tool_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.2. Installing tape drive management tool</h3></div></div></div><p>
				Use the <code class="literal">mt</code> command to wind the data back and forth. The <code class="literal">mt</code> utility controls magnetic tape drive operations and the <code class="literal">st</code> utility is used for SCSI tape driver. This procedure describes how to install the <code class="literal">mt-st</code> package for tape drive operations.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Install the <code class="literal">mt-st</code> package:
					</p><pre class="screen"># dnf install mt-st</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mt(1)</code> and <code class="literal">st(4)</code> man pages on your system
					</li></ul></div></section><section class="section" id="writing-to-rewinding-tape-devices_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.3. Writing to rewinding tape devices</h3></div></div></div><p>
				A rewind tape device rewinds the tape after every operation. To back up data, you can use the <code class="literal">tar</code> command. By default, in tape devices the <code class="literal">block size</code> is 10KB (<code class="literal">bs=10k</code>). You can set the <code class="literal">TAPE</code> environment variable using the <code class="literal">export TAPE=<span class="emphasis"><em>/dev/st0</em></span></code> attribute. Use the <code class="literal">-f</code> device option instead, to specify the tape device file. This option is useful when you use more than one tape device.
			</p><div class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						You have installed the <code class="literal">mt-st</code> package. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-tape-devices_managing-storage-devices#installing-tape-drive-management-tool_managing-tape-devices">Installing tape drive management tool</a>.
					</li><li class="listitem"><p class="simpara">
						Load the tape drive:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/st0</em></span> load</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check the tape head:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/st0</em></span> status

SCSI 2 tape drive:
File number=-1, block number=-1, partition=0.
Tape block size 0 bytes. Density code 0x0 (default).
Soft error count since last status=0
General status bits on (50000):
 DR_OPEN IM_REP_EN</pre><p class="simpara">
						Here:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								the current <code class="literal">file number</code> is -1.
							</li><li class="listitem">
								the <code class="literal">block number</code> defines the tape head. By default, it is set to -1.
							</li><li class="listitem">
								the <code class="literal">block size</code> 0 indicates that the tape device does not have a fixed block size.
							</li><li class="listitem">
								the <code class="literal">Soft error count</code> indicates the number of encountered errors after executing the mt status command.
							</li><li class="listitem">
								the <code class="literal">General status bits</code> explains the stats of the tape device.
							</li><li class="listitem">
								<code class="literal">DR_OPEN</code> indicates that the door is open and the tape device is empty. <code class="literal">IM_REP_EN</code> is the immediate report mode.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						If the tape device is not empty, overwrite it:
					</p><pre class="literallayout"># tar -czf <span class="emphasis"><em>/dev/st0 _/source/directory</em></span></pre><p class="simpara">
						This command overwrites the data on a tape device with the content of <code class="literal"><span class="emphasis"><em>/source/directory</em></span></code>.
					</p></li><li class="listitem"><p class="simpara">
						Back up the <code class="literal"><span class="emphasis"><em>/source/directory</em></span></code> to the tape device:
					</p><pre class="literallayout"># tar -czf <span class="emphasis"><em>/dev/st0 _/source/directory</em></span>
tar: Removing leading `/' from member names
<span class="emphasis"><em>/source/directory</em></span>
<span class="emphasis"><em>/source/directory</em></span>/man_db.conf
<span class="emphasis"><em>/source/directory</em></span>/DIR_COLORS
<span class="emphasis"><em>/source/directory</em></span>/rsyslog.conf
[...]</pre></li><li class="listitem"><p class="simpara">
						View the status of the tape device:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/st0</em></span>  status</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						View the list of all files on the tape device:
					</p><pre class="literallayout"># tar -tzf <span class="emphasis"><em>/dev/st0</em></span>
<span class="emphasis"><em>/source/directory</em></span>/
<span class="emphasis"><em>/source/directory</em></span>/man_db.conf
<span class="emphasis"><em>/source/directory</em></span>/DIR_COLORS
<span class="emphasis"><em>/source/directory</em></span>/rsyslog.conf
[...]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mt(1)</code>, <code class="literal">st(4)</code>, and <code class="literal">tar(1)</code> man pages on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/4630931">Tape drive media detected as write protected</a> (Red Hat Knowledgebase)
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/45955">How to check if tape drives are detected in the system</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="writing-to-non-rewinding-tape-devices_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.4. Writing to non-rewinding tape devices</h3></div></div></div><p>
				A non-rewinding tape device leaves the tape in its current status, after completing the execution of a certain command. For example, after a backup, you could append more data to a non-rewinding tape device. You can also use it to avoid any unexpected rewinds.
			</p><div class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						You have installed the <code class="literal">mt-st</code> package. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-tape-devices_managing-storage-devices#installing-tape-drive-management-tool_managing-tape-devices">Installing tape drive management tool</a>.
					</li><li class="listitem"><p class="simpara">
						Load the tape drive:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/nst0</em></span> load</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check the tape head of the non-rewinding tape device <code class="literal">/dev/nst0</code>:
					</p><pre class="literallayout"># mt -f /dev/nst0 status</pre></li><li class="listitem"><p class="simpara">
						Specify the pointer at the head or at the end of the tape:
					</p><pre class="literallayout"># mt -f /dev/nst0 rewind</pre></li><li class="listitem"><p class="simpara">
						Append the data on the tape device:
					</p><pre class="literallayout"># mt -f /dev/nst0 eod
# tar -czf /dev/nst0 <span class="emphasis"><em>/source/directory</em></span>/</pre></li><li class="listitem"><p class="simpara">
						Back up the <code class="literal"><span class="emphasis"><em>/source/directory</em></span>/</code> to the tape device:
					</p><pre class="literallayout"># tar -czf /dev/nst0 <span class="emphasis"><em>/source/directory</em></span>/
tar: Removing leading `/' from member names
<span class="emphasis"><em>/source/directory</em></span>/
<span class="emphasis"><em>/source/directory</em></span>/man_db.conf
<span class="emphasis"><em>/source/directory</em></span>/DIR_COLORS
<span class="emphasis"><em>/source/directory</em></span>/rsyslog.conf
[...]</pre></li><li class="listitem"><p class="simpara">
						View the status of the tape device:
					</p><pre class="literallayout"># mt -f /dev/nst0  status</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						View the list of all files on the tape device:
					</p><pre class="literallayout"># tar -tzf <span class="emphasis"><em>/dev/nst0</em></span>
<span class="emphasis"><em>/source/directory</em></span>/
<span class="emphasis"><em>/source/directory</em></span>/man_db.conf
<span class="emphasis"><em>/source/directory</em></span>/DIR_COLORS
<span class="emphasis"><em>/source/directory</em></span>/rsyslog.conf
[...]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mt(1)</code>, <code class="literal">st(4)</code>, and <code class="literal">tar(1)</code> man pages on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/4630931">Tape drive media detected as write protected</a> (Red Hat Knowledgebase)
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/45955">How to check if tape drives are detected in the system</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="switching-tape-head-in-tape-devices_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.5. Switching tape head in tape devices</h3></div></div></div><p>
				Use the following procedure to switch the tape head in the tape device.
			</p><div class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						You have installed the <code class="literal">mt-st</code> package. For more information, see <a class="link" href="#installing-tape-drive-management-tool_managing-tape-devices" title="18.2. Installing tape drive management tool">Installing tape drive management tool</a>.
					</li><li class="listitem">
						Data is written to the tape device. Fore more information, see <a class="link" href="#writing-to-rewinding-tape-devices_managing-tape-devices" title="18.3. Writing to rewinding tape devices">Writing to rewinding tape devices</a> or <a class="link" href="#writing-to-non-rewinding-tape-devices_managing-tape-devices" title="18.4. Writing to non-rewinding tape devices">Writing to non-rewinding tape devices</a>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To view the current position of the tape pointer:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/nst0</em></span> tell</pre></li><li class="listitem"><p class="simpara">
						To switch the tape head, while appending the data to the tape devices:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/nst0</em></span> eod</pre></li><li class="listitem"><p class="simpara">
						To go to the previous record:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/nst0</em></span> bsfm 1</pre></li><li class="listitem"><p class="simpara">
						To go to the forward record:
					</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/nst0</em></span> fsf 1</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mt(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="restoring-data-from-tape-devices_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.6. Restoring data from tape devices</h3></div></div></div><p>
				To restore data from a tape device, use the <code class="literal">tar</code> command.
			</p><div class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						You have installed the <code class="literal">mt-st</code> package. For more information, see <a class="link" href="#installing-tape-drive-management-tool_managing-tape-devices" title="18.2. Installing tape drive management tool">Installing tape drive management tool</a>.
					</li><li class="listitem">
						Data is written to the tape device. For more information, see <a class="link" href="#writing-to-rewinding-tape-devices_managing-tape-devices" title="18.3. Writing to rewinding tape devices">Writing to rewinding tape devices</a> or <a class="link" href="#writing-to-non-rewinding-tape-devices_managing-tape-devices" title="18.4. Writing to non-rewinding tape devices">Writing to non-rewinding tape devices</a>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For rewinding tape devices <code class="literal">/dev/st0</code>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								Restore the <code class="literal"><span class="emphasis"><em>/source/directory</em></span>/</code>:
							</p><pre class="literallayout"># tar -xzf <span class="emphasis"><em>/dev/st0</em></span> <span class="emphasis"><em>/source/directory</em></span>/</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						For non-rewinding tape devices <code class="literal">/dev/nst0</code>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								Rewind the tape device:
							</p><pre class="literallayout"># mt -f <span class="emphasis"><em>/dev/nst0</em></span> rewind</pre></li><li class="listitem"><p class="simpara">
								Restore the <code class="literal">etc</code> directory:
							</p><pre class="literallayout"># tar -xzf <span class="emphasis"><em>/dev/nst0</em></span> <span class="emphasis"><em>/source/directory</em></span>/</pre></li></ul></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mt(1)</code> and <code class="literal">tar(1)</code> man pages on your system
					</li></ul></div></section><section class="section" id="erasing-data-from-tape-devices_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.7. Erasing data from tape devices</h3></div></div></div><p>
				To erase data from a tape device, use the <code class="literal">erase</code> option.
			</p><div class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						You have installed the <code class="literal">mt-st</code> package. For more information, see <a class="link" href="#installing-tape-drive-management-tool_managing-tape-devices" title="18.2. Installing tape drive management tool">Installing tape drive management tool</a>.
					</li><li class="listitem">
						Data is written to the tape device. For more information, see <a class="link" href="#writing-to-rewinding-tape-devices_managing-tape-devices" title="18.3. Writing to rewinding tape devices">Writing to rewinding tape devices</a> or <a class="link" href="#writing-to-non-rewinding-tape-devices_managing-tape-devices" title="18.4. Writing to non-rewinding tape devices">Writing to non-rewinding tape devices</a>.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Erase data from the tape device:
					</p><pre class="screen"># mt -f <span class="emphasis"><em>/dev/st0</em></span> erase</pre></li><li class="listitem"><p class="simpara">
						Unload the tape device:
					</p><pre class="screen">mt -f <span class="emphasis"><em>/dev/st0</em></span> offline</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mt(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="tape-commands_managing-tape-devices"><div class="titlepage"><div><div><h3 class="title">18.8. Tape commands</h3></div></div></div><p>
				The following are the common <code class="literal">mt</code> commands:
			</p><rh-table id="idm140664180109232"><table class="lt-4-cols lt-7-rows"><caption>Table 18.1. mt commands</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140664180104400" scope="col">Command</th><th align="left" valign="top" id="idm140664180103312" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140664180104400"> <p>
								<code class="literal">mt -f /dev/<span class="emphasis"><em>st0</em></span> status</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140664180103312"> <p>
								Displays the status of the tape device.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664180104400"> <p>
								<code class="literal">mt -f /dev/<span class="emphasis"><em>st0</em></span> erase</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140664180103312"> <p>
								Erases the entire tape.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664180104400"> <p>
								<code class="literal">mt -f /dev/<span class="emphasis"><em>nst0</em></span> rewind</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140664180103312"> <p>
								Rewinds the tape device.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664180104400"> <p>
								<code class="literal">mt -f /dev/<span class="emphasis"><em>nst0</em></span> fsf <span class="emphasis"><em>n</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140664180103312"> <p>
								Switches the tape head to the forward record. Here, <span class="emphasis"><em>n</em></span> is an optional file count. If a file count is specified, tape head skips <span class="emphasis"><em>n</em></span> records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664180104400"> <p>
								<code class="literal">mt -f /dev/<span class="emphasis"><em>nst0</em></span> bsfm <span class="emphasis"><em>n</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140664180103312"> <p>
								Switches the tape head to the previous record.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664180104400"> <p>
								<code class="literal">mt -f /dev/<span class="emphasis"><em>nst0</em></span> eod</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140664180103312"> <p>
								Switches the tape head to the end of the data.
							</p>
							 </td></tr></tbody></table></rh-table></section></section><section class="chapter" id="managing-raid_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 19. Managing RAID</h2></div></div></div><p>
			You can use a Redundant Array of Independent Disks (RAID) to store data across multiple drives. It can help to avoid data loss if a drive has failed.
		</p><section class="section" id="overview-of-raid_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.1. Overview of RAID</h3></div></div></div><p>
				In a RAID, multiple devices, such as HDD, SSD, or NVMe are combined into an array to accomplish performance or redundancy goals not achievable with one large and expensive drive. This array of devices appears to the computer as a single logical storage unit or drive.
			</p><p>
				RAID supports various configurations, including levels 0, 1, 4, 5, 6, 10, and linear. RAID uses techniques such as disk striping (RAID Level 0), disk mirroring (RAID Level 1), and disk striping with parity (RAID Levels 4, 5 and 6) to achieve redundancy, lower latency, increased bandwidth, and maximized ability to recover from hard disk crashes.
			</p><p>
				RAID distributes data across each device in the array by breaking it down into consistently-sized chunks, commonly 256 KB or 512 KB, although other values are acceptable. It writes these chunks to a hard drive in the RAID array according to the RAID level employed. While reading the data, the process is reversed, giving the illusion that the multiple devices in the array are actually one large drive.
			</p><p>
				RAID technology is beneficial for those who manage large amounts of data. The following are the primary reasons to deploy RAID:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						It enhances speed
					</li><li class="listitem">
						It increases storage capacity using a single virtual disk
					</li><li class="listitem">
						It minimizes data loss from disk failure
					</li><li class="listitem">
						The RAID layout and level online conversion
					</li></ul></div></section><section class="section" id="raid-types_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.2. RAID types</h3></div></div></div><p>
				The following are the possible types of RAID:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Firmware RAID</span></dt><dd>
							Firmware RAID, also known as ATARAID, is a type of software RAID where the RAID sets can be configured using a firmware-based menu. The firmware used by this type of RAID also hooks into the BIOS, allowing you to boot from its RAID sets. Different vendors use different on-disk metadata formats to mark the RAID set members. The Intel Matrix RAID is an example of a firmware RAID system.
						</dd><dt><span class="term">Hardware RAID</span></dt><dd><p class="simpara">
							A hardware-based array manages the RAID subsystem independently from the host. It might present multiple devices per RAID array to the host.
						</p><p class="simpara">
							Hardware RAID devices might be internal or external to the system. Internal devices commonly consists of a specialized controller card that handles the RAID tasks transparently to the operating system. External devices commonly connect to the system via SCSI, Fibre Channel, iSCSI, InfiniBand, or other high speed network interconnect and present volumes such as logical units to the system.
						</p><p class="simpara">
							RAID controller cards function like a SCSI controller to the operating system and handle all the actual drive communications. You can plug the drives into the RAID controller similar to a normal SCSI controller and then add them to the RAID controller’s configuration. The operating system will not be able to tell the difference.
						</p></dd><dt><span class="term">Software RAID</span></dt><dd><p class="simpara">
							A software RAID implements the various RAID levels in the kernel block device code. It offers the cheapest possible solution because expensive disk controller cards or hot-swap chassis are not required. With hot-swap chassis, you can remove a hard drive without powering off your system. Software RAID also works with any block storage, which are supported by the Linux kernel, such as SATA, SCSI, and NVMe. With today’s faster CPUs, Software RAID also generally outperforms hardware RAID, unless you use high-end storage devices.
						</p><p class="simpara">
							Since the Linux kernel contains a multiple device (MD) driver, the RAID solution becomes completely hardware independent. The performance of a software-based array depends on the server CPU performance and load.
						</p><p class="simpara">
							The following are the key features of the Linux software RAID stack:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Multithreaded design
								</li><li class="listitem">
									Portability of arrays between Linux machines without reconstruction
								</li><li class="listitem">
									Backgrounded array reconstruction using idle system resources
								</li><li class="listitem">
									Hot-swap drive support
								</li><li class="listitem">
									Automatic CPU detection to take advantage of certain CPU features such as streaming Single Instruction Multiple Data (SIMD) support.
								</li><li class="listitem">
									Automatic correction of bad sectors on disks in an array.
								</li><li class="listitem">
									Regular consistency checks of RAID data to ensure the health of the array.
								</li><li class="listitem">
									Proactive monitoring of arrays with email alerts sent to a designated email address on important events.
								</li><li class="listitem"><p class="simpara">
									Write-intent bitmaps, which drastically increase the speed of resync events by allowing the kernel to know precisely which portions of a disk need to be resynced instead of having to resync the entire array after a system crash.
								</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										The resync is a process to synchronize the data over the devices in the existing RAID to achieve redundancy.
									</p></div></rh-alert></li><li class="listitem">
									Resync checkpointing so that if you reboot your computer during a resync, at startup the resync resumes where it left off and not starts all over again.
								</li><li class="listitem">
									The ability to change parameters of the array after installation, which is called reshaping. For example, you can grow a 4-disk RAID5 array to a 5-disk RAID5 array when you have a new device to add. This grow operation is done live and does not require you to reinstall on the new array.
								</li><li class="listitem">
									Reshaping supports changing the number of devices, the RAID algorithm or size of the RAID array type, such as RAID4, RAID5, RAID6, or RAID10.
								</li><li class="listitem">
									Takeover supports RAID level conversion, such as RAID0 to RAID6.
								</li><li class="listitem">
									Cluster MD, which is a storage solution for a cluster, provides the redundancy of RAID1 mirroring to the cluster. Currently, only RAID1 is supported.
								</li></ul></div></dd></dl></div></section><section class="section" id="raid-levels-and-linear-support_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.3. RAID levels and linear support</h3></div></div></div><p>
				The following are the supported configurations by RAID, including levels 0, 1, 4, 5, 6, 10, and linear:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Level 0</span></dt><dd><p class="simpara">
							RAID level 0, often called striping, is a performance-oriented striped data mapping technique. This means the data being written to the array is broken down into stripes and written across the member disks of the array, allowing high I/O performance at low inherent cost but provides no redundancy.
						</p><p class="simpara">
							RAID level 0 implementations only stripe the data across the member devices up to the size of the smallest device in the array. This means that if you have multiple devices with slightly different sizes, each device gets treated as though it was the same size as the smallest drive. Therefore, the common storage capacity of a level 0 array is the total capacity of all disks. If the member disks have a different size, then the RAID0 uses all the space of those disks using the available zones.
						</p></dd><dt><span class="term">Level 1</span></dt><dd><p class="simpara">
							RAID level 1, or mirroring, provides redundancy by writing identical data to each member disk of the array, leaving a mirrored copy on each disk. Mirroring remains popular due to its simplicity and high level of data availability. Level 1 operates with two or more disks, and provides very good data reliability and improves performance for read-intensive applications but at relatively high costs.
						</p><p class="simpara">
							RAID level 1 is costly because you write the same information to all of the disks in the array, which provides data reliability, but in a much less space-efficient manner than parity based RAID levels such as level 5. However, this space inefficiency comes with a performance benefit, which is parity-based RAID levels that consume considerably more CPU power in order to generate the parity while RAID level 1 simply writes the same data more than once to the multiple RAID members with very little CPU overhead. As such, RAID level 1 can outperform the parity-based RAID levels on machines where software RAID is employed and CPU resources on the machine are consistently taxed with operations other than RAID activities.
						</p><p class="simpara">
							The storage capacity of the level 1 array is equal to the capacity of the smallest mirrored hard disk in a hardware RAID or the smallest mirrored partition in a software RAID. Level 1 redundancy is the highest possible among all RAID types, with the array being able to operate with only a single disk present.
						</p></dd><dt><span class="term">Level 4</span></dt><dd><p class="simpara">
							Level 4 uses parity concentrated on a single disk drive to protect data. Parity information is calculated based on the content of the rest of the member disks in the array. This information can then be used to reconstruct data when one disk in the array fails. The reconstructed data can then be used to satisfy I/O requests to the failed disk before it is replaced and to repopulate the failed disk after it has been replaced.
						</p><p class="simpara">
							Since the dedicated parity disk represents an inherent bottleneck on all write transactions to the RAID array, level 4 is seldom used without accompanying technologies such as write-back caching. Or it is used in specific circumstances where the system administrator is intentionally designing the software RAID device with this bottleneck in mind such as an array that has little to no write transactions once the array is populated with data. RAID level 4 is so rarely used that it is not available as an option in Anaconda. However, it could be created manually by the user if needed.
						</p><p class="simpara">
							The storage capacity of hardware RAID level 4 is equal to the capacity of the smallest member partition multiplied by the number of partitions minus one. The performance of a RAID level 4 array is always asymmetrical, which means reads outperform writes. This is because write operations consume extra CPU resources and main memory bandwidth when generating parity, and then also consume extra bus bandwidth when writing the actual data to disks because you are not only writing the data, but also the parity. Read operations need only read the data and not the parity unless the array is in a degraded state. As a result, read operations generate less traffic to the drives and across the buses of the computer for the same amount of data transfer under normal operating conditions.
						</p></dd><dt><span class="term">Level 5</span></dt><dd><p class="simpara">
							This is the most common type of RAID. By distributing parity across all the member disk drives of an array, RAID level 5 eliminates the write bottleneck inherent in level 4. The only performance bottleneck is the parity calculation process itself. Modern CPUs can calculate parity very fast. However, if you have a large number of disks in a RAID 5 array such that the combined aggregate data transfer speed across all devices is high enough, parity calculation can be a bottleneck.
						</p><p class="simpara">
							Level 5 has asymmetrical performance, and reads substantially outperforming writes. The storage capacity of RAID level 5 is calculated the same way as with level 4.
						</p></dd><dt><span class="term">Level 6</span></dt><dd><p class="simpara">
							This is a common level of RAID when data redundancy and preservation, and not performance, are the paramount concerns, but where the space inefficiency of level 1 is not acceptable. Level 6 uses a complex parity scheme to be able to recover from the loss of any two drives in the array. This complex parity scheme creates a significantly higher CPU burden on software RAID devices and also imposes an increased burden during write transactions. As such, level 6 is considerably more asymmetrical in performance than levels 4 and 5.
						</p><p class="simpara">
							The total capacity of a RAID level 6 array is calculated similarly to RAID level 5 and 4, except that you must subtract two devices instead of one from the device count for the extra parity storage space.
						</p></dd><dt><span class="term">Level 10</span></dt><dd><p class="simpara">
							This RAID level attempts to combine the performance advantages of level 0 with the redundancy of level 1. It also reduces some of the space wasted in level 1 arrays with more than two devices. With level 10, it is possible, for example, to create a 3-drive array configured to store only two copies of each piece of data, which then allows the overall array size to be 1.5 times the size of the smallest devices instead of only equal to the smallest device, similar to a 3-device, level 1 array. This avoids CPU process usage to calculate parity similar to RAID level 6, but it is less space efficient.
						</p><p class="simpara">
							The creation of RAID level 10 is not supported during installation. It is possible to create one manually after installation.
						</p></dd><dt><span class="term">Linear RAID</span></dt><dd><p class="simpara">
							Linear RAID is a grouping of drives to create a larger virtual drive.
						</p><p class="simpara">
							In linear RAID, the chunks are allocated sequentially from one member drive, going to the next drive only when the first is completely filled. This grouping provides no performance benefit, as it is unlikely that any I/O operations split between member drives. Linear RAID also offers no redundancy and decreases reliability. If any one member drive fails, the entire array cannot be used and data can be lost. The capacity is the total of all member disks.
						</p></dd></dl></div></section><section class="section" id="supported-raid-conversions_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.4. Supported RAID conversions</h3></div></div></div><p>
				It is possible to convert from one RAID level to another. For example, you can convert from RAID5 to RAID10, but not from RAID10 to RAID5. The following table describes the supported RAID conversions:
			</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--><col style="width: 30%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140664217283200" scope="col">RAID conversion levels</th><th align="left" valign="top" id="idm140664217282112" scope="col">Conversion steps</th><th align="left" valign="top" id="idm140664217281024" scope="col">Notes</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 0 to RAID level 4
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=4 -n3 --add /dev/vdd</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> <p>
								You need to add a disk to the MD array because it require at least 3 disks.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 0 to RAID level 5
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=5 -n3 --add /dev/vdd</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> <p>
								You need to add a disk to the MD array because it require at least 3 disks.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 0 to RAID level 10
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level 10 -n 4 --add /dev/vd[ef]</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> <p>
								You need to add two extra disks to the MD array.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 1 to RAID level 0
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 -l0</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 1 to RAID level 5
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=5</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 4 to RAID level 0
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=0</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 4 to RAID level 5
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=5</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 5 to RAID level 0
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=0</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 5 to RAID level 1
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm -CR /dev/md0 -l5 -n3 /dev/sd[abc] --assume-clean --size 1G</strong></span>


# <span class="strong strong"><strong>mdadm -D /dev/md0 | grep Level</strong></span>


# <span class="strong strong"><strong>mdadm --grow /dev/md0 --array-size 1048576</strong></span>


# <span class="strong strong"><strong>mdadm --grow -n 2 /dev/md0 --backup=internal</strong></span>


# <span class="strong strong"><strong>mdadm --grow -l1 /dev/md0</strong></span>


# <span class="strong strong"><strong>mdadm -D /dev/md0 | grep Level</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 5 to RAID level 4
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=4</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 5 to RAID level 6
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=6 --add /dev/vde</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 5 to RAID level 10
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=0 # mdadm --grow /dev/md0 --level=10 --add /dev/vde /dev/vdf</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> <p>
								Converting RAID level 5 to RAID level 10 is a two step conversion:
							</p>
							 <div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										Convert to RAID level 0
									</li><li class="listitem">
										Add two additional disks while converting to RAID10.
									</li></ol></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 6 to RAID level 5
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=5</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr><tr><td align="left" valign="top" headers="idm140664217283200"> <p>
								RAID level 10 to RAID level 0
							</p>
							 </td><td align="left" valign="top" headers="idm140664217282112">
<pre class="literallayout"># <span class="strong strong"><strong>mdadm --grow /dev/md0 --level=0</strong></span></pre>
							 </td><td align="left" valign="top" headers="idm140664217281024"> </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Converting RAID 5 to RAID0 and RAID4 is only possible with the <code class="literal">ALGORITHM_PARITY_N</code> layout.
				</p></div></rh-alert><p>
				After converting a RAID level, verify the conversion by using either the <code class="literal">mdadm --detail /dev/md0</code> or <code class="literal">cat /proc/mdstat</code> command.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mdadm(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="linux-raid-subsystems_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.5. Linux RAID subsystems</h3></div></div></div><p>
				The following subsystems compose RAID in Linux:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Linux Hardware RAID Controller Drivers</span></dt><dd>
							Hardware RAID controllers have no specific RAID subsystem in Linux. Since they use special RAID chipsets, hardware RAID controllers come with their own drivers. With these drivers, the system detects the RAID sets as regular disks.
						</dd><dt><span class="term"><code class="literal">mdraid</code></span></dt><dd><p class="simpara">
							The <code class="literal">mdraid</code> subsystem was designed as a software RAID solution for Linux. It is also the preferred solution for software RAID in Red Hat Enterprise Linux. This subsystem uses its own metadata format, which is referred to as native MD metadata.
						</p><p class="simpara">
							It also supports other metadata formats, known as external metadata. Red Hat Enterprise Linux 9 uses <code class="literal">mdraid</code> with external metadata to access Intel Rapid Storage (ISW) or Intel Matrix Storage Manager (IMSM) sets and Storage Networking Industry Association (SNIA) Disk Drive Format (DDF). The <code class="literal">mdraid</code> subsystem sets are configured and controlled through the <code class="literal">mdadm</code> utility.
						</p></dd></dl></div></section><section class="section" id="creating-a-software-raid-during-the-installation_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.6. Creating a software RAID during the installation</h3></div></div></div><p>
				Redundant Arrays of Independent Disks (RAID) devices are constructed from multiple storage devices that are arranged to provide increased performance and, in some configurations, greater fault tolerance. A RAID device is created in one step and disks are added or removed as necessary. You can configure one RAID partition for each physical disk in your system, so that the number of disks available to the installation program determines the levels of RAID device available. For example, if your system has two disks, you cannot create a <code class="literal">RAID 10</code> device, as it requires a minimum of three separate disks. To optimize your system’s storage performance and reliability, RHEL supports software <code class="literal">RAID 0</code>, <code class="literal">RAID 1</code>, <code class="literal">RAID 4</code>, <code class="literal">RAID 5</code>, <code class="literal">RAID 6</code>, and <code class="literal">RAID 10</code> types with LVM and LVM Thin Provisioning to set up storage on the installed system.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					On 64-bit IBM Z, the storage subsystem uses RAID transparently. You do not have to configure software RAID manually.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have selected two or more disks for installation before RAID configuration options are visible. Depending on the RAID type you want to create, at least two disks are required.
					</li><li class="listitem">
						You have created a mount point. By configuring a mount point, you can configure the RAID device.
					</li><li class="listitem">
						You have selected the <span class="guibutton">Custom</span> radio button on the <span class="strong strong"><strong>Installation Destination</strong></span> window.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						From the left pane of the <span class="strong strong"><strong>Manual Partitioning</strong></span> window, select the required partition.
					</li><li class="listitem">
						Under the <span class="strong strong"><strong>Device(s)</strong></span> section, click <span class="guibutton">Modify</span>. The <span class="strong strong"><strong>Configure Mount Point</strong></span> dialog box opens.
					</li><li class="listitem">
						Select the disks that you want to include in the RAID device and click <span class="guibutton">Select</span>.
					</li><li class="listitem">
						Click the <span class="strong strong"><strong>Device Type</strong></span> drop-down menu and select <span class="strong strong"><strong>RAID</strong></span>.
					</li><li class="listitem">
						Click the <span class="strong strong"><strong>File System</strong></span> drop-down menu and select your preferred file system type.
					</li><li class="listitem">
						Click the <span class="strong strong"><strong>RAID Level</strong></span> drop-down menu and select your preferred level of RAID.
					</li><li class="listitem">
						Click <span class="guibutton">Update Settings</span> to save your changes.
					</li><li class="listitem">
						Click <span class="guibutton">Done</span> to apply the settings to return to the <span class="strong strong"><strong>Installation Summary</strong></span> window.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/configuring-raid-logical-volumes_configuring-and-managing-logical-volumes#creating-a-raid-lv-with-dm-integrity_configuring-raid-logical-volumes"><span class="emphasis"><em>Creating a RAID LV with DM integrity</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-raid_managing-storage-devices#managing-raid_managing-storage-devices"><span class="emphasis"><em>Managing RAID</em></span></a>
					</li></ul></div></section><section class="section" id="creating-a-software-raid-on-an-installed-system_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.7. Creating a software RAID on an installed system</h3></div></div></div><p>
				You can create a software Redundant Array of Independent Disks (RAID) on an existing system using the <code class="literal">mdadm</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">mdadm</code> package is installed.
					</li><li class="listitem">
						You have created two or more partitions on your system. For detailed instructions, see <a class="link" href="#proc_creating-a-partition-with-parted_getting-started-with-partitions" title="5.3. Creating a partition with parted">Creating a partition with parted</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a RAID of two block devices, for example <span class="emphasis"><em>/dev/sda1</em></span> and <span class="emphasis"><em>/dev/sdc1</em></span>:
					</p><pre class="literallayout"># mdadm --create /dev/md0 --level=<span class="emphasis"><em>0</em></span> --raid-devices=2 <span class="emphasis"><em>/dev/sda1 /dev/sdc1</em></span>
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.</pre><p class="simpara">
						The <span class="emphasis"><em>level_value</em></span> option defines the RAID level.
					</p></li><li class="listitem"><p class="simpara">
						Optional: Check the status of the RAID:
					</p><pre class="literallayout"># mdadm --detail /dev/md0
/dev/md0:
           Version : 1.2
     Creation Time : Thu Oct 13 15:17:39 2022
        Raid Level : raid0
        Array Size : 18649600 (17.79 GiB 19.10 GB)
      Raid Devices : 2
     Total Devices : 2
       Persistence : Superblock is persistent

       Update Time : Thu Oct 13 15:17:39 2022
             State : clean
    Active Devices : 2
   Working Devices : 2
    Failed Devices : 0
     Spare Devices : 0
[...]</pre></li><li class="listitem"><p class="simpara">
						Optional: Observe the detailed information about each device in the RAID:
					</p><pre class="literallayout"># mdadm --examine <span class="emphasis"><em>/dev/sda1 /dev/sdc1</em></span>
/dev/sda1:
          Magic : a92b4efc
        Version : 1.2
    Feature Map : 0x1000
     Array UUID : 77ddfb0a:41529b0e:f2c5cde1:1d72ce2c
           Name : 0
  Creation Time : Thu Oct 13 15:17:39 2022
     Raid Level : raid0
   Raid Devices : 2
[...]</pre></li><li class="listitem"><p class="simpara">
						Create a file system on the RAID drive:
					</p><pre class="literallayout"># mkfs -t <span class="emphasis"><em>xfs</em></span> /dev/md0</pre><p class="simpara">
						Replace <span class="emphasis"><em>xfs</em></span> with the file system that you chose to format the drive with.
					</p></li><li class="listitem"><p class="simpara">
						Create a mount point for RAID drive and mount it:
					</p><pre class="literallayout"># mkdir <span class="emphasis"><em>/mnt/raid1</em></span>
# mount /dev/md0 <span class="emphasis"><em>/mnt/raid1</em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em>/mnt/raid1</em></span> with the mount point.
					</p><p class="simpara">
						If you want that RHEL mounts the <code class="literal">md0</code> RAID device automatically when the system boots, add an entry for your device to the <code class="literal">/etc/fstab file</code>:
					</p><pre class="literallayout">/dev/md0   <span class="emphasis"><em>/mnt/raid1 xfs</em></span>  defaults   0 0</pre></li></ol></div></section><section class="section" id="creating-raid-in-the-web-console_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.8. Creating RAID in the web console</h3></div></div></div><p class="_abstract _abstract">
				Configure RAID in the RHEL 9 web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li><li class="listitem">
						Physical disks connected to the system. Each RAID level requires different amount of disks.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button.
					</li><li class="listitem"><p class="simpara">
						From the drop-down menu, select <span class="strong strong"><strong>Create MDRAID device</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f7ebb42759387b3b7daac56bbc8e6544/cockpit-adding-volume-groups-raid.png" alt="Image displaying the available options in the Storage table drop-down menu. Selecting the MDRAID device option."></span>

					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Create RAID Device</strong></span> dialog box, enter a name for the new RAID.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>RAID Level</strong></span> drop-down list, select a level of RAID you want to use.
					</li><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>Chunk Size</strong></span> drop-down list, select the size from the list of available options.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Chunk Size</strong></span> value specifies how large each block is for data writing. For example, if the chunk size is 512 KiB, the system writes the first 512 KiB to the first disk, the second 512 KiB is written to the second disk, and the third chunk is written to the third disk. If you have three disks in your RAID, the fourth 512 KiB is written to the first disk again.
					</p></li><li class="listitem">
						Select the disks you want to use for RAID.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Create</strong></span>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Go to the <span class="strong strong"><strong>Storage</strong></span> section and check that you can see the new RAID in the <span class="strong strong"><strong>RAID devices</strong></span> box.
					</p><p class="simpara">
						You have the following options to format and mount the new RAID in the web console:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Formatting RAID
							</li><li class="listitem">
								Creating partitions on the partition table
							</li><li class="listitem">
								Creating a volume group on top of the RAID
							</li></ul></div></li></ul></div></section><section class="section" id="formatting-raid-in-the-web-console_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.9. Formatting RAID in the web console</h3></div></div></div><p>
				You can format and mount software RAID devices in the RHEL 9 web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li><li class="listitem">
						Physical disks are connected and visible by RHEL 9.
					</li><li class="listitem">
						RAID is created.
					</li><li class="listitem">
						Consider the file system to be used for the RAID.
					</li><li class="listitem">
						Consider creating a partitioning table.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button, <span class="guibutton">⋮</span>, next to the RAID device you want to format.
					</li><li class="listitem">
						From the drop-down menu, select <span class="guibutton">Format</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Format</strong></span> dialog box, enter a name.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Mount Point</strong></span> field, add the mount path.
					</li><li class="listitem">
						From the <span class="strong strong"><strong>Type</strong></span> drop-down list, select the type of file system.
					</li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Overwrite existing data with zeros</strong></span> checkbox if you want the RHEL web console to rewrite the whole disk with zeros. This option is slower because the program has to go through the whole disk, but it is more secure. Use this option if the disk includes any data and you need to overwrite it.
					</p><p class="simpara">
						If you do not select the <span class="strong strong"><strong>Overwrite existing data with zeros</strong></span> checkbox, the RHEL web console rewrites only the disk header. This increases the speed of formatting.
					</p></li><li class="listitem"><p class="simpara">
						If you want to encrypt the volume, select the type of encryption from the <span class="strong strong"><strong>Encryption</strong></span> drop-down menu.
					</p><p class="simpara">
						If you do not want to encrypt the volume, select <span class="strong strong"><strong>No encryption</strong></span>.
					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>At boot</strong></span> drop-down menu, select when you want to mount the volume.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Mount options</strong></span> section:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Select the <span class="strong strong"><strong>Mount read only</strong></span> checkbox if you want the to mount the volume as a read-only logical volume.
							</li><li class="listitem">
								Select the <span class="strong strong"><strong>Custom mount options</strong></span> checkbox and add the mount options if you want to change the default mount option.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Format the RAID partition:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you want to format and mount the partition, click the <span class="guibutton">Format and mount</span> button.
							</li><li class="listitem"><p class="simpara">
								If you want to only format the partition, click the <span class="guibutton">Format only</span> button.
							</p><p class="simpara">
								Formatting can take several minutes depending on the volume size and which formatting options are selected.
							</p></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						After the formatting has completed successfully, you can see the details of the formatted logical volume in the <span class="strong strong"><strong>Storage</strong></span> table on the <span class="strong strong"><strong>Storage</strong></span> page.
					</li></ul></div></section><section class="section" id="creating-a-partition-table-on-raid-using-the-web-console_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.10. Creating a partition table on RAID by using the web console</h3></div></div></div><p class="_abstract _abstract">
				Format RAID with the partition table on the new software RAID device created in the RHEL 9 interface.
			</p><p>
				RAID requires formatting as any other storage device. You have two options:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Format the RAID device without partitions
					</li><li class="listitem">
						Create a partition table with partitions
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li><li class="listitem">
						Physical disks are connected and visible by the system.
					</li><li class="listitem">
						RAID is created.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the RAID device on which you want to create a partition table.
					</li><li class="listitem">
						Click the menu button, <span class="guibutton">⋮</span> in the <span class="strong strong"><strong>MDRAID device</strong></span> section.
					</li><li class="listitem">
						From the drop-down menu, select <span class="guibutton">Create partition table</span>.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Initialize disk</strong></span> dialog box, select the following:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Partitioning</strong></span>:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Compatible with all systems and devices (MBR)
									</li><li class="listitem">
										Compatible with modern system and hard disks &gt; 2TB (GPT)
									</li><li class="listitem">
										No partitioning
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Overwrite</strong></span>:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										Select the <span class="strong strong"><strong>Overwrite existing data with zeros</strong></span> checkbox if you want the RHEL web console to rewrite the whole disk with zeros. This option is slower because the program has to go through the whole disk, but it is more secure. Use this option if the disk includes any data and you want to overwrite it.
									</p><p class="simpara">
										If you do not select the <span class="strong strong"><strong>Overwrite existing data with zeros</strong></span> checkbox, the RHEL web console rewrites only the disk header. This increases the speed of formatting.
									</p></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Initialize</span>.
					</p><p class="simpara">
						The partitioning table is created and you can now create partitions on that table.
					</p></li></ol></div></section><section class="section" id="creating-partitions-on-raid-using-the-web-console_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.11. Creating partitions on RAID by using the web console</h3></div></div></div><p class="_abstract _abstract">
				Create a partition in the existing partition table.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						The RHEL 9 web console is installed and accessible.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li><li class="listitem">
						A partition table on RAID is created.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the RAID device on which you want to create a partition.
					</li><li class="listitem">
						On the RAID device page, scroll to the <span class="strong strong"><strong>GPT partitions</strong></span> section and click the menu button, <span class="guibutton">⋮</span>, next to the partition table you created. It is named <span class="strong strong"><strong>Free space</strong></span> by default.
					</li><li class="listitem">
						Click <span class="guibutton">Create partition</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Create partition</strong></span> dialog box, enter a name for the file system. Do not use spaces in the name.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Mount Point</strong></span> field, add the mount path.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Type</strong></span> drop-down list, select the type of file system.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Size</strong></span> field, set the size of the partition.
					</li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Overwrite existing data with zeros</strong></span> checkbox if you want the RHEL web console to rewrite the whole disk with zeros. This option is slower because the program has to go through the whole disk, but it is more secure. Use this option if the disk includes any data and you want to overwrite it.
					</p><p class="simpara">
						If you do not select the <span class="strong strong"><strong>Overwrite existing data with zeros</strong></span> checkbox, the RHEL web console rewrites only the disk header. This increases the speed of formatting.
					</p></li><li class="listitem"><p class="simpara">
						If you want to encrypt the volume, select the type of encryption in the <span class="strong strong"><strong>Encryption</strong></span> drop-down menu.
					</p><p class="simpara">
						If you do not want to encrypt the volume, select <span class="strong strong"><strong>No encryption</strong></span>.
					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>At boot</strong></span> drop-down menu, select when you want to mount the volume.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Mount options</strong></span> section:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Select the <span class="strong strong"><strong>Mount read only</strong></span> checkbox if you want the to mount the volume as a read-only logical volume.
							</li><li class="listitem">
								Select the <span class="strong strong"><strong>Custom mount options</strong></span> checkbox and add the mount options if you want to change the default mount option.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Create the partition:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you want to create and mount the partition, click the <span class="guibutton">Create and mount</span> button.
							</li><li class="listitem"><p class="simpara">
								If you want to only create the partition, click the <span class="guibutton">Create only</span> button.
							</p><p class="simpara">
								Formatting can take several minutes depending on the volume size and which formatting options are selected.
							</p><p class="simpara">
								You can create more partitions after the partition is created.
							</p><p class="simpara">
								At this point, the system uses mounted and formatted RAID.
							</p></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can see the details of the formatted logical volume in the <span class="strong strong"><strong>Storage</strong></span> table on the main storage page.
					</li></ul></div></section><section class="section" id="creating-volume-group-on-top-of-raid-using-the-web-console_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.12. Creating a volume group on top of RAID by using the web console</h3></div></div></div><p class="_abstract _abstract">
				Build a volume group from software RAID.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li><li class="listitem">
						The RAID device that is not formatted and not mounted.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button.
					</li><li class="listitem"><p class="simpara">
						From the drop-down menu, select <span class="strong strong"><strong>Create LVM2 volume group</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/1dfdea5e85488670de21f6e4ea93bb56/cockpit-adding-volume-groups-create-lvm2.png" alt="Image displaying the available options in the Storage table drop-down menu. Selecting Create LVM2 volume group."></span>

					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Create LVM2 volume group</strong></span> dialog box, enter a name for the new volume group.
					</li><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>Disks</strong></span> list, select a RAID device.
					</p><p class="simpara">
						If you do not see the RAID in the list, unmount the RAID from the system. The RAID device must not be in use by the RHEL 9 system.
					</p></li><li class="listitem">
						Click <span class="guibutton">Create</span>.
					</li></ol></div></section><section class="section" id="configuring-a-raid-volume-using-the-storage-system-role_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.13. Configuring a RAID volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				With the <code class="literal">storage</code> system role, you can configure a RAID volume on RHEL by using Red Hat Ansible Automation Platform and Ansible-Core. Create an Ansible playbook with the parameters to configure a RAID volume to suit your requirements.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Device names might change in certain circumstances, for example, when you add a new disk to a system. Therefore, to prevent data loss, use persistent naming attributes in the playbook. For more information about persistent naming attributes, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/persistent-naming-attributes_managing-storage-devices#persistent-naming-attributes_managing-storage-devices">Persistent naming attributes</a>.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  tasks:
    - name: Create a RAID on sdd, sde, sdf, and sdg
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_safe_mode: false
        storage_volumes:
          - name: data
            type: raid
            disks: [sdd, sde, sdf, sdg]
            raid_level: raid0
            raid_chunk_size: 32 KiB
            mount_point: /mnt/data
            state: present</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the array was correctly created:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'mdadm --detail /dev/md/data'</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li></ul></div></section><section class="section" id="extending-raid_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.14. Extending RAID</h3></div></div></div><p>
				You can extend a RAID using the <code class="literal">--grow</code> option of the <code class="literal">mdadm</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Enough disk space.
					</li><li class="listitem">
						The <code class="literal">parted</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Extend RAID partitions. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_resizing-a-partition-with-parted_getting-started-with-partitions">Resizing a partition with parted</a>.
					</li><li class="listitem"><p class="simpara">
						Extend RAID to the maximum of the partition capacity:
					</p><pre class="literallayout"># mdadm --grow --size=max /dev/md0</pre><p class="simpara">
						To set a specific size, write the value of the <code class="literal">--size</code> parameter in kB, for example <code class="literal">--size=<span class="emphasis"><em>524228</em></span></code>.
					</p></li><li class="listitem"><p class="simpara">
						Increase the size of file system. For example, if the volume uses XFS and is mounted to <span class="emphasis"><em>/mnt/</em></span>, enter:
					</p><pre class="literallayout"># xfs_growfs /mnt/</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mdadm(8)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/index">Managing file systems</a>
					</li></ul></div></section><section class="section" id="shrinking-raid_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.15. Shrinking RAID</h3></div></div></div><p>
				You can shrink RAID using the <code class="literal">--grow</code> option of the <code class="literal">mdadm</code> utility.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					The XFS file system does not support shrinking.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">parted</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Shrink the file system. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/index">Managing file systems</a>.
					</li><li class="listitem"><p class="simpara">
						Decrease the RAID to the size, for example to <span class="emphasis"><em>512 MB</em></span>:
					</p><pre class="literallayout"># mdadm --grow --size=<span class="emphasis"><em>524228</em></span> /dev/md0</pre><p class="simpara">
						Write the <code class="literal">--size</code> parameter in kB.
					</p></li><li class="listitem">
						Shrink the partition to the size you need.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mdadm(8)</code> man page on your system
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_resizing-a-partition-with-parted_getting-started-with-partitions">Resizing a partition with parted</a>.
					</li></ul></div></section><section class="section" id="converting-a-root-disk-to-raid1-after-installation_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.16. Converting a root disk to RAID1 after installation</h3></div></div></div><p>
				This section describes how to convert a non-RAID root disk to a RAID1 mirror after installing Red Hat Enterprise Linux 9.
			</p><p>
				On the PowerPC (PPC) architecture, take the following additional steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The instructions in the following Red Hat Knowledgebase article are completed: <a class="link" href="https://access.redhat.com/solutions/2390831">How do I convert my root disk to RAID1 after installation of Red Hat Enterprise Linux 7?</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Copy the contents of the PowerPC Reference Platform (PReP) boot partition from <span class="emphasis"><em>/dev/sda1</em></span> to <span class="emphasis"><em>/dev/sdb1</em></span>:
					</p><pre class="literallayout"># dd if=<span class="emphasis"><em>/dev/sda1</em></span> of=<span class="emphasis"><em>/dev/sdb1</em></span></pre></li><li class="listitem"><p class="simpara">
						Update the <code class="literal">prep</code> and <code class="literal">boot</code> flag on the first partition on both disks:
					</p><pre class="literallayout">$ parted <span class="emphasis"><em>/dev/sda</em></span> set 1 prep on
$ parted <span class="emphasis"><em>/dev/sda</em></span> set 1 boot on

$ parted <span class="emphasis"><em>/dev/sdb</em></span> set 1 prep on
$ parted <span class="emphasis"><em>/dev/sdb</em></span> set 1 boot on</pre></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Executing the <code class="literal">grub2-install <span class="emphasis"><em>/dev/sda</em></span></code> command does not work on a PowerPC machine and returns an error, but the system boots as expected.
				</p></div></rh-alert></section><section class="section" id="creating-advanced-raid-devices_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.17. Creating advanced RAID devices</h3></div></div></div><p>
				In some cases, you might want to install the operating system on an array that is created before the installation completes. Usually, this means setting up the <code class="literal">/boot</code> or root file system arrays on a complex RAID device. In such cases, you might need to use array options that are not supported by the Anaconda installer. To work around this, perform the following steps.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The limited Rescue Mode of the installer does not include man pages. Both the <code class="literal">mdadm</code> and <code class="literal">md</code> man pages contain useful information for creating custom RAID arrays, and might be needed throughout the workaround.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Insert the install disk.
					</li><li class="listitem">
						During the initial boot up, select <span class="strong strong"><strong>Rescue Mode</strong></span> instead of <span class="strong strong"><strong>Install</strong></span> or <span class="strong strong"><strong>Upgrade</strong></span>. When the system fully boots into <code class="literal">Rescue mode</code>, you can see the command line terminal.
					</li><li class="listitem"><p class="simpara">
						From this terminal, execute the following commands:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Create RAID partitions on the target hard drives by using the <code class="literal">parted</code> command.
							</li><li class="listitem">
								Manually create raid arrays by using the <code class="literal">mdadm</code> command from those partitions using any and all settings and options available.
							</li></ol></div></li><li class="listitem">
						Optional: After creating arrays, create file systems on the arrays as well.
					</li><li class="listitem">
						Reboot the computer and select <span class="strong strong"><strong>Install</strong></span> or <span class="strong strong"><strong>Upgrade</strong></span> to install. As the Anaconda installer searches the disks in the system, it finds the pre-existing RAID devices.
					</li><li class="listitem">
						When asked about how to use the disks in the system, select <span class="strong strong"><strong>Custom Layout</strong></span> and click <span class="guibutton">Next</span>. In the device listing, the pre-existing MD RAID devices are listed.
					</li><li class="listitem">
						Select a RAID device and click <span class="guibutton">Edit</span>.
					</li><li class="listitem">
						Configure its mount point and optionally the type of file system it should use if you did not create one earlier, and then click <span class="guibutton">Done</span>. Anaconda installs to this pre-existing RAID device, preserving the custom options you selected when you created it in Rescue Mode.
					</li></ol></div></section><section class="section" id="setting-up-email-notifications-to-monitor-a-raid_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.18. Setting up email notifications to monitor a RAID</h3></div></div></div><p>
				You can set up email alerts to monitor RAID with the <code class="literal">mdadm</code> tool. Once the <code class="literal">MAILADDR</code> variable is set to the required email address, the monitoring system sends the alerts to the added email address.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">mdadm</code> package is installed.
					</li><li class="listitem">
						The mail service is set up.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal">/etc/mdadm.conf</code> configuration file for monitoring array by scanning the RAID details:
					</p><pre class="literallayout"># mdadm --detail --scan &gt;&gt; /etc/mdadm.conf</pre><p class="simpara">
						Note, that <code class="literal">ARRAY</code> and <code class="literal">MAILADDR</code> are mandatory variables.
					</p></li><li class="listitem"><p class="simpara">
						Open the <code class="literal">/etc/mdadm.conf</code> configuration file with a text editor of your choice and add the <code class="literal">MAILADDR</code> variable with the mail address for the notification. For example, add new line:
					</p><pre class="literallayout">MAILADDR <span class="emphasis"><em>example@example.com</em></span></pre><p class="simpara">
						Here, <span class="emphasis"><em>example@example.com</em></span> is an email address to which you want to receive the alerts from the array monitoring.
					</p></li><li class="listitem">
						Save changes in the <code class="literal">/etc/mdadm.conf</code> file and close it.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mdadm.conf(5)</code> man page on your system
					</li></ul></div></section><section class="section" id="replacing-a-failed-disk-in-raid_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.19. Replacing a failed disk in RAID</h3></div></div></div><p>
				You can reconstruct the data from the failed disks using the remaining disks. RAID level and the total number of disks determines the minimum amount of remaining disks needed for a successful data reconstruction.
			</p><p>
				In this procedure, the <span class="emphasis"><em>/dev/md0</em></span> RAID contains four disks. The <span class="emphasis"><em>/dev/sdd</em></span> disk has failed and you need to replace it with the <span class="emphasis"><em>/dev/sdf</em></span> disk.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A spare disk for replacement.
					</li><li class="listitem">
						The <code class="literal">mdadm</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check the failed disk:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								View the kernel logs:
							</p><pre class="literallayout"># journalctl -k -f</pre></li><li class="listitem"><p class="simpara">
								Search for a message similar to the following:
							</p><pre class="literallayout">md/raid:md0: Disk failure on sdd, disabling device.

md/raid:md0: Operation continuing on 3 devices.</pre></li><li class="listitem">
								Press <kbd class="keycap">Ctrl</kbd>+<kbd class="keycap">C</kbd> on your keyboard to exit the <code class="literal">journalctl</code> program.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mark the failed disk as faulty:
					</p><pre class="literallayout"># mdadm --manage <span class="emphasis"><em>/dev/md0</em></span> --fail <span class="emphasis"><em>/dev/sdd</em></span></pre></li><li class="listitem"><p class="simpara">
						Optional: Check if the failed disk was marked correctly:
					</p><pre class="literallayout"># mdadm --detail <span class="emphasis"><em>/dev/md0</em></span></pre><p class="simpara">
						At the end of the output is a list of disks in the <span class="emphasis"><em>/dev/md0</em></span> RAID where the disk <span class="emphasis"><em>/dev/sdd</em></span> has the <span class="strong strong"><strong>faulty</strong></span> status:
					</p><pre class="literallayout">Number   Major   Minor   RaidDevice State
   0       8       16        0      active sync   /dev/sdb
   1       8       32        1      active sync   /dev/sdc
   -       0        0        2      removed
   3       8       64        3      active sync   /dev/sde

   2       8       48        -      faulty   /dev/sdd</pre></li><li class="listitem"><p class="simpara">
						Remove the failed disk from the RAID:
					</p><pre class="screen"># mdadm --manage <span class="emphasis"><em>/dev/md0</em></span> --remove <span class="emphasis"><em>/dev/sdd</em></span></pre><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							If your RAID cannot withstand another disk failure, do not remove any disk until the new disk has the <span class="strong strong"><strong>active sync</strong></span> status. You can monitor the progress using the <code class="literal">watch cat /proc/mdstat</code> command.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Add the new disk to the RAID:
					</p><pre class="literallayout"># mdadm --manage <span class="emphasis"><em>/dev/md0</em></span> --add <span class="emphasis"><em>/dev/sdf</em></span></pre><p class="simpara">
						The <span class="emphasis"><em>/dev/md0</em></span> RAID now includes the new disk <span class="emphasis"><em>/dev/sdf</em></span> and the <code class="literal">mdadm</code> service will automatically starts copying data to it from other disks.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check the details of the array:
					</p><pre class="literallayout"># mdadm --detail <span class="emphasis"><em>/dev/md0</em></span></pre><p class="simpara">
						If this command shows a list of disks in the <span class="emphasis"><em>/dev/md0</em></span> RAID where the new disk has <span class="strong strong"><strong>spare rebuilding</strong></span> status at the end of the output, data is still being copied to it from other disks:
					</p><pre class="literallayout">Number   Major   Minor   RaidDevice State
   0       8       16        0      active sync   /dev/sdb
   1       8       32        1      active sync   /dev/sdc
   4       8       80        2      spare rebuilding   /dev/sdf
   3       8       64        3      active sync   /dev/sde</pre><p class="simpara">
						After data copying is finished, the new disk has an <span class="strong strong"><strong>active sync</strong></span> status.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#setting-up-email-notifications-to-monitor-a-raid_managing-raid" title="19.18. Setting up email notifications to monitor a RAID">Setting up email notifications to monitor a RAID</a>
					</li></ul></div></section><section class="section" id="repairing-raid-disks_managing-raid"><div class="titlepage"><div><div><h3 class="title">19.20. Repairing RAID disks</h3></div></div></div><p>
				This procedure describes how to repair disks in a RAID array.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">mdadm</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check the array for the failed disks behavior:
					</p><pre class="literallayout"># echo check &gt; /sys/block/<span class="emphasis"><em>md0</em></span>/md/sync_action</pre><p class="simpara">
						This checks the array and the <code class="literal">/sys/block/md0/md/sync_action</code> file shows the sync action.
					</p></li><li class="listitem">
						Open the <code class="literal">/sys/block/md0/md/sync_action</code> file with the text editor of your choice and see if there is any message about disk synchronization failures.
					</li><li class="listitem">
						View the <code class="literal">/sys/block/md0/md/mismatch_cnt</code> file. If the <code class="literal">mismatch_cnt</code> parameter is not <code class="literal">0</code>, it means that the RAID disks need repair.
					</li><li class="listitem"><p class="simpara">
						Repair the disks in the array:
					</p><pre class="literallayout"># echo repair &gt; /sys/block/<span class="emphasis"><em>md0</em></span>/md/sync_action</pre><p class="simpara">
						This repairs the disks in the array and writes the result into the <code class="literal">/sys/block/md0/md/sync_action</code> file.
					</p></li><li class="listitem"><p class="simpara">
						View the synchronization progress:
					</p><pre class="literallayout"># cat /sys/block/<span class="emphasis"><em>md0</em></span>/md/sync_action
repair

# cat /proc/mdstat
Personalities : [raid0] [raid6] [raid5] [raid4] [raid1]
md0 : active raid1 sdg[1] dm-3[0]
      511040 blocks super 1.2 [2/2] [UU]
unused devices: &lt;none&gt;</pre></li></ol></div></section></section><section class="chapter" id="encrypting-block-devices-using-luks_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 20. Encrypting block devices using LUKS</h2></div></div></div><p>
			By using the disk encryption, you can protect the data on a block device by encrypting it. To access the device’s decrypted contents, enter a passphrase or key as authentication. This is important for mobile computers and removable media because it helps to protect the device’s contents even if it has been physically removed from the system. The LUKS format is a default implementation of block device encryption in Red Hat Enterprise Linux.
		</p><section class="section" id="luks-disk-encryption_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.1. LUKS disk encryption</h3></div></div></div><p>
				Linux Unified Key Setup-on-disk-format (LUKS) provides a set of tools that simplifies managing the encrypted devices. With LUKS, you can encrypt block devices and enable multiple user keys to decrypt a master key. For bulk encryption of the partition, use this master key.
			</p><p>
				Red Hat Enterprise Linux uses LUKS to perform block device encryption. By default, the option to encrypt the block device is unchecked during the installation. If you select the option to encrypt your disk, the system prompts you for a passphrase every time you boot the computer. This passphrase unlocks the bulk encryption key that decrypts your partition. If you want to modify the default partition table, you can select the partitions that you want to encrypt. This is set in the partition table settings.
			</p><div class="formalpara"><p class="title"><strong>Ciphers</strong></p><p>
					The default cipher used for LUKS is <code class="literal">aes-xts-plain64</code>. The default key size for LUKS is 512 bits. The default key size for LUKS with <span class="strong strong"><strong>Anaconda</strong></span> XTS mode is 512 bits. The following are the available ciphers:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Advanced Encryption Standard (AES)
					</li><li class="listitem">
						Twofish
					</li><li class="listitem">
						Serpent
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Operations performed by LUKS</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						LUKS encrypts entire block devices and is therefore well-suited for protecting contents of mobile devices such as removable storage media or laptop disk drives.
					</li><li class="listitem">
						The underlying contents of the encrypted block device are arbitrary, which makes it useful for encrypting swap devices. This can also be useful with certain databases that use specially formatted block devices for data storage.
					</li><li class="listitem">
						LUKS uses the existing device mapper kernel subsystem.
					</li><li class="listitem">
						LUKS provides passphrase strengthening, which protects against dictionary attacks.
					</li><li class="listitem">
						LUKS devices contain multiple key slots, which means you can add backup keys or passphrases.
					</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					LUKS is not recommended for the following scenarios:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Disk-encryption solutions such as LUKS protect the data only when your system is off. After the system is on and LUKS has decrypted the disk, the files on that disk are available to anyone who have access to them.
						</li><li class="listitem">
							Scenarios that require multiple users to have distinct access keys to the same device. The LUKS1 format provides eight key slots and LUKS2 provides up to 32 key slots.
						</li><li class="listitem">
							Applications that require file-level encryption.
						</li></ul></div></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://gitlab.com/cryptsetup/cryptsetup/blob/master/README.md">LUKS Project Home Page</a>
					</li><li class="listitem">
						<a class="link" href="https://gitlab.com/cryptsetup/LUKS2-docs/blob/master/luks2_doc_wip.pdf">LUKS On-Disk Format Specification</a>
					</li><li class="listitem">
						<a class="link" href="https://doi.org/10.6028/NIST.FIPS.197-upd1">FIPS 197: Advanced Encryption Standard (AES)</a>
					</li></ul></div></section><section class="section" id="luks-versions-in-rhel_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.2. LUKS versions in RHEL</h3></div></div></div><p>
				In Red Hat Enterprise Linux, the default format for LUKS encryption is LUKS2. The old LUKS1 format remains fully supported and it is provided as a format compatible with earlier Red Hat Enterprise Linux releases. LUKS2 re-encryption is considered more robust and safe to use as compared to LUKS1 re-encryption.
			</p><p>
				The LUKS2 format enables future updates of various parts without a need to modify binary structures. Internally it uses JSON text format for metadata, provides redundancy of metadata, detects metadata corruption, and automatically repairs from a metadata copy.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Do not use LUKS2 in systems that support only LUKS1.
				</p></div></rh-alert><p>
				Since Red Hat Enterprise Linux 9.2, you can use the <code class="literal">cryptsetup reencrypt</code> command for both the LUKS versions to encrypt the disk.
			</p><div class="formalpara"><p class="title"><strong>Online re-encryption</strong></p><p>
					The LUKS2 format supports re-encrypting encrypted devices while the devices are in use. For example, you do not have to unmount the file system on the device to perform the following tasks:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Changing the volume key
					</li><li class="listitem"><p class="simpara">
						Changing the encryption algorithm
					</p><p class="simpara">
						When encrypting a non-encrypted device, you must still unmount the file system. You can remount the file system after a short initialization of the encryption.
					</p><p class="simpara">
						The LUKS1 format does not support online re-encryption.
					</p></li></ul></div><div class="formalpara"><p class="title"><strong>Conversion</strong></p><p>
					In certain situations, you can convert LUKS1 to LUKS2. The conversion is not possible specifically in the following scenarios:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A LUKS1 device is marked as being used by a Policy-Based Decryption (PBD) Clevis solution. The <code class="literal">cryptsetup</code> tool does not convert the device when some <code class="literal">luksmeta</code> metadata are detected.
					</li><li class="listitem">
						A device is active. The device must be in an inactive state before any conversion is possible.
					</li></ul></div></section><section class="section" id="options-for-data-protection-during-luks2-re-encryption_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.3. Options for data protection during LUKS2 re-encryption</h3></div></div></div><p>
				LUKS2 provides several options that prioritize performance or data protection during the re-encryption process. It provides the following modes for the <code class="literal">resilience</code> option, and you can select any of these modes by using the <code class="literal">cryptsetup reencrypt --resilience resilience-mode <span class="emphasis"><em>/dev/sdx</em></span></code> command:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">checksum</code></span></dt><dd><p class="simpara">
							The default mode. It balances data protection and performance.
						</p><p class="simpara">
							This mode stores individual checksums of the sectors in the re-encryption area, which the recovery process can detect for the sectors that were re-encrypted by LUKS2. The mode requires that the block device sector write is atomic.
						</p></dd><dt><span class="term"><code class="literal">journal</code></span></dt><dd>
							The safest mode but also the slowest. Since this mode journals the re-encryption area in the binary area, the LUKS2 writes the data twice.
						</dd><dt><span class="term"><code class="literal">none</code></span></dt><dd>
							The <code class="literal">none</code> mode prioritizes performance and provides no data protection. It protects the data only against safe process termination, such as the <code class="literal">SIGTERM</code> signal or the user pressing <kbd class="keycap">Ctrl</kbd>+<kbd class="keycap">C</kbd> key. Any unexpected system failure or application failure might result in data corruption.
						</dd></dl></div><p>
				If a LUKS2 re-encryption process terminates unexpectedly by force, LUKS2 can perform the recovery in one of the following ways:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Automatically</span></dt><dd><p class="simpara">
							By performing any one of the following actions triggers the automatic recovery action during the next LUKS2 device open action:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Executing the <code class="literal">cryptsetup open</code> command.
								</li><li class="listitem">
									Attaching the device with the <code class="literal">systemd-cryptsetup</code> command.
								</li></ul></div></dd><dt><span class="term">Manually</span></dt><dd>
							By using the <code class="literal">cryptsetup repair <span class="emphasis"><em>/dev/sdx</em></span></code> command on the LUKS2 device.
						</dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">cryptsetup-reencrypt(8)</code> and <code class="literal">cryptsetup-repair(8)</code> man pages on your system
					</li></ul></div></section><section class="section" id="encrypting-existing-data-on-a-block-device-using-luks2_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.4. Encrypting existing data on a block device using LUKS2</h3></div></div></div><p>
				You can encrypt the existing data on a not yet encrypted device by using the LUKS2 format. A new LUKS header is stored in the head of the device.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The block device has a file system.
					</li><li class="listitem"><p class="simpara">
						You have backed up your data.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							You might lose your data during the encryption process due to a hardware, kernel, or human failure. Ensure that you have a reliable backup before you start encrypting the data.
						</p></div></rh-alert></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Unmount all file systems on the device that you plan to encrypt, for example:
					</p><pre class="screen"># <span class="strong strong"><strong>umount <span class="emphasis"><em>/dev/mapper/vg00-lv00</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Make free space for storing a LUKS header. Use one of the following options that suits your scenario:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								In the case of encrypting a logical volume, you can extend the logical volume without resizing the file system. For example:
							</p><pre class="screen"># <span class="strong strong"><strong>lvextend -L+<span class="emphasis"><em>32M /dev/mapper/vg00-lv00</em></span></strong></span></pre></li><li class="listitem">
								Extend the partition by using partition management tools, such as <code class="literal">parted</code>.
							</li><li class="listitem">
								Shrink the file system on the device. You can use the <code class="literal">resize2fs</code> utility for the ext2, ext3, or ext4 file systems. Note that you cannot shrink the XFS file system.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Initialize the encryption:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup reencrypt --encrypt --init-only --reduce-device-size <span class="emphasis"><em>32M</em></span> /dev/mapper/<span class="emphasis"><em>vg00-lv00 lv00_encrypted</em></span></strong></span>

/dev/mapper/<span class="emphasis"><em>lv00_encrypted</em></span> is now active and ready for online encryption.</pre></li><li class="listitem"><p class="simpara">
						Mount the device:
					</p><pre class="screen"># <span class="strong strong"><strong>mount /dev/mapper/<span class="emphasis"><em>lv00_encrypted /mnt/lv00_encrypted</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Add an entry for a persistent mapping to the <code class="literal">/etc/crypttab</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Find the <code class="literal">luksUUID</code>:
							</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup luksUUID /dev/mapper/<span class="emphasis"><em>vg00-lv00</em></span></strong></span>

a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325</pre></li><li class="listitem"><p class="simpara">
								Open <code class="literal">/etc/crypttab</code> in a text editor of your choice and add a device in this file:
							</p><pre class="screen">$ <span class="strong strong"><strong>vi /etc/crypttab</strong></span>

lv00_encrypted UUID=<span class="emphasis"><em>a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325</em></span> none</pre><p class="simpara">
								Replace <span class="emphasis"><em>a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325</em></span> with your device’s <code class="literal">luksUUID</code>.
							</p></li><li class="listitem"><p class="simpara">
								Refresh initramfs with <code class="literal">dracut</code>:
							</p><pre class="screen">$ <span class="strong strong"><strong>dracut -f --regenerate-all</strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Add an entry for a persistent mounting to the <code class="literal">/etc/fstab</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Find the file system’s UUID of the active LUKS block device:
							</p><pre class="screen">$ <span class="strong strong"><strong>blkid -p /dev/mapper/<span class="emphasis"><em>lv00_encrypted</em></span></strong></span>

/dev/mapper/<span class="emphasis"><em>lv00-encrypted</em></span>: UUID="<span class="emphasis"><em>37bc2492-d8fa-4969-9d9b-bb64d3685aa9</em></span>" BLOCK_SIZE="4096" TYPE="xfs" USAGE="filesystem"</pre></li><li class="listitem"><p class="simpara">
								Open <code class="literal">/etc/fstab</code> in a text editor of your choice and add a device in this file, for example:
							</p><pre class="screen">$ <span class="strong strong"><strong>vi /etc/fstab</strong></span>

UUID=<span class="emphasis"><em>37bc2492-d8fa-4969-9d9b-bb64d3685aa9</em></span> /home auto rw,user,auto 0</pre><p class="simpara">
								Replace <span class="emphasis"><em>37bc2492-d8fa-4969-9d9b-bb64d3685aa9</em></span> with your file system’s UUID.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Resume the online encryption:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup reencrypt --resume-only /dev/mapper/<span class="emphasis"><em>vg00-lv00</em></span></strong></span>

Enter passphrase for /dev/mapper/<span class="emphasis"><em>vg00-lv00</em></span>:
Auto-detected active dm device '<span class="emphasis"><em>lv00_encrypted</em></span>' for data device /dev/mapper/<span class="emphasis"><em>vg00-lv00</em></span>.
Finished, time 00:31.130, 10272 MiB written, speed 330.0 MiB/s</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify if the existing data was encrypted:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup luksDump /dev/mapper/<span class="emphasis"><em>vg00-lv00</em></span></strong></span>

LUKS header information
Version: 2
Epoch: 4
Metadata area: 16384 [bytes]
Keyslots area: 16744448 [bytes]
UUID: a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325
Label: (no label)
Subsystem: (no subsystem)
Flags: (no flags)

Data segments:
  0: crypt
	offset: 33554432 [bytes]
	length: (whole device)
	cipher: aes-xts-plain64
[...]</pre></li><li class="listitem"><p class="simpara">
						View the status of the encrypted blank block device:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup status <span class="emphasis"><em>lv00_encrypted</em></span></strong></span>

/dev/mapper/<span class="emphasis"><em>lv00_encrypted</em></span> is active and is in use.
  type:    LUKS2
  cipher:  aes-xts-plain64
  keysize: 512 bits
  key location: keyring
  device:  /dev/mapper/<span class="emphasis"><em>vg00-lv00</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">cryptsetup(8)</code>, <code class="literal">cryptsetup-reencrypt(8)</code>, <code class="literal">lvextend(8)</code>, <code class="literal">resize2fs(8)</code>, and <code class="literal">parted(8)</code> man pages on your system
					</li></ul></div></section><section class="section" id="encrypting-existing-data-on-a-block-device-using-luks2-with-a-detached-header_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.5. Encrypting existing data on a block device using LUKS2 with a detached header</h3></div></div></div><p>
				You can encrypt existing data on a block device without creating free space for storing a LUKS header. The header is stored in a detached location, which also serves as an additional layer of security. The procedure uses the LUKS2 encryption format.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The block device has a file system.
					</li><li class="listitem"><p class="simpara">
						You have backed up your data.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							You might lose your data during the encryption process due to a hardware, kernel, or human failure. Ensure that you have a reliable backup before you start encrypting the data.
						</p></div></rh-alert></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Unmount all file systems on the device, for example:
					</p><pre class="screen"># <span class="strong strong"><strong>umount /dev/<span class="emphasis"><em>nvme0n1p1</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Initialize the encryption:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup reencrypt --encrypt --init-only --header <span class="emphasis"><em>/home/header</em></span> /dev/<span class="emphasis"><em>nvme0n1p1 nvme_encrypted</em></span></strong></span>

WARNING!
========
Header file does not exist, do you want to create it?

Are you sure? (Type 'yes' in capital letters): YES
Enter passphrase for <span class="emphasis"><em>/home/header</em></span>:
Verify passphrase:
/dev/mapper/<span class="emphasis"><em>nvme_encrypted</em></span> is now active and ready for online encryption.</pre><p class="simpara">
						Replace <span class="emphasis"><em>/home/header</em></span> with a path to the file with a detached LUKS header. The detached LUKS header has to be accessible to unlock the encrypted device later.
					</p></li><li class="listitem"><p class="simpara">
						Mount the device:
					</p><pre class="screen"># <span class="strong strong"><strong>mount /dev/mapper/<span class="emphasis"><em>nvme_encrypted /mnt/nvme_encrypted</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Resume the online encryption:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup reencrypt --resume-only --header <span class="emphasis"><em>/home/header</em></span> /dev/<span class="emphasis"><em>nvme0n1p1</em></span></strong></span>

Enter passphrase for /dev/<span class="emphasis"><em>nvme0n1p1</em></span>:
Auto-detected active dm device 'nvme_encrypted' for data device /dev/<span class="emphasis"><em>nvme0n1p1</em></span>.
Finished, time 00m51s,   10 GiB written, speed 198.2 MiB/s</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify if the existing data on a block device using LUKS2 with a detached header is encrypted:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup luksDump <span class="emphasis"><em>/home/header</em></span></strong></span>

LUKS header information
Version:       	2
Epoch:         	88
Metadata area: 	16384 [bytes]
Keyslots area: 	16744448 [bytes]
UUID:          	c4f5d274-f4c0-41e3-ac36-22a917ab0386
Label:         	(no label)
Subsystem:     	(no subsystem)
Flags:       	(no flags)

Data segments:
  0: crypt
	offset: 0 [bytes]
	length: (whole device)
	cipher: aes-xts-plain64
	sector: 512 [bytes]
[...]</pre></li><li class="listitem"><p class="simpara">
						View the status of the encrypted blank block device:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup status <span class="emphasis"><em>nvme_encrypted</em></span></strong></span>

/dev/mapper/<span class="emphasis"><em>nvme_encrypted</em></span> is active and is in use.
  type:    LUKS2
  cipher:  aes-xts-plain64
  keysize: 512 bits
  key location: keyring
  device:  /dev/<span class="emphasis"><em>nvme0n1p1</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">cryptsetup(8)</code> and <code class="literal">cryptsetup-reencrypt(8)</code> man pages on your system
					</li></ul></div></section><section class="section" id="encrypting-a-blank-block-device-using-luks2_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.6. Encrypting a blank block device using LUKS2</h3></div></div></div><p>
				You can encrypt a blank block device, which you can use for an encrypted storage by using the LUKS2 format.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A blank block device. You can use commands such as <code class="literal">lsblk</code> to find if there is no real data on that device, for example, a file system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Setup a partition as an encrypted LUKS partition:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup luksFormat /dev/<span class="emphasis"><em>nvme0n1p1</em></span></strong></span>

WARNING!
========
This will overwrite data on <span class="emphasis"><em>/dev/nvme0n1p1</em></span> irrevocably.
Are you sure? (Type 'yes' in capital letters): YES
Enter passphrase for /dev/<span class="emphasis"><em>nvme0n1p1</em></span>:
Verify passphrase:</pre></li><li class="listitem"><p class="simpara">
						Open an encrypted LUKS partition:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup open /dev/<span class="emphasis"><em>nvme0n1p1 nvme0n1p1_encrypted</em></span></strong></span>

Enter passphrase for /dev/<span class="emphasis"><em>nvme0n1p1</em></span>:</pre><p class="simpara">
						This unlocks the partition and maps it to a new device by using the device mapper. To not overwrite the encrypted data, this command alerts the kernel that the device is an encrypted device and addressed through LUKS by using the <code class="literal">/dev/mapper/<span class="emphasis"><em>device_mapped_name</em></span></code> path.
					</p></li><li class="listitem"><p class="simpara">
						Create a file system to write encrypted data to the partition, which must be accessed through the device mapped name:
					</p><pre class="screen"># <span class="strong strong"><strong>mkfs -t ext4 /dev/mapper/<span class="emphasis"><em>nvme0n1p1_encrypted</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Mount the device:
					</p><pre class="screen"># <span class="strong strong"><strong>mount /dev/mapper/<span class="emphasis"><em>nvme0n1p1_encrypted mount-point</em></span></strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify if the blank block device is encrypted:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup luksDump /dev/<span class="emphasis"><em>nvme0n1p1</em></span></strong></span>

LUKS header information
Version:       	2
Epoch:         	3
Metadata area: 	16384 [bytes]
Keyslots area: 	16744448 [bytes]
UUID:          	34ce4870-ffdf-467c-9a9e-345a53ed8a25
Label:         	(no label)
Subsystem:     	(no subsystem)
Flags:       	(no flags)

Data segments:
  0: crypt
	offset: 16777216 [bytes]
	length: (whole device)
	cipher: aes-xts-plain64
	sector: 512 [bytes]
[...]</pre></li><li class="listitem"><p class="simpara">
						View the status of the encrypted blank block device:
					</p><pre class="screen"># <span class="strong strong"><strong>cryptsetup status <span class="emphasis"><em>nvme0n1p1_encrypted</em></span></strong></span>

/dev/mapper/<span class="emphasis"><em>nvme0n1p1_encrypted</em></span> is active and is in use.
  type:    LUKS2
  cipher:  aes-xts-plain64
  keysize: 512 bits
  key location: keyring
  device:  /dev/<span class="emphasis"><em>nvme0n1p1</em></span>
  sector size:  512
  offset:  32768 sectors
  size:    20938752 sectors
  mode:    read/write</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">cryptsetup(8)</code>, <code class="literal">cryptsetup-open (8)</code>, and <code class="literal">cryptsetup-lusFormat(8)</code> man pages on your system
					</li></ul></div></section><section class="section" id="configuring-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.7. Configuring the LUKS passphrase in the web console</h3></div></div></div><p class="_abstract _abstract">
				If you want to add encryption to an existing logical volume on your system, you can only do so through formatting the volume.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li><li class="listitem">
						Available existing logical volume without encryption.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button, <span class="guibutton">⋮</span>, next to the storage device you want to encrypt.
					</li><li class="listitem">
						From the drop-down menu, select <span class="guibutton">Format</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Encryption field</strong></span>, select the encryption specification, <span class="strong strong"><strong>LUKS1</strong></span> or <span class="strong strong"><strong>LUKS2</strong></span>.
					</li><li class="listitem">
						Set and confirm your new passphrase.
					</li><li class="listitem">
						Optional: Modify further encryption options.
					</li><li class="listitem">
						Finalize formatting settings.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Format</strong></span>.
					</li></ol></div></section><section class="section" id="changing-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.8. Changing the LUKS passphrase in the web console</h3></div></div></div><p class="_abstract _abstract">
				Change a LUKS passphrase on an encrypted disk or partition in the web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">cockpit-storaged</code> package is installed on your system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, select the disk with encrypted data.
					</li><li class="listitem"><p class="simpara">
						On the disk page, scroll to the <span class="strong strong"><strong>Keys</strong></span> section and click the edit button.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/cfaf0f76552b0b0e79c9e3f01f8ef688/cockpit-LUKS-edit.png" alt="cockpit LUKS edit"></span>

					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Change passphrase</strong></span> dialog window:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter your current passphrase.
							</li><li class="listitem">
								Enter your new passphrase.
							</li><li class="listitem"><p class="simpara">
								Confirm your new passphrase.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/901a308feba70ad35b232e9179f0f81a/cockpit-change-pwd.png" alt="cockpit change pwd"></span>

							</p></li></ol></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span>
					</li></ol></div></section><section class="section" id="creating-a-luks2-encrypted-volume-using-the-storage-role_encrypting-block-devices-using-luks"><div class="titlepage"><div><div><h3 class="title">20.9. Creating a LUKS2 encrypted volume by using the <code class="literal">storage</code> RHEL system role</h3></div></div></div><p>
				You can use the <code class="literal">storage</code> role to create and configure a volume encrypted with LUKS by running an Ansible playbook.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
					</li><li class="listitem">
						You are logged in to the control node as a user who can run playbooks on the managed nodes.
					</li><li class="listitem">
						The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Store your sensitive variables in an encrypted file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create the vault:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-vault create vault.yml</strong></span>
New Vault password: <span class="emphasis"><em>&lt;vault_password&gt;</em></span>
Confirm New Vault password: <span class="emphasis"><em>&lt;vault_password&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
								After the <code class="literal">ansible-vault create</code> command opens an editor, enter the sensitive data in the <code class="literal"><span class="emphasis"><em>&lt;key&gt;</em></span>: <span class="emphasis"><em>&lt;value&gt;</em></span></code> format:
							</p><pre class="programlisting language-ini">luks_password: <span class="emphasis"><em>&lt;password&gt;</em></span></pre></li><li class="listitem">
								Save the changes, and close the editor. Ansible encrypts the data in the vault.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
					</p><pre class="programlisting language-yaml">---
- name: Manage local storage
  hosts: managed-node-01.example.com
  vars_files:
    - vault.yml
  tasks:
    - name: Create and configure a volume encrypted with LUKS
      ansible.builtin.include_role:
        name: rhel-system-roles.storage
      vars:
        storage_volumes:
          - name: barefs
            type: disk
            disks:
              - sdb
            fs_type: xfs
            fs_label: <span class="emphasis"><em>&lt;label&gt;</em></span>
            mount_point: /mnt/data
            encryption: true
            encryption_password: "{{ luks_password }}"</pre><p class="simpara">
						For details about all variables used in the playbook, see the <code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file on the control node.
					</p></li><li class="listitem"><p class="simpara">
						Validate the playbook syntax:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --ask-vault-pass --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
						Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
					</p></li><li class="listitem"><p class="simpara">
						Run the playbook:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --ask-vault-pass ~/playbook.yml</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find the <code class="literal">luksUUID</code> value of the LUKS encrypted volume:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksUUID /dev/sdb'</strong></span>

4e4e7970-1822-470e-b55a-e91efe5d0f5c</pre></li><li class="listitem"><p class="simpara">
						View the encryption status of the volume:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'cryptsetup status luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c'</strong></span>

/dev/mapper/luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c is active and is in use.
  type:    LUKS2
  cipher:  aes-xts-plain64
  keysize: 512 bits
  key location: keyring
  device:  /dev/sdb
...</pre></li><li class="listitem"><p class="simpara">
						Verify the created LUKS encrypted volume:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksDump /dev/sdb'</strong></span>

LUKS header information
Version:        2
Epoch:          3
Metadata area:  16384 [bytes]
Keyslots area:  16744448 [bytes]
UUID:           4e4e7970-1822-470e-b55a-e91efe5d0f5c
Label:          (no label)
Subsystem:      (no subsystem)
Flags:          (no flags)

Data segments:
  0: crypt
        offset: 16777216 [bytes]
        length: (whole device)
        cipher: aes-xts-plain64
        sector: 512 [bytes]
...</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">/usr/share/ansible/roles/rhel-system-roles.storage/README.md</code> file
					</li><li class="listitem">
						<code class="literal">/usr/share/doc/rhel-system-roles/storage/</code> directory
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/encrypting-block-devices-using-luks_managing-storage-devices">Encrypting block devices by using LUKS</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/ansible-vault_automating-system-administration-by-using-rhel-system-roles">Ansible vault</a>
					</li></ul></div></section></section><section class="chapter" id="using-nvdimm-persistent-memory-storage_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 21. Using NVDIMM persistent memory storage</h2></div></div></div><p>
			You can enable and manage various types of storage on Non-Volatile Dual In-line Memory Modules (NVDIMM) devices connected to your system.
		</p><p>
			For installing Red Hat Enterprise Linux 9 on NVDIMM storage, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#installing-to-a-nvdimm-device_storage-devices">Installing to an NVDIMM device</a> instead.
		</p><section class="section" id="the-nvdimm-persistent-memory-technology_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.1. The NVDIMM persistent memory technology</h3></div></div></div><p>
				Non-Volatile Dual In-line Memory Modules (NVDIMM) persistent memory, also called storage class memory or <code class="literal">pmem</code>, is a combination of memory and storage.
			</p><p>
				NVDIMM combines the durability of storage with the low access latency and the high bandwidth of dynamic RAM (DRAM). The following are the other advantages of using NVDIMM:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						NVDIMM storage is byte-addressable, which means it can be accessed by using the CPU load and store instructions. In addition to the read() and write() system calls, which are required for accessing traditional block-based storage, NVDIMM also supports direct load and a store programming model.
					</li><li class="listitem">
						The performance characteristics of NVDIMM are similar to DRAM with very low access latency, typically in the tens to hundreds of nanoseconds.
					</li><li class="listitem">
						Data stored on NVDIMM is preserved when the power is off, similar to a persistent memory.
					</li><li class="listitem">
						With the direct access (DAX) technology, applications to memory map storage directly are possible without going through the system page cache. This frees up DRAM for other purposes.
					</li></ul></div><p>
				NVDIMM is beneficial in use cases such as:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Databases</span></dt><dd>
							The reduced storage access latency on NVDIMM improves database performance.
						</dd><dt><span class="term">Rapid restart</span></dt><dd><p class="simpara">
							Rapid restart is also called the warm cache effect. For example, a file server has none of the file contents in memory after starting. As clients connect and read or write data, that data is cached in the page cache. Eventually, the cache contains mostly hot data. After a reboot, the system must start the process again on traditional storage.
						</p><p class="simpara">
							With NVDIMM, it is possible for an application to keep the warm cache across reboots if the application is designed properly. In this example, there would be no page cache involved: the application would cache data directly in the persistent memory.
						</p></dd><dt><span class="term">Fast write-cache</span></dt><dd>
							File servers often do not acknowledge a client write request until the data is on durable media. Using NVDIMM as a fast write-cache, enables a file server to acknowledge the write request quickly, and results in low latency.
						</dd></dl></div></section><section class="section" id="nvdimm-interleaving-and-regions_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.2. NVDIMM interleaving and regions</h3></div></div></div><p>
				Non-Volatile Dual In-line Memory Modules (NVDIMM) devices support grouping into interleaved regions.
			</p><p>
				NVDIMM devices can be grouped into interleave sets in the same way as regular dynamic RAM (DRAM). An interleave set is similar to a RAID 0 level (stripe) configuration across multiple DIMMs. An Interleave set is also called a region.
			</p><p>
				Interleaving has the following advantages:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						NVDIMM devices benefit from increased performance when they are configured into interleave sets.
					</li><li class="listitem">
						Interleaving can combine multiple smaller NVDIMM devices into a larger logical device.
					</li></ul></div><p>
				NVDIMM interleave sets are configured in the system BIOS or UEFI firmware. Red Hat Enterprise Linux creates one region device for each interleave set.
			</p></section><section class="section" id="nvdimm-namespaces_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.3. NVDIMM namespaces</h3></div></div></div><p>
				Non-Volatile Dual In-line Memory Modules (NVDIMM) regions can be divided into one or more namespaces depending on the size of the label area. Using namespaces, you can access the device using different methods, based on the access modes of the namespace such as <code class="literal">sector</code>, <code class="literal">fsdax</code>, <code class="literal">devdax</code>, and <code class="literal">raw</code>. For more information, <a class="link" href="#nvdimm-access-modes_using-nvdimm-persistent-memory-storage" title="21.4. NVDIMM access modes">NVDIMM access modes</a>.
			</p><p>
				Some NVDIMM devices do not support multiple namespaces on a region:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If your ⁠NVDIMM device supports labels, you can subdivide the region into namespaces.
					</li><li class="listitem">
						If your NVDIMM device does not support labels, the region can only contain a single namespace. In that case, Red Hat Enterprise Linux creates a default namespace that covers the entire region.
					</li></ul></div></section><section class="section" id="nvdimm-access-modes_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.4. NVDIMM access modes</h3></div></div></div><p>
				You can configure Non-Volatile Dual In-line Memory Modules (NVDIMM) namespaces to use either of the following modes:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">sector</code></span></dt><dd><p class="simpara">
							Presents the storage as a fast block device. This mode is useful for legacy applications that are not modified to use NVDIMM storage, or for applications that use the full I/O stack, including Device Mapper.
						</p><p class="simpara">
							A <code class="literal">sector</code> device can be used in the same way as any other block device on the system. You can create partitions or file systems on it, configure it as part of a software RAID set, or use it as the cache device for <code class="literal">dm-cache</code>.
						</p><p class="simpara">
							Devices in this mode are available as <code class="literal">/dev/pmem<span class="emphasis"><em>N</em></span>s</code>. After creating the namespace, see the listed <code class="literal">blockdev</code> value.
						</p></dd><dt><span class="term"><code class="literal">devdax</code>, or device direct access (DAX)</span></dt><dd><p class="simpara">
							With <code class="literal">devdax</code>, NVDIMM devices support direct access programming as described in the Storage Networking Industry Association (SNIA) Non-Volatile Memory (NVM) Programming Model specification. In this mode, I/O bypasses the storage stack of the kernel. Therefore, no Device Mapper drivers can be used.
						</p><p class="simpara">
							Device DAX provides raw access to NVDIMM storage by using a DAX character device node. Data on a <code class="literal">devdax</code> device can be made durable using CPU cache flushing and fencing instructions. Certain databases and virtual machine hypervisors might benefit from this mode. File systems cannot be created on <code class="literal">devdax</code> devices.
						</p><p class="simpara">
							Devices in this mode are available as <code class="literal">/dev/dax<span class="emphasis"><em>N</em></span>.<span class="emphasis"><em>M</em></span></code>. After creating the namespace, see the listed <code class="literal">chardev</code> value.
						</p></dd><dt><span class="term"><code class="literal">fsdax</code>, or file system direct access (DAX)</span></dt><dd><p class="simpara">
							With <code class="literal">fsdax</code>, NVDIMM devices support direct access programming as described in the Storage Networking Industry Association (SNIA) Non-Volatile Memory (NVM) Programming Model specification. In this mode, I/O bypasses the storage stack of the kernel, and many Device Mapper drivers therefore cannot be used.
						</p><p class="simpara">
							You can create file systems on file system DAX devices.
						</p><p class="simpara">
							Devices in this mode are available as <code class="literal">/dev/pmem<span class="emphasis"><em>N</em></span></code>. After creating the namespace, see the listed <code class="literal">blockdev</code> value.
						</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								The file system DAX technology is provided only as a Technology Preview, and is not supported by Red Hat.
							</p></div></rh-alert></dd><dt><span class="term"><code class="literal">raw</code></span></dt><dd><p class="simpara">
							Presents a memory disk that does not support DAX. In this mode, namespaces have several limitations and should not be used.
						</p><p class="simpara">
							Devices in this mode are available as <code class="literal">/dev/pmem<span class="emphasis"><em>N</em></span></code>. After creating the namespace, see the listed <code class="literal">blockdev</code> value.
						</p></dd></dl></div></section><section class="section" id="installing-ndctl_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.5. Installing ndctl</h3></div></div></div><p>
				You can install the <code class="literal">ndctl</code> utility to configure and monitor Non-Volatile Dual In-line Memory Modules (NVDIMM) devices.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Install the <code class="literal">ndctl</code> utility:
					</p><pre class="screen"># dnf install ndctl</pre></li></ul></div></section><section class="section" id="creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.6. Creating a sector namespace on an NVDIMM to act as a block device</h3></div></div></div><p>
				You can configure a Non-Volatile Dual In-line Memory Modules (NVDIMM) device in sector mode, also called legacy mode, to support traditional, block-based storage.
			</p><p>
				You can either:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						reconfigure an existing namespace to sector mode, or
					</li><li class="listitem">
						create a new sector namespace if there is available space.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An NVDIMM device is attached to your system.
					</li></ul></div><section class="section" id="reconfiguring-an-existing-nvdimm-namespace-to-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device"><div class="titlepage"><div><div><h4 class="title">21.6.1. Reconfiguring an existing NVDIMM namespace to sector mode</h4></div></div></div><p>
					You can reconfigure an Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace to sector mode for using it as a fast block device.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						Reconfiguring a namespace deletes previously stored data on the namespace.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">ndctl</code> utility is installed. For more information, see <a class="link" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" title="21.5. Installing ndctl">Installing ndctl</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							View the existing namespaces:
						</p><pre class="literallayout"># ndctl list --namespaces --idle
[
  {
    "dev":"namespace1.0",
    "mode":"raw",
    "size":34359738368,
    "state":"disabled",
    "numa_node":1
  },
  {
    "dev":"namespace0.0",
    "mode":"raw",
    "size":34359738368,
    "state":"disabled",
    "numa_node":0
  }
]</pre></li><li class="listitem"><p class="simpara">
							Reconfigure the selected namespace to the sector mode:
						</p><pre class="literallayout"># ndctl create-namespace --force --reconfig=<span class="emphasis"><em>namespace-ID</em></span> --mode=sector</pre><div class="example" id="idm140664182397360"><p class="title"><strong>Example 21.1. Reconfiguring namespace1.0 in sector mode</strong></p><div class="example-contents"><pre class="literallayout"># ndctl create-namespace --force --reconfig=namespace1.0 --mode=sector
{
  "dev":"namespace1.0",
  "mode":"sector",
  "size":"755.26 GiB (810.95 GB)",
  "uuid":"2509949d-1dc4-4ee0-925a-4542b28aa616",
  "sector_size":4096,
  "blockdev":"pmem1s"
}</pre></div></div><p class="simpara">
							The reconfigured namespace is now available under the <code class="literal">/dev</code> directory as the <code class="literal">/dev/pmem1s</code> file.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the existing namespace on your system is reconfigured:
						</p><pre class="literallayout"># ndctl list --namespace namespace1.0
[
  {
    "dev":"namespace1.0",
    "mode":"sector",
    "size":810954706944,
    "uuid":"2509949d-1dc4-4ee0-925a-4542b28aa616",
    "sector_size":4096,
    "blockdev":"pmem1s"
  }
]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ndctl-create-namespace(1)</code> man page on your system
						</li></ul></div></section><section class="section" id="creating-a-new-nvdimm-namespace-in-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device"><div class="titlepage"><div><div><h4 class="title">21.6.2. Creating a new NVDIMM namespace in sector mode</h4></div></div></div><p>
					You can create a Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace in sector mode for using it as a fast block device if there is available space in the region.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">ndctl</code> utility is installed. For more information, see <a class="link" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" title="21.5. Installing ndctl">Installing ndctl</a>.
						</li><li class="listitem"><p class="simpara">
							The NVDIMM device supports labels to create multiple namespaces in a region. You can check this using the following command:
						</p><pre class="literallayout"># ndctl read-labels nmem0 &gt;/dev/null
  read 1 nmem</pre><p class="simpara">
							This indicates that it read the label of one NVDIMM device. If the value is <code class="literal">0</code>, it implies that your device does not support labels.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the <code class="literal">pmem</code> regions on your system that have available space. In the following example, space is available in the <span class="emphasis"><em>region1</em></span> and <span class="emphasis"><em>region0</em></span> regions:
						</p><pre class="literallayout"># ndctl list --regions
[
  {
    "dev":"region1",
    "size":2156073582592,
    "align":16777216,
    "available_size":2117418876928,
    "max_available_extent":2117418876928,
    "type":"pmem",
    "iset_id":-9102197055295954944,
    "badblock_count":1,
    "persistence_domain":"memory_controller"
  },
  {
    "dev":"region0",
    "size":2156073582592,
    "align":16777216,
    "available_size":2143188680704,
    "max_available_extent":2143188680704,
    "type":"pmem",
    "iset_id":736272362787276936,
    "badblock_count":3,
    "persistence_domain":"memory_controller"
  }
]</pre></li><li class="listitem"><p class="simpara">
							Allocate one or more namespaces on any of the available regions:
						</p><pre class="literallayout"># ndctl create-namespace --mode=sector --region=regionN --size=namespace-size</pre><div class="example" id="idm140664182372624"><p class="title"><strong>Example 21.2. Creating a 36-GiB sector namespace on region0</strong></p><div class="example-contents"><pre class="literallayout"># ndctl create-namespace --mode=sector --region=region0 --size=36G
{
  "dev":"namespace0.1",
  "mode":"sector",
  "size":"35.96 GiB (38.62 GB)",
  "uuid":"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817",
  "sector_size":4096,
  "blockdev":"pmem0.1s"
}</pre></div></div><p class="simpara">
							The new namespace is now available as <code class="literal">/dev/pmem0.1s</code>.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the new namespace is created in the sector mode:
						</p><pre class="literallayout"># ndctl list -RN -n namespace0.1
{
  "regions":[
    {
      "dev":"region0",
      "size":2156073582592,
      "align":16777216,
      "available_size":2104533975040,
      "max_available_extent":2104533975040,
      "type":"pmem",
      "iset_id":736272362787276936,
      "badblock_count":3,
      "persistence_domain":"memory_controller",
      "namespaces":[
        {
          "dev":"namespace0.1",
          "mode":"sector",
          "size":38615912448,
          "uuid":"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817",
          "sector_size":4096,
          "blockdev":"pmem0.1s"
        }
      ]
    }
  ]
}</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ndctl-create-namespace(1)</code> man page on your system
						</li></ul></div></section></section><section class="section" id="creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.7. Creating a device DAX namespace on an NVDIMM</h3></div></div></div><p>
				Configure the NVDIMM device that is attached to your system, in device DAX mode to support character storage with direct access capabilities.
			</p><p>
				Consider the following options:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Reconfiguring an existing namespace to device DAX mode.
					</li><li class="listitem">
						Creating a new device DAX namespace, if there is space available.
					</li></ul></div><section class="section" id="nvdimm-in-device-direct-access-mode_creating-a-device-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.7.1. NVDIMM in device direct access mode</h4></div></div></div><p>
					Device direct access (device DAX, <code class="literal">devdax</code>) provides a means for applications to directly access storage, without the involvement of a file system. The benefit of device DAX is that it provides a guaranteed fault granularity, which can be configured using the <code class="literal">--align</code> option of the <code class="literal">ndctl</code> utility.
				</p><p>
					For the Intel 64 and AMD64 architecture, the following fault granularities are supported:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							4 KiB
						</li><li class="listitem">
							2 MiB
						</li><li class="listitem">
							1 GiB
						</li></ul></div><p>
					Device DAX nodes support only the following system calls:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">open()</code>
						</li><li class="listitem">
							<code class="literal">close()</code>
						</li><li class="listitem">
							<code class="literal">mmap()</code>
						</li></ul></div><p>
					You can view the supported alignments of your NVDIMM device using the <code class="literal">ndctl list --human --capabilities</code> command. For example, to view it for the <span class="emphasis"><em>region0</em></span> device, use the <code class="literal">ndctl list --human --capabilities -r region0</code> command.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						The <code class="literal">read()</code> and <code class="literal">write()</code> system calls are not supported because the device DAX use case is tied to the SNIA Non-Volatile Memory Programming Model.
					</p></div></rh-alert></section><section class="section" id="reconfiguring-an-existing-nvdimm-namespace-to-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.7.2. Reconfiguring an existing NVDIMM namespace to device DAX mode</h4></div></div></div><p>
					You can reconfigure an existing Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace to device DAX mode.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						Reconfiguring a namespace deletes previously stored data on the namespace.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">ndctl</code> utility is installed. For more information, see <a class="link" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" title="21.5. Installing ndctl">Installing ndctl</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all namespaces on your system:
						</p><pre class="literallayout"># ndctl list --namespaces --idle

[
  {
    "dev":"namespace1.0",
    "mode":"raw",
    "size":34359738368,
    "uuid":"ac951312-b312-4e76-9f15-6e00c8f2e6f4"
    "state":"disabled",
    "numa_node":1
  },
  {
    "dev":"namespace0.0",
    "mode":"raw",
    "size":38615912448,
    "uuid":"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817",
    "state":"disabled",
    "numa_node":0
  }
]</pre></li><li class="listitem"><p class="simpara">
							Reconfigure any namespace:
						</p><pre class="literallayout"># ndctl create-namespace --force --mode=devdax --reconfig=<span class="emphasis"><em>namespace-ID</em></span></pre><div class="example" id="idm140664182556848"><p class="title"><strong>Example 21.3. Reconfiguring a namespace as device DAX</strong></p><div class="example-contents"><p>
								The following command reconfigures <code class="literal">namespace0.1</code> for data storage that supports DAX. It is aligned to a 2-MiB fault granularity to ensure that the operating system faults in 2-MiB pages at a time:
							</p><pre class="literallayout"># ndctl create-namespace --force --mode=devdax  --align=2M --reconfig=namespace0.1
{
  "dev":"namespace0.1",
  "mode":"devdax",
  "map":"dev",
  "size":"35.44 GiB (38.05 GB)",
  "uuid":"426d6a52-df92-43d2-8cc7-046241d6d761",
  "daxregion":{
    "id":0,
    "size":"35.44 GiB (38.05 GB)",
    "align":2097152,
    "devices":[
      {
        "chardev":"dax0.1",
        "size":"35.44 GiB (38.05 GB)",
        "target_node":4,
        "mode":"devdax"
      }
    ]
  },
  "align":2097152
}</pre></div></div><p class="simpara">
							The namespace is now available at the <code class="literal">/dev/dax0.1</code> path.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the existing namespaces on your system is reconfigured:
						</p><pre class="literallayout"># ndctl list --namespace namespace0.1
[
  {
    "dev":"namespace0.1",
    "mode":"devdax",
    "map":"dev",
    "size":38048628736,
    "uuid":"426d6a52-df92-43d2-8cc7-046241d6d761",
    "chardev":"dax0.1",
    "align":2097152
  }
]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ndctl-create-namespace(1)</code> man page on your system
						</li></ul></div></section><section class="section" id="creating-a-new-nvdimm-namespace-in-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.7.3. Creating a new NVDIMM namespace in device DAX mode</h4></div></div></div><p>
					You can create a new device DAX namespace on an Non-Volatile Dual In-line Memory Modules (NVDIMM) device if there is available space in the region.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">ndctl</code> utility is installed. For more information, see <a class="link" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" title="21.5. Installing ndctl">Installing ndctl</a>.
						</li><li class="listitem"><p class="simpara">
							The NVDIMM device supports labels to create multiple namespaces in a region. You can check this using the following command:
						</p><pre class="literallayout"># ndctl read-labels nmem0 &gt;/dev/null
read 1 nmem</pre><p class="simpara">
							This indicates that it read the label of one NVDIMM device. If the value is <code class="literal">0</code>, it implies that your device does not support labels.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the <code class="literal">pmem</code> regions on your system that have available space. In the following example, space is available in the <span class="emphasis"><em>region1</em></span> and <span class="emphasis"><em>region0</em></span> regions:
						</p><pre class="literallayout"># ndctl list --regions
[
  {
    "dev":"region1",
    "size":2156073582592,
    "align":16777216,
    "available_size":2117418876928,
    "max_available_extent":2117418876928,
    "type":"pmem",
    "iset_id":-9102197055295954944,
    "badblock_count":1,
    "persistence_domain":"memory_controller"
  },
  {
    "dev":"region0",
    "size":2156073582592,
    "align":16777216,
    "available_size":2143188680704,
    "max_available_extent":2143188680704,
    "type":"pmem",
    "iset_id":736272362787276936,
    "badblock_count":3,
    "persistence_domain":"memory_controller"
  }
]</pre></li><li class="listitem"><p class="simpara">
							Allocate one or more namespaces on any of the available regions:
						</p><pre class="literallayout"># ndctl create-namespace --mode=devdax --region=region_N_ --size=<span class="emphasis"><em>namespace-size</em></span></pre><div class="example" id="idm140664187687712"><p class="title"><strong>Example 21.4. Creating a namespace on a region</strong></p><div class="example-contents"><p>
								The following command creates a 36-GiB device DAX namespace on region0. It is aligned to a 2-MiB fault granularity to ensure that the operating system faults in 2-MiB pages at a time:
							</p><pre class="literallayout"># ndctl create-namespace --mode=devdax --region=region0 --align=2M --size=36G
{
  "dev":"namespace0.2",
  "mode":"devdax",
  "map":"dev",
  "size":"35.44 GiB (38.05 GB)",
  "uuid":"89d13f41-be6c-425b-9ec7-1e2a239b5303",
  "daxregion":{
    "id":0,
    "size":"35.44 GiB (38.05 GB)",
    "align":2097152,
    "devices":[
      {
        "chardev":"dax0.2",
        "size":"35.44 GiB (38.05 GB)",
        "target_node":4,
        "mode":"devdax"
      }
    ]
  },
  "align":2097152
}</pre></div></div><p class="simpara">
							The namespace is now available as <code class="literal">/dev/dax0.2</code>.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the new namespace is created in the sector mode:
						</p><pre class="literallayout"># ndctl list -RN -n namespace0.2
{
  "regions":[
    {
      "dev":"region0",
      "size":2156073582592,
      "align":16777216,
      "available_size":2065879269376,
      "max_available_extent":2065879269376,
      "type":"pmem",
      "iset_id":736272362787276936,
      "badblock_count":3,
      "persistence_domain":"memory_controller",
      "namespaces":[
        {
          "dev":"namespace0.2",
          "mode":"devdax",
          "map":"dev",
          "size":38048628736,
          "uuid":"89d13f41-be6c-425b-9ec7-1e2a239b5303",
          "chardev":"dax0.2",
          "align":2097152
        }
      ]
    }
  ]
}</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ndctl-create-namespace(1)</code> man page on your system
						</li></ul></div></section></section><section class="section" id="creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.8. Creating a file system DAX namespace on an NVDIMM</h3></div></div></div><p>
				Configure an NVDIMM device that is attached to your system, in file system DAX mode to support a file system with direct access capabilities.
			</p><p>
				Consider the following options:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Reconfiguring an existing namespace to file system DAX mode.
					</li><li class="listitem">
						Creating a new file system DAX namespace if there is available space.
					</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					The file system DAX technology is provided only as a Technology Preview, and is not supported by Red Hat.
				</p></div></rh-alert><section class="section" id="nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.8.1. NVDIMM in file system direct access mode</h4></div></div></div><p>
					When an NVDIMM device is configured in file system direct access (file system DAX, <code class="literal">fsdax</code>) mode, you can create a file system on top of it. Any application that performs an <code class="literal">mmap()</code> operation on a file on this file system gets direct access to its storage. This enables the direct access programming model on NVDIMM.
				</p><p>
					The following new <code class="literal">-o dax</code> options are now available, and direct access behavior can be controlled through a file attribute if required:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">-o dax=inode</code></span></dt><dd><p class="simpara">
								This is the default option when you do not specify any dax option while mounting a file system. Using this option, you can set an attribute flag on files to control if the dax mode can be activated. If required, you can set this flag on individual files.
							</p><p class="simpara">
								You can also set this flag on a directory and any files in that directory will be created with the same flag. You can set this attribute flag by using the <code class="literal">xfs_io -c 'chattr +x'</code> directory-name command.
							</p></dd><dt><span class="term"><code class="literal">-o dax=never</code></span></dt><dd>
								With this option, the dax mode will not be enabled even if the dax flag is set to an <code class="literal">inode</code> mode. This means that the per-inode dax attribute flag is ignored, and files set with this flag will never be direct-access enabled.
							</dd><dt><span class="term"><code class="literal">-o dax=always</code></span></dt><dd><p class="simpara">
								This option is equivalent to the old <code class="literal">-o dax</code> behavior. With this option, you can activate direct access mode for any file on the file system, regardless of the dax attribute flag.
							</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
									In further releases, <code class="literal">-o dax</code> might not be supported and if required, you can use <code class="literal">-o dax=always</code> instead. In this mode, every file might be in the direct-access mode.
								</p></div></rh-alert></dd><dt><span class="term">Per-page metadata allocation</span></dt><dd><p class="simpara">
								This mode requires allocating per-page metadata in the system DRAM or on the NVDIMM device itself. The overhead of this data structure is 64 bytes per each 4-KiB page:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										On small devices, the amount of overhead is small enough to fit in DRAM with no problems. For example, a 16-GiB namespace only requires 256 MiB for page structures. Since NVDIMM devices are usually small and expensive, storing the page tracking data structures in DRAM is preferable.
									</li><li class="listitem"><p class="simpara">
										On NVDIMM devices that are be terabytes in size or larger, the amount of memory required to store the page tracking data structures might exceed the amount of DRAM in the system. One TiB of NVDIMM requires 16 GiB for page structures. As a result, storing the data structures on the NVDIMM itself is preferable in such cases.
									</p><p class="simpara">
										You can configure where per-page metadata are stored using the <code class="literal">--map</code> option when configuring a namespace:
									</p></li><li class="listitem">
										To allocate in the system RAM, use <code class="literal">--map=mem</code>.
									</li><li class="listitem">
										To allocate on the NVDIMM, use <code class="literal">--map=dev</code>.
									</li></ul></div></dd></dl></div></section><section class="section" id="reconfiguring-an-existing-nvdimm-namespace-to-file-system-dax-mode_creating-a-file-system-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.8.2. Reconfiguring an existing NVDIMM namespace to file system DAX mode</h4></div></div></div><p>
					You can reconfigure an existing Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace to file system DAX mode.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						Reconfiguring a namespace deletes previously stored data on the namespace.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">ndctl</code> utility is installed. For more information, see <a class="link" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" title="21.5. Installing ndctl">Installing ndctl</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all namespaces on your system:
						</p><pre class="literallayout"># ndctl list --namespaces --idle
[
  {
    "dev":"namespace1.0",
    "mode":"raw",
    "size":34359738368,
    "uuid":"ac951312-b312-4e76-9f15-6e00c8f2e6f4"
    "state":"disabled",
    "numa_node":1
  },
  {
    "dev":"namespace0.0",
    "mode":"raw",
    "size":38615912448,
    "uuid":"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817",
    "state":"disabled",
    "numa_node":0
  }
]</pre></li><li class="listitem"><p class="simpara">
							Reconfigure any namespace:
						</p><pre class="literallayout"># ndctl create-namespace --force --mode=fsdax --reconfig=<span class="emphasis"><em>namespace-ID</em></span></pre><div class="example" id="idm140664181672688"><p class="title"><strong>Example 21.5. Reconfiguring a namespace as file system DAX</strong></p><div class="example-contents"><p>
								To use <code class="literal">namespace0.0</code> for a file system that supports DAX, use the following command:
							</p><pre class="literallayout"># ndctl create-namespace --force --mode=fsdax --reconfig=namespace0.0
{
  "dev":"namespace0.0",
  "mode":"fsdax",
  "map":"dev",
  "size":"11.81 GiB (12.68 GB)",
  "uuid":"f8153ee3-c52d-4c6e-bc1d-197f5be38483",
  "sector_size":512,
  "align":2097152,
  "blockdev":"pmem0"
}</pre></div></div><p class="simpara">
							The namespace is now available at the <code class="literal">/dev/pmem0</code> path.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the existing namespaces on your system is reconfigured:
						</p><pre class="literallayout"># ndctl list --namespace namespace0.0
[
  {
    "dev":"namespace0.0",
    "mode":"fsdax",
    "map":"dev",
    "size":12681478144,
    "uuid":"f8153ee3-c52d-4c6e-bc1d-197f5be38483",
    "sector_size":512,
    "align":2097152,
    "blockdev":"pmem0"
  }
]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ndctl-create-namespace(1)</code> man page on your system
						</li></ul></div></section><section class="section" id="creating-a-new-nvdimm-namespace-in-file-system-DAX-mode_creating-a-file-system-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.8.3. Creating a new NVDIMM namespace in file system DAX mode</h4></div></div></div><p>
					You can create a new file system DAX namespace on an Non-Volatile Dual In-line Memory Modules (NVDIMM) device if there is available space in the region.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">ndctl</code> utility is installed. For more information, see <a class="link" href="#installing-ndctl_using-nvdimm-persistent-memory-storage" title="21.5. Installing ndctl">Installing ndctl</a>.
						</li><li class="listitem"><p class="simpara">
							The NVDIMM device supports labels to create multiple namespaces in a region. You can check this using the following command:
						</p><pre class="literallayout"># ndctl read-labels nmem0 &gt;/dev/null
read 1 nmem</pre><p class="simpara">
							This indicates that it read the label of one NVDIMM device. If the value is <code class="literal">0</code>, it implies that your device does not support labels.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the <code class="literal">pmem</code> regions on your system that have available space. In the following example, space is available in the <span class="emphasis"><em>region1</em></span> and <span class="emphasis"><em>region0</em></span> regions:
						</p><pre class="literallayout"># ndctl list --regions
[
  {
    "dev":"region1",
    "size":2156073582592,
    "align":16777216,
    "available_size":2117418876928,
    "max_available_extent":2117418876928,
    "type":"pmem",
    "iset_id":-9102197055295954944,
    "badblock_count":1,
    "persistence_domain":"memory_controller"
  },
  {
    "dev":"region0",
    "size":2156073582592,
    "align":16777216,
    "available_size":2143188680704,
    "max_available_extent":2143188680704,
    "type":"pmem",
    "iset_id":736272362787276936,
    "badblock_count":3,
    "persistence_domain":"memory_controller"
  }
]</pre></li><li class="listitem"><p class="simpara">
							Allocate one or more namespaces on any of the available regions:
						</p><pre class="literallayout"># ndctl create-namespace --mode=fsdax --region=<span class="emphasis"><em>regionN</em></span> --size=<span class="emphasis"><em>namespace-size</em></span></pre><div class="example" id="idm140664178966128"><p class="title"><strong>Example 21.6. Creating a namespace on a region</strong></p><div class="example-contents"><p>
								The following command creates a 36-GiB file system DAX namespace on <span class="emphasis"><em>region0</em></span>:
							</p><pre class="literallayout"># ndctl create-namespace --mode=fsdax --region=region0 --size=36G
{
  "dev":"namespace0.3",
  "mode":"fsdax",
  "map":"dev",
  "size":"35.44 GiB (38.05 GB)",
  "uuid":"99e77865-42eb-4b82-9db6-c6bc9b3959c2",
  "sector_size":512,
  "align":2097152,
  "blockdev":"pmem0.3"
}</pre></div></div><p class="simpara">
							The namespace is now available as <code class="literal">/dev/pmem0.3</code>.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the new namespace is created in the sector mode:
						</p><pre class="literallayout"># ndctl list -RN -n namespace0.3
{
  "regions":[
    {
      "dev":"region0",
      "size":2156073582592,
      "align":16777216,
      "available_size":2027224563712,
      "max_available_extent":2027224563712,
      "type":"pmem",
      "iset_id":736272362787276936,
      "badblock_count":3,
      "persistence_domain":"memory_controller",
      "namespaces":[
        {
          "dev":"namespace0.3",
          "mode":"fsdax",
          "map":"dev",
          "size":38048628736,
          "uuid":"99e77865-42eb-4b82-9db6-c6bc9b3959c2",
          "sector_size":512,
          "align":2097152,
          "blockdev":"pmem0.3"
        }
      ]
    }
  ]
}</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ndctl-create-namespace(1)</code> man page on your system
						</li></ul></div></section><section class="section" id="creating-a-file-system-on-a-file-system-dax-device_creating-a-file-system-dax-namespace-on-an-nvdimm"><div class="titlepage"><div><div><h4 class="title">21.8.4. Creating a file system on a file system DAX device</h4></div></div></div><p>
					You can create a file system on a file system DAX device and mount the file system. After creating a file system, application can use persistent memory and create files in the <span class="emphasis"><em>mount-point</em></span> directory, open the files, and use the <code class="literal">mmap</code> operation to map the files for direct access.
				</p><p>
					On Red Hat Enterprise Linux 9, both the XFS and ext4 file system can be created on NVDIMM as a Technology Preview.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optional: Create a partition on the file system DAX device. For more information, see <a class="link" href="#proc_creating-a-partition-with-parted_getting-started-with-partitions" title="5.3. Creating a partition with parted">Creating a partition with parted</a>.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								When creating partitions on an <code class="literal">fsdax</code> device, partitions must be aligned on page boundaries. On the Intel 64 and AMD64 architecture, at least 4 KiB alignment is required for the start and end of the partition. 2 MiB is the preferred alignment.
							</p><p>
								By default, the <code class="literal">parted</code> tool aligns partitions on 1 MiB boundaries. For the first partition, specify 2 MiB as the start of the partition. If the size of the partition is a multiple of 2 MiB, all other partitions are also aligned.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Create an XFS or ext4 file system on the partition or the NVDIMM device:
						</p><pre class="literallayout"># mkfs.xfs  -d su=2m,sw=1 <span class="emphasis"><em>fsdax-partition-or-device</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The dax-capable and reflinked files can now co-exist on the file system. However, for an individual file, dax and reflink are mutually exclusive.
							</p><p>
								For XFS, disable shared copy-on-write data extents because they are incompatible with the dax mount option. Additionally, in order to increase the likelihood of large page mappings, set the stripe unit and stripe width.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Mount the file system:
						</p><pre class="literallayout"># mount f_sdax-partition-or-device mount-point_</pre><p class="simpara">
							There is no need to mount a file system with the dax option to enable direct access mode. When you do not specify any dax option while mounting, the file system is in the <code class="literal">dax=inode</code> mode. Set the dax option on the file before direct access mode is activated.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">mkfs.xfs(8)</code> man page on your system
						</li><li class="listitem">
							<a class="link" href="#nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm" title="21.8.1. NVDIMM in file system direct access mode">NVDIMM in file system direct access mode</a>
						</li></ul></div></section></section><section class="section" id="monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.9. Monitoring NVDIMM health using S.M.A.R.T.</h3></div></div></div><p>
				Some Non-Volatile Dual In-line Memory Modules (NVDIMM) devices support Self-Monitoring, Analysis and Reporting Technology (S.M.A.R.T.) interfaces for retrieving health information.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Monitor NVDIMM health regularly to prevent data loss. If S.M.A.R.T. reports problems with the health status of an NVDIMM device, replace it as described in <a class="link" href="#detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage" title="21.10. Detecting and replacing a broken NVDIMM device">Detecting and replacing a broken NVDIMM device</a>.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Optional: On some systems, upload the <code class="literal">acpi_ipmi</code> driver to retrieve health information using the following command:
					</p><pre class="literallayout"># modprobe acpi_ipmi</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Access the health information:
					</p><pre class="literallayout"># ndctl list --dimms --health
[
  {
    "dev":"nmem1",
    "id":"8089-a2-1834-00001f13",
    "handle":17,
    "phys_id":32,
    "security":"disabled",
    "health":{
      "health_state":"ok",
      "temperature_celsius":36.0,
      "controller_temperature_celsius":37.0,
      "spares_percentage":100,
      "alarm_temperature":false,
      "alarm_controller_temperature":false,
      "alarm_spares":false,
      "alarm_enabled_media_temperature":true,
      "temperature_threshold":82.0,
      "alarm_enabled_ctrl_temperature":true,
      "controller_temperature_threshold":98.0,
      "alarm_enabled_spares":true,
      "spares_threshold":50,
      "shutdown_state":"clean",
      "shutdown_count":4
    }
  },
[...]
]</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">ndctl-list(1)</code> man page on your system
					</li></ul></div></section><section class="section" id="detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage"><div class="titlepage"><div><div><h3 class="title">21.10. Detecting and replacing a broken NVDIMM device</h3></div></div></div><p>
				If you find error messages related to Non-Volatile Dual In-line Memory Modules (NVDIMM) reported in your system log or by S.M.A.R.T., it might mean an NVDIMM device is failing. In that case, it is necessary to:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Detect which NVDIMM device is failing
					</li><li class="listitem">
						Back up data stored on it
					</li><li class="listitem">
						Physically replace the device
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Detect the broken device:
					</p><pre class="literallayout"># ndctl list --dimms --regions --health
{
  "dimms":[
    {
      "dev":"nmem1",
      "id":"8089-a2-1834-00001f13",
      "handle":17,
      "phys_id":32,
      "security":"disabled",
      "health":{
        "health_state":"ok",
        "temperature_celsius":35.0,
        [...]
      }
[...]
}</pre></li><li class="listitem"><p class="simpara">
						Find the <code class="literal">phys_id</code> attribute of the broken NVDIMM:
					</p><pre class="literallayout"># ndctl list --dimms --human</pre><p class="simpara">
						From the previous example, you know that <code class="literal">nmem0</code> is the broken NVDIMM. Therefore, find the <code class="literal">phys_id</code> attribute of <code class="literal">nmem0</code>.
					</p><div class="example" id="idm140664178160992"><p class="title"><strong>Example 21.7. The phys_id attributes of NVDIMMs</strong></p><div class="example-contents"><p>
							In the following example, the <code class="literal">phys_id</code> is <code class="literal">0x10</code>:
						</p><pre class="screen"># ndctl list --dimms --human

[
  {
    "dev":"nmem1",
    "id":"XXXX-XX-XXXX-XXXXXXXX",
    "handle":"0x120",
    "phys_id":"0x1c"
  },
  {
    "dev":"nmem0",
    "id":"XXXX-XX-XXXX-XXXXXXXX",
    "handle":"0x20",
    "phys_id":"0x10",
    "flag_failed_flush":true,
    "flag_smart_event":true
  }
]</pre></div></div></li><li class="listitem"><p class="simpara">
						Find the memory slot of the broken NVDIMM:
					</p><pre class="literallayout"># dmidecode</pre><p class="simpara">
						In the output, find the entry where the <span class="strong strong"><strong>Handle</strong></span> identifier matches the <code class="literal">phys_id</code> attribute of the broken NVDIMM. The <span class="strong strong"><strong>Locator</strong></span> field lists the memory slot used by the broken NVDIMM.
					</p><div class="example" id="idm140664178153376"><p class="title"><strong>Example 21.8. NVDIMM Memory Slot Listing</strong></p><div class="example-contents"><p>
							In the following example, the <code class="literal">nmem0</code> device matches the <code class="literal">0x0010</code> identifier and uses the <code class="literal">DIMM-XXX-YYYY</code> memory slot:
						</p><pre class="literallayout"># dmidecode

...
Handle 0x0010, DMI type 17, 40 bytes
Memory Device
        Array Handle: 0x0004
        Error Information Handle: Not Provided
        Total Width: 72 bits
        Data Width: 64 bits
        Size: 125 GB
        Form Factor: DIMM
        Set: 1
        Locator: DIMM-XXX-YYYY
        Bank Locator: Bank0
        Type: Other
        Type Detail: Non-Volatile Registered (Buffered)
...</pre></div></div></li><li class="listitem"><p class="simpara">
						Back up all data in the namespaces on the NVDIMM. If you do not back up the data before replacing the NVDIMM, the data will be lost when you remove the NVDIMM from your system.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							In some cases, such as when the NVDIMM is completely broken, the backup might fail.
						</p><p>
							To prevent this, regularly monitor your NVDIMM devices using S.M.A.R.T. as described in <a class="link" href="#monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage" title="21.9. Monitoring NVDIMM health using S.M.A.R.T.">Monitoring NVDIMM health using S.M.A.R.T.</a> and replace failing NVDIMMs before they break.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						List the namespaces on the NVDIMM:
					</p><pre class="literallayout"># ndctl list --namespaces --dimm=<span class="emphasis"><em>DIMM-ID-number</em></span></pre><div class="example" id="idm140664178143616"><p class="title"><strong>Example 21.9. NVDIMM namespaces listing</strong></p><div class="example-contents"><p>
							In the following example, the <code class="literal">nmem0</code> device contains the <code class="literal">namespace0.0</code> and <code class="literal">namespace0.2</code> namespaces, which you need to back up:
						</p><pre class="literallayout"># ndctl list --namespaces --dimm=0

[
  {
    "dev":"namespace0.2",
    "mode":"sector",
    "size":67042312192,
    "uuid":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",
    "raw_uuid":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",
    "sector_size":4096,
    "blockdev":"pmem0.2s",
    "numa_node":0
  },
  {
    "dev":"namespace0.0",
    "mode":"sector",
    "size":67042312192,
    "uuid":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",
    "raw_uuid":"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",
    "sector_size":4096,
    "blockdev":"pmem0s",
    "numa_node":0
  }
]</pre></div></div></li><li class="listitem">
						Replace the broken NVDIMM physically.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">ndctl-list(1)</code> and <code class="literal">dmidecode(8)</code> man pages on your system
					</li></ul></div></section></section><section class="chapter" id="discarding-unused-blocks_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 22. Discarding unused blocks</h2></div></div></div><p class="_abstract _abstract">
			You can perform or schedule discard operations on block devices that support them. The block discard operation communicates to the underlying storage which filesystem blocks are no longer in use by the mounted filesystem. Block discard operations allow SSDs to optimize garbage collection routines, and they can inform thinly-provisioned storage to repurpose unused physical blocks.
		</p><h4 id="requirements">Requirements</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					The block device underlying the file system must support physical discard operations.
				</p><p class="simpara">
					Physical discard operations are supported if the value in the <code class="literal filename">/sys/block/<span class="emphasis"><em><span class="replaceable replaceable">&lt;device&gt;</span></em></span>/queue/discard_max_bytes</code> file is not zero.
				</p></li></ul></div><section class="section" id="types-of-block-discard-operations_discarding-unused-blocks"><div class="titlepage"><div><div><h3 class="title">22.1. Types of block discard operations</h3></div></div></div><p class="_abstract _abstract">
				You can run discard operations using different methods:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Batch discard</span></dt><dd>
							Is triggered explicitly by the user and discards all unused blocks in the selected file systems.
						</dd><dt><span class="term">Online discard</span></dt><dd>
							Is specified at mount time and triggers in real time without user intervention. Online discard operations discard only blocks that are transitioning from the <code class="literal">used</code> to the <code class="literal">free</code> state.
						</dd><dt><span class="term">Periodic discard</span></dt><dd>
							Are batch operations that are run regularly by a <code class="literal">systemd</code> service.
						</dd></dl></div><p>
				All types are supported by the XFS and ext4 file systems.
			</p><h5 id="recommendations">Recommendations</h5><p>
				Red Hat recommends that you use batch or periodic discard.
			</p><p>
				Use online discard only if:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						the system’s workload is such that batch discard is not feasible, or
					</li><li class="listitem">
						online discard operations are necessary to maintain performance.
					</li></ul></div></section><section class="section" id="performing-batch-block-discard_discarding-unused-blocks"><div class="titlepage"><div><div><h3 class="title">22.2. Performing batch block discard</h3></div></div></div><p class="_abstract _abstract">
				You can perform a batch block discard operation to discard unused blocks on a mounted file system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The file system is mounted.
					</li><li class="listitem">
						The block device underlying the file system supports physical discard operations.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the <code class="literal">fstrim</code> utility:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								To perform discard only on a selected file system, use:
							</p><pre class="screen"># fstrim <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li><li class="listitem"><p class="simpara">
								To perform discard on all mounted file systems, use:
							</p><pre class="screen"># fstrim --all</pre></li></ul></div></li></ul></div><p>
				If you execute the <code class="literal">fstrim</code> command on:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						a device that does not support discard operations, or
					</li><li class="listitem">
						a logical device (LVM or MD) composed of multiple devices, where any one of the device does not support discard operations,
					</li></ul></div><p>
				the following message displays:
			</p><pre class="screen"># fstrim <span class="emphasis"><em><span class="replaceable replaceable">/mnt/non_discard</span></em></span>

fstrim: <span class="emphasis"><em><span class="replaceable replaceable">/mnt/non_discard</span></em></span>: the discard operation is not supported</pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">fstrim(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="enabling-online-block-discard_discarding-unused-blocks"><div class="titlepage"><div><div><h3 class="title">22.3. Enabling online block discard</h3></div></div></div><p class="_abstract _abstract">
				You can perform online block discard operations to automatically discard unused blocks on all supported file systems.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Enable online discard at mount time:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								When mounting a file system manually, add the <code class="literal option">-o discard</code> mount option:
							</p><pre class="screen"># mount -o discard <span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li><li class="listitem">
								When mounting a file system persistently, add the <code class="literal option">discard</code> option to the mount entry in the <code class="literal filename">/etc/fstab</code> file.
							</li></ul></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">mount(8)</code> and <code class="literal">fstab(5)</code> man pages on your system
					</li></ul></div></section><section class="section" id="enabling-periodic-block-discard_discarding-unused-blocks"><div class="titlepage"><div><div><h3 class="title">22.4. Enabling periodic block discard</h3></div></div></div><p class="_abstract _abstract">
				You can enable a <code class="literal">systemd</code> timer to regularly discard unused blocks on all supported file systems.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">systemd</code> timer:
					</p><pre class="screen"># <span class="strong strong"><strong>systemctl enable --now fstrim.timer</strong></span>
Created symlink /etc/systemd/system/timers.target.wants/fstrim.timer → /usr/lib/systemd/system/fstrim.timer.</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the status of the timer:
					</p><pre class="screen"># <span class="strong strong"><strong>systemctl status fstrim.timer</strong></span>
fstrim.timer - Discard unused blocks once a week
   Loaded: loaded (/usr/lib/systemd/system/fstrim.timer; enabled; vendor preset: disabled)
   Active: active (waiting) since Wed 2023-05-17 13:24:41 CEST; 3min 15s ago
  Trigger: Mon 2023-05-22 01:20:46 CEST; 4 days left
     Docs: man:fstrim

May 17 13:24:41 localhost.localdomain systemd[1]: Started Discard unused blocks once a week.</pre></li></ul></div></section></section><section class="chapter" id="removing-storage-devices_managing-storage-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 23. Removing storage devices</h2></div></div></div><p>
			You can safely remove a storage device from a running system, which helps prevent system memory overload and data loss. Do not remove a storage device on a system where:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Free memory is less than 5% of the total memory in more than 10 samples per 100.
				</li><li class="listitem">
					Swapping is active (non-zero <code class="literal">si</code> and <code class="literal">so</code> columns in the <code class="literal">vmstat</code> command output).
				</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Before you remove a storage device, ensure that you have enough free system memory due to the increased system memory load during an I/O flush. Use the following commands to view the current memory load and free memory of the system:
				</p><pre class="literallayout"># <span class="strong strong"><strong>vmstat 1 100</strong></span>
# <span class="strong strong"><strong>free</strong></span></pre></li></ul></div><section class="section" id="safe-removal-of-storage-devices_removing-storage-devices"><div class="titlepage"><div><div><h3 class="title">23.1. Safe removal of storage devices</h3></div></div></div><p>
				Safely removing a storage device from a running system requires a top-to-bottom approach. Start from the top layer, which typically is an application or a file system, and work towards the bottom layer, which is the physical device.
			</p><p>
				You can use storage devices in multiple ways, and they can have different virtual configurations on top of physical devices. For example, you can group multiple instances of a device into a multipath device, make it part of a RAID, or you can make it part of an LVM group. Additionally, devices can be accessed via a file system, or they can be accessed directly such as a “raw” device.
			</p><p>
				While using the top-to-bottom approach, you must ensure that:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						the device that you want to remove is not in use
					</li><li class="listitem">
						all pending I/O to the device is flushed
					</li><li class="listitem">
						the operating system is not referencing the storage device
					</li></ul></div></section><section class="section" id="removing-block-devices-and-associated-metadata_removing-storage-devices"><div class="titlepage"><div><div><h3 class="title">23.2. Removing block devices and associated metadata</h3></div></div></div><p>
				To safely remove a block device from a running system, to help prevent system memory overload and data loss you need to first remove metadata from them. Address each layer in the stack, starting with the file system, and proceed to the disk. These actions prevent putting your system into an inconsistent state.
			</p><p>
				Use specific commands that may vary depending on what type of devices you are removing:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">lvremove</code>, <code class="literal">vgremove</code> and <code class="literal">pvremove</code> are specific to LVM.
					</li><li class="listitem">
						For software RAID, run <code class="literal">mdadm</code> to remove the array. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index#managing-raid_managing-storage-devices">Managing RAID</a>.
					</li><li class="listitem">
						For block devices encrypted using LUKS, there are specific additional steps. The following procedure will not work for the block devices encrypted using LUKS. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/encrypting-block-devices-using-luks_security-hardening">Encrypting block devices using LUKS</a>.
					</li></ul></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Rescanning the SCSI bus or performing any other action that changes the state of the operating system, without following the procedure documented here can cause delays due to I/O timeouts, devices to be removed unexpectedly, or data loss.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have an existing block device stack containing the file system, the logical volume, and the volume group.
					</li><li class="listitem">
						You ensured that no other applications or services are using the device that you want to remove.
					</li><li class="listitem">
						You backed up the data from the device that you want to remove.
					</li><li class="listitem"><p class="simpara">
						Optional: If you want to remove a multipath device, and you are unable to access its path devices, disable queueing of the multipath device by running the following command:
					</p><pre class="literallayout"># <span class="strong strong"><strong>multipathd disablequeueing map <span class="emphasis"><em>multipath-device</em></span></strong></span></pre><p class="simpara">
						This enables the I/O of the device to fail, allowing the applications that are using the device to shut down.
					</p></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Removing devices with their metadata one layer at a time ensures no stale signatures remain on the disk.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Unmount the file system:
					</p><pre class="screen"># <span class="strong strong"><strong>umount <span class="emphasis"><em>/mnt/mount-point</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Remove the file system:
					</p><pre class="screen"># <span class="strong strong"><strong>wipefs -a <span class="emphasis"><em>/dev/vg0/myvol</em></span></strong></span></pre><p class="simpara">
						If you have added an entry into the <code class="literal">/etc/fstab</code> file to make a persistent association between the file system and a mount point, edit <code class="literal">/etc/fstab</code> at this point to remove that entry.
					</p><p class="simpara">
						Continue with the following steps, depending on the type of the device you want to remove:
					</p></li><li class="listitem"><p class="simpara">
						Remove the logical volume (LV) that contained the file system:
					</p><pre class="screen"># <span class="strong strong"><strong>lvremove <span class="emphasis"><em>vg0/myvol</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						If there are no other logical volumes remaining in the volume group (VG), you can safely remove the VG that contained the device:
					</p><pre class="screen"># <span class="strong strong"><strong>vgremove <span class="emphasis"><em>vg0</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Remove the physical volume (PV) metadata from the PV device(s):
					</p><pre class="screen"># <span class="strong strong"><strong>pvremove <span class="emphasis"><em>/dev/sdc1</em></span></strong></span></pre><pre class="screen"># <span class="strong strong"><strong>wipefs -a <span class="emphasis"><em>/dev/sdc1</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Remove the partitions that contained the PVs:
					</p><pre class="screen"># <span class="strong strong"><strong>parted <span class="emphasis"><em>/dev/sdc</em></span> rm 1</strong></span></pre></li><li class="listitem"><p class="simpara">
						Remove the partition table if you want to fully wipe the device:
					</p><pre class="screen"># <span class="strong strong"><strong>wipefs -a <span class="emphasis"><em>/dev/sdc</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Execute the following steps only if you want to physically remove the device:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If you are removing a multipath device, execute the following commands:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										View all the paths to the device:
									</p><pre class="literallayout"># <span class="strong strong"><strong>multipath -l</strong></span></pre><p class="simpara">
										The output of this command is required in a later step.
									</p></li><li class="listitem"><p class="simpara">
										Flush the I/O and remove the multipath device:
									</p><pre class="literallayout"># <span class="strong strong"><strong>multipath -f <span class="emphasis"><em>multipath-device</em></span></strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
								If the device is not configured as a multipath device, or if the device is configured as a multipath device and you have previously passed I/O to the individual paths, flush any outstanding I/O to all device paths that are used:
							</p><pre class="literallayout"># <span class="strong strong"><strong>blockdev --flushbufs <span class="emphasis"><em>device</em></span></strong></span></pre><p class="simpara">
								This is important for devices accessed directly where the <code class="literal">umount</code> or <code class="literal">vgreduce</code> commands do not flush the I/O.
							</p></li><li class="listitem"><p class="simpara">
								If you are removing a SCSI device, execute the following commands:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Remove any reference to the path-based name of the device, such as <code class="literal"><span class="emphasis"><em>/dev/sd</em></span></code>, <code class="literal"><span class="emphasis"><em>/dev/disk/by-path</em></span></code>, or the <code class="literal">major:minor</code> number, in applications, scripts, or utilities on the system. This ensures that different devices added in the future are not mistaken for the current device.
									</li><li class="listitem"><p class="simpara">
										Remove each path to the device from the SCSI subsystem:
									</p><pre class="screen"># <span class="strong strong"><strong>echo 1 &gt; /sys/block/<span class="emphasis"><em>device-name</em></span>/device/delete</strong></span></pre><p class="simpara">
										Here the <code class="literal"><span class="emphasis"><em>device-name</em></span></code> is retrieved from the output of the <code class="literal">multipath -l</code> command, if the device was previously used as a multipath device.
									</p></li></ol></div></li></ul></div></li><li class="listitem">
						Remove the physical device from a running system. Note that the I/O to other devices does not stop when you remove this device.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the devices you intended to remove are not displaying on the output of <code class="literal">lsblk</code> command. The following is an example output:
					</p><pre class="screen"># <span class="strong strong"><strong>lsblk</strong></span>

NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0    5G  0 disk
sr0     11:0    1 1024M  0 rom
vda    252:0    0   10G  0 disk
|-vda1 252:1    0    1M  0 part
|-vda2 252:2    0  100M  0 part /boot/efi
`-vda3 252:3    0  9.9G  0 part /</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">multipath(8)</code>, <code class="literal">pvremove(8)</code>, <code class="literal">vgremove(8)</code>, <code class="literal">lvremove(8)</code>, <code class="literal">wipefs(8)</code>, <code class="literal">parted(8)</code>, <code class="literal">blockdev(8)</code> and <code class="literal">umount(8)</code> man pages
					</li></ul></div></section></section><section class="chapter" id="setting-up-stratis-file-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 24. Setting up Stratis file systems</h2></div></div></div><p>
			Stratis runs as a service to manage pools of physical storage devices, simplifying local storage management with ease of use while helping you set up and manage complex storage configurations.
		</p><section class="section" id="the-purpose-and-features-of-stratis_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.1. What is Stratis</h3></div></div></div><p class="_abstract _abstract">
				Stratis is a local storage-management solution for Linux. It is focused on simplicity and ease of use, and gives you access to advanced storage features.
			</p><p>
				Stratis makes the following activities easier:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Initial configuration of storage
					</li><li class="listitem">
						Making changes later
					</li><li class="listitem">
						Using advanced storage features
					</li></ul></div><p>
				Stratis is a local storage management system that supports advanced storage features. The central concept of Stratis is a storage <span class="emphasis"><em>pool</em></span>. This pool is created from one or more local disks or partitions, and file systems are created from the pool.
			</p><p>
				The pool enables many useful features, such as:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						File system snapshots
					</li><li class="listitem">
						Thin provisioning
					</li><li class="listitem">
						Tiering
					</li><li class="listitem">
						Encryption
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://stratis-storage.github.io/">Stratis website</a>
					</li></ul></div></section><section class="section" id="components-of-a-stratis-volume_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.2. Components of a Stratis volume</h3></div></div></div><p class="_abstract _abstract">
				Learn about the components that comprise a Stratis volume.
			</p><p>
				Externally, Stratis presents the following volume components in the command-line interface and the API:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">blockdev</code></span></dt><dd>
							Block devices, such as a disk or a disk partition.
						</dd><dt><span class="term"><code class="literal">pool</code></span></dt><dd><p class="simpara">
							Composed of one or more block devices.
						</p><p class="simpara">
							A pool has a fixed total size, equal to the size of the block devices.
						</p><p class="simpara">
							The pool contains most Stratis layers, such as the non-volatile data cache using the <code class="literal">dm-cache</code> target.
						</p><p class="simpara">
							Stratis creates a <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/</code> directory for each pool. This directory contains links to devices that represent Stratis file systems in the pool.
						</p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">filesystem</code></span></dt><dd><p class="simpara">
							Each pool can contain one or more file systems, which store files.
						</p><p class="simpara">
							File systems are thinly provisioned and do not have a fixed total size. The actual size of a file system grows with the data stored on it. If the size of the data approaches the virtual size of the file system, Stratis grows the thin volume and the file system automatically.
						</p><p class="simpara">
							The file systems are formatted with XFS.
						</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								Stratis tracks information about file systems created using Stratis that XFS is not aware of, and changes made using XFS do not automatically create updates in Stratis. Users must not reformat or reconfigure XFS file systems that are managed by Stratis.
							</p></div></rh-alert><p class="simpara">
							Stratis creates links to file systems at the <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></code> path.
						</p></dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Stratis uses many Device Mapper devices, which show up in <code class="literal">dmsetup</code> listings and the <code class="literal filename">/proc/partitions</code> file. Similarly, the <code class="literal">lsblk</code> command output reflects the internal workings and layers of Stratis.
				</p></div></rh-alert></section><section class="section" id="block-devices-usable-with-stratis_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.3. Block devices usable with Stratis</h3></div></div></div><p class="_abstract _abstract">
				Storage devices that can be used with Stratis.
			</p><h5 id="supported_devices">Supported devices</h5><p>
				Stratis pools have been tested to work on these types of block devices:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						LUKS
					</li><li class="listitem">
						LVM logical volumes
					</li><li class="listitem">
						MD RAID
					</li><li class="listitem">
						DM Multipath
					</li><li class="listitem">
						iSCSI
					</li><li class="listitem">
						HDDs and SSDs
					</li><li class="listitem">
						NVMe devices
					</li></ul></div><h5 id="unsupported_devices">Unsupported devices</h5><p>
				Because Stratis contains a thin-provisioning layer, Red Hat does not recommend placing a Stratis pool on block devices that are already thinly-provisioned.
			</p></section><section class="section" id="installing-stratis_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.4. Installing Stratis</h3></div></div></div><p class="_abstract _abstract">
				Install the required packages for Stratis.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install packages that provide the Stratis service and command-line utilities:
					</p><pre class="screen"># dnf install stratisd stratis-cli</pre></li><li class="listitem"><p class="simpara">
						Verify that the <code class="literal">stratisd</code> service is enabled:
					</p><pre class="screen"># systemctl enable --now stratisd</pre></li></ol></div></section><section class="section" id="create-unencrypted-stratis-pool_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.5. Creating an unencrypted Stratis pool</h3></div></div></div><p class="_abstract _abstract">
				You can create an unencrypted Stratis pool from one or more block devices.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. For more information, see <a class="link" href="#installing-stratis_setting-up-stratis-file-systems" title="24.4. Installing Stratis">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						The block devices on which you are creating a Stratis pool are not in use and are not mounted.
					</li><li class="listitem">
						Each block device on which you are creating a Stratis pool is at least 1 GB.
					</li><li class="listitem">
						On the IBM Z architecture, the <code class="literal">/dev/dasd*</code> block devices must be partitioned. Use the partition device for creating the Stratis pool.
					</li></ul></div><p>
				For information about partitioning DASD devices, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-linux-instance-on-ibm-z_preparing-a-rhel-installation-on-64-bit-ibm-z">Configuring a Linux instance on IBM Z</a>
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You cannot encrypt an unencrypted Stratis pool.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Erase any file system, partition table, or RAID signatures that exist on each block device that you want to use in the Stratis pool:
					</p><pre class="screen"># wipefs --all <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span></pre><p class="simpara">
						where <code class="literal replaceable"><span class="emphasis"><em>block-device</em></span></code> is the path to the block device; for example, <code class="literal">/dev/sdb</code>.
					</p></li><li class="listitem"><p class="simpara">
						Create the new unencrypted Stratis pool on the selected block device:
					</p><pre class="screen"># stratis pool create <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span></pre><p class="simpara">
						where <code class="literal replaceable"><span class="emphasis"><em>block-device</em></span></code> is the path to an empty or wiped block device.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							Specify multiple block devices on a single line:
						</p><pre class="screen"># stratis pool create <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">block-device-1</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">block-device-2</span></em></span></pre></div></rh-alert></li><li class="listitem"><p class="simpara">
						Verify that the new Stratis pool was created:
					</p><pre class="screen"># stratis pool list</pre></li></ol></div></section><section class="section" id="creating-an-unencrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.6. Creating an unencrypted Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to create an unencrypted Stratis pool from one or more block devices.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						The block devices on which you are creating a Stratis pool are not in use and are not mounted.
					</li><li class="listitem">
						Each block device on which you are creating a Stratis pool is at least 1 GB.
					</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You cannot encrypt an unencrypted Stratis pool after it is created.
				</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button.
					</li><li class="listitem"><p class="simpara">
						From the drop-down menu, select <span class="strong strong"><strong>Create Stratis pool</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/90ecf9cb494b94831c8f73565fe7be13/cockpit-adding-volume-groups-create-stratis.png" alt="Image displaying the available options in the Storage table drop-down menu. Selecting Create Stratis pool."></span>

					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Create Stratis pool</strong></span> dialog box, enter a name for the Stratis pool.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f436feb6682e0d109368415b13426e87/cockpit-create-stratis-pool.png" alt="Image displaying the Create Stratis pool dialog box."></span>

					</p></li><li class="listitem">
						Select the <span class="strong strong"><strong>Block devices</strong></span> from which you want to create the Stratis pool.
					</li><li class="listitem">
						Optional: If you want to specify the maximum size for each file system that is created in pool, select <span class="strong strong"><strong>Manage filesystem sizes</strong></span>.
					</li><li class="listitem">
						Click <span class="guibutton">Create</span>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Go to the <span class="strong strong"><strong>Storage</strong></span> section and verify that you can see the new Stratis pool in the <span class="strong strong"><strong>Devices</strong></span> table.
					</li></ul></div></section><section class="section" id="create-encrypted-stratis-pool_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.7. Creating an encrypted Stratis pool</h3></div></div></div><p class="_abstract _abstract">
				To secure your data, you can create an encrypted Stratis pool from one or more block devices.
			</p><p>
				When you create an encrypted Stratis pool, the kernel keyring is used as the primary encryption mechanism. After subsequent system reboots this kernel keyring is used to unlock the encrypted Stratis pool.
			</p><p>
				When creating an encrypted Stratis pool from one or more block devices, note the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Each block device is encrypted using the <code class="literal">cryptsetup</code> library and implements the <code class="literal">LUKS2</code> format.
					</li><li class="listitem">
						Each Stratis pool can either have a unique key or share the same key with other pools. These keys are stored in the kernel keyring.
					</li><li class="listitem">
						The block devices that comprise a Stratis pool must be either all encrypted or all unencrypted. It is not possible to have both encrypted and unencrypted block devices in the same Stratis pool.
					</li><li class="listitem">
						Block devices added to the data tier of an encrypted Stratis pool are automatically encrypted.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis v2.1.0 or later is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						The block devices on which you are creating a Stratis pool are not in use and are not mounted.
					</li><li class="listitem">
						The block devices on which you are creating a Stratis pool are at least 1GB in size each.
					</li><li class="listitem">
						On the IBM Z architecture, the <code class="literal">/dev/dasd*</code> block devices must be partitioned. Use the partition in the Stratis pool.
					</li></ul></div><p>
				For information about partitioning DASD devices, see link:<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-linux-instance-on-ibm-z_preparing-a-rhel-installation-on-64-bit-ibm-z">Configuring a Linux instance on IBM Z</a>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Erase any file system, partition table, or RAID signatures that exist on each block device that you want to use in the Stratis pool:
					</p><pre class="screen"># wipefs --all <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span></pre><p class="simpara">
						where <code class="literal replaceable"><span class="emphasis"><em>block-device</em></span></code> is the path to the block device; for example, <code class="literal">/dev/sdb</code>.
					</p></li><li class="listitem"><p class="simpara">
						If you have not created a key set already, run the following command and follow the prompts to create a key set to use for the encryption.
					</p><pre class="screen"># stratis key set --capture-key <span class="emphasis"><em><span class="replaceable replaceable">key-description</span></em></span></pre><p class="simpara">
						where <code class="literal replaceable"><span class="emphasis"><em>key-description</em></span></code> is a reference to the key that gets created in the kernel keyring.
					</p></li><li class="listitem"><p class="simpara">
						Create the encrypted Stratis pool and specify the key description to use for the encryption. You can also specify the key path using the <code class="literal">--keyfile-path</code> option instead of using the <code class="literal replaceable"><span class="emphasis"><em>key-description</em></span></code> option.
					</p><pre class="screen"># stratis pool create --key-desc <span class="emphasis"><em><span class="replaceable replaceable">key-description</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span></pre><p class="simpara">
						where
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><span class="emphasis"><em>key-description</em></span></code></span></dt><dd>
									References the key that exists in the kernel keyring, which you created in the previous step.
								</dd><dt><span class="term"><code class="literal"><span class="emphasis"><em>my-pool</em></span></code></span></dt><dd>
									Specifies the name of the new Stratis pool.
								</dd><dt><span class="term"><code class="literal"><span class="emphasis"><em>block-device</em></span></code></span></dt><dd><p class="simpara">
									Specifies the path to an empty or wiped block device.
								</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										Specify multiple block devices on a single line:
									</p><pre class="screen"># stratis pool create --key-desc <span class="emphasis"><em><span class="replaceable replaceable">key-description</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">block-device-1</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">block-device-2</span></em></span></pre></div></rh-alert></dd></dl></div></li><li class="listitem"><p class="simpara">
						Verify that the new Stratis pool was created:
					</p><pre class="screen"># stratis pool list</pre></li></ol></div></section><section class="section" id="creating-an-encrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.8. Creating an encrypted Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				To secure your data, you can use the web console to create an encrypted Stratis pool from one or more block devices.
			</p><p>
				When creating an encrypted Stratis pool from one or more block devices, note the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Each block device is encrypted using the cryptsetup library and implements the LUKS2 format.
					</li><li class="listitem">
						Each Stratis pool can either have a unique key or share the same key with other pools. These keys are stored in the kernel keyring.
					</li><li class="listitem">
						The block devices that comprise a Stratis pool must be either all encrypted or all unencrypted. It is not possible to have both encrypted and unencrypted block devices in the same Stratis pool.
					</li><li class="listitem">
						Block devices added to the data tier of an encrypted Stratis pool are automatically encrypted.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						Stratis v2.1.0 or later is installed.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						The block devices on which you are creating a Stratis pool are not in use and are not mounted.
					</li><li class="listitem">
						Each block device on which you are creating a Stratis pool is at least 1 GB.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button.
					</li><li class="listitem">
						From the drop-down menu, select <span class="strong strong"><strong>Create Stratis pool</strong></span>.
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/90ecf9cb494b94831c8f73565fe7be13/cockpit-adding-volume-groups-create-stratis.png" alt="Image displaying the available options in the Storage table drop-down menu. Selecting Create Stratis pool."></span>

					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Create Stratis pool</strong></span> dialog box, enter a name for the Stratis pool.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f436feb6682e0d109368415b13426e87/cockpit-create-stratis-pool.png" alt="Image displaying the Create Stratis pool dialog box."></span>

					</p></li><li class="listitem">
						Select the <span class="strong strong"><strong>Block devices</strong></span> from which you want to create the Stratis pool.
					</li><li class="listitem"><p class="simpara">
						Select the type of encryption, you can use a passphrase, a Tang keyserver, or both:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Passphrase:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter a passphrase.
									</li><li class="listitem">
										Confirm the passphrase
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Tang keyserver:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter the keyserver address. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening#deploying-a-tang-server-with-selinux-in-enforcing-mode_configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption">Deploying a Tang server with SELinux in enforcing mode</a>.
									</li></ol></div></li></ul></div></li><li class="listitem">
						Optional: If you want to specify the maximum size for each file system that is created in pool, select <span class="strong strong"><strong>Manage filesystem sizes</strong></span>.
					</li><li class="listitem">
						Click <span class="guibutton">Create</span>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Go to the <span class="strong strong"><strong>Storage</strong></span> section and verify that you can see the new Stratis pool in the <span class="strong strong"><strong>Devices</strong></span> table.
					</li></ul></div></section><section class="section" id="renaming-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.9. Renaming a Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to rename an existing Stratis pool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem"><p class="simpara">
						Stratis is installed.
					</p><p class="simpara">
						The web console detects and installs Stratis by default. However, for manually installing Stratis, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						A Stratis pool is created.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the RHEL 9 web console.
					</li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the Stratis pool you want to rename.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Stratis pool</strong></span> page, click <span class="guibutton">edit</span> next to the <span class="strong strong"><strong>Name</strong></span> field.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png" alt="Image displaying the Stratis pool page."></span>

					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Rename Stratis pool</strong></span> dialog box, enter a new name.
					</li><li class="listitem">
						Click <span class="guibutton">Rename</span>.
					</li></ol></div></section><section class="section" id="proc_setting-overprovisioning-mode-in-stratis-fs_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.10. Setting overprovisioning mode in Stratis filesystem</h3></div></div></div><p>
				A storage stack can reach a state of overprovision. If the file system size becomes bigger than the pool backing it, the pool becomes full. To prevent this, disable overprovisioning, which ensures that the size of all filesystems on the pool does not exceed the available physical storage provided by the pool. If you use Stratis for critical applications or the root filesystem, this mode prevents certain failure cases.
			</p><p>
				If you enable overprovisioning, an API signal notifies you when your storage has been fully allocated. The notification serves as a warning to the user to inform them that when all the remaining pool space fills up, Stratis has no space left to extend to.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To set up the pool correctly, you have two possibilities:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a pool from one or more block devices:
					</p><pre class="screen"># stratis pool create --no-overprovision <span class="emphasis"><em>pool-name</em></span> <span class="emphasis"><em>/dev/sdb</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								By using the <code class="literal">--no-overprovision</code> option, the pool cannot allocate more logical space than actual available physical space.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Set overprovisioning mode in the existing pool:
					</p><pre class="screen"># stratis pool overprovision <span class="emphasis"><em>pool-name</em></span> &lt;yes|no&gt;</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If set to "yes", you enable overprovisioning to the pool. This means that the sum of the logical sizes of the Stratis filesystems, supported by the pool, can exceed the amount of available data space.
							</li></ul></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Run the following to view the full list of Stratis pools:
					</p><pre class="screen"># stratis pool list

Name          Total Physical                    Properties     UUID                                   Alerts
<span class="emphasis"><em>pool-name</em></span>     1.42 TiB / 23.96 MiB / 1.42 TiB   ~Ca,~Cr,~Op    cb7cb4d8-9322-4ac4-a6fd-eb7ae9e1e540</pre></li><li class="listitem">
						Check if there is an indication of the pool overprovisioning mode flag in the <code class="literal">stratis pool list</code> output. The " ~ " is a math symbol for "NOT", so <code class="literal">~Op</code> means no-overprovisioning.
					</li><li class="listitem"><p class="simpara">
						Optional: Run the following to check overprovisioning on a specific pool:
					</p><pre class="screen"># stratis pool overprovision <span class="emphasis"><em>pool-name</em></span> <span class="emphasis"><em>yes</em></span>

# stratis pool list

Name          Total Physical                    Properties     UUID                                   Alerts
<span class="emphasis"><em>pool-name</em></span>     1.42 TiB / 23.96 MiB / 1.42 TiB   ~Ca,~Cr,~Op    cb7cb4d8-9322-4ac4-a6fd-eb7ae9e1e540</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://stratis-storage.github.io/">The <span class="emphasis"><em>Stratis Storage</em></span> webpage</a>.
					</li></ul></div></section><section class="section" id="bind-stratis-pool-nbde_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.11. Binding a Stratis pool to NBDE</h3></div></div></div><p class="_abstract _abstract">
				Binding an encrypted Stratis pool to Network Bound Disk Encryption (NBDE) requires a Tang server. When a system containing the Stratis pool reboots, it connects with the Tang server to automatically unlock the encrypted pool without you having to provide the kernel keyring description.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Binding a Stratis pool to a supplementary Clevis encryption mechanism does not remove the primary kernel keyring encryption.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis v2.3.0 or later is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created an encrypted Stratis pool, and you have the key description of the key that was used for the encryption. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
					</li><li class="listitem">
						You can connect to the Tang server. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening#deploying-a-tang-server-with-selinux-in-enforcing-mode_configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption">Deploying a Tang server with SELinux in enforcing mode</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Bind an encrypted Stratis pool to NBDE:
					</p><pre class="screen"># stratis pool bind nbde --trust-url <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">tang-server</span></em></span></pre><p class="simpara">
						where
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><span class="emphasis"><em>my-pool</em></span></code></span></dt><dd>
									Specifies the name of the encrypted Stratis pool.
								</dd><dt><span class="term"><code class="literal"><span class="emphasis"><em>tang-server</em></span></code></span></dt><dd>
									Specifies the IP address or URL of the Tang server.
								</dd></dl></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening">Configuring automated unlocking of encrypted volumes using policy-based decryption</a>
					</li></ul></div></section><section class="section" id="bind-stratis-pool-tpm_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.12. Binding a Stratis pool to TPM</h3></div></div></div><p class="_abstract _abstract">
				When you bind an encrypted Stratis pool to the Trusted Platform Module (TPM) 2.0, the system containing the pool reboots, and the pool is automatically unlocked without you having to provide the kernel keyring description.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis v2.3.0 or later is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created an encrypted Stratis pool. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Bind an encrypted Stratis pool to TPM:
					</p><pre class="screen"># stratis pool bind tpm <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">key-description</span></em></span></pre><p class="simpara">
						where
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><span class="emphasis"><em>my-pool</em></span></code></span></dt><dd>
									Specifies the name of the encrypted Stratis pool.
								</dd><dt><span class="term"><code class="literal"><span class="emphasis"><em>key-description</em></span></code></span></dt><dd>
									References the key that exists in the kernel keyring, which was generated when you created the encrypted Stratis pool.
								</dd></dl></div></li></ul></div></section><section class="section" id="unlock-encrypted-stratis-pool-keyring_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.13. Unlocking an encrypted Stratis pool with kernel keyring</h3></div></div></div><p class="_abstract _abstract">
				After a system reboot, your encrypted Stratis pool or the block devices that comprise it might not be visible. You can unlock the pool using the kernel keyring that was used to encrypt the pool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis v2.1.0 is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created an encrypted Stratis pool. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Re-create the key set using the same key description that was used previously:
					</p><pre class="screen"># stratis key set --capture-key <span class="emphasis"><em><span class="replaceable replaceable">key-description</span></em></span></pre><p class="simpara">
						where <span class="emphasis"><em><span class="replaceable replaceable">key-description</span></em></span> references the key that exists in the kernel keyring, which was generated when you created the encrypted Stratis pool.
					</p></li><li class="listitem"><p class="simpara">
						Verify that the Stratis pool is visible:
					</p><pre class="screen"># stratis pool list</pre></li></ol></div></section><section class="section" id="unbind-encrypted-stratis-pool-from-supplementary-encryption_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.14. Unbinding a Stratis pool from supplementary encryption</h3></div></div></div><p class="_abstract _abstract">
				When you unbind an encrypted Stratis pool from a supported supplementary encryption mechanism, the primary kernel keyring encryption remains in place. This is not true for pools that are created with Clevis encryption from the start.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis v2.3.0 or later is installed on your system. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						You have created an encrypted Stratis pool. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
					</li><li class="listitem">
						The encrypted Stratis pool is bound to a supported supplementary encryption mechanism.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Unbind an encrypted Stratis pool from a supplementary encryption mechanism:
					</p><pre class="screen"># stratis pool unbind clevis <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span></pre><p class="simpara">
						where
					</p><p class="simpara">
						<code class="literal"><span class="emphasis"><em>my-pool</em></span></code> specifies the name of the Stratis pool you want to unbind.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#bind-stratis-pool-nbde_setting-up-stratis-file-systems">Binding an encrypted Stratis pool to NBDE</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#bind-stratis-pool-tpm_setting-up-stratis-file-systems">Binding an encrypted Stratis pool to TPM</a>
					</li></ul></div></section><section class="section" id="proc_starting-and-stopping-stratis-pool_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.15. Starting and stopping Stratis pool</h3></div></div></div><p>
				You can start and stop Stratis pools. This gives you the option to dissasemble or bring down all the objects that were used to construct the pool, such as filesystems, cache devices, thin pool, and encrypted devices. Note that if the pool actively uses any device or filesystem, it might issue a warning and not be able to stop.
			</p><p>
				The stopped state is recorded in the pool’s metadata. These pools do not start on the following boot, until the pool receives a start command.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created either an unencrypted or an encrypted Stratis pool. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-unencrypted-stratis-pool_setting-up-stratis-file-systems">Creating an unencrypted Stratis pool</a>
					</li></ul></div><p>
				or <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the following command to start the Stratis pool. The <code class="literal">--unlock-method</code> option specifies the method of unlocking the pool if it is encrypted:
					</p><pre class="screen"># stratis pool start <span class="emphasis"><em>pool-uuid</em></span> --unlock-method &lt;keyring|clevis&gt;</pre></li><li class="listitem"><p class="simpara">
						Alternatively, use the following command to stop the Stratis pool. This tears down the storage stack but leaves all metadata intact:
					</p><pre class="screen"># stratis pool stop <span class="emphasis"><em>pool-name</em></span></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the following command to list all pools on the system:
					</p><pre class="screen"># stratis pool list</pre></li><li class="listitem"><p class="simpara">
						Use the following command to list all not previously started pools. If the UUID is specified, the command prints detailed information about the pool corresponding to the UUID:
					</p><pre class="screen"># stratis pool list --stopped --uuid <span class="emphasis"><em>UUID</em></span></pre></li></ul></div></section><section class="section" id="creating-a-stratis-file-system_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.16. Creating a Stratis file system</h3></div></div></div><p class="_abstract _abstract">
				Create a Stratis file system on an existing Stratis pool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis pool. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-unencrypted-stratis-pool_setting-up-stratis-file-systems">Creating an unencrypted Stratis pool</a>
					</li></ul></div><p>
				or <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To create a Stratis file system on a pool, use:
					</p><pre class="screen"># stratis filesystem create --size <span class="emphasis"><em><span class="replaceable replaceable">number-and-unit</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></pre><p class="simpara">
						where
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><span class="emphasis"><em>number-and-unit</em></span></code></span></dt><dd>
									Specifies the size of a file system. The specification format must follow the standard size specification format for input, that is B, KiB, MiB, GiB, TiB or PiB.
								</dd><dt><span class="term"><code class="literal"><span class="emphasis"><em>my-pool</em></span></code></span></dt><dd>
									Specifies the name of the Stratis pool.
								</dd><dt><span class="term"><code class="literal"><span class="emphasis"><em>my-fs</em></span></code></span></dt><dd><p class="simpara">
									Specifies an arbitrary name for the file system.
								</p><p class="simpara">
									For example:
								</p><div class="example" id="idm140664182451392"><p class="title"><strong>Example 24.1. Creating a Stratis file system</strong></p><div class="example-contents"><pre class="screen"># stratis filesystem create --size 10GiB pool1 filesystem1</pre></div></div></dd></dl></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List file systems within the pool to check if the Stratis filesystem is created:
					</p><pre class="screen"># stratis fs list <span class="emphasis"><em>my-pool</em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#mounting-a-stratis-file-system_setting-up-stratis-file-systems">Mounting a Stratis file system</a>
					</li></ul></div></section><section class="section" id="creating-a-file-system-on-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.17. Creating a file system on a Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to create a file system on an existing Stratis pool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						A Stratis pool is created.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						Click the Stratis pool on which you want to create a file system.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Stratis pool</strong></span> page, scroll to the <span class="strong strong"><strong>Stratis filesystems</strong></span> section and click <span class="guibutton">Create new filesystem</span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png" alt="Image displaying the Stratis pool page."></span>

					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Create filesystem</strong></span> dialog box, enter a <span class="strong strong"><strong>Name</strong></span> for the file system.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/07fbccdba02bded4adc1d642baab4f53/cockpit-create-stratis-fs.png" alt="Image displaying the create Stratis file system dialog box."></span>

					</p></li><li class="listitem">
						Enter the <span class="strong strong"><strong>Mount point</strong></span> for the file system.
					</li><li class="listitem">
						Select the <span class="strong strong"><strong>Mount option</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>At boot</strong></span> drop-down menu, select when you want to mount your file system.
					</li><li class="listitem"><p class="simpara">
						Create the file system:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you want to create and mount the file system, click <span class="guibutton">Create and mount</span>.
							</li><li class="listitem">
								If you want to only create the file system, click <span class="guibutton">Create only</span>.
							</li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The new file system is visible on the <span class="strong strong"><strong>Stratis pool</strong></span> page under the <span class="strong strong"><strong>Stratis filesystems</strong></span> tab.
					</li></ul></div></section><section class="section" id="mounting-a-stratis-file-system_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.18. Mounting a Stratis file system</h3></div></div></div><p class="_abstract _abstract">
				Mount an existing Stratis file system to access the content.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis file system. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis filesystem</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To mount the file system, use the entries that Stratis maintains in the <code class="literal filename">/dev/stratis/</code> directory:
					</p><pre class="screen"># mount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li></ul></div><p>
				The file system is now mounted on the <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span> directory and ready to use.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis file system</a>
					</li></ul></div></section><section class="section" id="persistently-mounting-a-stratis-file-system_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.19. Persistently mounting a Stratis file system</h3></div></div></div><p class="_abstract _abstract">
				This procedure persistently mounts a Stratis file system so that it is available automatically after booting the system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis file system. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis filesystem</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Determine the UUID attribute of the file system:
					</p><pre class="screen">$ lsblk --output=UUID /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></pre><p class="simpara">
						For example:
					</p><div class="example" id="idm140664181240512"><p class="title"><strong>Example 24.2. Viewing the UUID of Stratis file system</strong></p><div class="example-contents"><pre class="screen">$ lsblk --output=UUID /dev/stratis/my-pool/fs1

UUID
a1f0b64a-4ebb-4d4e-9543-b1d79f600283</pre></div></div></li><li class="listitem"><p class="simpara">
						If the mount point directory does not exist, create it:
					</p><pre class="screen"># mkdir --parents <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li><li class="listitem"><p class="simpara">
						As root, edit the <code class="literal filename">/etc/fstab</code> file and add a line for the file system, identified by the UUID. Use <code class="literal">xfs</code> as the file system type and add the <code class="literal">x-systemd.requires=stratisd.service</code> option.
					</p><p class="simpara">
						For example:
					</p><div class="example" id="idm140664181233408"><p class="title"><strong>Example 24.3. The /fs1 mount point in /etc/fstab</strong></p><div class="example-contents"><pre class="screen">UUID=a1f0b64a-4ebb-4d4e-9543-b1d79f600283 /fs1 xfs defaults,x-systemd.requires=stratisd.service 0 0</pre></div></div></li><li class="listitem"><p class="simpara">
						Regenerate mount units so that your system registers the new configuration:
					</p><pre class="screen"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Try mounting the file system to verify that the configuration works:
					</p><pre class="screen"># mount <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/assembly_persistently-mounting-file-systems_managing-file-systems">Persistently mounting file systems</a>
					</li></ul></div></section><section class="section" id="proc_setting-up-non-root-stratis-fs-fstab-systemd_setting-up-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">24.20. Setting up non-root Stratis filesystems in /etc/fstab using a systemd service</h3></div></div></div><p>
				You can manage setting up non-root filesystems in /etc/fstab using a systemd service.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/setting-up-stratis-file-systems_managing-file-systems#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis file system. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/setting-up-stratis-file-systems_managing-file-systems#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis filesystem</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For all non-root Stratis filesystems, use:
					</p><pre class="screen"># /dev/stratis/<span class="emphasis"><em>[STRATIS_SYMLINK]</em></span> <span class="emphasis"><em>[MOUNT_POINT]</em></span> xfs defaults, x-systemd.requires=stratis-fstab-setup@<span class="emphasis"><em>[POOL_UUID]</em></span>.service,x-systemd.after=stratis-stab-setup@<span class="emphasis"><em>[POOL_UUID]</em></span>.service &lt;dump_value&gt; &lt;fsck_value&gt;</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#assembly_persistently-mounting-file-systems_managing-file-systems">Persistently mounting file systems</a>
					</li></ul></div></section></section><section class="chapter" id="extending-a-stratis-volume-with-additional-block-devices"><div class="titlepage"><div><div><h2 class="title">Chapter 25. Extending a Stratis volume with additional block devices</h2></div></div></div><p>
			You can attach additional block devices to a Stratis pool to provide more storage capacity for Stratis file systems.
		</p><section class="section" id="components-of-a-stratis-volume_extending-a-stratis-volume-with-additional-block-devices"><div class="titlepage"><div><div><h3 class="title">25.1. Components of a Stratis volume</h3></div></div></div><p class="_abstract _abstract">
				Learn about the components that comprise a Stratis volume.
			</p><p>
				Externally, Stratis presents the following volume components in the command-line interface and the API:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">blockdev</code></span></dt><dd>
							Block devices, such as a disk or a disk partition.
						</dd><dt><span class="term"><code class="literal">pool</code></span></dt><dd><p class="simpara">
							Composed of one or more block devices.
						</p><p class="simpara">
							A pool has a fixed total size, equal to the size of the block devices.
						</p><p class="simpara">
							The pool contains most Stratis layers, such as the non-volatile data cache using the <code class="literal">dm-cache</code> target.
						</p><p class="simpara">
							Stratis creates a <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/</code> directory for each pool. This directory contains links to devices that represent Stratis file systems in the pool.
						</p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">filesystem</code></span></dt><dd><p class="simpara">
							Each pool can contain one or more file systems, which store files.
						</p><p class="simpara">
							File systems are thinly provisioned and do not have a fixed total size. The actual size of a file system grows with the data stored on it. If the size of the data approaches the virtual size of the file system, Stratis grows the thin volume and the file system automatically.
						</p><p class="simpara">
							The file systems are formatted with XFS.
						</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								Stratis tracks information about file systems created using Stratis that XFS is not aware of, and changes made using XFS do not automatically create updates in Stratis. Users must not reformat or reconfigure XFS file systems that are managed by Stratis.
							</p></div></rh-alert><p class="simpara">
							Stratis creates links to file systems at the <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></code> path.
						</p></dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Stratis uses many Device Mapper devices, which show up in <code class="literal">dmsetup</code> listings and the <code class="literal filename">/proc/partitions</code> file. Similarly, the <code class="literal">lsblk</code> command output reflects the internal workings and layers of Stratis.
				</p></div></rh-alert></section><section class="section" id="adding-block-devices-to-a-stratis-pool_extending-a-stratis-volume-with-additional-block-devices"><div class="titlepage"><div><div><h3 class="title">25.2. Adding block devices to a Stratis pool</h3></div></div></div><p class="_abstract _abstract">
				This procedure adds one or more block devices to a Stratis pool to be usable by Stratis file systems.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						The block devices that you are adding to the Stratis pool are not in use and not mounted.
					</li><li class="listitem">
						The block devices that you are adding to the Stratis pool are at least 1 GiB in size each.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To add one or more block devices to the pool, use:
					</p><pre class="screen"># stratis pool add-data <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">device-1</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">device-2</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">device-n</span></em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="adding-a-block-device-to-a-stratis-pool-using-the-web-console_extending-a-stratis-volume-with-additional-block-devices"><div class="titlepage"><div><div><h3 class="title">25.3. Adding a block device to a Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to add a block device to an existing Stratis pool. You can also add caches as a block device.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						A Stratis pool is created.
					</li><li class="listitem">
						The block devices on which you are creating a Stratis pool are not in use and are not mounted.
					</li><li class="listitem">
						Each block device on which you are creating a Stratis pool is at least 1 GB.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the Stratis pool to which you want to add a block device.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Stratis pool</strong></span> page, click <span class="guibutton">Add block devices</span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png" alt="Image displaying the Stratis pool page."></span>

					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Add block devices</strong></span> dialog box, select the <span class="strong strong"><strong>Tier</strong></span>, whether you want to add a block device as data or cache.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/4fe8c35276d6b3ff0b005558df3edcbe/cockpit-stratis-add-block-device.png" alt="Image displaying the Add block devices dialog box."></span>

					</p></li><li class="listitem">
						Optional: If you are adding the block device to a Stratis pool that is encrypted with a passphrase, then you must enter the passphrase.
					</li><li class="listitem">
						Under <span class="strong strong"><strong>Block devices</strong></span>, select the devices you want to add to the pool.
					</li><li class="listitem">
						Click <span class="guibutton">Add</span>.
					</li></ol></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">25.4. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://stratis-storage.github.io/">The <span class="emphasis"><em>Stratis Storage</em></span> website</a>
					</li></ul></div></section></section><section class="chapter" id="monitoring-stratis-file-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 26. Monitoring Stratis file systems</h2></div></div></div><p>
			As a Stratis user, you can view information about Stratis volumes on your system to monitor their state and free space.
		</p><section class="section" id="stratis-sizes-reported-by-different-utilities_monitoring-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">26.1. Stratis sizes reported by different utilities</h3></div></div></div><p class="_abstract _abstract">
				This section explains the difference between Stratis sizes reported by standard utilities such as <code class="literal">df</code> and the <code class="literal">stratis</code> utility.
			</p><p>
				Standard Linux utilities such as <code class="literal">df</code> report the size of the XFS file system layer on Stratis, which is 1 TiB. This is not useful information, because the actual storage usage of Stratis is less due to thin provisioning, and also because Stratis automatically grows the file system when the XFS layer is close to full.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Regularly monitor the amount of data written to your Stratis file systems, which is reported as the <span class="emphasis"><em>Total Physical Used</em></span> value. Make sure it does not exceed the <span class="emphasis"><em>Total Physical Size</em></span> value.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="displaying-information-about-stratis-volumes_monitoring-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">26.2. Displaying information about Stratis volumes</h3></div></div></div><p class="_abstract _abstract">
				This procedure lists statistics about your Stratis volumes, such as the total, used, and free size or file systems and block devices belonging to a pool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To display information about all <span class="strong strong"><strong>block devices</strong></span> used for Stratis on your system:
					</p><pre class="screen"># stratis blockdev

Pool Name  Device Node    Physical Size   State  Tier
<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>    <span class="emphasis"><em><span class="replaceable replaceable">/dev/sdb</span></em></span>            <span class="emphasis"><em><span class="replaceable replaceable">9.10 TiB</span></em></span>  <span class="emphasis"><em><span class="replaceable replaceable">In-use</span></em></span>  <span class="emphasis"><em><span class="replaceable replaceable">Data</span></em></span></pre></li><li class="listitem"><p class="simpara">
						To display information about all Stratis <span class="strong strong"><strong>pools</strong></span> on your system:
					</p><pre class="screen"># stratis pool

Name    Total Physical Size  Total Physical Used
<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>            <span class="emphasis"><em><span class="replaceable replaceable">9.10 TiB</span></em></span>              <span class="emphasis"><em><span class="replaceable replaceable">598 MiB</span></em></span></pre></li><li class="listitem"><p class="simpara">
						To display information about all Stratis <span class="strong strong"><strong>file systems</strong></span> on your system:
					</p><pre class="screen"># stratis filesystem

Pool Name  Name  Used     Created            Device
<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>    <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">546 MiB</span></em></span>  <span class="emphasis"><em><span class="replaceable replaceable">Nov 08 2018 08:03</span></em></span>  /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool/my-fs</span></em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="viewing-a-stratis-pool-using-the-web-console_monitoring-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">26.3. Viewing a Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to view an existing Stratis pool and the file systems it contains.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have an existing Stratis pool.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the RHEL 9 web console.
					</li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the Stratis pool you want to view.
					</p><p class="simpara">
						The Stratis pool page displays all the information about the pool and the file systems that you created in the pool.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png" alt="Image displaying the Stratis pool page."></span>

					</p></li></ol></div></section><section class="section _additional-resources" id="additional_resources_2"><div class="titlepage"><div><div><h3 class="title">26.4. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://stratis-storage.github.io/">The <span class="emphasis"><em>Stratis Storage</em></span> website</a>
					</li></ul></div></section></section><section class="chapter" id="using-snapshots-on-stratis-file-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 27. Using snapshots on Stratis file systems</h2></div></div></div><p>
			You can use snapshots on Stratis file systems to capture file system state at arbitrary times and restore it in the future.
		</p><section class="section" id="characteristics-of-stratis-snapshots_using-snapshots-on-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">27.1. Characteristics of Stratis snapshots</h3></div></div></div><p>
				In Stratis, a snapshot is a regular Stratis file system created as a copy of another Stratis file system. The snapshot initially contains the same file content as the original file system, but can change as the snapshot is modified. Whatever changes you make to the snapshot will not be reflected in the original file system.
			</p><p>
				The current snapshot implementation in Stratis is characterized by the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A snapshot of a file system is another file system.
					</li><li class="listitem">
						A snapshot and its origin are not linked in lifetime. A snapshotted file system can live longer than the file system it was created from.
					</li><li class="listitem">
						A file system does not have to be mounted to create a snapshot from it.
					</li><li class="listitem">
						Each snapshot uses around half a gigabyte of actual backing storage, which is needed for the XFS log.
					</li></ul></div></section><section class="section" id="creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">27.2. Creating a Stratis snapshot</h3></div></div></div><p class="_abstract _abstract">
				This procedure creates a Stratis file system as a snapshot of an existing Stratis file system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis file system. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis filesystem</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To create a Stratis snapshot, use:
					</p><pre class="screen"># stratis fs snapshot <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs-snapshot</span></em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="accessing-the-content-of-a-stratis-snapshot_using-snapshots-on-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">27.3. Accessing the content of a Stratis snapshot</h3></div></div></div><p class="_abstract _abstract">
				This procedure mounts a snapshot of a Stratis file system to make it accessible for read and write operations.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis snapshot. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis filesystem</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To access the snapshot, mount it as a regular file system from the <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/</code> directory:
					</p><pre class="screen"># mount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs-snapshot</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#mounting-a-stratis-file-system_setting-up-stratis-file-systems">Mounting a Stratis file system</a>
					</li><li class="listitem">
						<code class="literal">mount(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="reverting-a-stratis-file-system-to-a-previous-snapshot_using-snapshots-on-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">27.4. Reverting a Stratis file system to a previous snapshot</h3></div></div></div><p class="_abstract _abstract">
				This procedure reverts the content of a Stratis file system to the state captured in a Stratis snapshot.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis snapshot. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems">Creating a Stratis snapshot</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Back up the current state of the file system to be able to access it later:
					</p><pre class="screen"># stratis filesystem snapshot <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs-backup</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Unmount and remove the original file system:
					</p><pre class="screen"># umount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span>
# stratis filesystem destroy <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Create a copy of the snapshot under the name of the original file system:
					</p><pre class="screen"># stratis filesystem snapshot <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs-snapshot</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Mount the snapshot, which is now accessible with the same name as the original file system:
					</p><pre class="screen"># mount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li></ol></div><p>
				The content of the file system named <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span> is now identical to the snapshot <span class="emphasis"><em><span class="replaceable replaceable">my-fs-snapshot</span></em></span>.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="removing-a-stratis-snapshot_using-snapshots-on-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">27.5. Removing a Stratis snapshot</h3></div></div></div><p class="_abstract _abstract">
				This procedure removes a Stratis snapshot from a pool. Data on the snapshot are lost.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis snapshot. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/using-snapshots-on-stratis-file-systems_managing-file-systems#creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems">Creating a Stratis snapshot</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Unmount the snapshot:
					</p><pre class="screen"># umount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs-snapshot</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Destroy the snapshot:
					</p><pre class="screen"># stratis filesystem destroy <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs-snapshot</span></em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section _additional-resources" id="additional_resources_3"><div class="titlepage"><div><div><h3 class="title">27.6. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://stratis-storage.github.io/">The <span class="emphasis"><em>Stratis Storage</em></span> website</a>
					</li></ul></div></section></section><section class="chapter" id="removing-stratis-file-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 28. Removing Stratis file systems</h2></div></div></div><p>
			You can remove an existing Stratis file system, or a Stratis pool, by destroying data on them.
		</p><section class="section" id="components-of-a-stratis-volume_removing-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">28.1. Components of a Stratis volume</h3></div></div></div><p class="_abstract _abstract">
				Learn about the components that comprise a Stratis volume.
			</p><p>
				Externally, Stratis presents the following volume components in the command-line interface and the API:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">blockdev</code></span></dt><dd>
							Block devices, such as a disk or a disk partition.
						</dd><dt><span class="term"><code class="literal">pool</code></span></dt><dd><p class="simpara">
							Composed of one or more block devices.
						</p><p class="simpara">
							A pool has a fixed total size, equal to the size of the block devices.
						</p><p class="simpara">
							The pool contains most Stratis layers, such as the non-volatile data cache using the <code class="literal">dm-cache</code> target.
						</p><p class="simpara">
							Stratis creates a <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/</code> directory for each pool. This directory contains links to devices that represent Stratis file systems in the pool.
						</p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">filesystem</code></span></dt><dd><p class="simpara">
							Each pool can contain one or more file systems, which store files.
						</p><p class="simpara">
							File systems are thinly provisioned and do not have a fixed total size. The actual size of a file system grows with the data stored on it. If the size of the data approaches the virtual size of the file system, Stratis grows the thin volume and the file system automatically.
						</p><p class="simpara">
							The file systems are formatted with XFS.
						</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								Stratis tracks information about file systems created using Stratis that XFS is not aware of, and changes made using XFS do not automatically create updates in Stratis. Users must not reformat or reconfigure XFS file systems that are managed by Stratis.
							</p></div></rh-alert><p class="simpara">
							Stratis creates links to file systems at the <code class="literal filename">/dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></code> path.
						</p></dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Stratis uses many Device Mapper devices, which show up in <code class="literal">dmsetup</code> listings and the <code class="literal filename">/proc/partitions</code> file. Similarly, the <code class="literal">lsblk</code> command output reflects the internal workings and layers of Stratis.
				</p></div></rh-alert></section><section class="section" id="removing-a-stratis-file-system_removing-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">28.2. Removing a Stratis file system</h3></div></div></div><p class="_abstract _abstract">
				This procedure removes an existing Stratis file system. Data stored on it are lost.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have created a Stratis file system. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems">Creating a Stratis filesystem</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Unmount the file system:
					</p><pre class="screen"># umount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Destroy the file system:
					</p><pre class="screen"># stratis filesystem destroy <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the file system no longer exists:
					</p><pre class="screen"># stratis filesystem list <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="deleting-a-file-system-from-a-stratis-pool-using-the-web-console_removing-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">28.3. Deleting a file system from a Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to delete a file system from an existing Stratis pool.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Deleting a Stratis pool file system erases all the data it contains.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem"><p class="simpara">
						Stratis is installed.
					</p><p class="simpara">
						The web console detects and installs Stratis by default. However, for manually installing Stratis, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have an existing Stratis pool.
					</li><li class="listitem">
						You have created a file system on the Stratis pool.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the Stratis pool from which you want to delete a file system.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Stratis pool</strong></span> page, scroll to the <span class="strong strong"><strong>Stratis filesystems</strong></span> section and click the menu button <span class="guibutton">⋮</span> next to the file system you want to delete.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png" alt="Image displaying the Stratis pool page."></span>

					</p></li><li class="listitem"><p class="simpara">
						From the drop-down menu, select <span class="guibutton">delete</span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/38f85c8e779f4a9eee61311e2daf656e/cockpit-stratis-fs-delete.png" alt="Image displaying the drop-down menu of a stratis file system."></span>

					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Confirm deletion</strong></span> dialog box, click <span class="guibutton">Delete</span>.
					</li></ol></div></section><section class="section" id="removing-a-stratis-pool_removing-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">28.4. Removing a Stratis pool</h3></div></div></div><p class="_abstract _abstract">
				This procedure removes an existing Stratis pool. Data stored on it are lost.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Stratis is installed. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems">Installing Stratis</a>.
					</li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem"><p class="simpara">
						You have created a Stratis pool:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								To create an unencrypted pool, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-unencrypted-stratis-pool_setting-up-stratis-file-systems">Creating an unencrypted Stratis pool</a>
							</li><li class="listitem">
								To create an encrypted pool, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems">Creating an encrypted Stratis pool</a>.
							</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						List file systems on the pool:
					</p><pre class="screen"># stratis filesystem list <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Unmount all file systems on the pool:
					</p><pre class="screen"># umount /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs-1</span></em></span> \
         /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs-2</span></em></span> \
         /dev/stratis/<span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">my-fs-n</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Destroy the file systems:
					</p><pre class="screen"># stratis filesystem destroy <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs-1</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">my-fs-2</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Destroy the pool:
					</p><pre class="screen"># stratis pool destroy <span class="emphasis"><em><span class="replaceable replaceable">my-pool</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the pool no longer exists:
					</p><pre class="screen"># stratis pool list</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">stratis(8)</code> man page on your system
					</li></ul></div></section><section class="section" id="deleting-a-stratis-pool-using-the-web-console_removing-stratis-file-systems"><div class="titlepage"><div><div><h3 class="title">28.5. Deleting a Stratis pool by using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to delete an existing Stratis pool.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Deleting a Stratis pool erases all the data it contains.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						The <code class="literal">stratisd</code> service is running.
					</li><li class="listitem">
						You have an existing Stratis pool.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="guibutton">Storage</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Storage</strong></span> table, click the menu button, <span class="guibutton">⋮</span>, next to the Stratis pool you want to delete.
					</li><li class="listitem">
						From the drop-down menu, select <span class="guibutton">Delete pool</span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Permanently delete pool</strong></span> dialog box, click <span class="guibutton">Delete</span>.
					</li></ol></div></section><section class="section _additional-resources" id="additional_resources_4"><div class="titlepage"><div><div><h3 class="title">28.6. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://stratis-storage.github.io/">The <span class="emphasis"><em>Stratis Storage</em></span> website</a>
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140664177928336"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":1173,"once":1177,"_errors":1178,"serverRendered":15,"path":1180},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":10,"Pn02PlJOas":1101,"rFVLKcOK8e":1172},[5,6,7,8,9],"fr-fr","ko-kr","zh-cn","en-us","ja-jp",{"name":11,"html":12,"type":-1,"toc":13,"breadcrumbs":1004,"error":18,"title":1012,"productName":1006,"productVersions":1021,"pagination":1050,"redirect":1082,"canonicalLinks":1083,"openShiftProducts":1085,"tocFromVolume":-1,"jumpLinks":1100},"Managing storage devices","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm140664197321568\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Configuring and managing local and remote storage devices\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm140664177928336\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tRed Hat Enterprise Linux (RHEL) provides several local and remote storage options. With the available storage options, you can perform the following tasks:\n\t\t\t\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cdiv class=\"para\">\n\t\t\t\t\t\tCreate disk partitions according to your requirements. Use disk encryption to protect the data on a block device.\n\t\t\t\t\t\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cdiv class=\"para\">\n\t\t\t\t\t\tCreate a Redundant Array of Independent Disks (RAID) to store data across multiple drives and avoid data loss.\n\t\t\t\t\t\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cdiv class=\"para\">\n\t\t\t\t\t\tUse iSCSI and NVMe over Fabrics to access storage over a network.\n\t\t\t\t\t\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cdiv class=\"para\">\n\t\t\t\t\t\tSet up Stratis to manage pools of physical storage devices.\n\t\t\t\t\t\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"overview-of-available-storage-options_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Overview of available storage options\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThere are several local, remote, and cluster-based storage options available on Red Hat Enterprise Linux 9.\n\t\t\u003C/p>\u003Cp>\n\t\t\tLocal storage implies that the storage devices are either installed on the system or directly attached to the system.\n\t\t\u003C/p>\u003Cp>\n\t\t\tWith remote storage, devices are accessed over LAN, the internet, or using a Fibre channel network. The following high level Red Hat Enterprise Linux storage diagram describes the different storage options.\n\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"High-Level-RHEL-Storage-Diagram_overview-of-available-storage-options\">\u003Cp class=\"title\">\u003Cstrong>Figure 1.1. High level Red Hat Enterprise Linux storage diagram\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/72eec6a83fb27ddb3e44bc5ab1a3a3a8/High-Level-RHEL-Storage-Diagram.png\" alt=\"High Level RHEL Storage Diagram\"/>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"local-storage-overview_overview-of-available-storage-options\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. Local storage overview\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tRed Hat Enterprise Linux 9 offers several local storage options.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Basic disk administration\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsing \u003Ccode class=\"literal\">parted\u003C/code> and \u003Ccode class=\"literal\">fdisk\u003C/code>, you can create, modify, delete, and view disk partitions. The following are the partitioning layout standards:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Master Boot Record (MBR)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tIt is used with BIOS-based computers. You can create primary, extended, and logical partitions.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">GUID Partition Table (GPT)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tIt uses Globally Unique identifier (GUID) and provides unique disk and partition GUID.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo encrypt the partition, you can use Linux Unified Key Setup-on-disk-format (LUKS). To encrypt the partition, select the option during the installation and the prompt displays to enter the passphrase. This passphrase unlocks the encryption key.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Storage consumption options\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Non-Volatile Dual In-line Memory Modules (NVDIMM) Management\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tIt is a combination of memory and storage. You can enable and manage various types of storage on NVDIMM devices connected to your system.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Block Storage Management\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tData is stored in the form of blocks where each block has a unique identifier.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">File Storage\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tData is stored at file level on the local system. These data can be accessed locally using XFS (default) or ext4, and over a network by using NFS and SMB.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Logical volumes\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Logical Volume Manager (LVM)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIt creates logical devices from physical devices. Logical volume (LV) is a combination of the physical volumes (PV) and volume groups (VG). Configuring LVM include:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreating PV from the hard drives.\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreating VG from the PV.\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreating LV from the VG assigning mount points to the LV.\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Virtual Data Optimizer (VDO)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIt is used for data reduction by using deduplication, compression, and thin provisioning. Using LV below VDO helps in:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tExtending of VDO volume\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tSpanning VDO volume over multiple devices\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Local file systems\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">XFS\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tThe default RHEL file system.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Ext4\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tA legacy file system.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Stratis\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tStratis is a hybrid user-and-kernel local storage management system that supports advanced storage features.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"remote-storage-overview_overview-of-available-storage-options\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. Remote storage overview\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following are the remote storage options available in Red Hat Enterprise Linux 9:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Storage connectivity options\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">iSCSI\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tRHEL 9 uses the targetcli tool to add, remove, view, and monitor iSCSI storage interconnects.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Fibre Channel (FC)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tRHEL 9 provides the following native Fibre Channel drivers:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">lpfc\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">qla2xxx\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Zfcp\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Non-volatile Memory Express (NVMe)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tAn interface which allows host software utility to communicate with solid state drives. Use the following types of fabric transport to configure NVMe over fabrics:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tNVMe over fabrics using Remote Direct Memory Access (RDMA).\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\tNVMe over fabrics using Fibre Channel (FC)\n\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Device Mapper multipathing (DM Multipath)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\tAllows you to configure multiple I/O paths between server nodes and storage arrays into a single device. These I/O paths are physical SAN connections that can include separate cables, switches, and controllers.\n\t\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Network file system\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tNFS\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSMB\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"gfs2-file-system-overview_overview-of-available-storage-options\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.3. GFS2 file system overview\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe Red Hat Global File System 2 (GFS2) file system is a 64-bit symmetric cluster file system which provides a shared name space and manages coherency between multiple nodes sharing a common block device. A GFS2 file system is intended to provide a feature set which is as close as possible to a local file system, while at the same time enforcing full cluster coherency between nodes. To achieve this, the nodes employ a cluster-wide locking scheme for file system resources. This locking scheme uses communication protocols such as TCP/IP to exchange locking information.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn a few cases, the Linux file system API does not allow the clustered nature of GFS2 to be totally transparent; for example, programs using POSIX locks in GFS2 should avoid using the \u003Ccode class=\"literal\">GETLK\u003C/code> function since, in a clustered environment, the process ID may be for a different node in the cluster. In most cases however, the functionality of a GFS2 file system is identical to that of a local file system.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe Red Hat Enterprise Linux Resilient Storage Add-On provides GFS2, and it depends on the Red Hat Enterprise Linux High Availability Add-On to provide the cluster management required by GFS2.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">gfs2.ko\u003C/code> kernel module implements the GFS2 file system and is loaded on GFS2 cluster nodes.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo get the best performance from GFS2, it is important to take into account the performance considerations which stem from the underlying design. Just like a local file system, GFS2 relies on the page cache in order to improve performance by local caching of frequently used data. In order to maintain coherency across the nodes in the cluster, cache control is provided by the \u003Cspan class=\"emphasis\">\u003Cem>glock\u003C/em>\u003C/span> state machine.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_gfs2_file_systems/index\">Configuring GFS2 file systems\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"persistent-naming-attributes_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Persistent naming attributes\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThe way you identify and manage storage devices ensures the stability and predictability of the system. Red Hat Enterprise Linux 9 uses two primary naming schemes for this purpose: traditional device names and persistent naming attributes.\n\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Traditional device names\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\tTraditional device names are determined by the Linux kernel based on the physical location of the device in the system. For example, the first SATA drive is usually labeled as \u003Ccode class=\"literal\">/dev/sda\u003C/code>, the second as \u003Ccode class=\"literal\">/dev/sdb\u003C/code>, and so on. While these names are straightforward, they are subject to change when devices are added or removed or when the hardware configuration is modified. This can pose challenges for scripting and configuration files. Furthermore, traditional names lack descriptive information about the purpose or characteristics of the device.\n\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Persistent naming attributes\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\tPersistent naming attributes are based on unique characteristics of the storage devices, making them more stable and predictable across system reboots. Implementing PNAs involves a more detailed initial configuration compared to traditional naming. One of the key benefits of PNAs is their resilience to changes in hardware configurations, making them ideal for maintaining consistent naming conventions. When using PNAs, you can reference storage devices within scripts, configuration files, and management tools without concerns about unexpected name changes. Additionally, PNAs often include valuable metadata, such as device type or manufacturer information, enhancing their descriptiveness for effective device identification and management.\n\t\t\t\u003C/p>\u003C/div>\u003Csection class=\"section\" id=\"persistent-attributes-for-identifying-file-systems-and-block-devices_persistent-naming-attributes\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.1. Persistent attributes for identifying file systems and block devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn Red Hat Enterprise Linux 9 storage, persistent naming attributes (PNAs) are mechanisms that provide consistent and reliable naming for storage devices across system reboots, hardware changes, or other events. These attributes are used to identify storage devices consistently, even if the storage devices are added, removed, or reconfigured.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tPNAs are used to identify both file systems and block devices, but they serve different purposes:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Persistent attributes for identifying file systems\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUniversally unique identifier (UUID)\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUUIDs are primarily used to uniquely identify file systems on storage devices. Each file system has its own UUID, and this identifier remains constant even if the file system is unmounted, remounted, or the device is detached and reattached.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tLabel\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tLabels are user-assigned names for file systems. While they can be used to identify and reference file systems, they are not as standardized as UUIDs. Labels are often used as alternatives to UUIDs to specify file systems in configuration files.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWhen you assign a label to a file system, it becomes part of the file system metadata. This label persists with the file system even if you mount the file system on different mount points or different systems.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Persistent attributes for identifying block devices\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUniversally unique identifier (UUID)\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUUIDs can be used to identify storage block devices. When a storage device is formatted or when a file system is created on it, a UUID is often assigned to the device itself. This UUID is embedded within the file system metadata or partition table and is used as a reference for persistent device naming. It allows you to uniquely identify the block device, even if you change the file system or reformat it.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWorld Wide Identifier (WWID)\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWWIDs are globally unique identifiers associated with storage block devices. They are commonly used in Fibre Channel Storage Area Networks (SANs) to identify Host Bus Adapters (HBAs) or network interfaces that connect servers to SAN storage devices. WWIDs ensure consistent communication between servers and SAN storage devices and help manage redundant paths to storage devices.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSerial number\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe serial number is a unique identifier assigned to each storage block device by the manufacturer. It can be used to differentiate between storage devices and may be used in combination with other attributes like UUIDs or WWIDs for device management.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"udev-device-naming-rules_persistent-naming-attributes\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.2. \u003Ccode class=\"literal\">udev\u003C/code> device naming rules\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUserspace device manager (\u003Ccode class=\"literal\">udev\u003C/code>) subsystem allows you to define rules for assigning persistent names to devices. These rules are stored in a file with a \u003Ccode class=\"literal\">.rules\u003C/code> extension in the \u003Ccode class=\"literal\">/etc/udev/rules.d/\u003C/code> directory. The purpose of these rules is to ensure that storage devices are consistently and predictably identified, even across system reboots and configuration changes.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Ccode class=\"literal\">udev\u003C/code> rules are written in a human-readable format using key-value pairs. When a device is detected or initialized, \u003Ccode class=\"literal\">udev\u003C/code> evaluates these rules sequentially, based on the order they are defined. The first matching rule is applied to the device, determining its name and how it will be identified within the system.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn the case of storage devices, \u003Ccode class=\"literal\">udev\u003C/code> rules create symbolic links in the \u003Ccode class=\"literal\">/dev/disk/\u003C/code> directory. These symbolic links provide user-friendly aliases for storage devices, making it more convenient to refer to and manage these devices.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can create custom \u003Ccode class=\"literal\">udev\u003C/code> rules to specify how devices should be named based on various attributes such as serial numbers, WWN (World Wide Name) identifiers, or other device-specific characteristics. By defining specific naming rules, you have precise control over how devices are identified within the system.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThere are two primary locations for \u003Ccode class=\"literal\">udev\u003C/code> rules:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/lib/udev/rules.d/\u003C/code> directory contains default rules that come with the \u003Ccode class=\"literal\">udev\u003C/code> package.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/udev/rules.d\u003C/code> directory is intended for custom \u003Ccode class=\"literal\">udev\u003C/code> rules.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWhile \u003Ccode class=\"literal\">udev\u003C/code> rules are very flexible, it is important to be aware of \u003Ccode class=\"literal\">udev\u003C/code> limitations:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccessibility Timing: Some storage devices might not be accessible at the time of a \u003Ccode class=\"literal\">udev\u003C/code> query.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEvent-Based Processing: The kernel can send \u003Ccode class=\"literal\">udev\u003C/code> events at any time, potentially triggering rule processing and link removal if a device is inaccessible.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tProcessing Delay: There might be a delay between event generation and processing, especially with numerous devices, causing a lag between kernel detection and link availability.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDevice Accessibility: External programs invoked by \u003Ccode class=\"literal\">udev\u003C/code> rules, like \u003Ccode class=\"literal\">blkid\u003C/code>, might briefly open the device, making it temporarily inaccessible for other tasks.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLink Updates: Device names managed by \u003Ccode class=\"literal\">udev\u003C/code> in \u003Ccode class=\"literal\">/dev/disk/\u003C/code> can change between major releases, requiring link updates.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">udev\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-local-storage-using-rhel-system-roles_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. Managing local storage by using RHEL system roles\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tTo manage LVM and local file systems (FS) by using Ansible, you can use the \u003Ccode class=\"literal\">storage\u003C/code> role, which is one of the RHEL system roles available in RHEL 9.\n\t\t\u003C/p>\u003Cp>\n\t\t\tUsing the \u003Ccode class=\"literal\">storage\u003C/code> role enables you to automate administration of file systems on disks and logical volumes on multiple machines and across all versions of RHEL starting with RHEL 7.7.\n\t\t\u003C/p>\u003Cp>\n\t\t\tFor more information about RHEL system roles and how to apply them, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/intro-to-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">Introduction to RHEL system roles\u003C/a>.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"an-example-ansible-playbook-to-create-an-xfs-file-system_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.1. Creating an XFS file system on a block device by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe example Ansible playbook applies the \u003Ccode class=\"literal\">storage\u003C/code> role to create an XFS file system on a block device using the default parameters.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">storage\u003C/code> role can create a file system only on an unpartitioned, whole disk or a logical volume (LV). It cannot create the file system on a partition.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- hosts: managed-node-01.example.com\n  roles:\n    - rhel-system-roles.storage\n  vars:\n    storage_volumes:\n      - name: barefs\n        type: disk\n        disks:\n          - sdb\n        fs_type: xfs\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe volume name (\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>barefs\u003C/em>\u003C/span>\u003C/code> in the example) is currently arbitrary. The \u003Ccode class=\"literal\">storage\u003C/code> role identifies the volume by the disk device listed under the \u003Ccode class=\"literal\">disks:\u003C/code> attribute.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou can omit the \u003Ccode class=\"literal\">fs_type: xfs\u003C/code> line because XFS is the default file system in RHEL 9.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo create the file system on an LV, provide the LVM setup under the \u003Ccode class=\"literal\">disks:\u003C/code> attribute, including the enclosing volume group. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/managing-lvm-logical-volumes_configuring-and-managing-logical-volumes#an-example-playbook-to-manage-logical-volumes_managing-lvm-logical-volumes-using-rhel-system-roles\">Managing logical volumes by using the storage RHEL system role\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDo not provide the path to the LV device.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"an-example-ansible-playbook-to-persistently-mount-a-file-system_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.2. Persistently mounting a file system by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe example Ansible applies the \u003Ccode class=\"literal\">storage\u003C/code> role to immediately and persistently mount an XFS file system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- hosts: managed-node-01.example.com\n  roles:\n    - rhel-system-roles.storage\n  vars:\n    storage_volumes:\n      - name: barefs\n        type: disk\n        disks:\n          - sdb\n        fs_type: xfs\n        mount_point: /mnt/data\n        mount_user: somebody\n        mount_group: somegroup\n        mount_mode: 0755\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThis playbook adds the file system to the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file, and mounts the file system immediately.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf the file system on the \u003Ccode class=\"literal\">/dev/sdb\u003C/code> device or the mount point directory do not exist, the playbook creates them.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-or-resizing-logical-volume-using-storage-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.3. Creating or resizing a logical volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan id=\"an-example-playbook-to-manage-logical-volumes_managing-local-storage-using-rhel-system-roles\">\u003C!--Empty-->\u003C/span>\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUse the \u003Ccode class=\"literal\">storage\u003C/code> role to perform the following tasks:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTo create an LVM logical volume in a volume group consisting of many disks\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTo resize an existing file system on LVM\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTo express an LVM volume size in percentage of the pool’s total size\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIf the volume group does not exist, the role creates it. If a logical volume exists in the volume group, it is resized if the size does not match what is specified in the playbook.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you are reducing a logical volume, to prevent data loss you must ensure that the file system on that logical volume is not using the space in the logical volume that is being reduced.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Create logical volume\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_pools:\n          - name: myvg\n            disks:\n              - sda\n              - sdb\n              - sdc\n            volumes:\n              - name: mylv\n                size: 2G\n                fs_type: ext4\n                mount_point: /mnt/data\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe settings specified in the example playbook include the following:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">size: \u003Cspan class=\"emphasis\">\u003Cem>&lt;size&gt;\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tYou must specify the size by using units (for example, GiB) or percentage (for example, 60%).\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that specified volume has been created or resized to the requested size:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'lvs myvg'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"an-example-ansible-playbook-to-enable-online-block-discard_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.4. Enabling online block discard by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can mount an XFS file system with the online block discard option to automatically discard unused blocks.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Enable online block discard\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_volumes:\n          - name: barefs\n            type: disk\n            disks:\n              - sdb\n            fs_type: xfs\n            mount_point: /mnt/data\n            mount_options: discard\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that online block discard option is enabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'findmnt /mnt/data'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"an-example-playbook-to-create-mount-an-ext4-file-system_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.5. Creating and mounting an Ext4 file system by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe example Ansible playbook applies the \u003Ccode class=\"literal\">storage\u003C/code> role to create and mount an Ext4 file system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- hosts: managed-node-01.example.com\n  roles:\n    - rhel-system-roles.storage\n  vars:\n    storage_volumes:\n      - name: barefs\n        type: disk\n        disks:\n          - sdb\n        fs_type: ext4\n        fs_label: label-name\n        mount_point: /mnt/data\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe playbook creates the file system on the \u003Ccode class=\"literal\">/dev/sdb\u003C/code> disk.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe playbook persistently mounts the file system at the \u003Ccode class=\"literal\">/mnt/data\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe label of the file system is \u003Ccode class=\"literal\">label-name\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"an-example-ansible-playbook-to-create-mount-ext3-file-system_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.6. Creating and mounting an Ext3 file system by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe example Ansible playbook applies the \u003Ccode class=\"literal\">storage\u003C/code> role to create and mount an Ext3 file system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- hosts: all\n  roles:\n    - rhel-system-roles.storage\n  vars:\n    storage_volumes:\n      - name: barefs\n        type: disk\n        disks:\n          - sdb\n        fs_type: ext3\n        fs_label: label-name\n        mount_point: /mnt/data\n        mount_user: somebody\n        mount_group: somegroup\n        mount_mode: 0755\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe playbook creates the file system on the \u003Ccode class=\"literal\">/dev/sdb\u003C/code> disk.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe playbook persistently mounts the file system at the \u003Ccode class=\"literal\">/mnt/data\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe label of the file system is \u003Ccode class=\"literal\">label-name\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"example-ansible-playbook-to-create-a-swap-partition-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.7. Creating a swap volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis section provides an example Ansible playbook. This playbook applies the \u003Ccode class=\"literal\">storage\u003C/code> role to create a swap volume, if it does not exist, or to modify the swap volume, if it already exist, on a block device by using the default parameters.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Create a disk device with swap\n  hosts: managed-node-01.example.com\n  roles:\n    - rhel-system-roles.storage\n  vars:\n    storage_volumes:\n      - name: swap_fs\n        type: disk\n        disks:\n          - /dev/sdb\n        size: 15 GiB\n        fs_type: swap\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe volume name (\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>swap_fs\u003C/em>\u003C/span>\u003C/code> in the example) is currently arbitrary. The \u003Ccode class=\"literal\">storage\u003C/code> role identifies the volume by the disk device listed under the \u003Ccode class=\"literal\">disks:\u003C/code> attribute.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-a-raid-volume-using-the-storage-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.8. Configuring a RAID volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWith the \u003Ccode class=\"literal\">storage\u003C/code> system role, you can configure a RAID volume on RHEL by using Red Hat Ansible Automation Platform and Ansible-Core. Create an Ansible playbook with the parameters to configure a RAID volume to suit your requirements.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tDevice names might change in certain circumstances, for example, when you add a new disk to a system. Therefore, to prevent data loss, use persistent naming attributes in the playbook. For more information about persistent naming attributes, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/persistent-naming-attributes_managing-storage-devices#persistent-naming-attributes_managing-storage-devices\">Persistent naming attributes\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Create a RAID on sdd, sde, sdf, and sdg\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_safe_mode: false\n        storage_volumes:\n          - name: data\n            type: raid\n            disks: [sdd, sde, sdf, sdg]\n            raid_level: raid0\n            raid_chunk_size: 32 KiB\n            mount_point: /mnt/data\n            state: present\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the array was correctly created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'mdadm --detail /dev/md/data'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-lvm-pool-with-raid-using-storage-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.9. Configuring an LVM pool with RAID by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWith the \u003Ccode class=\"literal\">storage\u003C/code> system role, you can configure an LVM pool with RAID on RHEL by using Red Hat Ansible Automation Platform. You can set up an Ansible playbook with the available parameters to configure an LVM pool with RAID.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Configure LVM pool with RAID\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_safe_mode: false\n        storage_pools:\n          - name: my_pool\n            type: lvm\n            disks: [sdh, sdi]\n            raid_level: raid1\n            volumes:\n              - name: my_volume\n                size: \"1 GiB\"\n                mount_point: \"/mnt/app/shared\"\n                fs_type: xfs\n                state: present\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that your pool is on RAID:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'lsblk'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index#managing-raid_managing-storage-devices\">Managing RAID\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-a-stripe-size-for-raid-lvm-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.10. Configuring a stripe size for RAID LVM volumes by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWith the \u003Ccode class=\"literal\">storage\u003C/code> system role, you can configure a stripe size for RAID LVM volumes on RHEL by using Red Hat Ansible Automation Platform. You can set up an Ansible playbook with the available parameters to configure an LVM pool with RAID.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Configure stripe size for RAID LVM volumes\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_safe_mode: false\n        storage_pools:\n          - name: my_pool\n            type: lvm\n            disks: [sdh, sdi]\n            volumes:\n              - name: my_volume\n                size: \"1 GiB\"\n                mount_point: \"/mnt/app/shared\"\n                fs_type: xfs\n                raid_level: raid0\n                raid_stripe_size: \"256 KiB\"\n                state: present\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that stripe size is set to the required size:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'lvs -o+stripesize /dev/my_pool/my_volume'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux//9/html-single/managing_storage_devices/index#managing-raid_managing-storage-devices\">Managing RAID\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-an-lvm-vdo-volume-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.11. Configuring an LVM-VDO volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan id=\"example-ansible-playbook-to-compress-and-deduplicate-a-vdo-volume-on-lvm-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles\">\u003C!--Empty-->\u003C/span>\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role to create a VDO volume on LVM (LVM-VDO) with enabled compression and deduplication.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tBecause of the \u003Ccode class=\"literal\">storage\u003C/code> system role use of LVM-VDO, only one volume can be created per pool.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Create LVM-VDO volume under volume group 'myvg'\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_pools:\n          - name: myvg\n            disks:\n              - /dev/sdb\n            volumes:\n              - name: mylv1\n                compression: true\n                deduplication: true\n                vdo_pool_size: 10 GiB\n                size: 30 GiB\n                mount_point: /mnt/app/shared\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe settings specified in the example playbook include the following:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">vdo_pool_size: \u003Cspan class=\"emphasis\">\u003Cem>&lt;size&gt;\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tThe actual size that the volume takes on the device. You can specify the size in human-readable format, such as 10 GiB. If you do not specify a unit, it defaults to bytes.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">size: \u003Cspan class=\"emphasis\">\u003Cem>&lt;size&gt;\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tThe virtual size of VDO volume.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the current status of compression and deduplication:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'lvs -o+vdo_compression,vdo_compression_state,vdo_deduplication,vdo_index_state'\u003C/strong>\u003C/span>\n  LV       VG      Attr       LSize   Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert VDOCompression VDOCompressionState VDODeduplication VDOIndexState\n  mylv1   myvg   vwi-a-v---   3.00t vpool0                                                         enabled              online          enabled        online\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-luks2-encrypted-volume-using-the-storage-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.12. Creating a LUKS2 encrypted volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">storage\u003C/code> role to create and configure a volume encrypted with LUKS by running an Ansible playbook.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStore your sensitive variables in an encrypted file:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate the vault:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-vault create vault.yml\u003C/strong>\u003C/span>\nNew Vault password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;vault_password&gt;\u003C/em>\u003C/span>\nConfirm New Vault password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;vault_password&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter the \u003Ccode class=\"literal\">ansible-vault create\u003C/code> command opens an editor, enter the sensitive data in the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;key&gt;\u003C/em>\u003C/span>: \u003Cspan class=\"emphasis\">\u003Cem>&lt;value&gt;\u003C/em>\u003C/span>\u003C/code> format:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-ini\">luks_password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;password&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSave the changes, and close the editor. Ansible encrypts the data in the vault.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  vars_files:\n    - vault.yml\n  tasks:\n    - name: Create and configure a volume encrypted with LUKS\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_volumes:\n          - name: barefs\n            type: disk\n            disks:\n              - sdb\n            fs_type: xfs\n            fs_label: \u003Cspan class=\"emphasis\">\u003Cem>&lt;label&gt;\u003C/em>\u003C/span>\n            mount_point: /mnt/data\n            encryption: true\n            encryption_password: \"{{ luks_password }}\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --ask-vault-pass --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --ask-vault-pass ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the \u003Ccode class=\"literal\">luksUUID\u003C/code> value of the LUKS encrypted volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksUUID /dev/sdb'\u003C/strong>\u003C/span>\n\n4e4e7970-1822-470e-b55a-e91efe5d0f5c\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the encryption status of the volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'cryptsetup status luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c'\u003C/strong>\u003C/span>\n\n/dev/mapper/luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c is active and is in use.\n  type:    LUKS2\n  cipher:  aes-xts-plain64\n  keysize: 512 bits\n  key location: keyring\n  device:  /dev/sdb\n...\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created LUKS encrypted volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksDump /dev/sdb'\u003C/strong>\u003C/span>\n\nLUKS header information\nVersion:        2\nEpoch:          3\nMetadata area:  16384 [bytes]\nKeyslots area:  16744448 [bytes]\nUUID:           4e4e7970-1822-470e-b55a-e91efe5d0f5c\nLabel:          (no label)\nSubsystem:      (no subsystem)\nFlags:          (no flags)\n\nData segments:\n  0: crypt\n        offset: 16777216 [bytes]\n        length: (whole device)\n        cipher: aes-xts-plain64\n        sector: 512 [bytes]\n...\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/encrypting-block-devices-using-luks_managing-storage-devices\">Encrypting block devices by using LUKS\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/ansible-vault_automating-system-administration-by-using-rhel-system-roles\">Ansible vault\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-shared-lvm-devices-using-storage-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.13. Creating shared LVM devices using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role to create shared LVM devices if you want your multiple systems to access the same storage at the same time.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis can bring the following notable benefits:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tResource sharing\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFlexibility in managing storage resources\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSimplification of storage management tasks\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">lvmlockd\u003C/code> is configured on the managed node. For more information, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/configuring-lvm-on-shared-storage_configuring-and-managing-logical-volumes#configuring-lvm-on-san-multiple_configuring-lvm-on-shared-storage\">Configuring LVM to share SAN disks among multiple machines\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  become: true\n  tasks:\n    - name: Create shared LVM device\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_pools:\n          - name: \u003Cspan class=\"emphasis\">\u003Cem>vg1\u003C/em>\u003C/span>\n            disks: \u003Cspan class=\"emphasis\">\u003Cem>/dev/vdb\u003C/em>\u003C/span>\n            type: lvm\n            \u003Cspan class=\"strong strong\">\u003Cstrong>shared: true\u003C/strong>\u003C/span>\n            state: present\n            volumes:\n              - name: \u003Cspan class=\"emphasis\">\u003Cem>lv1\u003C/em>\u003C/span>\n                size: 4g\n                mount_point: \u003Cspan class=\"emphasis\">\u003Cem>/opt/test1\u003C/em>\u003C/span>\n        storage_safe_mode: false\n        storage_use_partitions: true\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"resizing-physical-volumes-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.14. Resizing physical volumes by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWith the \u003Ccode class=\"literal\">storage\u003C/code> system role, you can resize LVM physical volumes after resizing the underlying storage or disks from outside of the host. For example, you increased the size of a virtual disk and want to use the extra space in an existing LVM.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe size of the underlying block storage has been changed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Resize LVM PV size\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_pools:\n           - name: \u003Cspan class=\"emphasis\">\u003Cem>myvg\u003C/em>\u003C/span>\n             disks: \u003Cspan class=\"emphasis\">\u003Cem>[\"sdf\"]\u003C/em>\u003C/span>\n             type: lvm\n             \u003Cspan class=\"strong strong\">\u003Cstrong>grow_to_fill: true\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisplay the new physical volume size:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'pvs'\u003C/strong>\u003C/span>\nPV         VG   Fmt Attr PSize PFree\n\u003Cspan class=\"emphasis\">\u003Cem>/dev/sdf1\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>myvg\u003C/em>\u003C/span> lvm2 a-- 1,99g 1,99g\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-encrypted-stratis-pool-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.15. Creating an encrypted Stratis pool by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo secure your data, you can create an encrypted Stratis pool with the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role. In addition to a passphrase, you can use Clevis and Tang or TPM protection as an encryption method.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can configure Stratis encryption only on the entire pool.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStore your sensitive variables in an encrypted file:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate the vault:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-vault create vault.yml\u003C/strong>\u003C/span>\nNew Vault password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;vault_password&gt;\u003C/em>\u003C/span>\nConfirm New Vault password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;vault_password&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter the \u003Ccode class=\"literal\">ansible-vault create\u003C/code> command opens an editor, enter the sensitive data in the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;key&gt;\u003C/em>\u003C/span>: \u003Cspan class=\"emphasis\">\u003Cem>&lt;value&gt;\u003C/em>\u003C/span>\u003C/code> format:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-ini\">luks_password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;password&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSave the changes, and close the editor. Ansible encrypts the data in the vault.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  vars_files:\n    - vault.yml\n  tasks:\n    - name: Create a new encrypted Stratis pool with Clevis and Tang\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_pools:\n           - name: mypool\n             disks:\n               - sdd\n               - sde\n             \u003Cspan class=\"strong strong\">\u003Cstrong>type: stratis\u003C/strong>\u003C/span>\n             \u003Cspan class=\"strong strong\">\u003Cstrong>encryption: true\u003C/strong>\u003C/span>\n             encryption_password: \"{{ luks_password }}\"\n             encryption_clevis_pin: tang\n             encryption_tang_url: tang-server.example.com:7500\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe settings specified in the example playbook include the following:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">encryption_password\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tPassword or passphrase used to unlock the LUKS volumes.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">encryption_clevis_pin\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tClevis method that you can use to encrypt the created pool. You can use \u003Ccode class=\"literal\">tang\u003C/code> and \u003Ccode class=\"literal\">tpm2\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">encryption_tang_url\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tURL of the Tang server.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --ask-vault-pass --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --ask-vault-pass ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the pool was created with Clevis and Tang configured:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'sudo stratis report'\u003C/strong>\u003C/span>\n...\n                        \"clevis_config\": {\n                            \"thp\": \"j-G4ddvdbVfxpnUbgxlpbe3KutSKmcHttILAtAkMTNA\",\n                            \"url\": \"tang-server.example.com:7500\"\n                        },\n                        \"clevis_pin\": \"tang\",\n                        \"in_use\": true,\n                        \"key_description\": \"blivet-mypool\",\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/ansible-vault_automating-system-administration-by-using-rhel-system-roles\">Ansible vault\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"disk-partitions_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 4. Disk partitions\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tTo divide a disk into one or more logical areas, use the disk partitioning utility. It enables separate management of each partition.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"overview-of-partitions_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.1. Overview of partitions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe hard disk stores information about the location and size of each disk partition in the partition table. Using information from the partition table, the operating system treats each partition as a logical disk. Some of the advantages of disk partitioning include:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReduce the likelihood of administrative oversights of Physical Volumes\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnsure sufficient backup\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tProvide efficient disk management\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/163853\">What are the advantages and disadvantages to using partitioning on LUNs, either directly or with LVM in between?\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_considerations-before-modifying-partitions-on-a-disk_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.2. Considerations before modifying partitions on a disk\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tBefore creating, removing, or resizing any disk partitions, consider the following aspects.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOn a device, the type of the partition table determines the maximum number and size of individual partitions.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tMaximum number of partitions:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a device formatted with the \u003Cspan class=\"strong strong\">\u003Cstrong>Master Boot Record (MBR)\u003C/strong>\u003C/span> partition table, you can have:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tUp to four primary partitions.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUp to three primary partitions, one extended partition\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"square\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tMultiple logical partitions within the extended partition\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a device formatted with the \u003Cspan class=\"strong strong\">\u003Cstrong>GUID Partition Table (GPT)\u003C/strong>\u003C/span>, you can have:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUp to 128 partitions, if using the \u003Ccode class=\"literal\">parted\u003C/code> utility.\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"square\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThough the GPT specification allows more partitions by increasing the reserved size of the partition table, the parted utility limits the area required for 128 partitions.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tMaximum size of partitions:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a device formatted with the \u003Cspan class=\"strong strong\">\u003Cstrong>Master Boot Record (MBR)\u003C/strong>\u003C/span> partition table:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tWhile using 512b sector drives, the maximum size is 2 TiB.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tWhile using 4k sector drives, the maximum size is 16 TiB.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a device formatted with the \u003Cspan class=\"strong strong\">\u003Cstrong>GUID Partition Table (GPT)\u003C/strong>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tWhile using 512b sector drives, the maximum size is 8 ZiB.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tWhile using 4k sector drives, the maximum size is 64 ZiB.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tBy using the \u003Ccode class=\"literal\">parted\u003C/code> utility, you can specify the partition size using multiple different suffixes:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>MiB, GiB, or TiB\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSize expressed in powers of 2.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe starting point of the partition is aligned to the exact sector specified by size.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe ending point is aligned to the specified size minus 1 sector.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>MB, GB, or TB\u003C/strong>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSize expressed in powers of 10.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe starting and ending points are aligned within one half of the specified unit. For example, ±500KB when using the MB suffix.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThis section does not cover the DASD partition table, which is specific to the IBM Z architecture.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-linux-instance-on-ibm-z_preparing-a-rhel-installation-on-64-bit-ibm-z\">Configuring a Linux instance on IBM Z\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.ibm.com/docs/en/linux-on-systems?topic=d-what-you-should-know\">What you should know about DASD\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"comparison-of-partition-table-types_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.3. Comparison of partition table types\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo enable partitions on a device, format a block device with different types of partition tables. The following table compares the properties of different types of partition tables that you can create on a block device.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140664188859664\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 4.1. Partition table types\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664197411760\" scope=\"col\">Partition table\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664197410672\" scope=\"col\">Maximum number of partitions\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664197409568\" scope=\"col\">Maximum partition size\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664197411760\"> \u003Cp>\n\t\t\t\t\t\t\t\tMaster Boot Record (MBR)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664197410672\"> \u003Cp>\n\t\t\t\t\t\t\t\t4 primary, or 3 primary and 1 extended partition with 12 logical partitions\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664197409568\"> \u003Cp>\n\t\t\t\t\t\t\t\t2TiB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664197411760\"> \u003Cp>\n\t\t\t\t\t\t\t\tGUID Partition Table (GPT)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664197410672\"> \u003Cp>\n\t\t\t\t\t\t\t\t128\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664197409568\"> \u003Cp>\n\t\t\t\t\t\t\t\t8ZiB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"mbr-disk-partitions_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.4. MBR disk partitions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe partition table is stored at the very start of the disk, before any file system or user data. For a more clear example, the partition table is shown as being separate in the following diagrams.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664179571264\">\u003Cp class=\"title\">\u003Cstrong>Figure 4.1. Disk with MBR partition table\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/74379cb1696956d9d20f229b0c0c8817/unused-partitioned-drive.png\" alt=\"unused partitioned drive\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAs the previous diagram shows, the partition table is divided into four sections of four unused primary partitions. A primary partition is a partition on a hard disk drive that contains only one logical drive (or section). Each logical drive holds the information necessary to define a single partition, meaning that the partition table can define no more than four primary partitions.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tEach partition table entry contains important characteristics of the partition:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe points on the disk where the partition starts and ends\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe state of the partition, as only one partition can be flagged as \u003Ccode class=\"literal\">active\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe type of partition\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe starting and ending points define the size and location of the partition on the disk. Some of the operating systems boot loaders use the \u003Ccode class=\"literal\">active\u003C/code> flag. That means that the operating system in the partition that is marked \"active\" is booted.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe type is a number that identifies the anticipated usage of a partition. Some operating systems use the partition type to:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDenote a specific file system type\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFlag the partition as being associated with a particular operating system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIndicate that the partition contains a bootable operating system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe following diagram shows an example of a drive with a single partition. In this example, the first partition is labeled as \u003Ccode class=\"literal\">DOS\u003C/code> partition type:\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664195421360\">\u003Cp class=\"title\">\u003Cstrong>Figure 4.2. Disk with a single partition\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/9429aaebbe148b973e415eb641325e53/dos-single-partition.png\" alt=\"dos single partition\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/disk-partitions_managing-storage-devices#mbr-partition-types_disk-partitions\">MBR partition types\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"extended-mbr-partitions_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.5. Extended MBR partitions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo create additional partitions, if needed, set the type to \u003Ccode class=\"literal\">extended\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAn extended partition is similar to a disk drive. It has its own partition table, which points to one or more logical partitions, contained entirely within the extended partition. The following diagram shows a disk drive with two primary partitions, and one extended partition containing two logical partitions, along with some unpartitioned free space.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664191924400\">\u003Cp class=\"title\">\u003Cstrong>Figure 4.3. Disk with both two primary and an extended MBR partitions\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/3a176ae803526f8a94f32819086f6a75/extended-partitions.png\" alt=\"extended partitions\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can have only up to four primary and extended partitions, but there is no fixed limit to the number of logical partitions. As a limit in Linux to access partitions, a single disk drive allows maximum 15 logical partitions.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"mbr-partition-types_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.6. MBR partition types\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe table below shows a list of some of the most commonly used MBR partition types and hexadecimal numbers to represent them.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140664193410096\">\u003Ctable class=\"gt-4-cols lt-7-rows\">\u003Ccaption>Table 4.2. MBR partition types\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 25%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_4\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>MBR partition type\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Value\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>MBR partition type\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Value\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tEmpty\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t00\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tNovell Netware 386\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t65\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDOS 12-bit FAT\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t01\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tPIC/IX\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t75\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tXENIX root\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tO2\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tOld MINIX\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t80\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tXENIX usr\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tO3\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tLinux/MINUX\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t81\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDOS 16-bit ⇐32M\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t04\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tLinux swap\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t82\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tExtended\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t05\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tLinux native\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t83\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDOS 16-bit &gt;=32\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t06\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tLinux extended\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t85\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tOS/2 HPFS\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t07\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tAmoeba\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t93\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tAIX\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t08\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tAmoeba BBT\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t94\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tAIX bootable\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t09\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tBSD/386\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\ta5\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tOS/2 Boot Manager\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t0a\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tOpenBSD\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\ta6\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tWin95 FAT32\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t0b\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tNEXTSTEP\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\ta7\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tWin95 FAT32 (LBA)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t0c\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tBSDI fs\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tb7\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tWin95 FAT16 (LBA)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t0e\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tBSDI swap\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tb8\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tWin95 Extended (LBA)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t0f\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tSyrinx\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tc7\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tVenix 80286\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t40\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tCP/M\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tdb\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tNovell\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t51\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDOS access\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\te1\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tPRep Boot\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t41\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDOS R/O\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\te3\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tGNU HURD\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t63\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDOS secondary\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tf2\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tNovell Netware 286\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t64\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tBBT\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tff\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"guid-partition-table_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.7. GUID partition table\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe GUID partition table (GPT) is a partitioning scheme based on the Globally Unique Identifier (GUID).\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tGPT deals with the limitations of the Mater Boot Record (MBR) partition table. The MBR partition table cannot address storage larger than 2 TiB, equal to approximately 2.2 TB. Instead, GPT supports hard disks with larger capacity. The maximum addressable disk size is 8 ZiB, when using 512b sector drives, and 64 ZiB, when using 4096b sector drives. In addition, by default, GPT supports creation of up to 128 primary partitions. Extend the maximum amount of primary partitions by allocating more space to the partition table.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tA GPT has partition types based on GUIDs. Certain partitions require a specific GUID. For example, the system partition for Extensible Firmware Interface (EFI) boot loaders require GUID \u003Ccode class=\"literal\">C12A7328-F81F-11D2-BA4B-00A0C93EC93B\u003C/code>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tGPT disks use logical block addressing (LBA) and a partition layout as follows:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor backward compatibility with MBR disks, the system reserves the first sector (LBA 0) of GPT for MBR data, and applies the name \"protective MBR\".\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPrimary GPT\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe header begins on the second logical block (LBA 1) of the device. The header contains the disk GUID, the location of the primary partition table, the location of the secondary GPT header, and CRC32 checksums of itself, and the primary partition table. It also specifies the number of partition entries on the table.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tBy default, the primary GPT includes 128 partition entries. Each partition has an entry size of 128 bytes, a partition type GUID and a unique partition GUID.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSecondary GPT\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFor recovery, it is useful as a backup table in case the primary partition table is corrupted.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe last logical sector of the disk contains the secondary GPT header and recovers GPT information, in case the primary header is corrupted.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIt contains:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"square\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe disk GUID\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe location of the secondary partition table and the primary GPT header\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tCRC32 checksums of itself\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe secondary partition table\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe number of possible partition entries\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"figure\" id=\"idm140664189433584\">\u003Cp class=\"title\">\u003Cstrong>Figure 4.4. Disk with a GUID Partition Table\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/6e469a6b3b73066fcd8340d962618004/gpt-partition.png\" alt=\"gpt partition\"/>\u003C/div>\u003C/div>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tFor a successful installation of the boot loader onto a GPT disk a BIOS boot partition must be present. Reuse is possible only if the disk already contains a BIOS boot partition. This includes disks initialized by the \u003Cspan class=\"strong strong\">\u003Cstrong>Anaconda\u003C/strong>\u003C/span> installation program.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"partition-types_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.8. Partition types\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThere are multiple ways to manage partition types:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">fdisk\u003C/code> utility supports the full range of partition types by specifying hexadecimal codes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">systemd-gpt-auto-generator\u003C/code>, a unit generator utility, uses the partition type to automatically identify and mount devices.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">parted\u003C/code> utility maps out the partition type with \u003Cspan class=\"emphasis\">\u003Cem>flags\u003C/em>\u003C/span>. The \u003Ccode class=\"literal\">parted\u003C/code> utility handles only certain partition types, for example LVM, swap or RAID.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">parted\u003C/code> utility supports setting the following flags:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">boot\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">root\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">swap\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">hidden\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">raid\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">lvm\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">lba\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">legacy_boot\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">irst\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">esp\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">palo\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tOn Red Hat Enterprise Linux 9 with \u003Ccode class=\"literal\">parted\u003C/code> 3.5, you can use the additional flags \u003Ccode class=\"literal\">chromeos_kernel\u003C/code> and \u003Ccode class=\"literal\">bls_boot\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">parted\u003C/code> utility optionally accepts a file system type argument while creating a partition. See \u003Ca class=\"link\" href=\"#proc_creating-a-partition-with-parted_getting-started-with-partitions\" title=\"5.3. Creating a partition with parted\">Creating a partition with parted\u003C/a>\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tfor a list of the required conditions. Use the value to:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet the partition flags on MBR.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet the partition UUID type on GPT. For example, the \u003Ccode class=\"literal\">swap\u003C/code>, \u003Ccode class=\"literal\">fat\u003C/code>, or \u003Ccode class=\"literal\">hfs\u003C/code> file system types set different GUIDs. The default value is the Linux Data GUID.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe argument does not modify the file system on the partition. It only differentiates between the supported flags and GUIDs.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following file system types are supported:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">xfs\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">ext2\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">ext3\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">ext4\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">fat16\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">fat32\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">hfs\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">hfs+\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">linux-swap\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">ntfs\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">reiserfs\u003C/code>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"partition-naming-scheme_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.9. Partition naming scheme\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tRed Hat Enterprise Linux uses a file-based naming scheme, with file names in the form of \u003Ccode class=\"literal\">/dev/\u003Cspan class=\"emphasis\">\u003Cem>xxyN\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tDevice and partition names consist of the following structure:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>/dev/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tName of the directory that contains all device files. Hard disks contain partitions, thus the files representing all possible partitions are located in \u003Ccode class=\"literal\">/dev\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>xx\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe first two letters of the partition name indicate the type of device that contains the partition.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>y\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis letter indicates the specific device containing the partition. For example, \u003Ccode class=\"literal\">/dev/sda\u003C/code> for the first hard disk and \u003Ccode class=\"literal\">/dev/sdb\u003C/code> for the second. You can use more letters in systems with more than 26 drives, for example, \u003Ccode class=\"literal\">/dev/sdaa1\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>N\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe final letter indicates the number to represent the partition. The first four (primary or extended) partitions are numbered \u003Ccode class=\"literal\">1\u003C/code> through \u003Ccode class=\"literal\">4\u003C/code>. Logical partitions start at \u003Ccode class=\"literal\">5\u003C/code>. For example, \u003Ccode class=\"literal\">/dev/sda3\u003C/code> is the third primary or extended partition on the first hard disk, and \u003Ccode class=\"literal\">/dev/sdb6\u003C/code> is the second logical partition on the second hard disk. Drive partition numbering applies only to MBR partition tables. Note that \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>N\u003C/em>\u003C/span>\u003C/strong>\u003C/span> does not always mean partition.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tEven if Red Hat Enterprise Linux can identify and refer to \u003Cspan class=\"emphasis\">\u003Cem>all\u003C/em>\u003C/span> types of disk partitions, it might not be able to read the file system and therefore access stored data on every partition type. However, in many cases, it is possible to successfully access data on a partition dedicated to another operating system.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"mount-points-and-disk-partitions_disk-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.10. Mount points and disk partitions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn Red Hat Enterprise Linux, each partition forms a part of the storage, necessary to support a single set of files and directories. Mounting a partition makes the storage of that partition available, starting at the specified directory known as a \u003Cspan class=\"emphasis\">\u003Cem>mount point\u003C/em>\u003C/span>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor example, if partition \u003Ccode class=\"literal\">/dev/sda5\u003C/code> is mounted on \u003Ccode class=\"literal\">/usr/\u003C/code>, it means that all files and directories under \u003Ccode class=\"literal\">/usr/\u003C/code> physically reside on \u003Ccode class=\"literal\">/dev/sda5\u003C/code>. The file \u003Ccode class=\"literal\">/usr/share/doc/FAQ/txt/Linux-FAQ\u003C/code> resides on \u003Ccode class=\"literal\">/dev/sda5\u003C/code>, while the file \u003Ccode class=\"literal\">/etc/gdm/custom.conf\u003C/code> does not.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tContinuing the example, it is also possible that one or more directories below \u003Ccode class=\"literal\">/usr/\u003C/code> would be mount points for other partitions. For example, \u003Ccode class=\"literal\">/usr/local/man/whatis\u003C/code> resides on \u003Ccode class=\"literal\">/dev/sda7\u003C/code>, rather than on \u003Ccode class=\"literal\">/dev/sda5\u003C/code>, if \u003Ccode class=\"literal\">/usr/local\u003C/code> includes a mounted \u003Ccode class=\"literal\">/dev/sda7\u003C/code> partition.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"getting-started-with-partitions_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 5. Getting started with partitions\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tUse disk partitioning to divide a disk into one or more logical areas which enables work on each partition separately. The hard disk stores information about the location and size of each disk partition in the partition table. Using the table, each partition then appears as a logical disk to the operating system. You can then read and write on those individual disks.\n\t\t\u003C/p>\u003Cp>\n\t\t\tFor an overview of the advantages and disadvantages to using partitions on block devices, see \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/163853\">What are the advantages and disadvantages to using partitioning on LUNs, either directly or with LVM in between?\u003C/a>.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_creating-a-partition-table-on-a-disk-with-parted_getting-started-with-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.1. Creating a partition table on a disk with parted\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUse the \u003Ccode class=\"literal\">parted\u003C/code> utility to format a block device with a partition table more easily.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tFormatting a block device with a partition table deletes all data stored on the device.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the interactive \u003Ccode class=\"literal\">parted\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># parted \u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDetermine if there already is a partition table on the device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the device already contains partitions, they will be deleted in the following steps.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the new partition table:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) mklabel \u003Cspan class=\"emphasis\">\u003Cem>table-type\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>table-type\u003C/em>\u003C/span> with with the intended partition table type:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">msdos\u003C/code> for MBR\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gpt\u003C/code> for GPT\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"example\" id=\"idm140664191154608\">\u003Cp class=\"title\">\u003Cstrong>Example 5.1. Creating a GUID Partition Table (GPT) table\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\tTo create a GPT table on the disk, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) mklabel gpt\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe changes start applying after you enter this command.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the partition table to confirm that it is created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExit the \u003Ccode class=\"literal\">parted\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) quit\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">parted(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"viewing-the-partition-table-with-parted_getting-started-with-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.2. Viewing the partition table with parted\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tDisplay the partition table of a block device to see the partition layout and details about individual partitions. You can view the partition table on a block device using the \u003Ccode class=\"literal\">parted\u003C/code> utility.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">parted\u003C/code> utility. For example, the following output lists the device \u003Ccode class=\"literal\">/dev/sda\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># parted /dev/sda\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the partition table:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\n\nModel: ATA SAMSUNG MZNLN256 (scsi)\nDisk /dev/sda: 256GB\nSector size (logical/physical): 512B/512B\nPartition Table: msdos\nDisk Flags:\n\nNumber  Start   End     Size    Type      File system  Flags\n 1      1049kB  269MB   268MB   primary   xfs          boot\n 2      269MB   34.6GB  34.4GB  primary\n 3      34.6GB  45.4GB  10.7GB  primary\n 4      45.4GB  256GB   211GB   extended\n 5      45.4GB  256GB   211GB   logical\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Switch to the device you want to examine next:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) select \u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tFor a detailed description of the print command output, see the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Model: ATA SAMSUNG MZNLN256 (scsi)\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe disk type, manufacturer, model number, and interface.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Disk /dev/sda: 256GB\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe file path to the block device and the storage capacity.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Partition Table: msdos\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe disk label type.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Number\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe partition number. For example, the partition with minor number 1 corresponds to \u003Ccode class=\"literal filename\">/dev/sda1\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Start\u003C/code> and \u003Ccode class=\"literal\">End\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe location on the device where the partition starts and ends.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Type\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tValid types are metadata, free, primary, extended, or logical.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">File system\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe file system type. If the \u003Ccode class=\"literal\">File system\u003C/code> field of a device shows no value, this means that its file system type is unknown. The \u003Ccode class=\"literal\">parted\u003C/code> utility cannot recognize the file system on encrypted devices.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Flags\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tLists the flags set for the partition. Available flags are \u003Ccode class=\"literal\">boot\u003C/code>, \u003Ccode class=\"literal\">root\u003C/code>, \u003Ccode class=\"literal\">swap\u003C/code>, \u003Ccode class=\"literal\">hidden\u003C/code>, \u003Ccode class=\"literal\">raid\u003C/code>, \u003Ccode class=\"literal\">lvm\u003C/code>, or \u003Ccode class=\"literal\">lba\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">parted(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-partition-with-parted_getting-started-with-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.3. Creating a partition with parted\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAs a system administrator, you can create new partitions on a disk by using the \u003Ccode class=\"literal\">parted\u003C/code> utility.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe required partitions are \u003Ccode class=\"literal\">swap\u003C/code>, \u003Ccode class=\"literal\">/boot/\u003C/code>, and \u003Ccode class=\"literal\">/ (root)\u003C/code>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA partition table on the disk.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf the partition you want to create is larger than 2TiB, format the disk with the \u003Cspan class=\"strong strong\">\u003Cstrong>GUID Partition Table (GPT)\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">parted\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># parted \u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the current partition table to determine if there is enough free space:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tResize the partition in case there is not enough free space.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFrom the partition table, determine:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe start and end points of the new partition.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn MBR, what partition type it should be.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the new partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) mkpart \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">part-type\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">name\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">fs-type\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">start\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">end\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>part-type\u003C/em>\u003C/span> with with \u003Ccode class=\"literal\">primary\u003C/code>, \u003Ccode class=\"literal\">logical\u003C/code>, or \u003Ccode class=\"literal\">extended\u003C/code>. This applies only to the MBR partition table.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>name\u003C/em>\u003C/span> with an arbitrary partition name. This is required for GPT partition tables.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>fs-type\u003C/em>\u003C/span> with \u003Ccode class=\"literal\">xfs\u003C/code>, \u003Ccode class=\"literal\">ext2\u003C/code>, \u003Ccode class=\"literal\">ext3\u003C/code>, \u003Ccode class=\"literal\">ext4\u003C/code>, \u003Ccode class=\"literal\">fat16\u003C/code>, \u003Ccode class=\"literal\">fat32\u003C/code>, \u003Ccode class=\"literal\">hfs\u003C/code>, \u003Ccode class=\"literal\">hfs+\u003C/code>, \u003Ccode class=\"literal\">linux-swap\u003C/code>, \u003Ccode class=\"literal\">ntfs\u003C/code>, or \u003Ccode class=\"literal\">reiserfs\u003C/code>. The \u003Cspan class=\"emphasis\">\u003Cem>fs-type\u003C/em>\u003C/span> parameter is optional. Note that the \u003Ccode class=\"literal\">parted\u003C/code> utility does not create the file system on the partition.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>start\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>end\u003C/em>\u003C/span> with the sizes that determine the starting and ending points of the partition, counting from the beginning of the disk. You can use size suffixes, such as \u003Ccode class=\"literal\">512MiB\u003C/code>, \u003Ccode class=\"literal\">20GiB\u003C/code>, or \u003Ccode class=\"literal\">1.5TiB\u003C/code>. The default size is in megabytes.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"example\" id=\"idm140664195363168\">\u003Cp class=\"title\">\u003Cstrong>Example 5.2. Creating a small primary partition\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\tTo create a primary partition from 1024MiB until 2048MiB on an MBR table, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) mkpart primary 1024MiB 2048MiB\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe changes start applying after you enter the command.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the partition table to confirm that the created partition is in the partition table with the correct partition type, file system type, and size:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExit the \u003Ccode class=\"literal\">parted\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) quit\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegister the new device node:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># udevadm settle\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the kernel recognizes the new partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># cat /proc/partitions\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">parted(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/partition-operations-with-parted_managing-file-systems#proc_creating-a-partition-table-on-a-disk-with-parted_partition-operations-with-parted\">Creating a partition table on a disk with parted\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/partition-operations-with-parted_managing-file-systems#proc_resizing-a-partition-with-parted_partition-operations-with-parted\">Resizing a partition with parted\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-a-partition-type-with-fdisk_getting-started-with-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.4. Setting a partition type with fdisk\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can set a partition type or flag, using the \u003Ccode class=\"literal\">fdisk\u003C/code> utility.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA partition on the disk.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the interactive \u003Ccode class=\"literal\">fdisk\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># fdisk \u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the current partition table to determine the minor partition number:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Command (m for help): \u003Cspan class=\"strong strong\">\u003Cstrong>print\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can see the current partition type in the \u003Ccode class=\"literal\">Type\u003C/code> column and its corresponding type ID in the \u003Ccode class=\"literal\">Id\u003C/code> column.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter the partition type command and select a partition using its minor number:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Command (m for help): \u003Cspan class=\"strong strong\">\u003Cstrong>type\u003C/strong>\u003C/span>\nPartition number (\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">1,2,3\u003C/span>\u003C/em>\u003C/span> default \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">3\u003C/span>\u003C/em>\u003C/span>): \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">\u003Cspan class=\"strong strong\">\u003Cstrong>2\u003C/strong>\u003C/span>\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: View the list in hexadecimal codes:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Hex code (type L to list all codes): \u003Cspan class=\"strong strong\">\u003Cstrong>L\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the partition type:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Hex code (type L to list all codes): \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">\u003Cspan class=\"strong strong\">\u003Cstrong>8e\u003C/strong>\u003C/span>\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWrite your changes and exit the \u003Ccode class=\"literal\">fdisk\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Command (m for help): \u003Cspan class=\"strong strong\">\u003Cstrong>write\u003C/strong>\u003C/span>\nThe partition table has been altered.\nSyncing disks.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify your changes:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># fdisk --list \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_resizing-a-partition-with-parted_getting-started-with-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.5. Resizing a partition with parted\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUsing the \u003Ccode class=\"literal\">parted\u003C/code> utility, extend a partition to use unused disk space, or shrink a partition to use its capacity for different purposes.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBack up the data before shrinking a partition.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf the partition you want to create is larger than 2TiB, format the disk with the \u003Cspan class=\"strong strong\">\u003Cstrong>GUID Partition Table (GPT)\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf you want to shrink the partition, first shrink the file system so that it is not larger than the resized partition.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tXFS does not support shrinking.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">parted\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># parted \u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the current partition table:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the partition table, determine:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe minor number of the partition.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe location of the existing partition and its new ending point after resizing.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tResize the partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) resizepart \u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>2GiB\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span> with the minor number of the partition that you are resizing.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>2\u003C/em>\u003C/span> with the size that determines the new ending point of the resized partition, counting from the beginning of the disk. You can use size suffixes, such as \u003Ccode class=\"literal\">512MiB\u003C/code>, \u003Ccode class=\"literal\">20GiB\u003C/code>, or \u003Ccode class=\"literal\">1.5TiB\u003C/code>. The default size is in megabytes.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the partition table to confirm that the resized partition is in the partition table with the correct size:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) print\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExit the \u003Ccode class=\"literal\">parted\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># (parted) quit\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the kernel registers the new partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># cat /proc/partitions\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: If you extended the partition, extend the file system on it as well.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">parted(8)\u003C/code> man page.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_removing-a-partition-with-parted_getting-started-with-partitions\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.6. Removing a partition with parted\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUsing the \u003Ccode class=\"literal\">parted\u003C/code> utility, you can remove a disk partition to free up disk space.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRemoving a partition deletes all data stored on the partition.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the interactive \u003Ccode class=\"literal\">parted\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># parted \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span> with the path to the device where you want to remove a partition: for example, \u003Ccode class=\"literal filename\">/dev/sda\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the current partition table to determine the minor number of the partition to remove:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">(parted) print\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">(parted) rm \u003Cspan class=\"emphasis\">\u003Cem>minor-number\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>minor-number\u003C/em>\u003C/span> with the minor number of the partition you want to remove.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe changes start applying as soon as you enter this command.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that you have removed the partition from the partition table:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">(parted) print\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExit the \u003Ccode class=\"literal\">parted\u003C/code> shell:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">(parted) quit\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the kernel registers that the partition is removed:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># cat /proc/partitions\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRemove the partition from the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file, if it is present. Find the line that declares the removed partition, and remove it from the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate mount units so that your system registers the new \u003Ccode class=\"literal\">/etc/fstab\u003C/code> configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl daemon-reload\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you have deleted a swap partition or removed pieces of LVM, remove all references to the partition from the kernel command line:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tList active kernel options and see if any option references the removed partition:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># grubby --info=ALL\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRemove the kernel options that reference the removed partition:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># grubby --update-kernel=ALL --remove-args=\"\u003Cspan class=\"emphasis\">\u003Cem>option\u003C/em>\u003C/span>\"\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo register the changes in the early boot system, rebuild the \u003Ccode class=\"literal\">initramfs\u003C/code> file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dracut --force --verbose\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">parted(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"strategies-for-repartitioning-a-disk_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 6. Strategies for repartitioning a disk\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThere are different approaches to repartitioning a disk. These include:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tUnpartitioned free space is available.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAn unused partition is available.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tFree space in an actively used partition is available.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThe following examples are simplified for clarity and do not reflect the exact partition layout when actually installing Red Hat Enterprise Linux.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"using-unpartitioned-free-space_strategies-for-repartitioning-a-disk\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.1. Using unpartitioned free space\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tPartitions that are already defined and do not span the entire hard disk, leave unallocated space that is not part of any defined partition. The following diagram shows what this might look like.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664190037472\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.1. Disk with unpartitioned free space\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/9bf58e64ea156351d8517609bd24afbe/unpart-space.png\" alt=\"unpart space\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe first diagram represents a disk with one primary partition and an undefined partition with unallocated space. The second diagram represents a disk with two defined partitions with allocated space.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAn unused hard disk also falls into this category. The only difference is that \u003Cspan class=\"emphasis\">\u003Cem>all\u003C/em>\u003C/span> the space is not part of any defined partition.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOn a new disk, you can create the necessary partitions from the unused space. Most preinstalled operating systems are configured to take up all available space on a disk drive.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"using-space-from-an-unused-partition_strategies-for-repartitioning-a-disk\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.2. Using space from an unused partition\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn the following example, the first diagram represents a disk with an unused partition. The second diagram represents reallocating an unused partition for Linux.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664190521696\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.2. Disk with an unused partition\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f617fa878e1ca30a354e912eb6a67596/unused-partition.png\" alt=\"unused partition\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo use the space allocated to the unused partition, delete the partition and then create the appropriate Linux partition instead. Alternatively, during the installation process, delete the unused partition and manually create new partitions.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.3. Using free space from an active partition\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis process can be difficult to manage because an active partition, that is already in use, contains the required free space. In most cases, hard disks of computers with preinstalled software contain one larger partition holding the operating system and data.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you want to use an operating system (OS) on an active partition, you must reinstall the OS. Be aware that some computers, which include pre-installed software, do not include installation media to reinstall the original OS. Check whether this applies to your OS before you destroy an original partition and the OS installation.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tTo optimise the use of available free space, you can use the methods of destructive or non-destructive repartitioning.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"destructive-repartitioning_using-free-space-from-an-active-partition\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">6.3.1. Destructive repartitioning\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tDestructive repartitioning destroys the partition on your hard drive and creates several smaller partitions instead. Backup any needed data from the original partition as this method deletes the complete contents.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tAfter creating a smaller partition for your existing operating system, you can:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tReinstall software.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRestore your data.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tStart your Red Hat Enterprise Linux installation.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe following diagram is a simplified representation of using the destructive repartitioning method.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664187413392\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.3. Destructive repartitioning action on disk\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/216af447e0b72d58cd1c3b8636e40ca1/dstrct-reprt.png\" alt=\"dstrct reprt\"/>\u003C/div>\u003C/div>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThis method deletes all data previously stored in the original partition.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"non-destructive-repartitioning_using-free-space-from-an-active-partition\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">6.3.2. Non-destructive repartitioning\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tNon-destructive repartitioning resizes partitions, without any data loss. This method is reliable, however it takes longer processing time on large drives.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following is a list of methods, which can help initiate non-destructive repartitioning.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCompress existing data\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe storage location of some data cannot be changed. This can prevent the resizing of a partition to the required size, and ultimately lead to a destructive repartition process. Compressing data in an already existing partition can help you resize your partitions as needed. It can also help to maximize the free space available.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following diagram is a simplified representation of this process.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664193242080\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.4. Data compression on a disk\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/43ebf43f99569475246687fdc405a96d/compression.png\" alt=\"compression\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo avoid any possible data loss, create a backup before continuing with the compression process.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tResize the existing partition\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tBy resizing an already existing partition, you can free up more space. Depending on your resizing software, the results may vary. In the majority of cases, you can create a new unformatted partition of the same type, as the original partition.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe steps you take after resizing can depend on the software you use. In the following example, the best practice is to delete the new DOS (Disk Operating System) partition, and create a Linux partition instead. Verify what is most suitable for your disk before initiating the resizing process.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664193435808\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.5. Partition resizing on a disk\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/a025b166d95662700634e74f4bb8b5b6/part-resize.png\" alt=\"part resize\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOptional: Create new partitions\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tSome pieces of resizing software support Linux based systems. In such cases, there is no need to delete the newly created partition after resizing. Creating a new partition afterwards depends on the software you use.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following diagram represents the disk state, before and after creating a new partition.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140664198483088\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.6. Disk with final partition configuration\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/df31d5c5afb12bf44ab0e543ee20ab58/nondestruct-fin.png\" alt=\"nondestruct fin\"/>\u003C/div>\u003C/div>\u003C/div>\u003C/section>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-an-iscsi-target_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 7. Configuring an iSCSI target\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tRed Hat Enterprise Linux uses the \u003Ccode class=\"literal\">targetcli\u003C/code> shell as a command-line interface to perform the following operations:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAdd, remove, view, and monitor iSCSI storage interconnects to utilize iSCSI hardware.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tExport local storage resources that are backed by either files, volumes, local SCSI devices, or by RAM disks to remote systems.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tThe \u003Ccode class=\"literal\">targetcli\u003C/code> tool has a tree-based layout including built-in tab completion, auto-complete support, and inline documentation.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"installing-targetcli_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.1. Installing targetcli\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tInstall the \u003Ccode class=\"literal\">targetcli\u003C/code> tool to add, monitor, and remove iSCSI storage interconnects .\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">targetcli\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install targetcli\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the target service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl start target\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure target to start at boot time:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable target\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen port \u003Ccode class=\"literal\">3260\u003C/code> in the firewall and reload the firewall configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># firewall-cmd --permanent --add-port=3260/tcp\nSuccess\n\n# firewall-cmd --reload\nSuccess\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the \u003Ccode class=\"literal\">targetcli\u003C/code> layout:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># targetcli\n/&gt; ls\no- /........................................[...]\n  o- backstores.............................[...]\n  | o- block.................[Storage Objects: 0]\n  | o- fileio................[Storage Objects: 0]\n  | o- pscsi.................[Storage Objects: 0]\n  | o- ramdisk...............[Storage Objects: 0]\n  o- iscsi...........................[Targets: 0]\n  o- loopback........................[Targets: 0]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-iscsi-target_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.2. Creating an iSCSI target\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreating an iSCSI target enables the iSCSI initiator of the client to access the storage devices on the server. Both targets and initiators have unique identifying names.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the iSCSI directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; iscsi/\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cd\u003C/code> command is used to change directories as well as to list the path to move into.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse one of the following options to create an iSCSI target:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreating an iSCSI target using a default target name:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi&gt; create\n\nCreated target\niqn.2003-01.org.linux-iscsi.hostname.x8664:sn.78b473f296ff\nCreated TPG1\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreating an iSCSI target using a specific name:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi&gt; create \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.com.example:444\u003C/em>\u003C/span>\n\nCreated target iqn.2006-04.com.example:444\nCreated TPG1\nHere \u003Ccode class=\"literal\">iqn.2006-04.com.example:444\u003C/code> is target_iqn_name\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.com.example:444\u003C/em>\u003C/span> with the specific target name.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the newly created target:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi&gt; ls\n\no- iscsi.......................................[1 Target]\n    o- iqn.2006-04.com.example:444................[1 TPG]\n        o- tpg1...........................[enabled, auth]\n           o- acls...............................[0 ACL]\n            o- luns...............................[0 LUN]\n           o- portals.........................[0 Portal]\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"iscsi-backstore_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.3. iSCSI Backstore\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAn iSCSI backstore enables support for different methods of storing an exported LUN’s data on the local machine. Creating a storage object defines the resources that the backstore uses.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAn administrator can choose any of the following backstore devices that Linux-IO (LIO) supports:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">fileio\u003C/code> backstore\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">fileio\u003C/code> storage object if you are using regular files on the local file system as disk images. For creating a \u003Ccode class=\"literal\">fileio\u003C/code> backstore, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-fileio-storage-object_configuring-an-iscsi-target\">Creating a fileio storage object\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">block\u003C/code> backstore\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">block\u003C/code> storage object if you are using any local block device and logical device. For creating a \u003Ccode class=\"literal\">block\u003C/code> backstore, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-block-storage-object_configuring-an-iscsi-target\">Creating a block storage object\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">pscsi\u003C/code> backstore\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">pscsi\u003C/code> storage object if your storage object supports direct pass-through of SCSI commands. For creating a \u003Ccode class=\"literal\">pscsi\u003C/code> backstore, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-pscsi-storage-object_configuring-an-iscsi-target\">Creating a pscsi storage object\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">ramdisk\u003C/code> backstore\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">ramdisk\u003C/code> storage object if you want to create a temporary RAM backed device. For creating a \u003Ccode class=\"literal\">ramdisk\u003C/code> backstore, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target\">Creating a Memory Copy RAM disk storage object\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-fileio-storage-object_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.4. Creating a fileio storage object\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\u003Ccode class=\"literal\">fileio\u003C/code> storage objects can support either the \u003Ccode class=\"literal\">write_back\u003C/code> or \u003Ccode class=\"literal\">write_thru\u003C/code> operations. The \u003Ccode class=\"literal\">write_back\u003C/code> operation enables the local file system cache. This improves performance but increases the risk of data loss.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIt is recommended to use \u003Ccode class=\"literal\">write_back=false\u003C/code> to disable the \u003Ccode class=\"literal\">write_back\u003C/code> operation in favor of the \u003Ccode class=\"literal\">write_thru\u003C/code> operation.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">fileio/\u003C/code> from the \u003Ccode class=\"literal\">backstores/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; backstores/fileio\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">fileio\u003C/code> storage object:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/fileio&gt; create \u003Cspan class=\"emphasis\">\u003Cem>file1 /tmp/disk1\u003C/em>\u003C/span>.img \u003Cspan class=\"emphasis\">\u003Cem>200M\u003C/em>\u003C/span> write_back=false\n\nCreated fileio file1 with size 209715200\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created \u003Ccode class=\"literal\">fileio\u003C/code> storage object:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/fileio&gt; ls\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-block-storage-object_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.5. Creating a block storage object\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe block driver allows the use of any block device that appears in the \u003Ccode class=\"literal\">/sys/block/\u003C/code> directory to be used with Linux-IO (LIO). This includes physical devices such as, HDDs, SSDs, CDs, and DVDs, and logical devices such as, software or hardware RAID volumes, or LVM volumes.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">block/\u003C/code> from the \u003Ccode class=\"literal\">backstores/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; backstores/block/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">block\u003C/code> backstore:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/block&gt; create name=\u003Cspan class=\"emphasis\">\u003Cem>block_backend\u003C/em>\u003C/span> dev=/dev/\u003Cspan class=\"emphasis\">\u003Cem>sdb\u003C/em>\u003C/span>\n\nGenerating a wwn serial.\nCreated block storage object block_backend using /dev/vdb.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created \u003Ccode class=\"literal\">block\u003C/code> storage object:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/block&gt; ls\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tYou can also create a \u003Ccode class=\"literal\">block\u003C/code> backstore on a logical volume.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-pscsi-storage-object_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.6. Creating a pscsi storage object\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can configure, as a backstore, any storage object that supports direct pass-through of SCSI commands without SCSI emulation, and with an underlying SCSI device that appears with \u003Ccode class=\"literal\">lsscsi\u003C/code> in the \u003Ccode class=\"literal\">/proc/scsi/scsi\u003C/code> such as, a SAS hard drive . SCSI-3 and higher is supported with this subsystem.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">pscsi\u003C/code> should only be used by advanced users. Advanced SCSI commands such as for Asymmetric Logical Unit Assignment (ALUAs) or Persistent Reservations (for example, those used by VMware ESX, and vSphere) are usually not implemented in the device firmware and can cause malfunctions or crashes. When in doubt, use \u003Ccode class=\"literal\">block\u003C/code> backstore for production setups instead.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">pscsi/\u003C/code> from the \u003Ccode class=\"literal\">backstores/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; backstores/pscsi/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">pscsi\u003C/code> backstore for a physical SCSI device, a TYPE_ROM device using \u003Ccode class=\"literal\">/dev/sr0\u003C/code> in this example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/pscsi&gt; create name=\u003Cspan class=\"emphasis\">\u003Cem>pscsi_backend\u003C/em>\u003C/span> dev=/dev/sr0\n\nGenerating a wwn serial.\nCreated pscsi storage object pscsi_backend using /dev/sr0\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created \u003Ccode class=\"literal\">pscsi\u003C/code> storage object:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/pscsi&gt; ls\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.7. Creating a Memory Copy RAM disk storage object\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tMemory Copy RAM disks (\u003Ccode class=\"literal\">ramdisk\u003C/code>) provide RAM disks with full SCSI emulation and separate memory mappings using memory copy for initiators. This provides capability for multi-sessions and is particularly useful for fast and volatile mass storage for production purposes.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">ramdisk/\u003C/code> from the \u003Ccode class=\"literal\">backstores/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; backstores/ramdisk/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a 1GB RAM disk backstore:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/ramdisk&gt; create name=\u003Cspan class=\"emphasis\">\u003Cem>rd_backend\u003C/em>\u003C/span> size=\u003Cspan class=\"emphasis\">\u003Cem>1GB\u003C/em>\u003C/span>\n\nGenerating a wwn serial.\nCreated rd_mcp ramdisk rd_backend with size 1GB.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created \u003Ccode class=\"literal\">ramdisk\u003C/code> storage object:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/backstores/ramdisk&gt; ls\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-iscsi-portal_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.8. Creating an iSCSI portal\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreating an iSCSI portal adds an IP address and a port to the target that keeps the target enabled.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn iSCSI target associated with a Target Portal Groups (TPG). For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target\">Creating an iSCSI target\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the TPG directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi&gt; iqn.2006-04.example:444/tpg1/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse one of the following options to create an iSCSI portal:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreating a default portal uses the default iSCSI port \u003Ccode class=\"literal\">3260\u003C/code> and allows the target to listen to all IP addresses on that port:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn.20...mple:444/tpg1&gt; portals/ create\n\nUsing default IP port 3260\nBinding to INADDR_Any (0.0.0.0)\nCreated network portal 0.0.0.0:3260\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tWhen an iSCSI target is created, a default portal is also created. This portal is set to listen to all IP addresses with the default port number that is: \u003Ccode class=\"literal\">0.0.0.0:3260\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\t\tTo remove the default portal, use the following command:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn-name/tpg1/portals delete ip_address=0.0.0.0 ip_port=3260\u003C/pre>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreating a portal using a specific IP address:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn.20...mple:444/tpg1&gt; portals/ create \u003Cspan class=\"emphasis\">\u003Cem>192.168.122.137\u003C/em>\u003C/span>\n\nUsing default IP port 3260\nCreated network portal 192.168.122.137:3260\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the newly created portal:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn.20...mple:444/tpg1&gt; ls\n\no- tpg.................................. [enambled, auth]\n    o- acls ......................................[0 ACL]\n    o- luns ......................................[0 LUN]\n    o- portals ................................[1 Portal]\n       o- 192.168.122.137:3260......................[OK]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-iscsi-lun_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.9. Creating an iSCSI LUN\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLogical unit number (LUN) is a physical device that is backed by the iSCSI backstore. Each LUN has a unique number.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn iSCSI target associated with a Target Portal Groups (TPG). For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target\">Creating an iSCSI target\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreated storage objects. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#iscsi-backstore_configuring-an-iscsi-target\">iSCSI Backstore\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate LUNs of already created storage objects:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn.20...mple:444/tpg1&gt; luns/ create /backstores/ramdisk/rd_backend\nCreated LUN 0.\n\n/iscsi/iqn.20...mple:444/tpg1&gt; luns/ create /backstores/block/block_backend\nCreated LUN 1.\n\n/iscsi/iqn.20...mple:444/tpg1&gt; luns/ create /backstores/fileio/file1\nCreated LUN 2.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created LUNs:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn.20...mple:444/tpg1&gt; ls\n\no- tpg.................................. [enambled, auth]\n    o- acls ......................................[0 ACL]\n    o- luns .....................................[3 LUNs]\n    |  o- lun0.........................[ramdisk/ramdisk1]\n    |  o- lun1.................[block/block1 (/dev/vdb1)]\n    |  o- lun2...................[fileio/file1 (/foo.img)]\n    o- portals ................................[1 Portal]\n        o- 192.168.122.137:3260......................[OK]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDefault LUN name starts at \u003Ccode class=\"literal\">0\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tBy default, LUNs are created with read-write permissions. If a new LUN is added after ACLs are created, LUN automatically maps to all available ACLs and can cause a security risk. To create a LUN with read-only permissions, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-a-read-only-iscsi-lun_configuring-an-iscsi-target\">Creating a read-only iSCSI LUN\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConfigure ACLs. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target\">Creating an iSCSI ACL\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-read-only-iscsi-lun_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.10. Creating a read-only iSCSI LUN\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, LUNs are created with read-write permissions. This procedure describes how to create a read-only LUN.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and running \u003Ccode class=\"literal\">targetcli\u003C/code>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#installing-targetcli_configuring-an-iscsi-target\">Installing targetcli\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn iSCSI target associated with a Target Portal Groups (TPG). For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target\">Creating an iSCSI target\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreated storage objects. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#iscsi-backstore_configuring-an-iscsi-target\">iSCSI Backstore\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet read-only permissions:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; set global auto_add_mapped_luns=false\n\nParameter auto_add_mapped_luns is now 'false'.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis prevents the auto mapping of LUNs to existing ACLs allowing the manual mapping of LUNs.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Cspan class=\"emphasis\">\u003Cem>initiator_iqn_name\u003C/em>\u003C/span> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">/&gt; iscsi/target_iqn_name/tpg1/acls/\u003Cspan class=\"emphasis\">\u003Cem>initiator_iqn_name\u003C/em>\u003C/span>/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the LUN:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/target_iqn_name/tpg1/acls/\u003Cspan class=\"emphasis\">\u003Cem>initiator_iqn_name\u003C/em>\u003C/span>&gt; create mapped_lun=next_sequential_LUN_number tpg_lun_or_backstore=backstore write_protect=1\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/target_iqn_name/tpg1/acls/2006-04.com.example:888&gt; create mapped_lun=1 tpg_lun_or_backstore=/backstores/block/block2 write_protect=1\n\nCreated LUN 1.\nCreated Mapped LUN 1.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created LUN:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/target_iqn_name/tpg1/acls/2006-04.com.example:888&gt; ls\n o- 2006-04.com.example:888 .. [Mapped LUNs: 2]\n | o- mapped_lun0 .............. [lun0 block/disk1 (rw)]\n | o- mapped_lun1 .............. [lun1 block/disk2 (ro)]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe mapped_lun1 line now has (\u003Ccode class=\"literal\">ro\u003C/code>) at the end (unlike mapped_lun0’s (\u003Ccode class=\"literal\">rw\u003C/code>)) stating that it is read-only.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConfigure ACLs. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target\">Creating an iSCSI ACL\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-iscsi-acl_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.11. Creating an iSCSI ACL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">targetcli\u003C/code> service uses Access Control Lists (ACLs) to define access rules and grant each initiator access to a Logical Unit Number (LUN).\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBoth targets and initiators have unique identifying names. You must know the unique name of the initiator to configure ACLs. The \u003Ccode class=\"literal\">/etc/iscsi/initiatorname.iscsi\u003C/code> file, provided by the \u003Ccode class=\"literal\">iscsi-initiator-utils\u003C/code> package, contains the iSCSI initiator names.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">targetcli\u003C/code> service is \u003Ca class=\"link\" href=\"#installing-targetcli_configuring-an-iscsi-target\" title=\"7.1. Installing targetcli\">installed\u003C/a> and running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn \u003Ca class=\"link\" href=\"#creating-an-iscsi-target_configuring-an-iscsi-target\" title=\"7.2. Creating an iSCSI target\">iSCSI target\u003C/a> associated with a Target Portal Groups (TPG).\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: To disable auto mapping of LUNs to ACLs see \u003Ca class=\"link\" href=\"#creating-a-read-only-iscsi-lun_configuring-an-iscsi-target\" title=\"7.10. Creating a read-only iSCSI LUN\">Creating a read-only iSCSI LUN\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the acls directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; \u003Cspan class=\"strong strong\">\u003Cstrong>iscsi/\u003Cspan class=\"emphasis\">\u003Cem>target_iqn_name\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>tpg_name\u003C/em>\u003C/span>/acls/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse one of the following options to create an ACL:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse the \u003Cspan class=\"emphasis\">\u003Cem>initiator_iqn_name\u003C/em>\u003C/span> from the \u003Ccode class=\"literal\">/etc/iscsi/initiatorname.iscsi\u003C/code> file on the initiator:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">iscsi/\u003Cspan class=\"emphasis\">\u003Cem>target_iqn_name\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>tpg_name\u003C/em>\u003C/span>/acls&gt; \u003Cspan class=\"strong strong\">\u003Cstrong>create \u003Cspan class=\"emphasis\">\u003Cem>initiator_iqn_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nCreated Node ACL for \u003Cspan class=\"emphasis\">\u003Cem>initiator_iqn_name\u003C/em>\u003C/span>\nCreated mapped LUN 2.\nCreated mapped LUN 1.\nCreated mapped LUN 0.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse a \u003Cspan class=\"emphasis\">\u003Cem>custom_name\u003C/em>\u003C/span> and update the initiator to match it:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">iscsi/\u003Cspan class=\"emphasis\">\u003Cem>target_iqn_name\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>tpg_name\u003C/em>\u003C/span>/acls&gt; \u003Cspan class=\"strong strong\">\u003Cstrong>create \u003Cspan class=\"emphasis\">\u003Cem>custom_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nCreated Node ACL for \u003Cspan class=\"emphasis\">\u003Cem>custom_name\u003C/em>\u003C/span>\nCreated mapped LUN 2.\nCreated mapped LUN 1.\nCreated mapped LUN 0.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor information about updating the initiator name, see \u003Ca class=\"link\" href=\"#creating-an-iscsi-initiator_configuring-an-iscsi-initiator\" title=\"8.1. Creating an iSCSI initiator\">Creating an iSCSI intiator\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created ACL:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">iscsi/\u003Cspan class=\"emphasis\">\u003Cem>target_iqn_name\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>tpg_name\u003C/em>\u003C/span>/acls&gt; \u003Cspan class=\"strong strong\">\u003Cstrong>ls\u003C/strong>\u003C/span>\n\no- acls .................................................[1 ACL]\n    o- \u003Cspan class=\"emphasis\">\u003Cem>target_iqn_name\u003C/em>\u003C/span> ....[3 Mapped LUNs, auth]\n        o- mapped_lun0 .............[lun0 ramdisk/ramdisk1 (rw)]\n        o- mapped_lun1 .................[lun1 block/block1 (rw)]\n        o- mapped_lun2 .................[lun2 fileio/file1 (rw)]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.12. Setting up the Challenge-Handshake Authentication Protocol for the target\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy using the \u003Ccode class=\"literal\">Challenge-Handshake Authentication Protocol (CHAP)\u003C/code>, users can protect the target with a password. The initiator must be aware of this password to be able to connect to the target.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreated iSCSI ACL. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target\">Creating an iSCSI ACL\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet attribute authentication:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/iscsi/iqn.20...mple:444/tpg1&gt; set attribute authentication=1\n\nParameter authentication is now '1'.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet \u003Ccode class=\"literal\">userid\u003C/code> and \u003Ccode class=\"literal\">password\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/tpg1&gt; set auth userid=\u003Cspan class=\"emphasis\">\u003Cem>redhat\u003C/em>\u003C/span>\nParameter userid is now '\u003Cspan class=\"emphasis\">\u003Cem>redhat\u003C/em>\u003C/span>'.\n\n/iscsi/iqn.20...689dcbb3/tpg1&gt; set auth password=\u003Cspan class=\"emphasis\">\u003Cem>redhat_passwd\u003C/em>\u003C/span>\nParameter password is now '\u003Cspan class=\"emphasis\">\u003Cem>redhat_passwd\u003C/em>\u003C/span>'.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-an-iscsi-object-using-targetcli-tool_configuring-an-iscsi-target\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.13. Removing an iSCSI object using targetcli tool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure describes how to remove the iSCSI objects using the \u003Ccode class=\"literal\">targetcli\u003C/code> tool.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog off from the target:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># iscsiadm -m node -T \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.example:444\u003C/em>\u003C/span> -u\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor more information about how to log in to the target, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-initiator_managing-storage-devices#creating-an-iscsi-initiator_configuring-an-iscsi-initiator\">Creating an iSCSI initiator\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the entire target, including all ACLs, LUNs, and portals:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; iscsi/ delete \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.com.example:444\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.com.example:444\u003C/em>\u003C/span> with the target_iqn_name.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo remove an iSCSI backstore:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; backstores/\u003Cspan class=\"emphasis\">\u003Cem>backstore-type\u003C/em>\u003C/span>/ delete \u003Cspan class=\"emphasis\">\u003Cem>block_backend\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>backstore-type\u003C/em>\u003C/span> with either \u003Ccode class=\"literal\">fileio\u003C/code>, \u003Ccode class=\"literal\">block\u003C/code>, \u003Ccode class=\"literal\">pscsi\u003C/code>, or \u003Ccode class=\"literal\">ramdisk\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>block_backend\u003C/em>\u003C/span> with the \u003Cspan class=\"emphasis\">\u003Cem>backstore-name\u003C/em>\u003C/span> you want to delete.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo remove parts of an iSCSI target, such as an ACL:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; /iscsi/iqn-name/tpg/acls/ delete \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.com.example:444\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the changes:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/&gt; iscsi/ ls\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-an-iscsi-initiator_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 8. Configuring an iSCSI initiator\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tAn iSCSI initiator forms a session to connect to the iSCSI target. By default, an iSCSI service is lazily started and the service starts after running the \u003Ccode class=\"literal\">iscsiadm\u003C/code> command. If root is not on an iSCSI device or there are no nodes marked with \u003Ccode class=\"literal\">node.startup = automatic\u003C/code> then the iSCSI service will not start until an \u003Ccode class=\"literal\">iscsiadm\u003C/code> command is executed that requires \u003Ccode class=\"literal\">iscsid\u003C/code> or the \u003Ccode class=\"literal\">iscsi\u003C/code> kernel modules to be started.\n\t\t\u003C/p>\u003Cp>\n\t\t\tExecute the \u003Ccode class=\"literal\">systemctl start iscsid.service\u003C/code> command as root to force the \u003Ccode class=\"literal\">iscsid\u003C/code> daemon to run and iSCSI kernel modules to load.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"creating-an-iscsi-initiator_configuring-an-iscsi-initiator\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.1. Creating an iSCSI initiator\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate an iSCSI initiator to connect to the iSCSI target to access the storage devices on the server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have an iSCSI target’s hostname and IP address:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you are connecting to a storage target that the external software created, find the target’s hostname and IP address from the storage administrator.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you are creating an iSCSI target, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-target_configuring-an-iscsi-target\">Creating an iSCSI target\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall \u003Ccode class=\"literal\">iscsi-initiator-utils\u003C/code> on client machine:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install iscsi-initiator-utils\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the initiator name:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># cat /etc/iscsi/initiatorname.iscsi\n\nInitiatorName=iqn.2006-04.com.example:888\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the ACL was given a custom name in \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target\">Creating an iSCI ACL\u003C/a>, update the initiator name to match the ACL:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/etc/iscsi/initiatorname.iscsi\u003C/code> file and modify the initiator name:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># vi /etc/iscsi/initiatorname.iscsi\n\nInitiatorName=\u003Cspan class=\"emphasis\">\u003Cem>custom-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">iscsid\u003C/code> service:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl restart iscsid\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDiscover the target and log in to the target with the displayed target IQN:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># iscsiadm -m discovery -t st -p \u003Cspan class=\"emphasis\">\u003Cem>10.64.24.179\u003C/em>\u003C/span>\n    10.64.24.179:3260,1 iqn.2006-04.example:444\n\n# iscsiadm -m node -T \u003Cspan class=\"emphasis\">\u003Cem>iqn.2006-04.example:444\u003C/em>\u003C/span> -l\n    Logging in to [iface: default, target: iqn.2006-04.example:444, portal: 10.64.24.179,3260] (multiple)\n    Login to [iface: default, target: iqn.2006-04.example:444, portal: 10.64.24.179,3260] successful.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>10.64.24.179\u003C/em>\u003C/span> with the target-ip-address.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can use this procedure for any number of initiators connected to the same target if their respective initiator names are added to the ACL as described in the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#creating-an-iscsi-acl_configuring-an-iscsi-target\">Creating an iSCSI ACL\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the iSCSI disk name and create a file system on this iSCSI disk:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># grep \"Attached SCSI\" /var/log/messages\n\n# mkfs.ext4 /dev/\u003Cspan class=\"emphasis\">\u003Cem>disk_name\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>disk_name\u003C/em>\u003C/span> with the iSCSI disk name displayed in the \u003Ccode class=\"literal\">/var/log/messages\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMount the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkdir \u003Cspan class=\"emphasis\">\u003Cem>/mount/point\u003C/em>\u003C/span>\n\n# mount /dev/\u003Cspan class=\"emphasis\">\u003Cem>disk_name /mount/point\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>/mount/point\u003C/em>\u003C/span> with the mount point of the partition.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file to mount the file system automatically when the system boots:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># vi /etc/fstab\n\n/dev/\u003Cspan class=\"emphasis\">\u003Cem>disk_name /mount/point\u003C/em>\u003C/span> ext4 _netdev 0 0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>disk_name\u003C/em>\u003C/span> with the iSCSI disk name and \u003Cspan class=\"emphasis\">\u003Cem>/mount/point\u003C/em>\u003C/span> with the mount point of the partition.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">targetcli(8)\u003C/code> and \u003Ccode class=\"literal\">iscsiadm(8)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-the-challenge-handshake-authentication-protocol-for-the-initiator_configuring-an-iscsi-initiator\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.2. Setting up the Challenge-Handshake Authentication Protocol for the initiator\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy using the \u003Ccode class=\"literal\">Challenge-Handshake Authentication Protocol (CHAP)\u003C/code>, users can protect the target with a password. The initiator must be aware of this password to be able to connect to the target.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreated iSCSI initiator. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-initiator_managing-storage-devices#creating-an-iscsi-initiator_configuring-an-iscsi-initiator\">Creating an iSCSI initiator\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">CHAP\u003C/code> for the target. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices#setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target\">Setting up the Challenge-Handshake Authentication Protocol for the target\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable CHAP authentication in the \u003Ccode class=\"literal\">iscsid.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># vi /etc/iscsi/iscsid.conf\n\nnode.session.auth.authmethod = CHAP\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">node.session.auth.authmethod\u003C/code> is set to \u003Ccode class=\"literal\">None\u003C/code>\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd target \u003Ccode class=\"literal\">username\u003C/code> and \u003Ccode class=\"literal\">password\u003C/code> in the \u003Ccode class=\"literal\">iscsid.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">node.session.auth.username = \u003Cspan class=\"emphasis\">\u003Cem>redhat\u003C/em>\u003C/span>\nnode.session.auth.password = \u003Cspan class=\"emphasis\">\u003Cem>redhat_passwd\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">iscsid\u003C/code> daemon:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl start iscsid.service\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">iscsiadm(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"monitoring-an-iscsi-session-using-the-iscsiadm-utility_configuring-an-iscsi-initiator\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.3. Monitoring an iSCSI session using the iscsiadm utility\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure describes how to monitor the iscsi session using the \u003Ccode class=\"literal\">iscsiadm\u003C/code> utility.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, an iSCSI service is \u003Ccode class=\"literal\">lazily\u003C/code> started and the service starts after running the \u003Ccode class=\"literal\">iscsiadm\u003C/code> command. If root is not on an iSCSI device or there are no nodes marked with \u003Ccode class=\"literal\">node.startup = automatic\u003C/code> then the iSCSI service will not start until an \u003Ccode class=\"literal\">iscsiadm\u003C/code> command is executed that requires \u003Ccode class=\"literal\">iscsid\u003C/code> or the \u003Ccode class=\"literal\">iscsi\u003C/code> kernel modules to be started.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tExecute the \u003Ccode class=\"literal\">systemctl start iscsid.service\u003C/code> command as root to force the \u003Ccode class=\"literal\">iscsid\u003C/code> daemon to run and iSCSI kernel modules to load.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">iscsi-initiator-utils\u003C/code> on client machine:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install iscsi-initiator-utils\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind information about the running sessions:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># iscsiadm -m session -P 3\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis command displays the session or device state, session ID (sid), some negotiated parameters, and the SCSI devices accessible through the session.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor shorter output, for example, to display only the \u003Ccode class=\"literal\">sid-to-node\u003C/code> mapping, run:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># iscsiadm -m session -P 0\n        or\n# iscsiadm -m session\n\ntcp [2] 10.15.84.19:3260,2 iqn.1992-08.com.netapp:sn.33615311\ntcp [3] 10.15.85.19:3260,3 iqn.1992-08.com.netapp:sn.33615311\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThese commands print the list of running sessions in the following format: \u003Ccode class=\"literal\">driver [sid] target_ip:port,target_portal_group_tag proper_target_name\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/iscsi-initiator-utils-version/README\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">iscsiadm(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"dm-multipath-overrides-of-the-device-timeout_configuring-an-iscsi-initiator\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.4. DM Multipath overrides of the device timeout\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">recovery_tmo\u003C/code> \u003Ccode class=\"literal\">sysfs\u003C/code> option controls the timeout for a particular iSCSI device. The following options globally override the \u003Ccode class=\"literal\">recovery_tmo\u003C/code> values:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">replacement_timeout\u003C/code> configuration option globally overrides the \u003Ccode class=\"literal\">recovery_tmo\u003C/code> value for all iSCSI devices.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor all iSCSI devices that are managed by DM Multipath, the \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option in DM Multipath globally overrides the \u003Ccode class=\"literal\">recovery_tmo\u003C/code> value.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option in DM Multipath also overrides the \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option in Fibre Channel devices.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe DM Multipath \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option takes precedence over \u003Ccode class=\"literal\">replacement_timeout\u003C/code>. Red Hat does not recommend using \u003Ccode class=\"literal\">replacement_timeout\u003C/code> to override \u003Ccode class=\"literal\">recovery_tmo\u003C/code> in devices managed by DM Multipath because DM Multipath always resets \u003Ccode class=\"literal\">recovery_tmo\u003C/code>, when the \u003Ccode class=\"literal\">multipathd\u003C/code> service reloads.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"using-fibre-channel-devices_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 9. Using Fibre Channel devices\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tRed Hat Enterprise Linux 9 provides the following native Fibre Channel drivers:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">lpfc\u003C/code>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">qla2xxx\u003C/code>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">zfcp\u003C/code>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"resizing-fibre-channel-logical-units_using-fibre-channel-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.1. Resizing Fibre Channel Logical Units\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAs a system administrator, you can resize Fibre Channel logical units.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDetermine which devices are paths for a \u003Ccode class=\"literal\">multipath\u003C/code> logical unit:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">multipath -ll\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRe-scan Fibre Channel logical units on a system that uses multipathing:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ echo 1 &gt; /sys/block/\u003Cspan class=\"emphasis\">\u003Cem>sdX\u003C/em>\u003C/span>/device/rescan\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">multipath(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"determining-the-link-loss-behavior-of-device-using-fibre-channel_using-fibre-channel-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.2. Determining the link loss behavior of device using Fibre Channel\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf a driver implements the Transport \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> callback, access attempts to a device through a link will be blocked when a transport problem is detected.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDetermine the state of a remote port:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /sys/class/fc_remote_port/rport-\u003Cspan class=\"emphasis\">\u003Cem>host\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>bus\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>remote-port\u003C/em>\u003C/span>/port_state\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis command returns any one of the following output:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Blocked\u003C/code> when the remote port along with devices accessed through it are blocked.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Online\u003C/code> if the remote port is operating normally\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the problem is not resolved within \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> seconds, the \u003Ccode class=\"literal\">rport\u003C/code> and devices will be unblocked. All I/O running on that device along with any new I/O sent to that device will fail.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWhen a link loss exceeds \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code>, the \u003Ccode class=\"literal\">scsi_device\u003C/code> and \u003Ccode class=\"literal\">sd_N_\u003C/code> devices are removed. Typically, the Fibre Channel class will leave the device as is, that is \u003Ccode class=\"literal\">/dev/\u003Cspan class=\"emphasis\">\u003Cem>sdx\u003C/em>\u003C/span>\u003C/code> will remain \u003Ccode class=\"literal\">/dev/\u003Cspan class=\"emphasis\">\u003Cem>sdx\u003C/em>\u003C/span>\u003C/code>. This is because the target binding is saved by the Fibre Channel driver and when the target port returns, the SCSI addresses are recreated faithfully. However, this cannot be guaranteed, the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>sdx\u003C/em>\u003C/span>\u003C/code> device will be restored only if no additional change on in-storage box configuration of LUNs is made.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">multipath.conf(5)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3182081\">Recommended tuning at scsi,multipath and at application layer while configuring Oracle RAC cluster\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"fibre-channel-configuration-files_using-fibre-channel-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.3. Fibre Channel configuration files\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following is the list of configuration files in the \u003Ccode class=\"literal\">/sys/class/\u003C/code> directory that provide the user-space API to Fibre Channel.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe items use the following variables:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">H\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tHost number\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">B\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBus number\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">T\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tTarget\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">L\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tLogical unit (LUNs)\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">R\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tRemote port number\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tConsult your hardware vendor before changing any of the values described in this section, if your system is using multipath software.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Transport configuration in \u003Ccode class=\"literal\">/sys/class/fc_transport/target\u003Cspan class=\"emphasis\">\u003Cem>H\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>B\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>T\u003C/em>\u003C/span>/\u003C/code>\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">port_id\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t24-bit port ID/address\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">node_name\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t64-bit node name\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">port_name\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t64-bit port name\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Remote port configuration in \u003Ccode class=\"literal\">/sys/class/fc_remote_ports/rport-\u003Cspan class=\"emphasis\">\u003Cem>H\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>B\u003C/em>\u003C/span>-\u003Cspan class=\"emphasis\">\u003Cem>R\u003C/em>\u003C/span>/\u003C/code>\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">port_id\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">node_name\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">port_name\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">dev_loss_tmo\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tControls when the scsi device gets removed from the system. After \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> triggers, the scsi device is removed. In the \u003Ccode class=\"literal\">multipath.conf\u003C/code> file , you can set \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> to \u003Ccode class=\"literal\">infinity\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn Red Hat Enterprise Linux 9, if you do not set the \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option, \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> is capped to \u003Ccode class=\"literal\">600\u003C/code> seconds. By default, \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> is set to \u003Ccode class=\"literal\">5\u003C/code> seconds in Red Hat Enterprise Linux 9 if the \u003Ccode class=\"literal\">multipathd\u003C/code> service is running; otherwise, it is set to \u003Ccode class=\"literal\">off\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSpecifies the number of seconds to wait before it marks a link as \"bad\". Once a link is marked bad, existing running I/O or any new I/O on its corresponding path fails.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf I/O is in a blocked queue, it will not be failed until \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> expires and the queue is unblocked.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> is set to any value except off, \u003Ccode class=\"literal\">dev_loss_tmo\u003C/code> is uncapped. If \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> is set to off, no I/O fails until the device is removed from the system. If \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> is set to a number, I/O fails immediately when the \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> timeout triggers.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Host configuration in \u003Ccode class=\"literal\">/sys/class/fc_host/host\u003Cspan class=\"emphasis\">\u003Cem>H\u003C/em>\u003C/span>/\u003C/code>\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">port_id\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">node_name\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">port_name\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">issue_lip\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstructs the driver to rediscover remote ports.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"dm-multipath-overrides-of-the-device-timeout_using-fibre-channel-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.4. DM Multipath overrides of the device timeout\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">recovery_tmo\u003C/code> \u003Ccode class=\"literal\">sysfs\u003C/code> option controls the timeout for a particular iSCSI device. The following options globally override the \u003Ccode class=\"literal\">recovery_tmo\u003C/code> values:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">replacement_timeout\u003C/code> configuration option globally overrides the \u003Ccode class=\"literal\">recovery_tmo\u003C/code> value for all iSCSI devices.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor all iSCSI devices that are managed by DM Multipath, the \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option in DM Multipath globally overrides the \u003Ccode class=\"literal\">recovery_tmo\u003C/code> value.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option in DM Multipath also overrides the \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option in Fibre Channel devices.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe DM Multipath \u003Ccode class=\"literal\">fast_io_fail_tmo\u003C/code> option takes precedence over \u003Ccode class=\"literal\">replacement_timeout\u003C/code>. Red Hat does not recommend using \u003Ccode class=\"literal\">replacement_timeout\u003C/code> to override \u003Ccode class=\"literal\">recovery_tmo\u003C/code> in devices managed by DM Multipath because DM Multipath always resets \u003Ccode class=\"literal\">recovery_tmo\u003C/code>, when the \u003Ccode class=\"literal\">multipathd\u003C/code> service reloads.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-system-upgrades-with-snapshots_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 10. Managing system upgrades with snapshots\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tPerform rollback capable upgrades of Red Hat Enterprise Linux systems to return to an earlier version of the operating system. You can use the \u003Cspan class=\"strong strong\">\u003Cstrong>Boom Boot Manager\u003C/strong>\u003C/span> and the Leapp operating system modernization framework.\n\t\t\u003C/p>\u003Cp>\n\t\t\tBefore performing the operating system upgrades, consider the following aspects:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tSystem upgrades with snapshots do not work on multiple file systems in your system tree, for example, a separate \u003Ccode class=\"literal\">/var\u003C/code> or \u003Ccode class=\"literal\">/usr\u003C/code> partition.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSystem upgrades with snapshots do not work for the Red Hat Update Infrastructure (RHUI) systems. Instead of using the Boom utility, consider creating snapshots of your virtual machines (VMs).\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"overview-of-the-boom-process_managing-system-upgrades-with-snapshots\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.1. Overview of the Boom process\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tCreate boot entries using the Boom Boot Manager so you can select and access these entries from the GRUB boot loader menu. Creating boot entries simplifies the process of preparation for a rollback capable upgrade.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following boot entries are part of the upgrade and rollback processes:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">Upgrade boot entry\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoots the Leapp upgrade environment. Use the \u003Ccode class=\"literal\">leapp\u003C/code> utility to create and manage this boot entry. The \u003Ccode class=\"literal\">leapp\u003C/code> upgrade process automatically removes this entry.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">Red Hat Enterprise Linux 9 boot entry\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoots the upgrade system environment. Use the \u003Ccode class=\"literal\">leapp\u003C/code> utility to create this boot entry after a successful upgrade process.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">Snapshot boot entry\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoots the snapshot of the original system. Use it to review and test the previous operating system state, following a successful or unsuccessful upgrade attempt. Before upgrading the operating system, use the \u003Ccode class=\"literal\">boom\u003C/code> command to create this boot entry.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">Rollback boot entry\u003C/code>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoots the original system environment and rolls back any upgrade to the previous system state. Use the \u003Ccode class=\"literal\">boom\u003C/code> command to create this boot entry when initiating a rollback of the upgrade procedure.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">boom(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.2. Upgrading to another version using Boom Boot Manager\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tPerform an upgrade of your Red Hat Enterprise Linux operating system by using the Boom Boot Manager.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are running Red Hat Enterprise Linux 8.8 or 8.10.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the current version of the \u003Ccode class=\"literal\">boom-boot\u003C/code> package (version \u003Cspan class=\"strong strong\">\u003Cstrong>boom-boot-1.3-2.el8\u003C/strong>\u003C/span> or later).\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have sufficient space available for the snapshot. Make a size estimate based on the size of the original installation. List all the mounted logical volumes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the \u003Ccode class=\"literal\">leapp\u003C/code> package.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have enabled software repositories.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tAdditional file systems might include \u003Cspan class=\"strong strong\">\u003Cstrong>/usr\u003C/strong>\u003C/span> or \u003Cspan class=\"strong strong\">\u003Cstrong>/var\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a snapshot of your \u003Cspan class=\"emphasis\">\u003Cem>root\u003C/em>\u003C/span> logical volume:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf your root file system uses thin provisioning, create a thin snapshot:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lvcreate -s rhel/root -kn -n \u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n Logical volume \u003Cspan class=\"emphasis\">\u003Cem>\"root_snapshot_before_changes\"\u003C/em>\u003C/span> created.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tHere:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-s\u003C/code> creates the snapshot.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rhel/root\u003C/code> copies the file system to the logical volume.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-kn\u003C/code> automatically activates LV at boot time.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-n \u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\u003C/code> shows the name of the snapshot.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tWhile creating a thin snapshot, do not define the snapshot size. The snapshot is allocated from the thin pool.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf your root file system uses thick provisioning, create a thick snapshot:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lvcreate -s rhel/root -n \u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>-L\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>25g\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n  Rounding up size to full physical extent 25 GiB\n  Logical volume \u003Cspan class=\"emphasis\">\u003Cem>\"root_snapshot_before_changes\"\u003C/em>\u003C/span> created.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn this command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-s\u003C/code> creates the snapshot.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rhel/root\u003C/code> copies the file system to the logical volume.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-n \u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\u003C/code> shows the name of the snapshot.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-L \u003Cspan class=\"emphasis\">\u003Cem>25g\u003C/em>\u003C/span>\u003C/code> is the snapshot size. Make a size estimate based on the size of the original installation.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tWhile creating a thick snapshot, define the snapshot size that can hold all the changes during the upgrade.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tThe created snapshot does not include any additional system changes.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the profile:\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreating a profile requires an architecture-specific workaround to avoid an interaction between \u003Ccode class=\"literal\">kexec-tools\u003C/code> or \u003Ccode class=\"literal\">kdumpctl\u003C/code> and \u003Ccode class=\"literal\">boom\u003C/code>. During the upgrade, the updated \u003Ccode class=\"literal\">kexec-tools\u003C/code> package attempts to modify all boot entries with updated \u003Ccode class=\"literal\">crashkernel\u003C/code> settings. This deletes the boot images used by the entry. You can avoid this by appending the RHEL 9 \u003Ccode class=\"literal\">crashkernel\u003C/code> settings to the RHEL 8 profile options.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn an Intel 64 or AMD64 (x86_64), or IBM Z (s390x) architecture:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom profile create --from-host --os-options \"root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M\"\u003C/strong>\u003C/span>\nCreated profile with os_id \u003Cspan class=\"emphasis\">\u003Cem>43747d3\u003C/em>\u003C/span>:\n  OS ID: \u003Cspan class=\"emphasis\">\u003Cem>\"43747d3888b663d2bc88efd35d0813159a84d291\"\u003C/em>\u003C/span>,\n  Name: \"Red Hat Enterprise Linux\", Short name: \"rhel\",\n  Version: \"8.9 (Ootpa)\", Version ID: \"8.9\",\n  Kernel pattern: \"/vmlinuz-%{version}\", Initramfs pattern: \"/initramfs-%{version}.img\",\n  Root options (LVM2): \"rd.lvm.lv=%{lvm_root_lv}\",\n  Root options (BTRFS): \"rootflags=%{btrfs_subvolume}\",\n  Options: \"root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M\",\n  Title: \"%{os_name} %{os_version_id} (%{version})\",\n  Optional keys: \"\", UTS release pattern: \"el8\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn an 64-bit ARM (AArch64) architecture:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom profile create --from-host --os-options \"root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=1G-4G:256M,4G-64G:320M,64G-:576M\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn an IBM POWER little-endian (ppc64le) architecture:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom profile create --from-host --os-options \"root=%{root_device} ro %{root_opts} rhgb quiet crashkernel=2G-4G:384M,4G-16G:512M,16G-64G:1G,64G-128G:2G,128G-:4G\" --optional-keys \"grub_users grub_arg grub_class id\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--optional-keys\u003C/code> argument is required on ppc64le to ensure that the \u003Ccode class=\"literal\">grub2-mkconfig\u003C/code> command generates the correct boot entry in step 10.2.3. For more information, see \u003Ca class=\"link\" href=\"https://issues.redhat.com/browse/RHEL-36180\">RHEL-36180\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a snapshot boot entry of the original system using backup copies of the original boot images:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom create --backup --title \u003Cspan class=\"emphasis\">\u003Cem>\"Root LV snapshot before changes\"\u003C/em>\u003C/span> --rootlv rhel/\u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nWARNING - Boom grub2 integration is disabled in '/boot/../etc/default/boom'\nCreated entry with boot_id c919f89:\n  title \u003Cspan class=\"emphasis\">\u003Cem>Root LV snapshot before changes\u003C/em>\u003C/span>\n  machine-id b1dcec73886b45218892b1a7bbfa0dee\n  version 4.18.0-513.24.1.el8_9.x86_64\n  linux /vmlinuz-4.18.0-513.24.1.el8_9.x86_64.boom0\n  initrd /initramfs-4.18.0-513.24.1.el8_9.x86_64.img.boom0\n  options root=/dev/rhel/root_snapshot_before_changes ro rd.lvm.lv=rhel/root_snapshot_before_changes rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--title \u003Cspan class=\"emphasis\">\u003Cem>\"Root LV snapshot before changes\"\u003C/em>\u003C/span>\u003C/code> is the name of the boot entry, that shows in the boot entry list during system startup.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--rootlv\u003C/code> is the root logical volume that corresponds to the new boot entry.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter you complete the previous step, you have a boot entry that enables access to the original system, before the upgrade.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIgnore \"WARNING - Boom grub2 integration is disabled in '/boot/../etc/default/boom'\". For details, see \u003Ca class=\"link\" href=\"https://issues.redhat.com/browse/RHEL-35983\">RHEL-35983\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn systems with ppc64le architecture, update boot entries:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg\u003C/strong>\u003C/span>\nGenerating grub configuration file ...\nGenerating boot entries from BLS files...\ndone\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpgrade to Red Hat Enterprise Linux 9 using the Leapp utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>leapp upgrade\u003C/strong>\u003C/span>\n==&gt; Processing phase `configuration_phase`\n====&gt; * ipu_workflow_config\n        IPU workflow config actor\n==&gt; Processing phase `FactsCollection`\n...\n============================================================\n                      REPORT OVERVIEW\n============================================================\n\nUpgrade has been inhibited due to the following problems:\n    1. Firewalld Configuration AllowZoneDrifting Is Unsupported\n    2. Possible problems with remote login using root account\n\nHIGH and MEDIUM severity reports:\n    1. Remote root logins globally allowed using password\n    2. GRUB2 core will be automatically updated during the upgrade\n\nReports summary:\n    Errors:                      0\n    Inhibitors:                  2\n    HIGH severity reports:       2\n    MEDIUM severity reports:     0\n    LOW severity reports:        1\n    INFO severity reports:       3\n\nBefore continuing consult the full report:\n    A report has been generated at /var/log/leapp/leapp-report.json\n    A report has been generated at /var/log/leapp/leapp-report.txt\n\n============================================================\n                   END OF REPORT OVERVIEW\n============================================================\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReview and resolve any blockers indicated by the \u003Ccode class=\"literal\">leapp upgrade\u003C/code> command report. For detailed instructions on the report, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/upgrading_from_rhel_8_to_rhel_9/reviewing-the-pre-upgrade-report_upgrading-from-rhel-8-to-rhel-9#doc-wrapper\">Reviewing the pre-upgrade report\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReboot into the upgrade boot entry:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>leapp upgrade --reboot\u003C/strong>\u003C/span>\n==&gt; Processing phase `configuration_phase`\n====&gt; * ipu_workflow_config\n        IPU workflow config actor\n==&gt; Processing phase `FactsCollection`\n...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Red Hat Enterprise Linux Upgrade Initramfs\u003C/strong>\u003C/span> entry from the GRUB boot screen.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe Snapshots submenu from the GRUB boot screen is not available in Red Hat Enterprise Linux 9.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter completing the upgrade, the system automatically reboots. The GRUB screen shows the upgraded (Red Hat Enterprise Linux 9) and the previous version of the available operating system. The upgraded system version is the default selection.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">boom(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3750001\">What is BOOM and how to install it?\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3772101\">How to create a BOOM boot entry\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"switching-between-red-hat-enterprise-linux-versions_managing-system-upgrades-with-snapshots\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.3. Switching between Red Hat Enterprise Linux versions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAccess simultaneously current and previous Red Hat Enterprise Linux versions on your machine. Using the \u003Cspan class=\"strong strong\">\u003Cstrong>Boom Boot Manager\u003C/strong>\u003C/span> to access different operating system versions reduces the risk associated with upgrading an operating system, and also helps reduce hardware downtime. With this ability to switch between environments, you can:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tQuickly compare both environments in a side-by-side fashion.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSwitch between environments while evaluating the result of the upgrade.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRecover older content of the file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tContinue accessing the old system, while the upgraded host is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tHalt and revert the update process at any time, even while the update itself is running.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReboot the system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>reboot\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the required boot entry from the GRUB boot loader screen.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the selected boot volume is displayed:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /proc/cmdline\u003C/strong>\u003C/span>\nBOOT_IMAGE=(hd0,msdos1)/vmlinuz-4.18.0-513.24.1.el8_9.x86_64.boom0 root=/dev/rhel/root_snapshot_before_changes ro rd.lvm.lv=rhel/root_snapshot_before_changes rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">boom(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deleting-the-logical-volume-snapshot-after-a-successful-upgrade_managing-system-upgrades-with-snapshots\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.4. Deleting the logical volume snapshot after a successful upgrade\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp id=\"deleting-the-logical-volume-snapshot_managing-system-upgrades-with-snapshots\">\n\t\t\t\tIf you have successfully upgraded your system by using the Boom Boot Manager, you can remove the snapshot boot entry and the logical volume (LV) snapshot to use the upgraded system.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou cannot perform any further operations with the LV snapshot after you delete it.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have recently upgraded your Red Hat Enterprise Linux to a later version \u003Ca class=\"link\" href=\"#upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots\" title=\"10.2. Upgrading to another version using Boom Boot Manager\">by using the Boom Boot Manager\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBoot into Red Hat Enterprise Linux 9 from the GRUB boot loader screen.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter the system loads, view the available boot entries. The following output shows the snapshot boot entry in the list of boom boot entries:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom list\u003C/strong>\u003C/span>\nBootID  Version                      Name                     RootDevice\n\u003Cspan class=\"emphasis\">\u003Cem>1e1a9b4\u003C/em>\u003C/span> 4.18.0-513.5.1.el8_9.x86_64  Red Hat Enterprise Linux /dev/mapper/rhel-root\n\u003Cspan class=\"emphasis\">\u003Cem>4ea37b9\u003C/em>\u003C/span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/mapper/rhel-root\n\u003Cspan class=\"emphasis\">\u003Cem>c919f89\u003C/em>\u003C/span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/rhel/root_snapshot_before_changes\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDelete the snapshot entry by using the \u003Ccode class=\"literal\">BootID\u003C/code> value:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom delete --boot-id \u003Cspan class=\"emphasis\">\u003Cem>c919f89\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nDeleted 1 entry\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis deletes the boot entry from the GRUB menu.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the LV snapshot:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lvremove rhel/\u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nDo you really want to remove active logical volume \u003Cspan class=\"emphasis\">\u003Cem>rhel/root_snapshot_before_changes\u003C/em>\u003C/span>? [y/n]: y\n      Logical volume \"\u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\" successfully removed\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tComplete the remaining post-upgrade tasks. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/upgrading_from_rhel_8_to_rhel_9/index\">Upgrading from RHEL 8 to RHEL 9\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">boom(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rollback-boot-entry-after-an-unsuccessful-upgrade_managing-system-upgrades-with-snapshots\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.5. Creating a rollback boot entry after an unsuccessful upgrade\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp id=\"creating-a-rollback-boot-entry_managing-system-upgrades-with-snapshots\">\n\t\t\t\tTo revert the operating system upgrade back to the previous state of the system after an unsuccessful upgrade, use a rollback boot entry. This can also be helpful if you find a problem with the upgraded environment, for example, incompatibility with in-house software.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo prepare the rollback boot entry, use the snapshot environment.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a snapshot. For instructions for creating a snapshot, see \u003Ca class=\"link\" href=\"#upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots\" title=\"10.2. Upgrading to another version using Boom Boot Manager\">Upgrading to another version using Boom boot manager\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMerge the snapshot with the original volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lvconvert --merge rhel/\u003Cspan class=\"emphasis\">\u003Cem>root_snapshot_before_changes\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n  Logical volume rhel/root_snapshot_before_changes contains a filesystem in use.\n  Delaying merge since snapshot is open.\n  Merging of thin snapshot rhel/root_snapshot_before_changes will occur on next activation of rhel/root.\u003C/pre>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tAfter you merge the snapshot, you must continue with all the remaining steps in this procedure to prevent data loss.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a rollback boot entry for the merged snapshot:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom create --backup --title \u003Cspan class=\"emphasis\">\u003Cem>\"RHEL Rollback\"\u003C/em>\u003C/span> --rootlv rhel/root\u003C/strong>\u003C/span>\nWARNING - Boom grub2 integration is disabled in '/boot/../etc/default/boom'\nWARNING - Options for BootEntry(boot_id=1e1a9b4) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=1ccc554) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=4ea37b9) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=e22dd61) do not match OsProfile: marking read-only\nCreated entry with boot_id \u003Cspan class=\"emphasis\">\u003Cem>6c44638\u003C/em>\u003C/span>:\n  title \u003Cspan class=\"emphasis\">\u003Cem>RHEL Rollback\u003C/em>\u003C/span>\n  machine-id \u003Cspan class=\"emphasis\">\u003Cem>b1dcec73886b45218892b1a7bbfa0dee\u003C/em>\u003C/span>\n  version 4.18.0-513.24.1.el8_9.x86_64\n  linux /vmlinuz-4.18.0-513.24.1.el8_9.x86_64.boom0\n  initrd /initramfs-4.18.0-513.24.1.el8_9.x86_64.img.boom0\n  options root=/dev/rhel/root ro rd.lvm.lv=rhel/root rhgb quiet crashkernel=1G-4G:192M,4G-64G:256M,64G-:512M\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIgnore all WARNING messages, see \u003Ca class=\"link\" href=\"https://issues.redhat.com/browse/RHEL-35983\">RHEL-35983\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReboot your machine to restore the operating system state:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>reboot\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tAfter the system reboots, select the \u003Cspan class=\"strong strong\">\u003Cstrong>RHEL Rollback\u003C/strong>\u003C/span> boot entry from the GRUB screen.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWhen the \u003Ccode class=\"literal\">root\u003C/code> logical volume is active, the system automatically starts the snapshot merge operation.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tWhen the merge operation starts, the snapshot volume is no longer available. After successfully booting the \u003Cspan class=\"strong strong\">\u003Cstrong>RHEL Rollback\u003C/strong>\u003C/span> boot entry, the \u003Cspan class=\"strong strong\">\u003Cstrong>Root LV snapshot boot entry\u003C/strong>\u003C/span> no longer works. Merging the snapshot logical volume destroys the Root LV snapshot and restores the prior state of the original volume.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter you complete the merge operation, remove the unused entries and restore the original boot entry:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRemove the unused Red Hat Enterprise Linux 9 boot entries from the \u003Ccode class=\"literal\">/boot\u003C/code> file system and rebuild the \u003Ccode class=\"literal\">grub.cfg\u003C/code> file for the changes to take effect:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /boot/loader/entries/*.el9*\u003C/strong>\u003C/span>\u003C/pre>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rm -f /boot/*.el9*\u003C/strong>\u003C/span>\u003C/pre>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grub2-mkconfig -o /boot/grub2/grub.cfg\u003C/strong>\u003C/span>\nGenerating grub configuration file ...\ndone\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter a successful rollback to the system, delete the \u003Ccode class=\"literal\">boom\u003C/code> snapshot and rollback boot entries:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom list -o+title\u003C/strong>\u003C/span>\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>1e1a9b4\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>1ccc554\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>4ea37b9\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nBootID  Version                      Name                     RootDevice                             Title\n\u003Cspan class=\"emphasis\">\u003Cem>1e1a9b4\u003C/em>\u003C/span> 4.18.0-513.5.1.el8_9.x86_64  Red Hat Enterprise Linux /dev/mapper/rhel-root                  Red Hat Enterprise Linux (4.18.0-513.5.1.el8_9.x86_64) 8.9 (Ootpa)\n\u003Cspan class=\"emphasis\">\u003Cem>4ea37b9\u003C/em>\u003C/span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/mapper/rhel-root                  Red Hat Enterprise Linux (4.18.0-513.24.1.el8_9.x86_64) 8.9 (Ootpa)\n\u003Cspan class=\"emphasis\">\u003Cem>c919f89\u003C/em>\u003C/span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/rhel/root_snapshot_before_changes Root LV snapshot before changes\n\u003Cspan class=\"emphasis\">\u003Cem>6c44638\u003C/em>\u003C/span> 4.18.0-513.24.1.el8_9.x86_64 Red Hat Enterprise Linux /dev/rhel/root                         RHEL Rollback\u003C/pre>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom delete \u003Cspan class=\"emphasis\">\u003Cem>c919f89\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>1e1a9b4\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>1ccc554\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>4ea37b9\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nDeleted 1 entry\u003C/pre>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>boom delete \u003Cspan class=\"emphasis\">\u003Cem>6c44638\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>1e1a9b4\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>1ccc554\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nWARNING - Options for BootEntry(boot_id=\u003Cspan class=\"emphasis\">\u003Cem>4ea37b9\u003C/em>\u003C/span>) do not match OsProfile: marking read-only\nDeleted 1 entry\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIgnore the warnings. For details, see \u003Ca class=\"link\" href=\"https://issues.redhat.com/browse/RHEL-35983\">RHEL-35983\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">boom(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tIn an Non-volatile Memory Express™ (NVMe™) over RDMA (NVMe™/RDMA) setup, you configure an NVMe controller and an NVMe initiator.\n\t\t\u003C/p>\u003Cp>\n\t\t\tAs a system administrator, complete the following tasks to deploy the NVMe/RDMA setup:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma\" title=\"11.2. Setting up an NVMe/RDMA controller using configfs\">Setting up an NVMe/RDMA controller using configfs\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma\" title=\"11.3. Setting up the NVMe/RDMA controller using nvmetcli\">Setting up the NVMe/RDMA controller using nvmetcli\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma\" title=\"11.4. Configuring an NVMe/RDMA host\">Configuring an NVMe/RDMA host\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.1. Overview of NVMe over fabric devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tNon-volatile Memory Express™ (NVMe™) is an interface that allows host software utility to communicate with solid state drives.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUse the following types of fabric transport to configure NVMe over fabric devices:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NVMe over Remote Direct Memory Access (NVMe/RDMA)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe™/RDMA, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices\" title=\"Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA\">Configuring NVMe over fabrics using NVMe/RDMA\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">NVMe over Fibre Channel (NVMe/FC)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe™/FC, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices\" title=\"Chapter 12. Configuring NVMe over fabrics using NVMe/FC\">Configuring NVMe over fabrics using NVMe/FC\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NVMe over TCP (NVMe/TCP)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe/FC, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices\" title=\"Chapter 13. Configuring NVMe over fabrics using NVMe/TCP\">Configuring NVMe over fabrics using NVMe/TCP\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tWhen using NVMe over fabrics, the solid-state drive does not have to be local to your system; it can be configured remotely through a NVMe over fabrics devices.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.2. Setting up an NVMe/RDMA controller using configfs\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse this procedure to configure an Non-volatile Memory Express™ (NVMe™) over RDMA (NVMe™/RDMA) controller using \u003Ccode class=\"literal\">configfs\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tVerify that you have a block device to assign to the \u003Ccode class=\"literal\">nvmet\u003C/code> subsystem.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">nvmet-rdma\u003C/code> subsystem:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># modprobe nvmet-rdma\n\n# mkdir /sys/kernel/config/nvmet/subsystems/\u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span>\n\n# cd /sys/kernel/config/nvmet/subsystems/\u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span> with the subsystem name.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAllow any host to connect to this controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># echo 1 &gt; attr_allow_any_host\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure a namespace:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkdir namespaces/\u003Cspan class=\"emphasis\">\u003Cem>10\u003C/em>\u003C/span>\n\n# cd namespaces/\u003Cspan class=\"emphasis\">\u003Cem>10\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>10\u003C/em>\u003C/span> with the namespace number\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet a path to the NVMe device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># echo -n /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1\u003C/em>\u003C/span> &gt; device_path\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable the namespace:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># echo 1 &gt; enable\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a directory with an NVMe port:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkdir /sys/kernel/config/nvmet/ports/\u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span>\n\n# cd /sys/kernel/config/nvmet/ports/\u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisplay the IP address of \u003Cspan class=\"emphasis\">\u003Cem>mlx5_ib0\u003C/em>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ip addr show mlx5_ib0\n\n8: mlx5_ib0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 4092 qdisc mq state UP group default qlen 256\n    link/infiniband 00:00:06:2f:fe:80:00:00:00:00:00:00:e4:1d:2d:03:00:e7:0f:f6 brd 00:ff:ff:ff:ff:12:40:1b:ff:ff:00:00:00:00:00:00:ff:ff:ff:ff\n    inet 172.31.0.202/24 brd 172.31.0.255 scope global noprefixroute mlx5_ib0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::e61d:2d03:e7:ff6/64 scope link noprefixroute\n       valid_lft forever preferred_lft forever\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the transport address for the controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># echo -n 172.31.0.202 &gt; addr_traddr\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet RDMA as the transport type:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># echo rdma &gt; addr_trtype\n\n# echo 4420 &gt; addr_trsvcid\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the address family for the port:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># echo ipv4 &gt; addr_adrfam\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a soft link:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ln -s /sys/kernel/config/nvmet/subsystems/\u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span>   /sys/kernel/config/nvmet/ports/1/subsystems/\u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the NVMe controller is listening on the given port and ready for connection requests:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dmesg | grep \"enabling port\"\n[ 1091.413648] nvmet_rdma: enabling port 1 (172.31.0.202:4420)\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvme(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.3. Setting up the NVMe/RDMA controller using nvmetcli\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse the \u003Ccode class=\"literal\">nvmetcli\u003C/code> utility to edit, view, and start an Non-volatile Memory Express™ (NVMe™) controller. The \u003Ccode class=\"literal\">nvmetcli\u003C/code> utility provides a command line and an interactive shell option. Use this procedure to configure the NVMe™/RDMA controller by \u003Ccode class=\"literal\">nvmetcli\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tVerify that you have a block device to assign to the \u003Ccode class=\"literal\">nvmet\u003C/code> subsystem.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tExecute the following \u003Ccode class=\"literal\">nvmetcli\u003C/code> operations as a root user.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nvmetcli\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install nvmetcli\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDownload the \u003Ccode class=\"literal\">rdma.json\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># wget http://git.infradead.org/users/hch/nvmetcli.git/blob_plain/0a6b088db2dc2e5de11e6f23f1e890e4b54fee64:/rdma.json\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">rdma.json\u003C/code> file and change the \u003Ccode class=\"literal\">traddr\u003C/code> value to \u003Ccode class=\"literal\">172.31.0.202\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSetup the controller by loading the NVMe controller configuration file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># nvmetcli restore rdma.json\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf the NVMe controller configuration file name is not specified, the \u003Ccode class=\"literal\">nvmetcli\u003C/code> uses the \u003Ccode class=\"literal\">/etc/nvmet/config.json\u003C/code> file.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the NVMe controller is listening on the given port and ready for connection requests:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dmesg | tail -1\n[ 4797.132647] nvmet_rdma: enabling port 2 (172.31.0.202:4420)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Clear the current NVMe controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># nvmetcli clear\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvmetcli\u003C/code> and \u003Ccode class=\"literal\">nvme(1)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.4. Configuring an NVMe/RDMA host\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse this procedure to configure an Non-volatile Memory Express™ (NVMe™) over RDMA (NVMe™/RDMA) host using the NVMe management command line interface (\u003Ccode class=\"literal\">nvme-cli\u003C/code>) tool.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nvme-cli\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install nvme-cli\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad the \u003Ccode class=\"literal\">nvme-rdma\u003C/code> module if it is not loaded:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># modprobe nvme-rdma\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDiscover available subsystems on the NVMe controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># nvme discover -t rdma -a \u003Cspan class=\"emphasis\">\u003Cem>172.31.0.202\u003C/em>\u003C/span> -s 4420\n\nDiscovery Log Number of Records 1, Generation counter 2\n=====Discovery Log Entry 0======\ntrtype:  rdma\nadrfam:  ipv4\nsubtype: nvme subsystem\ntreq:    not specified, sq flow control disable supported\nportid:  1\ntrsvcid: 4420\nsubnqn:  testnqn\ntraddr:  \u003Cspan class=\"emphasis\">\u003Cem>172.31.0.202\u003C/em>\u003C/span>\nrdma_prtype: not specified\nrdma_qptype: connected\nrdma_cms:    rdma-cm\nrdma_pkey: 0x0000\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConnect to the discovered subsystems:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># nvme connect -t rdma -n \u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span> -a \u003Cspan class=\"emphasis\">\u003Cem>172.31.0.202\u003C/em>\u003C/span> -s \u003Cspan class=\"emphasis\">\u003Cem>4420\u003C/em>\u003C/span>\n\n# lsblk\nNAME                         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nsda                            8:0    0 465.8G  0 disk\n├─sda1                         8:1    0     1G  0 part /boot\n└─sda2                         8:2    0 464.8G  0 part\n  ├─rhel_rdma--virt--03-root 253:0    0    50G  0 lvm  /\n  ├─rhel_rdma--virt--03-swap 253:1    0     4G  0 lvm  [SWAP]\n  └─rhel_rdma--virt--03-home 253:2    0 410.8G  0 lvm  /home\nnvme0n1\n\n# cat /sys/class/nvme/nvme0/transport\nrdma\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span> with the NVMe subsystem name.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>172.31.0.202\u003C/em>\u003C/span> with the controller IP address.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>4420\u003C/em>\u003C/span> with the port number.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the NVMe devices that are currently connected:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># nvme list\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Disconnect from the controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># nvme disconnect -n \u003Cspan class=\"emphasis\">\u003Cem>testnqn\u003C/em>\u003C/span>\nNQN:testnqn disconnected 1 controller(s)\n\n# lsblk\nNAME                         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nsda                            8:0    0 465.8G  0 disk\n├─sda1                         8:1    0     1G  0 part /boot\n└─sda2                         8:2    0 464.8G  0 part\n  ├─rhel_rdma--virt--03-root 253:0    0    50G  0 lvm  /\n  ├─rhel_rdma--virt--03-swap 253:1    0     4G  0 lvm  [SWAP]\n  └─rhel_rdma--virt--03-home 253:2    0 410.8G  0 lvm  /home\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvme(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://github.com/linux-nvme/nvme-cli\">Nvme-cli Github repository\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"next_steps\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.5. Next steps\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#enabling-multipathing-on-nvme-devices_managing-storage-devices\" title=\"Chapter 14. Enabling multipathing on NVMe devices\">Enabling multipathing on NVMe devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 12. Configuring NVMe over fabrics using NVMe/FC\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThe Non-volatile Memory Express™ (NVMe™) over Fibre Channel (NVMe™/FC) transport is fully supported in host mode when used with certain Broadcom Emulex and Marvell Qlogic Fibre Channel adapters. As a system administrator, complete the tasks in the following sections to deploy the NVMe/FC setup:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc\" title=\"12.2. Configuring the NVMe host for Broadcom adapters\">Configuring the NVMe host for Broadcom adapters\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc\" title=\"12.3. Configuring the NVMe host for QLogic adapters\">Configuring the NVMe host for QLogic adapters\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-fc\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.1. Overview of NVMe over fabric devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tNon-volatile Memory Express™ (NVMe™) is an interface that allows host software utility to communicate with solid state drives.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUse the following types of fabric transport to configure NVMe over fabric devices:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NVMe over Remote Direct Memory Access (NVMe/RDMA)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe™/RDMA, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices\" title=\"Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA\">Configuring NVMe over fabrics using NVMe/RDMA\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">NVMe over Fibre Channel (NVMe/FC)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe™/FC, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices\" title=\"Chapter 12. Configuring NVMe over fabrics using NVMe/FC\">Configuring NVMe over fabrics using NVMe/FC\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NVMe over TCP (NVMe/TCP)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe/FC, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices\" title=\"Chapter 13. Configuring NVMe over fabrics using NVMe/TCP\">Configuring NVMe over fabrics using NVMe/TCP\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tWhen using NVMe over fabrics, the solid-state drive does not have to be local to your system; it can be configured remotely through a NVMe over fabrics devices.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.2. Configuring the NVMe host for Broadcom adapters\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse this procedure to configure the Non-volatile Memory Express™ (NVMe™) host for Broadcom adapters client using the NVMe management command line interface (\u003Ccode class=\"literal\">nvme-cli\u003C/code>) utility.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nvme-cli\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nvme-cli\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis creates the \u003Ccode class=\"literal\">hostnqn\u003C/code> file in the \u003Ccode class=\"literal\">/etc/nvme/\u003C/code> directory. The \u003Ccode class=\"literal\">hostnqn\u003C/code> file identifies the NVMe host.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the World Wide Node Name (WWNN) and World Wide Port Name (WWPN) identifiers of the local and remote ports:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /sys/class/scsi_host/host*/nvme_info\u003C/strong>\u003C/span>\n\nNVME Host Enabled\nXRI Dist lpfc0 Total 6144 IO 5894 ELS 250\nNVME LPORT lpfc0 WWPN x10000090fae0b5f5 WWNN x20000090fae0b5f5 DID x010f00 ONLINE\nNVME RPORT       WWPN x204700a098cbcac6 WWNN x204600a098cbcac6 DID x01050e TARGET DISCSRVC ONLINE\n\nNVME Statistics\nLS: Xmt 000000000e Cmpl 000000000e Abort 00000000\nLS XMIT: Err 00000000  CMPL: xb 00000000 Err 00000000\nTotal FCP Cmpl 00000000000008ea Issue 00000000000008ec OutIO 0000000000000002\n    abort 00000000 noxri 00000000 nondlp 00000000 qdepth 00000000 wqerr 00000000 err 00000000\nFCP CMPL: xb 00000000 Err 00000000\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUsing these \u003Ccode class=\"literal\">host-traddr\u003C/code> and \u003Ccode class=\"literal\">traddr\u003C/code> values, find the subsystem NVMe Qualified Name (NQN):\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme discover --transport fc \\ --traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6\u003C/em>\u003C/span> \\ --host-traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nDiscovery Log Number of Records 2, Generation counter 49530\n=====Discovery Log Entry 0======\ntrtype:  fc\nadrfam:  fibre-channel\nsubtype: nvme subsystem\ntreq:    not specified\nportid:  0\ntrsvcid: none\nsubnqn:  nqn.1992-08.com.netapp:sn.e18bfca87d5e11e98c0800a098cbcac6:subsystem.st14_nvme_ss_1_1\ntraddr:  nn-0x204600a098cbcac6:pn-0x204700a098cbcac6\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">host-traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConnect to the NVMe controller using the \u003Ccode class=\"literal\">nvme-cli\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme connect --transport fc \\ --traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6\u003C/em>\u003C/span> \\ --host-traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5\u003C/em>\u003C/span> \\ -n \u003Cspan class=\"emphasis\">\u003Cem>nqn.1992-08.com.netapp:sn.e18bfca87d5e11e98c0800a098cbcac6:subsystem.st14_nvme_ss_1_1\u003C/em>\u003C/span> \\ -k \u003Cspan class=\"emphasis\">\u003Cem>5\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you see the \u003Ccode class=\"literal\">keep-alive timer (5 seconds) expired!\u003C/code> error when a connection time exceeds the default keep-alive timeout value, increase it using the \u003Ccode class=\"literal\">-k\u003C/code> option. For example, you can use, \u003Ccode class=\"literal\">-k 7\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere,\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x204600a098cbcac6:pn-0x204700a098cbcac6\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000090fae0b5f5:pn-0x10000090fae0b5f5\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">host-traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nqn.1992-08.com.netapp:sn.e18bfca87d5e11e98c0800a098cbcac6:subsystem.st14_nvme_ss_1_1\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>subnqn\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>5\u003C/em>\u003C/span> with the keep-alive timeout value in seconds.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the NVMe devices that are currently connected:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme list\u003C/strong>\u003C/span>\nNode             SN                   Model                                    Namespace Usage                      Format           FW Rev\n---------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------\n/dev/nvme0n1     80BgLFM7xMJbAAAAAAAC NetApp ONTAP Controller                  1         107.37  GB / 107.37  GB      4 KiB +  0 B   FFFFFFFF\n\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>lsblk |grep nvme\u003C/strong>\u003C/span>\nnvme0n1                     259:0    0   100G  0 disk\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvme(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://github.com/linux-nvme/nvme-cli\">Nvme-cli Github repository\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.3. Configuring the NVMe host for QLogic adapters\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse this procedure to configure Non-volatile Memory Express™ (NVMe™) host for Qlogic adapters client using the NVMe management command line interface (\u003Ccode class=\"literal\">nvme-cli\u003C/code>) utility.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nvme-cli\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nvme-cli\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis creates the \u003Ccode class=\"literal\">hostnqn\u003C/code> file in the \u003Ccode class=\"literal\">/etc/nvme/\u003C/code> directory. The \u003Ccode class=\"literal\">hostnqn\u003C/code> file identifies the NVMe host.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReload the \u003Ccode class=\"literal\">qla2xxx\u003C/code> module:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>modprobe -r qla2xxx\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>modprobe qla2xxx\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the World Wide Node Name (WWNN) and World Wide Port Name (WWPN) identifiers of the local and remote ports:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dmesg |grep traddr\u003C/strong>\u003C/span>\n\n[    6.139862] qla2xxx [0000:04:00.0]-ffff:0: register_localport: host-traddr=nn-0x20000024ff19bb62:pn-0x21000024ff19bb62 on portID:10700\n[    6.241762] qla2xxx [0000:04:00.0]-2102:0: qla_nvme_register_remote: traddr=nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6 PortID:01050d\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUsing these \u003Ccode class=\"literal\">host-traddr\u003C/code> and \u003Ccode class=\"literal\">traddr\u003C/code> values, find the subsystem NVMe Qualified Name (NQN):\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme discover --transport fc \\ --traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6\u003C/em>\u003C/span> \\ --host-traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nDiscovery Log Number of Records 2, Generation counter 49530\n=====Discovery Log Entry 0======\ntrtype:  fc\nadrfam:  fibre-channel\nsubtype: nvme subsystem\ntreq:    not specified\nportid:  0\ntrsvcid: none\nsubnqn:  nqn.1992-08.com.netapp:sn.c9ecc9187b1111e98c0800a098cbcac6:subsystem.vs_nvme_multipath_1_subsystem_468\ntraddr:  nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">host-traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConnect to the NVMe controller using the \u003Ccode class=\"literal\">nvme-cli\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme connect --transport fc \\ --traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6\u003C/em>\u003C/span> \\ --host-traddr \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62\u003C/em>\u003C/span> \\ -n \u003Cspan class=\"emphasis\">\u003Cem>nqn.1992-08.com.netapp:sn.c9ecc9187b1111e98c0800a098cbcac6:subsystem.vs_nvme_multipath_1_subsystem_468\u003C/em>\u003C/span>\\ -k \u003Cspan class=\"emphasis\">\u003Cem>5\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you see the \u003Ccode class=\"literal\">keep-alive timer (5 seconds) expired!\u003C/code> error when a connection time exceeds the default keep-alive timeout value, increase it using the \u003Ccode class=\"literal\">-k\u003C/code> option. For example, you can use, \u003Ccode class=\"literal\">-k 7\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere,\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x203b00a098cbcac6:pn-0x203d00a098cbcac6\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nn-0x20000024ff19bb62:pn-0x21000024ff19bb62\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">host-traddr\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>nqn.1992-08.com.netapp:sn.c9ecc9187b1111e98c0800a098cbcac6:subsystem.vs_nvme_multipath_1_subsystem_468\u003C/em>\u003C/span> with the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>subnqn\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>5\u003C/em>\u003C/span> with the keep-live timeout value in seconds.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the NVMe devices that are currently connected:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme list\u003C/strong>\u003C/span>\nNode             SN                   Model                                    Namespace Usage                      Format           FW Rev\n---------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------\n/dev/nvme0n1     80BgLFM7xMJbAAAAAAAC NetApp ONTAP Controller                  1         107.37  GB / 107.37  GB      4 KiB +  0 B   FFFFFFFF\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>lsblk |grep nvme\u003C/strong>\u003C/span>\nnvme0n1                     259:0    0   100G  0 disk\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvme(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://github.com/linux-nvme/nvme-cli\">Nvme-cli Github repository\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"next_steps_2\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.4. Next steps\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#enabling-multipathing-on-nvme-devices_managing-storage-devices\" title=\"Chapter 14. Enabling multipathing on NVMe devices\">Enabling multipathing on NVMe devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 13. Configuring NVMe over fabrics using NVMe/TCP\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tIn an Non-volatile Memory Express™ (NVMe™) over TCP (NVMe/TCP) setup, the host mode is fully supported and the controller setup is not supported.\n\t\t\u003C/p>\u003Cp>\n\t\t\tAs a system administrator, complete the tasks in the following sections to deploy the NVMe/TCP setup:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp\" title=\"13.2. Configuring an NVMe/TCP host\">Configuring an NVMe/TCP host\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp\" title=\"13.3. Connecting the NVMe/TCP host to the NVMe/TCP controller\">Connecting the NVMe/TCP host to the NVMe/TCP controller\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIn Red Hat Enterprise Linux 9, the native NVMe multipathing is enabled by default. Enabling DM multipathing is not supported with NVMe/TCP.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-tcp\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.1. Overview of NVMe over fabric devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tNon-volatile Memory Express™ (NVMe™) is an interface that allows host software utility to communicate with solid state drives.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUse the following types of fabric transport to configure NVMe over fabric devices:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NVMe over Remote Direct Memory Access (NVMe/RDMA)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe™/RDMA, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices\" title=\"Chapter 11. Configuring NVMe over fabrics using NVMe/RDMA\">Configuring NVMe over fabrics using NVMe/RDMA\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">NVMe over Fibre Channel (NVMe/FC)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe™/FC, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices\" title=\"Chapter 12. Configuring NVMe over fabrics using NVMe/FC\">Configuring NVMe over fabrics using NVMe/FC\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NVMe over TCP (NVMe/TCP)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFor information about how to configure NVMe/FC, see \u003Ca class=\"link\" href=\"#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices\" title=\"Chapter 13. Configuring NVMe over fabrics using NVMe/TCP\">Configuring NVMe over fabrics using NVMe/TCP\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tWhen using NVMe over fabrics, the solid-state drive does not have to be local to your system; it can be configured remotely through a NVMe over fabrics devices.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.2. Configuring an NVMe/TCP host\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUse the Non-volatile Memory Express™ (NVMe™) management command line interface (nvme-cli) tool to configure an NVMe/TCP host.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nvme-cli\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># dnf install nvme-cli\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis tool creates the \u003Ccode class=\"literal\">hostnqn\u003C/code> file in the \u003Ccode class=\"literal\">/etc/nvme/\u003C/code> directory, which identifies the NVMe host.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the nvme \u003Ccode class=\"literal\">hostid\u003C/code> and \u003Ccode class=\"literal\">hostnqn\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># cat /etc/nvme/hostnqn\n\u003Cspan class=\"emphasis\">\u003Cem>nqn.2014-08.org.nvmexpress:uuid:8ae2b12c-3d28-4458-83e3-658e571ed4b8\u003C/em>\u003C/span>\n\n# cat /etc/nvme/hostid\n\u003Cspan class=\"emphasis\">\u003Cem>09e2ce17-ccc9-412d-8dcf-2b0a1d581ee3\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">hostid\u003C/code> and \u003Ccode class=\"literal\">hostnqn\u003C/code> values to configure the NVMe/TCP controller.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the status of the controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nmcli device show ens6\nGENERAL.DEVICE:                         \u003Cspan class=\"emphasis\">\u003Cem>ens6\u003C/em>\u003C/span>\nGENERAL.TYPE:                           ethernet\nGENERAL.HWADDR:                         52:57:02:12:02:02\nGENERAL.MTU:                            1500\nGENERAL.STATE:                          30 (disconnected)\nGENERAL.CONNECTION:                     --\nGENERAL.CON-PATH:                       --\nWIRED-PROPERTIES.CARRIER:               on\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the host network for a newly installed Ethernet controller with a static IP address:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nmcli connection add con-name \u003Cspan class=\"emphasis\">\u003Cem>ens6\u003C/em>\u003C/span> ifname \u003Cspan class=\"emphasis\">\u003Cem>ens6\u003C/em>\u003C/span> type ethernet ip4 \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154/24\u003C/em>\u003C/span> gw4 \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.1\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere, replace \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154\u003C/em>\u003C/span> with the host IP address.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nmcli connection mod \u003Cspan class=\"emphasis\">\u003Cem>ens6\u003C/em>\u003C/span> ipv4.method manual\n# nmcli connection up \u003Cspan class=\"emphasis\">\u003Cem>ens6\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSince a new network is created to connect the NVMe/TCP host to the NVMe/TCP controller, execute this step on the controller too.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if the newly created host network works correctly:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nmcli device show ens6\nGENERAL.DEVICE:                         \u003Cspan class=\"emphasis\">\u003Cem>ens6\u003C/em>\u003C/span>\nGENERAL.TYPE:                           ethernet\nGENERAL.HWADDR:                         52:57:02:12:02:02\nGENERAL.MTU:                            1500\nGENERAL.STATE:                          100 (connected)\nGENERAL.CONNECTION:                     ens6\nGENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveConnection/5\nWIRED-PROPERTIES.CARRIER:               on\nIP4.ADDRESS[1]:                         \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154/24\u003C/em>\u003C/span>\nIP4.GATEWAY:                            192.168.101.1\nIP4.ROUTE[1]:                           dst = 192.168.101.0/24, nh = 0.0.0.0, mt = 101\nIP4.ROUTE[2]:                           dst = 192.168.1.1/32, nh = 0.0.0.0, mt = 101\nIP4.ROUTE[3]:                           dst = 0.0.0.0/0, nh = 192.168.1.1, mt = 101\nIP6.ADDRESS[1]:                         fe80::27ce:dde1:620:996c/64\nIP6.GATEWAY:                            --\nIP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 101\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvme(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.3. Connecting the NVMe/TCP host to the NVMe/TCP controller\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tConnect the NVMe™ over TCP (NVMe/TCP) host to the NVMe/TCP controller system to verify that the NVMe/TCP host can now access the namespace.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe NVMe/TCP controller (\u003Ccode class=\"literal\">nvmet-tcp\u003C/code>) module is not supported.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured an NVMe/TCP host. For more information, see \u003Ca class=\"link\" href=\"#configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp\" title=\"13.2. Configuring an NVMe/TCP host\">Configuring an NVMe/TCP host\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured an NVMe/TCP controller using external storage software and the network is configured on the controller. In this procedure, \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.55\u003C/em>\u003C/span> is the IP address of NVMe/TCP controller.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad the \u003Ccode class=\"literal\">nvme-tcp\u003C/code> module if not already:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># modprobe nvme-tcp\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDiscover the available subsystems on the NVMe controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nvme discover --transport=tcp --traddr=\u003Cspan class=\"emphasis\">\u003Cem>192.168.101.55\u003C/em>\u003C/span> --host-traddr=\u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154\u003C/em>\u003C/span> --trsvcid=8009\n\nDiscovery Log Number of Records 2, Generation counter 7\n=====Discovery Log Entry 0======\ntrtype:  tcp\nadrfam:  ipv4\nsubtype: current discovery subsystem\ntreq:\tnot specified, sq flow control disable supported\nportid:  2\ntrsvcid: 8009\nsubnqn:  nqn.2014-08.org.nvmexpress.discovery\ntraddr:  192.168.101.55\neflags:  not specified\nsectype: none\n=====Discovery Log Entry 1======\ntrtype:  tcp\nadrfam:  ipv4\nsubtype: nvme subsystem\ntreq:\tnot specified, sq flow control disable supported\nportid:  2\ntrsvcid: 8009\nsubnqn:  nqn.2014-08.org.nvmexpress:uuid:0c468c4d-a385-47e0-8299-6e95051277db\ntraddr:  192.168.101.55\neflags:  not specified\nsectype: none\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere, \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.55\u003C/em>\u003C/span> is the NVMe/TCP controller IP address and \u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154\u003C/em>\u003C/span> is the NVMe/TCP host IP address.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the \u003Ccode class=\"literal\">/etc/nvme/discovery.conf\u003C/code> file to add the parameters used in the \u003Ccode class=\"literal\">nvme discover\u003C/code> command :\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># echo \"--transport=tcp --traddr=\u003Cspan class=\"emphasis\">\u003Cem>192.168.101.55\u003C/em>\u003C/span> --host-traddr=\u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154\u003C/em>\u003C/span> --trsvcid=8009\" &gt;&gt; /etc/nvme/discovery.conf\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConnect the NVMe/TCP host to the controller system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nvme connect-all\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the NVMe/TCP host can access the namespace:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># nvme list-subsys\n\nnvme-subsys3 - NQN=\u003Cspan class=\"emphasis\">\u003Cem>nqn.2014-08.org.nvmexpress:uuid:0c468c4d-a385-47e0-8299-6e95051277db\u003C/em>\u003C/span>\n\\\n +- nvme3 tcp traddr=\u003Cspan class=\"emphasis\">\u003Cem>192.168.101.55\u003C/em>\u003C/span>,trsvcid=8009,host_traddr=\u003Cspan class=\"emphasis\">\u003Cem>192.168.101.154\u003C/em>\u003C/span> live optimized\n\n# nvme list\nNode              \tGeneric           \tSN               \tModel                                \tNamespace Usage                  \tFormat       \tFW Rev\n--------------------- --------------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------\n/dev/nvme3n1      \t/dev/ng3n1        \td93a63d394d043ab4b74 Linux                                    1          21.47  GB /  21.47  GB    512   B +  0 B   5.18.5-2\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nvme(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"enabling-multipathing-on-nvme-devices_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 14. Enabling multipathing on NVMe devices\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can multipath Non-volatile Memory Express™ (NVMe™) devices that are connected to your system over a fabric transport, such as Fibre Channel (FC). You can select between multiple multipathing solutions.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"native-nvme-multipathing-and-dm-multipath_enabling-multipathing-on-nvme-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">14.1. Native NVMe multipathing and DM Multipath\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tNon-volatile Memory Express™ (NVMe™) devices support a native multipathing functionality. When configuring multipathing on NVMe, you can select between the standard DM Multipath framework and the native NVMe multipathing.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBoth DM Multipath and native NVMe multipathing support the Asymmetric Namespace Access (ANA) multipathing scheme of NVMe devices. ANA identifies optimized paths between the controller and the host, and improves performance.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen native NVMe multipathing is enabled, it applies globally to all NVMe devices. It can provide higher performance, but does not contain all of the functionality that DM Multipath provides. For example, native NVMe multipathing supports only the \u003Ccode class=\"literal\">numa\u003C/code> and \u003Ccode class=\"literal\">round-robin\u003C/code> path selection methods.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, NVMe multipathing is enabled in Red Hat Enterprise Linux 9 and is the recommended multipathing solution.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-dm-multipath-on-nvme-devices_enabling-multipathing-on-nvme-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">14.2. Enabling DM Multipath on NVMe devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe default kernel setting for the \u003Ccode class=\"literal\">nvme_core.multipath\u003C/code> option is set to \u003Ccode class=\"literal\">Y\u003C/code>, which means that the native Non-volatile Memory Express™ (NVMe™) multipathing is enabled. You can enable DM Multipath on connected NVMe devices by disabling native NVMe multipathing.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe NVMe devices are connected to your system. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma\">Overview of NVMe over fabric devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the native NVMe multipathing is enabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /sys/module/nvme_core/parameters/multipath\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command displays one of the following:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">N\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tNative NVMe multipathing is disabled.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Y\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tNative NVMe multipathing is enabled.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the native NVMe multipathing is enabled, disable it by using one of the following methods:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUsing a kernel option:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">nvme_core.multipath=N\u003C/code> option to the command line:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grubby --update-kernel=ALL --args=\"nvme_core.multipath=N\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tOn the 64-bit IBM Z architecture, update the boot menu:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>zipl\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReboot the system.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUsing a kernel module configuration file:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/modprobe.d/nvme_core.conf\u003C/code> configuration file with the following content:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"strong strong\">\u003Cstrong>options nvme_core multipath=N\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tBack up the \u003Ccode class=\"literal\">initramfs\u003C/code> file:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m%d-%H%M%S).img\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tRebuild the \u003Ccode class=\"literal\">initramfs\u003C/code>:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m-%d-%H%M%S).img\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>dracut --force --verbose\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReboot the system.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable DM Multipath:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now multipathd.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDistribute I/O on all available paths. Add the following content in the \u003Ccode class=\"literal\">/etc/multipath.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>devices {\u003C/strong>\u003C/span>\n        \u003Cspan class=\"strong strong\">\u003Cstrong>device {\u003C/strong>\u003C/span>\n                \u003Cspan class=\"strong strong\">\u003Cstrong>vendor \"NVME\"\u003C/strong>\u003C/span>\n                \u003Cspan class=\"strong strong\">\u003Cstrong>product \".*\"\u003C/strong>\u003C/span>\n                \u003Cspan class=\"strong strong\">\u003Cstrong>path_grouping_policy group_by_prio\u003C/strong>\u003C/span>\n        \u003Cspan class=\"strong strong\">\u003Cstrong>}\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>}\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/sys/class/nvme-subsystem/nvme-subsys0/iopolicy\u003C/code> configuration file has no effect on the I/O distribution when DM Multipath manages the NVMe devices.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReload the \u003Ccode class=\"literal\">multipathd\u003C/code> service to apply the configuration changes:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>multipath -r\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if the native NVMe multipathing is disabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /sys/module/nvme_core/parameters/multipath\u003C/strong>\u003C/span>\nN\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if DM multipath recognizes the nvme devices:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>multipath -l\u003C/strong>\u003C/span>\n\neui.00007a8962ab241100a0980000d851c8 dm-6 NVME,NetApp E-Series\nsize=20G features='0' hwhandler='0' wp=rw\n`-+- policy='service-time 0' prio=0 status=active\n  |- 0:10:2:2 nvme0n2 259:3 active undef running\n`-+- policy='service-time 0' prio=0 status=enabled\n  |- 4:11:2:2 nvme4n2 259:28 active undef running\n`-+- policy='service-time 0' prio=0 status=enabled\n  |- 5:32778:2:2 nvme5n2 259:38 active undef running\n`-+- policy='service-time 0' prio=0 status=enabled\n  |- 6:32779:2:2 nvme6n2 259:44 active undef running\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel\">Configuring kernel command-line parameters\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_device_mapper_multipath/configuring-dm-multipath_configuring-device-mapper-multipath\">Configuring DM Multipath\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-native-nvme-multipathing_enabling-multipathing-on-nvme-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">14.3. Enabling native NVMe multipathing\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf native NVMe multipathing is disabled, you can enable it using the following solution.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe NVMe devices are connected to your system. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma\">Overview of NVMe over fabric devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if native NVMe multipathing is enabled in the kernel:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /sys/module/nvme_core/parameters/multipath\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command displays one of the following:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">N\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tNative NVMe multipathing is disabled.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">Y\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tNative NVMe multipathing is enabled.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf native NVMe multipathing is disabled, enable it by using one of the following methods:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUsing a kernel option:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tRemove the \u003Ccode class=\"literal\">nvme_core.multipath=N\u003C/code> option from the kernel command line:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>grubby --update-kernel=ALL --remove-args=\"nvme_core.multipath=N\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tOn the 64-bit IBM Z architecture, update the boot menu:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>zipl\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReboot the system.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUsing a kernel module configuration file:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tRemove the \u003Ccode class=\"literal\">/etc/modprobe.d/nvme_core.conf\u003C/code> configuration file:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rm /etc/modprobe.d/nvme_core.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tBack up the \u003Ccode class=\"literal\">initramfs\u003C/code> file:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m-%d-%H%M%S).img\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tRebuild the \u003Ccode class=\"literal\">initramfs\u003C/code>:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dracut --force --verbose\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReboot the system.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the running system, change the I/O policy on NVMe devices to distribute the I/O on all available paths:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"round-robin\" &gt; /sys/class/nvme-subsystem/nvme-subsys0/iopolicy\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Set the I/O policy persistently using \u003Ccode class=\"literal\">udev\u003C/code> rules. Create the \u003Ccode class=\"literal\">/etc/udev/rules.d/71-nvme-io-policy.rules\u003C/code> file with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>ACTION==\"add|change\", SUBSYSTEM==\"nvme-subsystem\", ATTR{iopolicy}=\"round-robin\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if your system recognizes the NVMe devices. The following example assumes you have a connected NVMe over fabrics storage subsystem with two NVMe namespaces:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme list\u003C/strong>\u003C/span>\n\nNode             SN                   Model                                    Namespace Usage                      Format           FW Rev\n---------------- -------------------- ---------------------------------------- --------- -------------------------- ---------------- --------\n/dev/nvme0n1     a34c4f3a0d6f5cec     Linux                                    1         250.06  GB / 250.06  GB    512   B +  0 B   4.18.0-2\n/dev/nvme0n2     a34c4f3a0d6f5cec     Linux                                    2         250.06  GB / 250.06  GB    512   B +  0 B   4.18.0-2\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList all connected NVMe subsystems:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nvme list-subsys\u003C/strong>\u003C/span>\n\nnvme-subsys0 - NQN=testnqn\n\\\n +- nvme0 fc traddr=nn-0x20000090fadd597a:pn-0x10000090fadd597a host_traddr=nn-0x20000090fac7e1dd:pn-0x10000090fac7e1dd live\n +- nvme1 fc traddr=nn-0x20000090fadd5979:pn-0x10000090fadd5979 host_traddr=nn-0x20000090fac7e1dd:pn-0x10000090fac7e1dd live\n +- nvme2 fc traddr=nn-0x20000090fadd5979:pn-0x10000090fadd5979 host_traddr=nn-0x20000090fac7e1de:pn-0x10000090fac7e1de live\n +- nvme3 fc traddr=nn-0x20000090fadd597a:pn-0x10000090fadd597a host_traddr=nn-0x20000090fac7e1de:pn-0x10000090fac7e1de live\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the active transport type. For example, \u003Ccode class=\"literal\">nvme0 fc\u003C/code> indicates that the device is connected over the Fibre Channel transport, and \u003Ccode class=\"literal\">nvme tcp\u003C/code> indicates that the device is connected over TCP.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you edited the kernel options, verify if native NVMe multipathing is enabled on the kernel command line:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /proc/cmdline\u003C/strong>\u003C/span>\n\nBOOT_IMAGE=[...] nvme_core.multipath=Y\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you changed the I/O policy, verify if \u003Ccode class=\"literal\">round-robin\u003C/code> is the active I/O policy on NVMe devices:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /sys/class/nvme-subsystem/nvme-subsys0/iopolicy\u003C/strong>\u003C/span>\n\nround-robin\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel\">Configuring kernel command-line parameters\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"setting-up-a-remote-diskless-system_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 15. Setting up a remote diskless system\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tIn a network environment, you can setup multiple clients with the identical configuration by deploying a remote diskless system. By using current Red Hat Enterprise Linux server version, you can save the cost of hard drives for these clients as well as configure the gateway on a separate server.\n\t\t\u003C/p>\u003Cp>\n\t\t\tThe following diagram describes the connection of a diskless client with the server through Dynamic Host Configuration Protocol (DHCP) and Trivial File Transfer Protocol (TFTP) services.\n\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"remote-diskless-system\">\u003Cp class=\"title\">\u003Cstrong>Figure 15.1. Remote diskless system settings diagram\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/0abd6222baab2b55916c9e4126a9579b/remote-diskless-system-schema.png\" alt=\"Remote diskless system settings diagram\"/>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"preparing-environments-for-the-remote-diskless-system_setting-up-a-remote-diskless-system\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.1. Preparing environments for the remote diskless system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tPrepare your environment to be able to continue with remote diskless system implementation. The remote diskless system booting requires a Trivial File Transfer Protocol (TFTP) service (provided by \u003Ccode class=\"literal\">tftp-server\u003C/code>) and a Dynamic Host Configuration Protocol (DHCP) service (provided by \u003Ccode class=\"literal\">dhcp\u003C/code>). The system uses the \u003Ccode class=\"literal\">tftp\u003C/code> service to retrieve the kernel image and the initial RAM disk, \u003Ccode class=\"literal\">initrd\u003C/code>, over the network, through the Preboot Execution Environment (PXE) loader.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tTo ensure correct functionality of the remote diskless system in your environment, configure services in the following order:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">tftp\u003C/code> service for diskless clients\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tthe DHCP server\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tthe Network File System (NFS)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tthe exported file system.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have set up your network connection.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">dracut-network\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install dracut-network\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the following line to the \u003Ccode class=\"literal\">/etc/dracut.conf.d/network.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">add_dracutmodules+=\" nfs \"\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.2. Configuring a TFTP service for diskless clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tFor the remote diskless system to function correctly in your environment, you need to first configure a Trivial File Transfer Protocol (TFTP) service for diskless clients.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThis configuration does not boot over the Unified Extensible Firmware Interface (UEFI). For UEFI based installation, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/preparing-for-a-network-install_rhel-installer#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install\">Configuring a TFTP server for UEFI-based clients\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the following packages:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">tftp-server\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">syslinux\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">tftp\u003C/code> service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># systemctl enable --now tftp\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">pxelinux\u003C/code> directory inside the \u003Ccode class=\"literal\">tftp\u003C/code> root directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mkdir -p /var/lib/tftpboot/pxelinux/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy the \u003Ccode class=\"literal\">/usr/share/syslinux/pxelinux.0\u003C/code> file to the \u003Ccode class=\"literal\">/var/lib/tftpboot/pxelinux/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/pxelinux/\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou can find the tftp root directory (\u003Ccode class=\"literal\">chroot\u003C/code>) in the \u003Ccode class=\"literal\">/var/lib/tftpboot\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy \u003Ccode class=\"literal\">/usr/share/syslinux/ldlinux.c32\u003C/code> to \u003Ccode class=\"literal\">/var/lib/tftpboot/pxelinux/\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># cp /usr/share/syslinux/ldlinux.c32 /var/lib/tftpboot/pxelinux/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">pxelinux.cfg\u003C/code> directory inside the \u003Ccode class=\"literal\">tftp\u003C/code> root directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mkdir -p /var/lib/tftpboot/pxelinux/pxelinux.cfg/\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis configuration does not boot over the Unified Extensible Firmware Interface (UEFI). To perform the installation for UEFI, follow the procedure in \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/preparing-for-a-network-install_rhel-installer#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install\">Configuring a TFTP server for UEFI-based clients\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck status of service \u003Ccode class=\"literal\">tftp\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status tftp\u003C/strong>\u003C/span>\n...\nActive: active (running)\n...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.3. Configuring a DHCP server for diskless clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe remote diskless system requires several pre–installed services to enable correct functionality. First, you need to install the Trivial File Transfer Protocol (TFTP) service, and then configure the Dynamic Host Configuration Protocol (DHCP) server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the following package:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">dhcp-server\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured the \u003Ccode class=\"literal\">tftp\u003C/code> service for diskless clients. See section \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/setting-up-a-remote-diskless-system_managing-storage-devices#configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system\">Configuring a TFTP service for diskless clients\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the configuration to the \u003Ccode class=\"literal\">/etc/dhcp/dhcpd.conf\u003C/code> file to setup a DHCP server and enable Preboot Execution Environment (PXE) for booting:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">option space pxelinux;\noption pxelinux.magic code 208 = string;\noption pxelinux.configfile code 209 = text;\noption pxelinux.pathprefix code 210 = text;\noption pxelinux.reboottime code 211 = unsigned integer 32;\noption architecture-type code 93 = unsigned integer 16;\n\nsubnet 192.168.205.0 netmask 255.255.255.0 {\n  option routers 192.168.205.1;\n  range 192.168.205.10 192.168.205.25;\n\n  class \"pxeclients\" {\n    match if substring (option vendor-class-identifier, 0, 9) = \"PXEClient\";\n    next-server 192.168.205.1;\n\n    if option architecture-type = 00:07 {\n      filename \"BOOTX64.efi\";\n      } else {\n      filename \"pxelinux/pxelinux.0\";\n    }\n  }\n}\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYour DHCP configuration might be different depending on your environment, like setting lease time or fixed address. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_networking_infrastructure_services/providing-dhcp-services_networking-infrastructure-services\">Providing DHCP services\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tWhile using \u003Ccode class=\"literal\">libvirt\u003C/code> virtual machine as a diskless client, the \u003Ccode class=\"literal\">libvirt\u003C/code> daemon provides the DHCP service, and the standalone DHCP server is not used. In this situation, network booting must be enabled with the \u003Ccode class=\"literal\">bootp file=&lt;filename&gt;\u003C/code> option in the \u003Ccode class=\"literal\">libvirt\u003C/code> network configuration, \u003Ccode class=\"literal\">virsh net-edit\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable \u003Ccode class=\"literal\">dhcpd.service\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># systemctl enable --now dhcpd.service\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the status of service \u003Ccode class=\"literal\">dhcpd.service\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status dhcpd.service\u003C/strong>\u003C/span>\n...\nActive: active (running)\n...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.4. Configuring an exported file system for diskless clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAs a part of configuring a remote diskless system in your environment, you must configure an exported file system for diskless clients.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured the \u003Ccode class=\"literal\">tftp\u003C/code> service for diskless clients. See section \u003Ca class=\"link\" href=\"#configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system\" title=\"15.2. Configuring a TFTP service for diskless clients\">Configuring a TFTP service for diskless clients\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured the Dynamic Host Configuration Protocol (DHCP) server. See section \u003Ca class=\"link\" href=\"#configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system\" title=\"15.3. Configuring a DHCP server for diskless clients\">Configuring a DHCP server for diskless clients\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the Network File System (NFS) server to export the root directory by adding it to the \u003Ccode class=\"literal\">/etc/exports\u003C/code> directory. For the complete set of instructions see\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_using_network_file_services/deploying-an-nfs-server_configuring-and-using-network-file-services\">Deploying an NFS server\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall a complete version of Red Hat Enterprise Linux to the root directory to accommodate completely diskless clients. To do that you can either install a new base system or clone an existing installation.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall Red Hat Enterprise Linux to the exported location by replacing exported-root-directory with the path to the exported file system:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install @Base kernel dracut-network nfs-utils --installroot=\u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span> --releasever=/\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tBy setting the \u003Ccode class=\"literal\">releasever\u003C/code> option to \u003Ccode class=\"literal\">/\u003C/code>, releasever is detected from the host (\u003Ccode class=\"literal\">/\u003C/code>) system.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">rsync\u003C/code> utility to synchronize with a running system:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rsync -a -e ssh --exclude='/proc/' --exclude='/sys/' \u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>:/ \u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span> with the hostname of the running system with which to synchronize via the \u003Ccode class=\"literal\">rsync\u003C/code> utility.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span> with the path to the exported file system.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tNote, that for this option you must have a separate existing running system, which you will clone to the server by the command above.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tYou need to fully configure the file system, that is ready for export, before you can use it with diskless clients. Follow the procedure below to complete the configuration.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Configuring a File System\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy the diskless client supported kernel (\u003Ccode class=\"literal\">vmlinuz-_kernel-version_pass:attributes\u003C/code>) to the \u003Ccode class=\"literal\">tftp\u003C/code> boot directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cp /\u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span>/boot/vmlinuz-kernel-version /var/lib/tftpboot/pxelinux/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">initramfs-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>.img\u003C/code> file locally and move it to the exported root directory with NFS support:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dracut --add nfs initramfs-kernel-version.img kernel-version\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dracut --add nfs \u003Cspan class=\"emphasis\">\u003Cem>/exports/root/boot/initramfs-5.14.0-202.el9.x86_64.img 5.14.0-202.el9.x86_64\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExample for creating initrd, using current running kernel version, and overwriting existing image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dracut -f --add nfs \"boot/initramfs-$(uname -r).img\" \"$(uname -r)\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tChange the file permissions for \u003Ccode class=\"literal\">initrd\u003C/code> to \u003Ccode class=\"literal\">0644\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 0644 /\u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span>/boot/initramfs-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>.img\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you do not change the \u003Ccode class=\"literal\">initrd\u003C/code> file permissions, the \u003Ccode class=\"literal\">pxelinux.0\u003C/code> boot loader fails with a \"file not found\" error.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy the resulting \u003Ccode class=\"literal\">initramfs-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>.img\u003C/code> file into the \u003Ccode class=\"literal\">tftp\u003C/code> boot directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cp /\u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span>/boot/initramfs-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>.img /var/lib/tftpboot/pxelinux/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the following configuration in the \u003Ccode class=\"literal\">/var/lib/tftpboot/pxelinux/pxelinux.cfg/default\u003C/code> file to edit the default boot configuration for using the \u003Ccode class=\"literal\">initrd\u003C/code> and the kernel:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">default rhel9\n\nlabel rhel9\n  kernel vmlinuz-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>\n  append initrd=initramfs-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>.img root=nfs:_server-ip_:/\u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span> rw\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThis configuration instructs the diskless client root to mount the exported file system (\u003Ccode class=\"literal\">/exported-root-directory\u003C/code>) in a read/write format.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Mount the file system in a \u003Cspan class=\"emphasis\">\u003Cem>read-only\u003C/em>\u003C/span> format by editing the \u003Ccode class=\"literal\">/var/lib/tftpboot/pxelinux/pxelinux.cfg/default\u003C/code> file with the following configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">default rhel9\n\nlabel rhel9\n  kernel vmlinuz-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>\n  append initrd=initramfs-\u003Cspan class=\"emphasis\">\u003Cem>kernel-version\u003C/em>\u003C/span>.img root=nfs:\u003Cspan class=\"emphasis\">\u003Cem>server-ip\u003C/em>\u003C/span>:/\u003Cspan class=\"emphasis\">\u003Cem>exported-root-directory\u003C/em>\u003C/span> ro\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the NFS server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart nfs-server.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tYou can now export the NFS share to diskless clients. These clients can boot over the network via Preboot Execution Environment (PXE).\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"re-configuring-a-remote-diskless-system_setting-up-a-remote-diskless-system\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.5. Re-configuring a remote diskless system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you want to install package updates, service restart, or debug the issues, you can reconfigure the system. The steps below show how to change the password for a user, how to install software on a system, describe how to split a system into a \u003Cspan class=\"strong strong\">\u003Cstrong>/usr\u003C/strong>\u003C/span> that is in read-only mode and a \u003Cspan class=\"strong strong\">\u003Cstrong>/var\u003C/strong>\u003C/span> that is in read-write mode.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have enabled the \u003Ccode class=\"literal\">no_root_squash\u003C/code> option in the exported file system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo change the user password, follow the steps below:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tChange the command line to \u003Cspan class=\"emphasis\">\u003Cem>/exported/root/directory\u003C/em>\u003C/span>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># chroot \u003Cspan class=\"emphasis\">\u003Cem>/exported/root/directory\u003C/em>\u003C/span> /bin/bash\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tChange the password for the user you want:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># passwd \u003Cspan class=\"emphasis\">\u003Cem>&lt;username&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tReplace the \u003Cspan class=\"emphasis\">\u003Cem>&lt;username&gt;\u003C/em>\u003C/span> with a real user to whom you want to change the password.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tExit the command line.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall software on a remote diskless system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install \u003Cspan class=\"emphasis\">\u003Cem>&lt;package&gt;\u003C/em>\u003C/span> --installroot=\u003Cspan class=\"emphasis\">\u003Cem>/exported/root/directory\u003C/em>\u003C/span> --releasever=/ --config /etc/dnf/dnf.conf --setopt=reposdir=/etc/yum.repos.d/\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>&lt;package&gt;\u003C/em>\u003C/span> with the actual package you want to install.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure two separate exports to split a remote diskless system into a \u003Cspan class=\"strong strong\">\u003Cstrong>/usr\u003C/strong>\u003C/span> and a \u003Cspan class=\"strong strong\">\u003Cstrong>/var\u003C/strong>\u003C/span>. See\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_using_network_file_services/deploying-an-nfs-server_configuring-and-using-network-file-services\">Deploying an NFS server\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"troubleshooting-common-issues-with-loading-a-remote-diskless-system_setting-up-a-remote-diskless-system\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.6. Troubleshooting common issues with loading a remote diskless system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tBased on the earlier configuration, some issues can occur while loading the remote diskless system. Following are some examples of the most common issues and ways to troubleshoot them on a Red Hat Enterprise Linux server.\n\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140664179208320\">\u003Cp class=\"title\">\u003Cstrong>Example 15.1. The client does not get an IP address\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck if the Dynamic Host Configuration Protocol (DHCP) service is enabled on the server.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCheck if the \u003Ccode class=\"literal\">dhcp.service\u003C/code> is running:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status dhcpd.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">dhcp.service\u003C/code> is inactive, you must enable and start it:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable dhcpd.service\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl start dhcpd.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tReboot the diskless client.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCheck the DHCP configuration file \u003Ccode class=\"literal\">/etc/dhcp/dhcpd.conf\u003C/code>. For details, see \u003Ca class=\"link\" href=\"#configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system\" title=\"15.3. Configuring a DHCP server for diskless clients\">Configuring a DHCP server for diskless clients\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck if the Firewall ports are opened.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCheck if the \u003Ccode class=\"literal\">dhcp.service\u003C/code> is listed in active services:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --info-zone=public\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">dhcp.service\u003C/code> is not listed in active services, add it to the list:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-service=dhcp --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCheck if the \u003Ccode class=\"literal\">nfs.service\u003C/code> is listed in active services:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --info-zone=public\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">nfs.service\u003C/code> is not listed in active services, add it to the list:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-service=nfs --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"example\" id=\"idm140664217294960\">\u003Cp class=\"title\">\u003Cstrong>Example 15.2. The file is not available during the booting a remote diskless system\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCheck if the file is in the \u003Ccode class=\"literal\">/var/lib/tftpboot/\u003C/code> directory.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf the file is in the directory, check the permission:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 644 pxelinux.0\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCheck if the Firewall ports are opened.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"example\" id=\"idm140664217288304\">\u003Cp class=\"title\">\u003Cstrong>Example 15.3. System boot failed after loading \u003Ccode class=\"literal\">kernel\u003C/code>/\u003Ccode class=\"literal\">initrd\u003C/code>\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck if the NFS service is enabled on a server.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCheck if \u003Ccode class=\"literal\">nfs.service\u003C/code> is running:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status nfs.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">nfs.service\u003C/code> is inactive, you must start and enable it:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl start nfs.service\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable nfs.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCheck if the parameters are correct in the \u003Ccode class=\"literal\">/var/lib/tftpboot/pxelinux.cfg/\u003C/code> directory. For details, see \u003Ca class=\"link\" href=\"#configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system\" title=\"15.4. Configuring an exported file system for diskless clients\">Configuring an exported file system for diskless clients\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCheck if the Firewall ports are opened.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/div>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"getting-started-with-swap_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 16. Getting started with swap\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tUse the swap space to provide temporary storage for inactive processes and data, and prevent out-of-memory errors when physical memory is full. The swap space acts as an extension to the physical memory and allows the system to continue running smoothly even when physical memory is exhausted. Note that using swap space can slow down system performance, so optimizing the use of physical memory, before relying on swap space, can be more favorable.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"overview-of-swap-space_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.1. Overview of swap space\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Swap space\u003C/em>\u003C/span> in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tSwap space is located on hard drives, which have a slower access time than physical memory. Swap space can be a dedicated swap partition (recommended), a swap file, or a combination of swap partitions and swap files.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn years past, the recommended amount of swap space increased linearly with the amount of RAM in the system. However, modern systems often include hundreds of gigabytes of RAM. As a consequence, recommended swap space is considered a function of system memory workload, not system memory.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Adding swap space\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe following are the different ways to add a swap space:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap\">Extending swap on an LVM2 logical volume\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap\">Creating an LVM2 logical volume for swap\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#creating-a-swap-file_getting-started-with-swap\">Creating a swap file\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_creating-a-partition-with-parted_getting-started-with-partitions\">Creating a partition with parted\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor example, you may upgrade the amount of RAM in your system from 1 GB to 2 GB, but there is only 2 GB of swap space. It might be advantageous to increase the amount of swap space to 4 GB if you perform memory-intense operations or run applications that require a large amount of memory.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Removing swap space\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe following are the different ways to remove a swap space:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap\">Reducing swap on an LVM2 logical volume\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap\">Removing an LVM2 logical volume for swap\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#removing-a-swap-file_getting-started-with-swap\">Removing a swap file\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_removing-a-partition-with-parted_getting-started-with-partitions\">Removing a partition with parted\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor example, you have downgraded the amount of RAM in your system from 1 GB to 512 MB, but there is 2 GB of swap space still assigned. It might be advantageous to reduce the amount of swap space to 1 GB, since the larger 2 GB could be wasting disk space.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"recommended-system-swap-space_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.2. Recommended system swap space\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe recommended size of a swap partition depends on the amount of RAM in your system and whether you want sufficient memory for your system to hibernate. The recommended swap partition size is set automatically during installation. To allow for hibernation, however, you need to edit the swap space in the custom partitioning stage.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following recommendations are especially important on systems with low memory, such as 1 GB or less. Failure to allocate sufficient swap space on these systems can cause issues, such as instability or even render the installed system unbootable.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140664181717664\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 16.1. Recommended swap space\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664179542080\" scope=\"col\">Amount of RAM in the system\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664179540976\" scope=\"col\">Recommended swap space\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664179539888\" scope=\"col\">Recommended swap space if allowing for hibernation\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179542080\"> \u003Cp>\n\t\t\t\t\t\t\t\t⩽ 2 GB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179540976\"> \u003Cp>\n\t\t\t\t\t\t\t\t2 times the amount of RAM\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179539888\"> \u003Cp>\n\t\t\t\t\t\t\t\t3 times the amount of RAM\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179542080\"> \u003Cp>\n\t\t\t\t\t\t\t\t&gt; 2 GB – 8 GB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179540976\"> \u003Cp>\n\t\t\t\t\t\t\t\tEqual to the amount of RAM\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179539888\"> \u003Cp>\n\t\t\t\t\t\t\t\t2 times the amount of RAM\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179542080\"> \u003Cp>\n\t\t\t\t\t\t\t\t&gt; 8 GB – 64 GB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179540976\"> \u003Cp>\n\t\t\t\t\t\t\t\tAt least 4 GB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179539888\"> \u003Cp>\n\t\t\t\t\t\t\t\t1.5 times the amount of RAM\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179542080\"> \u003Cp>\n\t\t\t\t\t\t\t\t&gt; 64 GB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179540976\"> \u003Cp>\n\t\t\t\t\t\t\t\tAt least 4 GB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664179539888\"> \u003Cp>\n\t\t\t\t\t\t\t\tHibernation not recommended\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp>\n\t\t\t\tFor border values such as 2 GB, 8 GB, or 64 GB of system RAM, choose swap size based on your needs or preference. If your system resources allow for it, increasing the swap space can lead to better performance.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tNote that distributing swap space over multiple storage devices also improves swap space performance, particularly on systems with fast drives, controllers, and interfaces.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tFile systems and LVM2 volumes assigned as swap space \u003Cspan class=\"emphasis\">\u003Cem>should not\u003C/em>\u003C/span> be in use when being modified. Any attempts to modify swap fail if a system process or the kernel is using swap space. Use the \u003Ccode class=\"literal\">free\u003C/code> and \u003Ccode class=\"literal\">cat /proc/swaps\u003C/code> commands to verify how much and where swap is in use.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tResizing swap space requires temporarily removing it from the system. This can be problematic if running applications rely on the additional swap space and might run into low-memory situations. Preferably, perform swap resizing from rescue mode, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer/kickstart-and-advanced-boot-options_boot-options-for-rhel-installer#debug-boot-options_kickstart-and-advanced-boot-options\">Debug boot options\u003C/a>. When prompted to mount the file system, select \u003Cspan class=\"guibutton\">Skip\u003C/span>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.3. Creating an LVM2 logical volume for swap\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create an LVM2 logical volume for swap. Assuming \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span> is the swap volume you want to add.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have enough disk space.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the LVM2 logical volume of size \u003Cspan class=\"emphasis\">\u003Cem>2 GB\u003C/em>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># lvcreate \u003Cspan class=\"emphasis\">\u003Cem>VolGroup00\u003C/em>\u003C/span> -n \u003Cspan class=\"emphasis\">\u003Cem>LogVol02\u003C/em>\u003C/span> -L \u003Cspan class=\"emphasis\">\u003Cem>2G\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFormat the new swap space:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkswap \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the following entry to the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span> none swap defaults 0 0\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate mount units so that your system registers the new configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl daemon-reload\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tActivate swap on the logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapon -v \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo test if the swap logical volume was successfully created and activated, inspect active swap space by using the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># cat /proc/swaps\n               total        used        free      shared  buff/cache   available\nMem:            30Gi       1.2Gi        28Gi        12Mi       994Mi        28Gi\nSwap:           22Gi          0B        22Gi\u003C/pre>\u003Cpre class=\"screen\"># free -h\n               total        used        free      shared  buff/cache   available\nMem:            30Gi       1.2Gi        28Gi        12Mi       995Mi        28Gi\nSwap:           17Gi          0B        17Gi\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-swap-file_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.4. Creating a swap file\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create a swap file to create a temporary storage space on a solid-state drive or hard disk when the system runs low on memory.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have enough disk space.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDetermine the size of the new swap file in megabytes and multiply by 1024 to determine the number of blocks. For example, the block size of a 64 MB swap file is 65536.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate an empty file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dd if=/dev/zero of=/swapfile bs=1024 count=\u003Cspan class=\"emphasis\">\u003Cem>65536\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>65536\u003C/em>\u003C/span> with the value equal to the required block size.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet up the swap file with the command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkswap /swapfile\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tChange the security of the swap file so it is not world readable.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># chmod 0600 /swapfile\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file with the following entries to enable the swap file at boot time:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/swapfile none swap defaults 0 0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe next time the system boots, it activates the new swap file.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate mount units so that your system registers the new \u003Ccode class=\"literal\">/etc/fstab\u003C/code> configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl daemon-reload\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tActivate the swap file immediately:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapon /swapfile\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo test if the new swap file was successfully created and activated, inspect active swap space by using the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /proc/swaps\n$ free -h\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.5. Extending swap on an LVM2 logical volume\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can extend swap space on an existing LVM2 logical volume. Assuming \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span> is the volume you want to extend by \u003Cspan class=\"emphasis\">\u003Cem>2 GB\u003C/em>\u003C/span>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have sufficient disk space.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable swapping for the associated logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapoff -v \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tResize the LVM2 logical volume by \u003Cspan class=\"emphasis\">\u003Cem>2 GB\u003C/em>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># lvresize \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span> -L \u003Cspan class=\"emphasis\">\u003Cem>+2G\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFormat the new swap space:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkswap \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable the extended logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapon -v \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo test if the swap logical volume was successfully extended and activated, inspect active swap space:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># cat /proc/swaps\nFilename                Type        Size        Used        Priority\n/dev/dm-1          partition    16322556           0              -2\n/dev/dm-4          partition     7340028           0              -3\u003C/pre>\u003Cpre class=\"screen\"># free -h\n               total        used        free      shared  buff/cache   available\nMem:            30Gi       1.2Gi        28Gi        12Mi       994Mi        28Gi\nSwap:           22Gi          0B        22Gi\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.6. Reducing swap on an LVM2 logical volume\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can reduce swap on an LVM2 logical volume. Assuming \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span> is the volume you want to reduce.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable swapping for the associated logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapoff -v \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClean the swap signature:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># wipefs -a \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReduce the LVM2 logical volume by 512 MB:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># lvreduce \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span> -L \u003Cspan class=\"emphasis\">\u003Cem>-512M\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFormat the new swap space:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkswap \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tActivate swap on the logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapon -v \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol01\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo test if the swap logical volume was successfully reduced, inspect active swap space by using the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /proc/swaps\n$ free -h\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.7. Removing an LVM2 logical volume for swap\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can remove an LVM2 logical volume for swap. Assuming \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span> is the swap volume you want to remove.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable swapping for the associated logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapoff -v \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the LVM2 logical volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># lvremove \u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the following associated entry from the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>/dev/VolGroup00/LogVol02\u003C/em>\u003C/span> none swap defaults 0 0\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate mount units to register the new configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl daemon-reload\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTest if the logical volume was successfully removed, inspect active swap space by using the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /proc/swaps\n$ free -h\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-swap-file_getting-started-with-swap\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.8. Removing a swap file\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can remove a swap file.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable the \u003Ccode class=\"literal\">/swapfile\u003C/code> swap file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># swapoff -v /swapfile\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRemove its entry from the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file accordingly.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate mount units so that your system registers the new configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl daemon-reload\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the actual file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rm /swapfile\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-fibre-channel-over-ethernet_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 17. Configuring Fibre Channel over Ethernet\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tBased on the IEEE T11 FC-BB-5 standard, Fibre Channel over Ethernet (FCoE) is a protocol to transmit Fibre Channel frames over Ethernet networks. Typically, data centers have a dedicated LAN and Storage Area Network (SAN) that are separated from each other with their own specific configuration. FCoE combines these networks into a single and converged network structure. Benefits of FCoE are, for example, lower hardware and energy costs.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"using-hardware-fcoe-hbas-in-rhel_configuring-fibre-channel-over-ethernet\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">17.1. Using hardware FCoE HBAs in RHEL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIn RHEL you can use hardware Fibre Channel over Ethernet (FCoE) Host Bus Adapter (HBA), which is supported by the following drivers:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">qedf\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">bnx2fc\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">fnic\u003C/code>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIf you use such a HBA, you configure the FCoE settings in the setup of the HBA. For more information, see the documentation of the adapter.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAfter you configure the HBA, the exported Logical Unit Numbers (LUN) from the Storage Area Network (SAN) are automatically available to RHEL as \u003Ccode class=\"literal\">/dev/sd*\u003C/code> devices. You can use these devices similar to local storage devices.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-a-software-fcoe-device_configuring-fibre-channel-over-ethernet\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">17.2. Setting up a software FCoE device\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse the software FCoE device to access Logical Unit Numbers (LUN) over FCoE, which uses using an Ethernet adapter that partially supports FCoE offload.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRHEL does not support software FCoE devices that require the \u003Ccode class=\"literal\">fcoe.ko\u003C/code> kernel module.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tAfter you complete this procedure, the exported LUNs from the Storage Area Network (SAN) are automatically available to RHEL as \u003Ccode class=\"literal\">/dev/sd*\u003C/code> devices. You can use these devices in a similar way to local storage devices.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured the network switch to support VLAN.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe SAN uses a VLAN to separate the storage traffic from normal Ethernet traffic.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured the HBA of the server in its BIOS.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe HBA is connected to the network and the link is up. For more information, see the documentation of your HBA.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">fcoe-utils\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># dnf install fcoe-utils\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy the \u003Ccode class=\"literal\">/etc/fcoe/cfg-ethx\u003C/code> template file to \u003Ccode class=\"literal\">/etc/fcoe/cfg-\u003Cspan class=\"emphasis\">\u003Cem>interface_name\u003C/em>\u003C/span>\u003C/code>. For example, if you want to configure the \u003Ccode class=\"literal\">enp1s0\u003C/code> interface to use FCoE, enter the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># cp /etc/fcoe/cfg-ethx /etc/fcoe/cfg-\u003Cspan class=\"emphasis\">\u003Cem>enp1s0\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">fcoe\u003C/code> service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># systemctl enable --now fcoe\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDiscover the FCoE VLAN on interface \u003Ccode class=\"literal\">enp1s0\u003C/code>, create a network device for the discovered VLAN, and start the initiator:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># fipvlan -s -c enp1s0\nCreated VLAN device enp1s0.200\nStarting FCoE on interface enp1s0.200\nFibre Channel Forwarders Discovered\ninterface       | VLAN | FCF MAC\n------------------------------------------\nenp1s0          | 200  | 00:53:00:a7:e7:1b\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Display details about the discovered targets, the LUNs, and the devices associated with the LUNs:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># fcoeadm -t\nInterface:        enp1s0.200\nRoles:            FCP Target\nNode Name:        0x500a0980824acd15\nPort Name:        0x500a0982824acd15\nTarget ID:        0\nMaxFrameSize:     2048 bytes\nOS Device Name:   rport-11:0-1\nFC-ID (Port ID):  0xba00a0\nState:            Online\n\nLUN ID  Device Name   Capacity   Block Size  Description\n------  -----------  ----------  ----------  ---------------------\n     0  sdb           28.38 GiB      512     NETAPP LUN (rev 820a)\n     ...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis example shows that LUN 0 from the SAN has been attached to the host as the \u003Ccode class=\"literal\">/dev/sdb\u003C/code> device.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisplay information about all active FCoE interfaces:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># fcoeadm -i\nDescription:      BCM57840 NetXtreme II 10 Gigabit Ethernet\nRevision:         11\nManufacturer:     Broadcom Inc. and subsidiaries\nSerial Number:    000AG703A9B7\n\nDriver:           bnx2x Unknown\nNumber of Ports:  1\n\n    Symbolic Name:     bnx2fc (QLogic BCM57840) v2.12.13 over enp1s0.200\n    OS Device Name:    host11\n    Node Name:         0x2000000af70ae935\n    Port Name:         0x2001000af70ae935\n    Fabric Name:       0x20c8002a6aa7e701\n    Speed:             10 Gbit\n    Supported Speed:   1 Gbit, 10 Gbit\n    MaxFrameSize:      2048 bytes\n    FC-ID (Port ID):   0xba02c0\n    State:             Online\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">fcoeadm(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/fcoe-utils/README\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_storage_devices/using-fibre-channel-devices_managing-storage-devices\">Using Fibre Channel devices\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-tape-devices_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 18. Managing tape devices\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tA tape device is a magnetic tape where data is stored and accessed sequentially. Data is written to this tape device with the help of a tape drive. There is no need to create a file system in order to store data on a tape device. Tape drives can be connected to a host computer with various interfaces like, SCSI, FC, USB, SATA, and other interfaces.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"types-of-tape-devices_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.1. Types of tape devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following is a list of the different types of tape devices:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/dev/st0\u003C/code> is a rewinding tape device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/dev/nst0\u003C/code> is a non-rewinding tape device. Use non-rewinding devices for daily backups.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThere are several advantages to using tape devices. They are cost efficient and stable. Tape devices are also resilient against data corruption and are suitable for data retention.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"installing-tape-drive-management-tool_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.2. Installing tape drive management tool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUse the \u003Ccode class=\"literal\">mt\u003C/code> command to wind the data back and forth. The \u003Ccode class=\"literal\">mt\u003C/code> utility controls magnetic tape drive operations and the \u003Ccode class=\"literal\">st\u003C/code> utility is used for SCSI tape driver. This procedure describes how to install the \u003Ccode class=\"literal\">mt-st\u003C/code> package for tape drive operations.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">mt-st\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install mt-st\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mt(1)\u003C/code> and \u003Ccode class=\"literal\">st(4)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"writing-to-rewinding-tape-devices_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.3. Writing to rewinding tape devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tA rewind tape device rewinds the tape after every operation. To back up data, you can use the \u003Ccode class=\"literal\">tar\u003C/code> command. By default, in tape devices the \u003Ccode class=\"literal\">block size\u003C/code> is 10KB (\u003Ccode class=\"literal\">bs=10k\u003C/code>). You can set the \u003Ccode class=\"literal\">TAPE\u003C/code> environment variable using the \u003Ccode class=\"literal\">export TAPE=\u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span>\u003C/code> attribute. Use the \u003Ccode class=\"literal\">-f\u003C/code> device option instead, to specify the tape device file. This option is useful when you use more than one tape device.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the \u003Ccode class=\"literal\">mt-st\u003C/code> package. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-tape-devices_managing-storage-devices#installing-tape-drive-management-tool_managing-tape-devices\">Installing tape drive management tool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad the tape drive:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span> load\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the tape head:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span> status\n\nSCSI 2 tape drive:\nFile number=-1, block number=-1, partition=0.\nTape block size 0 bytes. Density code 0x0 (default).\nSoft error count since last status=0\nGeneral status bits on (50000):\n DR_OPEN IM_REP_EN\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tthe current \u003Ccode class=\"literal\">file number\u003C/code> is -1.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tthe \u003Ccode class=\"literal\">block number\u003C/code> defines the tape head. By default, it is set to -1.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tthe \u003Ccode class=\"literal\">block size\u003C/code> 0 indicates that the tape device does not have a fixed block size.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tthe \u003Ccode class=\"literal\">Soft error count\u003C/code> indicates the number of encountered errors after executing the mt status command.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tthe \u003Ccode class=\"literal\">General status bits\u003C/code> explains the stats of the tape device.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">DR_OPEN\u003C/code> indicates that the door is open and the tape device is empty. \u003Ccode class=\"literal\">IM_REP_EN\u003C/code> is the immediate report mode.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the tape device is not empty, overwrite it:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -czf \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0 _/source/directory\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis command overwrites the data on a tape device with the content of \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBack up the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>\u003C/code> to the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -czf \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0 _/source/directory\u003C/em>\u003C/span>\ntar: Removing leading `/' from member names\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/man_db.conf\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/DIR_COLORS\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/rsyslog.conf\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the status of the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span>  status\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the list of all files on the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -tzf \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/man_db.conf\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/DIR_COLORS\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/rsyslog.conf\n[...]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mt(1)\u003C/code>, \u003Ccode class=\"literal\">st(4)\u003C/code>, and \u003Ccode class=\"literal\">tar(1)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/4630931\">Tape drive media detected as write protected\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/45955\">How to check if tape drives are detected in the system\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"writing-to-non-rewinding-tape-devices_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.4. Writing to non-rewinding tape devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tA non-rewinding tape device leaves the tape in its current status, after completing the execution of a certain command. For example, after a backup, you could append more data to a non-rewinding tape device. You can also use it to avoid any unexpected rewinds.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the \u003Ccode class=\"literal\">mt-st\u003C/code> package. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-tape-devices_managing-storage-devices#installing-tape-drive-management-tool_managing-tape-devices\">Installing tape drive management tool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad the tape drive:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> load\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the tape head of the non-rewinding tape device \u003Ccode class=\"literal\">/dev/nst0\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f /dev/nst0 status\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSpecify the pointer at the head or at the end of the tape:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f /dev/nst0 rewind\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAppend the data on the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f /dev/nst0 eod\n# tar -czf /dev/nst0 \u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBack up the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\u003C/code> to the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -czf /dev/nst0 \u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\ntar: Removing leading `/' from member names\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/man_db.conf\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/DIR_COLORS\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/rsyslog.conf\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the status of the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f /dev/nst0  status\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the list of all files on the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -tzf \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/man_db.conf\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/DIR_COLORS\n\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/rsyslog.conf\n[...]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mt(1)\u003C/code>, \u003Ccode class=\"literal\">st(4)\u003C/code>, and \u003Ccode class=\"literal\">tar(1)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/4630931\">Tape drive media detected as write protected\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/45955\">How to check if tape drives are detected in the system\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"switching-tape-head-in-tape-devices_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.5. Switching tape head in tape devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUse the following procedure to switch the tape head in the tape device.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the \u003Ccode class=\"literal\">mt-st\u003C/code> package. For more information, see \u003Ca class=\"link\" href=\"#installing-tape-drive-management-tool_managing-tape-devices\" title=\"18.2. Installing tape drive management tool\">Installing tape drive management tool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tData is written to the tape device. Fore more information, see \u003Ca class=\"link\" href=\"#writing-to-rewinding-tape-devices_managing-tape-devices\" title=\"18.3. Writing to rewinding tape devices\">Writing to rewinding tape devices\u003C/a> or \u003Ca class=\"link\" href=\"#writing-to-non-rewinding-tape-devices_managing-tape-devices\" title=\"18.4. Writing to non-rewinding tape devices\">Writing to non-rewinding tape devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo view the current position of the tape pointer:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> tell\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo switch the tape head, while appending the data to the tape devices:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> eod\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo go to the previous record:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> bsfm 1\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo go to the forward record:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> fsf 1\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mt(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"restoring-data-from-tape-devices_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.6. Restoring data from tape devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo restore data from a tape device, use the \u003Ccode class=\"literal\">tar\u003C/code> command.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the \u003Ccode class=\"literal\">mt-st\u003C/code> package. For more information, see \u003Ca class=\"link\" href=\"#installing-tape-drive-management-tool_managing-tape-devices\" title=\"18.2. Installing tape drive management tool\">Installing tape drive management tool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tData is written to the tape device. For more information, see \u003Ca class=\"link\" href=\"#writing-to-rewinding-tape-devices_managing-tape-devices\" title=\"18.3. Writing to rewinding tape devices\">Writing to rewinding tape devices\u003C/a> or \u003Ca class=\"link\" href=\"#writing-to-non-rewinding-tape-devices_managing-tape-devices\" title=\"18.4. Writing to non-rewinding tape devices\">Writing to non-rewinding tape devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor rewinding tape devices \u003Ccode class=\"literal\">/dev/st0\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRestore the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -xzf \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor non-rewinding tape devices \u003Ccode class=\"literal\">/dev/nst0\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRewind the tape device:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> rewind\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRestore the \u003Ccode class=\"literal\">etc\u003C/code> directory:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># tar -xzf \u003Cspan class=\"emphasis\">\u003Cem>/dev/nst0\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>/source/directory\u003C/em>\u003C/span>/\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mt(1)\u003C/code> and \u003Ccode class=\"literal\">tar(1)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"erasing-data-from-tape-devices_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.7. Erasing data from tape devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo erase data from a tape device, use the \u003Ccode class=\"literal\">erase\u003C/code> option.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed the \u003Ccode class=\"literal\">mt-st\u003C/code> package. For more information, see \u003Ca class=\"link\" href=\"#installing-tape-drive-management-tool_managing-tape-devices\" title=\"18.2. Installing tape drive management tool\">Installing tape drive management tool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tData is written to the tape device. For more information, see \u003Ca class=\"link\" href=\"#writing-to-rewinding-tape-devices_managing-tape-devices\" title=\"18.3. Writing to rewinding tape devices\">Writing to rewinding tape devices\u003C/a> or \u003Ca class=\"link\" href=\"#writing-to-non-rewinding-tape-devices_managing-tape-devices\" title=\"18.4. Writing to non-rewinding tape devices\">Writing to non-rewinding tape devices\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tErase data from the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span> erase\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnload the tape device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">mt -f \u003Cspan class=\"emphasis\">\u003Cem>/dev/st0\u003C/em>\u003C/span> offline\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mt(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"tape-commands_managing-tape-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">18.8. Tape commands\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following are the common \u003Ccode class=\"literal\">mt\u003C/code> commands:\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140664180109232\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 18.1. mt commands\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664180104400\" scope=\"col\">Command\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664180103312\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180104400\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mt -f /dev/\u003Cspan class=\"emphasis\">\u003Cem>st0\u003C/em>\u003C/span> status\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180103312\"> \u003Cp>\n\t\t\t\t\t\t\t\tDisplays the status of the tape device.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180104400\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mt -f /dev/\u003Cspan class=\"emphasis\">\u003Cem>st0\u003C/em>\u003C/span> erase\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180103312\"> \u003Cp>\n\t\t\t\t\t\t\t\tErases the entire tape.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180104400\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mt -f /dev/\u003Cspan class=\"emphasis\">\u003Cem>nst0\u003C/em>\u003C/span> rewind\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180103312\"> \u003Cp>\n\t\t\t\t\t\t\t\tRewinds the tape device.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180104400\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mt -f /dev/\u003Cspan class=\"emphasis\">\u003Cem>nst0\u003C/em>\u003C/span> fsf \u003Cspan class=\"emphasis\">\u003Cem>n\u003C/em>\u003C/span>\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180103312\"> \u003Cp>\n\t\t\t\t\t\t\t\tSwitches the tape head to the forward record. Here, \u003Cspan class=\"emphasis\">\u003Cem>n\u003C/em>\u003C/span> is an optional file count. If a file count is specified, tape head skips \u003Cspan class=\"emphasis\">\u003Cem>n\u003C/em>\u003C/span> records.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180104400\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mt -f /dev/\u003Cspan class=\"emphasis\">\u003Cem>nst0\u003C/em>\u003C/span> bsfm \u003Cspan class=\"emphasis\">\u003Cem>n\u003C/em>\u003C/span>\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180103312\"> \u003Cp>\n\t\t\t\t\t\t\t\tSwitches the tape head to the previous record.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180104400\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mt -f /dev/\u003Cspan class=\"emphasis\">\u003Cem>nst0\u003C/em>\u003C/span> eod\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664180103312\"> \u003Cp>\n\t\t\t\t\t\t\t\tSwitches the tape head to the end of the data.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-raid_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 19. Managing RAID\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can use a Redundant Array of Independent Disks (RAID) to store data across multiple drives. It can help to avoid data loss if a drive has failed.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"overview-of-raid_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.1. Overview of RAID\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn a RAID, multiple devices, such as HDD, SSD, or NVMe are combined into an array to accomplish performance or redundancy goals not achievable with one large and expensive drive. This array of devices appears to the computer as a single logical storage unit or drive.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRAID supports various configurations, including levels 0, 1, 4, 5, 6, 10, and linear. RAID uses techniques such as disk striping (RAID Level 0), disk mirroring (RAID Level 1), and disk striping with parity (RAID Levels 4, 5 and 6) to achieve redundancy, lower latency, increased bandwidth, and maximized ability to recover from hard disk crashes.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRAID distributes data across each device in the array by breaking it down into consistently-sized chunks, commonly 256 KB or 512 KB, although other values are acceptable. It writes these chunks to a hard drive in the RAID array according to the RAID level employed. While reading the data, the process is reversed, giving the illusion that the multiple devices in the array are actually one large drive.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRAID technology is beneficial for those who manage large amounts of data. The following are the primary reasons to deploy RAID:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIt enhances speed\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIt increases storage capacity using a single virtual disk\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIt minimizes data loss from disk failure\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe RAID layout and level online conversion\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"raid-types_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.2. RAID types\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following are the possible types of RAID:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Firmware RAID\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFirmware RAID, also known as ATARAID, is a type of software RAID where the RAID sets can be configured using a firmware-based menu. The firmware used by this type of RAID also hooks into the BIOS, allowing you to boot from its RAID sets. Different vendors use different on-disk metadata formats to mark the RAID set members. The Intel Matrix RAID is an example of a firmware RAID system.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Hardware RAID\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA hardware-based array manages the RAID subsystem independently from the host. It might present multiple devices per RAID array to the host.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tHardware RAID devices might be internal or external to the system. Internal devices commonly consists of a specialized controller card that handles the RAID tasks transparently to the operating system. External devices commonly connect to the system via SCSI, Fibre Channel, iSCSI, InfiniBand, or other high speed network interconnect and present volumes such as logical units to the system.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRAID controller cards function like a SCSI controller to the operating system and handle all the actual drive communications. You can plug the drives into the RAID controller similar to a normal SCSI controller and then add them to the RAID controller’s configuration. The operating system will not be able to tell the difference.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Software RAID\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA software RAID implements the various RAID levels in the kernel block device code. It offers the cheapest possible solution because expensive disk controller cards or hot-swap chassis are not required. With hot-swap chassis, you can remove a hard drive without powering off your system. Software RAID also works with any block storage, which are supported by the Linux kernel, such as SATA, SCSI, and NVMe. With today’s faster CPUs, Software RAID also generally outperforms hardware RAID, unless you use high-end storage devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSince the Linux kernel contains a multiple device (MD) driver, the RAID solution becomes completely hardware independent. The performance of a software-based array depends on the server CPU performance and load.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe following are the key features of the Linux software RAID stack:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tMultithreaded design\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tPortability of arrays between Linux machines without reconstruction\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tBackgrounded array reconstruction using idle system resources\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tHot-swap drive support\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAutomatic CPU detection to take advantage of certain CPU features such as streaming Single Instruction Multiple Data (SIMD) support.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAutomatic correction of bad sectors on disks in an array.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRegular consistency checks of RAID data to ensure the health of the array.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tProactive monitoring of arrays with email alerts sent to a designated email address on important events.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWrite-intent bitmaps, which drastically increase the speed of resync events by allowing the kernel to know precisely which portions of a disk need to be resynced instead of having to resync the entire array after a system crash.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThe resync is a process to synchronize the data over the devices in the existing RAID to achieve redundancy.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tResync checkpointing so that if you reboot your computer during a resync, at startup the resync resumes where it left off and not starts all over again.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe ability to change parameters of the array after installation, which is called reshaping. For example, you can grow a 4-disk RAID5 array to a 5-disk RAID5 array when you have a new device to add. This grow operation is done live and does not require you to reinstall on the new array.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tReshaping supports changing the number of devices, the RAID algorithm or size of the RAID array type, such as RAID4, RAID5, RAID6, or RAID10.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tTakeover supports RAID level conversion, such as RAID0 to RAID6.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCluster MD, which is a storage solution for a cluster, provides the redundancy of RAID1 mirroring to the cluster. Currently, only RAID1 is supported.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"raid-levels-and-linear-support_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.3. RAID levels and linear support\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following are the supported configurations by RAID, including levels 0, 1, 4, 5, 6, 10, and linear:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Level 0\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRAID level 0, often called striping, is a performance-oriented striped data mapping technique. This means the data being written to the array is broken down into stripes and written across the member disks of the array, allowing high I/O performance at low inherent cost but provides no redundancy.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRAID level 0 implementations only stripe the data across the member devices up to the size of the smallest device in the array. This means that if you have multiple devices with slightly different sizes, each device gets treated as though it was the same size as the smallest drive. Therefore, the common storage capacity of a level 0 array is the total capacity of all disks. If the member disks have a different size, then the RAID0 uses all the space of those disks using the available zones.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Level 1\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRAID level 1, or mirroring, provides redundancy by writing identical data to each member disk of the array, leaving a mirrored copy on each disk. Mirroring remains popular due to its simplicity and high level of data availability. Level 1 operates with two or more disks, and provides very good data reliability and improves performance for read-intensive applications but at relatively high costs.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRAID level 1 is costly because you write the same information to all of the disks in the array, which provides data reliability, but in a much less space-efficient manner than parity based RAID levels such as level 5. However, this space inefficiency comes with a performance benefit, which is parity-based RAID levels that consume considerably more CPU power in order to generate the parity while RAID level 1 simply writes the same data more than once to the multiple RAID members with very little CPU overhead. As such, RAID level 1 can outperform the parity-based RAID levels on machines where software RAID is employed and CPU resources on the machine are consistently taxed with operations other than RAID activities.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe storage capacity of the level 1 array is equal to the capacity of the smallest mirrored hard disk in a hardware RAID or the smallest mirrored partition in a software RAID. Level 1 redundancy is the highest possible among all RAID types, with the array being able to operate with only a single disk present.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Level 4\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLevel 4 uses parity concentrated on a single disk drive to protect data. Parity information is calculated based on the content of the rest of the member disks in the array. This information can then be used to reconstruct data when one disk in the array fails. The reconstructed data can then be used to satisfy I/O requests to the failed disk before it is replaced and to repopulate the failed disk after it has been replaced.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSince the dedicated parity disk represents an inherent bottleneck on all write transactions to the RAID array, level 4 is seldom used without accompanying technologies such as write-back caching. Or it is used in specific circumstances where the system administrator is intentionally designing the software RAID device with this bottleneck in mind such as an array that has little to no write transactions once the array is populated with data. RAID level 4 is so rarely used that it is not available as an option in Anaconda. However, it could be created manually by the user if needed.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe storage capacity of hardware RAID level 4 is equal to the capacity of the smallest member partition multiplied by the number of partitions minus one. The performance of a RAID level 4 array is always asymmetrical, which means reads outperform writes. This is because write operations consume extra CPU resources and main memory bandwidth when generating parity, and then also consume extra bus bandwidth when writing the actual data to disks because you are not only writing the data, but also the parity. Read operations need only read the data and not the parity unless the array is in a degraded state. As a result, read operations generate less traffic to the drives and across the buses of the computer for the same amount of data transfer under normal operating conditions.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Level 5\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis is the most common type of RAID. By distributing parity across all the member disk drives of an array, RAID level 5 eliminates the write bottleneck inherent in level 4. The only performance bottleneck is the parity calculation process itself. Modern CPUs can calculate parity very fast. However, if you have a large number of disks in a RAID 5 array such that the combined aggregate data transfer speed across all devices is high enough, parity calculation can be a bottleneck.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLevel 5 has asymmetrical performance, and reads substantially outperforming writes. The storage capacity of RAID level 5 is calculated the same way as with level 4.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Level 6\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis is a common level of RAID when data redundancy and preservation, and not performance, are the paramount concerns, but where the space inefficiency of level 1 is not acceptable. Level 6 uses a complex parity scheme to be able to recover from the loss of any two drives in the array. This complex parity scheme creates a significantly higher CPU burden on software RAID devices and also imposes an increased burden during write transactions. As such, level 6 is considerably more asymmetrical in performance than levels 4 and 5.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe total capacity of a RAID level 6 array is calculated similarly to RAID level 5 and 4, except that you must subtract two devices instead of one from the device count for the extra parity storage space.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Level 10\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis RAID level attempts to combine the performance advantages of level 0 with the redundancy of level 1. It also reduces some of the space wasted in level 1 arrays with more than two devices. With level 10, it is possible, for example, to create a 3-drive array configured to store only two copies of each piece of data, which then allows the overall array size to be 1.5 times the size of the smallest devices instead of only equal to the smallest device, similar to a 3-device, level 1 array. This avoids CPU process usage to calculate parity similar to RAID level 6, but it is less space efficient.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe creation of RAID level 10 is not supported during installation. It is possible to create one manually after installation.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Linear RAID\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLinear RAID is a grouping of drives to create a larger virtual drive.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn linear RAID, the chunks are allocated sequentially from one member drive, going to the next drive only when the first is completely filled. This grouping provides no performance benefit, as it is unlikely that any I/O operations split between member drives. Linear RAID also offers no redundancy and decreases reliability. If any one member drive fails, the entire array cannot be used and data can be lost. The capacity is the total of all member disks.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"supported-raid-conversions_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.4. Supported RAID conversions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIt is possible to convert from one RAID level to another. For example, you can convert from RAID5 to RAID10, but not from RAID10 to RAID5. The following table describes the supported RAID conversions:\n\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 30%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664217283200\" scope=\"col\">RAID conversion levels\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664217282112\" scope=\"col\">Conversion steps\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140664217281024\" scope=\"col\">Notes\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 0 to RAID level 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=4 -n3 --add /dev/vdd\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou need to add a disk to the MD array because it require at least 3 disks.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 0 to RAID level 5\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=5 -n3 --add /dev/vdd\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou need to add a disk to the MD array because it require at least 3 disks.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 0 to RAID level 10\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level 10 -n 4 --add /dev/vd[ef]\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou need to add two extra disks to the MD array.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 1 to RAID level 0\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 -l0\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 1 to RAID level 5\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=5\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 4 to RAID level 0\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=0\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 4 to RAID level 5\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=5\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 5 to RAID level 0\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=0\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 5 to RAID level 1\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm -CR /dev/md0 -l5 -n3 /dev/sd[abc] --assume-clean --size 1G\u003C/strong>\u003C/span>\n\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm -D /dev/md0 | grep Level\u003C/strong>\u003C/span>\n\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --array-size 1048576\u003C/strong>\u003C/span>\n\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow -n 2 /dev/md0 --backup=internal\u003C/strong>\u003C/span>\n\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow -l1 /dev/md0\u003C/strong>\u003C/span>\n\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm -D /dev/md0 | grep Level\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 5 to RAID level 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=4\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 5 to RAID level 6\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=6 --add /dev/vde\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 5 to RAID level 10\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=0 # mdadm --grow /dev/md0 --level=10 --add /dev/vde /dev/vdf\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003Cp>\n\t\t\t\t\t\t\t\tConverting RAID level 5 to RAID level 10 is a two step conversion:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tConvert to RAID level 0\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAdd two additional disks while converting to RAID10.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 6 to RAID level 5\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=5\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217283200\"> \u003Cp>\n\t\t\t\t\t\t\t\tRAID level 10 to RAID level 0\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217282112\">\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mdadm --grow /dev/md0 --level=0\u003C/strong>\u003C/span>\u003C/pre>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140664217281024\"> \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tConverting RAID 5 to RAID0 and RAID4 is only possible with the \u003Ccode class=\"literal\">ALGORITHM_PARITY_N\u003C/code> layout.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tAfter converting a RAID level, verify the conversion by using either the \u003Ccode class=\"literal\">mdadm --detail /dev/md0\u003C/code> or \u003Ccode class=\"literal\">cat /proc/mdstat\u003C/code> command.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mdadm(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"linux-raid-subsystems_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.5. Linux RAID subsystems\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following subsystems compose RAID in Linux:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Linux Hardware RAID Controller Drivers\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tHardware RAID controllers have no specific RAID subsystem in Linux. Since they use special RAID chipsets, hardware RAID controllers come with their own drivers. With these drivers, the system detects the RAID sets as regular disks.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">mdraid\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">mdraid\u003C/code> subsystem was designed as a software RAID solution for Linux. It is also the preferred solution for software RAID in Red Hat Enterprise Linux. This subsystem uses its own metadata format, which is referred to as native MD metadata.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIt also supports other metadata formats, known as external metadata. Red Hat Enterprise Linux 9 uses \u003Ccode class=\"literal\">mdraid\u003C/code> with external metadata to access Intel Rapid Storage (ISW) or Intel Matrix Storage Manager (IMSM) sets and Storage Networking Industry Association (SNIA) Disk Drive Format (DDF). The \u003Ccode class=\"literal\">mdraid\u003C/code> subsystem sets are configured and controlled through the \u003Ccode class=\"literal\">mdadm\u003C/code> utility.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-software-raid-during-the-installation_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.6. Creating a software RAID during the installation\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tRedundant Arrays of Independent Disks (RAID) devices are constructed from multiple storage devices that are arranged to provide increased performance and, in some configurations, greater fault tolerance. A RAID device is created in one step and disks are added or removed as necessary. You can configure one RAID partition for each physical disk in your system, so that the number of disks available to the installation program determines the levels of RAID device available. For example, if your system has two disks, you cannot create a \u003Ccode class=\"literal\">RAID 10\u003C/code> device, as it requires a minimum of three separate disks. To optimize your system’s storage performance and reliability, RHEL supports software \u003Ccode class=\"literal\">RAID 0\u003C/code>, \u003Ccode class=\"literal\">RAID 1\u003C/code>, \u003Ccode class=\"literal\">RAID 4\u003C/code>, \u003Ccode class=\"literal\">RAID 5\u003C/code>, \u003Ccode class=\"literal\">RAID 6\u003C/code>, and \u003Ccode class=\"literal\">RAID 10\u003C/code> types with LVM and LVM Thin Provisioning to set up storage on the installed system.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tOn 64-bit IBM Z, the storage subsystem uses RAID transparently. You do not have to configure software RAID manually.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have selected two or more disks for installation before RAID configuration options are visible. Depending on the RAID type you want to create, at least two disks are required.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a mount point. By configuring a mount point, you can configure the RAID device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have selected the \u003Cspan class=\"guibutton\">Custom\u003C/span> radio button on the \u003Cspan class=\"strong strong\">\u003Cstrong>Installation Destination\u003C/strong>\u003C/span> window.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the left pane of the \u003Cspan class=\"strong strong\">\u003Cstrong>Manual Partitioning\u003C/strong>\u003C/span> window, select the required partition.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUnder the \u003Cspan class=\"strong strong\">\u003Cstrong>Device(s)\u003C/strong>\u003C/span> section, click \u003Cspan class=\"guibutton\">Modify\u003C/span>. The \u003Cspan class=\"strong strong\">\u003Cstrong>Configure Mount Point\u003C/strong>\u003C/span> dialog box opens.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the disks that you want to include in the RAID device and click \u003Cspan class=\"guibutton\">Select\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>Device Type\u003C/strong>\u003C/span> drop-down menu and select \u003Cspan class=\"strong strong\">\u003Cstrong>RAID\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>File System\u003C/strong>\u003C/span> drop-down menu and select your preferred file system type.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>RAID Level\u003C/strong>\u003C/span> drop-down menu and select your preferred level of RAID.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Update Settings\u003C/span> to save your changes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Done\u003C/span> to apply the settings to return to the \u003Cspan class=\"strong strong\">\u003Cstrong>Installation Summary\u003C/strong>\u003C/span> window.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/configuring-raid-logical-volumes_configuring-and-managing-logical-volumes#creating-a-raid-lv-with-dm-integrity_configuring-raid-logical-volumes\">\u003Cspan class=\"emphasis\">\u003Cem>Creating a RAID LV with DM integrity\u003C/em>\u003C/span>\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-raid_managing-storage-devices#managing-raid_managing-storage-devices\">\u003Cspan class=\"emphasis\">\u003Cem>Managing RAID\u003C/em>\u003C/span>\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-software-raid-on-an-installed-system_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.7. Creating a software RAID on an installed system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can create a software Redundant Array of Independent Disks (RAID) on an existing system using the \u003Ccode class=\"literal\">mdadm\u003C/code> utility.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">mdadm\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created two or more partitions on your system. For detailed instructions, see \u003Ca class=\"link\" href=\"#proc_creating-a-partition-with-parted_getting-started-with-partitions\" title=\"5.3. Creating a partition with parted\">Creating a partition with parted\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a RAID of two block devices, for example \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda1\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdc1\u003C/em>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --create /dev/md0 --level=\u003Cspan class=\"emphasis\">\u003Cem>0\u003C/em>\u003C/span> --raid-devices=2 \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda1 /dev/sdc1\u003C/em>\u003C/span>\nmdadm: Defaulting to version 1.2 metadata\nmdadm: array /dev/md0 started.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>level_value\u003C/em>\u003C/span> option defines the RAID level.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Check the status of the RAID:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --detail /dev/md0\n/dev/md0:\n           Version : 1.2\n     Creation Time : Thu Oct 13 15:17:39 2022\n        Raid Level : raid0\n        Array Size : 18649600 (17.79 GiB 19.10 GB)\n      Raid Devices : 2\n     Total Devices : 2\n       Persistence : Superblock is persistent\n\n       Update Time : Thu Oct 13 15:17:39 2022\n             State : clean\n    Active Devices : 2\n   Working Devices : 2\n    Failed Devices : 0\n     Spare Devices : 0\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Observe the detailed information about each device in the RAID:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --examine \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda1 /dev/sdc1\u003C/em>\u003C/span>\n/dev/sda1:\n          Magic : a92b4efc\n        Version : 1.2\n    Feature Map : 0x1000\n     Array UUID : 77ddfb0a:41529b0e:f2c5cde1:1d72ce2c\n           Name : 0\n  Creation Time : Thu Oct 13 15:17:39 2022\n     Raid Level : raid0\n   Raid Devices : 2\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a file system on the RAID drive:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mkfs -t \u003Cspan class=\"emphasis\">\u003Cem>xfs\u003C/em>\u003C/span> /dev/md0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>xfs\u003C/em>\u003C/span> with the file system that you chose to format the drive with.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a mount point for RAID drive and mount it:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mkdir \u003Cspan class=\"emphasis\">\u003Cem>/mnt/raid1\u003C/em>\u003C/span>\n# mount /dev/md0 \u003Cspan class=\"emphasis\">\u003Cem>/mnt/raid1\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>/mnt/raid1\u003C/em>\u003C/span> with the mount point.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you want that RHEL mounts the \u003Ccode class=\"literal\">md0\u003C/code> RAID device automatically when the system boots, add an entry for your device to the \u003Ccode class=\"literal\">/etc/fstab file\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">/dev/md0   \u003Cspan class=\"emphasis\">\u003Cem>/mnt/raid1 xfs\u003C/em>\u003C/span>  defaults   0 0\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-raid-in-the-web-console_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.8. Creating RAID in the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tConfigure RAID in the RHEL 9 web console.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPhysical disks connected to the system. Each RAID level requires different amount of disks.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"strong strong\">\u003Cstrong>Create MDRAID device\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f7ebb42759387b3b7daac56bbc8e6544/cockpit-adding-volume-groups-raid.png\" alt=\"Image displaying the available options in the Storage table drop-down menu. Selecting the MDRAID device option.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create RAID Device\u003C/strong>\u003C/span> dialog box, enter a name for the new RAID.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>RAID Level\u003C/strong>\u003C/span> drop-down list, select a level of RAID you want to use.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Chunk Size\u003C/strong>\u003C/span> drop-down list, select the size from the list of available options.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Chunk Size\u003C/strong>\u003C/span> value specifies how large each block is for data writing. For example, if the chunk size is 512 KiB, the system writes the first 512 KiB to the first disk, the second 512 KiB is written to the second disk, and the third chunk is written to the third disk. If you have three disks in your RAID, the fourth 512 KiB is written to the first disk again.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the disks you want to use for RAID.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGo to the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> section and check that you can see the new RAID in the \u003Cspan class=\"strong strong\">\u003Cstrong>RAID devices\u003C/strong>\u003C/span> box.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have the following options to format and mount the new RAID in the web console:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFormatting RAID\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tCreating partitions on the partition table\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tCreating a volume group on top of the RAID\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"formatting-raid-in-the-web-console_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.9. Formatting RAID in the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can format and mount software RAID devices in the RHEL 9 web console.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPhysical disks are connected and visible by RHEL 9.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRAID is created.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConsider the file system to be used for the RAID.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConsider creating a partitioning table.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button, \u003Cspan class=\"guibutton\">⋮\u003C/span>, next to the RAID device you want to format.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"guibutton\">Format\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Format\u003C/strong>\u003C/span> dialog box, enter a name.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount Point\u003C/strong>\u003C/span> field, add the mount path.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Type\u003C/strong>\u003C/span> drop-down list, select the type of file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite existing data with zeros\u003C/strong>\u003C/span> checkbox if you want the RHEL web console to rewrite the whole disk with zeros. This option is slower because the program has to go through the whole disk, but it is more secure. Use this option if the disk includes any data and you need to overwrite it.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you do not select the \u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite existing data with zeros\u003C/strong>\u003C/span> checkbox, the RHEL web console rewrites only the disk header. This increases the speed of formatting.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you want to encrypt the volume, select the type of encryption from the \u003Cspan class=\"strong strong\">\u003Cstrong>Encryption\u003C/strong>\u003C/span> drop-down menu.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you do not want to encrypt the volume, select \u003Cspan class=\"strong strong\">\u003Cstrong>No encryption\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>At boot\u003C/strong>\u003C/span> drop-down menu, select when you want to mount the volume.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount options\u003C/strong>\u003C/span> section:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount read only\u003C/strong>\u003C/span> checkbox if you want the to mount the volume as a read-only logical volume.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Custom mount options\u003C/strong>\u003C/span> checkbox and add the mount options if you want to change the default mount option.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFormat the RAID partition:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you want to format and mount the partition, click the \u003Cspan class=\"guibutton\">Format and mount\u003C/span> button.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you want to only format the partition, click the \u003Cspan class=\"guibutton\">Format only\u003C/span> button.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFormatting can take several minutes depending on the volume size and which formatting options are selected.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter the formatting has completed successfully, you can see the details of the formatted logical volume in the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table on the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> page.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-partition-table-on-raid-using-the-web-console_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.10. Creating a partition table on RAID by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFormat RAID with the partition table on the new software RAID device created in the RHEL 9 interface.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRAID requires formatting as any other storage device. You have two options:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFormat the RAID device without partitions\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a partition table with partitions\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPhysical disks are connected and visible by the system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRAID is created.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the RAID device on which you want to create a partition table.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the menu button, \u003Cspan class=\"guibutton\">⋮\u003C/span> in the \u003Cspan class=\"strong strong\">\u003Cstrong>MDRAID device\u003C/strong>\u003C/span> section.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"guibutton\">Create partition table\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Initialize disk\u003C/strong>\u003C/span> dialog box, select the following:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Partitioning\u003C/strong>\u003C/span>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tCompatible with all systems and devices (MBR)\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tCompatible with modern system and hard disks &gt; 2TB (GPT)\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tNo partitioning\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite\u003C/strong>\u003C/span>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite existing data with zeros\u003C/strong>\u003C/span> checkbox if you want the RHEL web console to rewrite the whole disk with zeros. This option is slower because the program has to go through the whole disk, but it is more secure. Use this option if the disk includes any data and you want to overwrite it.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIf you do not select the \u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite existing data with zeros\u003C/strong>\u003C/span> checkbox, the RHEL web console rewrites only the disk header. This increases the speed of formatting.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Initialize\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe partitioning table is created and you can now create partitions on that table.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-partitions-on-raid-using-the-web-console_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.11. Creating partitions on RAID by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a partition in the existing partition table.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe RHEL 9 web console is installed and accessible.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA partition table on RAID is created.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the RAID device on which you want to create a partition.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the RAID device page, scroll to the \u003Cspan class=\"strong strong\">\u003Cstrong>GPT partitions\u003C/strong>\u003C/span> section and click the menu button, \u003Cspan class=\"guibutton\">⋮\u003C/span>, next to the partition table you created. It is named \u003Cspan class=\"strong strong\">\u003Cstrong>Free space\u003C/strong>\u003C/span> by default.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create partition\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create partition\u003C/strong>\u003C/span> dialog box, enter a name for the file system. Do not use spaces in the name.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount Point\u003C/strong>\u003C/span> field, add the mount path.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Type\u003C/strong>\u003C/span> drop-down list, select the type of file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Size\u003C/strong>\u003C/span> field, set the size of the partition.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite existing data with zeros\u003C/strong>\u003C/span> checkbox if you want the RHEL web console to rewrite the whole disk with zeros. This option is slower because the program has to go through the whole disk, but it is more secure. Use this option if the disk includes any data and you want to overwrite it.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you do not select the \u003Cspan class=\"strong strong\">\u003Cstrong>Overwrite existing data with zeros\u003C/strong>\u003C/span> checkbox, the RHEL web console rewrites only the disk header. This increases the speed of formatting.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you want to encrypt the volume, select the type of encryption in the \u003Cspan class=\"strong strong\">\u003Cstrong>Encryption\u003C/strong>\u003C/span> drop-down menu.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you do not want to encrypt the volume, select \u003Cspan class=\"strong strong\">\u003Cstrong>No encryption\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>At boot\u003C/strong>\u003C/span> drop-down menu, select when you want to mount the volume.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount options\u003C/strong>\u003C/span> section:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount read only\u003C/strong>\u003C/span> checkbox if you want the to mount the volume as a read-only logical volume.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Custom mount options\u003C/strong>\u003C/span> checkbox and add the mount options if you want to change the default mount option.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the partition:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you want to create and mount the partition, click the \u003Cspan class=\"guibutton\">Create and mount\u003C/span> button.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you want to only create the partition, click the \u003Cspan class=\"guibutton\">Create only\u003C/span> button.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFormatting can take several minutes depending on the volume size and which formatting options are selected.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can create more partitions after the partition is created.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAt this point, the system uses mounted and formatted RAID.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can see the details of the formatted logical volume in the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table on the main storage page.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-volume-group-on-top-of-raid-using-the-web-console_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.12. Creating a volume group on top of RAID by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBuild a volume group from software RAID.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe RAID device that is not formatted and not mounted.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"strong strong\">\u003Cstrong>Create LVM2 volume group\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/1dfdea5e85488670de21f6e4ea93bb56/cockpit-adding-volume-groups-create-lvm2.png\" alt=\"Image displaying the available options in the Storage table drop-down menu. Selecting Create LVM2 volume group.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create LVM2 volume group\u003C/strong>\u003C/span> dialog box, enter a name for the new volume group.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Disks\u003C/strong>\u003C/span> list, select a RAID device.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you do not see the RAID in the list, unmount the RAID from the system. The RAID device must not be in use by the RHEL 9 system.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-a-raid-volume-using-the-storage-system-role_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.13. Configuring a RAID volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWith the \u003Ccode class=\"literal\">storage\u003C/code> system role, you can configure a RAID volume on RHEL by using Red Hat Ansible Automation Platform and Ansible-Core. Create an Ansible playbook with the parameters to configure a RAID volume to suit your requirements.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tDevice names might change in certain circumstances, for example, when you add a new disk to a system. Therefore, to prevent data loss, use persistent naming attributes in the playbook. For more information about persistent naming attributes, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_storage_devices/persistent-naming-attributes_managing-storage-devices#persistent-naming-attributes_managing-storage-devices\">Persistent naming attributes\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Create a RAID on sdd, sde, sdf, and sdg\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_safe_mode: false\n        storage_volumes:\n          - name: data\n            type: raid\n            disks: [sdd, sde, sdf, sdg]\n            raid_level: raid0\n            raid_chunk_size: 32 KiB\n            mount_point: /mnt/data\n            state: present\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the array was correctly created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'mdadm --detail /dev/md/data'\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"extending-raid_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.14. Extending RAID\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can extend a RAID using the \u003Ccode class=\"literal\">--grow\u003C/code> option of the \u003Ccode class=\"literal\">mdadm\u003C/code> utility.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnough disk space.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">parted\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tExtend RAID partitions. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_resizing-a-partition-with-parted_getting-started-with-partitions\">Resizing a partition with parted\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExtend RAID to the maximum of the partition capacity:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --grow --size=max /dev/md0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo set a specific size, write the value of the \u003Ccode class=\"literal\">--size\u003C/code> parameter in kB, for example \u003Ccode class=\"literal\">--size=\u003Cspan class=\"emphasis\">\u003Cem>524228\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIncrease the size of file system. For example, if the volume uses XFS and is mounted to \u003Cspan class=\"emphasis\">\u003Cem>/mnt/\u003C/em>\u003C/span>, enter:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># xfs_growfs /mnt/\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mdadm(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/index\">Managing file systems\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"shrinking-raid_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.15. Shrinking RAID\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can shrink RAID using the \u003Ccode class=\"literal\">--grow\u003C/code> option of the \u003Ccode class=\"literal\">mdadm\u003C/code> utility.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe XFS file system does not support shrinking.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">parted\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tShrink the file system. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/index\">Managing file systems\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDecrease the RAID to the size, for example to \u003Cspan class=\"emphasis\">\u003Cem>512 MB\u003C/em>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --grow --size=\u003Cspan class=\"emphasis\">\u003Cem>524228\u003C/em>\u003C/span> /dev/md0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWrite the \u003Ccode class=\"literal\">--size\u003C/code> parameter in kB.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tShrink the partition to the size you need.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mdadm(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/getting-started-with-partitions_managing-storage-devices#proc_resizing-a-partition-with-parted_getting-started-with-partitions\">Resizing a partition with parted\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"converting-a-root-disk-to-raid1-after-installation_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.16. Converting a root disk to RAID1 after installation\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis section describes how to convert a non-RAID root disk to a RAID1 mirror after installing Red Hat Enterprise Linux 9.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOn the PowerPC (PPC) architecture, take the following additional steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe instructions in the following Red Hat Knowledgebase article are completed: \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/2390831\">How do I convert my root disk to RAID1 after installation of Red Hat Enterprise Linux 7?\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy the contents of the PowerPC Reference Platform (PReP) boot partition from \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda1\u003C/em>\u003C/span> to \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdb1\u003C/em>\u003C/span>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># dd if=\u003Cspan class=\"emphasis\">\u003Cem>/dev/sda1\u003C/em>\u003C/span> of=\u003Cspan class=\"emphasis\">\u003Cem>/dev/sdb1\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpdate the \u003Ccode class=\"literal\">prep\u003C/code> and \u003Ccode class=\"literal\">boot\u003C/code> flag on the first partition on both disks:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ parted \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda\u003C/em>\u003C/span> set 1 prep on\n$ parted \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda\u003C/em>\u003C/span> set 1 boot on\n\n$ parted \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdb\u003C/em>\u003C/span> set 1 prep on\n$ parted \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdb\u003C/em>\u003C/span> set 1 boot on\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tExecuting the \u003Ccode class=\"literal\">grub2-install \u003Cspan class=\"emphasis\">\u003Cem>/dev/sda\u003C/em>\u003C/span>\u003C/code> command does not work on a PowerPC machine and returns an error, but the system boots as expected.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"creating-advanced-raid-devices_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.17. Creating advanced RAID devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn some cases, you might want to install the operating system on an array that is created before the installation completes. Usually, this means setting up the \u003Ccode class=\"literal\">/boot\u003C/code> or root file system arrays on a complex RAID device. In such cases, you might need to use array options that are not supported by the Anaconda installer. To work around this, perform the following steps.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe limited Rescue Mode of the installer does not include man pages. Both the \u003Ccode class=\"literal\">mdadm\u003C/code> and \u003Ccode class=\"literal\">md\u003C/code> man pages contain useful information for creating custom RAID arrays, and might be needed throughout the workaround.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInsert the install disk.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDuring the initial boot up, select \u003Cspan class=\"strong strong\">\u003Cstrong>Rescue Mode\u003C/strong>\u003C/span> instead of \u003Cspan class=\"strong strong\">\u003Cstrong>Install\u003C/strong>\u003C/span> or \u003Cspan class=\"strong strong\">\u003Cstrong>Upgrade\u003C/strong>\u003C/span>. When the system fully boots into \u003Ccode class=\"literal\">Rescue mode\u003C/code>, you can see the command line terminal.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom this terminal, execute the following commands:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tCreate RAID partitions on the target hard drives by using the \u003Ccode class=\"literal\">parted\u003C/code> command.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tManually create raid arrays by using the \u003Ccode class=\"literal\">mdadm\u003C/code> command from those partitions using any and all settings and options available.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: After creating arrays, create file systems on the arrays as well.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReboot the computer and select \u003Cspan class=\"strong strong\">\u003Cstrong>Install\u003C/strong>\u003C/span> or \u003Cspan class=\"strong strong\">\u003Cstrong>Upgrade\u003C/strong>\u003C/span> to install. As the Anaconda installer searches the disks in the system, it finds the pre-existing RAID devices.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWhen asked about how to use the disks in the system, select \u003Cspan class=\"strong strong\">\u003Cstrong>Custom Layout\u003C/strong>\u003C/span> and click \u003Cspan class=\"guibutton\">Next\u003C/span>. In the device listing, the pre-existing MD RAID devices are listed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect a RAID device and click \u003Cspan class=\"guibutton\">Edit\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConfigure its mount point and optionally the type of file system it should use if you did not create one earlier, and then click \u003Cspan class=\"guibutton\">Done\u003C/span>. Anaconda installs to this pre-existing RAID device, preserving the custom options you selected when you created it in Rescue Mode.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-email-notifications-to-monitor-a-raid_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.18. Setting up email notifications to monitor a RAID\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can set up email alerts to monitor RAID with the \u003Ccode class=\"literal\">mdadm\u003C/code> tool. Once the \u003Ccode class=\"literal\">MAILADDR\u003C/code> variable is set to the required email address, the monitoring system sends the alerts to the added email address.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">mdadm\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe mail service is set up.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/mdadm.conf\u003C/code> configuration file for monitoring array by scanning the RAID details:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --detail --scan &gt;&gt; /etc/mdadm.conf\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote, that \u003Ccode class=\"literal\">ARRAY\u003C/code> and \u003Ccode class=\"literal\">MAILADDR\u003C/code> are mandatory variables.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/etc/mdadm.conf\u003C/code> configuration file with a text editor of your choice and add the \u003Ccode class=\"literal\">MAILADDR\u003C/code> variable with the mail address for the notification. For example, add new line:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">MAILADDR \u003Cspan class=\"emphasis\">\u003Cem>example@example.com\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tHere, \u003Cspan class=\"emphasis\">\u003Cem>example@example.com\u003C/em>\u003C/span> is an email address to which you want to receive the alerts from the array monitoring.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave changes in the \u003Ccode class=\"literal\">/etc/mdadm.conf\u003C/code> file and close it.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mdadm.conf(5)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"replacing-a-failed-disk-in-raid_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.19. Replacing a failed disk in RAID\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can reconstruct the data from the failed disks using the remaining disks. RAID level and the total number of disks determines the minimum amount of remaining disks needed for a successful data reconstruction.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn this procedure, the \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> RAID contains four disks. The \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdd\u003C/em>\u003C/span> disk has failed and you need to replace it with the \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdf\u003C/em>\u003C/span> disk.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA spare disk for replacement.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">mdadm\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the failed disk:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tView the kernel logs:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># journalctl -k -f\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tSearch for a message similar to the following:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">md/raid:md0: Disk failure on sdd, disabling device.\n\nmd/raid:md0: Operation continuing on 3 devices.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tPress \u003Ckbd class=\"keycap\">Ctrl\u003C/kbd>+\u003Ckbd class=\"keycap\">C\u003C/kbd> on your keyboard to exit the \u003Ccode class=\"literal\">journalctl\u003C/code> program.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMark the failed disk as faulty:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --manage \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> --fail \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdd\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Check if the failed disk was marked correctly:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --detail \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAt the end of the output is a list of disks in the \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> RAID where the disk \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdd\u003C/em>\u003C/span> has the \u003Cspan class=\"strong strong\">\u003Cstrong>faulty\u003C/strong>\u003C/span> status:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Number   Major   Minor   RaidDevice State\n   0       8       16        0      active sync   /dev/sdb\n   1       8       32        1      active sync   /dev/sdc\n   -       0        0        2      removed\n   3       8       64        3      active sync   /dev/sde\n\n   2       8       48        -      faulty   /dev/sdd\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the failed disk from the RAID:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mdadm --manage \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> --remove \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdd\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf your RAID cannot withstand another disk failure, do not remove any disk until the new disk has the \u003Cspan class=\"strong strong\">\u003Cstrong>active sync\u003C/strong>\u003C/span> status. You can monitor the progress using the \u003Ccode class=\"literal\">watch cat /proc/mdstat\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the new disk to the RAID:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --manage \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> --add \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdf\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> RAID now includes the new disk \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdf\u003C/em>\u003C/span> and the \u003Ccode class=\"literal\">mdadm\u003C/code> service will automatically starts copying data to it from other disks.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the details of the array:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mdadm --detail \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf this command shows a list of disks in the \u003Cspan class=\"emphasis\">\u003Cem>/dev/md0\u003C/em>\u003C/span> RAID where the new disk has \u003Cspan class=\"strong strong\">\u003Cstrong>spare rebuilding\u003C/strong>\u003C/span> status at the end of the output, data is still being copied to it from other disks:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Number   Major   Minor   RaidDevice State\n   0       8       16        0      active sync   /dev/sdb\n   1       8       32        1      active sync   /dev/sdc\n   4       8       80        2      spare rebuilding   /dev/sdf\n   3       8       64        3      active sync   /dev/sde\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter data copying is finished, the new disk has an \u003Cspan class=\"strong strong\">\u003Cstrong>active sync\u003C/strong>\u003C/span> status.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#setting-up-email-notifications-to-monitor-a-raid_managing-raid\" title=\"19.18. Setting up email notifications to monitor a RAID\">Setting up email notifications to monitor a RAID\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"repairing-raid-disks_managing-raid\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">19.20. Repairing RAID disks\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis procedure describes how to repair disks in a RAID array.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">mdadm\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the array for the failed disks behavior:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># echo check &gt; /sys/block/\u003Cspan class=\"emphasis\">\u003Cem>md0\u003C/em>\u003C/span>/md/sync_action\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis checks the array and the \u003Ccode class=\"literal\">/sys/block/md0/md/sync_action\u003C/code> file shows the sync action.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/sys/block/md0/md/sync_action\u003C/code> file with the text editor of your choice and see if there is any message about disk synchronization failures.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tView the \u003Ccode class=\"literal\">/sys/block/md0/md/mismatch_cnt\u003C/code> file. If the \u003Ccode class=\"literal\">mismatch_cnt\u003C/code> parameter is not \u003Ccode class=\"literal\">0\u003C/code>, it means that the RAID disks need repair.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRepair the disks in the array:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># echo repair &gt; /sys/block/\u003Cspan class=\"emphasis\">\u003Cem>md0\u003C/em>\u003C/span>/md/sync_action\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis repairs the disks in the array and writes the result into the \u003Ccode class=\"literal\">/sys/block/md0/md/sync_action\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the synchronization progress:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># cat /sys/block/\u003Cspan class=\"emphasis\">\u003Cem>md0\u003C/em>\u003C/span>/md/sync_action\nrepair\n\n# cat /proc/mdstat\nPersonalities : [raid0] [raid6] [raid5] [raid4] [raid1]\nmd0 : active raid1 sdg[1] dm-3[0]\n      511040 blocks super 1.2 [2/2] [UU]\nunused devices: &lt;none&gt;\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"encrypting-block-devices-using-luks_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 20. Encrypting block devices using LUKS\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tBy using the disk encryption, you can protect the data on a block device by encrypting it. To access the device’s decrypted contents, enter a passphrase or key as authentication. This is important for mobile computers and removable media because it helps to protect the device’s contents even if it has been physically removed from the system. The LUKS format is a default implementation of block device encryption in Red Hat Enterprise Linux.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"luks-disk-encryption_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.1. LUKS disk encryption\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tLinux Unified Key Setup-on-disk-format (LUKS) provides a set of tools that simplifies managing the encrypted devices. With LUKS, you can encrypt block devices and enable multiple user keys to decrypt a master key. For bulk encryption of the partition, use this master key.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRed Hat Enterprise Linux uses LUKS to perform block device encryption. By default, the option to encrypt the block device is unchecked during the installation. If you select the option to encrypt your disk, the system prompts you for a passphrase every time you boot the computer. This passphrase unlocks the bulk encryption key that decrypts your partition. If you want to modify the default partition table, you can select the partitions that you want to encrypt. This is set in the partition table settings.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Ciphers\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tThe default cipher used for LUKS is \u003Ccode class=\"literal\">aes-xts-plain64\u003C/code>. The default key size for LUKS is 512 bits. The default key size for LUKS with \u003Cspan class=\"strong strong\">\u003Cstrong>Anaconda\u003C/strong>\u003C/span> XTS mode is 512 bits. The following are the available ciphers:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdvanced Encryption Standard (AES)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTwofish\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSerpent\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Operations performed by LUKS\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLUKS encrypts entire block devices and is therefore well-suited for protecting contents of mobile devices such as removable storage media or laptop disk drives.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe underlying contents of the encrypted block device are arbitrary, which makes it useful for encrypting swap devices. This can also be useful with certain databases that use specially formatted block devices for data storage.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLUKS uses the existing device mapper kernel subsystem.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLUKS provides passphrase strengthening, which protects against dictionary attacks.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLUKS devices contain multiple key slots, which means you can add backup keys or passphrases.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tLUKS is not recommended for the following scenarios:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tDisk-encryption solutions such as LUKS protect the data only when your system is off. After the system is on and LUKS has decrypted the disk, the files on that disk are available to anyone who have access to them.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tScenarios that require multiple users to have distinct access keys to the same device. The LUKS1 format provides eight key slots and LUKS2 provides up to 32 key slots.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tApplications that require file-level encryption.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://gitlab.com/cryptsetup/cryptsetup/blob/master/README.md\">LUKS Project Home Page\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://gitlab.com/cryptsetup/LUKS2-docs/blob/master/luks2_doc_wip.pdf\">LUKS On-Disk Format Specification\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://doi.org/10.6028/NIST.FIPS.197-upd1\">FIPS 197: Advanced Encryption Standard (AES)\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"luks-versions-in-rhel_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.2. LUKS versions in RHEL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn Red Hat Enterprise Linux, the default format for LUKS encryption is LUKS2. The old LUKS1 format remains fully supported and it is provided as a format compatible with earlier Red Hat Enterprise Linux releases. LUKS2 re-encryption is considered more robust and safe to use as compared to LUKS1 re-encryption.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe LUKS2 format enables future updates of various parts without a need to modify binary structures. Internally it uses JSON text format for metadata, provides redundancy of metadata, detects metadata corruption, and automatically repairs from a metadata copy.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tDo not use LUKS2 in systems that support only LUKS1.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tSince Red Hat Enterprise Linux 9.2, you can use the \u003Ccode class=\"literal\">cryptsetup reencrypt\u003C/code> command for both the LUKS versions to encrypt the disk.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Online re-encryption\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tThe LUKS2 format supports re-encrypting encrypted devices while the devices are in use. For example, you do not have to unmount the file system on the device to perform the following tasks:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tChanging the volume key\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tChanging the encryption algorithm\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhen encrypting a non-encrypted device, you must still unmount the file system. You can remount the file system after a short initialization of the encryption.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe LUKS1 format does not support online re-encryption.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Conversion\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tIn certain situations, you can convert LUKS1 to LUKS2. The conversion is not possible specifically in the following scenarios:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA LUKS1 device is marked as being used by a Policy-Based Decryption (PBD) Clevis solution. The \u003Ccode class=\"literal\">cryptsetup\u003C/code> tool does not convert the device when some \u003Ccode class=\"literal\">luksmeta\u003C/code> metadata are detected.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA device is active. The device must be in an inactive state before any conversion is possible.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"options-for-data-protection-during-luks2-re-encryption_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.3. Options for data protection during LUKS2 re-encryption\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tLUKS2 provides several options that prioritize performance or data protection during the re-encryption process. It provides the following modes for the \u003Ccode class=\"literal\">resilience\u003C/code> option, and you can select any of these modes by using the \u003Ccode class=\"literal\">cryptsetup reencrypt --resilience resilience-mode \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdx\u003C/em>\u003C/span>\u003C/code> command:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">checksum\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe default mode. It balances data protection and performance.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis mode stores individual checksums of the sectors in the re-encryption area, which the recovery process can detect for the sectors that were re-encrypted by LUKS2. The mode requires that the block device sector write is atomic.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">journal\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe safest mode but also the slowest. Since this mode journals the re-encryption area in the binary area, the LUKS2 writes the data twice.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">none\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">none\u003C/code> mode prioritizes performance and provides no data protection. It protects the data only against safe process termination, such as the \u003Ccode class=\"literal\">SIGTERM\u003C/code> signal or the user pressing \u003Ckbd class=\"keycap\">Ctrl\u003C/kbd>+\u003Ckbd class=\"keycap\">C\u003C/kbd> key. Any unexpected system failure or application failure might result in data corruption.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tIf a LUKS2 re-encryption process terminates unexpectedly by force, LUKS2 can perform the recovery in one of the following ways:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Automatically\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy performing any one of the following actions triggers the automatic recovery action during the next LUKS2 device open action:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tExecuting the \u003Ccode class=\"literal\">cryptsetup open\u003C/code> command.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAttaching the device with the \u003Ccode class=\"literal\">systemd-cryptsetup\u003C/code> command.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Manually\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBy using the \u003Ccode class=\"literal\">cryptsetup repair \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdx\u003C/em>\u003C/span>\u003C/code> command on the LUKS2 device.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">cryptsetup-reencrypt(8)\u003C/code> and \u003Ccode class=\"literal\">cryptsetup-repair(8)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"encrypting-existing-data-on-a-block-device-using-luks2_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.4. Encrypting existing data on a block device using LUKS2\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can encrypt the existing data on a not yet encrypted device by using the LUKS2 format. A new LUKS header is stored in the head of the device.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block device has a file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have backed up your data.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tYou might lose your data during the encryption process due to a hardware, kernel, or human failure. Ensure that you have a reliable backup before you start encrypting the data.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount all file systems on the device that you plan to encrypt, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>umount \u003Cspan class=\"emphasis\">\u003Cem>/dev/mapper/vg00-lv00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake free space for storing a LUKS header. Use one of the following options that suits your scenario:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn the case of encrypting a logical volume, you can extend the logical volume without resizing the file system. For example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lvextend -L+\u003Cspan class=\"emphasis\">\u003Cem>32M /dev/mapper/vg00-lv00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tExtend the partition by using partition management tools, such as \u003Ccode class=\"literal\">parted\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tShrink the file system on the device. You can use the \u003Ccode class=\"literal\">resize2fs\u003C/code> utility for the ext2, ext3, or ext4 file systems. Note that you cannot shrink the XFS file system.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInitialize the encryption:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup reencrypt --encrypt --init-only --reduce-device-size \u003Cspan class=\"emphasis\">\u003Cem>32M\u003C/em>\u003C/span> /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00 lv00_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>lv00_encrypted\u003C/em>\u003C/span> is now active and ready for online encryption.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMount the device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>lv00_encrypted /mnt/lv00_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd an entry for a persistent mapping to the \u003Ccode class=\"literal\">/etc/crypttab\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFind the \u003Ccode class=\"literal\">luksUUID\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup luksUUID /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\na52e2cc9-a5be-47b8-a95d-6bdf4f2d9325\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOpen \u003Ccode class=\"literal\">/etc/crypttab\u003C/code> in a text editor of your choice and add a device in this file:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>vi /etc/crypttab\u003C/strong>\u003C/span>\n\nlv00_encrypted UUID=\u003Cspan class=\"emphasis\">\u003Cem>a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325\u003C/em>\u003C/span> none\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325\u003C/em>\u003C/span> with your device’s \u003Ccode class=\"literal\">luksUUID\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRefresh initramfs with \u003Ccode class=\"literal\">dracut\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>dracut -f --regenerate-all\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd an entry for a persistent mounting to the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFind the file system’s UUID of the active LUKS block device:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>blkid -p /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>lv00_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>lv00-encrypted\u003C/em>\u003C/span>: UUID=\"\u003Cspan class=\"emphasis\">\u003Cem>37bc2492-d8fa-4969-9d9b-bb64d3685aa9\u003C/em>\u003C/span>\" BLOCK_SIZE=\"4096\" TYPE=\"xfs\" USAGE=\"filesystem\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOpen \u003Ccode class=\"literal\">/etc/fstab\u003C/code> in a text editor of your choice and add a device in this file, for example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>vi /etc/fstab\u003C/strong>\u003C/span>\n\nUUID=\u003Cspan class=\"emphasis\">\u003Cem>37bc2492-d8fa-4969-9d9b-bb64d3685aa9\u003C/em>\u003C/span> /home auto rw,user,auto 0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>37bc2492-d8fa-4969-9d9b-bb64d3685aa9\u003C/em>\u003C/span> with your file system’s UUID.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tResume the online encryption:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup reencrypt --resume-only /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nEnter passphrase for /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00\u003C/em>\u003C/span>:\nAuto-detected active dm device '\u003Cspan class=\"emphasis\">\u003Cem>lv00_encrypted\u003C/em>\u003C/span>' for data device /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00\u003C/em>\u003C/span>.\nFinished, time 00:31.130, 10272 MiB written, speed 330.0 MiB/s\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if the existing data was encrypted:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup luksDump /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nLUKS header information\nVersion: 2\nEpoch: 4\nMetadata area: 16384 [bytes]\nKeyslots area: 16744448 [bytes]\nUUID: a52e2cc9-a5be-47b8-a95d-6bdf4f2d9325\nLabel: (no label)\nSubsystem: (no subsystem)\nFlags: (no flags)\n\nData segments:\n  0: crypt\n\toffset: 33554432 [bytes]\n\tlength: (whole device)\n\tcipher: aes-xts-plain64\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the status of the encrypted blank block device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup status \u003Cspan class=\"emphasis\">\u003Cem>lv00_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>lv00_encrypted\u003C/em>\u003C/span> is active and is in use.\n  type:    LUKS2\n  cipher:  aes-xts-plain64\n  keysize: 512 bits\n  key location: keyring\n  device:  /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>vg00-lv00\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">cryptsetup(8)\u003C/code>, \u003Ccode class=\"literal\">cryptsetup-reencrypt(8)\u003C/code>, \u003Ccode class=\"literal\">lvextend(8)\u003C/code>, \u003Ccode class=\"literal\">resize2fs(8)\u003C/code>, and \u003Ccode class=\"literal\">parted(8)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"encrypting-existing-data-on-a-block-device-using-luks2-with-a-detached-header_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.5. Encrypting existing data on a block device using LUKS2 with a detached header\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can encrypt existing data on a block device without creating free space for storing a LUKS header. The header is stored in a detached location, which also serves as an additional layer of security. The procedure uses the LUKS2 encryption format.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block device has a file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have backed up your data.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tYou might lose your data during the encryption process due to a hardware, kernel, or human failure. Ensure that you have a reliable backup before you start encrypting the data.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount all file systems on the device, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>umount /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInitialize the encryption:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup reencrypt --encrypt --init-only --header \u003Cspan class=\"emphasis\">\u003Cem>/home/header\u003C/em>\u003C/span> /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1 nvme_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nWARNING!\n========\nHeader file does not exist, do you want to create it?\n\nAre you sure? (Type 'yes' in capital letters): YES\nEnter passphrase for \u003Cspan class=\"emphasis\">\u003Cem>/home/header\u003C/em>\u003C/span>:\nVerify passphrase:\n/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>nvme_encrypted\u003C/em>\u003C/span> is now active and ready for online encryption.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>/home/header\u003C/em>\u003C/span> with a path to the file with a detached LUKS header. The detached LUKS header has to be accessible to unlock the encrypted device later.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMount the device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>nvme_encrypted /mnt/nvme_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tResume the online encryption:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup reencrypt --resume-only --header \u003Cspan class=\"emphasis\">\u003Cem>/home/header\u003C/em>\u003C/span> /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nEnter passphrase for /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>:\nAuto-detected active dm device 'nvme_encrypted' for data device /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>.\nFinished, time 00m51s,   10 GiB written, speed 198.2 MiB/s\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if the existing data on a block device using LUKS2 with a detached header is encrypted:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup luksDump \u003Cspan class=\"emphasis\">\u003Cem>/home/header\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nLUKS header information\nVersion:       \t2\nEpoch:         \t88\nMetadata area: \t16384 [bytes]\nKeyslots area: \t16744448 [bytes]\nUUID:          \tc4f5d274-f4c0-41e3-ac36-22a917ab0386\nLabel:         \t(no label)\nSubsystem:     \t(no subsystem)\nFlags:       \t(no flags)\n\nData segments:\n  0: crypt\n\toffset: 0 [bytes]\n\tlength: (whole device)\n\tcipher: aes-xts-plain64\n\tsector: 512 [bytes]\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the status of the encrypted blank block device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup status \u003Cspan class=\"emphasis\">\u003Cem>nvme_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>nvme_encrypted\u003C/em>\u003C/span> is active and is in use.\n  type:    LUKS2\n  cipher:  aes-xts-plain64\n  keysize: 512 bits\n  key location: keyring\n  device:  /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">cryptsetup(8)\u003C/code> and \u003Ccode class=\"literal\">cryptsetup-reencrypt(8)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"encrypting-a-blank-block-device-using-luks2_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.6. Encrypting a blank block device using LUKS2\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can encrypt a blank block device, which you can use for an encrypted storage by using the LUKS2 format.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA blank block device. You can use commands such as \u003Ccode class=\"literal\">lsblk\u003C/code> to find if there is no real data on that device, for example, a file system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSetup a partition as an encrypted LUKS partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup luksFormat /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nWARNING!\n========\nThis will overwrite data on \u003Cspan class=\"emphasis\">\u003Cem>/dev/nvme0n1p1\u003C/em>\u003C/span> irrevocably.\nAre you sure? (Type 'yes' in capital letters): YES\nEnter passphrase for /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>:\nVerify passphrase:\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen an encrypted LUKS partition:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup open /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1 nvme0n1p1_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nEnter passphrase for /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>:\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis unlocks the partition and maps it to a new device by using the device mapper. To not overwrite the encrypted data, this command alerts the kernel that the device is an encrypted device and addressed through LUKS by using the \u003Ccode class=\"literal\">/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>device_mapped_name\u003C/em>\u003C/span>\u003C/code> path.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a file system to write encrypted data to the partition, which must be accessed through the device mapped name:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mkfs -t ext4 /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMount the device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount /dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1_encrypted mount-point\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify if the blank block device is encrypted:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup luksDump /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\nLUKS header information\nVersion:       \t2\nEpoch:         \t3\nMetadata area: \t16384 [bytes]\nKeyslots area: \t16744448 [bytes]\nUUID:          \t34ce4870-ffdf-467c-9a9e-345a53ed8a25\nLabel:         \t(no label)\nSubsystem:     \t(no subsystem)\nFlags:       \t(no flags)\n\nData segments:\n  0: crypt\n\toffset: 16777216 [bytes]\n\tlength: (whole device)\n\tcipher: aes-xts-plain64\n\tsector: 512 [bytes]\n[...]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the status of the encrypted blank block device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cryptsetup status \u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1_encrypted\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n/dev/mapper/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1_encrypted\u003C/em>\u003C/span> is active and is in use.\n  type:    LUKS2\n  cipher:  aes-xts-plain64\n  keysize: 512 bits\n  key location: keyring\n  device:  /dev/\u003Cspan class=\"emphasis\">\u003Cem>nvme0n1p1\u003C/em>\u003C/span>\n  sector size:  512\n  offset:  32768 sectors\n  size:    20938752 sectors\n  mode:    read/write\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">cryptsetup(8)\u003C/code>, \u003Ccode class=\"literal\">cryptsetup-open (8)\u003C/code>, and \u003Ccode class=\"literal\">cryptsetup-lusFormat(8)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.7. Configuring the LUKS passphrase in the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf you want to add encryption to an existing logical volume on your system, you can only do so through formatting the volume.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAvailable existing logical volume without encryption.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button, \u003Cspan class=\"guibutton\">⋮\u003C/span>, next to the storage device you want to encrypt.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"guibutton\">Format\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Encryption field\u003C/strong>\u003C/span>, select the encryption specification, \u003Cspan class=\"strong strong\">\u003Cstrong>LUKS1\u003C/strong>\u003C/span> or \u003Cspan class=\"strong strong\">\u003Cstrong>LUKS2\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet and confirm your new passphrase.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: Modify further encryption options.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFinalize formatting settings.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Format\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"changing-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.8. Changing the LUKS passphrase in the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tChange a LUKS passphrase on an encrypted disk or partition in the web console.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">cockpit-storaged\u003C/code> package is installed on your system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, select the disk with encrypted data.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the disk page, scroll to the \u003Cspan class=\"strong strong\">\u003Cstrong>Keys\u003C/strong>\u003C/span> section and click the edit button.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/cfaf0f76552b0b0e79c9e3f01f8ef688/cockpit-LUKS-edit.png\" alt=\"cockpit LUKS edit\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Change passphrase\u003C/strong>\u003C/span> dialog window:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter your current passphrase.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter your new passphrase.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tConfirm your new passphrase.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/901a308feba70ad35b232e9179f0f81a/cockpit-change-pwd.png\" alt=\"cockpit change pwd\"/>\u003C/span>\n\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Save\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-luks2-encrypted-volume-using-the-storage-role_encrypting-block-devices-using-luks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">20.9. Creating a LUKS2 encrypted volume by using the \u003Ccode class=\"literal\">storage\u003C/code> RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">storage\u003C/code> role to create and configure a volume encrypted with LUKS by running an Ansible playbook.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStore your sensitive variables in an encrypted file:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate the vault:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-vault create vault.yml\u003C/strong>\u003C/span>\nNew Vault password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;vault_password&gt;\u003C/em>\u003C/span>\nConfirm New Vault password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;vault_password&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter the \u003Ccode class=\"literal\">ansible-vault create\u003C/code> command opens an editor, enter the sensitive data in the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;key&gt;\u003C/em>\u003C/span>: \u003Cspan class=\"emphasis\">\u003Cem>&lt;value&gt;\u003C/em>\u003C/span>\u003C/code> format:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-ini\">luks_password: \u003Cspan class=\"emphasis\">\u003Cem>&lt;password&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSave the changes, and close the editor. Ansible encrypts the data in the vault.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Manage local storage\n  hosts: managed-node-01.example.com\n  vars_files:\n    - vault.yml\n  tasks:\n    - name: Create and configure a volume encrypted with LUKS\n      ansible.builtin.include_role:\n        name: rhel-system-roles.storage\n      vars:\n        storage_volumes:\n          - name: barefs\n            type: disk\n            disks:\n              - sdb\n            fs_type: xfs\n            fs_label: \u003Cspan class=\"emphasis\">\u003Cem>&lt;label&gt;\u003C/em>\u003C/span>\n            mount_point: /mnt/data\n            encryption: true\n            encryption_password: \"{{ luks_password }}\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details about all variables used in the playbook, see the \u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file on the control node.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --ask-vault-pass --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --ask-vault-pass ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the \u003Ccode class=\"literal\">luksUUID\u003C/code> value of the LUKS encrypted volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksUUID /dev/sdb'\u003C/strong>\u003C/span>\n\n4e4e7970-1822-470e-b55a-e91efe5d0f5c\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tView the encryption status of the volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'cryptsetup status luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c'\u003C/strong>\u003C/span>\n\n/dev/mapper/luks-4e4e7970-1822-470e-b55a-e91efe5d0f5c is active and is in use.\n  type:    LUKS2\n  cipher:  aes-xts-plain64\n  keysize: 512 bits\n  key location: keyring\n  device:  /dev/sdb\n...\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the created LUKS encrypted volume:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ansible managed-node-01.example.com -m command -a 'cryptsetup luksDump /dev/sdb'\u003C/strong>\u003C/span>\n\nLUKS header information\nVersion:        2\nEpoch:          3\nMetadata area:  16384 [bytes]\nKeyslots area:  16744448 [bytes]\nUUID:           4e4e7970-1822-470e-b55a-e91efe5d0f5c\nLabel:          (no label)\nSubsystem:      (no subsystem)\nFlags:          (no flags)\n\nData segments:\n  0: crypt\n        offset: 16777216 [bytes]\n        length: (whole device)\n        cipher: aes-xts-plain64\n        sector: 512 [bytes]\n...\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.storage/README.md\u003C/code> file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/storage/\u003C/code> directory\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/encrypting-block-devices-using-luks_managing-storage-devices\">Encrypting block devices by using LUKS\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/ansible-vault_automating-system-administration-by-using-rhel-system-roles\">Ansible vault\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"using-nvdimm-persistent-memory-storage_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 21. Using NVDIMM persistent memory storage\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can enable and manage various types of storage on Non-Volatile Dual In-line Memory Modules (NVDIMM) devices connected to your system.\n\t\t\u003C/p>\u003Cp>\n\t\t\tFor installing Red Hat Enterprise Linux 9 on NVDIMM storage, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#installing-to-a-nvdimm-device_storage-devices\">Installing to an NVDIMM device\u003C/a> instead.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"the-nvdimm-persistent-memory-technology_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.1. The NVDIMM persistent memory technology\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tNon-Volatile Dual In-line Memory Modules (NVDIMM) persistent memory, also called storage class memory or \u003Ccode class=\"literal\">pmem\u003C/code>, is a combination of memory and storage.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tNVDIMM combines the durability of storage with the low access latency and the high bandwidth of dynamic RAM (DRAM). The following are the other advantages of using NVDIMM:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNVDIMM storage is byte-addressable, which means it can be accessed by using the CPU load and store instructions. In addition to the read() and write() system calls, which are required for accessing traditional block-based storage, NVDIMM also supports direct load and a store programming model.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe performance characteristics of NVDIMM are similar to DRAM with very low access latency, typically in the tens to hundreds of nanoseconds.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tData stored on NVDIMM is preserved when the power is off, similar to a persistent memory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWith the direct access (DAX) technology, applications to memory map storage directly are possible without going through the system page cache. This frees up DRAM for other purposes.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tNVDIMM is beneficial in use cases such as:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Databases\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe reduced storage access latency on NVDIMM improves database performance.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Rapid restart\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRapid restart is also called the warm cache effect. For example, a file server has none of the file contents in memory after starting. As clients connect and read or write data, that data is cached in the page cache. Eventually, the cache contains mostly hot data. After a reboot, the system must start the process again on traditional storage.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWith NVDIMM, it is possible for an application to keep the warm cache across reboots if the application is designed properly. In this example, there would be no page cache involved: the application would cache data directly in the persistent memory.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Fast write-cache\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFile servers often do not acknowledge a client write request until the data is on durable media. Using NVDIMM as a fast write-cache, enables a file server to acknowledge the write request quickly, and results in low latency.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"nvdimm-interleaving-and-regions_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.2. NVDIMM interleaving and regions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tNon-Volatile Dual In-line Memory Modules (NVDIMM) devices support grouping into interleaved regions.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tNVDIMM devices can be grouped into interleave sets in the same way as regular dynamic RAM (DRAM). An interleave set is similar to a RAID 0 level (stripe) configuration across multiple DIMMs. An Interleave set is also called a region.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tInterleaving has the following advantages:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNVDIMM devices benefit from increased performance when they are configured into interleave sets.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInterleaving can combine multiple smaller NVDIMM devices into a larger logical device.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tNVDIMM interleave sets are configured in the system BIOS or UEFI firmware. Red Hat Enterprise Linux creates one region device for each interleave set.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"nvdimm-namespaces_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.3. NVDIMM namespaces\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tNon-Volatile Dual In-line Memory Modules (NVDIMM) regions can be divided into one or more namespaces depending on the size of the label area. Using namespaces, you can access the device using different methods, based on the access modes of the namespace such as \u003Ccode class=\"literal\">sector\u003C/code>, \u003Ccode class=\"literal\">fsdax\u003C/code>, \u003Ccode class=\"literal\">devdax\u003C/code>, and \u003Ccode class=\"literal\">raw\u003C/code>. For more information, \u003Ca class=\"link\" href=\"#nvdimm-access-modes_using-nvdimm-persistent-memory-storage\" title=\"21.4. NVDIMM access modes\">NVDIMM access modes\u003C/a>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tSome NVDIMM devices do not support multiple namespaces on a region:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf your ⁠NVDIMM device supports labels, you can subdivide the region into namespaces.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf your NVDIMM device does not support labels, the region can only contain a single namespace. In that case, Red Hat Enterprise Linux creates a default namespace that covers the entire region.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"nvdimm-access-modes_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.4. NVDIMM access modes\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can configure Non-Volatile Dual In-line Memory Modules (NVDIMM) namespaces to use either of the following modes:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">sector\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPresents the storage as a fast block device. This mode is useful for legacy applications that are not modified to use NVDIMM storage, or for applications that use the full I/O stack, including Device Mapper.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA \u003Ccode class=\"literal\">sector\u003C/code> device can be used in the same way as any other block device on the system. You can create partitions or file systems on it, configure it as part of a software RAID set, or use it as the cache device for \u003Ccode class=\"literal\">dm-cache\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDevices in this mode are available as \u003Ccode class=\"literal\">/dev/pmem\u003Cspan class=\"emphasis\">\u003Cem>N\u003C/em>\u003C/span>s\u003C/code>. After creating the namespace, see the listed \u003Ccode class=\"literal\">blockdev\u003C/code> value.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">devdax\u003C/code>, or device direct access (DAX)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWith \u003Ccode class=\"literal\">devdax\u003C/code>, NVDIMM devices support direct access programming as described in the Storage Networking Industry Association (SNIA) Non-Volatile Memory (NVM) Programming Model specification. In this mode, I/O bypasses the storage stack of the kernel. Therefore, no Device Mapper drivers can be used.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDevice DAX provides raw access to NVDIMM storage by using a DAX character device node. Data on a \u003Ccode class=\"literal\">devdax\u003C/code> device can be made durable using CPU cache flushing and fencing instructions. Certain databases and virtual machine hypervisors might benefit from this mode. File systems cannot be created on \u003Ccode class=\"literal\">devdax\u003C/code> devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDevices in this mode are available as \u003Ccode class=\"literal\">/dev/dax\u003Cspan class=\"emphasis\">\u003Cem>N\u003C/em>\u003C/span>.\u003Cspan class=\"emphasis\">\u003Cem>M\u003C/em>\u003C/span>\u003C/code>. After creating the namespace, see the listed \u003Ccode class=\"literal\">chardev\u003C/code> value.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">fsdax\u003C/code>, or file system direct access (DAX)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWith \u003Ccode class=\"literal\">fsdax\u003C/code>, NVDIMM devices support direct access programming as described in the Storage Networking Industry Association (SNIA) Non-Volatile Memory (NVM) Programming Model specification. In this mode, I/O bypasses the storage stack of the kernel, and many Device Mapper drivers therefore cannot be used.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can create file systems on file system DAX devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDevices in this mode are available as \u003Ccode class=\"literal\">/dev/pmem\u003Cspan class=\"emphasis\">\u003Cem>N\u003C/em>\u003C/span>\u003C/code>. After creating the namespace, see the listed \u003Ccode class=\"literal\">blockdev\u003C/code> value.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe file system DAX technology is provided only as a Technology Preview, and is not supported by Red Hat.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">raw\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPresents a memory disk that does not support DAX. In this mode, namespaces have several limitations and should not be used.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDevices in this mode are available as \u003Ccode class=\"literal\">/dev/pmem\u003Cspan class=\"emphasis\">\u003Cem>N\u003C/em>\u003C/span>\u003C/code>. After creating the namespace, see the listed \u003Ccode class=\"literal\">blockdev\u003C/code> value.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"installing-ndctl_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.5. Installing ndctl\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can install the \u003Ccode class=\"literal\">ndctl\u003C/code> utility to configure and monitor Non-Volatile Dual In-line Memory Modules (NVDIMM) devices.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">ndctl\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install ndctl\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.6. Creating a sector namespace on an NVDIMM to act as a block device\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can configure a Non-Volatile Dual In-line Memory Modules (NVDIMM) device in sector mode, also called legacy mode, to support traditional, block-based storage.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can either:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\treconfigure an existing namespace to sector mode, or\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tcreate a new sector namespace if there is available space.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn NVDIMM device is attached to your system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"reconfiguring-an-existing-nvdimm-namespace-to-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.6.1. Reconfiguring an existing NVDIMM namespace to sector mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can reconfigure an Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace to sector mode for using it as a fast block device.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tReconfiguring a namespace deletes previously stored data on the namespace.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ndctl\u003C/code> utility is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-ndctl_using-nvdimm-persistent-memory-storage\" title=\"21.5. Installing ndctl\">Installing ndctl\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tView the existing namespaces:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespaces --idle\n[\n  {\n    \"dev\":\"namespace1.0\",\n    \"mode\":\"raw\",\n    \"size\":34359738368,\n    \"state\":\"disabled\",\n    \"numa_node\":1\n  },\n  {\n    \"dev\":\"namespace0.0\",\n    \"mode\":\"raw\",\n    \"size\":34359738368,\n    \"state\":\"disabled\",\n    \"numa_node\":0\n  }\n]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReconfigure the selected namespace to the sector mode:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --force --reconfig=\u003Cspan class=\"emphasis\">\u003Cem>namespace-ID\u003C/em>\u003C/span> --mode=sector\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664182397360\">\u003Cp class=\"title\">\u003Cstrong>Example 21.1. Reconfiguring namespace1.0 in sector mode\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"literallayout\"># ndctl create-namespace --force --reconfig=namespace1.0 --mode=sector\n{\n  \"dev\":\"namespace1.0\",\n  \"mode\":\"sector\",\n  \"size\":\"755.26 GiB (810.95 GB)\",\n  \"uuid\":\"2509949d-1dc4-4ee0-925a-4542b28aa616\",\n  \"sector_size\":4096,\n  \"blockdev\":\"pmem1s\"\n}\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe reconfigured namespace is now available under the \u003Ccode class=\"literal\">/dev\u003C/code> directory as the \u003Ccode class=\"literal\">/dev/pmem1s\u003C/code> file.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify if the existing namespace on your system is reconfigured:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespace namespace1.0\n[\n  {\n    \"dev\":\"namespace1.0\",\n    \"mode\":\"sector\",\n    \"size\":810954706944,\n    \"uuid\":\"2509949d-1dc4-4ee0-925a-4542b28aa616\",\n    \"sector_size\":4096,\n    \"blockdev\":\"pmem1s\"\n  }\n]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-create-namespace(1)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-new-nvdimm-namespace-in-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.6.2. Creating a new NVDIMM namespace in sector mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can create a Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace in sector mode for using it as a fast block device if there is available space in the region.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ndctl\u003C/code> utility is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-ndctl_using-nvdimm-persistent-memory-storage\" title=\"21.5. Installing ndctl\">Installing ndctl\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe NVDIMM device supports labels to create multiple namespaces in a region. You can check this using the following command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl read-labels nmem0 &gt;/dev/null\n  read 1 nmem\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis indicates that it read the label of one NVDIMM device. If the value is \u003Ccode class=\"literal\">0\u003C/code>, it implies that your device does not support labels.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the \u003Ccode class=\"literal\">pmem\u003C/code> regions on your system that have available space. In the following example, space is available in the \u003Cspan class=\"emphasis\">\u003Cem>region1\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>region0\u003C/em>\u003C/span> regions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --regions\n[\n  {\n    \"dev\":\"region1\",\n    \"size\":2156073582592,\n    \"align\":16777216,\n    \"available_size\":2117418876928,\n    \"max_available_extent\":2117418876928,\n    \"type\":\"pmem\",\n    \"iset_id\":-9102197055295954944,\n    \"badblock_count\":1,\n    \"persistence_domain\":\"memory_controller\"\n  },\n  {\n    \"dev\":\"region0\",\n    \"size\":2156073582592,\n    \"align\":16777216,\n    \"available_size\":2143188680704,\n    \"max_available_extent\":2143188680704,\n    \"type\":\"pmem\",\n    \"iset_id\":736272362787276936,\n    \"badblock_count\":3,\n    \"persistence_domain\":\"memory_controller\"\n  }\n]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAllocate one or more namespaces on any of the available regions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --mode=sector --region=regionN --size=namespace-size\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664182372624\">\u003Cp class=\"title\">\u003Cstrong>Example 21.2. Creating a 36-GiB sector namespace on region0\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"literallayout\"># ndctl create-namespace --mode=sector --region=region0 --size=36G\n{\n  \"dev\":\"namespace0.1\",\n  \"mode\":\"sector\",\n  \"size\":\"35.96 GiB (38.62 GB)\",\n  \"uuid\":\"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817\",\n  \"sector_size\":4096,\n  \"blockdev\":\"pmem0.1s\"\n}\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe new namespace is now available as \u003Ccode class=\"literal\">/dev/pmem0.1s\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify if the new namespace is created in the sector mode:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list -RN -n namespace0.1\n{\n  \"regions\":[\n    {\n      \"dev\":\"region0\",\n      \"size\":2156073582592,\n      \"align\":16777216,\n      \"available_size\":2104533975040,\n      \"max_available_extent\":2104533975040,\n      \"type\":\"pmem\",\n      \"iset_id\":736272362787276936,\n      \"badblock_count\":3,\n      \"persistence_domain\":\"memory_controller\",\n      \"namespaces\":[\n        {\n          \"dev\":\"namespace0.1\",\n          \"mode\":\"sector\",\n          \"size\":38615912448,\n          \"uuid\":\"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817\",\n          \"sector_size\":4096,\n          \"blockdev\":\"pmem0.1s\"\n        }\n      ]\n    }\n  ]\n}\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-create-namespace(1)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.7. Creating a device DAX namespace on an NVDIMM\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tConfigure the NVDIMM device that is attached to your system, in device DAX mode to support character storage with direct access capabilities.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tConsider the following options:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReconfiguring an existing namespace to device DAX mode.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreating a new device DAX namespace, if there is space available.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"nvdimm-in-device-direct-access-mode_creating-a-device-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.7.1. NVDIMM in device direct access mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tDevice direct access (device DAX, \u003Ccode class=\"literal\">devdax\u003C/code>) provides a means for applications to directly access storage, without the involvement of a file system. The benefit of device DAX is that it provides a guaranteed fault granularity, which can be configured using the \u003Ccode class=\"literal\">--align\u003C/code> option of the \u003Ccode class=\"literal\">ndctl\u003C/code> utility.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor the Intel 64 and AMD64 architecture, the following fault granularities are supported:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t4 KiB\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t2 MiB\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t1 GiB\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tDevice DAX nodes support only the following system calls:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">open()\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">close()\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mmap()\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can view the supported alignments of your NVDIMM device using the \u003Ccode class=\"literal\">ndctl list --human --capabilities\u003C/code> command. For example, to view it for the \u003Cspan class=\"emphasis\">\u003Cem>region0\u003C/em>\u003C/span> device, use the \u003Ccode class=\"literal\">ndctl list --human --capabilities -r region0\u003C/code> command.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">read()\u003C/code> and \u003Ccode class=\"literal\">write()\u003C/code> system calls are not supported because the device DAX use case is tied to the SNIA Non-Volatile Memory Programming Model.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"reconfiguring-an-existing-nvdimm-namespace-to-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.7.2. Reconfiguring an existing NVDIMM namespace to device DAX mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can reconfigure an existing Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace to device DAX mode.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tReconfiguring a namespace deletes previously stored data on the namespace.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ndctl\u003C/code> utility is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-ndctl_using-nvdimm-persistent-memory-storage\" title=\"21.5. Installing ndctl\">Installing ndctl\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all namespaces on your system:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespaces --idle\n\n[\n  {\n    \"dev\":\"namespace1.0\",\n    \"mode\":\"raw\",\n    \"size\":34359738368,\n    \"uuid\":\"ac951312-b312-4e76-9f15-6e00c8f2e6f4\"\n    \"state\":\"disabled\",\n    \"numa_node\":1\n  },\n  {\n    \"dev\":\"namespace0.0\",\n    \"mode\":\"raw\",\n    \"size\":38615912448,\n    \"uuid\":\"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817\",\n    \"state\":\"disabled\",\n    \"numa_node\":0\n  }\n]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReconfigure any namespace:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --force --mode=devdax --reconfig=\u003Cspan class=\"emphasis\">\u003Cem>namespace-ID\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664182556848\">\u003Cp class=\"title\">\u003Cstrong>Example 21.3. Reconfiguring a namespace as device DAX\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\t\tThe following command reconfigures \u003Ccode class=\"literal\">namespace0.1\u003C/code> for data storage that supports DAX. It is aligned to a 2-MiB fault granularity to ensure that the operating system faults in 2-MiB pages at a time:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --force --mode=devdax  --align=2M --reconfig=namespace0.1\n{\n  \"dev\":\"namespace0.1\",\n  \"mode\":\"devdax\",\n  \"map\":\"dev\",\n  \"size\":\"35.44 GiB (38.05 GB)\",\n  \"uuid\":\"426d6a52-df92-43d2-8cc7-046241d6d761\",\n  \"daxregion\":{\n    \"id\":0,\n    \"size\":\"35.44 GiB (38.05 GB)\",\n    \"align\":2097152,\n    \"devices\":[\n      {\n        \"chardev\":\"dax0.1\",\n        \"size\":\"35.44 GiB (38.05 GB)\",\n        \"target_node\":4,\n        \"mode\":\"devdax\"\n      }\n    ]\n  },\n  \"align\":2097152\n}\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe namespace is now available at the \u003Ccode class=\"literal\">/dev/dax0.1\u003C/code> path.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify if the existing namespaces on your system is reconfigured:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespace namespace0.1\n[\n  {\n    \"dev\":\"namespace0.1\",\n    \"mode\":\"devdax\",\n    \"map\":\"dev\",\n    \"size\":38048628736,\n    \"uuid\":\"426d6a52-df92-43d2-8cc7-046241d6d761\",\n    \"chardev\":\"dax0.1\",\n    \"align\":2097152\n  }\n]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-create-namespace(1)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-new-nvdimm-namespace-in-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.7.3. Creating a new NVDIMM namespace in device DAX mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can create a new device DAX namespace on an Non-Volatile Dual In-line Memory Modules (NVDIMM) device if there is available space in the region.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ndctl\u003C/code> utility is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-ndctl_using-nvdimm-persistent-memory-storage\" title=\"21.5. Installing ndctl\">Installing ndctl\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe NVDIMM device supports labels to create multiple namespaces in a region. You can check this using the following command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl read-labels nmem0 &gt;/dev/null\nread 1 nmem\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis indicates that it read the label of one NVDIMM device. If the value is \u003Ccode class=\"literal\">0\u003C/code>, it implies that your device does not support labels.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the \u003Ccode class=\"literal\">pmem\u003C/code> regions on your system that have available space. In the following example, space is available in the \u003Cspan class=\"emphasis\">\u003Cem>region1\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>region0\u003C/em>\u003C/span> regions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --regions\n[\n  {\n    \"dev\":\"region1\",\n    \"size\":2156073582592,\n    \"align\":16777216,\n    \"available_size\":2117418876928,\n    \"max_available_extent\":2117418876928,\n    \"type\":\"pmem\",\n    \"iset_id\":-9102197055295954944,\n    \"badblock_count\":1,\n    \"persistence_domain\":\"memory_controller\"\n  },\n  {\n    \"dev\":\"region0\",\n    \"size\":2156073582592,\n    \"align\":16777216,\n    \"available_size\":2143188680704,\n    \"max_available_extent\":2143188680704,\n    \"type\":\"pmem\",\n    \"iset_id\":736272362787276936,\n    \"badblock_count\":3,\n    \"persistence_domain\":\"memory_controller\"\n  }\n]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAllocate one or more namespaces on any of the available regions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --mode=devdax --region=region_N_ --size=\u003Cspan class=\"emphasis\">\u003Cem>namespace-size\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664187687712\">\u003Cp class=\"title\">\u003Cstrong>Example 21.4. Creating a namespace on a region\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\t\tThe following command creates a 36-GiB device DAX namespace on region0. It is aligned to a 2-MiB fault granularity to ensure that the operating system faults in 2-MiB pages at a time:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --mode=devdax --region=region0 --align=2M --size=36G\n{\n  \"dev\":\"namespace0.2\",\n  \"mode\":\"devdax\",\n  \"map\":\"dev\",\n  \"size\":\"35.44 GiB (38.05 GB)\",\n  \"uuid\":\"89d13f41-be6c-425b-9ec7-1e2a239b5303\",\n  \"daxregion\":{\n    \"id\":0,\n    \"size\":\"35.44 GiB (38.05 GB)\",\n    \"align\":2097152,\n    \"devices\":[\n      {\n        \"chardev\":\"dax0.2\",\n        \"size\":\"35.44 GiB (38.05 GB)\",\n        \"target_node\":4,\n        \"mode\":\"devdax\"\n      }\n    ]\n  },\n  \"align\":2097152\n}\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe namespace is now available as \u003Ccode class=\"literal\">/dev/dax0.2\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify if the new namespace is created in the sector mode:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list -RN -n namespace0.2\n{\n  \"regions\":[\n    {\n      \"dev\":\"region0\",\n      \"size\":2156073582592,\n      \"align\":16777216,\n      \"available_size\":2065879269376,\n      \"max_available_extent\":2065879269376,\n      \"type\":\"pmem\",\n      \"iset_id\":736272362787276936,\n      \"badblock_count\":3,\n      \"persistence_domain\":\"memory_controller\",\n      \"namespaces\":[\n        {\n          \"dev\":\"namespace0.2\",\n          \"mode\":\"devdax\",\n          \"map\":\"dev\",\n          \"size\":38048628736,\n          \"uuid\":\"89d13f41-be6c-425b-9ec7-1e2a239b5303\",\n          \"chardev\":\"dax0.2\",\n          \"align\":2097152\n        }\n      ]\n    }\n  ]\n}\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-create-namespace(1)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.8. Creating a file system DAX namespace on an NVDIMM\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tConfigure an NVDIMM device that is attached to your system, in file system DAX mode to support a file system with direct access capabilities.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tConsider the following options:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReconfiguring an existing namespace to file system DAX mode.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreating a new file system DAX namespace if there is available space.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe file system DAX technology is provided only as a Technology Preview, and is not supported by Red Hat.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.8.1. NVDIMM in file system direct access mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tWhen an NVDIMM device is configured in file system direct access (file system DAX, \u003Ccode class=\"literal\">fsdax\u003C/code>) mode, you can create a file system on top of it. Any application that performs an \u003Ccode class=\"literal\">mmap()\u003C/code> operation on a file on this file system gets direct access to its storage. This enables the direct access programming model on NVDIMM.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following new \u003Ccode class=\"literal\">-o dax\u003C/code> options are now available, and direct access behavior can be controlled through a file attribute if required:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">-o dax=inode\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis is the default option when you do not specify any dax option while mounting a file system. Using this option, you can set an attribute flag on files to control if the dax mode can be activated. If required, you can set this flag on individual files.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can also set this flag on a directory and any files in that directory will be created with the same flag. You can set this attribute flag by using the \u003Ccode class=\"literal\">xfs_io -c 'chattr +x'\u003C/code> directory-name command.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">-o dax=never\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tWith this option, the dax mode will not be enabled even if the dax flag is set to an \u003Ccode class=\"literal\">inode\u003C/code> mode. This means that the per-inode dax attribute flag is ignored, and files set with this flag will never be direct-access enabled.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">-o dax=always\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis option is equivalent to the old \u003Ccode class=\"literal\">-o dax\u003C/code> behavior. With this option, you can activate direct access mode for any file on the file system, regardless of the dax attribute flag.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tIn further releases, \u003Ccode class=\"literal\">-o dax\u003C/code> might not be supported and if required, you can use \u003Ccode class=\"literal\">-o dax=always\u003C/code> instead. In this mode, every file might be in the direct-access mode.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Per-page metadata allocation\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis mode requires allocating per-page metadata in the system DRAM or on the NVDIMM device itself. The overhead of this data structure is 64 bytes per each 4-KiB page:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn small devices, the amount of overhead is small enough to fit in DRAM with no problems. For example, a 16-GiB namespace only requires 256 MiB for page structures. Since NVDIMM devices are usually small and expensive, storing the page tracking data structures in DRAM is preferable.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tOn NVDIMM devices that are be terabytes in size or larger, the amount of memory required to store the page tracking data structures might exceed the amount of DRAM in the system. One TiB of NVDIMM requires 16 GiB for page structures. As a result, storing the data structures on the NVDIMM itself is preferable in such cases.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tYou can configure where per-page metadata are stored using the \u003Ccode class=\"literal\">--map\u003C/code> option when configuring a namespace:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tTo allocate in the system RAM, use \u003Ccode class=\"literal\">--map=mem\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tTo allocate on the NVDIMM, use \u003Ccode class=\"literal\">--map=dev\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"reconfiguring-an-existing-nvdimm-namespace-to-file-system-dax-mode_creating-a-file-system-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.8.2. Reconfiguring an existing NVDIMM namespace to file system DAX mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can reconfigure an existing Non-Volatile Dual In-line Memory Modules (NVDIMM) namespace to file system DAX mode.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tReconfiguring a namespace deletes previously stored data on the namespace.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ndctl\u003C/code> utility is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-ndctl_using-nvdimm-persistent-memory-storage\" title=\"21.5. Installing ndctl\">Installing ndctl\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all namespaces on your system:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespaces --idle\n[\n  {\n    \"dev\":\"namespace1.0\",\n    \"mode\":\"raw\",\n    \"size\":34359738368,\n    \"uuid\":\"ac951312-b312-4e76-9f15-6e00c8f2e6f4\"\n    \"state\":\"disabled\",\n    \"numa_node\":1\n  },\n  {\n    \"dev\":\"namespace0.0\",\n    \"mode\":\"raw\",\n    \"size\":38615912448,\n    \"uuid\":\"ff5a0a16-3495-4ce8-b86b-f0e3bd9d1817\",\n    \"state\":\"disabled\",\n    \"numa_node\":0\n  }\n]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReconfigure any namespace:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --force --mode=fsdax --reconfig=\u003Cspan class=\"emphasis\">\u003Cem>namespace-ID\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664181672688\">\u003Cp class=\"title\">\u003Cstrong>Example 21.5. Reconfiguring a namespace as file system DAX\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\t\tTo use \u003Ccode class=\"literal\">namespace0.0\u003C/code> for a file system that supports DAX, use the following command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --force --mode=fsdax --reconfig=namespace0.0\n{\n  \"dev\":\"namespace0.0\",\n  \"mode\":\"fsdax\",\n  \"map\":\"dev\",\n  \"size\":\"11.81 GiB (12.68 GB)\",\n  \"uuid\":\"f8153ee3-c52d-4c6e-bc1d-197f5be38483\",\n  \"sector_size\":512,\n  \"align\":2097152,\n  \"blockdev\":\"pmem0\"\n}\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe namespace is now available at the \u003Ccode class=\"literal\">/dev/pmem0\u003C/code> path.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify if the existing namespaces on your system is reconfigured:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespace namespace0.0\n[\n  {\n    \"dev\":\"namespace0.0\",\n    \"mode\":\"fsdax\",\n    \"map\":\"dev\",\n    \"size\":12681478144,\n    \"uuid\":\"f8153ee3-c52d-4c6e-bc1d-197f5be38483\",\n    \"sector_size\":512,\n    \"align\":2097152,\n    \"blockdev\":\"pmem0\"\n  }\n]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-create-namespace(1)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-new-nvdimm-namespace-in-file-system-DAX-mode_creating-a-file-system-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.8.3. Creating a new NVDIMM namespace in file system DAX mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can create a new file system DAX namespace on an Non-Volatile Dual In-line Memory Modules (NVDIMM) device if there is available space in the region.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ndctl\u003C/code> utility is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-ndctl_using-nvdimm-persistent-memory-storage\" title=\"21.5. Installing ndctl\">Installing ndctl\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe NVDIMM device supports labels to create multiple namespaces in a region. You can check this using the following command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl read-labels nmem0 &gt;/dev/null\nread 1 nmem\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis indicates that it read the label of one NVDIMM device. If the value is \u003Ccode class=\"literal\">0\u003C/code>, it implies that your device does not support labels.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the \u003Ccode class=\"literal\">pmem\u003C/code> regions on your system that have available space. In the following example, space is available in the \u003Cspan class=\"emphasis\">\u003Cem>region1\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>region0\u003C/em>\u003C/span> regions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --regions\n[\n  {\n    \"dev\":\"region1\",\n    \"size\":2156073582592,\n    \"align\":16777216,\n    \"available_size\":2117418876928,\n    \"max_available_extent\":2117418876928,\n    \"type\":\"pmem\",\n    \"iset_id\":-9102197055295954944,\n    \"badblock_count\":1,\n    \"persistence_domain\":\"memory_controller\"\n  },\n  {\n    \"dev\":\"region0\",\n    \"size\":2156073582592,\n    \"align\":16777216,\n    \"available_size\":2143188680704,\n    \"max_available_extent\":2143188680704,\n    \"type\":\"pmem\",\n    \"iset_id\":736272362787276936,\n    \"badblock_count\":3,\n    \"persistence_domain\":\"memory_controller\"\n  }\n]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAllocate one or more namespaces on any of the available regions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --mode=fsdax --region=\u003Cspan class=\"emphasis\">\u003Cem>regionN\u003C/em>\u003C/span> --size=\u003Cspan class=\"emphasis\">\u003Cem>namespace-size\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664178966128\">\u003Cp class=\"title\">\u003Cstrong>Example 21.6. Creating a namespace on a region\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\t\tThe following command creates a 36-GiB file system DAX namespace on \u003Cspan class=\"emphasis\">\u003Cem>region0\u003C/em>\u003C/span>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl create-namespace --mode=fsdax --region=region0 --size=36G\n{\n  \"dev\":\"namespace0.3\",\n  \"mode\":\"fsdax\",\n  \"map\":\"dev\",\n  \"size\":\"35.44 GiB (38.05 GB)\",\n  \"uuid\":\"99e77865-42eb-4b82-9db6-c6bc9b3959c2\",\n  \"sector_size\":512,\n  \"align\":2097152,\n  \"blockdev\":\"pmem0.3\"\n}\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe namespace is now available as \u003Ccode class=\"literal\">/dev/pmem0.3\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify if the new namespace is created in the sector mode:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list -RN -n namespace0.3\n{\n  \"regions\":[\n    {\n      \"dev\":\"region0\",\n      \"size\":2156073582592,\n      \"align\":16777216,\n      \"available_size\":2027224563712,\n      \"max_available_extent\":2027224563712,\n      \"type\":\"pmem\",\n      \"iset_id\":736272362787276936,\n      \"badblock_count\":3,\n      \"persistence_domain\":\"memory_controller\",\n      \"namespaces\":[\n        {\n          \"dev\":\"namespace0.3\",\n          \"mode\":\"fsdax\",\n          \"map\":\"dev\",\n          \"size\":38048628736,\n          \"uuid\":\"99e77865-42eb-4b82-9db6-c6bc9b3959c2\",\n          \"sector_size\":512,\n          \"align\":2097152,\n          \"blockdev\":\"pmem0.3\"\n        }\n      ]\n    }\n  ]\n}\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-create-namespace(1)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-file-system-on-a-file-system-dax-device_creating-a-file-system-dax-namespace-on-an-nvdimm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">21.8.4. Creating a file system on a file system DAX device\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can create a file system on a file system DAX device and mount the file system. After creating a file system, application can use persistent memory and create files in the \u003Cspan class=\"emphasis\">\u003Cem>mount-point\u003C/em>\u003C/span> directory, open the files, and use the \u003Ccode class=\"literal\">mmap\u003C/code> operation to map the files for direct access.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tOn Red Hat Enterprise Linux 9, both the XFS and ext4 file system can be created on NVDIMM as a Technology Preview.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Create a partition on the file system DAX device. For more information, see \u003Ca class=\"link\" href=\"#proc_creating-a-partition-with-parted_getting-started-with-partitions\" title=\"5.3. Creating a partition with parted\">Creating a partition with parted\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tWhen creating partitions on an \u003Ccode class=\"literal\">fsdax\u003C/code> device, partitions must be aligned on page boundaries. On the Intel 64 and AMD64 architecture, at least 4 KiB alignment is required for the start and end of the partition. 2 MiB is the preferred alignment.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">parted\u003C/code> tool aligns partitions on 1 MiB boundaries. For the first partition, specify 2 MiB as the start of the partition. If the size of the partition is a multiple of 2 MiB, all other partitions are also aligned.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate an XFS or ext4 file system on the partition or the NVDIMM device:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mkfs.xfs  -d su=2m,sw=1 \u003Cspan class=\"emphasis\">\u003Cem>fsdax-partition-or-device\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe dax-capable and reflinked files can now co-exist on the file system. However, for an individual file, dax and reflink are mutually exclusive.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\tFor XFS, disable shared copy-on-write data extents because they are incompatible with the dax mount option. Additionally, in order to increase the likelihood of large page mappings, set the stripe unit and stripe width.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMount the file system:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># mount f_sdax-partition-or-device mount-point_\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThere is no need to mount a file system with the dax option to enable direct access mode. When you do not specify any dax option while mounting, the file system is in the \u003Ccode class=\"literal\">dax=inode\u003C/code> mode. Set the dax option on the file before direct access mode is activated.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mkfs.xfs(8)\u003C/code> man page on your system\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm\" title=\"21.8.1. NVDIMM in file system direct access mode\">NVDIMM in file system direct access mode\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.9. Monitoring NVDIMM health using S.M.A.R.T.\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tSome Non-Volatile Dual In-line Memory Modules (NVDIMM) devices support Self-Monitoring, Analysis and Reporting Technology (S.M.A.R.T.) interfaces for retrieving health information.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tMonitor NVDIMM health regularly to prevent data loss. If S.M.A.R.T. reports problems with the health status of an NVDIMM device, replace it as described in \u003Ca class=\"link\" href=\"#detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage\" title=\"21.10. Detecting and replacing a broken NVDIMM device\">Detecting and replacing a broken NVDIMM device\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On some systems, upload the \u003Ccode class=\"literal\">acpi_ipmi\u003C/code> driver to retrieve health information using the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># modprobe acpi_ipmi\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAccess the health information:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --dimms --health\n[\n  {\n    \"dev\":\"nmem1\",\n    \"id\":\"8089-a2-1834-00001f13\",\n    \"handle\":17,\n    \"phys_id\":32,\n    \"security\":\"disabled\",\n    \"health\":{\n      \"health_state\":\"ok\",\n      \"temperature_celsius\":36.0,\n      \"controller_temperature_celsius\":37.0,\n      \"spares_percentage\":100,\n      \"alarm_temperature\":false,\n      \"alarm_controller_temperature\":false,\n      \"alarm_spares\":false,\n      \"alarm_enabled_media_temperature\":true,\n      \"temperature_threshold\":82.0,\n      \"alarm_enabled_ctrl_temperature\":true,\n      \"controller_temperature_threshold\":98.0,\n      \"alarm_enabled_spares\":true,\n      \"spares_threshold\":50,\n      \"shutdown_state\":\"clean\",\n      \"shutdown_count\":4\n    }\n  },\n[...]\n]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-list(1)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">21.10. Detecting and replacing a broken NVDIMM device\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you find error messages related to Non-Volatile Dual In-line Memory Modules (NVDIMM) reported in your system log or by S.M.A.R.T., it might mean an NVDIMM device is failing. In that case, it is necessary to:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDetect which NVDIMM device is failing\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBack up data stored on it\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPhysically replace the device\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDetect the broken device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --dimms --regions --health\n{\n  \"dimms\":[\n    {\n      \"dev\":\"nmem1\",\n      \"id\":\"8089-a2-1834-00001f13\",\n      \"handle\":17,\n      \"phys_id\":32,\n      \"security\":\"disabled\",\n      \"health\":{\n        \"health_state\":\"ok\",\n        \"temperature_celsius\":35.0,\n        [...]\n      }\n[...]\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the \u003Ccode class=\"literal\">phys_id\u003C/code> attribute of the broken NVDIMM:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --dimms --human\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the previous example, you know that \u003Ccode class=\"literal\">nmem0\u003C/code> is the broken NVDIMM. Therefore, find the \u003Ccode class=\"literal\">phys_id\u003C/code> attribute of \u003Ccode class=\"literal\">nmem0\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140664178160992\">\u003Cp class=\"title\">\u003Cstrong>Example 21.7. The phys_id attributes of NVDIMMs\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\tIn the following example, the \u003Ccode class=\"literal\">phys_id\u003C/code> is \u003Ccode class=\"literal\">0x10\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># ndctl list --dimms --human\n\n[\n  {\n    \"dev\":\"nmem1\",\n    \"id\":\"XXXX-XX-XXXX-XXXXXXXX\",\n    \"handle\":\"0x120\",\n    \"phys_id\":\"0x1c\"\n  },\n  {\n    \"dev\":\"nmem0\",\n    \"id\":\"XXXX-XX-XXXX-XXXXXXXX\",\n    \"handle\":\"0x20\",\n    \"phys_id\":\"0x10\",\n    \"flag_failed_flush\":true,\n    \"flag_smart_event\":true\n  }\n]\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the memory slot of the broken NVDIMM:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># dmidecode\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the output, find the entry where the \u003Cspan class=\"strong strong\">\u003Cstrong>Handle\u003C/strong>\u003C/span> identifier matches the \u003Ccode class=\"literal\">phys_id\u003C/code> attribute of the broken NVDIMM. The \u003Cspan class=\"strong strong\">\u003Cstrong>Locator\u003C/strong>\u003C/span> field lists the memory slot used by the broken NVDIMM.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140664178153376\">\u003Cp class=\"title\">\u003Cstrong>Example 21.8. NVDIMM Memory Slot Listing\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\tIn the following example, the \u003Ccode class=\"literal\">nmem0\u003C/code> device matches the \u003Ccode class=\"literal\">0x0010\u003C/code> identifier and uses the \u003Ccode class=\"literal\">DIMM-XXX-YYYY\u003C/code> memory slot:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># dmidecode\n\n...\nHandle 0x0010, DMI type 17, 40 bytes\nMemory Device\n        Array Handle: 0x0004\n        Error Information Handle: Not Provided\n        Total Width: 72 bits\n        Data Width: 64 bits\n        Size: 125 GB\n        Form Factor: DIMM\n        Set: 1\n        Locator: DIMM-XXX-YYYY\n        Bank Locator: Bank0\n        Type: Other\n        Type Detail: Non-Volatile Registered (Buffered)\n...\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBack up all data in the namespaces on the NVDIMM. If you do not back up the data before replacing the NVDIMM, the data will be lost when you remove the NVDIMM from your system.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIn some cases, such as when the NVDIMM is completely broken, the backup might fail.\n\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\tTo prevent this, regularly monitor your NVDIMM devices using S.M.A.R.T. as described in \u003Ca class=\"link\" href=\"#monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage\" title=\"21.9. Monitoring NVDIMM health using S.M.A.R.T.\">Monitoring NVDIMM health using S.M.A.R.T.\u003C/a> and replace failing NVDIMMs before they break.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the namespaces on the NVDIMM:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespaces --dimm=\u003Cspan class=\"emphasis\">\u003Cem>DIMM-ID-number\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140664178143616\">\u003Cp class=\"title\">\u003Cstrong>Example 21.9. NVDIMM namespaces listing\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\tIn the following example, the \u003Ccode class=\"literal\">nmem0\u003C/code> device contains the \u003Ccode class=\"literal\">namespace0.0\u003C/code> and \u003Ccode class=\"literal\">namespace0.2\u003C/code> namespaces, which you need to back up:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ndctl list --namespaces --dimm=0\n\n[\n  {\n    \"dev\":\"namespace0.2\",\n    \"mode\":\"sector\",\n    \"size\":67042312192,\n    \"uuid\":\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\",\n    \"raw_uuid\":\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\",\n    \"sector_size\":4096,\n    \"blockdev\":\"pmem0.2s\",\n    \"numa_node\":0\n  },\n  {\n    \"dev\":\"namespace0.0\",\n    \"mode\":\"sector\",\n    \"size\":67042312192,\n    \"uuid\":\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\",\n    \"raw_uuid\":\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\",\n    \"sector_size\":4096,\n    \"blockdev\":\"pmem0s\",\n    \"numa_node\":0\n  }\n]\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReplace the broken NVDIMM physically.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">ndctl-list(1)\u003C/code> and \u003Ccode class=\"literal\">dmidecode(8)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"discarding-unused-blocks_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 22. Discarding unused blocks\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can perform or schedule discard operations on block devices that support them. The block discard operation communicates to the underlying storage which filesystem blocks are no longer in use by the mounted filesystem. Block discard operations allow SSDs to optimize garbage collection routines, and they can inform thinly-provisioned storage to repurpose unused physical blocks.\n\t\t\u003C/p>\u003Ch4 id=\"requirements\">Requirements\u003C/h4>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tThe block device underlying the file system must support physical discard operations.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tPhysical discard operations are supported if the value in the \u003Ccode class=\"literal filename\">/sys/block/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">&lt;device&gt;\u003C/span>\u003C/em>\u003C/span>/queue/discard_max_bytes\u003C/code> file is not zero.\n\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"types-of-block-discard-operations_discarding-unused-blocks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">22.1. Types of block discard operations\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can run discard operations using different methods:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Batch discard\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIs triggered explicitly by the user and discards all unused blocks in the selected file systems.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Online discard\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIs specified at mount time and triggers in real time without user intervention. Online discard operations discard only blocks that are transitioning from the \u003Ccode class=\"literal\">used\u003C/code> to the \u003Ccode class=\"literal\">free\u003C/code> state.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Periodic discard\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAre batch operations that are run regularly by a \u003Ccode class=\"literal\">systemd\u003C/code> service.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tAll types are supported by the XFS and ext4 file systems.\n\t\t\t\u003C/p>\u003Ch5 id=\"recommendations\">Recommendations\u003C/h5>\u003Cp>\n\t\t\t\tRed Hat recommends that you use batch or periodic discard.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUse online discard only if:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tthe system’s workload is such that batch discard is not feasible, or\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tonline discard operations are necessary to maintain performance.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"performing-batch-block-discard_discarding-unused-blocks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">22.2. Performing batch block discard\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can perform a batch block discard operation to discard unused blocks on a mounted file system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe file system is mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block device underlying the file system supports physical discard operations.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">fstrim\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo perform discard only on a selected file system, use:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># fstrim \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo perform discard on all mounted file systems, use:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># fstrim --all\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIf you execute the \u003Ccode class=\"literal\">fstrim\u003C/code> command on:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\ta device that does not support discard operations, or\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\ta logical device (LVM or MD) composed of multiple devices, where any one of the device does not support discard operations,\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tthe following message displays:\n\t\t\t\u003C/p>\u003Cpre class=\"screen\"># fstrim \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">/mnt/non_discard\u003C/span>\u003C/em>\u003C/span>\n\nfstrim: \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">/mnt/non_discard\u003C/span>\u003C/em>\u003C/span>: the discard operation is not supported\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">fstrim(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-online-block-discard_discarding-unused-blocks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">22.3. Enabling online block discard\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can perform online block discard operations to automatically discard unused blocks on all supported file systems.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable online discard at mount time:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWhen mounting a file system manually, add the \u003Ccode class=\"literal option\">-o discard\u003C/code> mount option:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mount -o discard \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">device\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tWhen mounting a file system persistently, add the \u003Ccode class=\"literal option\">discard\u003C/code> option to the mount entry in the \u003Ccode class=\"literal filename\">/etc/fstab\u003C/code> file.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mount(8)\u003C/code> and \u003Ccode class=\"literal\">fstab(5)\u003C/code> man pages on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-periodic-block-discard_discarding-unused-blocks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">22.4. Enabling periodic block discard\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can enable a \u003Ccode class=\"literal\">systemd\u003C/code> timer to regularly discard unused blocks on all supported file systems.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">systemd\u003C/code> timer:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now fstrim.timer\u003C/strong>\u003C/span>\nCreated symlink /etc/systemd/system/timers.target.wants/fstrim.timer → /usr/lib/systemd/system/fstrim.timer.\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify the status of the timer:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status fstrim.timer\u003C/strong>\u003C/span>\nfstrim.timer - Discard unused blocks once a week\n   Loaded: loaded (/usr/lib/systemd/system/fstrim.timer; enabled; vendor preset: disabled)\n   Active: active (waiting) since Wed 2023-05-17 13:24:41 CEST; 3min 15s ago\n  Trigger: Mon 2023-05-22 01:20:46 CEST; 4 days left\n     Docs: man:fstrim\n\nMay 17 13:24:41 localhost.localdomain systemd[1]: Started Discard unused blocks once a week.\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"removing-storage-devices_managing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 23. Removing storage devices\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can safely remove a storage device from a running system, which helps prevent system memory overload and data loss. Do not remove a storage device on a system where:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tFree memory is less than 5% of the total memory in more than 10 samples per 100.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSwapping is active (non-zero \u003Ccode class=\"literal\">si\u003C/code> and \u003Ccode class=\"literal\">so\u003C/code> columns in the \u003Ccode class=\"literal\">vmstat\u003C/code> command output).\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tBefore you remove a storage device, ensure that you have enough free system memory due to the increased system memory load during an I/O flush. Use the following commands to view the current memory load and free memory of the system:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>vmstat 1 100\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>free\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"safe-removal-of-storage-devices_removing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">23.1. Safe removal of storage devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tSafely removing a storage device from a running system requires a top-to-bottom approach. Start from the top layer, which typically is an application or a file system, and work towards the bottom layer, which is the physical device.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use storage devices in multiple ways, and they can have different virtual configurations on top of physical devices. For example, you can group multiple instances of a device into a multipath device, make it part of a RAID, or you can make it part of an LVM group. Additionally, devices can be accessed via a file system, or they can be accessed directly such as a “raw” device.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhile using the top-to-bottom approach, you must ensure that:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tthe device that you want to remove is not in use\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tall pending I/O to the device is flushed\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tthe operating system is not referencing the storage device\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-block-devices-and-associated-metadata_removing-storage-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">23.2. Removing block devices and associated metadata\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo safely remove a block device from a running system, to help prevent system memory overload and data loss you need to first remove metadata from them. Address each layer in the stack, starting with the file system, and proceed to the disk. These actions prevent putting your system into an inconsistent state.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUse specific commands that may vary depending on what type of devices you are removing:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">lvremove\u003C/code>, \u003Ccode class=\"literal\">vgremove\u003C/code> and \u003Ccode class=\"literal\">pvremove\u003C/code> are specific to LVM.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor software RAID, run \u003Ccode class=\"literal\">mdadm\u003C/code> to remove the array. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index#managing-raid_managing-storage-devices\">Managing RAID\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor block devices encrypted using LUKS, there are specific additional steps. The following procedure will not work for the block devices encrypted using LUKS. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/encrypting-block-devices-using-luks_security-hardening\">Encrypting block devices using LUKS\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRescanning the SCSI bus or performing any other action that changes the state of the operating system, without following the procedure documented here can cause delays due to I/O timeouts, devices to be removed unexpectedly, or data loss.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have an existing block device stack containing the file system, the logical volume, and the volume group.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou ensured that no other applications or services are using the device that you want to remove.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou backed up the data from the device that you want to remove.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: If you want to remove a multipath device, and you are unable to access its path devices, disable queueing of the multipath device by running the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>multipathd disablequeueing map \u003Cspan class=\"emphasis\">\u003Cem>multipath-device\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis enables the I/O of the device to fail, allowing the applications that are using the device to shut down.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRemoving devices with their metadata one layer at a time ensures no stale signatures remain on the disk.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>umount \u003Cspan class=\"emphasis\">\u003Cem>/mnt/mount-point\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wipefs -a \u003Cspan class=\"emphasis\">\u003Cem>/dev/vg0/myvol\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you have added an entry into the \u003Ccode class=\"literal\">/etc/fstab\u003C/code> file to make a persistent association between the file system and a mount point, edit \u003Ccode class=\"literal\">/etc/fstab\u003C/code> at this point to remove that entry.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tContinue with the following steps, depending on the type of the device you want to remove:\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the logical volume (LV) that contained the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lvremove \u003Cspan class=\"emphasis\">\u003Cem>vg0/myvol\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf there are no other logical volumes remaining in the volume group (VG), you can safely remove the VG that contained the device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>vgremove \u003Cspan class=\"emphasis\">\u003Cem>vg0\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the physical volume (PV) metadata from the PV device(s):\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>pvremove \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdc1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wipefs -a \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdc1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the partitions that contained the PVs:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>parted \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdc\u003C/em>\u003C/span> rm 1\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove the partition table if you want to fully wipe the device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wipefs -a \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExecute the following steps only if you want to physically remove the device:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you are removing a multipath device, execute the following commands:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tView all the paths to the device:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>multipath -l\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tThe output of this command is required in a later step.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tFlush the I/O and remove the multipath device:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>multipath -f \u003Cspan class=\"emphasis\">\u003Cem>multipath-device\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the device is not configured as a multipath device, or if the device is configured as a multipath device and you have previously passed I/O to the individual paths, flush any outstanding I/O to all device paths that are used:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>blockdev --flushbufs \u003Cspan class=\"emphasis\">\u003Cem>device\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis is important for devices accessed directly where the \u003Ccode class=\"literal\">umount\u003C/code> or \u003Ccode class=\"literal\">vgreduce\u003C/code> commands do not flush the I/O.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you are removing a SCSI device, execute the following commands:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tRemove any reference to the path-based name of the device, such as \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>/dev/sd\u003C/em>\u003C/span>\u003C/code>, \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>/dev/disk/by-path\u003C/em>\u003C/span>\u003C/code>, or the \u003Ccode class=\"literal\">major:minor\u003C/code> number, in applications, scripts, or utilities on the system. This ensures that different devices added in the future are not mistaken for the current device.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tRemove each path to the device from the SCSI subsystem:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo 1 &gt; /sys/block/\u003Cspan class=\"emphasis\">\u003Cem>device-name\u003C/em>\u003C/span>/device/delete\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tHere the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>device-name\u003C/em>\u003C/span>\u003C/code> is retrieved from the output of the \u003Ccode class=\"literal\">multipath -l\u003C/code> command, if the device was previously used as a multipath device.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRemove the physical device from a running system. Note that the I/O to other devices does not stop when you remove this device.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the devices you intended to remove are not displaying on the output of \u003Ccode class=\"literal\">lsblk\u003C/code> command. The following is an example output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>lsblk\u003C/strong>\u003C/span>\n\nNAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nsda      8:0    0    5G  0 disk\nsr0     11:0    1 1024M  0 rom\nvda    252:0    0   10G  0 disk\n|-vda1 252:1    0    1M  0 part\n|-vda2 252:2    0  100M  0 part /boot/efi\n`-vda3 252:3    0  9.9G  0 part /\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">multipath(8)\u003C/code>, \u003Ccode class=\"literal\">pvremove(8)\u003C/code>, \u003Ccode class=\"literal\">vgremove(8)\u003C/code>, \u003Ccode class=\"literal\">lvremove(8)\u003C/code>, \u003Ccode class=\"literal\">wipefs(8)\u003C/code>, \u003Ccode class=\"literal\">parted(8)\u003C/code>, \u003Ccode class=\"literal\">blockdev(8)\u003C/code> and \u003Ccode class=\"literal\">umount(8)\u003C/code> man pages\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 24. Setting up Stratis file systems\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tStratis runs as a service to manage pools of physical storage devices, simplifying local storage management with ease of use while helping you set up and manage complex storage configurations.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"the-purpose-and-features-of-stratis_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.1. What is Stratis\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tStratis is a local storage-management solution for Linux. It is focused on simplicity and ease of use, and gives you access to advanced storage features.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tStratis makes the following activities easier:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInitial configuration of storage\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMaking changes later\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing advanced storage features\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tStratis is a local storage management system that supports advanced storage features. The central concept of Stratis is a storage \u003Cspan class=\"emphasis\">\u003Cem>pool\u003C/em>\u003C/span>. This pool is created from one or more local disks or partitions, and file systems are created from the pool.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe pool enables many useful features, such as:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFile system snapshots\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThin provisioning\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTiering\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEncryption\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://stratis-storage.github.io/\">Stratis website\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"components-of-a-stratis-volume_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.2. Components of a Stratis volume\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLearn about the components that comprise a Stratis volume.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tExternally, Stratis presents the following volume components in the command-line interface and the API:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">blockdev\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBlock devices, such as a disk or a disk partition.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">pool\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tComposed of one or more block devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA pool has a fixed total size, equal to the size of the block devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe pool contains most Stratis layers, such as the non-volatile data cache using the \u003Ccode class=\"literal\">dm-cache\u003C/code> target.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStratis creates a \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003C/code> directory for each pool. This directory contains links to devices that represent Stratis file systems in the pool.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">filesystem\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEach pool can contain one or more file systems, which store files.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFile systems are thinly provisioned and do not have a fixed total size. The actual size of a file system grows with the data stored on it. If the size of the data approaches the virtual size of the file system, Stratis grows the thin volume and the file system automatically.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe file systems are formatted with XFS.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tStratis tracks information about file systems created using Stratis that XFS is not aware of, and changes made using XFS do not automatically create updates in Stratis. Users must not reformat or reconfigure XFS file systems that are managed by Stratis.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStratis creates links to file systems at the \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/code> path.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tStratis uses many Device Mapper devices, which show up in \u003Ccode class=\"literal\">dmsetup\u003C/code> listings and the \u003Ccode class=\"literal filename\">/proc/partitions\u003C/code> file. Similarly, the \u003Ccode class=\"literal\">lsblk\u003C/code> command output reflects the internal workings and layers of Stratis.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"block-devices-usable-with-stratis_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.3. Block devices usable with Stratis\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tStorage devices that can be used with Stratis.\n\t\t\t\u003C/p>\u003Ch5 id=\"supported_devices\">Supported devices\u003C/h5>\u003Cp>\n\t\t\t\tStratis pools have been tested to work on these types of block devices:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLUKS\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLVM logical volumes\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMD RAID\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDM Multipath\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tiSCSI\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tHDDs and SSDs\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNVMe devices\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Ch5 id=\"unsupported_devices\">Unsupported devices\u003C/h5>\u003Cp>\n\t\t\t\tBecause Stratis contains a thin-provisioning layer, Red Hat does not recommend placing a Stratis pool on block devices that are already thinly-provisioned.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"installing-stratis_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.4. Installing Stratis\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tInstall the required packages for Stratis.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall packages that provide the Stratis service and command-line utilities:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install stratisd stratis-cli\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the \u003Ccode class=\"literal\">stratisd\u003C/code> service is enabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable --now stratisd\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"create-unencrypted-stratis-pool_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.5. Creating an unencrypted Stratis pool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create an unencrypted Stratis pool from one or more block devices.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. For more information, see \u003Ca class=\"link\" href=\"#installing-stratis_setting-up-stratis-file-systems\" title=\"24.4. Installing Stratis\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices on which you are creating a Stratis pool are not in use and are not mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach block device on which you are creating a Stratis pool is at least 1 GB.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the IBM Z architecture, the \u003Ccode class=\"literal\">/dev/dasd*\u003C/code> block devices must be partitioned. Use the partition device for creating the Stratis pool.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tFor information about partitioning DASD devices, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-linux-instance-on-ibm-z_preparing-a-rhel-installation-on-64-bit-ibm-z\">Configuring a Linux instance on IBM Z\u003C/a>\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou cannot encrypt an unencrypted Stratis pool.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tErase any file system, partition table, or RAID signatures that exist on each block device that you want to use in the Stratis pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># wipefs --all \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere \u003Ccode class=\"literal replaceable\">\u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/code> is the path to the block device; for example, \u003Ccode class=\"literal\">/dev/sdb\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the new unencrypted Stratis pool on the selected block device:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool create \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere \u003Ccode class=\"literal replaceable\">\u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/code> is the path to an empty or wiped block device.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tSpecify multiple block devices on a single line:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool create \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device-1\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device-2\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the new Stratis pool was created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-unencrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.6. Creating an unencrypted Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to create an unencrypted Stratis pool from one or more block devices.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices on which you are creating a Stratis pool are not in use and are not mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach block device on which you are creating a Stratis pool is at least 1 GB.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou cannot encrypt an unencrypted Stratis pool after it is created.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"strong strong\">\u003Cstrong>Create Stratis pool\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/90ecf9cb494b94831c8f73565fe7be13/cockpit-adding-volume-groups-create-stratis.png\" alt=\"Image displaying the available options in the Storage table drop-down menu. Selecting Create Stratis pool.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create Stratis pool\u003C/strong>\u003C/span> dialog box, enter a name for the Stratis pool.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f436feb6682e0d109368415b13426e87/cockpit-create-stratis-pool.png\" alt=\"Image displaying the Create Stratis pool dialog box.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Block devices\u003C/strong>\u003C/span> from which you want to create the Stratis pool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: If you want to specify the maximum size for each file system that is created in pool, select \u003Cspan class=\"strong strong\">\u003Cstrong>Manage filesystem sizes\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tGo to the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> section and verify that you can see the new Stratis pool in the \u003Cspan class=\"strong strong\">\u003Cstrong>Devices\u003C/strong>\u003C/span> table.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"create-encrypted-stratis-pool_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.7. Creating an encrypted Stratis pool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo secure your data, you can create an encrypted Stratis pool from one or more block devices.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen you create an encrypted Stratis pool, the kernel keyring is used as the primary encryption mechanism. After subsequent system reboots this kernel keyring is used to unlock the encrypted Stratis pool.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen creating an encrypted Stratis pool from one or more block devices, note the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach block device is encrypted using the \u003Ccode class=\"literal\">cryptsetup\u003C/code> library and implements the \u003Ccode class=\"literal\">LUKS2\u003C/code> format.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach Stratis pool can either have a unique key or share the same key with other pools. These keys are stored in the kernel keyring.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices that comprise a Stratis pool must be either all encrypted or all unencrypted. It is not possible to have both encrypted and unencrypted block devices in the same Stratis pool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBlock devices added to the data tier of an encrypted Stratis pool are automatically encrypted.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis v2.1.0 or later is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices on which you are creating a Stratis pool are not in use and are not mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices on which you are creating a Stratis pool are at least 1GB in size each.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the IBM Z architecture, the \u003Ccode class=\"literal\">/dev/dasd*\u003C/code> block devices must be partitioned. Use the partition in the Stratis pool.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tFor information about partitioning DASD devices, see link:\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-linux-instance-on-ibm-z_preparing-a-rhel-installation-on-64-bit-ibm-z\">Configuring a Linux instance on IBM Z\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tErase any file system, partition table, or RAID signatures that exist on each block device that you want to use in the Stratis pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># wipefs --all \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere \u003Ccode class=\"literal replaceable\">\u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/code> is the path to the block device; for example, \u003Ccode class=\"literal\">/dev/sdb\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you have not created a key set already, run the following command and follow the prompts to create a key set to use for the encryption.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis key set --capture-key \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">key-description\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere \u003Ccode class=\"literal replaceable\">\u003Cspan class=\"emphasis\">\u003Cem>key-description\u003C/em>\u003C/span>\u003C/code> is a reference to the key that gets created in the kernel keyring.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the encrypted Stratis pool and specify the key description to use for the encryption. You can also specify the key path using the \u003Ccode class=\"literal\">--keyfile-path\u003C/code> option instead of using the \u003Ccode class=\"literal replaceable\">\u003Cspan class=\"emphasis\">\u003Cem>key-description\u003C/em>\u003C/span>\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool create --key-desc \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">key-description\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>key-description\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tReferences the key that exists in the kernel keyring, which you created in the previous step.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>my-pool\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tSpecifies the name of the new Stratis pool.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>block-device\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSpecifies the path to an empty or wiped block device.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tSpecify multiple block devices on a single line:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool create --key-desc \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">key-description\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device-1\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">block-device-2\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/div>\u003C/rh-alert>\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the new Stratis pool was created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-an-encrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.8. Creating an encrypted Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo secure your data, you can use the web console to create an encrypted Stratis pool from one or more block devices.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen creating an encrypted Stratis pool from one or more block devices, note the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach block device is encrypted using the cryptsetup library and implements the LUKS2 format.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach Stratis pool can either have a unique key or share the same key with other pools. These keys are stored in the kernel keyring.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices that comprise a Stratis pool must be either all encrypted or all unencrypted. It is not possible to have both encrypted and unencrypted block devices in the same Stratis pool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBlock devices added to the data tier of an encrypted Stratis pool are automatically encrypted.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis v2.1.0 or later is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices on which you are creating a Stratis pool are not in use and are not mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach block device on which you are creating a Stratis pool is at least 1 GB.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"strong strong\">\u003Cstrong>Create Stratis pool\u003C/strong>\u003C/span>. \n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/90ecf9cb494b94831c8f73565fe7be13/cockpit-adding-volume-groups-create-stratis.png\" alt=\"Image displaying the available options in the Storage table drop-down menu. Selecting Create Stratis pool.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create Stratis pool\u003C/strong>\u003C/span> dialog box, enter a name for the Stratis pool.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/f436feb6682e0d109368415b13426e87/cockpit-create-stratis-pool.png\" alt=\"Image displaying the Create Stratis pool dialog box.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Block devices\u003C/strong>\u003C/span> from which you want to create the Stratis pool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSelect the type of encryption, you can use a passphrase, a Tang keyserver, or both:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tPassphrase:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter a passphrase.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tConfirm the passphrase\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTang keyserver:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter the keyserver address. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening#deploying-a-tang-server-with-selinux-in-enforcing-mode_configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption\">Deploying a Tang server with SELinux in enforcing mode\u003C/a>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: If you want to specify the maximum size for each file system that is created in pool, select \u003Cspan class=\"strong strong\">\u003Cstrong>Manage filesystem sizes\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tGo to the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> section and verify that you can see the new Stratis pool in the \u003Cspan class=\"strong strong\">\u003Cstrong>Devices\u003C/strong>\u003C/span> table.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"renaming-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.9. Renaming a Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to rename an existing Stratis pool.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStratis is installed.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe web console detects and installs Stratis by default. However, for manually installing Stratis, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA Stratis pool is created.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the Stratis pool you want to rename.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis pool\u003C/strong>\u003C/span> page, click \u003Cspan class=\"guibutton\">edit\u003C/span> next to the \u003Cspan class=\"strong strong\">\u003Cstrong>Name\u003C/strong>\u003C/span> field.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png\" alt=\"Image displaying the Stratis pool page.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Rename Stratis pool\u003C/strong>\u003C/span> dialog box, enter a new name.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Rename\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-overprovisioning-mode-in-stratis-fs_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.10. Setting overprovisioning mode in Stratis filesystem\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tA storage stack can reach a state of overprovision. If the file system size becomes bigger than the pool backing it, the pool becomes full. To prevent this, disable overprovisioning, which ensures that the size of all filesystems on the pool does not exceed the available physical storage provided by the pool. If you use Stratis for critical applications or the root filesystem, this mode prevents certain failure cases.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you enable overprovisioning, an API signal notifies you when your storage has been fully allocated. The notification serves as a warning to the user to inform them that when all the remaining pool space fills up, Stratis has no space left to extend to.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tTo set up the pool correctly, you have two possibilities:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a pool from one or more block devices:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool create --no-overprovision \u003Cspan class=\"emphasis\">\u003Cem>pool-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>/dev/sdb\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tBy using the \u003Ccode class=\"literal\">--no-overprovision\u003C/code> option, the pool cannot allocate more logical space than actual available physical space.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet overprovisioning mode in the existing pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool overprovision \u003Cspan class=\"emphasis\">\u003Cem>pool-name\u003C/em>\u003C/span> &lt;yes|no&gt;\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf set to \"yes\", you enable overprovisioning to the pool. This means that the sum of the logical sizes of the Stratis filesystems, supported by the pool, can exceed the amount of available data space.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the following to view the full list of Stratis pools:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list\n\nName          Total Physical                    Properties     UUID                                   Alerts\n\u003Cspan class=\"emphasis\">\u003Cem>pool-name\u003C/em>\u003C/span>     1.42 TiB / 23.96 MiB / 1.42 TiB   ~Ca,~Cr,~Op    cb7cb4d8-9322-4ac4-a6fd-eb7ae9e1e540\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCheck if there is an indication of the pool overprovisioning mode flag in the \u003Ccode class=\"literal\">stratis pool list\u003C/code> output. The \" ~ \" is a math symbol for \"NOT\", so \u003Ccode class=\"literal\">~Op\u003C/code> means no-overprovisioning.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Run the following to check overprovisioning on a specific pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool overprovision \u003Cspan class=\"emphasis\">\u003Cem>pool-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>yes\u003C/em>\u003C/span>\n\n# stratis pool list\n\nName          Total Physical                    Properties     UUID                                   Alerts\n\u003Cspan class=\"emphasis\">\u003Cem>pool-name\u003C/em>\u003C/span>     1.42 TiB / 23.96 MiB / 1.42 TiB   ~Ca,~Cr,~Op    cb7cb4d8-9322-4ac4-a6fd-eb7ae9e1e540\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://stratis-storage.github.io/\">The \u003Cspan class=\"emphasis\">\u003Cem>Stratis Storage\u003C/em>\u003C/span> webpage\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"bind-stratis-pool-nbde_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.11. Binding a Stratis pool to NBDE\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBinding an encrypted Stratis pool to Network Bound Disk Encryption (NBDE) requires a Tang server. When a system containing the Stratis pool reboots, it connects with the Tang server to automatically unlock the encrypted pool without you having to provide the kernel keyring description.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tBinding a Stratis pool to a supplementary Clevis encryption mechanism does not remove the primary kernel keyring encryption.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis v2.3.0 or later is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created an encrypted Stratis pool, and you have the key description of the key that was used for the encryption. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can connect to the Tang server. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening#deploying-a-tang-server-with-selinux-in-enforcing-mode_configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption\">Deploying a Tang server with SELinux in enforcing mode\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBind an encrypted Stratis pool to NBDE:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool bind nbde --trust-url \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">tang-server\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>my-pool\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tSpecifies the name of the encrypted Stratis pool.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>tang-server\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tSpecifies the IP address or URL of the Tang server.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening\">Configuring automated unlocking of encrypted volumes using policy-based decryption\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"bind-stratis-pool-tpm_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.12. Binding a Stratis pool to TPM\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWhen you bind an encrypted Stratis pool to the Trusted Platform Module (TPM) 2.0, the system containing the pool reboots, and the pool is automatically unlocked without you having to provide the kernel keyring description.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis v2.3.0 or later is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created an encrypted Stratis pool. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBind an encrypted Stratis pool to TPM:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool bind tpm \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">key-description\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>my-pool\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tSpecifies the name of the encrypted Stratis pool.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>key-description\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tReferences the key that exists in the kernel keyring, which was generated when you created the encrypted Stratis pool.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"unlock-encrypted-stratis-pool-keyring_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.13. Unlocking an encrypted Stratis pool with kernel keyring\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter a system reboot, your encrypted Stratis pool or the block devices that comprise it might not be visible. You can unlock the pool using the kernel keyring that was used to encrypt the pool.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis v2.1.0 is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created an encrypted Stratis pool. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRe-create the key set using the same key description that was used previously:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis key set --capture-key \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">key-description\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">key-description\u003C/span>\u003C/em>\u003C/span> references the key that exists in the kernel keyring, which was generated when you created the encrypted Stratis pool.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the Stratis pool is visible:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"unbind-encrypted-stratis-pool-from-supplementary-encryption_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.14. Unbinding a Stratis pool from supplementary encryption\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWhen you unbind an encrypted Stratis pool from a supported supplementary encryption mechanism, the primary kernel keyring encryption remains in place. This is not true for pools that are created with Clevis encryption from the start.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis v2.3.0 or later is installed on your system. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created an encrypted Stratis pool. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe encrypted Stratis pool is bound to a supported supplementary encryption mechanism.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnbind an encrypted Stratis pool from a supplementary encryption mechanism:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool unbind clevis \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>my-pool\u003C/em>\u003C/span>\u003C/code> specifies the name of the Stratis pool you want to unbind.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#bind-stratis-pool-nbde_setting-up-stratis-file-systems\">Binding an encrypted Stratis pool to NBDE\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#bind-stratis-pool-tpm_setting-up-stratis-file-systems\">Binding an encrypted Stratis pool to TPM\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_starting-and-stopping-stratis-pool_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.15. Starting and stopping Stratis pool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can start and stop Stratis pools. This gives you the option to dissasemble or bring down all the objects that were used to construct the pool, such as filesystems, cache devices, thin pool, and encrypted devices. Note that if the pool actively uses any device or filesystem, it might issue a warning and not be able to stop.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe stopped state is recorded in the pool’s metadata. These pools do not start on the following boot, until the pool receives a start command.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created either an unencrypted or an encrypted Stratis pool. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-unencrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an unencrypted Stratis pool\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tor \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to start the Stratis pool. The \u003Ccode class=\"literal\">--unlock-method\u003C/code> option specifies the method of unlocking the pool if it is encrypted:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool start \u003Cspan class=\"emphasis\">\u003Cem>pool-uuid\u003C/em>\u003C/span> --unlock-method &lt;keyring|clevis&gt;\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAlternatively, use the following command to stop the Stratis pool. This tears down the storage stack but leaves all metadata intact:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool stop \u003Cspan class=\"emphasis\">\u003Cem>pool-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to list all pools on the system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to list all not previously started pools. If the UUID is specified, the command prints detailed information about the pool corresponding to the UUID:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list --stopped --uuid \u003Cspan class=\"emphasis\">\u003Cem>UUID\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-stratis-file-system_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.16. Creating a Stratis file system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a Stratis file system on an existing Stratis pool.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis pool. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-unencrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an unencrypted Stratis pool\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tor \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo create a Stratis file system on a pool, use:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem create --size \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">number-and-unit\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\twhere\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>number-and-unit\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tSpecifies the size of a file system. The specification format must follow the standard size specification format for input, that is B, KiB, MiB, GiB, TiB or PiB.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>my-pool\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tSpecifies the name of the Stratis pool.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>my-fs\u003C/em>\u003C/span>\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSpecifies an arbitrary name for the file system.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140664182451392\">\u003Cp class=\"title\">\u003Cstrong>Example 24.1. Creating a Stratis file system\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"screen\"># stratis filesystem create --size 10GiB pool1 filesystem1\u003C/pre>\u003C/div>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList file systems within the pool to check if the Stratis filesystem is created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis fs list \u003Cspan class=\"emphasis\">\u003Cem>my-pool\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#mounting-a-stratis-file-system_setting-up-stratis-file-systems\">Mounting a Stratis file system\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-file-system-on-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.17. Creating a file system on a Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to create a file system on an existing Stratis pool.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA Stratis pool is created.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the Stratis pool on which you want to create a file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis pool\u003C/strong>\u003C/span> page, scroll to the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis filesystems\u003C/strong>\u003C/span> section and click \u003Cspan class=\"guibutton\">Create new filesystem\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png\" alt=\"Image displaying the Stratis pool page.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create filesystem\u003C/strong>\u003C/span> dialog box, enter a \u003Cspan class=\"strong strong\">\u003Cstrong>Name\u003C/strong>\u003C/span> for the file system.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/07fbccdba02bded4adc1d642baab4f53/cockpit-create-stratis-fs.png\" alt=\"Image displaying the create Stratis file system dialog box.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnter the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount point\u003C/strong>\u003C/span> for the file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the \u003Cspan class=\"strong strong\">\u003Cstrong>Mount option\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>At boot\u003C/strong>\u003C/span> drop-down menu, select when you want to mount your file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the file system:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you want to create and mount the file system, click \u003Cspan class=\"guibutton\">Create and mount\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you want to only create the file system, click \u003Cspan class=\"guibutton\">Create only\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe new file system is visible on the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis pool\u003C/strong>\u003C/span> page under the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis filesystems\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"mounting-a-stratis-file-system_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.18. Mounting a Stratis file system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tMount an existing Stratis file system to access the content.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis file system. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis filesystem\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo mount the file system, use the entries that Stratis maintains in the \u003Ccode class=\"literal filename\">/dev/stratis/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe file system is now mounted on the \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span> directory and ready to use.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis file system\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"persistently-mounting-a-stratis-file-system_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.19. Persistently mounting a Stratis file system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure persistently mounts a Stratis file system so that it is available automatically after booting the system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis file system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis filesystem\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDetermine the UUID attribute of the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ lsblk --output=UUID /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140664181240512\">\u003Cp class=\"title\">\u003Cstrong>Example 24.2. Viewing the UUID of Stratis file system\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"screen\">$ lsblk --output=UUID /dev/stratis/my-pool/fs1\n\nUUID\na1f0b64a-4ebb-4d4e-9543-b1d79f600283\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the mount point directory does not exist, create it:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkdir --parents \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAs root, edit the \u003Ccode class=\"literal filename\">/etc/fstab\u003C/code> file and add a line for the file system, identified by the UUID. Use \u003Ccode class=\"literal\">xfs\u003C/code> as the file system type and add the \u003Ccode class=\"literal\">x-systemd.requires=stratisd.service\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140664181233408\">\u003Cp class=\"title\">\u003Cstrong>Example 24.3. The /fs1 mount point in /etc/fstab\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"screen\">UUID=a1f0b64a-4ebb-4d4e-9543-b1d79f600283 /fs1 xfs defaults,x-systemd.requires=stratisd.service 0 0\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate mount units so that your system registers the new configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl daemon-reload\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTry mounting the file system to verify that the configuration works:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mount \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/assembly_persistently-mounting-file-systems_managing-file-systems\">Persistently mounting file systems\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-up-non-root-stratis-fs-fstab-systemd_setting-up-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">24.20. Setting up non-root Stratis filesystems in /etc/fstab using a systemd service\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can manage setting up non-root filesystems in /etc/fstab using a systemd service.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/setting-up-stratis-file-systems_managing-file-systems#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis file system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/setting-up-stratis-file-systems_managing-file-systems#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis filesystem\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor all non-root Stratis filesystems, use:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>[STRATIS_SYMLINK]\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>[MOUNT_POINT]\u003C/em>\u003C/span> xfs defaults, x-systemd.requires=stratis-fstab-setup@\u003Cspan class=\"emphasis\">\u003Cem>[POOL_UUID]\u003C/em>\u003C/span>.service,x-systemd.after=stratis-stab-setup@\u003Cspan class=\"emphasis\">\u003Cem>[POOL_UUID]\u003C/em>\u003C/span>.service &lt;dump_value&gt; &lt;fsck_value&gt;\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#assembly_persistently-mounting-file-systems_managing-file-systems\">Persistently mounting file systems\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"extending-a-stratis-volume-with-additional-block-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 25. Extending a Stratis volume with additional block devices\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can attach additional block devices to a Stratis pool to provide more storage capacity for Stratis file systems.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"components-of-a-stratis-volume_extending-a-stratis-volume-with-additional-block-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">25.1. Components of a Stratis volume\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLearn about the components that comprise a Stratis volume.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tExternally, Stratis presents the following volume components in the command-line interface and the API:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">blockdev\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBlock devices, such as a disk or a disk partition.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">pool\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tComposed of one or more block devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA pool has a fixed total size, equal to the size of the block devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe pool contains most Stratis layers, such as the non-volatile data cache using the \u003Ccode class=\"literal\">dm-cache\u003C/code> target.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStratis creates a \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003C/code> directory for each pool. This directory contains links to devices that represent Stratis file systems in the pool.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">filesystem\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEach pool can contain one or more file systems, which store files.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFile systems are thinly provisioned and do not have a fixed total size. The actual size of a file system grows with the data stored on it. If the size of the data approaches the virtual size of the file system, Stratis grows the thin volume and the file system automatically.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe file systems are formatted with XFS.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tStratis tracks information about file systems created using Stratis that XFS is not aware of, and changes made using XFS do not automatically create updates in Stratis. Users must not reformat or reconfigure XFS file systems that are managed by Stratis.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStratis creates links to file systems at the \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/code> path.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tStratis uses many Device Mapper devices, which show up in \u003Ccode class=\"literal\">dmsetup\u003C/code> listings and the \u003Ccode class=\"literal filename\">/proc/partitions\u003C/code> file. Similarly, the \u003Ccode class=\"literal\">lsblk\u003C/code> command output reflects the internal workings and layers of Stratis.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"adding-block-devices-to-a-stratis-pool_extending-a-stratis-volume-with-additional-block-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">25.2. Adding block devices to a Stratis pool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure adds one or more block devices to a Stratis pool to be usable by Stratis file systems.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices that you are adding to the Stratis pool are not in use and not mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices that you are adding to the Stratis pool are at least 1 GiB in size each.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo add one or more block devices to the pool, use:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool add-data \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">device-1\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">device-2\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">device-n\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"adding-a-block-device-to-a-stratis-pool-using-the-web-console_extending-a-stratis-volume-with-additional-block-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">25.3. Adding a block device to a Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to add a block device to an existing Stratis pool. You can also add caches as a block device.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA Stratis pool is created.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe block devices on which you are creating a Stratis pool are not in use and are not mounted.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach block device on which you are creating a Stratis pool is at least 1 GB.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the Stratis pool to which you want to add a block device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis pool\u003C/strong>\u003C/span> page, click \u003Cspan class=\"guibutton\">Add block devices\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png\" alt=\"Image displaying the Stratis pool page.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Add block devices\u003C/strong>\u003C/span> dialog box, select the \u003Cspan class=\"strong strong\">\u003Cstrong>Tier\u003C/strong>\u003C/span>, whether you want to add a block device as data or cache.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/4fe8c35276d6b3ff0b005558df3edcbe/cockpit-stratis-add-block-device.png\" alt=\"Image displaying the Add block devices dialog box.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: If you are adding the block device to a Stratis pool that is encrypted with a passphrase, then you must enter the passphrase.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUnder \u003Cspan class=\"strong strong\">\u003Cstrong>Block devices\u003C/strong>\u003C/span>, select the devices you want to add to the pool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Add\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">25.4. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://stratis-storage.github.io/\">The \u003Cspan class=\"emphasis\">\u003Cem>Stratis Storage\u003C/em>\u003C/span> website\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"monitoring-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 26. Monitoring Stratis file systems\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tAs a Stratis user, you can view information about Stratis volumes on your system to monitor their state and free space.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"stratis-sizes-reported-by-different-utilities_monitoring-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">26.1. Stratis sizes reported by different utilities\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis section explains the difference between Stratis sizes reported by standard utilities such as \u003Ccode class=\"literal\">df\u003C/code> and the \u003Ccode class=\"literal\">stratis\u003C/code> utility.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tStandard Linux utilities such as \u003Ccode class=\"literal\">df\u003C/code> report the size of the XFS file system layer on Stratis, which is 1 TiB. This is not useful information, because the actual storage usage of Stratis is less due to thin provisioning, and also because Stratis automatically grows the file system when the XFS layer is close to full.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRegularly monitor the amount of data written to your Stratis file systems, which is reported as the \u003Cspan class=\"emphasis\">\u003Cem>Total Physical Used\u003C/em>\u003C/span> value. Make sure it does not exceed the \u003Cspan class=\"emphasis\">\u003Cem>Total Physical Size\u003C/em>\u003C/span> value.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"displaying-information-about-stratis-volumes_monitoring-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">26.2. Displaying information about Stratis volumes\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure lists statistics about your Stratis volumes, such as the total, used, and free size or file systems and block devices belonging to a pool.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo display information about all \u003Cspan class=\"strong strong\">\u003Cstrong>block devices\u003C/strong>\u003C/span> used for Stratis on your system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis blockdev\n\nPool Name  Device Node    Physical Size   State  Tier\n\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>    \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">/dev/sdb\u003C/span>\u003C/em>\u003C/span>            \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">9.10 TiB\u003C/span>\u003C/em>\u003C/span>  \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">In-use\u003C/span>\u003C/em>\u003C/span>  \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">Data\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo display information about all Stratis \u003Cspan class=\"strong strong\">\u003Cstrong>pools\u003C/strong>\u003C/span> on your system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool\n\nName    Total Physical Size  Total Physical Used\n\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>            \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">9.10 TiB\u003C/span>\u003C/em>\u003C/span>              \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">598 MiB\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo display information about all Stratis \u003Cspan class=\"strong strong\">\u003Cstrong>file systems\u003C/strong>\u003C/span> on your system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem\n\nPool Name  Name  Used     Created            Device\n\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>    \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">546 MiB\u003C/span>\u003C/em>\u003C/span>  \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">Nov 08 2018 08:03\u003C/span>\u003C/em>\u003C/span>  /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool/my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"viewing-a-stratis-pool-using-the-web-console_monitoring-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">26.3. Viewing a Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to view an existing Stratis pool and the file systems it contains.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have an existing Stratis pool.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the Stratis pool you want to view.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe Stratis pool page displays all the information about the pool and the file systems that you created in the pool.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png\" alt=\"Image displaying the Stratis pool page.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_2\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">26.4. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://stratis-storage.github.io/\">The \u003Cspan class=\"emphasis\">\u003Cem>Stratis Storage\u003C/em>\u003C/span> website\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"using-snapshots-on-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 27. Using snapshots on Stratis file systems\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can use snapshots on Stratis file systems to capture file system state at arbitrary times and restore it in the future.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"characteristics-of-stratis-snapshots_using-snapshots-on-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">27.1. Characteristics of Stratis snapshots\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn Stratis, a snapshot is a regular Stratis file system created as a copy of another Stratis file system. The snapshot initially contains the same file content as the original file system, but can change as the snapshot is modified. Whatever changes you make to the snapshot will not be reflected in the original file system.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe current snapshot implementation in Stratis is characterized by the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA snapshot of a file system is another file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA snapshot and its origin are not linked in lifetime. A snapshotted file system can live longer than the file system it was created from.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA file system does not have to be mounted to create a snapshot from it.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach snapshot uses around half a gigabyte of actual backing storage, which is needed for the XFS log.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">27.2. Creating a Stratis snapshot\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure creates a Stratis file system as a snapshot of an existing Stratis file system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis file system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis filesystem\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo create a Stratis snapshot, use:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis fs snapshot \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-snapshot\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"accessing-the-content-of-a-stratis-snapshot_using-snapshots-on-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">27.3. Accessing the content of a Stratis snapshot\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure mounts a snapshot of a Stratis file system to make it accessible for read and write operations.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis snapshot. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis filesystem\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo access the snapshot, mount it as a regular file system from the \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-snapshot\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#mounting-a-stratis-file-system_setting-up-stratis-file-systems\">Mounting a Stratis file system\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">mount(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"reverting-a-stratis-file-system-to-a-previous-snapshot_using-snapshots-on-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">27.4. Reverting a Stratis file system to a previous snapshot\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure reverts the content of a Stratis file system to the state captured in a Stratis snapshot.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis snapshot. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems\">Creating a Stratis snapshot\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Back up the current state of the file system to be able to access it later:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem snapshot \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-backup\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount and remove the original file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># umount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\n# stratis filesystem destroy \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a copy of the snapshot under the name of the original file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem snapshot \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-snapshot\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMount the snapshot, which is now accessible with the same name as the original file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">mount-point\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe content of the file system named \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span> is now identical to the snapshot \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-snapshot\u003C/span>\u003C/em>\u003C/span>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-stratis-snapshot_using-snapshots-on-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">27.5. Removing a Stratis snapshot\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure removes a Stratis snapshot from a pool. Data on the snapshot are lost.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis snapshot. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/using-snapshots-on-stratis-file-systems_managing-file-systems#creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems\">Creating a Stratis snapshot\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount the snapshot:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># umount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-snapshot\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDestroy the snapshot:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem destroy \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-snapshot\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_3\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">27.6. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://stratis-storage.github.io/\">The \u003Cspan class=\"emphasis\">\u003Cem>Stratis Storage\u003C/em>\u003C/span> website\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"removing-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 28. Removing Stratis file systems\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can remove an existing Stratis file system, or a Stratis pool, by destroying data on them.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"components-of-a-stratis-volume_removing-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">28.1. Components of a Stratis volume\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLearn about the components that comprise a Stratis volume.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tExternally, Stratis presents the following volume components in the command-line interface and the API:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">blockdev\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBlock devices, such as a disk or a disk partition.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">pool\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tComposed of one or more block devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA pool has a fixed total size, equal to the size of the block devices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe pool contains most Stratis layers, such as the non-volatile data cache using the \u003Ccode class=\"literal\">dm-cache\u003C/code> target.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStratis creates a \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003C/code> directory for each pool. This directory contains links to devices that represent Stratis file systems in the pool.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">filesystem\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEach pool can contain one or more file systems, which store files.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFile systems are thinly provisioned and do not have a fixed total size. The actual size of a file system grows with the data stored on it. If the size of the data approaches the virtual size of the file system, Stratis grows the thin volume and the file system automatically.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe file systems are formatted with XFS.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tStratis tracks information about file systems created using Stratis that XFS is not aware of, and changes made using XFS do not automatically create updates in Stratis. Users must not reformat or reconfigure XFS file systems that are managed by Stratis.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStratis creates links to file systems at the \u003Ccode class=\"literal filename\">/dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/code> path.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tStratis uses many Device Mapper devices, which show up in \u003Ccode class=\"literal\">dmsetup\u003C/code> listings and the \u003Ccode class=\"literal filename\">/proc/partitions\u003C/code> file. Similarly, the \u003Ccode class=\"literal\">lsblk\u003C/code> command output reflects the internal workings and layers of Stratis.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-stratis-file-system_removing-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">28.2. Removing a Stratis file system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure removes an existing Stratis file system. Data stored on it are lost.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a Stratis file system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#creating-a-stratis-file-system_setting-up-stratis-file-systems\">Creating a Stratis filesystem\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># umount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDestroy the file system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem destroy \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the file system no longer exists:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem list \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deleting-a-file-system-from-a-stratis-pool-using-the-web-console_removing-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">28.3. Deleting a file system from a Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to delete a file system from an existing Stratis pool.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tDeleting a Stratis pool file system erases all the data it contains.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStratis is installed.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe web console detects and installs Stratis by default. However, for manually installing Stratis, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have an existing Stratis pool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a file system on the Stratis pool.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the Stratis pool from which you want to delete a file system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis pool\u003C/strong>\u003C/span> page, scroll to the \u003Cspan class=\"strong strong\">\u003Cstrong>Stratis filesystems\u003C/strong>\u003C/span> section and click the menu button \u003Cspan class=\"guibutton\">⋮\u003C/span> next to the file system you want to delete.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/7cbbd0667e9e4dad03191e3a1bd46614/cockpit-view-stratis-pool.png\" alt=\"Image displaying the Stratis pool page.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"guibutton\">delete\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US/images/38f85c8e779f4a9eee61311e2daf656e/cockpit-stratis-fs-delete.png\" alt=\"Image displaying the drop-down menu of a stratis file system.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Confirm deletion\u003C/strong>\u003C/span> dialog box, click \u003Cspan class=\"guibutton\">Delete\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-stratis-pool_removing-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">28.4. Removing a Stratis pool\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure removes an existing Stratis pool. Data stored on it are lost.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStratis is installed. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#installing-stratis_setting-up-stratis-file-systems\">Installing Stratis\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have created a Stratis pool:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo create an unencrypted pool, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-unencrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an unencrypted Stratis pool\u003C/a>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo create an encrypted pool, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_file_systems/index#create-encrypted-stratis-pool_setting-up-stratis-file-systems\">Creating an encrypted Stratis pool\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList file systems on the pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem list \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUnmount all file systems on the pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># umount /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-1\u003C/span>\u003C/em>\u003C/span> \\\n         /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-2\u003C/span>\u003C/em>\u003C/span> \\\n         /dev/stratis/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-n\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDestroy the file systems:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis filesystem destroy \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-1\u003C/span>\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-fs-2\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDestroy the pool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool destroy \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">my-pool\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the pool no longer exists:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># stratis pool list\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">stratis(8)\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deleting-a-stratis-pool-using-the-web-console_removing-stratis-file-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">28.5. Deleting a Stratis pool by using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to delete an existing Stratis pool.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tDeleting a Stratis pool erases all the data it contains.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">stratisd\u003C/code> service is running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have an existing Stratis pool.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Storage\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Storage\u003C/strong>\u003C/span> table, click the menu button, \u003Cspan class=\"guibutton\">⋮\u003C/span>, next to the Stratis pool you want to delete.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the drop-down menu, select \u003Cspan class=\"guibutton\">Delete pool\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Permanently delete pool\u003C/strong>\u003C/span> dialog box, click \u003Cspan class=\"guibutton\">Delete\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_4\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">28.6. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://stratis-storage.github.io/\">The \u003Cspan class=\"emphasis\">\u003Cem>Stratis Storage\u003C/em>\u003C/span> website\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm140664177928336\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[14,21,26,44,58,134,179,208,234,291,312,333,358,383,404,421,439,469,507,521,559,645,687,772,794,808,894,916,938,968,998],{"title":11,"visible":15,"weight":16,"urlFragment":17,"anchor":18,"singlePageAnchor":18,"docTitle":19,"url":20},true,1,"index",null,"managing_storage_devices","#",{"title":22,"visible":15,"weight":23,"urlFragment":24,"anchor":18,"singlePageAnchor":24,"docTitle":19,"url":25},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_managing-storage-devices","#proc_providing-feedback-on-red-hat-documentation_managing-storage-devices",{"title":27,"visible":15,"weight":28,"urlFragment":29,"anchor":18,"singlePageAnchor":29,"sections":30,"docTitle":19,"url":43},"1. Overview of available storage options",3,"overview-of-available-storage-options_managing-storage-devices",[31,35,39],{"title":32,"visible":15,"weight":16,"urlFragment":29,"anchor":33,"singlePageAnchor":33,"docTitle":19,"url":34},"1.1. Local storage overview","local-storage-overview_overview-of-available-storage-options","#local-storage-overview_overview-of-available-storage-options",{"title":36,"visible":15,"weight":23,"urlFragment":29,"anchor":37,"singlePageAnchor":37,"docTitle":19,"url":38},"1.2. Remote storage overview","remote-storage-overview_overview-of-available-storage-options","#remote-storage-overview_overview-of-available-storage-options",{"title":40,"visible":15,"weight":28,"urlFragment":29,"anchor":41,"singlePageAnchor":41,"docTitle":19,"url":42},"1.3. GFS2 file system overview","gfs2-file-system-overview_overview-of-available-storage-options","#gfs2-file-system-overview_overview-of-available-storage-options","#overview-of-available-storage-options_managing-storage-devices",{"title":45,"visible":15,"weight":46,"urlFragment":47,"anchor":18,"singlePageAnchor":47,"sections":48,"docTitle":19,"url":57},"2. Persistent naming attributes",4,"persistent-naming-attributes_managing-storage-devices",[49,53],{"title":50,"visible":15,"weight":16,"urlFragment":47,"anchor":51,"singlePageAnchor":51,"docTitle":19,"url":52},"2.1. Persistent attributes for identifying file systems and block devices","persistent-attributes-for-identifying-file-systems-and-block-devices_persistent-naming-attributes","#persistent-attributes-for-identifying-file-systems-and-block-devices_persistent-naming-attributes",{"title":54,"visible":15,"weight":23,"urlFragment":47,"anchor":55,"singlePageAnchor":55,"docTitle":19,"url":56},"2.2. udev device naming rules","udev-device-naming-rules_persistent-naming-attributes","#udev-device-naming-rules_persistent-naming-attributes","#persistent-naming-attributes_managing-storage-devices",{"title":59,"visible":15,"weight":60,"urlFragment":61,"anchor":18,"singlePageAnchor":61,"sections":62,"docTitle":19,"url":133},"3. Managing local storage by using RHEL system roles",5,"managing-local-storage-using-rhel-system-roles_managing-storage-devices",[63,67,71,75,79,83,88,93,98,103,108,113,118,123,128],{"title":64,"visible":15,"weight":16,"urlFragment":61,"anchor":65,"singlePageAnchor":65,"docTitle":19,"url":66},"3.1. Creating an XFS file system on a block device by using the storage RHEL system role","an-example-ansible-playbook-to-create-an-xfs-file-system_managing-local-storage-using-rhel-system-roles","#an-example-ansible-playbook-to-create-an-xfs-file-system_managing-local-storage-using-rhel-system-roles",{"title":68,"visible":15,"weight":23,"urlFragment":61,"anchor":69,"singlePageAnchor":69,"docTitle":19,"url":70},"3.2. Persistently mounting a file system by using the storage RHEL system role","an-example-ansible-playbook-to-persistently-mount-a-file-system_managing-local-storage-using-rhel-system-roles","#an-example-ansible-playbook-to-persistently-mount-a-file-system_managing-local-storage-using-rhel-system-roles",{"title":72,"visible":15,"weight":28,"urlFragment":61,"anchor":73,"singlePageAnchor":73,"docTitle":19,"url":74},"3.3. Creating or resizing a logical volume by using the storage RHEL system role","creating-or-resizing-logical-volume-using-storage-system-role_managing-local-storage-using-rhel-system-roles","#creating-or-resizing-logical-volume-using-storage-system-role_managing-local-storage-using-rhel-system-roles",{"title":76,"visible":15,"weight":46,"urlFragment":61,"anchor":77,"singlePageAnchor":77,"docTitle":19,"url":78},"3.4. Enabling online block discard by using the storage RHEL system role","an-example-ansible-playbook-to-enable-online-block-discard_managing-local-storage-using-rhel-system-roles","#an-example-ansible-playbook-to-enable-online-block-discard_managing-local-storage-using-rhel-system-roles",{"title":80,"visible":15,"weight":60,"urlFragment":61,"anchor":81,"singlePageAnchor":81,"docTitle":19,"url":82},"3.5. Creating and mounting an Ext4 file system by using the storage RHEL system role","an-example-playbook-to-create-mount-an-ext4-file-system_managing-local-storage-using-rhel-system-roles","#an-example-playbook-to-create-mount-an-ext4-file-system_managing-local-storage-using-rhel-system-roles",{"title":84,"visible":15,"weight":85,"urlFragment":61,"anchor":86,"singlePageAnchor":86,"docTitle":19,"url":87},"3.6. Creating and mounting an Ext3 file system by using the storage RHEL system role",6,"an-example-ansible-playbook-to-create-mount-ext3-file-system_managing-local-storage-using-rhel-system-roles","#an-example-ansible-playbook-to-create-mount-ext3-file-system_managing-local-storage-using-rhel-system-roles",{"title":89,"visible":15,"weight":90,"urlFragment":61,"anchor":91,"singlePageAnchor":91,"docTitle":19,"url":92},"3.7. Creating a swap volume by using the storage RHEL system role",7,"example-ansible-playbook-to-create-a-swap-partition-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles","#example-ansible-playbook-to-create-a-swap-partition-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles",{"title":94,"visible":15,"weight":95,"urlFragment":61,"anchor":96,"singlePageAnchor":96,"docTitle":19,"url":97},"3.8. Configuring a RAID volume by using the storage RHEL system role",8,"configuring-a-raid-volume-using-the-storage-system-role_managing-local-storage-using-rhel-system-roles","#configuring-a-raid-volume-using-the-storage-system-role_managing-local-storage-using-rhel-system-roles",{"title":99,"visible":15,"weight":100,"urlFragment":61,"anchor":101,"singlePageAnchor":101,"docTitle":19,"url":102},"3.9. Configuring an LVM pool with RAID by using the storage RHEL system role",9,"configuring-lvm-pool-with-raid-using-storage-system-role_managing-local-storage-using-rhel-system-roles","#configuring-lvm-pool-with-raid-using-storage-system-role_managing-local-storage-using-rhel-system-roles",{"title":104,"visible":15,"weight":105,"urlFragment":61,"anchor":106,"singlePageAnchor":106,"docTitle":19,"url":107},"3.10. Configuring a stripe size for RAID LVM volumes by using the storage RHEL system role",10,"configuring-a-stripe-size-for-raid-lvm-system-role_managing-local-storage-using-rhel-system-roles","#configuring-a-stripe-size-for-raid-lvm-system-role_managing-local-storage-using-rhel-system-roles",{"title":109,"visible":15,"weight":110,"urlFragment":61,"anchor":111,"singlePageAnchor":111,"docTitle":19,"url":112},"3.11. Configuring an LVM-VDO volume by using the storage RHEL system role",11,"configuring-an-lvm-vdo-volume-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles","#configuring-an-lvm-vdo-volume-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles",{"title":114,"visible":15,"weight":115,"urlFragment":61,"anchor":116,"singlePageAnchor":116,"docTitle":19,"url":117},"3.12. Creating a LUKS2 encrypted volume by using the storage RHEL system role",12,"creating-a-luks2-encrypted-volume-using-the-storage-role_managing-local-storage-using-rhel-system-roles","#creating-a-luks2-encrypted-volume-using-the-storage-role_managing-local-storage-using-rhel-system-roles",{"title":119,"visible":15,"weight":120,"urlFragment":61,"anchor":121,"singlePageAnchor":121,"docTitle":19,"url":122},"3.13. Creating shared LVM devices using the storage RHEL system role",13,"creating-shared-lvm-devices-using-storage-system-role_managing-local-storage-using-rhel-system-roles","#creating-shared-lvm-devices-using-storage-system-role_managing-local-storage-using-rhel-system-roles",{"title":124,"visible":15,"weight":125,"urlFragment":61,"anchor":126,"singlePageAnchor":126,"docTitle":19,"url":127},"3.14. Resizing physical volumes by using the storage RHEL system role",14,"resizing-physical-volumes-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles","#resizing-physical-volumes-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles",{"title":129,"visible":15,"weight":130,"urlFragment":61,"anchor":131,"singlePageAnchor":131,"docTitle":19,"url":132},"3.15. Creating an encrypted Stratis pool by using the storage RHEL system role",15,"creating-an-encrypted-stratis-pool-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles","#creating-an-encrypted-stratis-pool-using-the-storage-rhel-system-role_managing-local-storage-using-rhel-system-roles","#managing-local-storage-using-rhel-system-roles_managing-storage-devices",{"title":135,"visible":15,"weight":85,"urlFragment":136,"anchor":18,"singlePageAnchor":136,"sections":137,"docTitle":19,"url":178},"4. Disk partitions","disk-partitions_managing-storage-devices",[138,142,146,150,154,158,162,166,170,174],{"title":139,"visible":15,"weight":16,"urlFragment":136,"anchor":140,"singlePageAnchor":140,"docTitle":19,"url":141},"4.1. Overview of partitions","overview-of-partitions_disk-partitions","#overview-of-partitions_disk-partitions",{"title":143,"visible":15,"weight":23,"urlFragment":136,"anchor":144,"singlePageAnchor":144,"docTitle":19,"url":145},"4.2. Considerations before modifying partitions on a disk","con_considerations-before-modifying-partitions-on-a-disk_disk-partitions","#con_considerations-before-modifying-partitions-on-a-disk_disk-partitions",{"title":147,"visible":15,"weight":28,"urlFragment":136,"anchor":148,"singlePageAnchor":148,"docTitle":19,"url":149},"4.3. Comparison of partition table types","comparison-of-partition-table-types_disk-partitions","#comparison-of-partition-table-types_disk-partitions",{"title":151,"visible":15,"weight":46,"urlFragment":136,"anchor":152,"singlePageAnchor":152,"docTitle":19,"url":153},"4.4. MBR disk partitions","mbr-disk-partitions_disk-partitions","#mbr-disk-partitions_disk-partitions",{"title":155,"visible":15,"weight":60,"urlFragment":136,"anchor":156,"singlePageAnchor":156,"docTitle":19,"url":157},"4.5. Extended MBR partitions","extended-mbr-partitions_disk-partitions","#extended-mbr-partitions_disk-partitions",{"title":159,"visible":15,"weight":85,"urlFragment":136,"anchor":160,"singlePageAnchor":160,"docTitle":19,"url":161},"4.6. MBR partition types","mbr-partition-types_disk-partitions","#mbr-partition-types_disk-partitions",{"title":163,"visible":15,"weight":90,"urlFragment":136,"anchor":164,"singlePageAnchor":164,"docTitle":19,"url":165},"4.7. GUID partition table","guid-partition-table_disk-partitions","#guid-partition-table_disk-partitions",{"title":167,"visible":15,"weight":95,"urlFragment":136,"anchor":168,"singlePageAnchor":168,"docTitle":19,"url":169},"4.8. Partition types","partition-types_disk-partitions","#partition-types_disk-partitions",{"title":171,"visible":15,"weight":100,"urlFragment":136,"anchor":172,"singlePageAnchor":172,"docTitle":19,"url":173},"4.9. Partition naming scheme","partition-naming-scheme_disk-partitions","#partition-naming-scheme_disk-partitions",{"title":175,"visible":15,"weight":105,"urlFragment":136,"anchor":176,"singlePageAnchor":176,"docTitle":19,"url":177},"4.10. Mount points and disk partitions","mount-points-and-disk-partitions_disk-partitions","#mount-points-and-disk-partitions_disk-partitions","#disk-partitions_managing-storage-devices",{"title":180,"visible":15,"weight":90,"urlFragment":181,"anchor":18,"singlePageAnchor":181,"sections":182,"docTitle":19,"url":207},"5. Getting started with partitions","getting-started-with-partitions_managing-storage-devices",[183,187,191,195,199,203],{"title":184,"visible":15,"weight":16,"urlFragment":181,"anchor":185,"singlePageAnchor":185,"docTitle":19,"url":186},"5.1. Creating a partition table on a disk with parted","proc_creating-a-partition-table-on-a-disk-with-parted_getting-started-with-partitions","#proc_creating-a-partition-table-on-a-disk-with-parted_getting-started-with-partitions",{"title":188,"visible":15,"weight":23,"urlFragment":181,"anchor":189,"singlePageAnchor":189,"docTitle":19,"url":190},"5.2. Viewing the partition table with parted","viewing-the-partition-table-with-parted_getting-started-with-partitions","#viewing-the-partition-table-with-parted_getting-started-with-partitions",{"title":192,"visible":15,"weight":28,"urlFragment":181,"anchor":193,"singlePageAnchor":193,"docTitle":19,"url":194},"5.3. Creating a partition with parted","proc_creating-a-partition-with-parted_getting-started-with-partitions","#proc_creating-a-partition-with-parted_getting-started-with-partitions",{"title":196,"visible":15,"weight":46,"urlFragment":181,"anchor":197,"singlePageAnchor":197,"docTitle":19,"url":198},"5.4. Setting a partition type with fdisk","proc_setting-a-partition-type-with-fdisk_getting-started-with-partitions","#proc_setting-a-partition-type-with-fdisk_getting-started-with-partitions",{"title":200,"visible":15,"weight":60,"urlFragment":181,"anchor":201,"singlePageAnchor":201,"docTitle":19,"url":202},"5.5. Resizing a partition with parted","proc_resizing-a-partition-with-parted_getting-started-with-partitions","#proc_resizing-a-partition-with-parted_getting-started-with-partitions",{"title":204,"visible":15,"weight":85,"urlFragment":181,"anchor":205,"singlePageAnchor":205,"docTitle":19,"url":206},"5.6. Removing a partition with parted","proc_removing-a-partition-with-parted_getting-started-with-partitions","#proc_removing-a-partition-with-parted_getting-started-with-partitions","#getting-started-with-partitions_managing-storage-devices",{"title":209,"visible":15,"weight":95,"urlFragment":210,"anchor":18,"singlePageAnchor":210,"sections":211,"docTitle":19,"url":233},"6. Strategies for repartitioning a disk","strategies-for-repartitioning-a-disk_managing-storage-devices",[212,216,220],{"title":213,"visible":15,"weight":16,"urlFragment":210,"anchor":214,"singlePageAnchor":214,"docTitle":19,"url":215},"6.1. Using unpartitioned free space","using-unpartitioned-free-space_strategies-for-repartitioning-a-disk","#using-unpartitioned-free-space_strategies-for-repartitioning-a-disk",{"title":217,"visible":15,"weight":23,"urlFragment":210,"anchor":218,"singlePageAnchor":218,"docTitle":19,"url":219},"6.2. Using space from an unused partition","using-space-from-an-unused-partition_strategies-for-repartitioning-a-disk","#using-space-from-an-unused-partition_strategies-for-repartitioning-a-disk",{"title":221,"visible":15,"weight":28,"urlFragment":210,"anchor":222,"singlePageAnchor":222,"sections":223,"docTitle":19,"url":232},"6.3. Using free space from an active partition","using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk",[224,228],{"title":225,"visible":15,"weight":16,"urlFragment":210,"anchor":226,"singlePageAnchor":226,"docTitle":19,"url":227},"6.3.1. Destructive repartitioning","destructive-repartitioning_using-free-space-from-an-active-partition","#destructive-repartitioning_using-free-space-from-an-active-partition",{"title":229,"visible":15,"weight":23,"urlFragment":210,"anchor":230,"singlePageAnchor":230,"docTitle":19,"url":231},"6.3.2. Non-destructive repartitioning","non-destructive-repartitioning_using-free-space-from-an-active-partition","#non-destructive-repartitioning_using-free-space-from-an-active-partition","#using-free-space-from-an-active-partition_strategies-for-repartitioning-a-disk","#strategies-for-repartitioning-a-disk_managing-storage-devices",{"title":235,"visible":15,"weight":100,"urlFragment":236,"anchor":18,"singlePageAnchor":236,"sections":237,"docTitle":19,"url":290},"7. Configuring an iSCSI target","configuring-an-iscsi-target_managing-storage-devices",[238,242,246,250,254,258,262,266,270,274,278,282,286],{"title":239,"visible":15,"weight":16,"urlFragment":236,"anchor":240,"singlePageAnchor":240,"docTitle":19,"url":241},"7.1. Installing targetcli","installing-targetcli_configuring-an-iscsi-target","#installing-targetcli_configuring-an-iscsi-target",{"title":243,"visible":15,"weight":23,"urlFragment":236,"anchor":244,"singlePageAnchor":244,"docTitle":19,"url":245},"7.2. Creating an iSCSI target","creating-an-iscsi-target_configuring-an-iscsi-target","#creating-an-iscsi-target_configuring-an-iscsi-target",{"title":247,"visible":15,"weight":28,"urlFragment":236,"anchor":248,"singlePageAnchor":248,"docTitle":19,"url":249},"7.3. iSCSI Backstore","iscsi-backstore_configuring-an-iscsi-target","#iscsi-backstore_configuring-an-iscsi-target",{"title":251,"visible":15,"weight":46,"urlFragment":236,"anchor":252,"singlePageAnchor":252,"docTitle":19,"url":253},"7.4. Creating a fileio storage object","creating-a-fileio-storage-object_configuring-an-iscsi-target","#creating-a-fileio-storage-object_configuring-an-iscsi-target",{"title":255,"visible":15,"weight":60,"urlFragment":236,"anchor":256,"singlePageAnchor":256,"docTitle":19,"url":257},"7.5. Creating a block storage object","creating-a-block-storage-object_configuring-an-iscsi-target","#creating-a-block-storage-object_configuring-an-iscsi-target",{"title":259,"visible":15,"weight":85,"urlFragment":236,"anchor":260,"singlePageAnchor":260,"docTitle":19,"url":261},"7.6. Creating a pscsi storage object","creating-a-pscsi-storage-object_configuring-an-iscsi-target","#creating-a-pscsi-storage-object_configuring-an-iscsi-target",{"title":263,"visible":15,"weight":90,"urlFragment":236,"anchor":264,"singlePageAnchor":264,"docTitle":19,"url":265},"7.7. Creating a Memory Copy RAM disk storage object","creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target","#creating-a-memory-copy-ram-disk-storage-object_configuring-an-iscsi-target",{"title":267,"visible":15,"weight":95,"urlFragment":236,"anchor":268,"singlePageAnchor":268,"docTitle":19,"url":269},"7.8. Creating an iSCSI portal","creating-an-iscsi-portal_configuring-an-iscsi-target","#creating-an-iscsi-portal_configuring-an-iscsi-target",{"title":271,"visible":15,"weight":100,"urlFragment":236,"anchor":272,"singlePageAnchor":272,"docTitle":19,"url":273},"7.9. Creating an iSCSI LUN","creating-an-iscsi-lun_configuring-an-iscsi-target","#creating-an-iscsi-lun_configuring-an-iscsi-target",{"title":275,"visible":15,"weight":105,"urlFragment":236,"anchor":276,"singlePageAnchor":276,"docTitle":19,"url":277},"7.10. Creating a read-only iSCSI LUN","creating-a-read-only-iscsi-lun_configuring-an-iscsi-target","#creating-a-read-only-iscsi-lun_configuring-an-iscsi-target",{"title":279,"visible":15,"weight":110,"urlFragment":236,"anchor":280,"singlePageAnchor":280,"docTitle":19,"url":281},"7.11. Creating an iSCSI ACL","creating-an-iscsi-acl_configuring-an-iscsi-target","#creating-an-iscsi-acl_configuring-an-iscsi-target",{"title":283,"visible":15,"weight":115,"urlFragment":236,"anchor":284,"singlePageAnchor":284,"docTitle":19,"url":285},"7.12. Setting up the Challenge-Handshake Authentication Protocol for the target","setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target","#setting-up-the-challenge-handshake-authentication-protocol-for-the-target_configuring-an-iscsi-target",{"title":287,"visible":15,"weight":120,"urlFragment":236,"anchor":288,"singlePageAnchor":288,"docTitle":19,"url":289},"7.13. Removing an iSCSI object using targetcli tool","removing-an-iscsi-object-using-targetcli-tool_configuring-an-iscsi-target","#removing-an-iscsi-object-using-targetcli-tool_configuring-an-iscsi-target","#configuring-an-iscsi-target_managing-storage-devices",{"title":292,"visible":15,"weight":105,"urlFragment":293,"anchor":18,"singlePageAnchor":293,"sections":294,"docTitle":19,"url":311},"8. Configuring an iSCSI initiator","configuring-an-iscsi-initiator_managing-storage-devices",[295,299,303,307],{"title":296,"visible":15,"weight":16,"urlFragment":293,"anchor":297,"singlePageAnchor":297,"docTitle":19,"url":298},"8.1. Creating an iSCSI initiator","creating-an-iscsi-initiator_configuring-an-iscsi-initiator","#creating-an-iscsi-initiator_configuring-an-iscsi-initiator",{"title":300,"visible":15,"weight":23,"urlFragment":293,"anchor":301,"singlePageAnchor":301,"docTitle":19,"url":302},"8.2. Setting up the Challenge-Handshake Authentication Protocol for the initiator","setting-up-the-challenge-handshake-authentication-protocol-for-the-initiator_configuring-an-iscsi-initiator","#setting-up-the-challenge-handshake-authentication-protocol-for-the-initiator_configuring-an-iscsi-initiator",{"title":304,"visible":15,"weight":28,"urlFragment":293,"anchor":305,"singlePageAnchor":305,"docTitle":19,"url":306},"8.3. Monitoring an iSCSI session using the iscsiadm utility","monitoring-an-iscsi-session-using-the-iscsiadm-utility_configuring-an-iscsi-initiator","#monitoring-an-iscsi-session-using-the-iscsiadm-utility_configuring-an-iscsi-initiator",{"title":308,"visible":15,"weight":46,"urlFragment":293,"anchor":309,"singlePageAnchor":309,"docTitle":19,"url":310},"8.4. DM Multipath overrides of the device timeout","dm-multipath-overrides-of-the-device-timeout_configuring-an-iscsi-initiator","#dm-multipath-overrides-of-the-device-timeout_configuring-an-iscsi-initiator","#configuring-an-iscsi-initiator_managing-storage-devices",{"title":313,"visible":15,"weight":110,"urlFragment":314,"anchor":18,"singlePageAnchor":314,"sections":315,"docTitle":19,"url":332},"9. Using Fibre Channel devices","using-fibre-channel-devices_managing-storage-devices",[316,320,324,328],{"title":317,"visible":15,"weight":16,"urlFragment":314,"anchor":318,"singlePageAnchor":318,"docTitle":19,"url":319},"9.1. Resizing Fibre Channel Logical Units","resizing-fibre-channel-logical-units_using-fibre-channel-devices","#resizing-fibre-channel-logical-units_using-fibre-channel-devices",{"title":321,"visible":15,"weight":23,"urlFragment":314,"anchor":322,"singlePageAnchor":322,"docTitle":19,"url":323},"9.2. Determining the link loss behavior of device using Fibre Channel","determining-the-link-loss-behavior-of-device-using-fibre-channel_using-fibre-channel-devices","#determining-the-link-loss-behavior-of-device-using-fibre-channel_using-fibre-channel-devices",{"title":325,"visible":15,"weight":28,"urlFragment":314,"anchor":326,"singlePageAnchor":326,"docTitle":19,"url":327},"9.3. Fibre Channel configuration files","fibre-channel-configuration-files_using-fibre-channel-devices","#fibre-channel-configuration-files_using-fibre-channel-devices",{"title":329,"visible":15,"weight":46,"urlFragment":314,"anchor":330,"singlePageAnchor":330,"docTitle":19,"url":331},"9.4. DM Multipath overrides of the device timeout","dm-multipath-overrides-of-the-device-timeout_using-fibre-channel-devices","#dm-multipath-overrides-of-the-device-timeout_using-fibre-channel-devices","#using-fibre-channel-devices_managing-storage-devices",{"title":334,"visible":15,"weight":115,"urlFragment":335,"anchor":18,"singlePageAnchor":335,"sections":336,"docTitle":19,"url":357},"10. Managing system upgrades with snapshots","managing-system-upgrades-with-snapshots_managing-storage-devices",[337,341,345,349,353],{"title":338,"visible":15,"weight":16,"urlFragment":335,"anchor":339,"singlePageAnchor":339,"docTitle":19,"url":340},"10.1. Overview of the Boom process","overview-of-the-boom-process_managing-system-upgrades-with-snapshots","#overview-of-the-boom-process_managing-system-upgrades-with-snapshots",{"title":342,"visible":15,"weight":23,"urlFragment":335,"anchor":343,"singlePageAnchor":343,"docTitle":19,"url":344},"10.2. Upgrading to another version using Boom Boot Manager","upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots","#upgrading-to-another-version-using-boom-boot-manager_managing-system-upgrades-with-snapshots",{"title":346,"visible":15,"weight":28,"urlFragment":335,"anchor":347,"singlePageAnchor":347,"docTitle":19,"url":348},"10.3. Switching between Red Hat Enterprise Linux versions","switching-between-red-hat-enterprise-linux-versions_managing-system-upgrades-with-snapshots","#switching-between-red-hat-enterprise-linux-versions_managing-system-upgrades-with-snapshots",{"title":350,"visible":15,"weight":46,"urlFragment":335,"anchor":351,"singlePageAnchor":351,"docTitle":19,"url":352},"10.4. Deleting the logical volume snapshot after a successful upgrade","deleting-the-logical-volume-snapshot-after-a-successful-upgrade_managing-system-upgrades-with-snapshots","#deleting-the-logical-volume-snapshot-after-a-successful-upgrade_managing-system-upgrades-with-snapshots",{"title":354,"visible":15,"weight":60,"urlFragment":335,"anchor":355,"singlePageAnchor":355,"docTitle":19,"url":356},"10.5. Creating a rollback boot entry after an unsuccessful upgrade","creating-a-rollback-boot-entry-after-an-unsuccessful-upgrade_managing-system-upgrades-with-snapshots","#creating-a-rollback-boot-entry-after-an-unsuccessful-upgrade_managing-system-upgrades-with-snapshots","#managing-system-upgrades-with-snapshots_managing-storage-devices",{"title":359,"visible":15,"weight":120,"urlFragment":360,"anchor":18,"singlePageAnchor":360,"sections":361,"docTitle":19,"url":382},"11. Configuring NVMe over fabrics using NVMe/RDMA","configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices",[362,366,370,374,378],{"title":363,"visible":15,"weight":16,"urlFragment":360,"anchor":364,"singlePageAnchor":364,"docTitle":19,"url":365},"11.1. Overview of NVMe over fabric devices","overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma","#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-rdma",{"title":367,"visible":15,"weight":23,"urlFragment":360,"anchor":368,"singlePageAnchor":368,"docTitle":19,"url":369},"11.2. Setting up an NVMe/RDMA controller using configfs","setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma","#setting-up-an-nvme-rdma-controller-using-configfs_configuring-nvme-over-fabrics-using-nvme-rdma",{"title":371,"visible":15,"weight":28,"urlFragment":360,"anchor":372,"singlePageAnchor":372,"docTitle":19,"url":373},"11.3. Setting up the NVMe/RDMA controller using nvmetcli","setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma","#setting-up-the-nvme-rdma-controller-using-nvmetcli_configuring-nvme-over-fabrics-using-nvme-rdma",{"title":375,"visible":15,"weight":46,"urlFragment":360,"anchor":376,"singlePageAnchor":376,"docTitle":19,"url":377},"11.4. Configuring an NVMe/RDMA host","configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma","#configuring-an-nvme-rdma-host_configuring-nvme-over-fabrics-using-nvme-rdma",{"title":379,"visible":15,"weight":60,"urlFragment":360,"anchor":380,"singlePageAnchor":380,"docTitle":19,"url":381},"11.5. Next steps","next_steps","#next_steps","#configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices",{"title":384,"visible":15,"weight":125,"urlFragment":385,"anchor":18,"singlePageAnchor":385,"sections":386,"docTitle":19,"url":403},"12. Configuring NVMe over fabrics using NVMe/FC","configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices",[387,391,395,399],{"title":388,"visible":15,"weight":16,"urlFragment":385,"anchor":389,"singlePageAnchor":389,"docTitle":19,"url":390},"12.1. Overview of NVMe over fabric devices","overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-fc","#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-fc",{"title":392,"visible":15,"weight":23,"urlFragment":385,"anchor":393,"singlePageAnchor":393,"docTitle":19,"url":394},"12.2. Configuring the NVMe host for Broadcom adapters","configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc","#configuring-the-nvme-host-for-broadcom-adapters_configuring-nvme-over-fabrics-using-nvme-fc",{"title":396,"visible":15,"weight":28,"urlFragment":385,"anchor":397,"singlePageAnchor":397,"docTitle":19,"url":398},"12.3. Configuring the NVMe host for QLogic adapters","configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc","#configuring-the-nvme-host-for-qlogic-adapters_configuring-nvme-over-fabrics-using-nvme-fc",{"title":400,"visible":15,"weight":46,"urlFragment":385,"anchor":401,"singlePageAnchor":401,"docTitle":19,"url":402},"12.4. Next steps","next_steps_2","#next_steps_2","#configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices",{"title":405,"visible":15,"weight":130,"urlFragment":406,"anchor":18,"singlePageAnchor":406,"sections":407,"docTitle":19,"url":420},"13. Configuring NVMe over fabrics using NVMe/TCP","configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices",[408,412,416],{"title":409,"visible":15,"weight":16,"urlFragment":406,"anchor":410,"singlePageAnchor":410,"docTitle":19,"url":411},"13.1. Overview of NVMe over fabric devices","overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-tcp","#overview-of-nvme-over-fabric-devices_configuring-nvme-over-fabrics-using-nvme-tcp",{"title":413,"visible":15,"weight":23,"urlFragment":406,"anchor":414,"singlePageAnchor":414,"docTitle":19,"url":415},"13.2. Configuring an NVMe/TCP host","configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp","#configuring-an-nvme-tcp-host_configuring-nvme-over-fabrics-using-nvme-tcp",{"title":417,"visible":15,"weight":28,"urlFragment":406,"anchor":418,"singlePageAnchor":418,"docTitle":19,"url":419},"13.3. Connecting the NVMe/TCP host to the NVMe/TCP controller","connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp","#connecting-the-nvme-tcp-host-to-the-nvme-tcp-controller_configuring-nvme-over-fabrics-using-nvme-tcp","#configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices",{"title":422,"visible":15,"weight":423,"urlFragment":424,"anchor":18,"singlePageAnchor":424,"sections":425,"docTitle":19,"url":438},"14. Enabling multipathing on NVMe devices",16,"enabling-multipathing-on-nvme-devices_managing-storage-devices",[426,430,434],{"title":427,"visible":15,"weight":16,"urlFragment":424,"anchor":428,"singlePageAnchor":428,"docTitle":19,"url":429},"14.1. Native NVMe multipathing and DM Multipath","native-nvme-multipathing-and-dm-multipath_enabling-multipathing-on-nvme-devices","#native-nvme-multipathing-and-dm-multipath_enabling-multipathing-on-nvme-devices",{"title":431,"visible":15,"weight":23,"urlFragment":424,"anchor":432,"singlePageAnchor":432,"docTitle":19,"url":433},"14.2. Enabling DM Multipath on NVMe devices","proc_enabling-dm-multipath-on-nvme-devices_enabling-multipathing-on-nvme-devices","#proc_enabling-dm-multipath-on-nvme-devices_enabling-multipathing-on-nvme-devices",{"title":435,"visible":15,"weight":28,"urlFragment":424,"anchor":436,"singlePageAnchor":436,"docTitle":19,"url":437},"14.3. Enabling native NVMe multipathing","proc_enabling-native-nvme-multipathing_enabling-multipathing-on-nvme-devices","#proc_enabling-native-nvme-multipathing_enabling-multipathing-on-nvme-devices","#enabling-multipathing-on-nvme-devices_managing-storage-devices",{"title":440,"visible":15,"weight":441,"urlFragment":442,"anchor":18,"singlePageAnchor":442,"sections":443,"docTitle":19,"url":468},"15. Setting up a remote diskless system",17,"setting-up-a-remote-diskless-system_managing-storage-devices",[444,448,452,456,460,464],{"title":445,"visible":15,"weight":16,"urlFragment":442,"anchor":446,"singlePageAnchor":446,"docTitle":19,"url":447},"15.1. Preparing environments for the remote diskless system","preparing-environments-for-the-remote-diskless-system_setting-up-a-remote-diskless-system","#preparing-environments-for-the-remote-diskless-system_setting-up-a-remote-diskless-system",{"title":449,"visible":15,"weight":23,"urlFragment":442,"anchor":450,"singlePageAnchor":450,"docTitle":19,"url":451},"15.2. Configuring a TFTP service for diskless clients","configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system","#configuring-a-tftp-service-for-diskless-client_setting-up-a-remote-diskless-system",{"title":453,"visible":15,"weight":28,"urlFragment":442,"anchor":454,"singlePageAnchor":454,"docTitle":19,"url":455},"15.3. Configuring a DHCP server for diskless clients","configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system","#configuring-a-dhcp-for-diskless-clients_setting-up-a-remote-diskless-system",{"title":457,"visible":15,"weight":46,"urlFragment":442,"anchor":458,"singlePageAnchor":458,"docTitle":19,"url":459},"15.4. Configuring an exported file system for diskless clients","configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system","#configuring-an-exported-file-system-for-diskless-clients_setting-up-a-remote-diskless-system",{"title":461,"visible":15,"weight":60,"urlFragment":442,"anchor":462,"singlePageAnchor":462,"docTitle":19,"url":463},"15.5. Re-configuring a remote diskless system","re-configuring-a-remote-diskless-system_setting-up-a-remote-diskless-system","#re-configuring-a-remote-diskless-system_setting-up-a-remote-diskless-system",{"title":465,"visible":15,"weight":85,"urlFragment":442,"anchor":466,"singlePageAnchor":466,"docTitle":19,"url":467},"15.6. Troubleshooting common issues with loading a remote diskless system","troubleshooting-common-issues-with-loading-a-remote-diskless-system_setting-up-a-remote-diskless-system","#troubleshooting-common-issues-with-loading-a-remote-diskless-system_setting-up-a-remote-diskless-system","#setting-up-a-remote-diskless-system_managing-storage-devices",{"title":470,"visible":15,"weight":471,"urlFragment":472,"anchor":18,"singlePageAnchor":472,"sections":473,"docTitle":19,"url":506},"16. Getting started with swap",18,"getting-started-with-swap_managing-storage-devices",[474,478,482,486,490,494,498,502],{"title":475,"visible":15,"weight":16,"urlFragment":472,"anchor":476,"singlePageAnchor":476,"docTitle":19,"url":477},"16.1. Overview of swap space","overview-of-swap-space_getting-started-with-swap","#overview-of-swap-space_getting-started-with-swap",{"title":479,"visible":15,"weight":23,"urlFragment":472,"anchor":480,"singlePageAnchor":480,"docTitle":19,"url":481},"16.2. Recommended system swap space","recommended-system-swap-space_getting-started-with-swap","#recommended-system-swap-space_getting-started-with-swap",{"title":483,"visible":15,"weight":28,"urlFragment":472,"anchor":484,"singlePageAnchor":484,"docTitle":19,"url":485},"16.3. Creating an LVM2 logical volume for swap","creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap","#creating-an-lvm2-logical-volume-for-swap_getting-started-with-swap",{"title":487,"visible":15,"weight":46,"urlFragment":472,"anchor":488,"singlePageAnchor":488,"docTitle":19,"url":489},"16.4. Creating a swap file","creating-a-swap-file_getting-started-with-swap","#creating-a-swap-file_getting-started-with-swap",{"title":491,"visible":15,"weight":60,"urlFragment":472,"anchor":492,"singlePageAnchor":492,"docTitle":19,"url":493},"16.5. Extending swap on an LVM2 logical volume","extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap","#extending-swap-on-an-lvm2-logical-volume_getting-started-with-swap",{"title":495,"visible":15,"weight":85,"urlFragment":472,"anchor":496,"singlePageAnchor":496,"docTitle":19,"url":497},"16.6. Reducing swap on an LVM2 logical volume","reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap","#reducing-swap-on-an-lvm2-logical-volume_getting-started-with-swap",{"title":499,"visible":15,"weight":90,"urlFragment":472,"anchor":500,"singlePageAnchor":500,"docTitle":19,"url":501},"16.7. Removing an LVM2 logical volume for swap","removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap","#removing-an-lvm2-logical-volume-for-swap_getting-started-with-swap",{"title":503,"visible":15,"weight":95,"urlFragment":472,"anchor":504,"singlePageAnchor":504,"docTitle":19,"url":505},"16.8. Removing a swap file","removing-a-swap-file_getting-started-with-swap","#removing-a-swap-file_getting-started-with-swap","#getting-started-with-swap_managing-storage-devices",{"title":508,"visible":15,"weight":509,"urlFragment":510,"anchor":18,"singlePageAnchor":510,"sections":511,"docTitle":19,"url":520},"17. Configuring Fibre Channel over Ethernet",19,"configuring-fibre-channel-over-ethernet_managing-storage-devices",[512,516],{"title":513,"visible":15,"weight":16,"urlFragment":510,"anchor":514,"singlePageAnchor":514,"docTitle":19,"url":515},"17.1. Using hardware FCoE HBAs in RHEL","using-hardware-fcoe-hbas-in-rhel_configuring-fibre-channel-over-ethernet","#using-hardware-fcoe-hbas-in-rhel_configuring-fibre-channel-over-ethernet",{"title":517,"visible":15,"weight":23,"urlFragment":510,"anchor":518,"singlePageAnchor":518,"docTitle":19,"url":519},"17.2. Setting up a software FCoE device","setting-up-a-software-fcoe-device_configuring-fibre-channel-over-ethernet","#setting-up-a-software-fcoe-device_configuring-fibre-channel-over-ethernet","#configuring-fibre-channel-over-ethernet_managing-storage-devices",{"title":522,"visible":15,"weight":523,"urlFragment":524,"anchor":18,"singlePageAnchor":524,"sections":525,"docTitle":19,"url":558},"18. Managing tape devices",20,"managing-tape-devices_managing-storage-devices",[526,530,534,538,542,546,550,554],{"title":527,"visible":15,"weight":16,"urlFragment":524,"anchor":528,"singlePageAnchor":528,"docTitle":19,"url":529},"18.1. Types of tape devices","types-of-tape-devices_managing-tape-devices","#types-of-tape-devices_managing-tape-devices",{"title":531,"visible":15,"weight":23,"urlFragment":524,"anchor":532,"singlePageAnchor":532,"docTitle":19,"url":533},"18.2. Installing tape drive management tool","installing-tape-drive-management-tool_managing-tape-devices","#installing-tape-drive-management-tool_managing-tape-devices",{"title":535,"visible":15,"weight":28,"urlFragment":524,"anchor":536,"singlePageAnchor":536,"docTitle":19,"url":537},"18.3. Writing to rewinding tape devices","writing-to-rewinding-tape-devices_managing-tape-devices","#writing-to-rewinding-tape-devices_managing-tape-devices",{"title":539,"visible":15,"weight":46,"urlFragment":524,"anchor":540,"singlePageAnchor":540,"docTitle":19,"url":541},"18.4. Writing to non-rewinding tape devices","writing-to-non-rewinding-tape-devices_managing-tape-devices","#writing-to-non-rewinding-tape-devices_managing-tape-devices",{"title":543,"visible":15,"weight":60,"urlFragment":524,"anchor":544,"singlePageAnchor":544,"docTitle":19,"url":545},"18.5. Switching tape head in tape devices","switching-tape-head-in-tape-devices_managing-tape-devices","#switching-tape-head-in-tape-devices_managing-tape-devices",{"title":547,"visible":15,"weight":85,"urlFragment":524,"anchor":548,"singlePageAnchor":548,"docTitle":19,"url":549},"18.6. Restoring data from tape devices","restoring-data-from-tape-devices_managing-tape-devices","#restoring-data-from-tape-devices_managing-tape-devices",{"title":551,"visible":15,"weight":90,"urlFragment":524,"anchor":552,"singlePageAnchor":552,"docTitle":19,"url":553},"18.7. Erasing data from tape devices","erasing-data-from-tape-devices_managing-tape-devices","#erasing-data-from-tape-devices_managing-tape-devices",{"title":555,"visible":15,"weight":95,"urlFragment":524,"anchor":556,"singlePageAnchor":556,"docTitle":19,"url":557},"18.8. Tape commands","tape-commands_managing-tape-devices","#tape-commands_managing-tape-devices","#managing-tape-devices_managing-storage-devices",{"title":560,"visible":15,"weight":561,"urlFragment":562,"anchor":18,"singlePageAnchor":562,"sections":563,"docTitle":19,"url":644},"19. Managing RAID",21,"managing-raid_managing-storage-devices",[564,568,572,576,580,584,588,592,596,600,604,608,612,616,620,624,628,632,636,640],{"title":565,"visible":15,"weight":16,"urlFragment":562,"anchor":566,"singlePageAnchor":566,"docTitle":19,"url":567},"19.1. Overview of RAID","overview-of-raid_managing-raid","#overview-of-raid_managing-raid",{"title":569,"visible":15,"weight":23,"urlFragment":562,"anchor":570,"singlePageAnchor":570,"docTitle":19,"url":571},"19.2. RAID types","raid-types_managing-raid","#raid-types_managing-raid",{"title":573,"visible":15,"weight":28,"urlFragment":562,"anchor":574,"singlePageAnchor":574,"docTitle":19,"url":575},"19.3. RAID levels and linear support","raid-levels-and-linear-support_managing-raid","#raid-levels-and-linear-support_managing-raid",{"title":577,"visible":15,"weight":46,"urlFragment":562,"anchor":578,"singlePageAnchor":578,"docTitle":19,"url":579},"19.4. Supported RAID conversions","supported-raid-conversions_managing-raid","#supported-raid-conversions_managing-raid",{"title":581,"visible":15,"weight":60,"urlFragment":562,"anchor":582,"singlePageAnchor":582,"docTitle":19,"url":583},"19.5. Linux RAID subsystems","linux-raid-subsystems_managing-raid","#linux-raid-subsystems_managing-raid",{"title":585,"visible":15,"weight":85,"urlFragment":562,"anchor":586,"singlePageAnchor":586,"docTitle":19,"url":587},"19.6. Creating a software RAID during the installation","creating-a-software-raid-during-the-installation_managing-raid","#creating-a-software-raid-during-the-installation_managing-raid",{"title":589,"visible":15,"weight":90,"urlFragment":562,"anchor":590,"singlePageAnchor":590,"docTitle":19,"url":591},"19.7. Creating a software RAID on an installed system","creating-a-software-raid-on-an-installed-system_managing-raid","#creating-a-software-raid-on-an-installed-system_managing-raid",{"title":593,"visible":15,"weight":95,"urlFragment":562,"anchor":594,"singlePageAnchor":594,"docTitle":19,"url":595},"19.8. Creating RAID in the web console","creating-raid-in-the-web-console_managing-raid","#creating-raid-in-the-web-console_managing-raid",{"title":597,"visible":15,"weight":100,"urlFragment":562,"anchor":598,"singlePageAnchor":598,"docTitle":19,"url":599},"19.9. Formatting RAID in the web console","formatting-raid-in-the-web-console_managing-raid","#formatting-raid-in-the-web-console_managing-raid",{"title":601,"visible":15,"weight":105,"urlFragment":562,"anchor":602,"singlePageAnchor":602,"docTitle":19,"url":603},"19.10. Creating a partition table on RAID by using the web console","creating-a-partition-table-on-raid-using-the-web-console_managing-raid","#creating-a-partition-table-on-raid-using-the-web-console_managing-raid",{"title":605,"visible":15,"weight":110,"urlFragment":562,"anchor":606,"singlePageAnchor":606,"docTitle":19,"url":607},"19.11. Creating partitions on RAID by using the web console","creating-partitions-on-raid-using-the-web-console_managing-raid","#creating-partitions-on-raid-using-the-web-console_managing-raid",{"title":609,"visible":15,"weight":115,"urlFragment":562,"anchor":610,"singlePageAnchor":610,"docTitle":19,"url":611},"19.12. Creating a volume group on top of RAID by using the web console","creating-volume-group-on-top-of-raid-using-the-web-console_managing-raid","#creating-volume-group-on-top-of-raid-using-the-web-console_managing-raid",{"title":613,"visible":15,"weight":120,"urlFragment":562,"anchor":614,"singlePageAnchor":614,"docTitle":19,"url":615},"19.13. Configuring a RAID volume by using the storage RHEL system role","configuring-a-raid-volume-using-the-storage-system-role_managing-raid","#configuring-a-raid-volume-using-the-storage-system-role_managing-raid",{"title":617,"visible":15,"weight":125,"urlFragment":562,"anchor":618,"singlePageAnchor":618,"docTitle":19,"url":619},"19.14. Extending RAID","extending-raid_managing-raid","#extending-raid_managing-raid",{"title":621,"visible":15,"weight":130,"urlFragment":562,"anchor":622,"singlePageAnchor":622,"docTitle":19,"url":623},"19.15. Shrinking RAID","shrinking-raid_managing-raid","#shrinking-raid_managing-raid",{"title":625,"visible":15,"weight":423,"urlFragment":562,"anchor":626,"singlePageAnchor":626,"docTitle":19,"url":627},"19.16. Converting a root disk to RAID1 after installation","converting-a-root-disk-to-raid1-after-installation_managing-raid","#converting-a-root-disk-to-raid1-after-installation_managing-raid",{"title":629,"visible":15,"weight":441,"urlFragment":562,"anchor":630,"singlePageAnchor":630,"docTitle":19,"url":631},"19.17. Creating advanced RAID devices","creating-advanced-raid-devices_managing-raid","#creating-advanced-raid-devices_managing-raid",{"title":633,"visible":15,"weight":471,"urlFragment":562,"anchor":634,"singlePageAnchor":634,"docTitle":19,"url":635},"19.18. Setting up email notifications to monitor a RAID","setting-up-email-notifications-to-monitor-a-raid_managing-raid","#setting-up-email-notifications-to-monitor-a-raid_managing-raid",{"title":637,"visible":15,"weight":509,"urlFragment":562,"anchor":638,"singlePageAnchor":638,"docTitle":19,"url":639},"19.19. Replacing a failed disk in RAID","replacing-a-failed-disk-in-raid_managing-raid","#replacing-a-failed-disk-in-raid_managing-raid",{"title":641,"visible":15,"weight":523,"urlFragment":562,"anchor":642,"singlePageAnchor":642,"docTitle":19,"url":643},"19.20. Repairing RAID disks","repairing-raid-disks_managing-raid","#repairing-raid-disks_managing-raid","#managing-raid_managing-storage-devices",{"title":646,"visible":15,"weight":647,"urlFragment":648,"anchor":18,"singlePageAnchor":648,"sections":649,"docTitle":19,"url":686},"20. Encrypting block devices using LUKS",22,"encrypting-block-devices-using-luks_managing-storage-devices",[650,654,658,662,666,670,674,678,682],{"title":651,"visible":15,"weight":16,"urlFragment":648,"anchor":652,"singlePageAnchor":652,"docTitle":19,"url":653},"20.1. LUKS disk encryption","luks-disk-encryption_encrypting-block-devices-using-luks","#luks-disk-encryption_encrypting-block-devices-using-luks",{"title":655,"visible":15,"weight":23,"urlFragment":648,"anchor":656,"singlePageAnchor":656,"docTitle":19,"url":657},"20.2. LUKS versions in RHEL","luks-versions-in-rhel_encrypting-block-devices-using-luks","#luks-versions-in-rhel_encrypting-block-devices-using-luks",{"title":659,"visible":15,"weight":28,"urlFragment":648,"anchor":660,"singlePageAnchor":660,"docTitle":19,"url":661},"20.3. Options for data protection during LUKS2 re-encryption","options-for-data-protection-during-luks2-re-encryption_encrypting-block-devices-using-luks","#options-for-data-protection-during-luks2-re-encryption_encrypting-block-devices-using-luks",{"title":663,"visible":15,"weight":46,"urlFragment":648,"anchor":664,"singlePageAnchor":664,"docTitle":19,"url":665},"20.4. Encrypting existing data on a block device using LUKS2","encrypting-existing-data-on-a-block-device-using-luks2_encrypting-block-devices-using-luks","#encrypting-existing-data-on-a-block-device-using-luks2_encrypting-block-devices-using-luks",{"title":667,"visible":15,"weight":60,"urlFragment":648,"anchor":668,"singlePageAnchor":668,"docTitle":19,"url":669},"20.5. Encrypting existing data on a block device using LUKS2 with a detached header","encrypting-existing-data-on-a-block-device-using-luks2-with-a-detached-header_encrypting-block-devices-using-luks","#encrypting-existing-data-on-a-block-device-using-luks2-with-a-detached-header_encrypting-block-devices-using-luks",{"title":671,"visible":15,"weight":85,"urlFragment":648,"anchor":672,"singlePageAnchor":672,"docTitle":19,"url":673},"20.6. Encrypting a blank block device using LUKS2","encrypting-a-blank-block-device-using-luks2_encrypting-block-devices-using-luks","#encrypting-a-blank-block-device-using-luks2_encrypting-block-devices-using-luks",{"title":675,"visible":15,"weight":90,"urlFragment":648,"anchor":676,"singlePageAnchor":676,"docTitle":19,"url":677},"20.7. Configuring the LUKS passphrase in the web console","configuring-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks","#configuring-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks",{"title":679,"visible":15,"weight":95,"urlFragment":648,"anchor":680,"singlePageAnchor":680,"docTitle":19,"url":681},"20.8. Changing the LUKS passphrase in the web console","changing-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks","#changing-the-luks-passphrase-in-the-web-console_encrypting-block-devices-using-luks",{"title":683,"visible":15,"weight":100,"urlFragment":648,"anchor":684,"singlePageAnchor":684,"docTitle":19,"url":685},"20.9. Creating a LUKS2 encrypted volume by using the storage RHEL system role","creating-a-luks2-encrypted-volume-using-the-storage-role_encrypting-block-devices-using-luks","#creating-a-luks2-encrypted-volume-using-the-storage-role_encrypting-block-devices-using-luks","#encrypting-block-devices-using-luks_managing-storage-devices",{"title":688,"visible":15,"weight":689,"urlFragment":690,"anchor":18,"singlePageAnchor":690,"sections":691,"docTitle":19,"url":771},"21. Using NVDIMM persistent memory storage",23,"using-nvdimm-persistent-memory-storage_managing-storage-devices",[692,696,700,704,708,712,725,742,763,767],{"title":693,"visible":15,"weight":16,"urlFragment":690,"anchor":694,"singlePageAnchor":694,"docTitle":19,"url":695},"21.1. The NVDIMM persistent memory technology","the-nvdimm-persistent-memory-technology_using-nvdimm-persistent-memory-storage","#the-nvdimm-persistent-memory-technology_using-nvdimm-persistent-memory-storage",{"title":697,"visible":15,"weight":23,"urlFragment":690,"anchor":698,"singlePageAnchor":698,"docTitle":19,"url":699},"21.2. NVDIMM interleaving and regions","nvdimm-interleaving-and-regions_using-nvdimm-persistent-memory-storage","#nvdimm-interleaving-and-regions_using-nvdimm-persistent-memory-storage",{"title":701,"visible":15,"weight":28,"urlFragment":690,"anchor":702,"singlePageAnchor":702,"docTitle":19,"url":703},"21.3. NVDIMM namespaces","nvdimm-namespaces_using-nvdimm-persistent-memory-storage","#nvdimm-namespaces_using-nvdimm-persistent-memory-storage",{"title":705,"visible":15,"weight":46,"urlFragment":690,"anchor":706,"singlePageAnchor":706,"docTitle":19,"url":707},"21.4. NVDIMM access modes","nvdimm-access-modes_using-nvdimm-persistent-memory-storage","#nvdimm-access-modes_using-nvdimm-persistent-memory-storage",{"title":709,"visible":15,"weight":60,"urlFragment":690,"anchor":710,"singlePageAnchor":710,"docTitle":19,"url":711},"21.5. Installing ndctl","installing-ndctl_using-nvdimm-persistent-memory-storage","#installing-ndctl_using-nvdimm-persistent-memory-storage",{"title":713,"visible":15,"weight":85,"urlFragment":690,"anchor":714,"singlePageAnchor":714,"sections":715,"docTitle":19,"url":724},"21.6. Creating a sector namespace on an NVDIMM to act as a block device","creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage",[716,720],{"title":717,"visible":15,"weight":16,"urlFragment":690,"anchor":718,"singlePageAnchor":718,"docTitle":19,"url":719},"21.6.1. Reconfiguring an existing NVDIMM namespace to sector mode","reconfiguring-an-existing-nvdimm-namespace-to-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device","#reconfiguring-an-existing-nvdimm-namespace-to-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device",{"title":721,"visible":15,"weight":23,"urlFragment":690,"anchor":722,"singlePageAnchor":722,"docTitle":19,"url":723},"21.6.2. Creating a new NVDIMM namespace in sector mode","creating-a-new-nvdimm-namespace-in-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device","#creating-a-new-nvdimm-namespace-in-sector-mode_creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device","#creating-a-sector-namespace-on-an-nvdimm-to-act-as-a-block-device_using-nvdimm-persistent-memory-storage",{"title":726,"visible":15,"weight":90,"urlFragment":690,"anchor":727,"singlePageAnchor":727,"sections":728,"docTitle":19,"url":741},"21.7. Creating a device DAX namespace on an NVDIMM","creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage",[729,733,737],{"title":730,"visible":15,"weight":16,"urlFragment":690,"anchor":731,"singlePageAnchor":731,"docTitle":19,"url":732},"21.7.1. NVDIMM in device direct access mode","nvdimm-in-device-direct-access-mode_creating-a-device-dax-namespace-on-an-nvdimm","#nvdimm-in-device-direct-access-mode_creating-a-device-dax-namespace-on-an-nvdimm",{"title":734,"visible":15,"weight":23,"urlFragment":690,"anchor":735,"singlePageAnchor":735,"docTitle":19,"url":736},"21.7.2. Reconfiguring an existing NVDIMM namespace to device DAX mode","reconfiguring-an-existing-nvdimm-namespace-to-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm","#reconfiguring-an-existing-nvdimm-namespace-to-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm",{"title":738,"visible":15,"weight":28,"urlFragment":690,"anchor":739,"singlePageAnchor":739,"docTitle":19,"url":740},"21.7.3. Creating a new NVDIMM namespace in device DAX mode","creating-a-new-nvdimm-namespace-in-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm","#creating-a-new-nvdimm-namespace-in-device-dax-mode_creating-a-device-dax-namespace-on-an-nvdimm","#creating-a-device-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage",{"title":743,"visible":15,"weight":95,"urlFragment":690,"anchor":744,"singlePageAnchor":744,"sections":745,"docTitle":19,"url":762},"21.8. Creating a file system DAX namespace on an NVDIMM","creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage",[746,750,754,758],{"title":747,"visible":15,"weight":16,"urlFragment":690,"anchor":748,"singlePageAnchor":748,"docTitle":19,"url":749},"21.8.1. NVDIMM in file system direct access mode","nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm","#nvdimm-in-file-system-direct-access-mode_creating-a-file-system-dax-namespace-on-an-nvdimm",{"title":751,"visible":15,"weight":23,"urlFragment":690,"anchor":752,"singlePageAnchor":752,"docTitle":19,"url":753},"21.8.2. Reconfiguring an existing NVDIMM namespace to file system DAX mode","reconfiguring-an-existing-nvdimm-namespace-to-file-system-dax-mode_creating-a-file-system-dax-namespace-on-an-nvdimm","#reconfiguring-an-existing-nvdimm-namespace-to-file-system-dax-mode_creating-a-file-system-dax-namespace-on-an-nvdimm",{"title":755,"visible":15,"weight":28,"urlFragment":690,"anchor":756,"singlePageAnchor":756,"docTitle":19,"url":757},"21.8.3. Creating a new NVDIMM namespace in file system DAX mode","creating-a-new-nvdimm-namespace-in-file-system-DAX-mode_creating-a-file-system-dax-namespace-on-an-nvdimm","#creating-a-new-nvdimm-namespace-in-file-system-DAX-mode_creating-a-file-system-dax-namespace-on-an-nvdimm",{"title":759,"visible":15,"weight":46,"urlFragment":690,"anchor":760,"singlePageAnchor":760,"docTitle":19,"url":761},"21.8.4. Creating a file system on a file system DAX device","creating-a-file-system-on-a-file-system-dax-device_creating-a-file-system-dax-namespace-on-an-nvdimm","#creating-a-file-system-on-a-file-system-dax-device_creating-a-file-system-dax-namespace-on-an-nvdimm","#creating-a-file-system-dax-namespace-on-an-nvdimm_using-nvdimm-persistent-memory-storage",{"title":764,"visible":15,"weight":100,"urlFragment":690,"anchor":765,"singlePageAnchor":765,"docTitle":19,"url":766},"21.9. Monitoring NVDIMM health using S.M.A.R.T.","monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage","#monitoring-nvdimm-health-using-s-m-a-r-t_using-nvdimm-persistent-memory-storage",{"title":768,"visible":15,"weight":105,"urlFragment":690,"anchor":769,"singlePageAnchor":769,"docTitle":19,"url":770},"21.10. Detecting and replacing a broken NVDIMM device","detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage","#detecting-and-replacing-a-broken-nvdimm-device_using-nvdimm-persistent-memory-storage","#using-nvdimm-persistent-memory-storage_managing-storage-devices",{"title":773,"visible":15,"weight":774,"urlFragment":775,"anchor":18,"singlePageAnchor":775,"sections":776,"docTitle":19,"url":793},"22. Discarding unused blocks",24,"discarding-unused-blocks_managing-storage-devices",[777,781,785,789],{"title":778,"visible":15,"weight":16,"urlFragment":775,"anchor":779,"singlePageAnchor":779,"docTitle":19,"url":780},"22.1. Types of block discard operations","types-of-block-discard-operations_discarding-unused-blocks","#types-of-block-discard-operations_discarding-unused-blocks",{"title":782,"visible":15,"weight":23,"urlFragment":775,"anchor":783,"singlePageAnchor":783,"docTitle":19,"url":784},"22.2. Performing batch block discard","performing-batch-block-discard_discarding-unused-blocks","#performing-batch-block-discard_discarding-unused-blocks",{"title":786,"visible":15,"weight":28,"urlFragment":775,"anchor":787,"singlePageAnchor":787,"docTitle":19,"url":788},"22.3. Enabling online block discard","enabling-online-block-discard_discarding-unused-blocks","#enabling-online-block-discard_discarding-unused-blocks",{"title":790,"visible":15,"weight":46,"urlFragment":775,"anchor":791,"singlePageAnchor":791,"docTitle":19,"url":792},"22.4. Enabling periodic block discard","enabling-periodic-block-discard_discarding-unused-blocks","#enabling-periodic-block-discard_discarding-unused-blocks","#discarding-unused-blocks_managing-storage-devices",{"title":795,"visible":15,"weight":796,"urlFragment":797,"anchor":18,"singlePageAnchor":797,"sections":798,"docTitle":19,"url":807},"23. Removing storage devices",25,"removing-storage-devices_managing-storage-devices",[799,803],{"title":800,"visible":15,"weight":16,"urlFragment":797,"anchor":801,"singlePageAnchor":801,"docTitle":19,"url":802},"23.1. Safe removal of storage devices","safe-removal-of-storage-devices_removing-storage-devices","#safe-removal-of-storage-devices_removing-storage-devices",{"title":804,"visible":15,"weight":23,"urlFragment":797,"anchor":805,"singlePageAnchor":805,"docTitle":19,"url":806},"23.2. Removing block devices and associated metadata","removing-block-devices-and-associated-metadata_removing-storage-devices","#removing-block-devices-and-associated-metadata_removing-storage-devices","#removing-storage-devices_managing-storage-devices",{"title":809,"visible":15,"weight":810,"urlFragment":811,"anchor":18,"singlePageAnchor":811,"sections":812,"docTitle":19,"url":893},"24. Setting up Stratis file systems",26,"setting-up-stratis-file-systems",[813,817,821,825,829,833,837,841,845,849,853,857,861,865,869,873,877,881,885,889],{"title":814,"visible":15,"weight":16,"urlFragment":811,"anchor":815,"singlePageAnchor":815,"docTitle":19,"url":816},"24.1. What is Stratis","the-purpose-and-features-of-stratis_setting-up-stratis-file-systems","#the-purpose-and-features-of-stratis_setting-up-stratis-file-systems",{"title":818,"visible":15,"weight":23,"urlFragment":811,"anchor":819,"singlePageAnchor":819,"docTitle":19,"url":820},"24.2. Components of a Stratis volume","components-of-a-stratis-volume_setting-up-stratis-file-systems","#components-of-a-stratis-volume_setting-up-stratis-file-systems",{"title":822,"visible":15,"weight":28,"urlFragment":811,"anchor":823,"singlePageAnchor":823,"docTitle":19,"url":824},"24.3. Block devices usable with Stratis","block-devices-usable-with-stratis_setting-up-stratis-file-systems","#block-devices-usable-with-stratis_setting-up-stratis-file-systems",{"title":826,"visible":15,"weight":46,"urlFragment":811,"anchor":827,"singlePageAnchor":827,"docTitle":19,"url":828},"24.4. Installing Stratis","installing-stratis_setting-up-stratis-file-systems","#installing-stratis_setting-up-stratis-file-systems",{"title":830,"visible":15,"weight":60,"urlFragment":811,"anchor":831,"singlePageAnchor":831,"docTitle":19,"url":832},"24.5. Creating an unencrypted Stratis pool","create-unencrypted-stratis-pool_setting-up-stratis-file-systems","#create-unencrypted-stratis-pool_setting-up-stratis-file-systems",{"title":834,"visible":15,"weight":85,"urlFragment":811,"anchor":835,"singlePageAnchor":835,"docTitle":19,"url":836},"24.6. Creating an unencrypted Stratis pool by using the web console","creating-an-unencrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems","#creating-an-unencrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems",{"title":838,"visible":15,"weight":90,"urlFragment":811,"anchor":839,"singlePageAnchor":839,"docTitle":19,"url":840},"24.7. Creating an encrypted Stratis pool","create-encrypted-stratis-pool_setting-up-stratis-file-systems","#create-encrypted-stratis-pool_setting-up-stratis-file-systems",{"title":842,"visible":15,"weight":95,"urlFragment":811,"anchor":843,"singlePageAnchor":843,"docTitle":19,"url":844},"24.8. Creating an encrypted Stratis pool by using the web console","creating-an-encrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems","#creating-an-encrypted-stratis-pool-using-the-web-console_setting-up-stratis-file-systems",{"title":846,"visible":15,"weight":100,"urlFragment":811,"anchor":847,"singlePageAnchor":847,"docTitle":19,"url":848},"24.9. Renaming a Stratis pool by using the web console","renaming-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems","#renaming-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems",{"title":850,"visible":15,"weight":105,"urlFragment":811,"anchor":851,"singlePageAnchor":851,"docTitle":19,"url":852},"24.10. Setting overprovisioning mode in Stratis filesystem","proc_setting-overprovisioning-mode-in-stratis-fs_setting-up-stratis-file-systems","#proc_setting-overprovisioning-mode-in-stratis-fs_setting-up-stratis-file-systems",{"title":854,"visible":15,"weight":110,"urlFragment":811,"anchor":855,"singlePageAnchor":855,"docTitle":19,"url":856},"24.11. Binding a Stratis pool to NBDE","bind-stratis-pool-nbde_setting-up-stratis-file-systems","#bind-stratis-pool-nbde_setting-up-stratis-file-systems",{"title":858,"visible":15,"weight":115,"urlFragment":811,"anchor":859,"singlePageAnchor":859,"docTitle":19,"url":860},"24.12. Binding a Stratis pool to TPM","bind-stratis-pool-tpm_setting-up-stratis-file-systems","#bind-stratis-pool-tpm_setting-up-stratis-file-systems",{"title":862,"visible":15,"weight":120,"urlFragment":811,"anchor":863,"singlePageAnchor":863,"docTitle":19,"url":864},"24.13. Unlocking an encrypted Stratis pool with kernel keyring","unlock-encrypted-stratis-pool-keyring_setting-up-stratis-file-systems","#unlock-encrypted-stratis-pool-keyring_setting-up-stratis-file-systems",{"title":866,"visible":15,"weight":125,"urlFragment":811,"anchor":867,"singlePageAnchor":867,"docTitle":19,"url":868},"24.14. Unbinding a Stratis pool from supplementary encryption","unbind-encrypted-stratis-pool-from-supplementary-encryption_setting-up-stratis-file-systems","#unbind-encrypted-stratis-pool-from-supplementary-encryption_setting-up-stratis-file-systems",{"title":870,"visible":15,"weight":130,"urlFragment":811,"anchor":871,"singlePageAnchor":871,"docTitle":19,"url":872},"24.15. Starting and stopping Stratis pool","proc_starting-and-stopping-stratis-pool_setting-up-stratis-file-systems","#proc_starting-and-stopping-stratis-pool_setting-up-stratis-file-systems",{"title":874,"visible":15,"weight":423,"urlFragment":811,"anchor":875,"singlePageAnchor":875,"docTitle":19,"url":876},"24.16. Creating a Stratis file system","creating-a-stratis-file-system_setting-up-stratis-file-systems","#creating-a-stratis-file-system_setting-up-stratis-file-systems",{"title":878,"visible":15,"weight":441,"urlFragment":811,"anchor":879,"singlePageAnchor":879,"docTitle":19,"url":880},"24.17. Creating a file system on a Stratis pool by using the web console","creating-a-file-system-on-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems","#creating-a-file-system-on-a-stratis-pool-using-the-web-console_setting-up-stratis-file-systems",{"title":882,"visible":15,"weight":471,"urlFragment":811,"anchor":883,"singlePageAnchor":883,"docTitle":19,"url":884},"24.18. Mounting a Stratis file system","mounting-a-stratis-file-system_setting-up-stratis-file-systems","#mounting-a-stratis-file-system_setting-up-stratis-file-systems",{"title":886,"visible":15,"weight":509,"urlFragment":811,"anchor":887,"singlePageAnchor":887,"docTitle":19,"url":888},"24.19. Persistently mounting a Stratis file system","persistently-mounting-a-stratis-file-system_setting-up-stratis-file-systems","#persistently-mounting-a-stratis-file-system_setting-up-stratis-file-systems",{"title":890,"visible":15,"weight":523,"urlFragment":811,"anchor":891,"singlePageAnchor":891,"docTitle":19,"url":892},"24.20. Setting up non-root Stratis filesystems in /etc/fstab using a systemd service","proc_setting-up-non-root-stratis-fs-fstab-systemd_setting-up-stratis-file-systems","#proc_setting-up-non-root-stratis-fs-fstab-systemd_setting-up-stratis-file-systems","#setting-up-stratis-file-systems",{"title":895,"visible":15,"weight":896,"urlFragment":897,"anchor":18,"singlePageAnchor":897,"sections":898,"docTitle":19,"url":915},"25. Extending a Stratis volume with additional block devices",27,"extending-a-stratis-volume-with-additional-block-devices",[899,903,907,911],{"title":900,"visible":15,"weight":16,"urlFragment":897,"anchor":901,"singlePageAnchor":901,"docTitle":19,"url":902},"25.1. Components of a Stratis volume","components-of-a-stratis-volume_extending-a-stratis-volume-with-additional-block-devices","#components-of-a-stratis-volume_extending-a-stratis-volume-with-additional-block-devices",{"title":904,"visible":15,"weight":23,"urlFragment":897,"anchor":905,"singlePageAnchor":905,"docTitle":19,"url":906},"25.2. Adding block devices to a Stratis pool","adding-block-devices-to-a-stratis-pool_extending-a-stratis-volume-with-additional-block-devices","#adding-block-devices-to-a-stratis-pool_extending-a-stratis-volume-with-additional-block-devices",{"title":908,"visible":15,"weight":28,"urlFragment":897,"anchor":909,"singlePageAnchor":909,"docTitle":19,"url":910},"25.3. Adding a block device to a Stratis pool by using the web console","adding-a-block-device-to-a-stratis-pool-using-the-web-console_extending-a-stratis-volume-with-additional-block-devices","#adding-a-block-device-to-a-stratis-pool-using-the-web-console_extending-a-stratis-volume-with-additional-block-devices",{"title":912,"visible":15,"weight":46,"urlFragment":897,"anchor":913,"singlePageAnchor":913,"docTitle":19,"url":914},"25.4. Additional resources","additional_resources","#additional_resources","#extending-a-stratis-volume-with-additional-block-devices",{"title":917,"visible":15,"weight":918,"urlFragment":919,"anchor":18,"singlePageAnchor":919,"sections":920,"docTitle":19,"url":937},"26. Monitoring Stratis file systems",28,"monitoring-stratis-file-systems",[921,925,929,933],{"title":922,"visible":15,"weight":16,"urlFragment":919,"anchor":923,"singlePageAnchor":923,"docTitle":19,"url":924},"26.1. Stratis sizes reported by different utilities","stratis-sizes-reported-by-different-utilities_monitoring-stratis-file-systems","#stratis-sizes-reported-by-different-utilities_monitoring-stratis-file-systems",{"title":926,"visible":15,"weight":23,"urlFragment":919,"anchor":927,"singlePageAnchor":927,"docTitle":19,"url":928},"26.2. Displaying information about Stratis volumes","displaying-information-about-stratis-volumes_monitoring-stratis-file-systems","#displaying-information-about-stratis-volumes_monitoring-stratis-file-systems",{"title":930,"visible":15,"weight":28,"urlFragment":919,"anchor":931,"singlePageAnchor":931,"docTitle":19,"url":932},"26.3. Viewing a Stratis pool by using the web console","viewing-a-stratis-pool-using-the-web-console_monitoring-stratis-file-systems","#viewing-a-stratis-pool-using-the-web-console_monitoring-stratis-file-systems",{"title":934,"visible":15,"weight":46,"urlFragment":919,"anchor":935,"singlePageAnchor":935,"docTitle":19,"url":936},"26.4. Additional resources","additional_resources_2","#additional_resources_2","#monitoring-stratis-file-systems",{"title":939,"visible":15,"weight":940,"urlFragment":941,"anchor":18,"singlePageAnchor":941,"sections":942,"docTitle":19,"url":967},"27. Using snapshots on Stratis file systems",29,"using-snapshots-on-stratis-file-systems",[943,947,951,955,959,963],{"title":944,"visible":15,"weight":16,"urlFragment":941,"anchor":945,"singlePageAnchor":945,"docTitle":19,"url":946},"27.1. Characteristics of Stratis snapshots","characteristics-of-stratis-snapshots_using-snapshots-on-stratis-file-systems","#characteristics-of-stratis-snapshots_using-snapshots-on-stratis-file-systems",{"title":948,"visible":15,"weight":23,"urlFragment":941,"anchor":949,"singlePageAnchor":949,"docTitle":19,"url":950},"27.2. Creating a Stratis snapshot","creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems","#creating-a-stratis-snapshot_using-snapshots-on-stratis-file-systems",{"title":952,"visible":15,"weight":28,"urlFragment":941,"anchor":953,"singlePageAnchor":953,"docTitle":19,"url":954},"27.3. Accessing the content of a Stratis snapshot","accessing-the-content-of-a-stratis-snapshot_using-snapshots-on-stratis-file-systems","#accessing-the-content-of-a-stratis-snapshot_using-snapshots-on-stratis-file-systems",{"title":956,"visible":15,"weight":46,"urlFragment":941,"anchor":957,"singlePageAnchor":957,"docTitle":19,"url":958},"27.4. Reverting a Stratis file system to a previous snapshot","reverting-a-stratis-file-system-to-a-previous-snapshot_using-snapshots-on-stratis-file-systems","#reverting-a-stratis-file-system-to-a-previous-snapshot_using-snapshots-on-stratis-file-systems",{"title":960,"visible":15,"weight":60,"urlFragment":941,"anchor":961,"singlePageAnchor":961,"docTitle":19,"url":962},"27.5. Removing a Stratis snapshot","removing-a-stratis-snapshot_using-snapshots-on-stratis-file-systems","#removing-a-stratis-snapshot_using-snapshots-on-stratis-file-systems",{"title":964,"visible":15,"weight":85,"urlFragment":941,"anchor":965,"singlePageAnchor":965,"docTitle":19,"url":966},"27.6. Additional resources","additional_resources_3","#additional_resources_3","#using-snapshots-on-stratis-file-systems",{"title":969,"visible":15,"weight":970,"urlFragment":971,"anchor":18,"singlePageAnchor":971,"sections":972,"docTitle":19,"url":997},"28. Removing Stratis file systems",30,"removing-stratis-file-systems",[973,977,981,985,989,993],{"title":974,"visible":15,"weight":16,"urlFragment":971,"anchor":975,"singlePageAnchor":975,"docTitle":19,"url":976},"28.1. Components of a Stratis volume","components-of-a-stratis-volume_removing-stratis-file-systems","#components-of-a-stratis-volume_removing-stratis-file-systems",{"title":978,"visible":15,"weight":23,"urlFragment":971,"anchor":979,"singlePageAnchor":979,"docTitle":19,"url":980},"28.2. Removing a Stratis file system","removing-a-stratis-file-system_removing-stratis-file-systems","#removing-a-stratis-file-system_removing-stratis-file-systems",{"title":982,"visible":15,"weight":28,"urlFragment":971,"anchor":983,"singlePageAnchor":983,"docTitle":19,"url":984},"28.3. Deleting a file system from a Stratis pool by using the web console","deleting-a-file-system-from-a-stratis-pool-using-the-web-console_removing-stratis-file-systems","#deleting-a-file-system-from-a-stratis-pool-using-the-web-console_removing-stratis-file-systems",{"title":986,"visible":15,"weight":46,"urlFragment":971,"anchor":987,"singlePageAnchor":987,"docTitle":19,"url":988},"28.4. Removing a Stratis pool","removing-a-stratis-pool_removing-stratis-file-systems","#removing-a-stratis-pool_removing-stratis-file-systems",{"title":990,"visible":15,"weight":60,"urlFragment":971,"anchor":991,"singlePageAnchor":991,"docTitle":19,"url":992},"28.5. Deleting a Stratis pool by using the web console","deleting-a-stratis-pool-using-the-web-console_removing-stratis-file-systems","#deleting-a-stratis-pool-using-the-web-console_removing-stratis-file-systems",{"title":994,"visible":15,"weight":85,"urlFragment":971,"anchor":995,"singlePageAnchor":995,"docTitle":19,"url":996},"28.6. Additional resources","additional_resources_4","#additional_resources_4","#removing-stratis-file-systems",{"title":999,"visible":15,"weight":1000,"urlFragment":1001,"anchor":18,"singlePageAnchor":1002,"docTitle":19,"url":1003},"Legal Notice",31,"legal-notice","idm140664177928336","#idm140664177928336",[1005,1008,1011],{"text":1006,"link":1007},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":1009,"link":1010},"9","/documentation/red_hat_enterprise_linux/9/",{"text":11},{"name":11,"translations":1013,"productVersion":1014,"singlePage":1015,"pdf":1018,"publishingStatus":1020},[5,6,7,8,9],{"name":1009},{"contentUrl":1016,"name":11,"new":1017,"url":19},"https://d2bhdhkti9t3uj.cloudfront.net/html/d17b7624-26cc-4862-a0d1-69714dc92629/5e435df9eb01395169aabb902314fe11.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index",{"url":1019},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/managing_storage_devices/Red_Hat_Enterprise_Linux-9-Managing_storage_devices-en-US.pdf","PUBLISHED",[1022,1027,1030,1034,1038,1042,1046],{"name":1023,"new":1024,"url":1025,"urlAliases":1026},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":1009,"new":1028,"url":1009,"urlAliases":1029},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":1031,"new":1032,"url":1031,"urlAliases":1033},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":1035,"new":1036,"url":1035,"urlAliases":1037},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":1039,"new":1040,"url":1039,"urlAliases":1041},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":1043,"new":1044,"url":1043,"urlAliases":1045},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":1047,"new":1048,"url":1047,"urlAliases":1049},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"managing_storage_devices/index":1051,"managing_storage_devices/proc_providing-feedback-on-red-hat-documentation_managing-storage-devices":1052,"managing_storage_devices/overview-of-available-storage-options_managing-storage-devices":1053,"managing_storage_devices/persistent-naming-attributes_managing-storage-devices":1054,"managing_storage_devices/managing-local-storage-using-rhel-system-roles_managing-storage-devices":1055,"managing_storage_devices/disk-partitions_managing-storage-devices":1056,"managing_storage_devices/getting-started-with-partitions_managing-storage-devices":1057,"managing_storage_devices/strategies-for-repartitioning-a-disk_managing-storage-devices":1058,"managing_storage_devices/configuring-an-iscsi-target_managing-storage-devices":1059,"managing_storage_devices/configuring-an-iscsi-initiator_managing-storage-devices":1060,"managing_storage_devices/using-fibre-channel-devices_managing-storage-devices":1061,"managing_storage_devices/managing-system-upgrades-with-snapshots_managing-storage-devices":1062,"managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-rdma_managing-storage-devices":1063,"managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-fc_managing-storage-devices":1064,"managing_storage_devices/configuring-nvme-over-fabrics-using-nvme-tcp_managing-storage-devices":1065,"managing_storage_devices/enabling-multipathing-on-nvme-devices_managing-storage-devices":1066,"managing_storage_devices/setting-up-a-remote-diskless-system_managing-storage-devices":1067,"managing_storage_devices/getting-started-with-swap_managing-storage-devices":1068,"managing_storage_devices/configuring-fibre-channel-over-ethernet_managing-storage-devices":1069,"managing_storage_devices/managing-tape-devices_managing-storage-devices":1070,"managing_storage_devices/managing-raid_managing-storage-devices":1071,"managing_storage_devices/encrypting-block-devices-using-luks_managing-storage-devices":1072,"managing_storage_devices/using-nvdimm-persistent-memory-storage_managing-storage-devices":1073,"managing_storage_devices/discarding-unused-blocks_managing-storage-devices":1074,"managing_storage_devices/removing-storage-devices_managing-storage-devices":1075,"managing_storage_devices/setting-up-stratis-file-systems":1076,"managing_storage_devices/extending-a-stratis-volume-with-additional-block-devices":1077,"managing_storage_devices/monitoring-stratis-file-systems":1078,"managing_storage_devices/using-snapshots-on-stratis-file-systems":1079,"managing_storage_devices/removing-stratis-file-systems":1080,"managing_storage_devices/legal-notice":1081},{"prevt":18,"next":24},{"prevt":17,"next":29},{"prevt":18,"next":29},{"prevt":18,"next":47},{"prevt":18,"next":61},{"prevt":18,"next":136},{"prevt":18,"next":181},{"prevt":18,"next":210},{"prevt":18,"next":236},{"prevt":18,"next":293},{"prevt":18,"next":314},{"prevt":18,"next":335},{"prevt":18,"next":360},{"prevt":18,"next":385},{"prevt":18,"next":406},{"prevt":18,"next":424},{"prevt":18,"next":442},{"prevt":18,"next":472},{"prevt":18,"next":510},{"prevt":18,"next":524},{"prevt":18,"next":562},{"prevt":18,"next":648},{"prevt":18,"next":690},{"prevt":18,"next":775},{"prevt":18,"next":797},{"prevt":18,"next":811},{"prevt":18,"next":897},{"prevt":18,"next":919},{"prevt":18,"next":941},{"prevt":18,"next":971},{"prevt":971,"next":18},{"product":18,"version":18},{"managing_storage_devices":1084},[1017],{"products":1086},[1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":1102},[1103,1112,1118,1127,1135,1143,1150,1158,1165],{"nid":1104,"type":1105,"langcode":1106,"Published":16,"title":1107,"Created":1108,"Updated":1109,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":1110,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":1111},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":1113,"type":1105,"langcode":1106,"Published":16,"title":1107,"Created":1114,"Updated":1115,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":1116,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":1117},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":1119,"type":1120,"langcode":1106,"Published":16,"title":1121,"Created":1122,"Updated":1123,"body_value":18,"field_documentation banner_text_value":1124,"field_documentation banner_text_format":1125,"field_paths_value":1126,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":1128,"type":1129,"langcode":1106,"Published":16,"title":1130,"Created":1131,"Updated":1132,"body_value":18,"field_documentation banner_text_value":1133,"field_documentation banner_text_format":1125,"field_paths_value":1134,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":1136,"type":1137,"langcode":1106,"Published":16,"title":1138,"Created":1139,"Updated":1140,"body_value":18,"field_documentation banner_text_value":1141,"field_documentation banner_text_format":1125,"field_paths_value":1142,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":1144,"type":1137,"langcode":1106,"Published":16,"title":1145,"Created":1146,"Updated":1147,"body_value":18,"field_documentation banner_text_value":1148,"field_documentation banner_text_format":1125,"field_paths_value":1149,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":1151,"type":1152,"langcode":1106,"Published":16,"title":1153,"Created":1154,"Updated":1155,"body_value":18,"field_documentation banner_text_value":1156,"field_documentation banner_text_format":1125,"field_paths_value":1157,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":1159,"type":1152,"langcode":1106,"Published":16,"title":1160,"Created":1161,"Updated":1162,"body_value":18,"field_documentation banner_text_value":1163,"field_documentation banner_text_format":1125,"field_paths_value":1164,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":1166,"alertType":1167,"type":1168,"langcode":1106,"Published":16,"title":1169,"Created":1164,"Updated":1164,"body_value":18,"field_documentation banner_text_value":1170,"field_documentation banner_text_format":1125,"field_paths_value":1171,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":1006},["Reactive",1174],{"$snuxt-i18n-meta":1175,"$sisLoading":1176,"$sisSinglePage":15,"$sisInFocusMode":1176,"$smobileTocOpen":1176,"$sisLargeTOC":1176,"$scurrentChapter":17,"$scurrentSection":17,"$scurrentSubSection":1164},{},false,["Set"],["ShallowReactive",1179],{"s8LoCEfG4A":18,"rFVLKcOK8e":18,"uUstF4AIyn":18,"MdHNSZP4nR":18,"Pn02PlJOas":18},"/en/documentation/red_hat_enterprise_linux/9/html-single/managing_storage_devices/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
