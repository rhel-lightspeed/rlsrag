<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Using image mode for RHEL to build, deploy, and manage operating systems | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Using image mode for RHEL to build, deploy, and manage operating systems | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Using image mode for RHEL to build, deploy, and manage operating systems<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Using image mode for RHEL to build, deploy, and manage operating systems</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77><summary class="heading chapter-title" id="introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems--summary" data-v-fa0dae77>1. Introducing image mode for RHEL</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Introducing image mode for RHEL</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#prerequisites" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-prerequisites" data-v-b883c74f>1.1. Prerequisites</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-additional_resources" data-v-b883c74f>1.2. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77><summary class="heading chapter-title" id="building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems--summary" data-v-fa0dae77>2. Building and testing RHEL bootc images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Building and testing RHEL bootc images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#building-a-container-image_building-and-testing-the-rhel-bootable-container-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-building-a-container-image_building-and-testing-the-rhel-bootable-container-images" data-v-b883c74f>2.1. Building a container image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#building-derived-bootable-images-by-using-multi-stage-builds_building-and-testing-the-rhel-bootable-container-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-building-derived-bootable-images-by-using-multi-stage-builds_building-and-testing-the-rhel-bootable-container-images" data-v-b883c74f>2.2. Building derived bootable images by using multi-stage builds</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#running-a-container-image_building-and-testing-the-rhel-bootable-container-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-running-a-container-image_building-and-testing-the-rhel-bootable-container-images" data-v-b883c74f>2.3. Running a container image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#pushing-a-container-image-to-the-registry_building-and-testing-the-rhel-bootable-container-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-pushing-a-container-image-to-the-registry_building-and-testing-the-rhel-bootable-container-images" data-v-b883c74f>2.4. Pushing a container image to the registry</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77><summary class="heading chapter-title" id="building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems--summary" data-v-fa0dae77>3. Building and managing logically bound images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Building and managing logically bound images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-logically-bound-images_building-and-managing-logically-bound-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-the-logically-bound-images_building-and-managing-logically-bound-images" data-v-b883c74f>3.1. The logically bound images</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-logically-bound-images_building-and-managing-logically-bound-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-using-logically-bound-images_building-and-managing-logically-bound-images" data-v-b883c74f>3.2. Using logically bound images</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77><summary class="heading chapter-title" id="creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems--summary" data-v-fa0dae77>4. Creating bootc compatible base disk images with bootc-image-builder</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Creating bootc compatible base disk images with bootc-image-builder</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#introducing-image-mode-for-rhel-for-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-introducing-image-mode-for-rhel-for-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.1. Introducing image mode for RHEL for bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-installing-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.2. Installing bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.3. Creating QCOW2 images by using bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-vmdk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-vmdk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.4. Creating VMDK images by using bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-gce-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-gce-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.5. Creating GCE images by using bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.6. Creating AMI images by using bootc-image-builder and uploading it to AWS</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-raw-disk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-raw-disk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.7. Creating Raw disk images by using bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.8. Creating ISO images by using bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-bootc-image-builder-to-build-iso-images-with-a-kickstart-file_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-using-bootc-image-builder-to-build-iso-images-with-a-kickstart-file_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.9. Using bootc-image-builder to build ISO images with a Kickstart file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#verification-and-troubleshooting_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-verification-and-troubleshooting_creating-bootc-compatible-base-disk-images-with-bootc-image-builder" data-v-b883c74f>4.10. Verification and troubleshooting</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77><summary class="heading chapter-title" id="best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems--summary" data-v-fa0dae77>5. Best practices for running containers using local sources</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Best practices for running containers using local sources</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#importing-custom-certificate-to-a-container-by-using-bind-mounts_best-practices-for-running-containers-using-local-sources" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-importing-custom-certificate-to-a-container-by-using-bind-mounts_best-practices-for-running-containers-using-local-sources" data-v-b883c74f>5.1. Importing custom certificate to a container by using bind mounts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#importing-custom-certificates-to-a-container-by-using-containerfile_best-practices-for-running-containers-using-local-sources" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-importing-custom-certificates-to-a-container-by-using-containerfile_best-practices-for-running-containers-using-local-sources" data-v-b883c74f>5.2. Importing custom certificates to a container by using Containerfile</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77><summary class="heading chapter-title" id="deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems--summary" data-v-fa0dae77>6. Deploying the RHEL bootc images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems" data-v-fa0dae77>Deploying the RHEL bootc images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images" data-v-b883c74f>6.1. Deploying a container image by using KVM with a QCOW2 disk image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images" data-v-b883c74f>6.2. Deploying a container image to AWS with an AMI disk image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images" data-v-b883c74f>6.3. Deploying a container image by using Anaconda and Kickstart</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-an-custom-iso-container-image_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-an-custom-iso-container-image_deploying-the-rhel-bootc-images" data-v-b883c74f>6.4. Deploying a custom ISO container image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-an-iso-bootc-container-over-pxe-boot_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-an-iso-bootc-container-over-pxe-boot_deploying-the-rhel-bootc-images" data-v-b883c74f>6.5. Deploying an ISO bootc image over PXE boot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#building-and-launching-configured-images_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-building-and-launching-configured-images_deploying-the-rhel-bootc-images" data-v-b883c74f>6.6. Building, configuring, and launching disk images with bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-a-container-image-by-using-bootc_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-a-container-image-by-using-bootc_deploying-the-rhel-bootc-images" data-v-b883c74f>6.7. Deploying a container image by using bootc</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images" data-v-b883c74f><summary class="heading sub-chapter-title" id="advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images--summary" data-v-b883c74f>6.8. Advanced installation with to-filesystem</summary><ol id="sub-nav--advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images" data-v-b883c74f>Advanced installation with to-filesystem</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-bootc-install-to-existing-root_deploying-the-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-using-bootc-install-to-existing-root_deploying-the-rhel-bootc-images" data-v-b883c74f>6.8.1. Using bootc install to-existing-root</a></li><!--]--><!--]--></ol></details></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--enabling-the-fips-mode-while-building-a-bootc-image" data-v-fa0dae77><summary class="heading chapter-title" id="enabling-the-fips-mode-while-building-a-bootc-image--summary" data-v-fa0dae77>7. Enabling the FIPS mode while building a bootc image</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#enabling-the-fips-mode-while-building-a-bootc-image" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-enabling-the-fips-mode-while-building-a-bootc-image" data-v-fa0dae77>Enabling the FIPS mode while building a bootc image</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-the-fips-mode-by-using-bootc-image-builder-tool_enabling-the-fips-mode-while-building-a-bootc-image" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-enabling-the-fips-mode-by-using-bootc-image-builder-tool_enabling-the-fips-mode-while-building-a-bootc-image" data-v-b883c74f>7.1. Enabling the FIPS mode by using bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-the-fips-mode-to-perform-an-anaconda-installation_enabling-the-fips-mode-while-building-a-bootc-image" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-enabling-the-fips-mode-to-perform-an-anaconda-installation_enabling-the-fips-mode-while-building-a-bootc-image" data-v-b883c74f>7.2. Enabling the FIPS mode to perform an Anaconda installation</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-rhel-bootc-images" data-v-fa0dae77><summary class="heading chapter-title" id="managing-rhel-bootc-images--summary" data-v-fa0dae77>8. Managing RHEL bootc images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-rhel-bootc-images" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-managing-rhel-bootc-images" data-v-fa0dae77>Managing RHEL bootc images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#switching-the-container-image-reference_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-switching-the-container-image-reference_managing-rhel-bootc-images" data-v-b883c74f>8.1. Switching the container image reference</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#adding-modules-to-the-bootc-image-initramfs_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-adding-modules-to-the-bootc-image-initramfs_managing-rhel-bootc-images" data-v-b883c74f>8.2. Adding modules to the bootc image initramfs</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#modifying-and-regenerating-initrd_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-modifying-and-regenerating-initrd_managing-rhel-bootc-images" data-v-b883c74f>8.3. Modifying and regenerating initrd</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#performing-manual-updates-from-an-installed-operating-system_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-performing-manual-updates-from-an-installed-operating-system_managing-rhel-bootc-images" data-v-b883c74f>8.4. Performing manual updates from an installed operating system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#turning-off-automatic-updates_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-turning-off-automatic-updates_managing-rhel-bootc-images" data-v-b883c74f>8.5. Turning off automatic updates</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#manually-updating-an-installed-operating-system_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-manually-updating-an-installed-operating-system_managing-rhel-bootc-images" data-v-b883c74f>8.6. Manually updating an installed operating system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#performing-rollbacks-from-a-updated-operating-system_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-performing-rollbacks-from-a-updated-operating-system_managing-rhel-bootc-images" data-v-b883c74f>8.7. Performing rollbacks from a updated operating system</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-updates-to-system-groups_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-deploying-updates-to-system-groups_managing-rhel-bootc-images" data-v-b883c74f>8.8. Deploying updates to system groups</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#checking-inventory-health_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-checking-inventory-health_managing-rhel-bootc-images" data-v-b883c74f>8.9. Checking inventory health</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#automation-and-gitops_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-automation-and-gitops_managing-rhel-bootc-images" data-v-b883c74f>8.10. Automation and GitOps</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-toolbx-to-inspect-bootc-containers_managing-rhel-bootc-images" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-using-toolbx-to-inspect-bootc-containers_managing-rhel-bootc-images" data-v-b883c74f>8.11. Using Toolbx to inspect bootc containers</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-kernel-arguments-in-bootc-systems" data-v-fa0dae77><summary class="heading chapter-title" id="managing-kernel-arguments-in-bootc-systems--summary" data-v-fa0dae77>9. Managing kernel arguments in bootc systems</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-kernel-arguments-in-bootc-systems" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-managing-kernel-arguments-in-bootc-systems" data-v-fa0dae77>Managing kernel arguments in bootc systems</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-to-add-support-to-inject-kernel-arguments-with-bootc_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-how-to-add-support-to-inject-kernel-arguments-with-bootc_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.1. How to add support to inject kernel arguments with bootc</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-to-modify-kernel-arguments-by-using-bootc-install-configs_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-how-to-modify-kernel-arguments-by-using-bootc-install-configs_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.2. How to modify kernel arguments by using bootc install configs</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-to-inject-kernel-arguments-in-the-containerfile_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-how-to-inject-kernel-arguments-in-the-containerfile_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.3. How to inject kernel arguments in the Containerfile</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-to-inject-kernel-arguments-at-installation-time_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-how-to-inject-kernel-arguments-at-installation-time_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.4. How to inject kernel arguments at installation time</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-to-install-time-kernel-arguments-with-bootc-image-builder_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-how-to-install-time-kernel-arguments-with-bootc-image-builder_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.5. How to add install-time kernel arguments with bootc-image-builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#about-changing-kernel-arguments-post-install-with-kargs-d_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-about-changing-kernel-arguments-post-install-with-kargs-d_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.6. About changing kernel arguments post-install with kargs.d</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-to-edit-kernel-arguments-in-bootc-systems_managing-kernel-arguments-in-bootc-systems" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-how-to-edit-kernel-arguments-in-bootc-systems_managing-kernel-arguments-in-bootc-systems" data-v-b883c74f>9.7. How to edit kernel arguments in bootc systems</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-file-systems-in-image-mode-for-rhel" data-v-fa0dae77><summary class="heading chapter-title" id="managing-file-systems-in-image-mode-for-rhel--summary" data-v-fa0dae77>10. Managing file systems in image mode for RHEL</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-file-systems-in-image-mode-for-rhel" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-managing-file-systems-in-image-mode-for-rhel" data-v-fa0dae77>Managing file systems in image mode for RHEL</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#physical-and-logical-root-with-sysroot_managing-file-systems-in-image-mode-for-rhel" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-physical-and-logical-root-with-sysroot_managing-file-systems-in-image-mode-for-rhel" data-v-b883c74f>10.1. Physical and logical root with /sysroot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#version-selection-and-bootup_managing-file-systems-in-image-mode-for-rhel" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-version-selection-and-bootup_managing-file-systems-in-image-mode-for-rhel" data-v-b883c74f>10.2. Version selection and bootup</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" data-v-fa0dae77><summary class="heading chapter-title" id="managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel--summary" data-v-fa0dae77>11. Appendix: Managing users, groups, SSH keys, and secrets in image mode for RHEL</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" data-v-fa0dae77>Appendix: Managing users, groups, SSH keys, and secrets in image mode for RHEL</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" data-v-b883c74f>11.1. Users and groups configuration</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" data-v-b883c74f>11.2. Injecting secrets in image mode for RHEL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-container-pull-secrets_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-configuring-container-pull-secrets_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" data-v-b883c74f>11.3. Configuring container pull secrets</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#injecting-pull-secrets-for-registries-and-disabling-tls_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-injecting-pull-secrets-for-registries-and-disabling-tls_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel" data-v-b883c74f>11.4. Injecting pull secrets for registries and disabling TLS</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--system-configuration" data-v-fa0dae77><summary class="heading chapter-title" id="system-configuration--summary" data-v-fa0dae77>12. Appendix: System configuration</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#system-configuration" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-system-configuration" data-v-fa0dae77>Appendix: System configuration</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#transient-runtime-reconfiguration_system-configuration" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-transient-runtime-reconfiguration_system-configuration" data-v-b883c74f>12.1. Transient runtime reconfiguration</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-dnf_system-configuration" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-using-dnf_system-configuration" data-v-b883c74f>12.2. Using dnf</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-a-hostname_system-configuration" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-setting-a-hostname_system-configuration" data-v-b883c74f>12.3. Setting a hostname</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proxied-internet-access_system-configuration" id="sub-link-to-using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-proxied-internet-access_system-configuration" data-v-b883c74f>12.4. Proxied Internet Access</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#getting-the-source-code-of-container-images" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-getting-the-source-code-of-container-images" data-v-fa0dae77>13. Appendix: Getting the source code of container images</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#contributing-to-the-upstream-projects" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-contributing-to-the-upstream-projects" data-v-fa0dae77>14. Appendix: Contributing to the upstream projects</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm139697802078448" id="chapter-landing--using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems-idm139697802078448" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Using image mode for RHEL to build, deploy, and manage operating systems</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm139697797544176"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Using RHEL bootc images on Red Hat Enterprise Linux 9</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm139697802078448">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				RHEL bootc images enable you to build, deploy, and manage the operating system as if it is any other container. You can converge on a single container-native workflow to manage everything from your applications to the underlying OS.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Introducing image mode for RHEL</h2></div></div></div><p class="_abstract _abstract">
			Use image mode for RHEL to build, test, and deploy operating systems by using the same tools and techniques as application containers. Image mode for RHEL is available by using the <code class="literal">registry.redhat.io/rhel9/rhel-bootc</code> bootc image. The RHEL bootc images differ from the existing application Universal Base Images (UBI) in that they contain additional components necessary to boot that were traditionally excluded, such as, kernel, initrd, boot loader, firmware, among others.
		</p><div class="figure" id="idm139697806058816"><p class="title"><strong>Figure 1.1. Building, deploying, and managing operating system by using image mode for RHEL</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/88daa47b636549dac902a1e006eb491b/639_RHEL_Bootable_Container_Bifrost_0524_1.png" alt="639 RHEL Bootable Container Bifrost 0524 1"></div></div></div><p>
			Red Hat provides bootc image for the following computer architectures:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					AMD and Intel 64-bit architectures (x86-64-v2)
				</li><li class="listitem">
					The 64-bit ARM architecture (ARMv8.0-A)
				</li></ul></div><p>
			The benefits of image mode for RHEL occur across the lifecycle of a system. The following list contains some of the most important advantages:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Container images are easier to understand and use than other image formats and are fast to build</span></dt><dd>
						Containerfiles, also known as Dockerfiles, provide a straightforward approach to defining the content and build instructions for an image. Container images are often significantly faster to build and iterate on compared to other image creation tools.
					</dd><dt><span class="term">Consolidate process, infrastructure, and release artifacts</span></dt><dd>
						As you distribute applications as containers, you can use the same infrastructure and processes to manage the underlying operating system.
					</dd><dt><span class="term">Immutable updates</span></dt><dd>
						Just as containerized applications are updated in an immutable way, with image mode for RHEL, the operating system is also. You can boot into updates and roll back when needed in the same way that you use <code class="literal">rpm-ostree</code> systems.
					</dd></dl></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
				The use of <code class="literal">rpm-ostree</code> to make changes, or install content, is not supported.
			</p></div></rh-alert><div class="variablelist"><dl class="variablelist"><dt><span class="term">Portability across hybrid cloud environments</span></dt><dd>
						You can use bootc images across physical, virtualized, cloud, and edge environments.
					</dd></dl></div><p>
			Although containers provide the foundation to build, transport, and run images, it is important to understand that after you deploy these bootc images, either by using an installation mechanism, or you convert them to a disk image, the system does not run as a container.
		</p><p>
			<span class="strong strong"><strong>The supported image types</strong></span> are the following:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Container image formats: OCI
				</li><li class="listitem"><p class="simpara">
					Disk image formats:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							ISO
						</li><li class="listitem">
							QEMU copy-on-write (QCOW2), Raw
						</li><li class="listitem">
							Amazon Machine Image (AMI)
						</li><li class="listitem">
							Virtual Machine Image (VMI)
						</li><li class="listitem">
							Virtual Machine Disk (VMDK)
						</li></ul></div></li></ul></div><p>
			Containers help streamline the lifecycle of a RHEL system by offering the following possibilities:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Building container images</span></dt><dd>
						You can configure your operating system at a build time by modifying the Containerfile. Image mode for RHEL is available by using the <code class="literal">registry.redhat.io/rhel9/rhel-bootc</code> container image. You can use Podman, OpenShift Container Platform, or other standard container build tools to manage your containers and container images. You can automate the build process by using CI/CD pipelines.
					</dd><dt><span class="term">Versioning, mirroring, and testing container images</span></dt><dd>
						You can version, mirror, introspect, and sign your derived bootc image by using any container tools such as Podman or OpenShift Container Platform.
					</dd><dt><span class="term">Deploying container images to the target environment</span></dt><dd><p class="simpara">
						You have several options on how to deploy your image:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Anaconda</strong></span>: is the installation program used by RHEL. You can deploy all image types to the target environment by using Anaconda and Kickstart to automate the installation process.
							</li><li class="listitem">
								<span class="strong strong"><strong><code class="literal">bootc-image-builder</code></strong></span>: is a containerized tool that converts the container image to different types of disk images, and optionally uploads them to an image registry or object storage.
							</li><li class="listitem">
								<span class="strong strong"><strong><code class="literal">bootc</code></strong></span>: is a tool responsible for fetching container images from a container registry and installing them to a system, updating the operating system, or switching from an existing ostree-based system. The RHEL bootc image contains the <code class="literal">bootc</code> utility by default and works with all image types. However, remember that the <code class="literal">rpm-ostree</code> is not supported and must not be used to make changes.
							</li></ul></div></dd><dt><span class="term">Updating your operating system</span></dt><dd>
						The system supports in-place transactional updates with rollback after deployment. Automatic updates are on by default. A systemd service unit and systemd timer unit files check the container registry for updates and apply them to the system. As the updates are transactional, a reboot is required. For environments that require more sophisticated or scheduled rollouts, disable auto updates and use the <code class="literal">bootc</code> utility to update your operating system.
					</dd></dl></div><p>
			RHEL has two deployment modes. Both provide the same stability, reliability, and performance during deployment. See their differences:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					<span class="strong strong"><strong>Package mode</strong></span>: You can build package-based images and OSTree images by using RHEL image builder, and you can manage the package mode images by using <code class="literal">composer-cli</code> or web console. The operating system uses RPM packages and is updated by using the <code class="literal">dnf</code> package manager. The root filesystem is mutable. However, the operating system cannot be managed as a containerized application. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index">Composing a customized RHEL system image</a> product documentation.
				</li><li class="listitem">
					<span class="strong strong"><strong>Image mode</strong></span>: a container-native approach to build, deploy, and manage RHEL. The same RPM packages are delivered as a base image and updates are deployed as a container image. The root filesystem is immutable by default, except for <code class="literal">/etc</code> and <code class="literal">/var</code>, with most content coming from the container image.
				</li></ol></div><p>
			You can choose to use either the <span class="strong strong"><strong>Image mode</strong></span> or the <span class="strong strong"><strong>Package mode</strong></span> deployment to build, test, and share your operating system. <span class="strong strong"><strong>Image mode</strong></span> additionally enables you to manage your operating system in the same way as any other containerized application.
		</p><section class="section" id="prerequisites"><div class="titlepage"><div><div><h3 class="title">1.1. Prerequisites</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a subscribed RHEL 9 system. For more information, see <a class="link" href="https://docs.redhat.com/en/documentation/subscription_central/1-latest/html/getting_started_with_rhel_system_registration/index">Getting Started with RHEL System Registration documentation</a>.
					</li><li class="listitem">
						You have a container registry. You can create your registry locally or create a free account on the Quay.io service. To create the Quay.io account, see <a class="link" href="https://quay.io/signin">Red Hat Quay.io</a> page.
					</li><li class="listitem">
						You have a Red Hat account with either production or developer subscriptions. No cost developer subscriptions are available on the <a class="link" href="https://developers.redhat.com/products/rhel/overview">Red Hat Enterprise Linux Overview</a> page.
					</li><li class="listitem">
						You have authenticated to registry.redhat.io. For more information, see <a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a> article.
					</li></ul></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">1.2. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://developers.redhat.com/articles/2024/05/07/image-mode-rhel-bootable-containers">Introducing image mode for RHEL and bootc in Podman Desktop</a> quick start guide
					</li><li class="listitem">
						<a class="link" href="https://developers.redhat.com/articles/2024/05/07/image-mode-rhel-quick-start-ai-inference">Image mode for Red Hat Enterprise Linux quick start: AI inference</a> quick start guide
					</li><li class="listitem">
						<a class="link" href="https://developers.redhat.com/articles/2024/04/24/getting-started-podman-ai-lab">Getting Started with Podman AI Lab</a> blog article
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/index">Customizing Anaconda</a> product documentation
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automatically_installing_rhel/index">Automatically installing RHEL</a> product documentation (Kickstart)
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index">Composing a customized RHEL system image</a> product documentation
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/index">Composing, installing, and managing RHEL for Edge images</a> product documentation
					</li></ul></div></section></section><section class="chapter" id="building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Building and testing RHEL bootc images</h2></div></div></div><p class="_abstract _abstract">
			The following procedures use Podman to build and test your container image. You can also use other tools, for example, OpenShift Container Platform. For more examples of configuring RHEL systems by using containers, see the <a class="link" href="https://github.com/redhat-cop/rhel-bootc-examples">rhel-bootc-examples</a> repository.
		</p><div class="figure" id="idm139697802323168"><p class="title"><strong>Figure 2.1. Building an image by using instructions from a Containerfile, testing the container, pushing an image to a registry, and sharing it with others</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/edbf5b532599d31490973ad78e84fb6b/639_RHEL_Bootable_Container_Bifrost_0524_2.png" alt="639 RHEL Bootable Container Bifrost 0524 2"></div></div></div><p>
			A general <code class="literal">Containerfile</code> structure is the following:
		</p><pre class="screen">FROM registry.redhat.io/rhel9/rhel-bootc:latest

RUN dnf -y install [software] [dependencies] &amp;&amp; dnf clean all

ADD [application]
ADD [configuration files]

RUN [config scripts]</pre><p>
			The available commands that are usable inside a <code class="literal">Containerfile</code> and a <code class="literal">Dockerfile</code> are equivalent.
		</p><p>
			However, the following commands in a <code class="literal">Containerfile</code> are ignored when the <code class="literal">rhel-9-bootc</code> image is installed to a system:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">ENTRYPOINT</code> and <code class="literal">CMD</code> (OCI: <code class="literal">Entrypoint/Cmd</code>): you can set <code class="literal">CMD /sbin/init</code> instead.
				</li><li class="listitem">
					<code class="literal">ENV</code> (OCI: <code class="literal">Env</code>): change the <code class="literal">systemd</code> configuration to configure the global system environment.
				</li><li class="listitem">
					<code class="literal">EXPOSE</code> (OCI: <code class="literal">exposedPorts</code>): it is independent of how the system firewall and network function at runtime.
				</li><li class="listitem">
					<code class="literal">USER</code> (OCI: <code class="literal">User</code>): configure individual services inside the RHEL bootc to run as unprivileged users instead.
				</li></ul></div><p>
			The <code class="literal">rhel-9-bootc</code> container image reuses the OCI image format.
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					The <code class="literal">rhel-9-bootc</code> container image ignores the container config section (<code class="literal">Config</code>) when it is installed to a system.
				</li><li class="listitem">
					The <code class="literal">rhel-9-bootc</code> container image does not ignore the container config section (<code class="literal">Config</code>) when you run this image by using container runtimes such as <code class="literal">podman</code> or <code class="literal">docker</code>.
				</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				Building custom <code class="literal">rhel-bootc</code> base images is not supported in this release.
			</p></div></rh-alert><section class="section" id="building-a-container-image_building-and-testing-the-rhel-bootable-container-images"><div class="titlepage"><div><div><h3 class="title">2.1. Building a container image</h3></div></div></div><p class="_abstract _abstract">
				Use the <code class="literal">podman build</code> command to build an image using instructions from a <code class="literal">Containerfile</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">container-tools</code> meta-package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Containerfile</code>:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>cat Containerfile</strong></span>
FROM registry.redhat.io/rhel9/rhel-bootc:latest
RUN dnf -y install cloud-init &amp;&amp; \
    ln -s ../cloud-init.target /usr/lib/systemd/system/default.target.wants &amp;&amp; \
    dnf clean all</pre><p class="simpara">
						This <code class="literal">Containerfile</code> example adds the <code class="literal">cloud-init</code> tool, so it automatically fetches SSH keys and can run scripts from the infrastructure and also gather configuration and secrets from the instance metadata. For example, you can use this container image for pre-generated AWS or KVM guest systems.
					</p></li><li class="listitem"><p class="simpara">
						Build the <code class="literal"><span class="emphasis"><em>&lt;image&gt;</em></span></code> image by using <code class="literal">Containerfile</code> in the current directory:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman build -t quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span> .</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List all images:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman images</strong></span>
REPOSITORY                                  TAG      IMAGE ID       CREATED              SIZE
localhost/<span class="emphasis"><em>&lt;image&gt;</em></span>                           latest   b28cd00741b3   About a minute ago   2.1 GB</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/working-with-container-registries_building-running-and-managing-containers">Working with container registries</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_building-container-images-with-buildah#proc_building-an-image-from-a-containerfile-with-buildah_assembly_building-container-images-with-buildah">Building an image from a Containerfile with Buildah</a>
					</li></ul></div></section><section class="section" id="building-derived-bootable-images-by-using-multi-stage-builds_building-and-testing-the-rhel-bootable-container-images"><div class="titlepage"><div><div><h3 class="title">2.2. Building derived bootable images by using multi-stage builds</h3></div></div></div><p>
				The deployment image should include only the application and its required runtime, without adding any build tools or unnecessary libraries. To achieve this, use a two-stage <code class="literal">Containerfile</code>: one stage for building the artifacts and another for hosting the application.
			</p><p>
				With multi-stage builds, you use multiple <code class="literal">FROM</code> instructions in your <code class="literal">Containerfile</code>. Each <code class="literal">FROM</code> instruction can use a different base, and each of them begins a new stage of the build. You can selectively copy artifacts from one stage to another, and exclude everything you do not need in the final image.
			</p><p>
				Multi-stage builds offer several advantages:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Smaller image size</span></dt><dd>
							By separating the build environment from the runtime environment, only the necessary files and dependencies are included in the final image, significantly reducing its size.
						</dd><dt><span class="term">Improved security</span></dt><dd>
							Since build tools and unnecessary libraries are excluded from the final image, the attack surface is reduced, leading to a more secure container.
						</dd><dt><span class="term">Optimized performance</span></dt><dd>
							A smaller image size means faster download, deployment, and startup times, improving the overall efficiency of the containerized application.
						</dd><dt><span class="term">Simplified maintenance</span></dt><dd>
							With the build and runtime environments separated, the final image is cleaner and easier to maintain, containing only what is needed to run the application.
						</dd><dt><span class="term">Cleaner builds</span></dt><dd>
							Multi-stage builds help avoid clutter from intermediate files, which could accumulate during the build process, ensuring that only essential artifacts make it into the final image.
						</dd><dt><span class="term">Resource efficiency</span></dt><dd>
							The ability to build in one stage and discard unnecessary parts minimizes the use of storage and bandwidth during deployment.
						</dd><dt><span class="term">Better Layer Caching</span></dt><dd>
							With clearly defined stages, Podman can efficiently cache the results of previous stages, by accelerating up future builds.
						</dd></dl></div><p>
				The following <code class="literal">Containerfile</code> consists of two stages. The first stage is typically named <code class="literal">builder</code> and it compiles a golang binary. The second stage copies the binary from the first stage. The default working directory for the go-toolset builder is <code class="literal">opt/ap-root/src</code>.
			</p><pre class="literallayout">FROM registry.access.redhat.com/ubi9/go-toolset:latest as builder
RUN echo 'package main; import "fmt"; func main() { fmt.Println("hello world") }' &gt; helloworld.go
RUN go build helloworld.go

FROM registry.redhat.io/rhel9/rhel-bootc:latest
COPY --from=builder /opt/app-root/src/helloworld /
CMD ["/helloworld"]</pre><p>
				As a result, the final container image includes the <code class="literal">helloworld</code> binary but no data from the previous stage.
			</p><p>
				You can also use multi-stage builds to perform the following scenarios:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Stopping at a specific build stage</span></dt><dd>
							When you build your image, you can stop at a specified build stage. For example:
						</dd></dl></div><pre class="literallayout">$ <span class="strong strong"><strong>podman build --target build -t hello .</strong></span></pre><p>
				For example, you can use this approach to debugging a specific build stage.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Using an external image as a stage</span></dt><dd>
							You can use the <code class="literal">COPY --from</code> instruction to copy from a separate image either using the local image name, a tag available locally or on a container registry, or a tag ID. For example:
						</dd></dl></div><pre class="literallayout">COPY --from=&lt;image&gt; <span class="emphasis"><em>&lt;source_path&gt;</em></span> &lt;destination_path&gt;_</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Using a previous stage as a new stage</span></dt><dd>
							You can continue where a previous stage ended by using the <code class="literal">FROM</code> instruction. From example:
						</dd></dl></div><pre class="literallayout">FROM ubi9 AS stage1
[...]

FROM stage1 AS stage2
[...]

FROM ubi9 AS final-stage
[...]</pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://developers.redhat.com/articles/2023/11/03/how-build-multi-architecture-container-images">How to build multi-architecture container images</a> article
					</li></ul></div></section><section class="section" id="running-a-container-image_building-and-testing-the-rhel-bootable-container-images"><div class="titlepage"><div><div><h3 class="title">2.3. Running a container image</h3></div></div></div><p class="_abstract _abstract">
				Use the <code class="literal">podman run</code> command to run and test your container.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">container-tools</code> meta-package is installed.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the container named <code class="literal">mybootc</code> based on the <code class="literal">quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></code> container image:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman run -it --rm --name mybootc quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span> /bin/bash</strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The <code class="literal">-i</code> option creates an interactive session. Without the <code class="literal">-t</code> option, the shell stays open, but you cannot type anything to the shell.
							</li><li class="listitem">
								The <code class="literal">-t</code> option opens a terminal session. Without the <code class="literal">-i</code> option, the shell opens and then exits.
							</li><li class="listitem">
								The <code class="literal">--rm</code> option removes the <code class="literal">quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></code> container image after the container exits.
							</li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List all running containers:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman ps</strong></span>
CONTAINER ID  IMAGE                                    COMMAND          CREATED        STATUS            PORTS   NAMES
7ccd6001166e  quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span>  /sbin/init  6 seconds ago  Up 5 seconds ago          mybootc</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_working-with-containers_building-running-and-managing-containers#con_podman-run-command_assembly_working-with-containers">Podman run command</a>
					</li></ul></div></section><section class="section" id="pushing-a-container-image-to-the-registry_building-and-testing-the-rhel-bootable-container-images"><div class="titlepage"><div><div><h3 class="title">2.4. Pushing a container image to the registry</h3></div></div></div><p class="_abstract _abstract">
				Use the <code class="literal">podman push</code> command to push an image to your own, or a third party, registry and share it with others. The following procedure uses the Red Hat Quay registry.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">container-tools</code> meta-package is installed.
					</li><li class="listitem">
						An image is built and available on the local system.
					</li><li class="listitem">
						You have created the Red Hat Quay registry. For more information see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_quay/3.10/html/proof_of_concept_-_deploying_red_hat_quay/index">Proof of Concept - Deploying Red Hat Quay</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Push the <code class="literal">quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></code> container image from your local storage to the registry:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman push quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_working-with-container-images_building-running-and-managing-containers#proc_redistributing-ubi-images_assembly_working-with-container-images">Redistributing UBI images</a>
					</li></ul></div></section></section><section class="chapter" id="building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Building and managing logically bound images</h2></div></div></div><p>
			By using the logically bound images, you have support for container images that are lifecycle bound to the base bootc image. This helps unite different operational processes for applications and operating systems, and the container application images are referenced from the base image as image files or an equivalent. Consequently, you can manage multiple container images for system installations. You can easily use containers for lifecycle-bound workloads, such as security agents and monitoring tools. By using the <code class="literal">bootc upgrade</code> command, you can upgrade everything.
		</p><section class="section" id="the-logically-bound-images_building-and-managing-logically-bound-images"><div class="titlepage"><div><div><h3 class="title">3.1. The logically bound images</h3></div></div></div><p>
				Logically bound images contrast with physically bound images. Both approaches offer some advantages and disadvantages.
			</p><p>
				With the logically bound images, there is an association of the container application images to a base bootc system image. The following are examples for lifecycle bound workloads, whose activities are usually not updated outside of the host:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Logging, for example, journald→remote log forwarder container
					</li><li class="listitem">
						Monitoring, for example, Prometheus node_exporter
					</li><li class="listitem">
						Configuration management agents
					</li><li class="listitem">
						Security agents
					</li></ul></div><p>
				Another important property of the logically bound images is that they must be present and available on the host, possibly from a very early stage in the boot process.
			</p><p>
				Differently from the default usage of tools like Podman or Docker, images might be pulled dynamically after the boot starts, which requires a functioning network. For example, if the remote registry is temporarily unavailable, the host system might run longer without log forwarding or monitoring, which is not desirable. Logically bound images enable you to reference container images similarly to you can with <code class="literal">ExecStart=</code> in a systemd unit.
			</p><p>
				The logically bound images offer the following benefits:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You can update the bootc system without re-downloading the application container images.
					</li><li class="listitem">
						You can update the application container images without modifying the bootc system image, which is especially useful for development work.
					</li></ul></div><p>
				When using logically bound images, you must manage multiple container images for the system to install the logically bound images. This is an advantage and also a disadvantage. For example, for a disconnected or offline installation, you must mirror all the containers, not just one. In this model, the app images are only referenced from the base image as <code class="literal">.image</code> files or an equivalent.
			</p><p>
				The bootc upgrade consist of the following steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Fetches a new base image.
					</li><li class="listitem">
						Reads the new base image root file system to discover logically bound images.
					</li><li class="listitem">
						Pulls any discovered logically bound images into the bootc-owned <code class="literal">/usr/lib/bootc/storage</code>.
					</li></ol></div></section><section class="section" id="using-logically-bound-images_building-and-managing-logically-bound-images"><div class="titlepage"><div><div><h3 class="title">3.2. Using logically bound images</h3></div></div></div><p>
				Each logically bound image is defined in a Podman Quadlet <code class="literal">.image</code> or <code class="literal">.container file</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">container-tools</code> meta-package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Containerfile</code>:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>cat Containerfile</strong></span>
FROM quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:latest
COPY ./<span class="emphasis"><em>&lt;app_1&gt;</em></span>.image /usr/share/containers/systemd/<span class="emphasis"><em>&lt;app_1&gt;</em></span>.image
COPY ./<span class="emphasis"><em>&lt;app_2&gt;</em></span>.container /usr/share/containers/systemd/<span class="emphasis"><em>&lt;app_2&gt;</em></span>.container

RUN ln -s /usr/share/containers/systemd/<span class="emphasis"><em>&lt;app_1&gt;</em></span>.image /usr/lib/bootc/bound-images.d/<span class="emphasis"><em>&lt;app_1&gt;_image &amp;&amp; \ ln -s /usr/share/containers/systemd/</em></span>&lt;app_2&gt;_.image /usr/lib/bootc/bound-images.d/my-app.image</pre></li><li class="listitem"><p class="simpara">
						In the <code class="literal">.container</code> definition, use:
					</p><pre class="literallayout">GlobalArgs=--storage-opt=additionalimagestore=/usr/lib/bootc/storage</pre><p class="simpara">
						In this <code class="literal">Containerfile</code> example, the image is selected to be logically bound by creating a symlink in the <code class="literal">/usr/lib/bootc/bound-images.d</code> directory pointing to either an <code class="literal">.image</code> or a <code class="literal">.container</code> file.
					</p><p class="simpara">
						After creating a symlink, you can use a <code class="literal">bootc upgrade</code> or a <code class="literal">bootc switch</code>. The bound images defined in the new bootc image are automatically pulled into the bootc image storage, and are available to container runtimes such as Podman.
					</p></li><li class="listitem"><p class="simpara">
						Explicitly configure the images to point to the bootc storage as an additional image store, by using, for example, the following command:
					</p><pre class="literallayout"><span class="strong strong"><strong>podman --storage-opt=additionalimagestore=/usr/lib/bootc/storage run <span class="emphasis"><em>&lt;image&gt;</em></span></strong></span></pre></li></ol></div></section></section><section class="chapter" id="creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Creating bootc compatible base disk images with bootc-image-builder</h2></div></div></div><p class="_abstract _abstract">
			The <code class="literal">bootc-image-builder</code>, available as a Technology Preview, is a containerized tool to create disk images from bootc images. You can use the images that you build to deploy disk images in different environments, such as the edge, server, and clouds.
		</p><section class="section" id="introducing-image-mode-for-rhel-for-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.1. Introducing image mode for RHEL for bootc-image-builder</h3></div></div></div><p class="_abstract _abstract">
				With the <code class="literal">bootc-image-builder</code> tool, you can convert bootc images into disk images for a variety of different platforms and formats. Converting bootc images into disk images is equivalent to installing a bootc. After you deploy these disk images to the target environment, you can update them directly from the container registry.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Building base disk images which come from private registries by using <code class="literal">bootc-image-builder</code> is not supported in this release.
				</p></div></rh-alert><p>
				The <code class="literal">bootc-image-builder tool</code> supports generating the following image types:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Disk image formats, such as ISO, suitable for disconnected installations.
					</li><li class="listitem"><p class="simpara">
						Virtual disk images formats, such as:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								QEMU copy-on-write (QCOW2)
							</li><li class="listitem">
								Amazon Machine Image (AMI)/ — Raw
							</li><li class="listitem">
								Virtual Machine Image (VMI)
							</li></ul></div></li></ul></div><p>
				Deploying from a container image is beneficial when you run VMs or servers because you can achieve the same installation result. That consistency extends across multiple different image types and platforms when you build them from the same container image. Consequently, you can minimize the effort in maintaining operating system images across platforms. You can also update systems that you deploy from these disk images by using the <code class="literal">bootc</code> tool, instead of re-creating and uploading new disk images with <code class="literal">bootc-image-builder</code>.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Generic base container images do not include any default passwords or SSH keys. Also, the disk images that you create by using the <code class="literal">bootc-image-builder</code> tool do not contain the tools that are available in common disk images, such as <code class="literal">cloud-init</code>. These disk images are transformed container images only.
				</p></div></rh-alert><p>
				Although you can deploy a <code class="literal">rhel-9-bootc</code> image directly, you can also create your own customized images that are derived from this bootc image. The <code class="literal">bootc-image-builder</code> tool takes the <code class="literal">rhel-9-bootc</code> OCI container image as an input.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_cloud-init_for_rhel_9/red-hat-support-for-cloud-init_cloud-content#red-hat-products-that-user-cloud-init_red-hat-support-for-cloud-init">Red Hat products that use cloud-init</a>
					</li></ul></div></section><section class="section" id="installing-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.2. Installing bootc-image-builder</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">bootc-image-builder</code> is intended to be used as a container and it is not available as an RPM package in RHEL. To access it, follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">container-tools</code> meta-package is installed. The meta-package contains all container tools, such as Podman, Buildah, and Skopeo.
					</li><li class="listitem">
						You are authenticated to <code class="literal">registry.redhat.io</code>. For details, see <a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Login to authenticate to <code class="literal">registry.redhat.io</code>:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman login registry.redhat.io</strong></span></pre></li><li class="listitem"><p class="simpara">
						Install the <code class="literal">bootc-image-builder</code> tool:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman pull registry.redhat.io/rhel9/bootc-image-builder</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List all images pulled to your local system:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman images</strong></span>
REPOSITORY                                    TAG         IMAGE ID      CREATED       SIZE
registry.redhat.io/rhel9/bootc-image-builder  latest      b361f3e845ea  24 hours ago  676 MB</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/building_running_and_managing_containers/working-with-container-registries_building-running-and-managing-containers#proc_pulling-images-from-registries_working-with-container-registries">Pulling images from registries</a>
					</li></ul></div></section><section class="section" id="creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.3. Creating QCOW2 images by using bootc-image-builder</h3></div></div></div><p class="_abstract _abstract">
				Build a RHEL bootc image into a QEMU Disk Images (QCOW2) image for the architecture that you are running the commands on.
			</p><p>
				The RHEL base image does not include a default user. Optionally, you can inject a user configuration with the <code class="literal">--config</code> option to run the bootc-image-builder container. Alternatively, you can configure the base image with <code class="literal">cloud-init</code> to inject users and SSH keys on first boot. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel">Users and groups configuration - Injecting users and SSH keys by using cloud-init</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have <code class="literal">virt-install</code> installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Create a <code class="literal">config.toml</code> to configure user access, for example:
					</p><pre class="literallayout">[[blueprint.customizations.user]]
name = "user"
password = "pass"
key = "ssh-rsa AAA ... user@email.com"
groups = ["wheel"]</pre></li><li class="listitem"><p class="simpara">
						Run <code class="literal">bootc-image-builder</code>. Optionally, if you want to use user access configuration, pass the <code class="literal">config.toml</code> as an argument.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If you do not have the container storage mount and <code class="literal">--local</code> image options, your image must be public.
						</p></div></rh-alert><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								The following is an example of creating a public QCOW2 image:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v ./config.toml:/config.toml \</strong></span>
    <span class="strong strong"><strong>-v ./output:/output \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--type qcow2 \</strong></span>
    <span class="strong strong"><strong>--config config.toml \</strong></span>
  <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								The following is an example of creating a private QCOW2 image:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/config.toml:/config.toml:ro \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/output:/output \</strong></span>
    <span class="strong strong"><strong>-v /var/lib/containers/storage:/var/lib/containers/storage \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--local</strong></span>
    <span class="strong strong"><strong>--type qcow2 \</strong></span>
    <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><p class="simpara">
								You can find the <code class="literal">.qcow2</code> image in the output folder.
							</p></li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						You can deploy your image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images">Deploying a container image using KVM with a QCOW2 disk image</a>.
					</li><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div></section><section class="section" id="creating-vmdk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.4. Creating VMDK images by using bootc-image-builder</h3></div></div></div><p>
				Create a Virtual Machine Disk (VMDK) from a bootc image and use it within WMware’s virtualization platforms, such as vSphere, or use the Virtual Machine Disk (VMDK) in VirtualBox.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have authenticated to the Red Hat Registry by using the <code class="literal">podman login registry.redhat.io</code>.
					</li><li class="listitem">
						You have pulled the <code class="literal">rhel9/bootc-image-builder</code> container image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Containerfile</code> with the following content:
					</p><pre class="literallayout">FROM registry.redhat.io/rhel9/rhel-bootc:9.4
RUN dnf -y install cloud-init open-vm-tools &amp;&amp; \
ln -s ../cloud-init.target /usr/lib/systemd/system/default.target.wants &amp;&amp; \
rm -rf /var/{cache,log} /var/lib/{dnf,rhsm} &amp;&amp; \
systemctl enable vmtoolsd.service</pre></li><li class="listitem"><p class="simpara">
						Build the bootc image:
					</p><pre class="literallayout"># <span class="strong strong"><strong>podman build . -t localhost/rhel-bootc-vmdk</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a VMDK file from the previously created bootc image:
					</p><pre class="literallayout"># <span class="strong strong"><strong>podman run \</strong></span>
<span class="strong strong"><strong>--rm \</strong></span>
<span class="strong strong"><strong>-it \</strong></span>
<span class="strong strong"><strong>--privileged \</strong></span>
<span class="strong strong"><strong>-v /var/lib/containers/storage:/var/lib/containers/storage \</strong></span>
<span class="strong strong"><strong>-v ./output:/output \</strong></span>
<span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
<span class="strong strong"><strong>--pull newer \</strong></span>
<span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:9.4</strong></span>
<span class="strong strong"><strong>--local \</strong></span>
<span class="strong strong"><strong>--type vmdk \</strong></span>
<span class="strong strong"><strong>localhost/rhel-bootc-vmdk:latest</strong></span></pre><p class="simpara">
						The <code class="literal">--local</code> option uses the local container storage to source the originating image to produce the VMDK instead of a remote repository.
					</p></li></ol></div><p>
				A VMDK disk file for the bootc image is stored in the <code class="literal">output/vmdk</code> directory.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div></section><section class="section" id="creating-gce-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.5. Creating GCE images by using bootc-image-builder</h3></div></div></div><p>
				Build a RHEL bootc image into a gce image for the architecture that you are running the commands on. The RHEL base image does not include a default user. Optionally, you can inject a user configuration with the <code class="literal">--config</code> option to run the bootc-image-builder container. Alternatively, you can configure the base image with <code class="literal">cloud-init</code> to inject users and SSH keys on first boot. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel">Users and groups configuration - Injecting users and SSH keys by using cloud-init</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Create a <code class="literal">config.toml</code> to configure user access, for example:
					</p><pre class="literallayout">[[blueprint.customizations.user]]
name = "user"
password = "pass"
key = "ssh-rsa AAA ... user@email.com"
groups = ["wheel"]</pre></li><li class="listitem"><p class="simpara">
						Run <code class="literal">bootc-image-builder</code>. Optionally, if you want to use user access configuration, pass the <code class="literal">config.toml</code> as an argument.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							If you do not have the container storage mount and <code class="literal">--local</code> image options, your image must be public.
						</p></div></rh-alert><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								The following is an example of creating a <code class="literal">gce</code> image:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v ./config.toml:/config.toml \</strong></span>
    <span class="strong strong"><strong>-v ./output:/output \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--type gce \</strong></span>
    <span class="strong strong"><strong>--config config.toml \</strong></span>
  <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><p class="simpara">
								You can find the <code class="literal">gce</code> image in the output folder.
							</p></li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						You can deploy your image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images">Deploying a container image using KVM with a QCOW2 disk image</a>.
					</li><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div></section><section class="section" id="creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.6. Creating AMI images by using bootc-image-builder and uploading it to AWS</h3></div></div></div><p class="_abstract _abstract">
				Create an Amazon Machine Image (AMI) from a bootc image and use it to launch an Amazon Web Service EC2 (Amazon Elastic Compute Cloud) instance.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have an existing <code class="literal">AWS S3</code> bucket within your AWS account.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li><li class="listitem">
						You have the <code class="literal">vmimport</code> service role configured on your account to import an AMI into your AWS account.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a disk image from the bootc image.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Configure the user details in the Containerfile. Make sure that you assign it with sudo access.
							</li><li class="listitem">
								Build a customized operating system image with the configured user from the Containerfile. It creates a default user with passwordless sudo access.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: Configure the machine image with <code class="literal">cloud-init</code>. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel">Users and groups configuration - Injecting users and SSH keys by using cloud-init</a>. The following is an example:
					</p><pre class="literallayout">FROM registry.redhat.io/rhel9/rhel-bootc:9.4

RUN dnf -y install cloud-init &amp;&amp; \
    ln -s ../cloud-init.target /usr/lib/systemd/system/default.target.wants &amp;&amp; \
    rm -rf /var/{cache,log} /var/lib/{dnf,rhsm}</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							You can also use <code class="literal">cloud-init</code> to add users and additional configuration by using instance metadata.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Build the bootc image. For example, to deploy the image to an <code class="literal">x86_64</code> AWS machine, use the following commands:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman build -t quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span> .</strong></span>
$ <span class="strong strong"><strong>podman push quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span> .</strong></span></pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">bootc-image-builder</code> tool to create an AMI from the bootc container image.
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
  <span class="strong strong"><strong>--rm \</strong></span>
  <span class="strong strong"><strong>-it \</strong></span>
  <span class="strong strong"><strong>--privileged \</strong></span>
  <span class="strong strong"><strong>--pull=newer \</strong></span>
  <span class="strong strong"><strong>-v $HOME/.aws:/root/.aws:ro \</strong></span>
  <span class="strong strong"><strong>--env AWS_PROFILE=default \</strong></span>
  <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
  <span class="strong strong"><strong>--type ami \</strong></span>
  <span class="strong strong"><strong>--aws-ami-name rhel-bootc-x86 \</strong></span>
  <span class="strong strong"><strong>--aws-bucket rhel-bootc-bucket \</strong></span>
  <span class="strong strong"><strong>--aws-region us-east-1 \</strong></span>
<span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The following flags must be specified all together. If you do not specify any flag, the AMI is exported to your output directory.
						</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">--aws-ami-name</code> - The name of the AMI image in AWS
							</li><li class="listitem">
								<code class="literal">--aws-bucket</code> - The target S3 bucket name for intermediate storage when you are creating the AMI
							</li><li class="listitem"><p class="simpara">
								<code class="literal">--aws-region</code> - The target region for AWS uploads
							</p><p class="simpara">
								The <code class="literal">bootc-image-builder</code> tool builds an AMI image and uploads it to your AWS s3 bucket by using your AWS credentials to push and register an AMI image after building it.
							</p></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can deploy your image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images">Deploying a container image to AWS with an AMI disk image</a>.
					</li><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html">AWS CLI documentation</a>
					</li></ul></div></section><section class="section" id="creating-raw-disk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.7. Creating Raw disk images by using bootc-image-builder</h3></div></div></div><p class="_abstract _abstract">
				You can convert a bootc image to a Raw image with an MBR or GPT partition table by using <code class="literal">bootc-image-builder</code>. The RHEL base image does not include a default user, so optionally, you can inject a user configuration with the <code class="literal">--config</code> option to run the <code class="literal">bootc-image-builder</code> container. Alternatively, you can configure the base image with <code class="literal">cloud-init</code> to inject users and SSH keys on first boot. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel">Users and groups configuration - Injecting users and SSH keys by using cloud-init</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li><li class="listitem">
						You have pulled your target container image in the container storage.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Create a <code class="literal">config.toml</code> to configure user access, for example:
					</p><pre class="literallayout">[[blueprint.customizations.user]]
name = "user"
password = "pass"
key = "ssh-rsa AAA ... user@email.com"
groups = ["wheel"]</pre></li><li class="listitem"><p class="simpara">
						Run <code class="literal">bootc-image-builder</code>. If you want to use user access configuration, pass the <code class="literal">config.toml</code> as an argument:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v /var/lib/containers/storage:/var/lib/containers/storage \</strong></span>
    <span class="strong strong"><strong>-v ./config.toml:/config.toml \</strong></span>
    <span class="strong strong"><strong>-v ./output:/output \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--local \</strong></span>
    <span class="strong strong"><strong>--type raw \</strong></span>
    <span class="strong strong"><strong>--config config.toml \</strong></span>
  <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><p class="simpara">
						You can find the <code class="literal">.raw</code> image in the output folder.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						You can deploy your image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images">Deploying a container image by using KVM with a QCOW2 disk image</a>.
					</li><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div></section><section class="section" id="creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.8. Creating ISO images by using bootc-image-builder</h3></div></div></div><p class="_abstract _abstract">
				You can use <code class="literal">bootc-image-builder</code> to create an ISO from which you can perform an offline deployment of a bootable container.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Create a <code class="literal">config.toml</code> to configure user access, for example:
					</p><pre class="literallayout">[[blueprint.customizations.user]]
name = "user"
password = "pass"
key = "ssh-rsa AAA ... user@email.com"
groups = ["wheel"]</pre></li><li class="listitem"><p class="simpara">
						Run <code class="literal">bootc-image-builder</code>. If you do not want to add any configuration, omit the <code class="literal">-v $(pwd)/config.toml:/config.toml</code> argument.
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v /var/lib/containers/storage:/var/lib/containers/storage \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/config.toml:/config.toml \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/output:/output \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--type iso \</strong></span>
    <span class="strong strong"><strong>--config config.toml \</strong></span>
  <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><p class="simpara">
						You can find the <code class="literal">.iso</code> image in the output folder.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem"><p class="simpara">
						You can use the ISO image on unattended installation methods, such as USB sticks or Install-on-boot. The installable boot ISO contains a configured Kickstart file. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images">Deploying a container image by using Anaconda and Kickstart</a>.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							Booting the ISO on a machine with an existing operating system or data can be destructive, because the Kickstart is configured to automatically reformat the first disk on the system.
						</p></div></rh-alert></li><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootable images</a>.
					</li></ul></div></section><section class="section" id="using-bootc-image-builder-to-build-iso-images-with-a-kickstart-file_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.9. Using bootc-image-builder to build ISO images with a Kickstart file</h3></div></div></div><p>
				You can use a Kickstart file to configure various parts of the installation process, such as setting up users, customizing partitioning, and adding an SSH key. You can include the Kickstart file in an ISO build to configure any part of the installation process, except the deployment of the base image. For ISOs with bootc container base images, you can use a Kickstart file to configure anything except the <code class="literal">ostreecontainer</code> command.
			</p><p>
				For example, you can use a Kickstart to perform either a partial installation, a full installation, or even omit the user creation. Use <code class="literal">bootc-image-builder</code> to build an ISO image that contains the custom Kickstart to configure your installation process.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create your Kickstart file. The following Kickstart file is an example of a fully unattended Kickstart file configuration that contains user creation, and partition instructions.
					</p><pre class="literallayout">[customizations.installer.kickstart]
contents = """
lang en_GB.UTF-8
keyboard uk
timezone CET

user --name <span class="emphasis"><em>&lt;user&gt;</em></span> --password <span class="emphasis"><em>&lt;password&gt;</em></span> --plaintext --groups <span class="emphasis"><em>&lt;groups&gt;</em></span>
sshkey --username <span class="emphasis"><em>&lt;user&gt;</em></span> ssh-<span class="emphasis"><em>&lt;type&gt;</em></span> <span class="emphasis"><em>&lt;public key&gt;</em></span>
rootpw --lock

zerombr
clearpart --all --initlabel
autopart --type=plain
reboot --eject
"""</pre></li><li class="listitem">
						Save the Kickstart configuration in the <code class="literal">toml</code> format to inject the Kickstart content. For example, <code class="literal">config.toml</code>.
					</li><li class="listitem"><p class="simpara">
						Run <code class="literal">bootc-image-builder</code>, and include the Kickstart file configuration that you want to add to the ISO build. The <code class="literal">bootc-image-builder</code> automatically adds the <code class="literal">ostreecontainer</code> command that installs the container image.
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v /var/lib/containers/storage:/var/lib/containers/storage \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/config.toml:/config.toml \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/output:/output \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--type iso \</strong></span>
    <span class="strong strong"><strong>--config config.toml \</strong></span>
  <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><p class="simpara">
						You can find the <code class="literal">.iso</code> image in the output folder.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem"><p class="simpara">
						You can use the ISO image on unattended installation methods, such as USB sticks or Install-on-boot. The installable boot ISO contains a configured Kickstart file. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images">Deploying a container image by using Anaconda and Kickstart</a>.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							Booting the ISO on a machine with an existing operating system or data can be destructive, because the Kickstart is configured to automatically reformat the first disk on the system.
						</p></div></rh-alert></li><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootable images</a>.
					</li></ul></div></section><section class="section" id="verification-and-troubleshooting_creating-bootc-compatible-base-disk-images-with-bootc-image-builder"><div class="titlepage"><div><div><h3 class="title">4.10. Verification and troubleshooting</h3></div></div></div><div class="variablelist _abstract"><dl class="variablelist _abstract"><dt><span class="term">If you have any issues configuring the requirements for your AWS image, see the following documentation</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://aws.amazon.com/iam/">AWS IAM account manager</a>
								</li><li class="listitem">
									<a class="link" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-services-s3-commands.html">Using high-level (s3) commands with the AWS CLI</a>.
								</li><li class="listitem">
									<a class="link" href="https://aws.amazon.com/s3/">S3 buckets</a>.
								</li><li class="listitem">
									<a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-regions">Regions and Zones</a>.
								</li><li class="listitem">
									<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_insights/1-latest/html-single/deploying_and_managing_rhel_systems_in_hybrid_clouds/index#proc_launching-customized-rhel-image-to-aws.adoc_host-management-services">Launching a customized RHEL image on AWS</a>.
								</li></ul></div></dd><dt><span class="term">For more details on users, groups, SSH keys, and secrets, see</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel">Managing users, groups, SSH keys, and secrets in image mode for RHEL</a>
								</li></ul></div></dd></dl></div></section></section><section class="chapter" id="best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Best practices for running containers using local sources</h2></div></div></div><p>
			You can access content hosted in an internal registry that requires a custom Transport Layer Security (TLS) root certificate, when running RHEL bootc images.
		</p><p>
			There are two options available to install content to a container by using only local resources:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Bind mounts: Use for example <code class="literal">-v /etc/pki:/etc/pki</code> to override the container’s store with the host’s.
				</li><li class="listitem">
					Derived image: Create a new container image with your custom certificates by building it using a <code class="literal">Containerfile</code>.
				</li></ul></div><p>
			You can use the same techniques to run a <code class="literal">bootc-image-builder`</code> container or a <code class="literal">bootc</code> container when appropriate.
		</p><section class="section" id="importing-custom-certificate-to-a-container-by-using-bind-mounts_best-practices-for-running-containers-using-local-sources"><div class="titlepage"><div><div><h3 class="title">5.1. Importing custom certificate to a container by using bind mounts</h3></div></div></div><p>
				Use bound mounts to override the container’s store with the host’s.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run RHEL bootc image and use bind mount, for example <code class="literal">-v /etc/pki:/etc/pki</code>, to override the container’s store with the host’s:
					</p><pre class="literallayout"># <span class="strong strong"><strong>podman run \</strong></span>
  <span class="strong strong"><strong>--rm \</strong></span>
  <span class="strong strong"><strong>-it \</strong></span>
  <span class="strong strong"><strong>--privileged \</strong></span>
  <span class="strong strong"><strong>--pull=newer \</strong></span>
  <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
  <span class="strong strong"><strong>-v $(pwd)/output:/output \</strong></span>
  <span class="strong strong"><strong>-v /etc/pki:/etc/pki \</strong></span>
  <span class="strong strong"><strong>localhost/<span class="emphasis"><em>&lt;image&gt;</em></span> \</strong></span>
  <span class="strong strong"><strong>--type iso \</strong></span>
  <span class="strong strong"><strong>--config /config.toml \</strong></span>
  <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;/&lt;image&gt;:&lt;tag&gt;</em></span></strong></span></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List certificates inside the container:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ls -l /etc/pki</strong></span></pre></li></ul></div></section><section class="section" id="importing-custom-certificates-to-a-container-by-using-containerfile_best-practices-for-running-containers-using-local-sources"><div class="titlepage"><div><div><h3 class="title">5.2. Importing custom certificates to a container by using Containerfile</h3></div></div></div><p>
				Create a new container image with your custom certificates by building it using a <code class="literal">Containerfile</code>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Containerfile</code>:
					</p><pre class="literallayout">FROM &lt;internal_repository&gt;/&lt;image&gt;
RUN  mkdir -p /etc/pki/ca-trust/extracted/pem/
COPY tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/
RUN  rm -rf /etc/yum.repos.d/*
COPY echo-rhel9_4.repo /etc/yum.repos.d/</pre></li><li class="listitem"><p class="simpara">
						Build the custom image:
					</p><pre class="literallayout"># <span class="strong strong"><strong>podman build -t <span class="emphasis"><em>&lt;your_image&gt;</em></span> .</strong></span></pre></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">&lt;your_image&gt;</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>podman run -it --rm <span class="emphasis"><em>&lt;your_image&gt;</em></span></strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List the certificates inside the container:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ls -l /etc/pki/ca-trust/extracted/pem/</strong></span>
tls-ca-bundle.pem</pre></li></ul></div></section></section><section class="chapter" id="deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Deploying the RHEL bootc images</h2></div></div></div><p class="_abstract _abstract">
			You can deploy the <code class="literal">rhel-bootc</code> container image by using the following different mechanisms.
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Anaconda
				</li><li class="listitem">
					<code class="literal">bootc-image-builder</code>
				</li><li class="listitem">
					<code class="literal">bootc install</code>
				</li></ul></div><p>
			The following bootc image types are available:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Disk images that you generated by using the <code class="literal">bootc image-builder</code> such as:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							QCOW2 (QEMU copy-on-write, virtual disk)
						</li><li class="listitem">
							Raw (Mac Format)
						</li><li class="listitem">
							AMI (Amazon Cloud)
						</li><li class="listitem">
							ISO: Unattended installation method, by using an USB Sticks or Install-on-boot.
						</li></ul></div></li></ul></div><p>
			After you have created a layered image that you can deploy, there are several ways that the image can be installed to a host:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					You can use RHEL installer and Kickstart to install the layered image to a bare metal system, by using the following mechanisms:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Deploy by using USB
						</li><li class="listitem">
							PXE
						</li></ul></div></li><li class="listitem">
					You can also use <code class="literal">bootc-image-builder</code> to convert the container image to a bootc image and deploy it to a bare metal or to a cloud environment.
				</li></ul></div><p>
			The installation method happens only one time. After you deploy your image, any future updates will apply directly from the container registry as the updates are published.
		</p><div class="figure" id="idm139697798680480"><p class="title"><strong>Figure 6.1. Deploying a bootc image by using a basic build installer <code class="literal">bootc install</code>, or deploying a container image by using Anaconda and Kickstart</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/26738c66384f5771cf15d876d1aaa185/639_RHEL_Bootable_Container_Bifrost_0524_3.png" alt="639 RHEL Bootable Container Bifrost 0524 3"></div></div></div><div class="figure" id="idm139697798676032"><p class="title"><strong>Figure 6.2. Using <code class="literal">bootc-image-builder</code> to create disk images from bootc images and deploying disk images in different environments, such as the edge, servers, and clouds by using Anaconda, <code class="literal">bootc-image-builder</code> or <code class="literal">bootc install</code></strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/04a6041fbf8df43a898b05a05ca80884/639_RHEL_Bootable_Container_Bifrost_0524_4.png" alt="639 RHEL Bootable Container Bifrost 0524 4"></div></div></div><section class="section" id="deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.1. Deploying a container image by using KVM with a QCOW2 disk image</h3></div></div></div><p class="_abstract _abstract">
				After creating a QEMU disk image from a RHEL bootc image by using the <code class="literal">bootc-image-builder</code> tool, you can use a virtualization software to boot it.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a container image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder">Creating QCOW2 images by using bootc-image-builder</a>.
					</li><li class="listitem">
						You pushed the container image to an accessible repository.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the container image that you create by using either <code class="literal">libvirt</code>. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization#creating-virtual-machines-using-the-command-line-interface_assembly_creating-virtual-machines">Creating virtual machines by using the command-line interface</a> for more details.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								The following example uses <code class="literal">libvirt</code>:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo virt-install \</strong></span>
  <span class="strong strong"><strong>--name bootc \</strong></span>
  <span class="strong strong"><strong>--memory 4096 \</strong></span>
  <span class="strong strong"><strong>--vcpus 2 \</strong></span>
  <span class="strong strong"><strong>--disk qcow2/disk.qcow2 \</strong></span>
  <span class="strong strong"><strong>--import \</strong></span>
  <span class="strong strong"><strong>--os-variant rhel9-unknown</strong></span></pre></li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Connect to the VM in which you are running the container image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_connecting-to-virtual-machines_configuring-and-managing-virtualization">Connecting to virtual machines</a> for more details.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/index">Configuring and managing virtualization</a>
					</li></ul></div></section><section class="section" id="deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.2. Deploying a container image to AWS with an AMI disk image</h3></div></div></div><p class="_abstract _abstract">
				After using the <code class="literal">bootc-image-builder</code> tool to create an AMI from a bootc image, and uploading it to a AWS s3 bucket, you can deploy a container image to AWS with the AMI disk image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created an Amazon Machine Image (AMI) from a bootc image. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder">Creating AMI images by using bootc-image-builder and uploading it to AWS</a>.
					</li><li class="listitem">
						<code class="literal">cloud-init</code> is available in the Containerfile that you previously created so that you can create a layered image for your use case.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In a browser, access <a class="link" href="https://us-east-2.console.aws.amazon.com/ec2/v2/home?region=us-east-2#Images:sort=name">Service→EC2</a> and log in.
					</li><li class="listitem">
						On the AWS console dashboard menu, choose the correct region. The image must have the <span class="strong strong"><strong>Available</strong></span> status, to indicate that it was correctly uploaded.
					</li><li class="listitem">
						On the AWS dashboard, select your image and click <span class="guibutton">Launch</span>.
					</li><li class="listitem">
						In the new window that opens, choose an instance type according to the resources you need to start your image. Click <span class="guibutton">Review and Launch</span>.
					</li><li class="listitem">
						Review your instance details. You can edit each section if you need to make any changes. Click <span class="guibutton">Launch</span>.
					</li><li class="listitem">
						Before you start the instance, select a public key to access it. You can either use the key pair you already have or you can create a new key pair.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Launch Instance</span> to start your instance. You can check the status of the instance, which displays as <span class="strong strong"><strong>Initializing</strong></span>.
					</p><p class="simpara">
						After the instance status is <span class="strong strong"><strong>Running</strong></span>, the <span class="guibutton">Connect</span> button becomes available.
					</p></li><li class="listitem">
						Click <span class="guibutton">Connect</span>. A window appears with instructions on how to connect by using SSH.
					</li><li class="listitem"><p class="simpara">
						Run the following command to set the permissions of your private key file so that only you can read it. See <a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect-to-linux-instance.html">Connect to your Linux instance</a>.
					</p><pre class="literallayout">$ <span class="strong strong"><strong>chmod 400 <span class="emphasis"><em>&lt;your-instance-name.pem&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Connect to your instance by using its Public DNS:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ssh -i <span class="emphasis"><em>&lt;your-instance-name.pem&gt;</em></span>ec2-user@<span class="emphasis"><em>&lt;your-instance-IP-address&gt;</em></span></strong></span></pre></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Your instance continues to run unless you stop it.
				</p></div></rh-alert><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After launching your image, you can:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Try to connect to http://<span class="emphasis"><em>&lt;your_instance_ip_address&gt;</em></span> in a browser.
					</li><li class="listitem">
						Check if you are able to perform any action while connected to your instance by using SSH.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						After you deploy your image, you can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-cloud-images-with-composer_composing-a-customized-rhel-system-image#pushing-ami-images-to-aws-cloud_creating-cloud-images-with-composer">Pushing images to AWS Cloud AMI</a>
					</li><li class="listitem">
						<a class="link" href="https://github.com/osbuild/bootc-image-builder?tab=readme-ov-file#amazon-machine-images-amis">Amazon Machine Images (AMI)</a>
					</li></ul></div></section><section class="section" id="deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.3. Deploying a container image by using Anaconda and Kickstart</h3></div></div></div><p class="_abstract _abstract">
				You can deploy the RHEL ISO image that you downloaded from Red Hat by using Anaconda and Kickstart to install your container image.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					The use of <code class="literal">rpm-ostree</code> to make changes, or install content, is not supported.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have downloaded the 9.4 Boot ISO for your architecture from Red Hat. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/customizing_anaconda/index#downloading-rh-boot-images_working-with-iso-images">Downloading RH boot images</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create an <code class="literal">ostreecontainer</code> Kickstart file. For example:
					</p><pre class="literallayout"># Basic setup
text
network --bootproto=dhcp --device=link --activate
# Basic partitioning
clearpart --all --initlabel --disklabel=gpt
reqpart --add-boot
part / --grow --fstype xfs

# Reference the container image to install - The kickstart
# has no <code class="literal">%packages</code> section. A container image is being installed.
ostreecontainer --url registry.redhat.io/rhel9/rhel-bootc:9.4

firewall --disabled
services --enabled=sshd

# Only inject a SSH key for root
rootpw --iscrypted locked
sshkey --username root "&lt;your key here&gt;"
reboot</pre></li><li class="listitem"><p class="simpara">
						Boot a system by using the 9.4 Boot ISO installation media.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Append the Kickstart file with the following to the kernel argument:
							</p><pre class="literallayout">inst.ks=http://<span class="emphasis"><em>&lt;path_to_your_kickstart&gt;</em></span></pre></li></ol></div></li><li class="listitem">
						Press <span class="strong strong"><strong>CTRL+X</strong></span> to boot the system.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						After you deploy your container image, you can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://pykickstart.readthedocs.io/en/latest/kickstart-docs.html#ostreecontainer">ostreecontainer</a> documentation
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/7069539">bootc upgrade fails when using local rpm-ostree modifications</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="deploying-an-custom-iso-container-image_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.4. Deploying a custom ISO container image</h3></div></div></div><p class="_abstract _abstract">
				After you build an ISO image by using <code class="literal">bootc-image-builder</code>, the resulting image is a system similar to the RHEL ISOs available for download, except that your container image content is embedded in the ISO disk image. You do not need to have access to the network during installation. You can install the resulting ISO disk image to a bare metal system. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder">Creating ISO images by using bootc-image-builder</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created an ISO image with your bootc image embedded.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Copy your ISO disk image to a USB flash drive.
					</li><li class="listitem">
						Perform a bare-metal installation by using the content in the USB stick into a disconnected environment.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						After you deploy your container image, you can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div></section><section class="section" id="deploying-an-iso-bootc-container-over-pxe-boot_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.5. Deploying an ISO bootc image over PXE boot</h3></div></div></div><p class="_abstract _abstract">
				You can use a network installation to deploy the RHEL ISO image over PXE boot to run your ISO bootc image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have downloaded the 9.4 Boot ISO for your architecture from Red Hat. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/working-with-iso-images_customizing-anaconda#downloading-rh-boot-images_working-with-iso-images">Downloading RH boot images</a>.
					</li><li class="listitem"><p class="simpara">
						You have configured the server for the PXE boot. Choose one of the following options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								For HTTP clients, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/working-with-iso-images_customizing-anaconda#downloading-rh-boot-images_working-with-iso-images">Configuring the DHCPv4 server for HTTP and PXE boot</a>.
							</li><li class="listitem">
								For UEFI-based clients, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/index#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install">Configuring a TFTP server for UEFI-based clients</a>.
							</li><li class="listitem">
								For BIOS-based clients, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-tftp-server-for-bios-based-clients_preparing-for-a-network-install">Configuring a TFTP server for BIOS-based clients</a>.
							</li></ul></div></li><li class="listitem">
						You have a client, also known as the system to which you are installing your ISO image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Export the RHEL installation ISO image to the HTTP server. The PXE boot server is now ready to serve PXE clients.
					</li><li class="listitem">
						Boot the client and start the installation.
					</li><li class="listitem">
						Select PXE Boot when prompted to specify a boot source. If the boot options are not displayed, press the Enter key on your keyboard or wait until the boot window opens.
					</li><li class="listitem">
						From the Red Hat Enterprise Linux boot window, select the boot option that you want, and press Enter.
					</li><li class="listitem">
						Start the network installation.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootc images</a>.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/index#customizing-the-installation-media_rhel-installer">Preparing to install from the network using PXE</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/index#booting-the-installation-using-pxe_booting-the-installation-media">Booting the installation from a network by using PXE</a>
					</li></ul></div></section><section class="section" id="building-and-launching-configured-images_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.6. Building, configuring, and launching disk images with bootc-image-builder</h3></div></div></div><p class="_abstract _abstract">
				You can inject configuration into a custom image by using a Containerfile.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a disk image. The following example shows how to add a user to the disk image.
					</p><pre class="literallayout">[[blueprint.customizations.user]]
name = "user"
password = "pass"
key = "ssh-rsa AAA ... user@email.com"
groups = ["wheel"]</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">name</code> - User name. Mandatory
							</li><li class="listitem">
								<code class="literal">password</code> - Nonencrypted password. Not mandatory
							</li><li class="listitem">
								<code class="literal">key</code> - Public SSH key contents. Not mandatory
							</li><li class="listitem">
								<code class="literal">groups</code> - An array of groups to add the user into. Not mandatory
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Run <code class="literal">bootc-image-builder</code> and pass the following arguments:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/config.toml:/config.toml \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/output:/output \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--type qcow2 \</strong></span>
    <span class="strong strong"><strong>--config config.toml \</strong></span>
    <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Launch a VM, for example, by using <code class="literal">virt-install</code>:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo virt-install \</strong></span>
  <span class="strong strong"><strong>--name bootc \</strong></span>
  <span class="strong strong"><strong>--memory 4096 \</strong></span>
  <span class="strong strong"><strong>--vcpus 2 \</strong></span>
  <span class="strong strong"><strong>--disk qcow2/disk.qcow2 \</strong></span>
  <span class="strong strong"><strong>--import \</strong></span>
  <span class="strong strong"><strong>--os-variant rhel9</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Access the system with SSH:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ssh -i /<span class="emphasis"><em>&lt;path_to_private_ssh-key&gt;</em></span> <span class="emphasis"><em>&lt;user1&gt;</em></span>@<span class="emphasis"><em>&lt;ip-address&gt;</em></span></strong></span></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						After you deploy your container image, you can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootable images</a>.
					</li></ul></div></section><section class="section" id="deploying-a-container-image-by-using-bootc_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.7. Deploying a container image by using bootc</h3></div></div></div><p class="_abstract _abstract">
				With <code class="literal">bootc</code>, you have a container that is the source of truth. It contains a basic build installer and it is available as <code class="literal">bootc install to-disk</code> or <code class="literal">bootc install to-filesystem</code>. By using the <code class="literal">bootc install</code> methods you do not need to perform any additional steps to deploy the container image, because the container images include a basic installer.
			</p><p>
				With image mode for RHEL, you can install unconfigured images, for example, images that do not have a default password or SSH key.
			</p><p>
				Perform a bare-metal installation to a device by using a RHEL ISO image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have downloaded the 9.4 Boot ISO for your architecture from Red Hat. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/working-with-iso-images_customizing-anaconda#downloading-rh-boot-images_working-with-iso-images">Downloading RH boot images</a>.
					</li><li class="listitem">
						You have created a configuration file.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						inject a configuration into the running ISO image, for example:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman run --rm --privileged --pid=host -v /var/lib/containers:/var/lib/containers --security-opt label=type:unconfined_t <span class="emphasis"><em>&lt;image&gt;</em></span> bootc install to-disk <span class="emphasis"><em>&lt;path-to-disk&gt;</em></span></strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						After you deploy your container image, you can make updates to the image and push the changes to a registry. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images">Managing RHEL bootable images</a>.
					</li></ul></div></section><section class="section" id="advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">6.8. Advanced installation with to-filesystem</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">bootc install</code> contains two subcommands: <code class="literal">bootc install to-disk</code> and <code class="literal">bootc install to-filesystem</code>.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">bootc-install-to-filesystem</code> performs installation to the target filesystem.
					</li><li class="listitem"><p class="simpara">
						The <code class="literal">bootc install to-disk</code> subcommand consists of a set of opinionated lower level tools that you can also call independently. The command consist of the following tools:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">mkfs.$fs /dev/disk</code>
							</li><li class="listitem">
								<code class="literal">mount /dev/disk /mnt</code>
							</li><li class="listitem">
								<code class="literal">bootc install to-filesystem --karg=root=UUID=<span class="emphasis"><em>&lt;uuid of /mnt&gt;</em></span> --imgref $self /mnt</code>
							</li></ul></div></li></ul></div><section class="section" id="using-bootc-install-to-existing-root_deploying-the-rhel-bootc-images"><div class="titlepage"><div><div><h4 class="title">6.8.1. Using bootc install to-existing-root</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">bootc install to-existing-root</code> is a variant of <code class="literal">install to-filesystem</code>. You can use it to convert an existing system into the target container image.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						This conversion eliminates the <code class="literal">/boot</code> and <code class="literal">/boot/efi</code> partitions and can delete the existing Linux installation. The conversion process reuses the filesystem, and even though the user data is preserved, the system no longer boots in package mode.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You must have root permissions to complete the procedure.
						</li><li class="listitem">
							You must match the host environment and the target container version, for example, if your host is a RHEL 9 host, then you must have a RHEL 9 container. Installing a RHEL container on a Fedora host by using <code class="literal">btrfs</code> as the RHEL kernel will not support that filesystem.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Run the following command to convert an existing system into the target container image. Pass the target <code class="literal">rootfs</code> by using the <code class="literal">-v /:/target</code> option.
						</p><pre class="literallayout"># <span class="strong strong"><strong>podman run --rm --privileged -v /dev:/dev -v /var/lib/containers:/var/lib/containers -v /:/target \</strong></span>
            <span class="strong strong"><strong>--pid=host --security-opt label=type:unconfined_t \</strong></span>
            <span class="strong strong"><strong><span class="emphasis"><em>&lt;image&gt;</em></span> \</strong></span>
            <span class="strong strong"><strong>bootc install to-existing-root</strong></span></pre><p class="simpara">
							This command deletes the data in <code class="literal">/boot</code>, but everything else in the existing operating system is not automatically deleted. This can be useful because the new image can automatically import data from the previous host system. Consequently, container images, database, the user home directory data, configuration files in <code class="literal">/etc</code> are all available after the subsequent reboot in <code class="literal">/sysroot</code>.
						</p><p class="simpara">
							You can also use the <code class="literal">--root-ssh-authorized-keys</code> flag to inherit the root user SSH keys, by adding <code class="literal">--root-ssh-authorized-keys /target/root/.ssh/authorized_keys</code>. For example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>podman run --rm --privileged -v /dev:/dev -v /var/lib/containers:/var/lib/containers -v /:/target \</strong></span>
            <span class="strong strong"><strong>--pid=host --security-opt label=type:unconfined_t \</strong></span>
            <span class="strong strong"><strong><span class="emphasis"><em>&lt;image&gt;</em></span> \</strong></span>
            <span class="strong strong"><strong>bootc install to-existing-root --root-ssh-authorized-keys /target/root/.ssh/authorized_keys</strong></span></pre></li></ul></div></section></section></section><section class="chapter" id="enabling-the-fips-mode-while-building-a-bootc-image"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Enabling the FIPS mode while building a bootc image</h2></div></div></div><p>
			FIPs include standards for cryptographic operations. You can enable the FIPS mode during the bootc image build time, when building a bootc image, to configure the system to use only FIPS approved modules. There are 2 options to enable FIPS mode:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					By using the <code class="literal">bootc-image-builder</code> tool: you must enable the FIPS crypto policy into the Containerfile.
				</li><li class="listitem">
					When performing an Anaconda installation: apart from enabling the FIPS crypto policy into the Containerfile, you must add the <code class="literal">fips=1</code> kernel argument during the boot time.
				</li></ul></div><p>
			FIPS dracut module is built-in to the base image. It defaults to a <code class="literal">boot=UUID= karg</code> in <code class="literal">bootc install-to-filesystem</code>.
		</p><section class="section" id="enabling-the-fips-mode-by-using-bootc-image-builder-tool_enabling-the-fips-mode-while-building-a-bootc-image"><div class="titlepage"><div><div><h3 class="title">7.1. Enabling the FIPS mode by using bootc-image-builder</h3></div></div></div><p>
				Create a disk image by using <code class="literal">bootc-image-builder</code> or <code class="literal">bootc install to-disk</code>, and enable the FIPS mode by passing the custom Containerfile as an argument when building the image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have <code class="literal">virt-install</code> installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">01-fips.toml</code> to configure FIPS enablement, for example:
					</p><pre class="literallayout"># Enable FIPS
kargs = ["fips=1"]</pre></li><li class="listitem"><p class="simpara">
						Create a Containerfile with the following instructions to enable the <code class="literal">fips=1</code> kernel argument:
					</p><pre class="screen">FROM registry.redhat.io/rhel9/rhel-bootc:latest
# Enable fips=1 kernel argument: https://containers.github.io/bootc/building/kernel-arguments.html
COPY 01-fips.toml /usr/lib/bootc/kargs.d/
# Enable the FIPS crypto policy
# crypto-policies-scripts is not installed by default in RHEL-10
RUN dnf install -y crypto-policies-scripts &amp;&amp; update-crypto-policies --no-reload --set FIPS</pre></li><li class="listitem"><p class="simpara">
						Create your bootc <code class="literal"><span class="emphasis"><em>&lt;image&gt;</em></span></code> compatible base disk image by using <code class="literal">Containerfile</code> in the current directory:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>podman build -t quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span> .</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						After login in to the system, check that FIPS mode is enabled:
					</p><pre class="screen">$ *fips-mode-setup --check*
FIPS mode is enabled.</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/security_hardening/switching-rhel-to-fips-mode_security-hardening#proc_installing-the-system-with-fips-mode-enabled_switching-rhel-to-fips-mode">Installing the system with FIPS mode enabled</a>
					</li></ul></div></section><section class="section" id="enabling-the-fips-mode-to-perform-an-anaconda-installation_enabling-the-fips-mode-while-building-a-bootc-image"><div class="titlepage"><div><div><h3 class="title">7.2. Enabling the FIPS mode to perform an Anaconda installation</h3></div></div></div><p>
				To create a disk image and enable the FIPS mode when performing an Anaconda installation, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Podman installed on your host machine.
					</li><li class="listitem">
						You have <code class="literal">virt-install</code> installed on your host machine.
					</li><li class="listitem">
						You have root access to run the <code class="literal">bootc-image-builder</code> tool, and run the containers in <code class="literal">--privileged</code> mode, to build the images.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">01-fips.toml</code> to configure FIPS enablement, for example:
					</p><pre class="literallayout"># Enable FIPS
kargs = ["fips=1"]</pre></li><li class="listitem"><p class="simpara">
						Create a Containerfile with the following instructions to enable the <code class="literal">fips=1</code> kernel argument:
					</p><pre class="screen">FROM registry.redhat.io/rhel9/rhel-bootc:latest
# Enable fips=1 kernel argument: https://containers.github.io/bootc/building/kernel-arguments.html
COPY 01-fips.toml /usr/lib/bootc/kargs.d/
# Install and enable the FIPS crypto policy
RUN dnf install -y crypto-policies-scripts &amp;&amp; update-crypto-policies --no-reload --set FIPS</pre></li><li class="listitem"><p class="simpara">
						Create your bootc <code class="literal"><span class="emphasis"><em>&lt;image&gt;</em></span></code> compatible base disk image by using <code class="literal">Containerfile</code> in the current directory:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo podman run \</strong></span>
    <span class="strong strong"><strong>--rm \</strong></span>
    <span class="strong strong"><strong>-it \</strong></span>
    <span class="strong strong"><strong>--privileged \</strong></span>
    <span class="strong strong"><strong>--pull=newer \</strong></span>
    <span class="strong strong"><strong>--security-opt label=type:unconfined_t \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/config.toml:/config.toml:ro \</strong></span>
    <span class="strong strong"><strong>-v $(pwd)/output:/output \</strong></span>
    <span class="strong strong"><strong>-v /var/lib/containers/storage:/var/lib/containers/storage \</strong></span>
    <span class="strong strong"><strong>registry.redhat.io/rhel9/bootc-image-builder:latest \</strong></span>
    <span class="strong strong"><strong>--local</strong></span>
    <span class="strong strong"><strong>--type qcow2 \</strong></span>
    <span class="strong strong"><strong>quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Enable FIPS mode during the system installation:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								When booting the RHEL Anaconda installer, on the installation screen, press the TAB key and add the <code class="literal">fips=1</code> kernel argument.
							</p><p class="simpara">
								After the installation, the system starts in FIPS mode automatically.
							</p></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						After login in to the system, check that FIPS mode is enabled:
					</p><pre class="screen">$ *fips-mode-setup --check*
FIPS mode is enabled.</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/security_hardening/switching-rhel-to-fips-mode_security-hardening#proc_installing-the-system-with-fips-mode-enabled_switching-rhel-to-fips-mode">Installing the system with FIPS mode enabled</a>
					</li></ul></div></section></section><section class="chapter" id="managing-rhel-bootc-images"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Managing RHEL bootc images</h2></div></div></div><p class="_abstract _abstract">
			After installing and deploying RHEL bootc images, you can perform management operations on your container images, such as changing or updating the systems. The system supports in-place transactional updates with rollback after deployment.
		</p><p>
			This kind of management, also known as Day 2 management baseline, consists of transactionally fetching new operating system updates from a container registry and booting the system into them, while supporting manual, or automated rollbacks in case of failures.
		</p><p>
			You can also rely on automatic updates, that are turned on by default. The <code class="literal">systemd service unit</code> and the <code class="literal">systemd timer unit</code> files check the container registry for updates and apply them to the system. You can trigger an update process with different events, such as updating an application. There are automation tools watching these updates and then triggering the CI/CD pipelines. A reboot is required, because the updates are transactional. For environments that require more sophisticated or scheduled rollouts, you must disable auto updates and use the <code class="literal">bootc</code> utility to update your operating system.
		</p><p>
			See <a class="link" href="https://www.redhat.com/en/blog/how-does-red-hat-support-day-2-operations">Day 2 operations support</a> for more details.
		</p><div class="figure" id="idm139697799998336"><p class="title"><strong>Figure 8.1. Manually updating an installed operating system, changing the container image reference or rolling back changes if needed</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/060de4deeafa3ccd81b58b8a8a9dcbce/639_RHEL_Bootc_Container_Bifrost_0524_5.png" alt="639 RHEL Bootc Container Bifrost 0524 5"></div></div></div><section class="section" id="switching-the-container-image-reference_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.1. Switching the container image reference</h3></div></div></div><p class="_abstract _abstract">
				You can change the container image reference used for upgrades by using the <code class="literal">bootc switch</code> command. For example, you can switch from the stage to the production tag. The <code class="literal">bootc switch</code> command performs the same operations as the <code class="literal">bootc upgrade</code> command and additionally changes the container image reference.
			</p><p>
				To manually switch an existing <code class="literal">ostree-based</code> container image reference, use the <code class="literal">bootc switch</code> command.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					The use of <code class="literal">rpm-ostree</code> to make changes, or install content, is not supported.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A booted system using <code class="literal">bootc</code>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the following command:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>bootc switch [--apply] quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:<span class="emphasis"><em>&lt;tag&gt;</em></span></strong></span></pre><p class="simpara">
						Optionally, you can use the <code class="literal">--apply</code> option when you want to automatically take actions, such as rebooting if the system has changed.
					</p></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The <code class="literal">bootc switch</code> command has the same effect as <code class="literal">bootc upgrade</code>. The only difference is the container image reference is changed. This allows preserving the existing states in <code class="literal">/etc</code> and <code class="literal">/var</code>, for example, host SSH keys and home directories.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <a class="link" href="https://containers.github.io/bootc/man/bootc-upgrade.html"><code class="literal">bootc-switch</code></a> man page
					</li></ul></div></section><section class="section" id="adding-modules-to-the-bootc-image-initramfs_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.2. Adding modules to the bootc image initramfs</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">rhel9/rhel-bootc</code> image uses the <code class="literal">dracut</code> infrastructure to build an initial RAM disk, the <code class="literal">initrd</code> during the image build time. The <code class="literal">initrd</code> is built and included in the <code class="literal">/usr/lib/modules/$kver/initramfs.img</code> location inside the container.
			</p><p>
				You can use a drop-in configuration file to override the <code class="literal">dracut</code> configuration, and place it in <code class="literal">/usr/lib/dracut/dracut.conf.d/<span class="emphasis"><em>&lt;50-custom-added-modules.conf&gt;</em></span></code> And thus re-create <code class="literal">initrd</code> with the modules you want to add.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A booted system using bootc.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Re-create the <code class="literal">initrd</code> as part of a container build:
					</p><pre class="literallayout">FROM <span class="emphasis"><em>&lt;baseimage&gt;</em></span>
COPY <span class="emphasis"><em>&lt;50-custom-added-modules&gt;</em></span>.conf /usr/lib/dracut/dracut.conf.d
RUN set -x; kver=$(cd /usr/lib/modules &amp;&amp; echo *); dracut -vf /usr/lib/modules/$kver/initramfs.img $kver</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							By default the command attempts to pull the running kernel version, which causes an error. Explicitly pass to <code class="literal">dracut</code> the kernel version of the target to avoid errors.
						</p></div></rh-alert></li></ul></div></section><section class="section" id="modifying-and-regenerating-initrd_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.3. Modifying and regenerating initrd</h3></div></div></div><p>
				The default container image includes a pre-generated initial RAM disk (initrd) in <code class="literal">/usr/lib/modules/$kver/initramfs.img</code>. To regenerate the <code class="literal">initrd</code>, for example, to add a dracut module, follow the steps:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Write your drop-in configuration file. For example:
					</p><pre class="literallayout">dracutmodules = "<span class="emphasis"><em>module</em></span>"</pre></li><li class="listitem"><p class="simpara">
						Place your drop-in configuration file in the location that <code class="literal">dracut</code> normally uses: <code class="literal">/usr</code>. For example:
					</p><pre class="literallayout">/usr/lib/dracut/dracut.conf.d/50-custom-added-modules.conf</pre></li><li class="listitem"><p class="simpara">
						Regenerate the <code class="literal">initrd</code> as part of the container build. You must explicitly pass the kernel version to target to <code class="literal">dracut</code>, because it tries to pull the running kernel version, which can cause an error. The following is an example:
					</p><pre class="literallayout">FROM &lt;baseimage&gt;
COPY 50-custom-added-modules.conf /usr/lib/dracut/dracut.conf.d
RUN set -x; kver=$(cd /usr/lib/modules &amp;&amp; echo *); dracut -vf /usr/lib/modules/$kver/initramfs.img $kver</pre></li></ol></div></section><section class="section" id="performing-manual-updates-from-an-installed-operating-system_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.4. Performing manual updates from an installed operating system</h3></div></div></div><p class="_abstract _abstract">
				Installing image mode for RHEL is a one time task. You can perform any other management task, such as changing or updating the system, by pushing the changes to the container registry.
			</p><p>
				When using image mode for RHEL, you can choose to perform manual updates for your systems. Manual updates are also useful if you have an automated way to perform updates, for example, by using Ansible. Because the automatic updates are enabled by default, to perform manual updates you must turn the automatic updates off. You can do this by choosing one of the following options:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Running the <code class="literal">bootc upgrade</code> command
					</li><li class="listitem">
						Modifying the <code class="literal">systemd</code> timer file
					</li></ul></div></section><section class="section" id="turning-off-automatic-updates_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.5. Turning off automatic updates</h3></div></div></div><p class="_abstract _abstract">
				To perform manual updates you must turn off automatic updates. You can do this by choosing one of the following options in the procedure below.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Disable the timer of a container build.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								By running the <code class="literal">bootc upgrade</code> command:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>systemctl mask bootc-fetch-apply-updates.timer</strong></span></pre></li><li class="listitem"><p class="simpara">
								By modifying the <code class="literal">systemd</code> timer file. Use <code class="literal">systemd</code> "drop-ins" to override the timer. In the following example, updates are scheduled for once a week.
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
										Create an <code class="literal">updates.conf</code> file with the following content:
									</p><pre class="literallayout">[Timer]
# Clear previous timers
OnBootSec= OnBootSec=1w OnUnitInactiveSec=1w</pre></li><li class="listitem"><p class="simpara">
										Add your container to the file that you created:
									</p><pre class="literallayout">$ <span class="strong strong"><strong>mkdir -p /usr/lib/systemd/system/bootc-fetch-apply-updates.timer.d</strong></span>
$ <span class="strong strong"><strong>cp updates.conf /usr/lib/systemd/system/bootc-fetch-apply-updates.timer.d</strong></span></pre></li></ol></div></li></ul></div></li></ul></div></section><section class="section" id="manually-updating-an-installed-operating-system_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.6. Manually updating an installed operating system</h3></div></div></div><p class="_abstract _abstract">
				To manually fetch updates from a registry and boot the system into the new updates, use <code class="literal">bootc upgrade</code>. This command fetches the transactional in-place updates from the installed operating system to the container image registry. The command queries the registry and queues an updated container image for the next boot. It stages the changes to the base image, while not changing the running system by default.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the following command:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>bootc upgrade [--apply]</strong></span></pre><p class="simpara">
						The <code class="literal">apply</code> argument is optional and you can use it when you want to automatically take actions, such as rebooting if the system has changed.
					</p></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The <code class="literal">bootc upgrade</code> and <code class="literal">bootc update</code> commands are aliases.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <a class="link" href="https://containers.github.io/bootc/man/bootc-upgrade.html"><code class="literal">bootc-upgrade</code></a> man page
					</li></ul></div></section><section class="section" id="performing-rollbacks-from-a-updated-operating-system_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.7. Performing rollbacks from a updated operating system</h3></div></div></div><p class="_abstract _abstract">
				You can roll back to a previous boot entry to revert changes by using the <code class="literal">bootc rollback</code> command. This command changes the boot loader entry ordering by making the deployment under <code class="literal">rollback</code> queued for the next boot. The current deployment then becomes the rollback. Any staged changes, such as a queued upgrade that was not applied, are discarded.
			</p><p>
				After a rollback completes, the system reboots and the update timer runs within 1 to 3 hours which automatically updates and reboots your system to the image you just rolled back from.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					If you perform a rollback, the system will automatically update again unless you turn off auto-updates. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootable-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#turning-off-automatic-updates_managing-rhel-bootable-images">Turning off automatic updates</a>.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You performed an update to the system.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the following command:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>bootc rollback [-h|--help] [-V|--version]</strong></span></pre></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The <code class="literal">bootc rollback</code> command has the same effect as <code class="literal">bootc upgrade</code>. The only difference is the container image being tracked. This enables preserving the existing states in <code class="literal">/etc</code> and <code class="literal">/var</code>, for example, host SSH keys and home directories.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use <code class="literal">systemd journal</code> to check the logged message for the detected rollback invocation.
					</p><pre class="literallayout">$ <span class="strong strong"><strong>journalctl -b</strong></span></pre><p class="simpara">
						You can see a log similar to:
					</p><pre class="literallayout"><code class="literal">MESSAGE_ID=26f3b1eb24464d12aa5e7b544a6b5468</code></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <a class="link" href="https://containers.github.io/bootc/man/bootc-upgrade.html"><code class="literal">bootc-rollback</code></a> man page
					</li></ul></div></section><section class="section" id="deploying-updates-to-system-groups_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.8. Deploying updates to system groups</h3></div></div></div><p class="_abstract _abstract">
				You can change the configuration of your operating system by modifying the Containerfile. Then you can build and push your container image to the registry. When you next boot your operating system, an update will be applied.
			</p><p>
				You can also change the container image source by using the <code class="literal">bootc switch</code> command. The container registry is the source of truth. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#switching-the-container-image-reference_managing-rhel-bootc-images">Switching the container image reference</a>.
			</p><p>
				Usually, when deploying updates to system groups, you can use a central management service to provide a client to be installed on each system which connects to the central service. Often, the management service requires the client to perform a one time registration. The following is an example on how to deploy updates to system groups. You can modify it to create a persistent <code class="literal">systemd</code> service, if required.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					For clarity reasons, the Containerfile in the example is not optimized. For example, a better optimization to avoid creating multiple layers in the image is by invoking RUN a single time.
				</p></div></rh-alert><p>
				You can install a client into an image mode for RHEL image and run it at startup to register the system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The management-client handles future connections to the server, by using a <code class="literal">cron</code> job or a separate <code class="literal">systemd</code> service.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Create a management service with the following characteristics. It determines when to upgrade the system.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Disable <code class="literal">bootc-fetch-apply-updates.timer</code> if it is included in the base image.
							</li><li class="listitem">
								Install the client by using <code class="literal">dnf</code>, or some other method that applies for your client.
							</li><li class="listitem">
								Inject the credentials for the management service into the image.
							</li></ol></div></li></ul></div></section><section class="section" id="checking-inventory-health_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.9. Checking inventory health</h3></div></div></div><p class="_abstract _abstract">
				Health checks are one of the Day 2 Operations. You can manually check the system health of the container images and events that are running inside the container.
			</p><p>
				You can set health checks by creating the container on the command line. You can display the health check status of a container by using the <code class="literal">podman inspect</code> or <code class="literal">podman ps</code> commands.
			</p><p>
				You can monitor and print events that occur in Podman by using the <code class="literal">podman events</code> command. Each event includes a timestamp, a type, a status, a name, if applicable, and an image, if applicable.
			</p><p>
				For more information about health checks and events, see chapter <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_monitoring-containers">Monitoring containers</a>.
			</p></section><section class="section" id="automation-and-gitops_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.10. Automation and GitOps</h3></div></div></div><p class="_abstract _abstract">
				You can automate the building process by using CI/CD pipelines so that an update process can be triggered by events, such as updating an application. You can use automation tools that track these updates and trigger the CI/CD pipelines. The pipeline keeps the systems up to date by using the transactional background operating system updates.
			</p></section><section class="section" id="using-toolbx-to-inspect-bootc-containers_managing-rhel-bootc-images"><div class="titlepage"><div><div><h3 class="title">8.11. Using Toolbx to inspect bootc containers</h3></div></div></div><p>
				Installing software on a system presents certain risks: it can change a system’s behavior, and can leave unwanted files and directories behind after they are no longer needed. You can prevent these risks by installing your favorite development and debugging tools, editors, and software development kits (SDKs) into the Toolbx utility included in the RHEL bootc, an image fully mutable container without affecting the base operating system. You can perform changes on the host system with commands such as <code class="literal">less</code>, <code class="literal">lsof</code>, <code class="literal">rsync</code>, <code class="literal">ssh</code>, <code class="literal">sudo</code>, and <code class="literal">unzip</code>.
			</p><p>
				The Toolbx utility performs the following actions:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Pulling the <code class="literal">registry.access.redhat.com/ubi9/toolbox:latest</code> image to your local system
					</li><li class="listitem">
						Starting up a container from the image
					</li><li class="listitem">
						Running a shell inside the container from which you can access the host system
					</li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Toolbx can run a root container or a rootless container, depending on the rights of the user who creates the Toolbx container. Utilities that would require root rights on the host system also should be run in root containers.
				</p></div></rh-alert><p>
				The default container name is <code class="literal">rhel-toolbox</code>. To inspect bootc containers, follow the steps:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start a Toolbx container by using the <code class="literal">toolbox create</code> command and enter the container with the <code class="literal">toolbox enter</code> command.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								As a rootless user:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>toolbox create <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								As a root user:
							</p><pre class="literallayout">$ <span class="strong strong"><strong>sudo toolbox create <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span></strong></span>
Created container: <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span>
Enter with: toolbox enter</pre></li><li class="listitem"><p class="simpara">
								Verify that you pulled the correct image:
							</p><pre class="literallayout">[user@toolbox ~]$ <span class="strong strong"><strong>toolbox list</strong></span>
IMAGE ID      IMAGE NAME    CREATED
fe0ae375f149   registry.access.redhat.com/ubi{ProductVersion}/toolbox 5 weeks ago

CONTAINER ID  CONTAINER NAME  CREATED         STATUS   IMAGE NAME
5245b924c2cb  <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span>       7 minutes ago   created  registry.access.redhat.com/ubi{ProductVersion}/toolbox:8.9-6</pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Enter the Toolbx container:
									</p><pre class="literallayout">[user@toolbox ~]$ <span class="strong strong"><strong>toolbox enter <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span></strong></span></pre></li><li class="listitem">
										Optional: Check if you pulled the correct image
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Enter a command inside the <code class="literal"><span class="emphasis"><em>&lt;mytoolbox&gt;</em></span></code> container and display the name of the container and the image:
							</p><pre class="literallayout">⬢ [user@toolbox ~]$ <span class="strong strong"><strong>cat /run/.containerenv</strong></span>
engine="podman-4.8.2"
name="<span class="emphasis"><em>&lt;mytoolbox&gt;</em></span>"
id="5245b924c2cb..."
image="registry.access.redhat.com/ubi{ProductVersion}/toolbox"
imageid="fe0ae375f14919cbc0596142e3aff22a70973a36e5a165c75a86ea7ec5d8d65c"</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Use the Toolbx to install the development tools:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install the tools of your choice, for example, the Emacs text editor, GCC compiler and GNU Debugger (GDB):
							</p><pre class="literallayout">⬢[user@toolbox ~]$ <span class="strong strong"><strong>sudo dnf install emacs gcc gdb</strong></span></pre></li><li class="listitem"><p class="simpara">
								Optional: Verify that the tools are installed:
							</p><pre class="literallayout">⬢[user@toolbox ~]$  <span class="strong strong"><strong>dnf repoquery --info --installed <span class="emphasis"><em>&lt;package_name&gt;</em></span></strong></span></pre><p class="simpara">
								After installation, you can continue using those tools as a rootless user.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Use Toolbx to troubleshoot the host system without installing them on the host system.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install the <code class="literal">systemd</code> suite to be able to run the <code class="literal">journalctl</code> command:
							</p><pre class="literallayout">⬢[root@toolbox ~]# <span class="strong strong"><strong>dnf install systemd</strong></span></pre></li><li class="listitem"><p class="simpara">
								Display log messages for all processes running on the host:
							</p><pre class="literallayout">⬢[root@toolbox ~]# j <span class="strong strong"><strong>journalctl --boot -0</strong></span>
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: microcode: updated ear&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Linux version 6.6.8-10&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Command line: BOOT_IMA&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: x86/split lock detecti&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: BIOS-provided physical&gt;</pre></li><li class="listitem"><p class="simpara">
								Display log messages for the kernel:
							</p><pre class="literallayout">⬢[root@toolbox ~]# <span class="strong strong"><strong>journalctl --boot -0 --dmesg</strong></span>
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: microcode: updated ear&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Linux version 6.6.8-10&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Command line: BOOT_IMA&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: x86/split lock detecti&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: BIOS-provided physical&gt;
Jan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: BIOS-e820: [mem 0x0000&gt;</pre></li><li class="listitem"><p class="simpara">
								Install the <code class="literal">nmap</code> network scanning tool:
							</p><pre class="literallayout">⬢[root@toolbox ~]# <span class="strong strong"><strong>dnf install nmap</strong></span></pre></li><li class="listitem"><p class="simpara">
								Scan IP addresses and ports in a network:
							</p><pre class="literallayout">⬢[root@toolbox ~]# <span class="strong strong"><strong>nmap -sS scanme.nmap.org</strong></span>
Starting Nmap 7.93 ( https://nmap.org ) at 2024-01-02 10:39 CET
Stats: 0:01:01 elapsed; 0 hosts completed (0 up), 256 undergoing Ping Scan
Ping Scan Timing: About 29.79% done; ETC: 10:43 (0:02:24 remaining)
Nmap done: 256 IP addresses (0 hosts up) scanned in 206.45 seconds</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										The <code class="literal">-sS</code> option performs a TCP SYN scan. Most of Nmap’s scan types are only available to privileged users, because they send and receive raw packets, which requires root access on UNIX systems.
									</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Stop the Toolbx bootc container.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Leave the container and return to the host:
							</p><pre class="literallayout">⬢ [user@toolbox ~]$ <span class="strong strong"><strong>exit</strong></span></pre></li><li class="listitem"><p class="simpara">
								Stop the toolbox container:
							</p><pre class="literallayout">⬢ [user@toolbox ~]$ <span class="strong strong"><strong>podman stop <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								Optional: Remove the toolbox container:
							</p><pre class="literallayout">⬢ [user@toolbox ~]$ <span class="strong strong"><strong>toolbox rm <span class="emphasis"><em>&lt;mytoolbox&gt;</em></span></strong></span></pre><p class="simpara">
								Alternatively, you can also use the <code class="literal">podman rm</code> command to remove the bootc container.
							</p></li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/blog/debugging-image-mode-hosts">Debugging image mode hosts</a> article
					</li></ul></div></section></section><section class="chapter" id="managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Managing kernel arguments in bootc systems</h2></div></div></div><p>
			You can use <code class="literal">bootc</code> to configure kernel arguments. By default, <code class="literal">bootc</code> uses the boot loader configuration files that are stored in <code class="literal">/boot/loader/entries</code>. This directory defines arguments provided to the Linux kernel. The set of kernel arguments is machine-specific state, but you can also manage the kernel arguments by using container updates. The boot loader menu entries are shared between multiple operating systems and boot loaders are installed on one device.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				Currently, the boot loader entries are written by an OSTree backend.
			</p></div></rh-alert><section class="section" id="how-to-add-support-to-inject-kernel-arguments-with-bootc_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.1. How to add support to inject kernel arguments with bootc</h3></div></div></div><p>
				The <code class="literal">bootc</code> tool uses generic operating system kernels. You can add support to inject kernel arguments by adding a custom configuration, in the TOML format, in <code class="literal">/usr/lib/bootc/kargs.d</code>. For example:
			</p><pre class="literallayout"># /usr/lib/bootc/kargs.d/10-example.toml
kargs = ["mitigations=auto,nosmt"]</pre><p>
				You can also make these kernel arguments architecture-specific by using the <code class="literal">match-architectures</code> key. For example:
			</p><pre class="literallayout"># /usr/lib/bootc/kargs.d/00-console.toml
kargs = ["console=ttyS0,114800n8"]
match-architectures = ["x86_64"]</pre></section><section class="section" id="how-to-modify-kernel-arguments-by-using-bootc-install-configs_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.2. How to modify kernel arguments by using bootc install configs</h3></div></div></div><p>
				You can use <code class="literal">bootc install</code> to add kernel arguments during the install time in the following ways:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Adding kernel arguments into the container image.
					</li><li class="listitem">
						Adding kernel arguments by using the <code class="literal">bootc install --karg</code> command.
					</li></ul></div><p>
				You can use the kernel arguments on Day 2 operations, by adding the arguments and applying them on a switch, upgrade, or edit. Adding kernel arguments and using it for Day 2 operations involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Create files within <code class="literal">/usr/lib/bootc/kargs.d</code> with kernel arguments.
					</li><li class="listitem">
						Fetch the container image to get the OSTree commit.
					</li><li class="listitem">
						Use the OSTree commit to return the file tree.
					</li><li class="listitem">
						Navigate to <code class="literal">/usr/lib/bootc/kargs.d</code>.
					</li><li class="listitem">
						Read each file within the directory.
					</li><li class="listitem">
						Push the contents of each <code class="literal">kargs</code> file into a file containing all the needed <code class="literal">kargs</code>.
					</li><li class="listitem">
						Pass the <code class="literal">kargs</code> to the <code class="literal"><span class="emphasis"><em>stage()</em></span></code> function.
					</li><li class="listitem">
						Apply these arguments to switch, upgrade, or edit.
					</li></ol></div></section><section class="section" id="how-to-inject-kernel-arguments-in-the-containerfile_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.3. How to inject kernel arguments in the Containerfile</h3></div></div></div><p>
				To add kernel arguments into a container image, use a Containerfile. The following is an example:
			</p><pre class="literallayout">FROM registry.redhat.io/rhel9/rhel-bootc:latest

RUN mkdir -p /usr/lib/bootc/kargs.d
RUN cat &lt;&lt;EOF &gt;&gt; /usr/lib/bootc/kargs.d/console.toml
kargs = ["console=ttyS0,114800n8"]
match-architectures = ["x86_64"]
EOF

RUN cat &lt;&lt;EOF &gt;&gt; /usr/lib/bootc/kargs.d/01-mitigations.toml
kargs = ["mitigations=on", "systemd.unified_cgroup_hierarchy=0"]
match-architectures = ["x86_64", "aarch64"]
EOF</pre></section><section class="section" id="how-to-inject-kernel-arguments-at-installation-time_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.4. How to inject kernel arguments at installation time</h3></div></div></div><p>
				You can use <code class="literal">boot install</code> with the <code class="literal">--karg</code> to inject kernel arguments during installation time. As a result, the kernel arguments become machine-local state.
			</p><p>
				For example, to inject kernel arguments, use the following command:
			</p><pre class="literallayout"># <code class="literal">bootc install to-filesystem --karg</code></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Currently, bootc does not have an API to manipulate kernel arguments. This is only supported by <code class="literal">rpm-ostree</code> , by using the <code class="literal">rpm-ostree kargs</code> command.
				</p></div></rh-alert></section><section class="section" id="how-to-install-time-kernel-arguments-with-bootc-image-builder_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.5. How to add install-time kernel arguments with <code class="literal">bootc-image-builder</code></h3></div></div></div><p>
				The <code class="literal">bootc-image-builder</code> tool supports the <code class="literal">customizations.kernel.append</code> during install-time.
			</p><p>
				To add the kernel arguments with <code class="literal">bootc-image-builder</code>, use the following customization:
			</p><pre class="literallayout">{
  "customizations": {
    "kernel": {
      "append": "mitigations=auto,nosmt"
    }
  }
}</pre></section><section class="section" id="about-changing-kernel-arguments-post-install-with-kargs-d_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.6. About changing kernel arguments post-install with kargs.d</h3></div></div></div><p>
				The changes that you make to <code class="literal">kargs.d</code> files and include in a container build are applied after the installation, and the difference between the set of kernel arguments is applied to the current boot loader configuration. This preserves any machine-local kernel arguments. You can use any tool to edit the <code class="literal">/boot/loader/entries</code> files, which are in a standardized format. The <code class="literal">/boot</code> file has read-only access to limit the set of tools that can write to this filesystem.
			</p></section><section class="section" id="how-to-edit-kernel-arguments-in-bootc-systems_managing-kernel-arguments-in-bootc-systems"><div class="titlepage"><div><div><h3 class="title">9.7. How to edit kernel arguments in bootc systems</h3></div></div></div><p>
				To perform machine local changes, you also can edit kernel arguments on a bootc system or an`rpm-ostree` system, by using the <code class="literal">rpm-ostree kargs</code> command. The changes are made through the <code class="literal">user/lib/bootc/kargs.d</code> path, which also handles "Day 2" changes, besides the first boot changes.
			</p><p>
				The following are the options that you can use to add, modify or remove kernel arguments.
			</p><p>
				<code class="literal">rpm-ostree kargs [option]</code>
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">--append=KEY=VALUE </span></dt><dd>
							Appends a kernel argument. It is useful with, for example, <code class="literal">console=</code> that can be used multiple times. You can use an empty value for an argument.
						</dd><dt><span class="term">--replace=KEY=VALUE=NEWVALUE </span></dt><dd>
							Replaces an existing kernel argument. You can replace an argument with <code class="literal">KEY=VALUE</code> only if one value already exists for that argument.
						</dd><dt><span class="term">--delete=KEY=VALUE </span></dt><dd>
							Deletes a specific kernel key-value pair argument or an entire argument with a single key-value pair.
						</dd><dt><span class="term">--append-if-missing=KEY=VALUE </span></dt><dd>
							Appends a kernel argument. Does nothing if the key is already present.
						</dd><dt><span class="term">--delete-if-present=KEY=VALUE </span></dt><dd>
							Deletes a specific kernel key-value pair argument. Does nothing if the key is missing.
						</dd><dt><span class="term">--editor </span></dt><dd>
							Uses an editor to modify the kernel arguments.
						</dd></dl></div><p>
				For more information, check the help:
			</p><pre class="literallayout"># rpm-ostree kargs --help</pre><p>
				The following is an example:
			</p><pre class="literallayout"># rpm-ostree kargs --append debug
Staging deployment... done
Freed: 40.1 MB (pkgcache branches: 0)
Changes queued for next boot. Run "systemctl reboot" to start a reboot</pre></section></section><section class="chapter" id="managing-file-systems-in-image-mode-for-rhel"><div class="titlepage"><div><div><h2 class="title">Chapter 10. Managing file systems in image mode for RHEL</h2></div></div></div><p class="_abstract _abstract">
			Currently, image mode for RHEL uses OSTree as a backend, and enables <code class="literal">composefs</code> for storage by default. The <code class="literal">/opt</code> and <code class="literal">/usr/local</code> paths are plain directories, and not symbolic links into <code class="literal">/var</code>. This enables you to easily install third-party content in derived container images that write into <code class="literal">/opt</code> for example.
		</p><section class="section" id="physical-and-logical-root-with-sysroot_managing-file-systems-in-image-mode-for-rhel"><div class="titlepage"><div><div><h3 class="title">10.1. Physical and logical root with /sysroot</h3></div></div></div><p class="_abstract _abstract">
				When a system is fully booted, it is similar to <code class="literal">chroot</code>, that is, the operating system changes the apparent root directory for the current running process and its children. The physical host root filesystem is mounted at <code class="literal">/sysroot</code>. The <code class="literal">chroot</code> filesystem is called a deployment root.
			</p><p>
				The remaining filesystem paths are part of a deployment root which is used as a final target for the system boot. The system uses the <code class="literal">ostree=kernel</code> argument to find the deployment root.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">/usr</code></span></dt><dd>
							This filesystem keeps all operating system content in <code class="literal">/usr</code>, with directories such as <code class="literal">/bin</code> working as symbolic links to <code class="literal">/usr/bin</code>.
						</dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					<code class="literal">composefs</code> enabled <code class="literal">/usr</code> is not different from <code class="literal">/</code>. Both directories are part of the same immutable image, so you do not need to perform a full <code class="literal">UsrMove</code> with a bootc system.
				</p></div></rh-alert><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">/usr/local</code></span></dt><dd>
							The base image is configured with <code class="literal">/usr/local</code> as the default directory.
						</dd><dt><span class="term"><code class="literal">/etc</code></span></dt><dd><p class="simpara">
							The <code class="literal">/etc</code> directory contains mutable persistent state by default, but it supports enabling the <code class="literal">etc.transient config</code> option. When the directory is in mutable persistent state, it performs a 3-way merge across upgrades:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Uses the new default <code class="literal">/etc</code> as a base
								</li><li class="listitem">
									Applies the diff between current and previous <code class="literal">/etc</code> to the new <code class="literal">/etc</code> directory
								</li><li class="listitem">
									Retains locally modified files that are different from the default <code class="literal">/usr/etc</code> of the same deployment in <code class="literal">/etc</code>.
								</li></ul></div></dd></dl></div><p>
				The <code class="literal">ostree-finalize-staged.service</code> executes these tasks during shutdown time, before creating the new boot loader entry.
			</p><p>
				This happens because many components of a Linux system ship default configuration files in the <code class="literal">/etc</code> directory. Even if the default package does not ship it, by default the software only checks for config files in <code class="literal">/etc</code>. Non bootc image based update systems with no distinct versions of <code class="literal">/etc</code> are populated only during the installation time, and will not be changed at any point after installation. This causes the <code class="literal">/etc</code> system state to be influenced by the initial image version and can lead to problems to apply a change, for example, to <code class="literal">/etc/sudoers.conf</code>, and requires external intervention. For more details about file configuration, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems">Building and testing RHEL bootc images</a>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">/var</code></span></dt><dd>
							The content in the <code class="literal">/var</code> directory is persistent by default. You can also make <code class="literal">/var</code> or subdirectories mount points be persistent, whether network or <code class="literal">tmpfs</code>.
						</dd></dl></div><p>
				There is just one <code class="literal">/var</code> directory. If it is not a distinct partition, then physically the <code class="literal">/var</code> directory is a bind mount into <code class="literal">/ostree/deploy/$stateroot/var</code> and is shared across the available boot loader entries deployments.
			</p><p>
				By default, the content in <code class="literal">/var</code> acts as a volume, that is, the content from the container image is copied during the initial installation time, and is not updated thereafter.
			</p><p>
				The <code class="literal">/var</code> and the <code class="literal">/etc</code> directories are different. You can use <code class="literal">/etc</code> for relatively small configuration files, and the expected configuration files are often bound to the operating system binaries in <code class="literal">/usr</code>. The <code class="literal">/var</code> directory has arbitrarily large data, for example, system logs, databases, and by default, will not be rolled back if the operating system state is rolled back.
			</p><p>
				For example, making an update such as <code class="literal">dnf downgrade postgresql</code> should not affect the physical database in <code class="literal">/var/lib/postgres</code>. Similarly, making a <code class="literal">bootc update</code> or <code class="literal">bootc rollback</code> do not affect this application data.
			</p><p>
				Having <code class="literal">/var</code> separate also makes it work cleanly to stage new operating system updates before applying them, that is, updates are downloaded and ready, but only take effect on reboot. The same applies for Docker volume, as it decouples the application code from its data.
			</p><p>
				You can use this case if you want applications to have a pre-created directory structure, for example, <code class="literal">/var/lib/postgresql</code>. Use <code class="literal">systemd tmpfiles.d</code> for this. You can also use <code class="literal">StateDirectory=<span class="emphasis"><em>&lt;directory&gt;</em></span></code> in units.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Other directories</span></dt><dd>
							There is no support to ship content in <code class="literal">/run</code>, <code class="literal">/proc</code> or other API Filesystems in container images. Apart from that, other top level directories such as <code class="literal">/usr</code>, and <code class="literal">/opt</code>, are lifecycled with the container image.
						</dd><dt><span class="term"><code class="literal">/opt</code></span></dt><dd>
							With <code class="literal">bootc</code> using <code class="literal">composefs</code>, the <code class="literal">/opt</code> directory is read-only, alongside other top levels directories such as <code class="literal">/usr</code>.
						</dd></dl></div><p>
				When a software needs to write to its own directory in <code class="literal">/opt/exampleapp</code>, a common pattern is to use a symbolic link to redirect to, for example, <code class="literal">/var</code> for operations such as log files:
			</p><pre class="literallayout">RUN rmdir /opt/exampleapp/logs &amp;&amp; ln -sr /var/log/exampleapp /opt/exampleapp/logs</pre><p>
				Optionally, you can configure the systemd unit to launch the service to do these mounts dynamically. For example:
			</p><pre class="literallayout">BindPaths=/var/log/exampleapp:/opt/exampleapp/logs</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Enabling transient root</span></dt><dd>
							To enable a fully transient writable <code class="literal">rootfs</code> by default, set the following option in <code class="literal">prepare-root.conf</code>.
						</dd></dl></div><pre class="literallayout">[root]
transient = true</pre><p>
				This enables a software to transiently writes to <code class="literal">/opt</code>, with symlinks to <code class="literal">/var</code> for content that must persist.
			</p></section><section class="section" id="version-selection-and-bootup_managing-file-systems-in-image-mode-for-rhel"><div class="titlepage"><div><div><h3 class="title">10.2. Version selection and bootup</h3></div></div></div><p class="_abstract _abstract">
				Image mode for RHEL uses GRUB by default, with exception to <code class="literal">s390x</code> architectures. Each version of image mode for RHEL currently available on a system has a menu entry.
			</p><p>
				The menu entry references an OSTree deployment which consists of a Linux kernel, an <code class="literal">initramfs</code> and a hash linking to an OSTree commit, that you can pass by using the <code class="literal">ostree=kernel</code> argument.
			</p><p>
				During bootup, OSTree reads the kernel argument to determine which deployment to use as the root filesystem. Each update or change to the system, such as package installation, addition of kernel arguments, creates a new deployment.
			</p><p>
				This enables rolling back to a previous deployment if the update causes problems.
			</p></section></section><section class="chapter" id="managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Appendix: Managing users, groups, SSH keys, and secrets in image mode for RHEL</h2></div></div></div><p class="_abstract _abstract">
			Learn more about users, groups, SSH keys, and secrets management in image mode for RHEL.
		</p><section class="section" id="users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel"><div class="titlepage"><div><div><h3 class="title">11.1. Users and groups configuration</h3></div></div></div><p class="_abstract _abstract">
				Image mode for RHEL is a generic operating system update and configuration mechanism. You cannot use it to configure users or groups. The only exception is the <code class="literal">bootc install</code> command that has the <code class="literal">--root-ssh-authorized-keys</code> option.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Users and groups configuration for generic base images</span></dt><dd>
							Usually, the distribution base images do not have any configuration. Do not encrypt passwords and SSH keys with publicly-available private keys in generic images because of security risks.
						</dd><dt><span class="term">Injecting SSH keys through <code class="literal">systemd</code> credentials</span></dt><dd>
							You can use <code class="literal">systemd</code> to inject a root password or SSH <code class="literal">authorized_keys</code> file in some environments. For example, use System Management BIOS (SMBIOS) to inject SSH keys system firmware. You can configure this in local virtualization environments, such as <code class="literal">qemu</code>.
						</dd><dt><span class="term">Injecting users and SSH keys by using <code class="literal">cloud-init</code></span></dt><dd>
							Many Infrastructure as a service (IaaS) and virtualization systems use metadata servers that are commonly processed by software such as <code class="literal">cloud-init</code> or <code class="literal">ignition</code>. See <a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">AWS instance metadata</a>. The base image you are using might include <code class="literal">cloud-init</code> or Ignition, or you can install it in your own derived images. In this model, the SSH configuration is managed outside of the bootc image.
						</dd><dt><span class="term">Adding users and credentials by using container or unit custom logic</span></dt><dd>
							Systems such as <code class="literal">cloud-init</code> are not privileged. You can inject any logic you want to manage credentials in the way you want to launch a container image, for example, by using a <code class="literal">systemd</code> unit. To manage the credentials, you can use a custom network-hosted source, for example, <a class="link" href="https://www.freeipa.org/page/Main_Page">FreeIPA</a>.
						</dd><dt><span class="term">Adding users and credentials statically in the container build</span></dt><dd><p class="simpara">
							In package-oriented systems, you can use the derived build to inject users and credentials by using the following command:
						</p><pre class="literallayout"><code class="literal">RUN useradd someuser</code></pre><p class="simpara">
							You can find issues in the default <code class="literal">shadow-utils</code> implementation of <code class="literal">useradd</code>: Users and groups IDs are allocated dynamically, and this can cause drift.
						</p></dd><dt><span class="term">User and group home directories and <code class="literal">/var</code> directory</span></dt><dd><p class="simpara">
							For systems configured with persistent <code class="literal">/home → /var/home</code>, any changes to <code class="literal">/var</code> made in the container image after initial installation will not be applied on subsequent updates.
						</p><p class="simpara">
							For example, if you inject <code class="literal">/var/home/someuser/.ssh/authorized_keys</code> into a container build, existing systems do not get the updated <code class="literal">authorized_keys</code> file.
						</p></dd><dt><span class="term">Using DynamicUser=yes for <code class="literal">systemd</code> units</span></dt><dd><p class="simpara">
							Use the <code class="literal">systemd</code> <code class="literal">DynamicUser=yes</code> option where possible for system users.
						</p><p class="simpara">
							This is significantly better than the pattern of allocating users or groups at package install time, because it avoids potential UID or GID drift.
						</p></dd><dt><span class="term">Using <code class="literal">systemd</code>-sysusers</span></dt><dd><p class="simpara">
							Use <code class="literal">systemd</code>-sysusers, for example, in your derived build. For more information, see the <code class="literal">systemd</code> <a class="link" href="https://www.freedesktop.org/software/systemd/man/latest/systemd-sysusers.html">-sysusers</a> documentation.
						</p><pre class="literallayout">COPY mycustom-user.conf /usr/lib/sysusers.d</pre><p class="simpara">
							The <code class="literal">sysusers</code> tool makes changes to the traditional <code class="literal">/etc/passwd</code> file as necessary during boot time. If <code class="literal">/etc</code> is persistent, this can avoid <code class="literal">UID</code> or <code class="literal">GID</code> drift. It means that the <code class="literal">UID</code> or <code class="literal">GID</code> allocation depends on how a specific machine was upgraded over time.
						</p></dd><dt><span class="term">Using <code class="literal">systemd</code> JSON user records</span></dt><dd>
							See <a class="link" href="https://systemd.io/USER_RECORD/">JSON user records</a> <code class="literal">systemd</code> documentation. Unlike <code class="literal">sysusers</code>, the canonical state for these users lives in <code class="literal">/usr</code>. If a subsequent image drops a user record, then it also vanishes from the system.
						</dd><dt><span class="term">Using <code class="literal">nss-altfiles</code></span></dt><dd><p class="simpara">
							With <code class="literal">nss-altfiles</code>, you can remove the <code class="literal">systemd</code> JSON user records. It splits system users into <code class="literal">/usr/lib/passwd</code> and <code class="literal">/usr/lib/group</code>, aligning with the way the OSTree project handles the 3 way merge for <code class="literal">/etc</code> as it relates to <code class="literal">/etc/passwd</code>. Currently, if the <code class="literal">/etc/passwd</code> file is modified in any way on the local system, then subsequent changes to <code class="literal">/etc/passwd</code> in the container image are not applied.
						</p><p class="simpara">
							Base images built by <code class="literal">rpm-ostree</code> have <code class="literal">nns-altfiles</code> enabled by default.
						</p><p class="simpara">
							Also, base images have a system users pre-allocated and managed by the NSS file to avoid UID or GID drift.
						</p><p class="simpara">
							In a derived container build, you can also append users to <code class="literal">/usr/lib/passwd</code>, for example. Use <code class="literal">sysusers.d</code> or <code class="literal">DynamicUser=yes</code>.
						</p></dd><dt><span class="term">Machine-local state for users</span></dt><dd><p class="simpara">
							The filesystem layout depends on the base image.
						</p><p class="simpara">
							By default, the user data is stored in both <code class="literal">/etc</code>, <code class="literal">/etc/passwd</code>, <code class="literal">/etc/shadow</code> and <code class="literal">groups</code>, and <code class="literal">/home</code>, depending on the base image. However, the generic base images have to both be machine-local persistent state. In this model <code class="literal">/home</code> is a symlink to <code class="literal">/var/home/<span class="emphasis"><em>user</em></span></code>.
						</p></dd><dt><span class="term">Injecting users and SSH keys at system provisioning time</span></dt><dd><p class="simpara">
							For base images where <code class="literal">/etc</code> and <code class="literal">/var</code> are configured to persist by default, you can inject users by using installers such as Anaconda or Kickstart.
						</p><p class="simpara">
							Typically, generic installers are designed for one time bootstrap. Then, the configuration becomes a mutable machine-local state that you can change in Day 2 operations, by using some other mechanism.
						</p><p class="simpara">
							You can use the Anaconda installer to set the initial password. However, changing this initial password requires a different in-system tool, such as <code class="literal">passwd</code>.
						</p><p class="simpara">
							These flows work equivalently in a <code class="literal">bootc-compatible</code> system, to support users directly installing generic base images, without requiring changes to the different in-system tool.
						</p></dd><dt><span class="term">Transient home directories</span></dt><dd><p class="simpara">
							Many operating system deployments minimize persistent, mutable, and executable state. This can damage user home directories.
						</p><p class="simpara">
							The <code class="literal">/home</code> directory can be set as <code class="literal">tmpfs</code>, to ensure that user data is cleared across reboots. This approach works especially well when combined with a transient <code class="literal">/etc</code> directory.
						</p><p class="simpara">
							To set up the user’s home directory to, for example, inject SSH <code class="literal">authorized_keys</code> or other files, use the <code class="literal">systemd</code> <code class="literal">tmpfiles.d</code> snippets:
						</p><pre class="literallayout">f~ /home/<span class="emphasis"><em>user</em></span>/.ssh/<span class="emphasis"><em>authorized_keys</em></span> 600 <span class="emphasis"><em>user</em></span> <span class="emphasis"><em>user</em></span> - &lt;base64 encoded data&gt;</pre><p class="simpara">
							SSH is embedded in the image as: <code class="literal">/usr/lib/tmpfiles.d/&lt;username-keys.conf</code>. Another example is a service embedded in the image that can fetch keys from the network and write them. This is the pattern used by <code class="literal">cloud-init</code>.
						</p></dd><dt><span class="term">UID and GID drift</span></dt><dd>
							The <code class="literal">/etc/passwd</code> and similar files are a mapping between names and numeric identifiers. When the mapping is dynamic and mixed with "stateless" container image builds, it can cause issues. Each container image build might result in the UID changing due to RPM installation ordering or other reasons. This can be a problem if that user maintains a persistent state. To handle such cases, convert it to use <code class="literal">sysusers.d</code> or use <code class="literal">DynamicUser=yes</code>.
						</dd></dl></div></section><section class="section" id="injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel"><div class="titlepage"><div><div><h3 class="title">11.2. Injecting secrets in image mode for RHEL</h3></div></div></div><p class="_abstract _abstract">
				Image mode for RHEL does not have an opinionated mechanism for secrets. You can inject container pull secrets in your system for some cases, for example:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For <code class="literal">bootc</code> to fetch updates from a registry that requires authentication, you must include a pull secret in a file. In the following example, the <code class="literal">creds</code> secret contains the registry pull secret.
					</p><pre class="literallayout">FROM registry.redhat.io/rhel9/bootc-image-builder:latest
COPY containers-auth.conf /usr/lib/tmpfiles.d/link-podman-credentials.conf
RUN --mount=type=secret,id=creds,required=true cp /run/secrets/creds /usr/lib/container-auth.json &amp;&amp; \
    chmod 0600 /usr/lib/container-auth.json &amp;&amp; \
    ln -sr /usr/lib/container-auth.json /etc/ostree/auth.json</pre><p class="simpara">
						To build it, run <code class="literal">podman build --secret id=creds,src=$HOME/.docker/config.json</code>. Use a single pull secret for <code class="literal">bootc</code> and Podman by using a symlink to both locations to a common persistent file embedded in the container image, for example <code class="literal">/usr/lib/container-auth.json</code>.
					</p></li><li class="listitem"><p class="simpara">
						For Podman to fetch container images, include a pull secret to <code class="literal">/etc/containers/auth.json</code>. With this configuration, the two stacks share the <code class="literal">/usr/lib/container-auth.json</code> file.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Injecting secrets by embedding them in a container build</span></dt><dd>
									You can include secrets in the container image if the registry server is suitably protected. In some cases, embedding only bootstrap secrets into the container image is a viable pattern, especially alongside a mechanism for having a machine authenticate to a cluster. In this pattern, a provisioning tool, whether run as part of the host system or a container image, uses the bootstrap secret to inject or update other secrets, such as SSH keys, certificates, among others.
								</dd><dt><span class="term">Injecting secrets by using cloud metadata</span></dt><dd>
									Most production Infrastructure as a Service (IaaS) systems support a metadata server or equivalent which can securely host secrets, particularly bootstrap secrets. Your container image can include tools such as <code class="literal">cloud-init</code> or <code class="literal">ignition</code> to fetch these secrets.
								</dd><dt><span class="term">Injecting secrets by embedding them in disk images</span></dt><dd>
									You can embed <code class="literal">bootstrap secrets</code> only in disk images. For example, when you generate a cloud disk image from an input container image, such as AMI or OpenStack, the disk image can contain secrets that are effectively machine-local state. Rotating them requires an additional management tool or refreshing the disk images.
								</dd><dt><span class="term">Injecting secrets by using bare metal installers</span></dt><dd>
									Installer tools usually support injecting configuration through secrets.
								</dd><dt><span class="term">Injecting secrets through <code class="literal">systemd</code> credentials</span></dt><dd>
									The <code class="literal">systemd</code> project has a credential concept for securely acquiring and passing credential data to systems and services, which applies in some deployment methodologies. See the <a class="link" href="https://systemd.io/CREDENTIALS/">systemd credentials</a> documentation for more details.
								</dd></dl></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://github.com/redhat-cop/rhel-bootc-examples">Example bootc images</a>
					</li></ul></div></section><section class="section" id="configuring-container-pull-secrets_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel"><div class="titlepage"><div><div><h3 class="title">11.3. Configuring container pull secrets</h3></div></div></div><p>
				To be able to fetch container images, you must configure a host system with a "pull secret", which includes the host updates itself. See the appendix about <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel">Injecting secrets in image mode for RHEL</a> documentation for more details.
			</p><p>
				You can configure the container pull secrets to an image already built. If you use an external installer such as Anaconda for bare metal, or <code class="literal">bootc-image-builder</code>, you must configure the systems with any applicable pull secrets.
			</p><p>
				The host bootc updates write the configuration to the <code class="literal">/etc/ostree/auth.json</code> file, which is shared with <code class="literal">rpm-ostree</code>.
			</p><p>
				Podman does not have system wide credentials. Podman accepts the <code class="literal">containers-auth</code> locations that are underneath the following directories:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">/run</code>: The content of this directory vanishes on reboot, which is not desired.
					</li><li class="listitem">
						<code class="literal">/root</code>: Part of root’s home directory, which is local mutable state by default.
					</li></ul></div><p>
				To unify <code class="literal">bootc</code> and Podman credentials, use a single default global pull secret for both <code class="literal">bootc</code> and Podman. The following container build is an example to unify the <code class="literal">bootc</code> and the Podman credentials. The example expects a secret named <code class="literal">creds</code> to contain the registry pull secret to build.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						TBD
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Create a symbolic link between <code class="literal">bootc</code> and Podman to use a single pull secret. By creating the symbolic link, you ensure that both locations are present to a common persistent file embedded in the container image.
					</li><li class="listitem"><p class="simpara">
						Create the <code class="literal">/usr/lib/container-auth.json</code> file.
					</p><pre class="literallayout">FROM quay.io/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;image&gt;</em></span>:_&lt;tag&gt;_
COPY containers-auth.conf /usr/lib/tmpfiles.d/link-podman-credentials.conf
RUN --mount=type=secret,id=creds,required=true cp /run/secrets/creds /usr/lib/container-auth.json &amp;&amp; \
    chmod 0600 /usr/lib/container-auth.json &amp;&amp; \
    ln -sr /usr/lib/container-auth.json /etc/ostree/auth.json</pre><p class="simpara">
						When you run the Containerfile, the following actions happen:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The Containerfile makes <code class="literal">/run/containers/0/auth.json</code> a transient runtime file.
							</li><li class="listitem">
								It creates a symbolic link to the <code class="literal">/usr/lib/container-auth.json</code>.
							</li><li class="listitem">
								It also creates a persistent file, which is also symbolic linked from <code class="literal">/etc/ostree/auth.json</code>.
							</li></ul></div></li></ol></div></section><section class="section" id="injecting-pull-secrets-for-registries-and-disabling-tls_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel"><div class="titlepage"><div><div><h3 class="title">11.4. Injecting pull secrets for registries and disabling TLS</h3></div></div></div><p>
				You can configure container images, pull secrets, and disable TLS for a registry within a system. These actions enable containerized environments to pull images from private or insecure registries.
			</p><p>
				You can include container pull secrets and other configuration to access a registry inside the base image. However, when installing by using Anaconda, the installation environment might need a duplicate copy of "bootstrap" configuration to access the targeted registry when fetching over the network.
			</p><p>
				To perform arbitrary changes to the installation environment before the target bootc container image is fetched, you can use the Anaconda <code class="literal">%pre</code> command.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure a pull secret:
					</p><pre class="literallayout">%pre
mkdir -p /etc/ostree
cat &gt; /etc/ostree/auth.json &lt;&lt; 'EOF'
{
        "auths": {
                "quay.io": {
                        "auth": "&lt;your secret here&gt;"
                }
        }
}
EOF
%end</pre><p class="simpara">
						With this configuration, the system pulls images from <code class="literal">quay.io</code> using the provided authentication credentials, which are stored in <code class="literal">/etc/ostree/auth.json</code>.
					</p></li><li class="listitem"><p class="simpara">
						Disable TLS for an insecure registry:
					</p><pre class="literallayout">%pre
mkdir -p /etc/containers/registries.conf.d/
cat &gt; /etc/containers/registries.conf.d/local-registry.conf &lt;&lt; 'EOF'

[[registry]]
location="[IP_Address]:5000"
insecure=true
EOF
%end</pre><p class="simpara">
						With this configuration, the system pulls container images from a registry that is not secured with TLS. You can use it in development or internal networks.
					</p></li></ol></div><p>
				You can also use <code class="literal">%pre</code> to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Fetch data from the network by using binaries included in the installation environment, such as <code class="literal">curl</code>.
					</li><li class="listitem">
						Inject trusted certificate authorities into the installation environment <code class="literal">/etc/pki/ca-trust/source/anchors</code> by using the <code class="literal">update-ca-trust</code> command.
					</li></ul></div><p>
				You can configure insecure registries similarly by modifying the <code class="literal">/etc/containers</code> directory.
			</p></section></section><section class="chapter" id="system-configuration"><div class="titlepage"><div><div><h2 class="title">Chapter 12. Appendix: System configuration</h2></div></div></div><section class="section" id="transient-runtime-reconfiguration_system-configuration"><div class="titlepage"><div><div><h3 class="title">12.1. Transient runtime reconfiguration</h3></div></div></div><p>
				You can perform a dynamic reconfiguration in the base image configuration. For example, you can run the <code class="literal">firewall-cmd --permanent</code> command to achieve persistent changes across a reboot.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					The <code class="literal">/etc</code> directory is persistent by default. If you perform changes made by using tools, for example <code class="literal">firewall-cmd --permanent</code>, the contents of the <code class="literal">/etc</code> on the system can differ from the one described in the container image.
				</p></div></rh-alert><p>
				In the default configuration, first make the changes in the base image, then queue the changes without restarting running systems, and then simultaneously write to apply the changes to existing systems only in memory.
			</p><p>
				You can configure the <code class="literal">/etc</code> directory to be transient by using bind mounts. In this case, the <code class="literal">etc</code> directory is a part of the machine’s local root filesystem. For example, if you inject static IP addresses by using Anaconda kickstarts, they persist across upgrades.
			</p><p>
				A 3-way merge is applied across upgrades and each "deployment" has its own copy of <code class="literal">/etc</code>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">The <code class="literal">/run</code> directory</span></dt><dd>
							The <code class="literal">/run</code> directory is an API filesystem that is defined to be deleted when the system is restarted. Use the <code class="literal">/run</code> directory for transient files.
						</dd><dt><span class="term">Dynamic reconfiguration models</span></dt><dd>
							In the Pull model, you can include code directly embedded in your base image or a privileged container that contacts the remote network server for configuration, and subsequently launch additional container images, by using the Podman API.
						</dd></dl></div><p>
				In the Push model, some workloads are implemented by tooling such as Ansible.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">systemd</span></dt><dd>
							You can use systemd units for dynamic transient reconfiguration by writing to <code class="literal">/run/systemd</code> directory. For example, the <code class="literal">systemctl edit --runtime myservice.service</code> dynamically changes the configuration of the <code class="literal">myservice.service</code> unit, without persisting the changes.
						</dd><dt><span class="term">NetworkManager</span></dt><dd>
							Use a <code class="literal">/run/NetworkManager/conf.d</code> directory for applying temporary network configuration. Use the <code class="literal">nmcli connection modify --temporary</code> command to write changes only in memory. Without the <code class="literal">--temporary</code> option, the command writes persistent changes.
						</dd><dt><span class="term">podman</span></dt><dd>
							Use the <code class="literal">podman run --rm</code> command to automatically remove the container when it exits. Without the <code class="literal">--rm</code> option, the <code class="literal">podman run</code> command creates a container that persists across system reboots.
						</dd></dl></div></section><section class="section" id="using-dnf_system-configuration"><div class="titlepage"><div><div><h3 class="title">12.2. Using dnf</h3></div></div></div><p>
				The <code class="literal">rhel9/rhel-bootc</code> container image includes <code class="literal">dnf</code>. There are several use cases:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Using <code class="literal">dnf</code> as a part of a container build</span></dt><dd>
							You can use the <code class="literal">RUN dnf install</code> directive in the Containerfile.
						</dd><dt><span class="term">Using <code class="literal">dnf</code> at runtime</span></dt><dd><!--Empty--></dd></dl></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					The functionality depends on the <code class="literal">dnf</code> version. You might get an error: <code class="literal">error: can’t create transaction lock on /usr/share/rpm/.rpm.lock (Read-only file system)</code>.
				</p></div></rh-alert><p>
				You can use the <code class="literal">bootc-usr-overlay</code> command to create a writable overlay filesystem for <code class="literal">/usr</code> directory. The <code class="literal">dnf install</code> writes to this overlay. You can use this feature for installing debugging tools. Note that changes will be lost on reboot.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Configuring storage</span></dt><dd><p class="simpara">
							The supported storage technologies are the following:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">xfs</code>/<code class="literal">ext4</code>
								</li><li class="listitem">
									Logical volume management (LVM)
								</li><li class="listitem">
									Linux Unified Key Setup (LUKS)
								</li></ul></div></dd></dl></div><p>
				You can add other storage packages to the host system.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Storage with <code class="literal">bootc-image-builder</code></strong></span> You can use the bootc-image-builder tool to create a disk image. The available configuration for partitioning and layout is relatively fixed. The default filesystem type is derived from the container image’s bootc install configuration.
					</li></ul></div><p>
				<span class="strong strong"><strong>Storage with bootc install</strong></span> You can use the <code class="literal">bootc install to-disk</code> command for flat storage configurations and <code class="literal">bootc install to-filesytem</code> command for more advanced installations. For more information see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/{ProductNumberLink]/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images">Advanced installation with <code class="literal">to-filesystem</code></a>.
			</p></section><section class="section" id="setting-a-hostname_system-configuration"><div class="titlepage"><div><div><h3 class="title">12.3. Setting a hostname</h3></div></div></div><p>
				To set a custom hostname for your system, modify the <code class="literal">/etc/hostname</code> file. You can set the hostname by using Anaconda, or with a privileged container.
			</p><p>
				Once you boot a system, you can verify the hostname by using the <code class="literal">hostnamectl</code> command.
			</p></section><section class="section" id="proxied-internet-access_system-configuration"><div class="titlepage"><div><div><h3 class="title">12.4. Proxied Internet Access</h3></div></div></div><p>
				If you are deploying to an environment requiring internet access by using a proxy, you need to configure services so that they can access resources as intended.
			</p><p>
				This is done by defining a single file with required environment variables in your configuration, and to reference this by using <code class="literal">systemd</code> drop-in unit files for all such services.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Defining common proxy environment variables</span></dt><dd>
							This common file has to be subsequently referenced explicitly by each service that requires internet access.
						</dd></dl></div><pre class="screen"># /etc/example-proxy.env
https_proxy="http://example.com:8080"
all_proxy="http://example.com:8080"
http_proxy="http://example.com:8080"
HTTP_PROXY="http://example.com:8080"
HTTPS_PROXY="http://example.com:8080"
no_proxy="*.example.com,127.0.0.1,0.0.0.0,localhost"</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Defining drop-in units for core services</span></dt><dd>
							The <code class="literal">bootc</code> and <code class="literal">podman</code> tools commonly need proxy configuration. At the current time, <code class="literal">bootc</code> does not always run as a <code class="literal">systemd</code> unit.
						</dd></dl></div><pre class="screen"># /usr/lib/systemd/system/bootc-fetch-apply-updates.service.d/99-proxy.conf
[Service]
EnvironmentFile=/etc/example-proxy.env</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Defining proxy use for podman <code class="literal">systemd</code> units</span></dt><dd><p class="simpara">
							Using the Podman <code class="literal">systemd</code> configuration, similarly add <code class="literal">EnvironmentFile=/etc/example-proxy.env</code>.
						</p><p class="simpara">
							You can set the configuration for proxy and environment settings of <code class="literal">podman</code> and containers in the <code class="literal">/etc/containers/containers.conf</code> configuration file as a root user or in the <code class="literal">$HOME/.config/containers/containers.conf</code> configuration file as a non-root user.
						</p></dd></dl></div></section></section><section class="chapter" id="getting-the-source-code-of-container-images"><div class="titlepage"><div><div><h2 class="title">Chapter 13. Appendix: Getting the source code of container images</h2></div></div></div><p>
			You can find the source code for bootc image in the <a class="link" href="https://catalog.redhat.com/search">Red Hat Ecosystem Catalog</a>.
		</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Access the <a class="link" href="https://catalog.redhat.com/search">Red Hat Ecosystem Catalog</a> and search for <code class="literal">rhel-bootc</code>.
				</li><li class="listitem">
					In the <span class="strong strong"><strong>Get this image</strong></span> tab, click <span class="strong strong"><strong>Get the source</strong></span> and follow the instructions.
				</li><li class="listitem"><p class="simpara">
					After you extract the content, the input RPM package list and other content resources are available in the <code class="literal">extra_src_dir</code> directory.
				</p><p class="simpara">
					The .tar ﬁles are snapshots of the input git repository, and contain YAML files with the package lists.
				</p></li></ol></div></section><section class="chapter" id="contributing-to-the-upstream-projects"><div class="titlepage"><div><div><h2 class="title">Chapter 14. Appendix: Contributing to the upstream projects</h2></div></div></div><p>
			You can contribute to the following upstream bootc projects:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					The upstream git repository is in <a class="link" href="https://gitlab.com/redhat/centos-stream/containers/bootc">CentOS Stream</a>.
				</li><li class="listitem">
					The CentOS Stream sources primarily track the <a class="link" href="https://docs.fedoraproject.org/en-US/bootc">Fedora upstream project</a>.
				</li></ul></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm139697802078448"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":505,"once":509,"_errors":510,"serverRendered":14,"path":512},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":9,"Pn02PlJOas":433,"rFVLKcOK8e":504},[5,6,7,8],"ko-kr","en-us","ja-jp","zh-cn",{"name":10,"html":11,"type":-1,"toc":12,"breadcrumbs":350,"error":17,"title":358,"productName":352,"productVersions":367,"pagination":396,"redirect":414,"canonicalLinks":415,"openShiftProducts":417,"tocFromVolume":-1,"jumpLinks":432},"Using image mode for RHEL to build, deploy, and manage operating systems","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm139697797544176\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Using RHEL bootc images on Red Hat Enterprise Linux 9\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm139697802078448\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tRHEL bootc images enable you to build, deploy, and manage the operating system as if it is any other container. You can converge on a single container-native workflow to manage everything from your applications to the underlying OS.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Introducing image mode for RHEL\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tUse image mode for RHEL to build, test, and deploy operating systems by using the same tools and techniques as application containers. Image mode for RHEL is available by using the \u003Ccode class=\"literal\">registry.redhat.io/rhel9/rhel-bootc\u003C/code> bootc image. The RHEL bootc images differ from the existing application Universal Base Images (UBI) in that they contain additional components necessary to boot that were traditionally excluded, such as, kernel, initrd, boot loader, firmware, among others.\n\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm139697806058816\">\u003Cp class=\"title\">\u003Cstrong>Figure 1.1. Building, deploying, and managing operating system by using image mode for RHEL\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/88daa47b636549dac902a1e006eb491b/639_RHEL_Bootable_Container_Bifrost_0524_1.png\" alt=\"639 RHEL Bootable Container Bifrost 0524 1\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tRed Hat provides bootc image for the following computer architectures:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAMD and Intel 64-bit architectures (x86-64-v2)\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tThe 64-bit ARM architecture (ARMv8.0-A)\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tThe benefits of image mode for RHEL occur across the lifecycle of a system. The following list contains some of the most important advantages:\n\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Container images are easier to understand and use than other image formats and are fast to build\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tContainerfiles, also known as Dockerfiles, provide a straightforward approach to defining the content and build instructions for an image. Container images are often significantly faster to build and iterate on compared to other image creation tools.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Consolidate process, infrastructure, and release artifacts\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tAs you distribute applications as containers, you can use the same infrastructure and processes to manage the underlying operating system.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Immutable updates\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tJust as containerized applications are updated in an immutable way, with image mode for RHEL, the operating system is also. You can boot into updates and roll back when needed in the same way that you use \u003Ccode class=\"literal\">rpm-ostree\u003C/code> systems.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThe use of \u003Ccode class=\"literal\">rpm-ostree\u003C/code> to make changes, or install content, is not supported.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Portability across hybrid cloud environments\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tYou can use bootc images across physical, virtualized, cloud, and edge environments.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\tAlthough containers provide the foundation to build, transport, and run images, it is important to understand that after you deploy these bootc images, either by using an installation mechanism, or you convert them to a disk image, the system does not run as a container.\n\t\t\u003C/p>\u003Cp>\n\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>The supported image types\u003C/strong>\u003C/span> are the following:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tContainer image formats: OCI\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tDisk image formats:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tISO\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tQEMU copy-on-write (QCOW2), Raw\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAmazon Machine Image (AMI)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tVirtual Machine Image (VMI)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tVirtual Machine Disk (VMDK)\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tContainers help streamline the lifecycle of a RHEL system by offering the following possibilities:\n\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Building container images\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tYou can configure your operating system at a build time by modifying the Containerfile. Image mode for RHEL is available by using the \u003Ccode class=\"literal\">registry.redhat.io/rhel9/rhel-bootc\u003C/code> container image. You can use Podman, OpenShift Container Platform, or other standard container build tools to manage your containers and container images. You can automate the build process by using CI/CD pipelines.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Versioning, mirroring, and testing container images\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tYou can version, mirror, introspect, and sign your derived bootc image by using any container tools such as Podman or OpenShift Container Platform.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Deploying container images to the target environment\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have several options on how to deploy your image:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Anaconda\u003C/strong>\u003C/span>: is the installation program used by RHEL. You can deploy all image types to the target environment by using Anaconda and Kickstart to automate the installation process.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">bootc-image-builder\u003C/code>\u003C/strong>\u003C/span>: is a containerized tool that converts the container image to different types of disk images, and optionally uploads them to an image registry or object storage.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">bootc\u003C/code>\u003C/strong>\u003C/span>: is a tool responsible for fetching container images from a container registry and installing them to a system, updating the operating system, or switching from an existing ostree-based system. The RHEL bootc image contains the \u003Ccode class=\"literal\">bootc\u003C/code> utility by default and works with all image types. However, remember that the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> is not supported and must not be used to make changes.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Updating your operating system\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tThe system supports in-place transactional updates with rollback after deployment. Automatic updates are on by default. A systemd service unit and systemd timer unit files check the container registry for updates and apply them to the system. As the updates are transactional, a reboot is required. For environments that require more sophisticated or scheduled rollouts, disable auto updates and use the \u003Ccode class=\"literal\">bootc\u003C/code> utility to update your operating system.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\tRHEL has two deployment modes. Both provide the same stability, reliability, and performance during deployment. See their differences:\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Package mode\u003C/strong>\u003C/span>: You can build package-based images and OSTree images by using RHEL image builder, and you can manage the package mode images by using \u003Ccode class=\"literal\">composer-cli\u003C/code> or web console. The operating system uses RPM packages and is updated by using the \u003Ccode class=\"literal\">dnf\u003C/code> package manager. The root filesystem is mutable. However, the operating system cannot be managed as a containerized application. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index\">Composing a customized RHEL system image\u003C/a> product documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Image mode\u003C/strong>\u003C/span>: a container-native approach to build, deploy, and manage RHEL. The same RPM packages are delivered as a base image and updates are deployed as a container image. The root filesystem is immutable by default, except for \u003Ccode class=\"literal\">/etc\u003C/code> and \u003Ccode class=\"literal\">/var\u003C/code>, with most content coming from the container image.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\tYou can choose to use either the \u003Cspan class=\"strong strong\">\u003Cstrong>Image mode\u003C/strong>\u003C/span> or the \u003Cspan class=\"strong strong\">\u003Cstrong>Package mode\u003C/strong>\u003C/span> deployment to build, test, and share your operating system. \u003Cspan class=\"strong strong\">\u003Cstrong>Image mode\u003C/strong>\u003C/span> additionally enables you to manage your operating system in the same way as any other containerized application.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"prerequisites\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. Prerequisites\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a subscribed RHEL 9 system. For more information, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/subscription_central/1-latest/html/getting_started_with_rhel_system_registration/index\">Getting Started with RHEL System Registration documentation\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a container registry. You can create your registry locally or create a free account on the Quay.io service. To create the Quay.io account, see \u003Ca class=\"link\" href=\"https://quay.io/signin\">Red Hat Quay.io\u003C/a> page.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a Red Hat account with either production or developer subscriptions. No cost developer subscriptions are available on the \u003Ca class=\"link\" href=\"https://developers.redhat.com/products/rhel/overview\">Red Hat Enterprise Linux Overview\u003C/a> page.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have authenticated to registry.redhat.io. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/RegistryAuthentication\">Red Hat Container Registry Authentication\u003C/a> article.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://developers.redhat.com/articles/2024/05/07/image-mode-rhel-bootable-containers\">Introducing image mode for RHEL and bootc in Podman Desktop\u003C/a> quick start guide\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://developers.redhat.com/articles/2024/05/07/image-mode-rhel-quick-start-ai-inference\">Image mode for Red Hat Enterprise Linux quick start: AI inference\u003C/a> quick start guide\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://developers.redhat.com/articles/2024/04/24/getting-started-podman-ai-lab\">Getting Started with Podman AI Lab\u003C/a> blog article\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/index\">Customizing Anaconda\u003C/a> product documentation\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automatically_installing_rhel/index\">Automatically installing RHEL\u003C/a> product documentation (Kickstart)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index\">Composing a customized RHEL system image\u003C/a> product documentation\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/index\">Composing, installing, and managing RHEL for Edge images\u003C/a> product documentation\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Building and testing RHEL bootc images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThe following procedures use Podman to build and test your container image. You can also use other tools, for example, OpenShift Container Platform. For more examples of configuring RHEL systems by using containers, see the \u003Ca class=\"link\" href=\"https://github.com/redhat-cop/rhel-bootc-examples\">rhel-bootc-examples\u003C/a> repository.\n\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm139697802323168\">\u003Cp class=\"title\">\u003Cstrong>Figure 2.1. Building an image by using instructions from a Containerfile, testing the container, pushing an image to a registry, and sharing it with others\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/edbf5b532599d31490973ad78e84fb6b/639_RHEL_Bootable_Container_Bifrost_0524_2.png\" alt=\"639 RHEL Bootable Container Bifrost 0524 2\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tA general \u003Ccode class=\"literal\">Containerfile\u003C/code> structure is the following:\n\t\t\u003C/p>\u003Cpre class=\"screen\">FROM registry.redhat.io/rhel9/rhel-bootc:latest\n\nRUN dnf -y install [software] [dependencies] &amp;&amp; dnf clean all\n\nADD [application]\nADD [configuration files]\n\nRUN [config scripts]\u003C/pre>\u003Cp>\n\t\t\tThe available commands that are usable inside a \u003Ccode class=\"literal\">Containerfile\u003C/code> and a \u003Ccode class=\"literal\">Dockerfile\u003C/code> are equivalent.\n\t\t\u003C/p>\u003Cp>\n\t\t\tHowever, the following commands in a \u003Ccode class=\"literal\">Containerfile\u003C/code> are ignored when the \u003Ccode class=\"literal\">rhel-9-bootc\u003C/code> image is installed to a system:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">ENTRYPOINT\u003C/code> and \u003Ccode class=\"literal\">CMD\u003C/code> (OCI: \u003Ccode class=\"literal\">Entrypoint/Cmd\u003C/code>): you can set \u003Ccode class=\"literal\">CMD /sbin/init\u003C/code> instead.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">ENV\u003C/code> (OCI: \u003Ccode class=\"literal\">Env\u003C/code>): change the \u003Ccode class=\"literal\">systemd\u003C/code> configuration to configure the global system environment.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">EXPOSE\u003C/code> (OCI: \u003Ccode class=\"literal\">exposedPorts\u003C/code>): it is independent of how the system firewall and network function at runtime.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">USER\u003C/code> (OCI: \u003Ccode class=\"literal\">User\u003C/code>): configure individual services inside the RHEL bootc to run as unprivileged users instead.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tThe \u003Ccode class=\"literal\">rhel-9-bootc\u003C/code> container image reuses the OCI image format.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">rhel-9-bootc\u003C/code> container image ignores the container config section (\u003Ccode class=\"literal\">Config\u003C/code>) when it is installed to a system.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">rhel-9-bootc\u003C/code> container image does not ignore the container config section (\u003Ccode class=\"literal\">Config\u003C/code>) when you run this image by using container runtimes such as \u003Ccode class=\"literal\">podman\u003C/code> or \u003Ccode class=\"literal\">docker\u003C/code>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tBuilding custom \u003Ccode class=\"literal\">rhel-bootc\u003C/code> base images is not supported in this release.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"building-a-container-image_building-and-testing-the-rhel-bootable-container-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.1. Building a container image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse the \u003Ccode class=\"literal\">podman build\u003C/code> command to build an image using instructions from a \u003Ccode class=\"literal\">Containerfile\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">container-tools\u003C/code> meta-package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">Containerfile\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>cat Containerfile\u003C/strong>\u003C/span>\nFROM registry.redhat.io/rhel9/rhel-bootc:latest\nRUN dnf -y install cloud-init &amp;&amp; \\\n    ln -s ../cloud-init.target /usr/lib/systemd/system/default.target.wants &amp;&amp; \\\n    dnf clean all\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis \u003Ccode class=\"literal\">Containerfile\u003C/code> example adds the \u003Ccode class=\"literal\">cloud-init\u003C/code> tool, so it automatically fetches SSH keys and can run scripts from the infrastructure and also gather configuration and secrets from the instance metadata. For example, you can use this container image for pre-generated AWS or KVM guest systems.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>\u003C/code> image by using \u003Ccode class=\"literal\">Containerfile\u003C/code> in the current directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman build -t quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span> .\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList all images:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman images\u003C/strong>\u003C/span>\nREPOSITORY                                  TAG      IMAGE ID       CREATED              SIZE\nlocalhost/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>                           latest   b28cd00741b3   About a minute ago   2.1 GB\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/working-with-container-registries_building-running-and-managing-containers\">Working with container registries\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_building-container-images-with-buildah#proc_building-an-image-from-a-containerfile-with-buildah_assembly_building-container-images-with-buildah\">Building an image from a Containerfile with Buildah\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"building-derived-bootable-images-by-using-multi-stage-builds_building-and-testing-the-rhel-bootable-container-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.2. Building derived bootable images by using multi-stage builds\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe deployment image should include only the application and its required runtime, without adding any build tools or unnecessary libraries. To achieve this, use a two-stage \u003Ccode class=\"literal\">Containerfile\u003C/code>: one stage for building the artifacts and another for hosting the application.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWith multi-stage builds, you use multiple \u003Ccode class=\"literal\">FROM\u003C/code> instructions in your \u003Ccode class=\"literal\">Containerfile\u003C/code>. Each \u003Ccode class=\"literal\">FROM\u003C/code> instruction can use a different base, and each of them begins a new stage of the build. You can selectively copy artifacts from one stage to another, and exclude everything you do not need in the final image.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tMulti-stage builds offer several advantages:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Smaller image size\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBy separating the build environment from the runtime environment, only the necessary files and dependencies are included in the final image, significantly reducing its size.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Improved security\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSince build tools and unnecessary libraries are excluded from the final image, the attack surface is reduced, leading to a more secure container.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Optimized performance\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA smaller image size means faster download, deployment, and startup times, improving the overall efficiency of the containerized application.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Simplified maintenance\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tWith the build and runtime environments separated, the final image is cleaner and easier to maintain, containing only what is needed to run the application.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Cleaner builds\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tMulti-stage builds help avoid clutter from intermediate files, which could accumulate during the build process, ensuring that only essential artifacts make it into the final image.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Resource efficiency\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe ability to build in one stage and discard unnecessary parts minimizes the use of storage and bandwidth during deployment.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Better Layer Caching\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tWith clearly defined stages, Podman can efficiently cache the results of previous stages, by accelerating up future builds.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tThe following \u003Ccode class=\"literal\">Containerfile\u003C/code> consists of two stages. The first stage is typically named \u003Ccode class=\"literal\">builder\u003C/code> and it compiles a golang binary. The second stage copies the binary from the first stage. The default working directory for the go-toolset builder is \u003Ccode class=\"literal\">opt/ap-root/src\u003C/code>.\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM registry.access.redhat.com/ubi9/go-toolset:latest as builder\nRUN echo 'package main; import \"fmt\"; func main() { fmt.Println(\"hello world\") }' &gt; helloworld.go\nRUN go build helloworld.go\n\nFROM registry.redhat.io/rhel9/rhel-bootc:latest\nCOPY --from=builder /opt/app-root/src/helloworld /\nCMD [\"/helloworld\"]\u003C/pre>\u003Cp>\n\t\t\t\tAs a result, the final container image includes the \u003Ccode class=\"literal\">helloworld\u003C/code> binary but no data from the previous stage.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can also use multi-stage builds to perform the following scenarios:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Stopping at a specific build stage\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tWhen you build your image, you can stop at a specified build stage. For example:\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman build --target build -t hello .\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\tFor example, you can use this approach to debugging a specific build stage.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Using an external image as a stage\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">COPY --from\u003C/code> instruction to copy from a separate image either using the local image name, a tag available locally or on a container registry, or a tag ID. For example:\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cpre class=\"literallayout\">COPY --from=&lt;image&gt; \u003Cspan class=\"emphasis\">\u003Cem>&lt;source_path&gt;\u003C/em>\u003C/span> &lt;destination_path&gt;_\u003C/pre>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Using a previous stage as a new stage\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tYou can continue where a previous stage ended by using the \u003Ccode class=\"literal\">FROM\u003C/code> instruction. From example:\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cpre class=\"literallayout\">FROM ubi9 AS stage1\n[...]\n\nFROM stage1 AS stage2\n[...]\n\nFROM ubi9 AS final-stage\n[...]\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://developers.redhat.com/articles/2023/11/03/how-build-multi-architecture-container-images\">How to build multi-architecture container images\u003C/a> article\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"running-a-container-image_building-and-testing-the-rhel-bootable-container-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.3. Running a container image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse the \u003Ccode class=\"literal\">podman run\u003C/code> command to run and test your container.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">container-tools\u003C/code> meta-package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the container named \u003Ccode class=\"literal\">mybootc\u003C/code> based on the \u003Ccode class=\"literal\">quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/code> container image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman run -it --rm --name mybootc quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span> /bin/bash\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">-i\u003C/code> option creates an interactive session. Without the \u003Ccode class=\"literal\">-t\u003C/code> option, the shell stays open, but you cannot type anything to the shell.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">-t\u003C/code> option opens a terminal session. Without the \u003Ccode class=\"literal\">-i\u003C/code> option, the shell opens and then exits.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--rm\u003C/code> option removes the \u003Ccode class=\"literal\">quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/code> container image after the container exits.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList all running containers:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman ps\u003C/strong>\u003C/span>\nCONTAINER ID  IMAGE                                    COMMAND          CREATED        STATUS            PORTS   NAMES\n7ccd6001166e  quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>  /sbin/init  6 seconds ago  Up 5 seconds ago          mybootc\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_working-with-containers_building-running-and-managing-containers#con_podman-run-command_assembly_working-with-containers\">Podman run command\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"pushing-a-container-image-to-the-registry_building-and-testing-the-rhel-bootable-container-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.4. Pushing a container image to the registry\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse the \u003Ccode class=\"literal\">podman push\u003C/code> command to push an image to your own, or a third party, registry and share it with others. The following procedure uses the Red Hat Quay registry.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">container-tools\u003C/code> meta-package is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn image is built and available on the local system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created the Red Hat Quay registry. For more information see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_quay/3.10/html/proof_of_concept_-_deploying_red_hat_quay/index\">Proof of Concept - Deploying Red Hat Quay\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPush the \u003Ccode class=\"literal\">quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/code> container image from your local storage to the registry:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman push quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_working-with-container-images_building-running-and-managing-containers#proc_redistributing-ubi-images_assembly_working-with-container-images\">Redistributing UBI images\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. Building and managing logically bound images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tBy using the logically bound images, you have support for container images that are lifecycle bound to the base bootc image. This helps unite different operational processes for applications and operating systems, and the container application images are referenced from the base image as image files or an equivalent. Consequently, you can manage multiple container images for system installations. You can easily use containers for lifecycle-bound workloads, such as security agents and monitoring tools. By using the \u003Ccode class=\"literal\">bootc upgrade\u003C/code> command, you can upgrade everything.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"the-logically-bound-images_building-and-managing-logically-bound-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.1. The logically bound images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tLogically bound images contrast with physically bound images. Both approaches offer some advantages and disadvantages.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWith the logically bound images, there is an association of the container application images to a base bootc system image. The following are examples for lifecycle bound workloads, whose activities are usually not updated outside of the host:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLogging, for example, journald→remote log forwarder container\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMonitoring, for example, Prometheus node_exporter\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConfiguration management agents\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSecurity agents\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tAnother important property of the logically bound images is that they must be present and available on the host, possibly from a very early stage in the boot process.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tDifferently from the default usage of tools like Podman or Docker, images might be pulled dynamically after the boot starts, which requires a functioning network. For example, if the remote registry is temporarily unavailable, the host system might run longer without log forwarding or monitoring, which is not desirable. Logically bound images enable you to reference container images similarly to you can with \u003Ccode class=\"literal\">ExecStart=\u003C/code> in a systemd unit.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe logically bound images offer the following benefits:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can update the bootc system without re-downloading the application container images.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can update the application container images without modifying the bootc system image, which is especially useful for development work.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWhen using logically bound images, you must manage multiple container images for the system to install the logically bound images. This is an advantage and also a disadvantage. For example, for a disconnected or offline installation, you must mirror all the containers, not just one. In this model, the app images are only referenced from the base image as \u003Ccode class=\"literal\">.image\u003C/code> files or an equivalent.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe bootc upgrade consist of the following steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFetches a new base image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReads the new base image root file system to discover logically bound images.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPulls any discovered logically bound images into the bootc-owned \u003Ccode class=\"literal\">/usr/lib/bootc/storage\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-logically-bound-images_building-and-managing-logically-bound-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.2. Using logically bound images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tEach logically bound image is defined in a Podman Quadlet \u003Ccode class=\"literal\">.image\u003C/code> or \u003Ccode class=\"literal\">.container file\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">container-tools\u003C/code> meta-package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">Containerfile\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>cat Containerfile\u003C/strong>\u003C/span>\nFROM quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:latest\nCOPY ./\u003Cspan class=\"emphasis\">\u003Cem>&lt;app_1&gt;\u003C/em>\u003C/span>.image /usr/share/containers/systemd/\u003Cspan class=\"emphasis\">\u003Cem>&lt;app_1&gt;\u003C/em>\u003C/span>.image\nCOPY ./\u003Cspan class=\"emphasis\">\u003Cem>&lt;app_2&gt;\u003C/em>\u003C/span>.container /usr/share/containers/systemd/\u003Cspan class=\"emphasis\">\u003Cem>&lt;app_2&gt;\u003C/em>\u003C/span>.container\n\nRUN ln -s /usr/share/containers/systemd/\u003Cspan class=\"emphasis\">\u003Cem>&lt;app_1&gt;\u003C/em>\u003C/span>.image /usr/lib/bootc/bound-images.d/\u003Cspan class=\"emphasis\">\u003Cem>&lt;app_1&gt;_image &amp;&amp; \\ ln -s /usr/share/containers/systemd/\u003C/em>\u003C/span>&lt;app_2&gt;_.image /usr/lib/bootc/bound-images.d/my-app.image\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">.container\u003C/code> definition, use:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">GlobalArgs=--storage-opt=additionalimagestore=/usr/lib/bootc/storage\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn this \u003Ccode class=\"literal\">Containerfile\u003C/code> example, the image is selected to be logically bound by creating a symlink in the \u003Ccode class=\"literal\">/usr/lib/bootc/bound-images.d\u003C/code> directory pointing to either an \u003Ccode class=\"literal\">.image\u003C/code> or a \u003Ccode class=\"literal\">.container\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter creating a symlink, you can use a \u003Ccode class=\"literal\">bootc upgrade\u003C/code> or a \u003Ccode class=\"literal\">bootc switch\u003C/code>. The bound images defined in the new bootc image are automatically pulled into the bootc image storage, and are available to container runtimes such as Podman.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExplicitly configure the images to point to the bootc storage as an additional image store, by using, for example, the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>podman --storage-opt=additionalimagestore=/usr/lib/bootc/storage run \u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 4. Creating bootc compatible base disk images with bootc-image-builder\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThe \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>, available as a Technology Preview, is a containerized tool to create disk images from bootc images. You can use the images that you build to deploy disk images in different environments, such as the edge, server, and clouds.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"introducing-image-mode-for-rhel-for-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.1. Introducing image mode for RHEL for bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWith the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, you can convert bootc images into disk images for a variety of different platforms and formats. Converting bootc images into disk images is equivalent to installing a bootc. After you deploy these disk images to the target environment, you can update them directly from the container registry.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tBuilding base disk images which come from private registries by using \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> is not supported in this release.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">bootc-image-builder tool\u003C/code> supports generating the following image types:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDisk image formats, such as ISO, suitable for disconnected installations.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVirtual disk images formats, such as:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tQEMU copy-on-write (QCOW2)\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tAmazon Machine Image (AMI)/ — Raw\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tVirtual Machine Image (VMI)\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tDeploying from a container image is beneficial when you run VMs or servers because you can achieve the same installation result. That consistency extends across multiple different image types and platforms when you build them from the same container image. Consequently, you can minimize the effort in maintaining operating system images across platforms. You can also update systems that you deploy from these disk images by using the \u003Ccode class=\"literal\">bootc\u003C/code> tool, instead of re-creating and uploading new disk images with \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tGeneric base container images do not include any default passwords or SSH keys. Also, the disk images that you create by using the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool do not contain the tools that are available in common disk images, such as \u003Ccode class=\"literal\">cloud-init\u003C/code>. These disk images are transformed container images only.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tAlthough you can deploy a \u003Ccode class=\"literal\">rhel-9-bootc\u003C/code> image directly, you can also create your own customized images that are derived from this bootc image. The \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool takes the \u003Ccode class=\"literal\">rhel-9-bootc\u003C/code> OCI container image as an input.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_cloud-init_for_rhel_9/red-hat-support-for-cloud-init_cloud-content#red-hat-products-that-user-cloud-init_red-hat-support-for-cloud-init\">Red Hat products that use cloud-init\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"installing-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.2. Installing bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> is intended to be used as a container and it is not available as an RPM package in RHEL. To access it, follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">container-tools\u003C/code> meta-package is installed. The meta-package contains all container tools, such as Podman, Buildah, and Skopeo.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are authenticated to \u003Ccode class=\"literal\">registry.redhat.io\u003C/code>. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/RegistryAuthentication\">Red Hat Container Registry Authentication\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLogin to authenticate to \u003Ccode class=\"literal\">registry.redhat.io\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman login registry.redhat.io\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman pull registry.redhat.io/rhel9/bootc-image-builder\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList all images pulled to your local system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman images\u003C/strong>\u003C/span>\nREPOSITORY                                    TAG         IMAGE ID      CREATED       SIZE\nregistry.redhat.io/rhel9/bootc-image-builder  latest      b361f3e845ea  24 hours ago  676 MB\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/RegistryAuthentication\">Red Hat Container Registry Authentication\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/building_running_and_managing_containers/working-with-container-registries_building-running-and-managing-containers#proc_pulling-images-from-registries_working-with-container-registries\">Pulling images from registries\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.3. Creating QCOW2 images by using bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBuild a RHEL bootc image into a QEMU Disk Images (QCOW2) image for the architecture that you are running the commands on.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe RHEL base image does not include a default user. Optionally, you can inject a user configuration with the \u003Ccode class=\"literal\">--config\u003C/code> option to run the bootc-image-builder container. Alternatively, you can configure the base image with \u003Ccode class=\"literal\">cloud-init\u003C/code> to inject users and SSH keys on first boot. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">Users and groups configuration - Injecting users and SSH keys by using cloud-init\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have \u003Ccode class=\"literal\">virt-install\u003C/code> installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Create a \u003Ccode class=\"literal\">config.toml\u003C/code> to configure user access, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[[blueprint.customizations.user]]\nname = \"user\"\npassword = \"pass\"\nkey = \"ssh-rsa AAA ... user@email.com\"\ngroups = [\"wheel\"]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>. Optionally, if you want to use user access configuration, pass the \u003Ccode class=\"literal\">config.toml\u003C/code> as an argument.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you do not have the container storage mount and \u003Ccode class=\"literal\">--local\u003C/code> image options, your image must be public.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following is an example of creating a public QCOW2 image:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v ./config.toml:/config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v ./output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type qcow2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--config config.toml \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following is an example of creating a private QCOW2 image:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/config.toml:/config.toml:ro \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v /var/lib/containers/storage:/var/lib/containers/storage \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--local\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type qcow2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can find the \u003Ccode class=\"literal\">.qcow2\u003C/code> image in the output folder.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can deploy your image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images\">Deploying a container image using KVM with a QCOW2 disk image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-vmdk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.4. Creating VMDK images by using bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tCreate a Virtual Machine Disk (VMDK) from a bootc image and use it within WMware’s virtualization platforms, such as vSphere, or use the Virtual Machine Disk (VMDK) in VirtualBox.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have authenticated to the Red Hat Registry by using the \u003Ccode class=\"literal\">podman login registry.redhat.io\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have pulled the \u003Ccode class=\"literal\">rhel9/bootc-image-builder\u003C/code> container image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">Containerfile\u003C/code> with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM registry.redhat.io/rhel9/rhel-bootc:9.4\nRUN dnf -y install cloud-init open-vm-tools &amp;&amp; \\\nln -s ../cloud-init.target /usr/lib/systemd/system/default.target.wants &amp;&amp; \\\nrm -rf /var/{cache,log} /var/lib/{dnf,rhsm} &amp;&amp; \\\nsystemctl enable vmtoolsd.service\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild the bootc image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman build . -t localhost/rhel-bootc-vmdk\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a VMDK file from the previously created bootc image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman run \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>-v /var/lib/containers/storage:/var/lib/containers/storage \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>-v ./output:/output \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--pull newer \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:9.4\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--local \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>--type vmdk \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>localhost/rhel-bootc-vmdk:latest\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--local\u003C/code> option uses the local container storage to source the originating image to produce the VMDK instead of a remote repository.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tA VMDK disk file for the bootc image is stored in the \u003Ccode class=\"literal\">output/vmdk\u003C/code> directory.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-gce-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.5. Creating GCE images by using bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tBuild a RHEL bootc image into a gce image for the architecture that you are running the commands on. The RHEL base image does not include a default user. Optionally, you can inject a user configuration with the \u003Ccode class=\"literal\">--config\u003C/code> option to run the bootc-image-builder container. Alternatively, you can configure the base image with \u003Ccode class=\"literal\">cloud-init\u003C/code> to inject users and SSH keys on first boot. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">Users and groups configuration - Injecting users and SSH keys by using cloud-init\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Create a \u003Ccode class=\"literal\">config.toml\u003C/code> to configure user access, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[[blueprint.customizations.user]]\nname = \"user\"\npassword = \"pass\"\nkey = \"ssh-rsa AAA ... user@email.com\"\ngroups = [\"wheel\"]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>. Optionally, if you want to use user access configuration, pass the \u003Ccode class=\"literal\">config.toml\u003C/code> as an argument.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you do not have the container storage mount and \u003Ccode class=\"literal\">--local\u003C/code> image options, your image must be public.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following is an example of creating a \u003Ccode class=\"literal\">gce\u003C/code> image:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v ./config.toml:/config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v ./output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type gce \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--config config.toml \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can find the \u003Ccode class=\"literal\">gce\u003C/code> image in the output folder.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can deploy your image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images\">Deploying a container image using KVM with a QCOW2 disk image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.6. Creating AMI images by using bootc-image-builder and uploading it to AWS\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate an Amazon Machine Image (AMI) from a bootc image and use it to launch an Amazon Web Service EC2 (Amazon Elastic Compute Cloud) instance.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have an existing \u003Ccode class=\"literal\">AWS S3\u003C/code> bucket within your AWS account.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the \u003Ccode class=\"literal\">vmimport\u003C/code> service role configured on your account to import an AMI into your AWS account.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a disk image from the bootc image.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tConfigure the user details in the Containerfile. Make sure that you assign it with sudo access.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tBuild a customized operating system image with the configured user from the Containerfile. It creates a default user with passwordless sudo access.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Configure the machine image with \u003Ccode class=\"literal\">cloud-init\u003C/code>. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">Users and groups configuration - Injecting users and SSH keys by using cloud-init\u003C/a>. The following is an example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM registry.redhat.io/rhel9/rhel-bootc:9.4\n\nRUN dnf -y install cloud-init &amp;&amp; \\\n    ln -s ../cloud-init.target /usr/lib/systemd/system/default.target.wants &amp;&amp; \\\n    rm -rf /var/{cache,log} /var/lib/{dnf,rhsm}\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tYou can also use \u003Ccode class=\"literal\">cloud-init\u003C/code> to add users and additional configuration by using instance metadata.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild the bootc image. For example, to deploy the image to an \u003Ccode class=\"literal\">x86_64\u003C/code> AWS machine, use the following commands:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman build -t quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span> .\u003C/strong>\u003C/span>\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman push quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span> .\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool to create an AMI from the bootc container image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>-v $HOME/.aws:/root/.aws:ro \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--env AWS_PROFILE=default \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--type ami \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--aws-ami-name rhel-bootc-x86 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--aws-bucket rhel-bootc-bucket \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--aws-region us-east-1 \\\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe following flags must be specified all together. If you do not specify any flag, the AMI is exported to your output directory.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--aws-ami-name\u003C/code> - The name of the AMI image in AWS\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--aws-bucket\u003C/code> - The target S3 bucket name for intermediate storage when you are creating the AMI\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--aws-region\u003C/code> - The target region for AWS uploads\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool builds an AMI image and uploads it to your AWS s3 bucket by using your AWS credentials to push and register an AMI image after building it.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can deploy your image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images\">Deploying a container image to AWS with an AMI disk image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html\">AWS CLI documentation\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-raw-disk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.7. Creating Raw disk images by using bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can convert a bootc image to a Raw image with an MBR or GPT partition table by using \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>. The RHEL base image does not include a default user, so optionally, you can inject a user configuration with the \u003Ccode class=\"literal\">--config\u003C/code> option to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> container. Alternatively, you can configure the base image with \u003Ccode class=\"literal\">cloud-init\u003C/code> to inject users and SSH keys on first boot. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">Users and groups configuration - Injecting users and SSH keys by using cloud-init\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have pulled your target container image in the container storage.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Create a \u003Ccode class=\"literal\">config.toml\u003C/code> to configure user access, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[[blueprint.customizations.user]]\nname = \"user\"\npassword = \"pass\"\nkey = \"ssh-rsa AAA ... user@email.com\"\ngroups = [\"wheel\"]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>. If you want to use user access configuration, pass the \u003Ccode class=\"literal\">config.toml\u003C/code> as an argument:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v /var/lib/containers/storage:/var/lib/containers/storage \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v ./config.toml:/config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v ./output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--local \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type raw \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--config config.toml \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can find the \u003Ccode class=\"literal\">.raw\u003C/code> image in the output folder.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can deploy your image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images\">Deploying a container image by using KVM with a QCOW2 disk image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.8. Creating ISO images by using bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> to create an ISO from which you can perform an offline deployment of a bootable container.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Create a \u003Ccode class=\"literal\">config.toml\u003C/code> to configure user access, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[[blueprint.customizations.user]]\nname = \"user\"\npassword = \"pass\"\nkey = \"ssh-rsa AAA ... user@email.com\"\ngroups = [\"wheel\"]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>. If you do not want to add any configuration, omit the \u003Ccode class=\"literal\">-v $(pwd)/config.toml:/config.toml\u003C/code> argument.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v /var/lib/containers/storage:/var/lib/containers/storage \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/config.toml:/config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type iso \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--config config.toml \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can find the \u003Ccode class=\"literal\">.iso\u003C/code> image in the output folder.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can use the ISO image on unattended installation methods, such as USB sticks or Install-on-boot. The installable boot ISO contains a configured Kickstart file. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images\">Deploying a container image by using Anaconda and Kickstart\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tBooting the ISO on a machine with an existing operating system or data can be destructive, because the Kickstart is configured to automatically reformat the first disk on the system.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootable images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-bootc-image-builder-to-build-iso-images-with-a-kickstart-file_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.9. Using bootc-image-builder to build ISO images with a Kickstart file\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use a Kickstart file to configure various parts of the installation process, such as setting up users, customizing partitioning, and adding an SSH key. You can include the Kickstart file in an ISO build to configure any part of the installation process, except the deployment of the base image. For ISOs with bootc container base images, you can use a Kickstart file to configure anything except the \u003Ccode class=\"literal\">ostreecontainer\u003C/code> command.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor example, you can use a Kickstart to perform either a partial installation, a full installation, or even omit the user creation. Use \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> to build an ISO image that contains the custom Kickstart to configure your installation process.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate your Kickstart file. The following Kickstart file is an example of a fully unattended Kickstart file configuration that contains user creation, and partition instructions.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[customizations.installer.kickstart]\ncontents = \"\"\"\nlang en_GB.UTF-8\nkeyboard uk\ntimezone CET\n\nuser --name \u003Cspan class=\"emphasis\">\u003Cem>&lt;user&gt;\u003C/em>\u003C/span> --password \u003Cspan class=\"emphasis\">\u003Cem>&lt;password&gt;\u003C/em>\u003C/span> --plaintext --groups \u003Cspan class=\"emphasis\">\u003Cem>&lt;groups&gt;\u003C/em>\u003C/span>\nsshkey --username \u003Cspan class=\"emphasis\">\u003Cem>&lt;user&gt;\u003C/em>\u003C/span> ssh-\u003Cspan class=\"emphasis\">\u003Cem>&lt;type&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;public key&gt;\u003C/em>\u003C/span>\nrootpw --lock\n\nzerombr\nclearpart --all --initlabel\nautopart --type=plain\nreboot --eject\n\"\"\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the Kickstart configuration in the \u003Ccode class=\"literal\">toml\u003C/code> format to inject the Kickstart content. For example, \u003Ccode class=\"literal\">config.toml\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>, and include the Kickstart file configuration that you want to add to the ISO build. The \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> automatically adds the \u003Ccode class=\"literal\">ostreecontainer\u003C/code> command that installs the container image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v /var/lib/containers/storage:/var/lib/containers/storage \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/config.toml:/config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type iso \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--config config.toml \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can find the \u003Ccode class=\"literal\">.iso\u003C/code> image in the output folder.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can use the ISO image on unattended installation methods, such as USB sticks or Install-on-boot. The installable boot ISO contains a configured Kickstart file. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images\">Deploying a container image by using Anaconda and Kickstart\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tBooting the ISO on a machine with an existing operating system or data can be destructive, because the Kickstart is configured to automatically reformat the first disk on the system.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootable images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"verification-and-troubleshooting_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.10. Verification and troubleshooting\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"variablelist _abstract\">\u003Cdl class=\"variablelist _abstract\">\u003Cdt>\u003Cspan class=\"term\">If you have any issues configuring the requirements for your AWS image, see the following documentation\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://aws.amazon.com/iam/\">AWS IAM account manager\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/cli/latest/userguide/cli-services-s3-commands.html\">Using high-level (s3) commands with the AWS CLI\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://aws.amazon.com/s3/\">S3 buckets\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-regions\">Regions and Zones\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_insights/1-latest/html-single/deploying_and_managing_rhel_systems_in_hybrid_clouds/index#proc_launching-customized-rhel-image-to-aws.adoc_host-management-services\">Launching a customized RHEL image on AWS\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">For more details on users, groups, SSH keys, and secrets, see\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">Managing users, groups, SSH keys, and secrets in image mode for RHEL\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 5. Best practices for running containers using local sources\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can access content hosted in an internal registry that requires a custom Transport Layer Security (TLS) root certificate, when running RHEL bootc images.\n\t\t\u003C/p>\u003Cp>\n\t\t\tThere are two options available to install content to a container by using only local resources:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tBind mounts: Use for example \u003Ccode class=\"literal\">-v /etc/pki:/etc/pki\u003C/code> to override the container’s store with the host’s.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tDerived image: Create a new container image with your custom certificates by building it using a \u003Ccode class=\"literal\">Containerfile\u003C/code>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tYou can use the same techniques to run a \u003Ccode class=\"literal\">bootc-image-builder`\u003C/code> container or a \u003Ccode class=\"literal\">bootc\u003C/code> container when appropriate.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"importing-custom-certificate-to-a-container-by-using-bind-mounts_best-practices-for-running-containers-using-local-sources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.1. Importing custom certificate to a container by using bind mounts\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUse bound mounts to override the container’s store with the host’s.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun RHEL bootc image and use bind mount, for example \u003Ccode class=\"literal\">-v /etc/pki:/etc/pki\u003C/code>, to override the container’s store with the host’s:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman run \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/output:/output \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>-v /etc/pki:/etc/pki \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>localhost/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--type iso \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--config /config.toml \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;/&lt;image&gt;:&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList certificates inside the container:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ls -l /etc/pki\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"importing-custom-certificates-to-a-container-by-using-containerfile_best-practices-for-running-containers-using-local-sources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.2. Importing custom certificates to a container by using Containerfile\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tCreate a new container image with your custom certificates by building it using a \u003Ccode class=\"literal\">Containerfile\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">Containerfile\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM &lt;internal_repository&gt;/&lt;image&gt;\nRUN  mkdir -p /etc/pki/ca-trust/extracted/pem/\nCOPY tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/\nRUN  rm -rf /etc/yum.repos.d/*\nCOPY echo-rhel9_4.repo /etc/yum.repos.d/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild the custom image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman build -t \u003Cspan class=\"emphasis\">\u003Cem>&lt;your_image&gt;\u003C/em>\u003C/span> .\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the \u003Ccode class=\"literal\">&lt;your_image&gt;\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman run -it --rm \u003Cspan class=\"emphasis\">\u003Cem>&lt;your_image&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the certificates inside the container:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ls -l /etc/pki/ca-trust/extracted/pem/\u003C/strong>\u003C/span>\ntls-ca-bundle.pem\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 6. Deploying the RHEL bootc images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can deploy the \u003Ccode class=\"literal\">rhel-bootc\u003C/code> container image by using the following different mechanisms.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAnaconda\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">bootc-image-builder\u003C/code>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">bootc install\u003C/code>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tThe following bootc image types are available:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tDisk images that you generated by using the \u003Ccode class=\"literal\">bootc image-builder\u003C/code> such as:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tQCOW2 (QEMU copy-on-write, virtual disk)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRaw (Mac Format)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAMI (Amazon Cloud)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tISO: Unattended installation method, by using an USB Sticks or Install-on-boot.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tAfter you have created a layered image that you can deploy, there are several ways that the image can be installed to a host:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tYou can use RHEL installer and Kickstart to install the layered image to a bare metal system, by using the following mechanisms:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tDeploy by using USB\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPXE\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou can also use \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> to convert the container image to a bootc image and deploy it to a bare metal or to a cloud environment.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tThe installation method happens only one time. After you deploy your image, any future updates will apply directly from the container registry as the updates are published.\n\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm139697798680480\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.1. Deploying a bootc image by using a basic build installer \u003Ccode class=\"literal\">bootc install\u003C/code>, or deploying a container image by using Anaconda and Kickstart\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/26738c66384f5771cf15d876d1aaa185/639_RHEL_Bootable_Container_Bifrost_0524_3.png\" alt=\"639 RHEL Bootable Container Bifrost 0524 3\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"figure\" id=\"idm139697798676032\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.2. Using \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> to create disk images from bootc images and deploying disk images in different environments, such as the edge, servers, and clouds by using Anaconda, \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> or \u003Ccode class=\"literal\">bootc install\u003C/code>\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/04a6041fbf8df43a898b05a05ca80884/639_RHEL_Bootable_Container_Bifrost_0524_4.png\" alt=\"639 RHEL Bootable Container Bifrost 0524 4\"/>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.1. Deploying a container image by using KVM with a QCOW2 disk image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter creating a QEMU disk image from a RHEL bootc image by using the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, you can use a virtualization software to boot it.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a container image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">Creating QCOW2 images by using bootc-image-builder\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou pushed the container image to an accessible repository.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the container image that you create by using either \u003Ccode class=\"literal\">libvirt\u003C/code>. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization#creating-virtual-machines-using-the-command-line-interface_assembly_creating-virtual-machines\">Creating virtual machines by using the command-line interface\u003C/a> for more details.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following example uses \u003Ccode class=\"literal\">libvirt\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo virt-install \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--name bootc \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--memory 4096 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--vcpus 2 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--disk qcow2/disk.qcow2 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--import \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--os-variant rhel9-unknown\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConnect to the VM in which you are running the container image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_connecting-to-virtual-machines_configuring-and-managing-virtualization\">Connecting to virtual machines\u003C/a> for more details.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/index\">Configuring and managing virtualization\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.2. Deploying a container image to AWS with an AMI disk image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter using the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool to create an AMI from a bootc image, and uploading it to a AWS s3 bucket, you can deploy a container image to AWS with the AMI disk image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created an Amazon Machine Image (AMI) from a bootc image. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">Creating AMI images by using bootc-image-builder and uploading it to AWS\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">cloud-init\u003C/code> is available in the Containerfile that you previously created so that you can create a layered image for your use case.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn a browser, access \u003Ca class=\"link\" href=\"https://us-east-2.console.aws.amazon.com/ec2/v2/home?region=us-east-2#Images:sort=name\">Service→EC2\u003C/a> and log in.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the AWS console dashboard menu, choose the correct region. The image must have the \u003Cspan class=\"strong strong\">\u003Cstrong>Available\u003C/strong>\u003C/span> status, to indicate that it was correctly uploaded.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the AWS dashboard, select your image and click \u003Cspan class=\"guibutton\">Launch\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the new window that opens, choose an instance type according to the resources you need to start your image. Click \u003Cspan class=\"guibutton\">Review and Launch\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReview your instance details. You can edit each section if you need to make any changes. Click \u003Cspan class=\"guibutton\">Launch\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBefore you start the instance, select a public key to access it. You can either use the key pair you already have or you can create a new key pair.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Launch Instance\u003C/span> to start your instance. You can check the status of the instance, which displays as \u003Cspan class=\"strong strong\">\u003Cstrong>Initializing\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter the instance status is \u003Cspan class=\"strong strong\">\u003Cstrong>Running\u003C/strong>\u003C/span>, the \u003Cspan class=\"guibutton\">Connect\u003C/span> button becomes available.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Connect\u003C/span>. A window appears with instructions on how to connect by using SSH.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the following command to set the permissions of your private key file so that only you can read it. See \u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect-to-linux-instance.html\">Connect to your Linux instance\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 400 \u003Cspan class=\"emphasis\">\u003Cem>&lt;your-instance-name.pem&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConnect to your instance by using its Public DNS:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ssh -i \u003Cspan class=\"emphasis\">\u003Cem>&lt;your-instance-name.pem&gt;\u003C/em>\u003C/span>ec2-user@\u003Cspan class=\"emphasis\">\u003Cem>&lt;your-instance-IP-address&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYour instance continues to run unless you stop it.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tAfter launching your image, you can:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTry to connect to http://\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_instance_ip_address&gt;\u003C/em>\u003C/span> in a browser.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCheck if you are able to perform any action while connected to your instance by using SSH.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter you deploy your image, you can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-cloud-images-with-composer_composing-a-customized-rhel-system-image#pushing-ami-images-to-aws-cloud_creating-cloud-images-with-composer\">Pushing images to AWS Cloud AMI\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://github.com/osbuild/bootc-image-builder?tab=readme-ov-file#amazon-machine-images-amis\">Amazon Machine Images (AMI)\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.3. Deploying a container image by using Anaconda and Kickstart\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can deploy the RHEL ISO image that you downloaded from Red Hat by using Anaconda and Kickstart to install your container image.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe use of \u003Ccode class=\"literal\">rpm-ostree\u003C/code> to make changes, or install content, is not supported.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have downloaded the 9.4 Boot ISO for your architecture from Red Hat. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/customizing_anaconda/index#downloading-rh-boot-images_working-with-iso-images\">Downloading RH boot images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate an \u003Ccode class=\"literal\">ostreecontainer\u003C/code> Kickstart file. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># Basic setup\ntext\nnetwork --bootproto=dhcp --device=link --activate\n# Basic partitioning\nclearpart --all --initlabel --disklabel=gpt\nreqpart --add-boot\npart / --grow --fstype xfs\n\n# Reference the container image to install - The kickstart\n# has no \u003Ccode class=\"literal\">%packages\u003C/code> section. A container image is being installed.\nostreecontainer --url registry.redhat.io/rhel9/rhel-bootc:9.4\n\nfirewall --disabled\nservices --enabled=sshd\n\n# Only inject a SSH key for root\nrootpw --iscrypted locked\nsshkey --username root \"&lt;your key here&gt;\"\nreboot\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoot a system by using the 9.4 Boot ISO installation media.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAppend the Kickstart file with the following to the kernel argument:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">inst.ks=http://\u003Cspan class=\"emphasis\">\u003Cem>&lt;path_to_your_kickstart&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPress \u003Cspan class=\"strong strong\">\u003Cstrong>CTRL+X\u003C/strong>\u003C/span> to boot the system.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter you deploy your container image, you can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://pykickstart.readthedocs.io/en/latest/kickstart-docs.html#ostreecontainer\">ostreecontainer\u003C/a> documentation\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/7069539\">bootc upgrade fails when using local rpm-ostree modifications\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-an-custom-iso-container-image_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.4. Deploying a custom ISO container image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter you build an ISO image by using \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>, the resulting image is a system similar to the RHEL ISOs available for download, except that your container image content is embedded in the ISO disk image. You do not need to have access to the network during installation. You can install the resulting ISO disk image to a bare metal system. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder\">Creating ISO images by using bootc-image-builder\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created an ISO image with your bootc image embedded.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCopy your ISO disk image to a USB flash drive.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPerform a bare-metal installation by using the content in the USB stick into a disconnected environment.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter you deploy your container image, you can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-an-iso-bootc-container-over-pxe-boot_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.5. Deploying an ISO bootc image over PXE boot\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use a network installation to deploy the RHEL ISO image over PXE boot to run your ISO bootc image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have downloaded the 9.4 Boot ISO for your architecture from Red Hat. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/working-with-iso-images_customizing-anaconda#downloading-rh-boot-images_working-with-iso-images\">Downloading RH boot images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured the server for the PXE boot. Choose one of the following options:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFor HTTP clients, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/working-with-iso-images_customizing-anaconda#downloading-rh-boot-images_working-with-iso-images\">Configuring the DHCPv4 server for HTTP and PXE boot\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFor UEFI-based clients, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/index#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install\">Configuring a TFTP server for UEFI-based clients\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFor BIOS-based clients, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_over_the_network/index#configuring-a-tftp-server-for-bios-based-clients_preparing-for-a-network-install\">Configuring a TFTP server for BIOS-based clients\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a client, also known as the system to which you are installing your ISO image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tExport the RHEL installation ISO image to the HTTP server. The PXE boot server is now ready to serve PXE clients.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBoot the client and start the installation.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect PXE Boot when prompted to specify a boot source. If the boot options are not displayed, press the Enter key on your keyboard or wait until the boot window opens.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom the Red Hat Enterprise Linux boot window, select the boot option that you want, and press Enter.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStart the network installation.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootc images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/index#customizing-the-installation-media_rhel-installer\">Preparing to install from the network using PXE\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_over_the_network/index#booting-the-installation-using-pxe_booting-the-installation-media\">Booting the installation from a network by using PXE\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"building-and-launching-configured-images_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.6. Building, configuring, and launching disk images with bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can inject configuration into a custom image by using a Containerfile.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a disk image. The following example shows how to add a user to the disk image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[[blueprint.customizations.user]]\nname = \"user\"\npassword = \"pass\"\nkey = \"ssh-rsa AAA ... user@email.com\"\ngroups = [\"wheel\"]\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">name\u003C/code> - User name. Mandatory\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">password\u003C/code> - Nonencrypted password. Not mandatory\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">key\u003C/code> - Public SSH key contents. Not mandatory\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">groups\u003C/code> - An array of groups to add the user into. Not mandatory\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> and pass the following arguments:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/config.toml:/config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type qcow2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--config config.toml \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLaunch a VM, for example, by using \u003Ccode class=\"literal\">virt-install\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo virt-install \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--name bootc \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--memory 4096 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--vcpus 2 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--disk qcow2/disk.qcow2 \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--import \\\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>--os-variant rhel9\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAccess the system with SSH:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ssh -i /\u003Cspan class=\"emphasis\">\u003Cem>&lt;path_to_private_ssh-key&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;user1&gt;\u003C/em>\u003C/span>@\u003Cspan class=\"emphasis\">\u003Cem>&lt;ip-address&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter you deploy your container image, you can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootable images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-a-container-image-by-using-bootc_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.7. Deploying a container image by using bootc\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWith \u003Ccode class=\"literal\">bootc\u003C/code>, you have a container that is the source of truth. It contains a basic build installer and it is available as \u003Ccode class=\"literal\">bootc install to-disk\u003C/code> or \u003Ccode class=\"literal\">bootc install to-filesystem\u003C/code>. By using the \u003Ccode class=\"literal\">bootc install\u003C/code> methods you do not need to perform any additional steps to deploy the container image, because the container images include a basic installer.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWith image mode for RHEL, you can install unconfigured images, for example, images that do not have a default password or SSH key.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tPerform a bare-metal installation to a device by using a RHEL ISO image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have downloaded the 9.4 Boot ISO for your architecture from Red Hat. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/customizing_anaconda/working-with-iso-images_customizing-anaconda#downloading-rh-boot-images_working-with-iso-images\">Downloading RH boot images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a configuration file.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tinject a configuration into the running ISO image, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman run --rm --privileged --pid=host -v /var/lib/containers:/var/lib/containers --security-opt label=type:unconfined_t \u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span> bootc install to-disk \u003Cspan class=\"emphasis\">\u003Cem>&lt;path-to-disk&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter you deploy your container image, you can make updates to the image and push the changes to a registry. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#managing-rhel-bootc-images\">Managing RHEL bootable images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.8. Advanced installation with to-filesystem\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">bootc install\u003C/code> contains two subcommands: \u003Ccode class=\"literal\">bootc install to-disk\u003C/code> and \u003Ccode class=\"literal\">bootc install to-filesystem\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc-install-to-filesystem\u003C/code> performs installation to the target filesystem.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc install to-disk\u003C/code> subcommand consists of a set of opinionated lower level tools that you can also call independently. The command consist of the following tools:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mkfs.$fs /dev/disk\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mount /dev/disk /mnt\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">bootc install to-filesystem --karg=root=UUID=\u003Cspan class=\"emphasis\">\u003Cem>&lt;uuid of /mnt&gt;\u003C/em>\u003C/span> --imgref $self /mnt\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"using-bootc-install-to-existing-root_deploying-the-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">6.8.1. Using bootc install to-existing-root\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc install to-existing-root\u003C/code> is a variant of \u003Ccode class=\"literal\">install to-filesystem\u003C/code>. You can use it to convert an existing system into the target container image.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThis conversion eliminates the \u003Ccode class=\"literal\">/boot\u003C/code> and \u003Ccode class=\"literal\">/boot/efi\u003C/code> partitions and can delete the existing Linux installation. The conversion process reuses the filesystem, and even though the user data is preserved, the system no longer boots in package mode.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou must have root permissions to complete the procedure.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou must match the host environment and the target container version, for example, if your host is a RHEL 9 host, then you must have a RHEL 9 container. Installing a RHEL container on a Fedora host by using \u003Ccode class=\"literal\">btrfs\u003C/code> as the RHEL kernel will not support that filesystem.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the following command to convert an existing system into the target container image. Pass the target \u003Ccode class=\"literal\">rootfs\u003C/code> by using the \u003Ccode class=\"literal\">-v /:/target\u003C/code> option.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman run --rm --privileged -v /dev:/dev -v /var/lib/containers:/var/lib/containers -v /:/target \\\u003C/strong>\u003C/span>\n            \u003Cspan class=\"strong strong\">\u003Cstrong>--pid=host --security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n            \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n            \u003Cspan class=\"strong strong\">\u003Cstrong>bootc install to-existing-root\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis command deletes the data in \u003Ccode class=\"literal\">/boot\u003C/code>, but everything else in the existing operating system is not automatically deleted. This can be useful because the new image can automatically import data from the previous host system. Consequently, container images, database, the user home directory data, configuration files in \u003Ccode class=\"literal\">/etc\u003C/code> are all available after the subsequent reboot in \u003Ccode class=\"literal\">/sysroot\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can also use the \u003Ccode class=\"literal\">--root-ssh-authorized-keys\u003C/code> flag to inherit the root user SSH keys, by adding \u003Ccode class=\"literal\">--root-ssh-authorized-keys /target/root/.ssh/authorized_keys\u003C/code>. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>podman run --rm --privileged -v /dev:/dev -v /var/lib/containers:/var/lib/containers -v /:/target \\\u003C/strong>\u003C/span>\n            \u003Cspan class=\"strong strong\">\u003Cstrong>--pid=host --security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n            \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span> \\\u003C/strong>\u003C/span>\n            \u003Cspan class=\"strong strong\">\u003Cstrong>bootc install to-existing-root --root-ssh-authorized-keys /target/root/.ssh/authorized_keys\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"enabling-the-fips-mode-while-building-a-bootc-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 7. Enabling the FIPS mode while building a bootc image\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tFIPs include standards for cryptographic operations. You can enable the FIPS mode during the bootc image build time, when building a bootc image, to configure the system to use only FIPS approved modules. There are 2 options to enable FIPS mode:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tBy using the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool: you must enable the FIPS crypto policy into the Containerfile.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tWhen performing an Anaconda installation: apart from enabling the FIPS crypto policy into the Containerfile, you must add the \u003Ccode class=\"literal\">fips=1\u003C/code> kernel argument during the boot time.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tFIPS dracut module is built-in to the base image. It defaults to a \u003Ccode class=\"literal\">boot=UUID= karg\u003C/code> in \u003Ccode class=\"literal\">bootc install-to-filesystem\u003C/code>.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"enabling-the-fips-mode-by-using-bootc-image-builder-tool_enabling-the-fips-mode-while-building-a-bootc-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.1. Enabling the FIPS mode by using bootc-image-builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tCreate a disk image by using \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> or \u003Ccode class=\"literal\">bootc install to-disk\u003C/code>, and enable the FIPS mode by passing the custom Containerfile as an argument when building the image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have \u003Ccode class=\"literal\">virt-install\u003C/code> installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">01-fips.toml\u003C/code> to configure FIPS enablement, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># Enable FIPS\nkargs = [\"fips=1\"]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a Containerfile with the following instructions to enable the \u003Ccode class=\"literal\">fips=1\u003C/code> kernel argument:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">FROM registry.redhat.io/rhel9/rhel-bootc:latest\n# Enable fips=1 kernel argument: https://containers.github.io/bootc/building/kernel-arguments.html\nCOPY 01-fips.toml /usr/lib/bootc/kargs.d/\n# Enable the FIPS crypto policy\n# crypto-policies-scripts is not installed by default in RHEL-10\nRUN dnf install -y crypto-policies-scripts &amp;&amp; update-crypto-policies --no-reload --set FIPS\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate your bootc \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>\u003C/code> compatible base disk image by using \u003Ccode class=\"literal\">Containerfile\u003C/code> in the current directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman build -t quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span> .\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter login in to the system, check that FIPS mode is enabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ *fips-mode-setup --check*\nFIPS mode is enabled.\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/security_hardening/switching-rhel-to-fips-mode_security-hardening#proc_installing-the-system-with-fips-mode-enabled_switching-rhel-to-fips-mode\">Installing the system with FIPS mode enabled\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-the-fips-mode-to-perform-an-anaconda-installation_enabling-the-fips-mode-while-building-a-bootc-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.2. Enabling the FIPS mode to perform an Anaconda installation\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo create a disk image and enable the FIPS mode when performing an Anaconda installation, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have Podman installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have \u003Ccode class=\"literal\">virt-install\u003C/code> installed on your host machine.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have root access to run the \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool, and run the containers in \u003Ccode class=\"literal\">--privileged\u003C/code> mode, to build the images.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">01-fips.toml\u003C/code> to configure FIPS enablement, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># Enable FIPS\nkargs = [\"fips=1\"]\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a Containerfile with the following instructions to enable the \u003Ccode class=\"literal\">fips=1\u003C/code> kernel argument:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">FROM registry.redhat.io/rhel9/rhel-bootc:latest\n# Enable fips=1 kernel argument: https://containers.github.io/bootc/building/kernel-arguments.html\nCOPY 01-fips.toml /usr/lib/bootc/kargs.d/\n# Install and enable the FIPS crypto policy\nRUN dnf install -y crypto-policies-scripts &amp;&amp; update-crypto-policies --no-reload --set FIPS\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate your bootc \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>\u003C/code> compatible base disk image by using \u003Ccode class=\"literal\">Containerfile\u003C/code> in the current directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo podman run \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--rm \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-it \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--privileged \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--pull=newer \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--security-opt label=type:unconfined_t \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/config.toml:/config.toml:ro \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v $(pwd)/output:/output \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>-v /var/lib/containers/storage:/var/lib/containers/storage \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>registry.redhat.io/rhel9/bootc-image-builder:latest \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--local\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>--type qcow2 \\\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable FIPS mode during the system installation:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWhen booting the RHEL Anaconda installer, on the installation screen, press the TAB key and add the \u003Ccode class=\"literal\">fips=1\u003C/code> kernel argument.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter the installation, the system starts in FIPS mode automatically.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter login in to the system, check that FIPS mode is enabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ *fips-mode-setup --check*\nFIPS mode is enabled.\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/security_hardening/switching-rhel-to-fips-mode_security-hardening#proc_installing-the-system-with-fips-mode-enabled_switching-rhel-to-fips-mode\">Installing the system with FIPS mode enabled\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 8. Managing RHEL bootc images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tAfter installing and deploying RHEL bootc images, you can perform management operations on your container images, such as changing or updating the systems. The system supports in-place transactional updates with rollback after deployment.\n\t\t\u003C/p>\u003Cp>\n\t\t\tThis kind of management, also known as Day 2 management baseline, consists of transactionally fetching new operating system updates from a container registry and booting the system into them, while supporting manual, or automated rollbacks in case of failures.\n\t\t\u003C/p>\u003Cp>\n\t\t\tYou can also rely on automatic updates, that are turned on by default. The \u003Ccode class=\"literal\">systemd service unit\u003C/code> and the \u003Ccode class=\"literal\">systemd timer unit\u003C/code> files check the container registry for updates and apply them to the system. You can trigger an update process with different events, such as updating an application. There are automation tools watching these updates and then triggering the CI/CD pipelines. A reboot is required, because the updates are transactional. For environments that require more sophisticated or scheduled rollouts, you must disable auto updates and use the \u003Ccode class=\"literal\">bootc\u003C/code> utility to update your operating system.\n\t\t\u003C/p>\u003Cp>\n\t\t\tSee \u003Ca class=\"link\" href=\"https://www.redhat.com/en/blog/how-does-red-hat-support-day-2-operations\">Day 2 operations support\u003C/a> for more details.\n\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm139697799998336\">\u003Cp class=\"title\">\u003Cstrong>Figure 8.1. Manually updating an installed operating system, changing the container image reference or rolling back changes if needed\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US/images/060de4deeafa3ccd81b58b8a8a9dcbce/639_RHEL_Bootc_Container_Bifrost_0524_5.png\" alt=\"639 RHEL Bootc Container Bifrost 0524 5\"/>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"switching-the-container-image-reference_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.1. Switching the container image reference\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can change the container image reference used for upgrades by using the \u003Ccode class=\"literal\">bootc switch\u003C/code> command. For example, you can switch from the stage to the production tag. The \u003Ccode class=\"literal\">bootc switch\u003C/code> command performs the same operations as the \u003Ccode class=\"literal\">bootc upgrade\u003C/code> command and additionally changes the container image reference.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo manually switch an existing \u003Ccode class=\"literal\">ostree-based\u003C/code> container image reference, use the \u003Ccode class=\"literal\">bootc switch\u003C/code> command.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe use of \u003Ccode class=\"literal\">rpm-ostree\u003C/code> to make changes, or install content, is not supported.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA booted system using \u003Ccode class=\"literal\">bootc\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>bootc switch [--apply] quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>&lt;tag&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptionally, you can use the \u003Ccode class=\"literal\">--apply\u003C/code> option when you want to automatically take actions, such as rebooting if the system has changed.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc switch\u003C/code> command has the same effect as \u003Ccode class=\"literal\">bootc upgrade\u003C/code>. The only difference is the container image reference is changed. This allows preserving the existing states in \u003Ccode class=\"literal\">/etc\u003C/code> and \u003Ccode class=\"literal\">/var\u003C/code>, for example, host SSH keys and home directories.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ca class=\"link\" href=\"https://containers.github.io/bootc/man/bootc-upgrade.html\">\u003Ccode class=\"literal\">bootc-switch\u003C/code>\u003C/a> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"adding-modules-to-the-bootc-image-initramfs_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.2. Adding modules to the bootc image initramfs\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">rhel9/rhel-bootc\u003C/code> image uses the \u003Ccode class=\"literal\">dracut\u003C/code> infrastructure to build an initial RAM disk, the \u003Ccode class=\"literal\">initrd\u003C/code> during the image build time. The \u003Ccode class=\"literal\">initrd\u003C/code> is built and included in the \u003Ccode class=\"literal\">/usr/lib/modules/$kver/initramfs.img\u003C/code> location inside the container.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use a drop-in configuration file to override the \u003Ccode class=\"literal\">dracut\u003C/code> configuration, and place it in \u003Ccode class=\"literal\">/usr/lib/dracut/dracut.conf.d/\u003Cspan class=\"emphasis\">\u003Cem>&lt;50-custom-added-modules.conf&gt;\u003C/em>\u003C/span>\u003C/code> And thus re-create \u003Ccode class=\"literal\">initrd\u003C/code> with the modules you want to add.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA booted system using bootc.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRe-create the \u003Ccode class=\"literal\">initrd\u003C/code> as part of a container build:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM \u003Cspan class=\"emphasis\">\u003Cem>&lt;baseimage&gt;\u003C/em>\u003C/span>\nCOPY \u003Cspan class=\"emphasis\">\u003Cem>&lt;50-custom-added-modules&gt;\u003C/em>\u003C/span>.conf /usr/lib/dracut/dracut.conf.d\nRUN set -x; kver=$(cd /usr/lib/modules &amp;&amp; echo *); dracut -vf /usr/lib/modules/$kver/initramfs.img $kver\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tBy default the command attempts to pull the running kernel version, which causes an error. Explicitly pass to \u003Ccode class=\"literal\">dracut\u003C/code> the kernel version of the target to avoid errors.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"modifying-and-regenerating-initrd_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.3. Modifying and regenerating initrd\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe default container image includes a pre-generated initial RAM disk (initrd) in \u003Ccode class=\"literal\">/usr/lib/modules/$kver/initramfs.img\u003C/code>. To regenerate the \u003Ccode class=\"literal\">initrd\u003C/code>, for example, to add a dracut module, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWrite your drop-in configuration file. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">dracutmodules = \"\u003Cspan class=\"emphasis\">\u003Cem>module\u003C/em>\u003C/span>\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPlace your drop-in configuration file in the location that \u003Ccode class=\"literal\">dracut\u003C/code> normally uses: \u003Ccode class=\"literal\">/usr\u003C/code>. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">/usr/lib/dracut/dracut.conf.d/50-custom-added-modules.conf\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRegenerate the \u003Ccode class=\"literal\">initrd\u003C/code> as part of the container build. You must explicitly pass the kernel version to target to \u003Ccode class=\"literal\">dracut\u003C/code>, because it tries to pull the running kernel version, which can cause an error. The following is an example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM &lt;baseimage&gt;\nCOPY 50-custom-added-modules.conf /usr/lib/dracut/dracut.conf.d\nRUN set -x; kver=$(cd /usr/lib/modules &amp;&amp; echo *); dracut -vf /usr/lib/modules/$kver/initramfs.img $kver\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"performing-manual-updates-from-an-installed-operating-system_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.4. Performing manual updates from an installed operating system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tInstalling image mode for RHEL is a one time task. You can perform any other management task, such as changing or updating the system, by pushing the changes to the container registry.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen using image mode for RHEL, you can choose to perform manual updates for your systems. Manual updates are also useful if you have an automated way to perform updates, for example, by using Ansible. Because the automatic updates are enabled by default, to perform manual updates you must turn the automatic updates off. You can do this by choosing one of the following options:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRunning the \u003Ccode class=\"literal\">bootc upgrade\u003C/code> command\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tModifying the \u003Ccode class=\"literal\">systemd\u003C/code> timer file\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"turning-off-automatic-updates_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.5. Turning off automatic updates\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo perform manual updates you must turn off automatic updates. You can do this by choosing one of the following options in the procedure below.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable the timer of a container build.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tBy running the \u003Ccode class=\"literal\">bootc upgrade\u003C/code> command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl mask bootc-fetch-apply-updates.timer\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tBy modifying the \u003Ccode class=\"literal\">systemd\u003C/code> timer file. Use \u003Ccode class=\"literal\">systemd\u003C/code> \"drop-ins\" to override the timer. In the following example, updates are scheduled for once a week.\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tCreate an \u003Ccode class=\"literal\">updates.conf\u003C/code> file with the following content:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[Timer]\n# Clear previous timers\nOnBootSec= OnBootSec=1w OnUnitInactiveSec=1w\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tAdd your container to the file that you created:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p /usr/lib/systemd/system/bootc-fetch-apply-updates.timer.d\u003C/strong>\u003C/span>\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>cp updates.conf /usr/lib/systemd/system/bootc-fetch-apply-updates.timer.d\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"manually-updating-an-installed-operating-system_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.6. Manually updating an installed operating system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo manually fetch updates from a registry and boot the system into the new updates, use \u003Ccode class=\"literal\">bootc upgrade\u003C/code>. This command fetches the transactional in-place updates from the installed operating system to the container image registry. The command queries the registry and queues an updated container image for the next boot. It stages the changes to the base image, while not changing the running system by default.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>bootc upgrade [--apply]\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">apply\u003C/code> argument is optional and you can use it when you want to automatically take actions, such as rebooting if the system has changed.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc upgrade\u003C/code> and \u003Ccode class=\"literal\">bootc update\u003C/code> commands are aliases.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ca class=\"link\" href=\"https://containers.github.io/bootc/man/bootc-upgrade.html\">\u003Ccode class=\"literal\">bootc-upgrade\u003C/code>\u003C/a> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"performing-rollbacks-from-a-updated-operating-system_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.7. Performing rollbacks from a updated operating system\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can roll back to a previous boot entry to revert changes by using the \u003Ccode class=\"literal\">bootc rollback\u003C/code> command. This command changes the boot loader entry ordering by making the deployment under \u003Ccode class=\"literal\">rollback\u003C/code> queued for the next boot. The current deployment then becomes the rollback. Any staged changes, such as a queued upgrade that was not applied, are discarded.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAfter a rollback completes, the system reboots and the update timer runs within 1 to 3 hours which automatically updates and reboots your system to the image you just rolled back from.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you perform a rollback, the system will automatically update again unless you turn off auto-updates. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootable-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#turning-off-automatic-updates_managing-rhel-bootable-images\">Turning off automatic updates\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou performed an update to the system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>bootc rollback [-h|--help] [-V|--version]\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc rollback\u003C/code> command has the same effect as \u003Ccode class=\"literal\">bootc upgrade\u003C/code>. The only difference is the container image being tracked. This enables preserving the existing states in \u003Ccode class=\"literal\">/etc\u003C/code> and \u003Ccode class=\"literal\">/var\u003C/code>, for example, host SSH keys and home directories.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse \u003Ccode class=\"literal\">systemd journal\u003C/code> to check the logged message for the detected rollback invocation.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>journalctl -b\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can see a log similar to:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Ccode class=\"literal\">MESSAGE_ID=26f3b1eb24464d12aa5e7b544a6b5468\u003C/code>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ca class=\"link\" href=\"https://containers.github.io/bootc/man/bootc-upgrade.html\">\u003Ccode class=\"literal\">bootc-rollback\u003C/code>\u003C/a> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-updates-to-system-groups_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.8. Deploying updates to system groups\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can change the configuration of your operating system by modifying the Containerfile. Then you can build and push your container image to the registry. When you next boot your operating system, an update will be applied.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can also change the container image source by using the \u003Ccode class=\"literal\">bootc switch\u003C/code> command. The container registry is the source of truth. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems#switching-the-container-image-reference_managing-rhel-bootc-images\">Switching the container image reference\u003C/a>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUsually, when deploying updates to system groups, you can use a central management service to provide a client to be installed on each system which connects to the central service. Often, the management service requires the client to perform a one time registration. The following is an example on how to deploy updates to system groups. You can modify it to create a persistent \u003Ccode class=\"literal\">systemd\u003C/code> service, if required.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tFor clarity reasons, the Containerfile in the example is not optimized. For example, a better optimization to avoid creating multiple layers in the image is by invoking RUN a single time.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tYou can install a client into an image mode for RHEL image and run it at startup to register the system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe management-client handles future connections to the server, by using a \u003Ccode class=\"literal\">cron\u003C/code> job or a separate \u003Ccode class=\"literal\">systemd\u003C/code> service.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a management service with the following characteristics. It determines when to upgrade the system.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tDisable \u003Ccode class=\"literal\">bootc-fetch-apply-updates.timer\u003C/code> if it is included in the base image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tInstall the client by using \u003Ccode class=\"literal\">dnf\u003C/code>, or some other method that applies for your client.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tInject the credentials for the management service into the image.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"checking-inventory-health_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.9. Checking inventory health\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tHealth checks are one of the Day 2 Operations. You can manually check the system health of the container images and events that are running inside the container.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can set health checks by creating the container on the command line. You can display the health check status of a container by using the \u003Ccode class=\"literal\">podman inspect\u003C/code> or \u003Ccode class=\"literal\">podman ps\u003C/code> commands.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can monitor and print events that occur in Podman by using the \u003Ccode class=\"literal\">podman events\u003C/code> command. Each event includes a timestamp, a type, a status, a name, if applicable, and an image, if applicable.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor more information about health checks and events, see chapter \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/building_running_and_managing_containers/assembly_monitoring-containers\">Monitoring containers\u003C/a>.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"automation-and-gitops_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.10. Automation and GitOps\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can automate the building process by using CI/CD pipelines so that an update process can be triggered by events, such as updating an application. You can use automation tools that track these updates and trigger the CI/CD pipelines. The pipeline keeps the systems up to date by using the transactional background operating system updates.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"using-toolbx-to-inspect-bootc-containers_managing-rhel-bootc-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.11. Using Toolbx to inspect bootc containers\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tInstalling software on a system presents certain risks: it can change a system’s behavior, and can leave unwanted files and directories behind after they are no longer needed. You can prevent these risks by installing your favorite development and debugging tools, editors, and software development kits (SDKs) into the Toolbx utility included in the RHEL bootc, an image fully mutable container without affecting the base operating system. You can perform changes on the host system with commands such as \u003Ccode class=\"literal\">less\u003C/code>, \u003Ccode class=\"literal\">lsof\u003C/code>, \u003Ccode class=\"literal\">rsync\u003C/code>, \u003Ccode class=\"literal\">ssh\u003C/code>, \u003Ccode class=\"literal\">sudo\u003C/code>, and \u003Ccode class=\"literal\">unzip\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe Toolbx utility performs the following actions:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPulling the \u003Ccode class=\"literal\">registry.access.redhat.com/ubi9/toolbox:latest\u003C/code> image to your local system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStarting up a container from the image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRunning a shell inside the container from which you can access the host system\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tToolbx can run a root container or a rootless container, depending on the rights of the user who creates the Toolbx container. Utilities that would require root rights on the host system also should be run in root containers.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tThe default container name is \u003Ccode class=\"literal\">rhel-toolbox\u003C/code>. To inspect bootc containers, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart a Toolbx container by using the \u003Ccode class=\"literal\">toolbox create\u003C/code> command and enter the container with the \u003Ccode class=\"literal\">toolbox enter\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAs a rootless user:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>toolbox create \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAs a root user:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo toolbox create \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nCreated container: \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\nEnter with: toolbox enter\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tVerify that you pulled the correct image:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>toolbox list\u003C/strong>\u003C/span>\nIMAGE ID      IMAGE NAME    CREATED\nfe0ae375f149   registry.access.redhat.com/ubi{ProductVersion}/toolbox 5 weeks ago\n\nCONTAINER ID  CONTAINER NAME  CREATED         STATUS   IMAGE NAME\n5245b924c2cb  \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>       7 minutes ago   created  registry.access.redhat.com/ubi{ProductVersion}/toolbox:8.9-6\u003C/pre>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tEnter the Toolbx container:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>toolbox enter \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOptional: Check if you pulled the correct image\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnter a command inside the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\u003C/code> container and display the name of the container and the image:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢ [user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>cat /run/.containerenv\u003C/strong>\u003C/span>\nengine=\"podman-4.8.2\"\nname=\"\u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\"\nid=\"5245b924c2cb...\"\nimage=\"registry.access.redhat.com/ubi{ProductVersion}/toolbox\"\nimageid=\"fe0ae375f14919cbc0596142e3aff22a70973a36e5a165c75a86ea7ec5d8d65c\"\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the Toolbx to install the development tools:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall the tools of your choice, for example, the Emacs text editor, GCC compiler and GNU Debugger (GDB):\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo dnf install emacs gcc gdb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOptional: Verify that the tools are installed:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[user@toolbox ~]$  \u003Cspan class=\"strong strong\">\u003Cstrong>dnf repoquery --info --installed \u003Cspan class=\"emphasis\">\u003Cem>&lt;package_name&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter installation, you can continue using those tools as a rootless user.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse Toolbx to troubleshoot the host system without installing them on the host system.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">systemd\u003C/code> suite to be able to run the \u003Ccode class=\"literal\">journalctl\u003C/code> command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[root@toolbox ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install systemd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDisplay log messages for all processes running on the host:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[root@toolbox ~]# j \u003Cspan class=\"strong strong\">\u003Cstrong>journalctl --boot -0\u003C/strong>\u003C/span>\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: microcode: updated ear&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Linux version 6.6.8-10&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Command line: BOOT_IMA&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: x86/split lock detecti&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: BIOS-provided physical&gt;\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDisplay log messages for the kernel:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[root@toolbox ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>journalctl --boot -0 --dmesg\u003C/strong>\u003C/span>\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: microcode: updated ear&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Linux version 6.6.8-10&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: Command line: BOOT_IMA&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: x86/split lock detecti&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: BIOS-provided physical&gt;\nJan 02 09:06:48 user-thinkpadp1gen4i.brq.csb kernel: BIOS-e820: [mem 0x0000&gt;\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nmap\u003C/code> network scanning tool:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[root@toolbox ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nmap\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tScan IP addresses and ports in a network:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢[root@toolbox ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>nmap -sS scanme.nmap.org\u003C/strong>\u003C/span>\nStarting Nmap 7.93 ( https://nmap.org ) at 2024-01-02 10:39 CET\nStats: 0:01:01 elapsed; 0 hosts completed (0 up), 256 undergoing Ping Scan\nPing Scan Timing: About 29.79% done; ETC: 10:43 (0:02:24 remaining)\nNmap done: 256 IP addresses (0 hosts up) scanned in 206.45 seconds\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">-sS\u003C/code> option performs a TCP SYN scan. Most of Nmap’s scan types are only available to privileged users, because they send and receive raw packets, which requires root access on UNIX systems.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStop the Toolbx bootc container.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tLeave the container and return to the host:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢ [user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>exit\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tStop the toolbox container:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢ [user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman stop \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOptional: Remove the toolbox container:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">⬢ [user@toolbox ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>toolbox rm \u003Cspan class=\"emphasis\">\u003Cem>&lt;mytoolbox&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAlternatively, you can also use the \u003Ccode class=\"literal\">podman rm\u003C/code> command to remove the bootc container.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/blog/debugging-image-mode-hosts\">Debugging image mode hosts\u003C/a> article\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 9. Managing kernel arguments in bootc systems\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can use \u003Ccode class=\"literal\">bootc\u003C/code> to configure kernel arguments. By default, \u003Ccode class=\"literal\">bootc\u003C/code> uses the boot loader configuration files that are stored in \u003Ccode class=\"literal\">/boot/loader/entries\u003C/code>. This directory defines arguments provided to the Linux kernel. The set of kernel arguments is machine-specific state, but you can also manage the kernel arguments by using container updates. The boot loader menu entries are shared between multiple operating systems and boot loaders are installed on one device.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tCurrently, the boot loader entries are written by an OSTree backend.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"how-to-add-support-to-inject-kernel-arguments-with-bootc_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.1. How to add support to inject kernel arguments with bootc\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">bootc\u003C/code> tool uses generic operating system kernels. You can add support to inject kernel arguments by adding a custom configuration, in the TOML format, in \u003Ccode class=\"literal\">/usr/lib/bootc/kargs.d\u003C/code>. For example:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># /usr/lib/bootc/kargs.d/10-example.toml\nkargs = [\"mitigations=auto,nosmt\"]\u003C/pre>\u003Cp>\n\t\t\t\tYou can also make these kernel arguments architecture-specific by using the \u003Ccode class=\"literal\">match-architectures\u003C/code> key. For example:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># /usr/lib/bootc/kargs.d/00-console.toml\nkargs = [\"console=ttyS0,114800n8\"]\nmatch-architectures = [\"x86_64\"]\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"how-to-modify-kernel-arguments-by-using-bootc-install-configs_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.2. How to modify kernel arguments by using bootc install configs\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use \u003Ccode class=\"literal\">bootc install\u003C/code> to add kernel arguments during the install time in the following ways:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdding kernel arguments into the container image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdding kernel arguments by using the \u003Ccode class=\"literal\">bootc install --karg\u003C/code> command.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tYou can use the kernel arguments on Day 2 operations, by adding the arguments and applying them on a switch, upgrade, or edit. Adding kernel arguments and using it for Day 2 operations involves the following high-level steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate files within \u003Ccode class=\"literal\">/usr/lib/bootc/kargs.d\u003C/code> with kernel arguments.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFetch the container image to get the OSTree commit.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the OSTree commit to return the file tree.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNavigate to \u003Ccode class=\"literal\">/usr/lib/bootc/kargs.d\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRead each file within the directory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPush the contents of each \u003Ccode class=\"literal\">kargs\u003C/code> file into a file containing all the needed \u003Ccode class=\"literal\">kargs\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPass the \u003Ccode class=\"literal\">kargs\u003C/code> to the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>stage()\u003C/em>\u003C/span>\u003C/code> function.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tApply these arguments to switch, upgrade, or edit.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"how-to-inject-kernel-arguments-in-the-containerfile_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.3. How to inject kernel arguments in the Containerfile\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo add kernel arguments into a container image, use a Containerfile. The following is an example:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM registry.redhat.io/rhel9/rhel-bootc:latest\n\nRUN mkdir -p /usr/lib/bootc/kargs.d\nRUN cat &lt;&lt;EOF &gt;&gt; /usr/lib/bootc/kargs.d/console.toml\nkargs = [\"console=ttyS0,114800n8\"]\nmatch-architectures = [\"x86_64\"]\nEOF\n\nRUN cat &lt;&lt;EOF &gt;&gt; /usr/lib/bootc/kargs.d/01-mitigations.toml\nkargs = [\"mitigations=on\", \"systemd.unified_cgroup_hierarchy=0\"]\nmatch-architectures = [\"x86_64\", \"aarch64\"]\nEOF\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"how-to-inject-kernel-arguments-at-installation-time_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.4. How to inject kernel arguments at installation time\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use \u003Ccode class=\"literal\">boot install\u003C/code> with the \u003Ccode class=\"literal\">--karg\u003C/code> to inject kernel arguments during installation time. As a result, the kernel arguments become machine-local state.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor example, to inject kernel arguments, use the following command:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Ccode class=\"literal\">bootc install to-filesystem --karg\u003C/code>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tCurrently, bootc does not have an API to manipulate kernel arguments. This is only supported by \u003Ccode class=\"literal\">rpm-ostree\u003C/code> , by using the \u003Ccode class=\"literal\">rpm-ostree kargs\u003C/code> command.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"how-to-install-time-kernel-arguments-with-bootc-image-builder_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.5. How to add install-time kernel arguments with \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">bootc-image-builder\u003C/code> tool supports the \u003Ccode class=\"literal\">customizations.kernel.append\u003C/code> during install-time.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo add the kernel arguments with \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>, use the following customization:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">{\n  \"customizations\": {\n    \"kernel\": {\n      \"append\": \"mitigations=auto,nosmt\"\n    }\n  }\n}\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"about-changing-kernel-arguments-post-install-with-kargs-d_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.6. About changing kernel arguments post-install with kargs.d\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe changes that you make to \u003Ccode class=\"literal\">kargs.d\u003C/code> files and include in a container build are applied after the installation, and the difference between the set of kernel arguments is applied to the current boot loader configuration. This preserves any machine-local kernel arguments. You can use any tool to edit the \u003Ccode class=\"literal\">/boot/loader/entries\u003C/code> files, which are in a standardized format. The \u003Ccode class=\"literal\">/boot\u003C/code> file has read-only access to limit the set of tools that can write to this filesystem.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"how-to-edit-kernel-arguments-in-bootc-systems_managing-kernel-arguments-in-bootc-systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.7. How to edit kernel arguments in bootc systems\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo perform machine local changes, you also can edit kernel arguments on a bootc system or an`rpm-ostree` system, by using the \u003Ccode class=\"literal\">rpm-ostree kargs\u003C/code> command. The changes are made through the \u003Ccode class=\"literal\">user/lib/bootc/kargs.d\u003C/code> path, which also handles \"Day 2\" changes, besides the first boot changes.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following are the options that you can use to add, modify or remove kernel arguments.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Ccode class=\"literal\">rpm-ostree kargs [option]\u003C/code>\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">--append=KEY=VALUE \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAppends a kernel argument. It is useful with, for example, \u003Ccode class=\"literal\">console=\u003C/code> that can be used multiple times. You can use an empty value for an argument.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">--replace=KEY=VALUE=NEWVALUE \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tReplaces an existing kernel argument. You can replace an argument with \u003Ccode class=\"literal\">KEY=VALUE\u003C/code> only if one value already exists for that argument.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">--delete=KEY=VALUE \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tDeletes a specific kernel key-value pair argument or an entire argument with a single key-value pair.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">--append-if-missing=KEY=VALUE \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAppends a kernel argument. Does nothing if the key is already present.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">--delete-if-present=KEY=VALUE \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tDeletes a specific kernel key-value pair argument. Does nothing if the key is missing.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">--editor \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUses an editor to modify the kernel arguments.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tFor more information, check the help:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># rpm-ostree kargs --help\u003C/pre>\u003Cp>\n\t\t\t\tThe following is an example:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># rpm-ostree kargs --append debug\nStaging deployment... done\nFreed: 40.1 MB (pkgcache branches: 0)\nChanges queued for next boot. Run \"systemctl reboot\" to start a reboot\u003C/pre>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-file-systems-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 10. Managing file systems in image mode for RHEL\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tCurrently, image mode for RHEL uses OSTree as a backend, and enables \u003Ccode class=\"literal\">composefs\u003C/code> for storage by default. The \u003Ccode class=\"literal\">/opt\u003C/code> and \u003Ccode class=\"literal\">/usr/local\u003C/code> paths are plain directories, and not symbolic links into \u003Ccode class=\"literal\">/var\u003C/code>. This enables you to easily install third-party content in derived container images that write into \u003Ccode class=\"literal\">/opt\u003C/code> for example.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"physical-and-logical-root-with-sysroot_managing-file-systems-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.1. Physical and logical root with /sysroot\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWhen a system is fully booted, it is similar to \u003Ccode class=\"literal\">chroot\u003C/code>, that is, the operating system changes the apparent root directory for the current running process and its children. The physical host root filesystem is mounted at \u003Ccode class=\"literal\">/sysroot\u003C/code>. The \u003Ccode class=\"literal\">chroot\u003C/code> filesystem is called a deployment root.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe remaining filesystem paths are part of a deployment root which is used as a final target for the system boot. The system uses the \u003Ccode class=\"literal\">ostree=kernel\u003C/code> argument to find the deployment root.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">/usr\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis filesystem keeps all operating system content in \u003Ccode class=\"literal\">/usr\u003C/code>, with directories such as \u003Ccode class=\"literal\">/bin\u003C/code> working as symbolic links to \u003Ccode class=\"literal\">/usr/bin\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">composefs\u003C/code> enabled \u003Ccode class=\"literal\">/usr\u003C/code> is not different from \u003Ccode class=\"literal\">/\u003C/code>. Both directories are part of the same immutable image, so you do not need to perform a full \u003Ccode class=\"literal\">UsrMove\u003C/code> with a bootc system.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">/usr/local\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe base image is configured with \u003Ccode class=\"literal\">/usr/local\u003C/code> as the default directory.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">/etc\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/etc\u003C/code> directory contains mutable persistent state by default, but it supports enabling the \u003Ccode class=\"literal\">etc.transient config\u003C/code> option. When the directory is in mutable persistent state, it performs a 3-way merge across upgrades:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUses the new default \u003Ccode class=\"literal\">/etc\u003C/code> as a base\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tApplies the diff between current and previous \u003Ccode class=\"literal\">/etc\u003C/code> to the new \u003Ccode class=\"literal\">/etc\u003C/code> directory\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRetains locally modified files that are different from the default \u003Ccode class=\"literal\">/usr/etc\u003C/code> of the same deployment in \u003Ccode class=\"literal\">/etc\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">ostree-finalize-staged.service\u003C/code> executes these tasks during shutdown time, before creating the new boot loader entry.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis happens because many components of a Linux system ship default configuration files in the \u003Ccode class=\"literal\">/etc\u003C/code> directory. Even if the default package does not ship it, by default the software only checks for config files in \u003Ccode class=\"literal\">/etc\u003C/code>. Non bootc image based update systems with no distinct versions of \u003Ccode class=\"literal\">/etc\u003C/code> are populated only during the installation time, and will not be changed at any point after installation. This causes the \u003Ccode class=\"literal\">/etc\u003C/code> system state to be influenced by the initial image version and can lead to problems to apply a change, for example, to \u003Ccode class=\"literal\">/etc/sudoers.conf\u003C/code>, and requires external intervention. For more details about file configuration, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems\">Building and testing RHEL bootc images\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">/var\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe content in the \u003Ccode class=\"literal\">/var\u003C/code> directory is persistent by default. You can also make \u003Ccode class=\"literal\">/var\u003C/code> or subdirectories mount points be persistent, whether network or \u003Ccode class=\"literal\">tmpfs\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tThere is just one \u003Ccode class=\"literal\">/var\u003C/code> directory. If it is not a distinct partition, then physically the \u003Ccode class=\"literal\">/var\u003C/code> directory is a bind mount into \u003Ccode class=\"literal\">/ostree/deploy/$stateroot/var\u003C/code> and is shared across the available boot loader entries deployments.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, the content in \u003Ccode class=\"literal\">/var\u003C/code> acts as a volume, that is, the content from the container image is copied during the initial installation time, and is not updated thereafter.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">/var\u003C/code> and the \u003Ccode class=\"literal\">/etc\u003C/code> directories are different. You can use \u003Ccode class=\"literal\">/etc\u003C/code> for relatively small configuration files, and the expected configuration files are often bound to the operating system binaries in \u003Ccode class=\"literal\">/usr\u003C/code>. The \u003Ccode class=\"literal\">/var\u003C/code> directory has arbitrarily large data, for example, system logs, databases, and by default, will not be rolled back if the operating system state is rolled back.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor example, making an update such as \u003Ccode class=\"literal\">dnf downgrade postgresql\u003C/code> should not affect the physical database in \u003Ccode class=\"literal\">/var/lib/postgres\u003C/code>. Similarly, making a \u003Ccode class=\"literal\">bootc update\u003C/code> or \u003Ccode class=\"literal\">bootc rollback\u003C/code> do not affect this application data.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tHaving \u003Ccode class=\"literal\">/var\u003C/code> separate also makes it work cleanly to stage new operating system updates before applying them, that is, updates are downloaded and ready, but only take effect on reboot. The same applies for Docker volume, as it decouples the application code from its data.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use this case if you want applications to have a pre-created directory structure, for example, \u003Ccode class=\"literal\">/var/lib/postgresql\u003C/code>. Use \u003Ccode class=\"literal\">systemd tmpfiles.d\u003C/code> for this. You can also use \u003Ccode class=\"literal\">StateDirectory=\u003Cspan class=\"emphasis\">\u003Cem>&lt;directory&gt;\u003C/em>\u003C/span>\u003C/code> in units.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Other directories\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThere is no support to ship content in \u003Ccode class=\"literal\">/run\u003C/code>, \u003Ccode class=\"literal\">/proc\u003C/code> or other API Filesystems in container images. Apart from that, other top level directories such as \u003Ccode class=\"literal\">/usr\u003C/code>, and \u003Ccode class=\"literal\">/opt\u003C/code>, are lifecycled with the container image.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">/opt\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tWith \u003Ccode class=\"literal\">bootc\u003C/code> using \u003Ccode class=\"literal\">composefs\u003C/code>, the \u003Ccode class=\"literal\">/opt\u003C/code> directory is read-only, alongside other top levels directories such as \u003Ccode class=\"literal\">/usr\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tWhen a software needs to write to its own directory in \u003Ccode class=\"literal\">/opt/exampleapp\u003C/code>, a common pattern is to use a symbolic link to redirect to, for example, \u003Ccode class=\"literal\">/var\u003C/code> for operations such as log files:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">RUN rmdir /opt/exampleapp/logs &amp;&amp; ln -sr /var/log/exampleapp /opt/exampleapp/logs\u003C/pre>\u003Cp>\n\t\t\t\tOptionally, you can configure the systemd unit to launch the service to do these mounts dynamically. For example:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">BindPaths=/var/log/exampleapp:/opt/exampleapp/logs\u003C/pre>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Enabling transient root\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tTo enable a fully transient writable \u003Ccode class=\"literal\">rootfs\u003C/code> by default, set the following option in \u003Ccode class=\"literal\">prepare-root.conf\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cpre class=\"literallayout\">[root]\ntransient = true\u003C/pre>\u003Cp>\n\t\t\t\tThis enables a software to transiently writes to \u003Ccode class=\"literal\">/opt\u003C/code>, with symlinks to \u003Ccode class=\"literal\">/var\u003C/code> for content that must persist.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"version-selection-and-bootup_managing-file-systems-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.2. Version selection and bootup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tImage mode for RHEL uses GRUB by default, with exception to \u003Ccode class=\"literal\">s390x\u003C/code> architectures. Each version of image mode for RHEL currently available on a system has a menu entry.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe menu entry references an OSTree deployment which consists of a Linux kernel, an \u003Ccode class=\"literal\">initramfs\u003C/code> and a hash linking to an OSTree commit, that you can pass by using the \u003Ccode class=\"literal\">ostree=kernel\u003C/code> argument.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tDuring bootup, OSTree reads the kernel argument to determine which deployment to use as the root filesystem. Each update or change to the system, such as package installation, addition of kernel arguments, creates a new deployment.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis enables rolling back to a previous deployment if the update causes problems.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 11. Appendix: Managing users, groups, SSH keys, and secrets in image mode for RHEL\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tLearn more about users, groups, SSH keys, and secrets management in image mode for RHEL.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.1. Users and groups configuration\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tImage mode for RHEL is a generic operating system update and configuration mechanism. You cannot use it to configure users or groups. The only exception is the \u003Ccode class=\"literal\">bootc install\u003C/code> command that has the \u003Ccode class=\"literal\">--root-ssh-authorized-keys\u003C/code> option.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Users and groups configuration for generic base images\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUsually, the distribution base images do not have any configuration. Do not encrypt passwords and SSH keys with publicly-available private keys in generic images because of security risks.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting SSH keys through \u003Ccode class=\"literal\">systemd\u003C/code> credentials\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tYou can use \u003Ccode class=\"literal\">systemd\u003C/code> to inject a root password or SSH \u003Ccode class=\"literal\">authorized_keys\u003C/code> file in some environments. For example, use System Management BIOS (SMBIOS) to inject SSH keys system firmware. You can configure this in local virtualization environments, such as \u003Ccode class=\"literal\">qemu\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting users and SSH keys by using \u003Ccode class=\"literal\">cloud-init\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tMany Infrastructure as a service (IaaS) and virtualization systems use metadata servers that are commonly processed by software such as \u003Ccode class=\"literal\">cloud-init\u003C/code> or \u003Ccode class=\"literal\">ignition\u003C/code>. See \u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\">AWS instance metadata\u003C/a>. The base image you are using might include \u003Ccode class=\"literal\">cloud-init\u003C/code> or Ignition, or you can install it in your own derived images. In this model, the SSH configuration is managed outside of the bootc image.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Adding users and credentials by using container or unit custom logic\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSystems such as \u003Ccode class=\"literal\">cloud-init\u003C/code> are not privileged. You can inject any logic you want to manage credentials in the way you want to launch a container image, for example, by using a \u003Ccode class=\"literal\">systemd\u003C/code> unit. To manage the credentials, you can use a custom network-hosted source, for example, \u003Ca class=\"link\" href=\"https://www.freeipa.org/page/Main_Page\">FreeIPA\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Adding users and credentials statically in the container build\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn package-oriented systems, you can use the derived build to inject users and credentials by using the following command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Ccode class=\"literal\">RUN useradd someuser\u003C/code>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can find issues in the default \u003Ccode class=\"literal\">shadow-utils\u003C/code> implementation of \u003Ccode class=\"literal\">useradd\u003C/code>: Users and groups IDs are allocated dynamically, and this can cause drift.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">User and group home directories and \u003Ccode class=\"literal\">/var\u003C/code> directory\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor systems configured with persistent \u003Ccode class=\"literal\">/home → /var/home\u003C/code>, any changes to \u003Ccode class=\"literal\">/var\u003C/code> made in the container image after initial installation will not be applied on subsequent updates.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, if you inject \u003Ccode class=\"literal\">/var/home/someuser/.ssh/authorized_keys\u003C/code> into a container build, existing systems do not get the updated \u003Ccode class=\"literal\">authorized_keys\u003C/code> file.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Using DynamicUser=yes for \u003Ccode class=\"literal\">systemd\u003C/code> units\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">systemd\u003C/code> \u003Ccode class=\"literal\">DynamicUser=yes\u003C/code> option where possible for system users.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis is significantly better than the pattern of allocating users or groups at package install time, because it avoids potential UID or GID drift.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Using \u003Ccode class=\"literal\">systemd\u003C/code>-sysusers\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse \u003Ccode class=\"literal\">systemd\u003C/code>-sysusers, for example, in your derived build. For more information, see the \u003Ccode class=\"literal\">systemd\u003C/code> \u003Ca class=\"link\" href=\"https://www.freedesktop.org/software/systemd/man/latest/systemd-sysusers.html\">-sysusers\u003C/a> documentation.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">COPY mycustom-user.conf /usr/lib/sysusers.d\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">sysusers\u003C/code> tool makes changes to the traditional \u003Ccode class=\"literal\">/etc/passwd\u003C/code> file as necessary during boot time. If \u003Ccode class=\"literal\">/etc\u003C/code> is persistent, this can avoid \u003Ccode class=\"literal\">UID\u003C/code> or \u003Ccode class=\"literal\">GID\u003C/code> drift. It means that the \u003Ccode class=\"literal\">UID\u003C/code> or \u003Ccode class=\"literal\">GID\u003C/code> allocation depends on how a specific machine was upgraded over time.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Using \u003Ccode class=\"literal\">systemd\u003C/code> JSON user records\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://systemd.io/USER_RECORD/\">JSON user records\u003C/a> \u003Ccode class=\"literal\">systemd\u003C/code> documentation. Unlike \u003Ccode class=\"literal\">sysusers\u003C/code>, the canonical state for these users lives in \u003Ccode class=\"literal\">/usr\u003C/code>. If a subsequent image drops a user record, then it also vanishes from the system.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Using \u003Ccode class=\"literal\">nss-altfiles\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWith \u003Ccode class=\"literal\">nss-altfiles\u003C/code>, you can remove the \u003Ccode class=\"literal\">systemd\u003C/code> JSON user records. It splits system users into \u003Ccode class=\"literal\">/usr/lib/passwd\u003C/code> and \u003Ccode class=\"literal\">/usr/lib/group\u003C/code>, aligning with the way the OSTree project handles the 3 way merge for \u003Ccode class=\"literal\">/etc\u003C/code> as it relates to \u003Ccode class=\"literal\">/etc/passwd\u003C/code>. Currently, if the \u003Ccode class=\"literal\">/etc/passwd\u003C/code> file is modified in any way on the local system, then subsequent changes to \u003Ccode class=\"literal\">/etc/passwd\u003C/code> in the container image are not applied.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBase images built by \u003Ccode class=\"literal\">rpm-ostree\u003C/code> have \u003Ccode class=\"literal\">nns-altfiles\u003C/code> enabled by default.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAlso, base images have a system users pre-allocated and managed by the NSS file to avoid UID or GID drift.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn a derived container build, you can also append users to \u003Ccode class=\"literal\">/usr/lib/passwd\u003C/code>, for example. Use \u003Ccode class=\"literal\">sysusers.d\u003C/code> or \u003Ccode class=\"literal\">DynamicUser=yes\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Machine-local state for users\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe filesystem layout depends on the base image.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy default, the user data is stored in both \u003Ccode class=\"literal\">/etc\u003C/code>, \u003Ccode class=\"literal\">/etc/passwd\u003C/code>, \u003Ccode class=\"literal\">/etc/shadow\u003C/code> and \u003Ccode class=\"literal\">groups\u003C/code>, and \u003Ccode class=\"literal\">/home\u003C/code>, depending on the base image. However, the generic base images have to both be machine-local persistent state. In this model \u003Ccode class=\"literal\">/home\u003C/code> is a symlink to \u003Ccode class=\"literal\">/var/home/\u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting users and SSH keys at system provisioning time\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor base images where \u003Ccode class=\"literal\">/etc\u003C/code> and \u003Ccode class=\"literal\">/var\u003C/code> are configured to persist by default, you can inject users by using installers such as Anaconda or Kickstart.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTypically, generic installers are designed for one time bootstrap. Then, the configuration becomes a mutable machine-local state that you can change in Day 2 operations, by using some other mechanism.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can use the Anaconda installer to set the initial password. However, changing this initial password requires a different in-system tool, such as \u003Ccode class=\"literal\">passwd\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThese flows work equivalently in a \u003Ccode class=\"literal\">bootc-compatible\u003C/code> system, to support users directly installing generic base images, without requiring changes to the different in-system tool.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Transient home directories\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMany operating system deployments minimize persistent, mutable, and executable state. This can damage user home directories.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/home\u003C/code> directory can be set as \u003Ccode class=\"literal\">tmpfs\u003C/code>, to ensure that user data is cleared across reboots. This approach works especially well when combined with a transient \u003Ccode class=\"literal\">/etc\u003C/code> directory.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo set up the user’s home directory to, for example, inject SSH \u003Ccode class=\"literal\">authorized_keys\u003C/code> or other files, use the \u003Ccode class=\"literal\">systemd\u003C/code> \u003Ccode class=\"literal\">tmpfiles.d\u003C/code> snippets:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">f~ /home/\u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span>/.ssh/\u003Cspan class=\"emphasis\">\u003Cem>authorized_keys\u003C/em>\u003C/span> 600 \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> - &lt;base64 encoded data&gt;\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSH is embedded in the image as: \u003Ccode class=\"literal\">/usr/lib/tmpfiles.d/&lt;username-keys.conf\u003C/code>. Another example is a service embedded in the image that can fetch keys from the network and write them. This is the pattern used by \u003Ccode class=\"literal\">cloud-init\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">UID and GID drift\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/etc/passwd\u003C/code> and similar files are a mapping between names and numeric identifiers. When the mapping is dynamic and mixed with \"stateless\" container image builds, it can cause issues. Each container image build might result in the UID changing due to RPM installation ordering or other reasons. This can be a problem if that user maintains a persistent state. To handle such cases, convert it to use \u003Ccode class=\"literal\">sysusers.d\u003C/code> or use \u003Ccode class=\"literal\">DynamicUser=yes\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.2. Injecting secrets in image mode for RHEL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tImage mode for RHEL does not have an opinionated mechanism for secrets. You can inject container pull secrets in your system for some cases, for example:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor \u003Ccode class=\"literal\">bootc\u003C/code> to fetch updates from a registry that requires authentication, you must include a pull secret in a file. In the following example, the \u003Ccode class=\"literal\">creds\u003C/code> secret contains the registry pull secret.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM registry.redhat.io/rhel9/bootc-image-builder:latest\nCOPY containers-auth.conf /usr/lib/tmpfiles.d/link-podman-credentials.conf\nRUN --mount=type=secret,id=creds,required=true cp /run/secrets/creds /usr/lib/container-auth.json &amp;&amp; \\\n    chmod 0600 /usr/lib/container-auth.json &amp;&amp; \\\n    ln -sr /usr/lib/container-auth.json /etc/ostree/auth.json\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo build it, run \u003Ccode class=\"literal\">podman build --secret id=creds,src=$HOME/.docker/config.json\u003C/code>. Use a single pull secret for \u003Ccode class=\"literal\">bootc\u003C/code> and Podman by using a symlink to both locations to a common persistent file embedded in the container image, for example \u003Ccode class=\"literal\">/usr/lib/container-auth.json\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor Podman to fetch container images, include a pull secret to \u003Ccode class=\"literal\">/etc/containers/auth.json\u003C/code>. With this configuration, the two stacks share the \u003Ccode class=\"literal\">/usr/lib/container-auth.json\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Injecting secrets by embedding them in a container build\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tYou can include secrets in the container image if the registry server is suitably protected. In some cases, embedding only bootstrap secrets into the container image is a viable pattern, especially alongside a mechanism for having a machine authenticate to a cluster. In this pattern, a provisioning tool, whether run as part of the host system or a container image, uses the bootstrap secret to inject or update other secrets, such as SSH keys, certificates, among others.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting secrets by using cloud metadata\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tMost production Infrastructure as a Service (IaaS) systems support a metadata server or equivalent which can securely host secrets, particularly bootstrap secrets. Your container image can include tools such as \u003Ccode class=\"literal\">cloud-init\u003C/code> or \u003Ccode class=\"literal\">ignition\u003C/code> to fetch these secrets.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting secrets by embedding them in disk images\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tYou can embed \u003Ccode class=\"literal\">bootstrap secrets\u003C/code> only in disk images. For example, when you generate a cloud disk image from an input container image, such as AMI or OpenStack, the disk image can contain secrets that are effectively machine-local state. Rotating them requires an additional management tool or refreshing the disk images.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting secrets by using bare metal installers\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tInstaller tools usually support injecting configuration through secrets.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Injecting secrets through \u003Ccode class=\"literal\">systemd\u003C/code> credentials\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">systemd\u003C/code> project has a credential concept for securely acquiring and passing credential data to systems and services, which applies in some deployment methodologies. See the \u003Ca class=\"link\" href=\"https://systemd.io/CREDENTIALS/\">systemd credentials\u003C/a> documentation for more details.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://github.com/redhat-cop/rhel-bootc-examples\">Example bootc images\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-container-pull-secrets_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.3. Configuring container pull secrets\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo be able to fetch container images, you must configure a host system with a \"pull secret\", which includes the host updates itself. See the appendix about \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">Injecting secrets in image mode for RHEL\u003C/a> documentation for more details.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can configure the container pull secrets to an image already built. If you use an external installer such as Anaconda for bare metal, or \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>, you must configure the systems with any applicable pull secrets.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe host bootc updates write the configuration to the \u003Ccode class=\"literal\">/etc/ostree/auth.json\u003C/code> file, which is shared with \u003Ccode class=\"literal\">rpm-ostree\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tPodman does not have system wide credentials. Podman accepts the \u003Ccode class=\"literal\">containers-auth\u003C/code> locations that are underneath the following directories:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/run\u003C/code>: The content of this directory vanishes on reboot, which is not desired.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/root\u003C/code>: Part of root’s home directory, which is local mutable state by default.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo unify \u003Ccode class=\"literal\">bootc\u003C/code> and Podman credentials, use a single default global pull secret for both \u003Ccode class=\"literal\">bootc\u003C/code> and Podman. The following container build is an example to unify the \u003Ccode class=\"literal\">bootc\u003C/code> and the Podman credentials. The example expects a secret named \u003Ccode class=\"literal\">creds\u003C/code> to contain the registry pull secret to build.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTBD\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a symbolic link between \u003Ccode class=\"literal\">bootc\u003C/code> and Podman to use a single pull secret. By creating the symbolic link, you ensure that both locations are present to a common persistent file embedded in the container image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/usr/lib/container-auth.json\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM quay.io/\u003Cspan class=\"emphasis\">\u003Cem>&lt;namespace&gt;\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>&lt;image&gt;\u003C/em>\u003C/span>:_&lt;tag&gt;_\nCOPY containers-auth.conf /usr/lib/tmpfiles.d/link-podman-credentials.conf\nRUN --mount=type=secret,id=creds,required=true cp /run/secrets/creds /usr/lib/container-auth.json &amp;&amp; \\\n    chmod 0600 /usr/lib/container-auth.json &amp;&amp; \\\n    ln -sr /usr/lib/container-auth.json /etc/ostree/auth.json\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhen you run the Containerfile, the following actions happen:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe Containerfile makes \u003Ccode class=\"literal\">/run/containers/0/auth.json\u003C/code> a transient runtime file.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIt creates a symbolic link to the \u003Ccode class=\"literal\">/usr/lib/container-auth.json\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIt also creates a persistent file, which is also symbolic linked from \u003Ccode class=\"literal\">/etc/ostree/auth.json\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"injecting-pull-secrets-for-registries-and-disabling-tls_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.4. Injecting pull secrets for registries and disabling TLS\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can configure container images, pull secrets, and disable TLS for a registry within a system. These actions enable containerized environments to pull images from private or insecure registries.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can include container pull secrets and other configuration to access a registry inside the base image. However, when installing by using Anaconda, the installation environment might need a duplicate copy of \"bootstrap\" configuration to access the targeted registry when fetching over the network.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo perform arbitrary changes to the installation environment before the target bootc container image is fetched, you can use the Anaconda \u003Ccode class=\"literal\">%pre\u003C/code> command.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure a pull secret:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">%pre\nmkdir -p /etc/ostree\ncat &gt; /etc/ostree/auth.json &lt;&lt; 'EOF'\n{\n        \"auths\": {\n                \"quay.io\": {\n                        \"auth\": \"&lt;your secret here&gt;\"\n                }\n        }\n}\nEOF\n%end\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWith this configuration, the system pulls images from \u003Ccode class=\"literal\">quay.io\u003C/code> using the provided authentication credentials, which are stored in \u003Ccode class=\"literal\">/etc/ostree/auth.json\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable TLS for an insecure registry:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">%pre\nmkdir -p /etc/containers/registries.conf.d/\ncat &gt; /etc/containers/registries.conf.d/local-registry.conf &lt;&lt; 'EOF'\n\n[[registry]]\nlocation=\"[IP_Address]:5000\"\ninsecure=true\nEOF\n%end\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWith this configuration, the system pulls container images from a registry that is not secured with TLS. You can use it in development or internal networks.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tYou can also use \u003Ccode class=\"literal\">%pre\u003C/code> to:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFetch data from the network by using binaries included in the installation environment, such as \u003Ccode class=\"literal\">curl\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInject trusted certificate authorities into the installation environment \u003Ccode class=\"literal\">/etc/pki/ca-trust/source/anchors\u003C/code> by using the \u003Ccode class=\"literal\">update-ca-trust\u003C/code> command.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tYou can configure insecure registries similarly by modifying the \u003Ccode class=\"literal\">/etc/containers\u003C/code> directory.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"system-configuration\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 12. Appendix: System configuration\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"transient-runtime-reconfiguration_system-configuration\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.1. Transient runtime reconfiguration\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can perform a dynamic reconfiguration in the base image configuration. For example, you can run the \u003Ccode class=\"literal\">firewall-cmd --permanent\u003C/code> command to achieve persistent changes across a reboot.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">/etc\u003C/code> directory is persistent by default. If you perform changes made by using tools, for example \u003Ccode class=\"literal\">firewall-cmd --permanent\u003C/code>, the contents of the \u003Ccode class=\"literal\">/etc\u003C/code> on the system can differ from the one described in the container image.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tIn the default configuration, first make the changes in the base image, then queue the changes without restarting running systems, and then simultaneously write to apply the changes to existing systems only in memory.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can configure the \u003Ccode class=\"literal\">/etc\u003C/code> directory to be transient by using bind mounts. In this case, the \u003Ccode class=\"literal\">etc\u003C/code> directory is a part of the machine’s local root filesystem. For example, if you inject static IP addresses by using Anaconda kickstarts, they persist across upgrades.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tA 3-way merge is applied across upgrades and each \"deployment\" has its own copy of \u003Ccode class=\"literal\">/etc\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">The \u003Ccode class=\"literal\">/run\u003C/code> directory\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/run\u003C/code> directory is an API filesystem that is defined to be deleted when the system is restarted. Use the \u003Ccode class=\"literal\">/run\u003C/code> directory for transient files.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Dynamic reconfiguration models\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIn the Pull model, you can include code directly embedded in your base image or a privileged container that contacts the remote network server for configuration, and subsequently launch additional container images, by using the Podman API.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tIn the Push model, some workloads are implemented by tooling such as Ansible.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">systemd\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tYou can use systemd units for dynamic transient reconfiguration by writing to \u003Ccode class=\"literal\">/run/systemd\u003C/code> directory. For example, the \u003Ccode class=\"literal\">systemctl edit --runtime myservice.service\u003C/code> dynamically changes the configuration of the \u003Ccode class=\"literal\">myservice.service\u003C/code> unit, without persisting the changes.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">NetworkManager\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUse a \u003Ccode class=\"literal\">/run/NetworkManager/conf.d\u003C/code> directory for applying temporary network configuration. Use the \u003Ccode class=\"literal\">nmcli connection modify --temporary\u003C/code> command to write changes only in memory. Without the \u003Ccode class=\"literal\">--temporary\u003C/code> option, the command writes persistent changes.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">podman\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">podman run --rm\u003C/code> command to automatically remove the container when it exits. Without the \u003Ccode class=\"literal\">--rm\u003C/code> option, the \u003Ccode class=\"literal\">podman run\u003C/code> command creates a container that persists across system reboots.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-dnf_system-configuration\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.2. Using dnf\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">rhel9/rhel-bootc\u003C/code> container image includes \u003Ccode class=\"literal\">dnf\u003C/code>. There are several use cases:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Using \u003Ccode class=\"literal\">dnf\u003C/code> as a part of a container build\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">RUN dnf install\u003C/code> directive in the Containerfile.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Using \u003Ccode class=\"literal\">dnf\u003C/code> at runtime\u003C/span>\u003C/dt>\u003Cdd>\u003C!--Empty-->\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe functionality depends on the \u003Ccode class=\"literal\">dnf\u003C/code> version. You might get an error: \u003Ccode class=\"literal\">error: can’t create transaction lock on /usr/share/rpm/.rpm.lock (Read-only file system)\u003C/code>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">bootc-usr-overlay\u003C/code> command to create a writable overlay filesystem for \u003Ccode class=\"literal\">/usr\u003C/code> directory. The \u003Ccode class=\"literal\">dnf install\u003C/code> writes to this overlay. You can use this feature for installing debugging tools. Note that changes will be lost on reboot.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Configuring storage\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe supported storage technologies are the following:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">xfs\u003C/code>/\u003Ccode class=\"literal\">ext4\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tLogical volume management (LVM)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tLinux Unified Key Setup (LUKS)\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tYou can add other storage packages to the host system.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Storage with \u003Ccode class=\"literal\">bootc-image-builder\u003C/code>\u003C/strong>\u003C/span> You can use the bootc-image-builder tool to create a disk image. The available configuration for partitioning and layout is relatively fixed. The default filesystem type is derived from the container image’s bootc install configuration.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Storage with bootc install\u003C/strong>\u003C/span> You can use the \u003Ccode class=\"literal\">bootc install to-disk\u003C/code> command for flat storage configurations and \u003Ccode class=\"literal\">bootc install to-filesytem\u003C/code> command for more advanced installations. For more information see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/{ProductNumberLink]/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index#advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images\">Advanced installation with \u003Ccode class=\"literal\">to-filesystem\u003C/code>\u003C/a>.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"setting-a-hostname_system-configuration\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.3. Setting a hostname\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo set a custom hostname for your system, modify the \u003Ccode class=\"literal\">/etc/hostname\u003C/code> file. You can set the hostname by using Anaconda, or with a privileged container.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOnce you boot a system, you can verify the hostname by using the \u003Ccode class=\"literal\">hostnamectl\u003C/code> command.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proxied-internet-access_system-configuration\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.4. Proxied Internet Access\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you are deploying to an environment requiring internet access by using a proxy, you need to configure services so that they can access resources as intended.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis is done by defining a single file with required environment variables in your configuration, and to reference this by using \u003Ccode class=\"literal\">systemd\u003C/code> drop-in unit files for all such services.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Defining common proxy environment variables\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis common file has to be subsequently referenced explicitly by each service that requires internet access.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cpre class=\"screen\"># /etc/example-proxy.env\nhttps_proxy=\"http://example.com:8080\"\nall_proxy=\"http://example.com:8080\"\nhttp_proxy=\"http://example.com:8080\"\nHTTP_PROXY=\"http://example.com:8080\"\nHTTPS_PROXY=\"http://example.com:8080\"\nno_proxy=\"*.example.com,127.0.0.1,0.0.0.0,localhost\"\u003C/pre>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Defining drop-in units for core services\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">bootc\u003C/code> and \u003Ccode class=\"literal\">podman\u003C/code> tools commonly need proxy configuration. At the current time, \u003Ccode class=\"literal\">bootc\u003C/code> does not always run as a \u003Ccode class=\"literal\">systemd\u003C/code> unit.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cpre class=\"screen\"># /usr/lib/systemd/system/bootc-fetch-apply-updates.service.d/99-proxy.conf\n[Service]\nEnvironmentFile=/etc/example-proxy.env\u003C/pre>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Defining proxy use for podman \u003Ccode class=\"literal\">systemd\u003C/code> units\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsing the Podman \u003Ccode class=\"literal\">systemd\u003C/code> configuration, similarly add \u003Ccode class=\"literal\">EnvironmentFile=/etc/example-proxy.env\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can set the configuration for proxy and environment settings of \u003Ccode class=\"literal\">podman\u003C/code> and containers in the \u003Ccode class=\"literal\">/etc/containers/containers.conf\u003C/code> configuration file as a root user or in the \u003Ccode class=\"literal\">$HOME/.config/containers/containers.conf\u003C/code> configuration file as a non-root user.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"getting-the-source-code-of-container-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 13. Appendix: Getting the source code of container images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can find the source code for bootc image in the \u003Ca class=\"link\" href=\"https://catalog.redhat.com/search\">Red Hat Ecosystem Catalog\u003C/a>.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAccess the \u003Ca class=\"link\" href=\"https://catalog.redhat.com/search\">Red Hat Ecosystem Catalog\u003C/a> and search for \u003Ccode class=\"literal\">rhel-bootc\u003C/code>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Get this image\u003C/strong>\u003C/span> tab, click \u003Cspan class=\"strong strong\">\u003Cstrong>Get the source\u003C/strong>\u003C/span> and follow the instructions.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tAfter you extract the content, the input RPM package list and other content resources are available in the \u003Ccode class=\"literal\">extra_src_dir\u003C/code> directory.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tThe .tar ﬁles are snapshots of the input git repository, and contain YAML files with the package lists.\n\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"contributing-to-the-upstream-projects\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 14. Appendix: Contributing to the upstream projects\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can contribute to the following upstream bootc projects:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tThe upstream git repository is in \u003Ca class=\"link\" href=\"https://gitlab.com/redhat/centos-stream/containers/bootc\">CentOS Stream\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tThe CentOS Stream sources primarily track the \u003Ca class=\"link\" href=\"https://docs.fedoraproject.org/en-US/bootc\">Fedora upstream project\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm139697802078448\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[13,20,25,39,61,75,125,138,180,193,243,276,290,312,334,339,344],{"title":10,"visible":14,"weight":15,"urlFragment":16,"anchor":17,"singlePageAnchor":17,"docTitle":18,"url":19},true,1,"index",null,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems","#",{"title":21,"visible":14,"weight":22,"urlFragment":23,"anchor":17,"singlePageAnchor":23,"docTitle":18,"url":24},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems","#proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":26,"visible":14,"weight":27,"urlFragment":28,"anchor":17,"singlePageAnchor":28,"sections":29,"docTitle":18,"url":38},"1. Introducing image mode for RHEL",3,"introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",[30,34],{"title":31,"visible":14,"weight":15,"urlFragment":28,"anchor":32,"singlePageAnchor":32,"docTitle":18,"url":33},"1.1. Prerequisites","prerequisites","#prerequisites",{"title":35,"visible":14,"weight":22,"urlFragment":28,"anchor":36,"singlePageAnchor":36,"docTitle":18,"url":37},"1.2. Additional resources","additional_resources","#additional_resources","#introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":40,"visible":14,"weight":41,"urlFragment":42,"anchor":17,"singlePageAnchor":42,"sections":43,"docTitle":18,"url":60},"2. Building and testing RHEL bootc images",4,"building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",[44,48,52,56],{"title":45,"visible":14,"weight":15,"urlFragment":42,"anchor":46,"singlePageAnchor":46,"docTitle":18,"url":47},"2.1. Building a container image","building-a-container-image_building-and-testing-the-rhel-bootable-container-images","#building-a-container-image_building-and-testing-the-rhel-bootable-container-images",{"title":49,"visible":14,"weight":22,"urlFragment":42,"anchor":50,"singlePageAnchor":50,"docTitle":18,"url":51},"2.2. Building derived bootable images by using multi-stage builds","building-derived-bootable-images-by-using-multi-stage-builds_building-and-testing-the-rhel-bootable-container-images","#building-derived-bootable-images-by-using-multi-stage-builds_building-and-testing-the-rhel-bootable-container-images",{"title":53,"visible":14,"weight":27,"urlFragment":42,"anchor":54,"singlePageAnchor":54,"docTitle":18,"url":55},"2.3. Running a container image","running-a-container-image_building-and-testing-the-rhel-bootable-container-images","#running-a-container-image_building-and-testing-the-rhel-bootable-container-images",{"title":57,"visible":14,"weight":41,"urlFragment":42,"anchor":58,"singlePageAnchor":58,"docTitle":18,"url":59},"2.4. Pushing a container image to the registry","pushing-a-container-image-to-the-registry_building-and-testing-the-rhel-bootable-container-images","#pushing-a-container-image-to-the-registry_building-and-testing-the-rhel-bootable-container-images","#building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":62,"visible":14,"weight":63,"urlFragment":64,"anchor":17,"singlePageAnchor":64,"sections":65,"docTitle":18,"url":74},"3. Building and managing logically bound images",5,"building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",[66,70],{"title":67,"visible":14,"weight":15,"urlFragment":64,"anchor":68,"singlePageAnchor":68,"docTitle":18,"url":69},"3.1. The logically bound images","the-logically-bound-images_building-and-managing-logically-bound-images","#the-logically-bound-images_building-and-managing-logically-bound-images",{"title":71,"visible":14,"weight":22,"urlFragment":64,"anchor":72,"singlePageAnchor":72,"docTitle":18,"url":73},"3.2. Using logically bound images","using-logically-bound-images_building-and-managing-logically-bound-images","#using-logically-bound-images_building-and-managing-logically-bound-images","#building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":76,"visible":14,"weight":77,"urlFragment":78,"anchor":17,"singlePageAnchor":78,"sections":79,"docTitle":18,"url":124},"4. Creating bootc compatible base disk images with bootc-image-builder",6,"creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",[80,84,88,92,96,100,104,109,114,119],{"title":81,"visible":14,"weight":15,"urlFragment":78,"anchor":82,"singlePageAnchor":82,"docTitle":18,"url":83},"4.1. Introducing image mode for RHEL for bootc-image-builder","introducing-image-mode-for-rhel-for-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#introducing-image-mode-for-rhel-for-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":85,"visible":14,"weight":22,"urlFragment":78,"anchor":86,"singlePageAnchor":86,"docTitle":18,"url":87},"4.2. Installing bootc-image-builder","installing-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#installing-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":89,"visible":14,"weight":27,"urlFragment":78,"anchor":90,"singlePageAnchor":90,"docTitle":18,"url":91},"4.3. Creating QCOW2 images by using bootc-image-builder","creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-qcow2-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":93,"visible":14,"weight":41,"urlFragment":78,"anchor":94,"singlePageAnchor":94,"docTitle":18,"url":95},"4.4. Creating VMDK images by using bootc-image-builder","creating-vmdk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-vmdk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":97,"visible":14,"weight":63,"urlFragment":78,"anchor":98,"singlePageAnchor":98,"docTitle":18,"url":99},"4.5. Creating GCE images by using bootc-image-builder","creating-gce-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-gce-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":101,"visible":14,"weight":77,"urlFragment":78,"anchor":102,"singlePageAnchor":102,"docTitle":18,"url":103},"4.6. Creating AMI images by using bootc-image-builder and uploading it to AWS","creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-ami-images-by-using-bootc-image-builder-and-uploading-it-to-aws_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":105,"visible":14,"weight":106,"urlFragment":78,"anchor":107,"singlePageAnchor":107,"docTitle":18,"url":108},"4.7. Creating Raw disk images by using bootc-image-builder",7,"creating-raw-disk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-raw-disk-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":110,"visible":14,"weight":111,"urlFragment":78,"anchor":112,"singlePageAnchor":112,"docTitle":18,"url":113},"4.8. Creating ISO images by using bootc-image-builder",8,"creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-iso-images-by-using-bootc-image-builder_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":115,"visible":14,"weight":116,"urlFragment":78,"anchor":117,"singlePageAnchor":117,"docTitle":18,"url":118},"4.9. Using bootc-image-builder to build ISO images with a Kickstart file",9,"using-bootc-image-builder-to-build-iso-images-with-a-kickstart-file_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#using-bootc-image-builder-to-build-iso-images-with-a-kickstart-file_creating-bootc-compatible-base-disk-images-with-bootc-image-builder",{"title":120,"visible":14,"weight":121,"urlFragment":78,"anchor":122,"singlePageAnchor":122,"docTitle":18,"url":123},"4.10. Verification and troubleshooting",10,"verification-and-troubleshooting_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#verification-and-troubleshooting_creating-bootc-compatible-base-disk-images-with-bootc-image-builder","#creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":126,"visible":14,"weight":106,"urlFragment":127,"anchor":17,"singlePageAnchor":127,"sections":128,"docTitle":18,"url":137},"5. Best practices for running containers using local sources","best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",[129,133],{"title":130,"visible":14,"weight":15,"urlFragment":127,"anchor":131,"singlePageAnchor":131,"docTitle":18,"url":132},"5.1. Importing custom certificate to a container by using bind mounts","importing-custom-certificate-to-a-container-by-using-bind-mounts_best-practices-for-running-containers-using-local-sources","#importing-custom-certificate-to-a-container-by-using-bind-mounts_best-practices-for-running-containers-using-local-sources",{"title":134,"visible":14,"weight":22,"urlFragment":127,"anchor":135,"singlePageAnchor":135,"docTitle":18,"url":136},"5.2. Importing custom certificates to a container by using Containerfile","importing-custom-certificates-to-a-container-by-using-containerfile_best-practices-for-running-containers-using-local-sources","#importing-custom-certificates-to-a-container-by-using-containerfile_best-practices-for-running-containers-using-local-sources","#best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":139,"visible":14,"weight":111,"urlFragment":140,"anchor":17,"singlePageAnchor":140,"sections":141,"docTitle":18,"url":179},"6. Deploying the RHEL bootc images","deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",[142,146,150,154,158,162,166,170],{"title":143,"visible":14,"weight":15,"urlFragment":140,"anchor":144,"singlePageAnchor":144,"docTitle":18,"url":145},"6.1. Deploying a container image by using KVM with a QCOW2 disk image","deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images","#deploying-a-container-image-using-kvm-qemu-with-a-qcow2-disk-image_deploying-the-rhel-bootc-images",{"title":147,"visible":14,"weight":22,"urlFragment":140,"anchor":148,"singlePageAnchor":148,"docTitle":18,"url":149},"6.2. Deploying a container image to AWS with an AMI disk image","deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images","#deploying-a-container-image-to-aws-with-an-ami-disk-image_deploying-the-rhel-bootc-images",{"title":151,"visible":14,"weight":27,"urlFragment":140,"anchor":152,"singlePageAnchor":152,"docTitle":18,"url":153},"6.3. Deploying a container image by using Anaconda and Kickstart","deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images","#deploying-a-container-image-by-using-anaconda-and-kickstart_deploying-the-rhel-bootc-images",{"title":155,"visible":14,"weight":41,"urlFragment":140,"anchor":156,"singlePageAnchor":156,"docTitle":18,"url":157},"6.4. Deploying a custom ISO container image","deploying-an-custom-iso-container-image_deploying-the-rhel-bootc-images","#deploying-an-custom-iso-container-image_deploying-the-rhel-bootc-images",{"title":159,"visible":14,"weight":63,"urlFragment":140,"anchor":160,"singlePageAnchor":160,"docTitle":18,"url":161},"6.5. Deploying an ISO bootc image over PXE boot","deploying-an-iso-bootc-container-over-pxe-boot_deploying-the-rhel-bootc-images","#deploying-an-iso-bootc-container-over-pxe-boot_deploying-the-rhel-bootc-images",{"title":163,"visible":14,"weight":77,"urlFragment":140,"anchor":164,"singlePageAnchor":164,"docTitle":18,"url":165},"6.6. Building, configuring, and launching disk images with bootc-image-builder","building-and-launching-configured-images_deploying-the-rhel-bootc-images","#building-and-launching-configured-images_deploying-the-rhel-bootc-images",{"title":167,"visible":14,"weight":106,"urlFragment":140,"anchor":168,"singlePageAnchor":168,"docTitle":18,"url":169},"6.7. Deploying a container image by using bootc","deploying-a-container-image-by-using-bootc_deploying-the-rhel-bootc-images","#deploying-a-container-image-by-using-bootc_deploying-the-rhel-bootc-images",{"title":171,"visible":14,"weight":111,"urlFragment":140,"anchor":172,"singlePageAnchor":172,"sections":173,"docTitle":18,"url":178},"6.8. Advanced installation with to-filesystem","advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images",[174],{"title":175,"visible":14,"weight":15,"urlFragment":140,"anchor":176,"singlePageAnchor":176,"docTitle":18,"url":177},"6.8.1. Using bootc install to-existing-root","using-bootc-install-to-existing-root_deploying-the-rhel-bootc-images","#using-bootc-install-to-existing-root_deploying-the-rhel-bootc-images","#advanced-installation-with-to-filesystem_deploying-the-rhel-bootc-images","#deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems",{"title":181,"visible":14,"weight":116,"urlFragment":182,"anchor":17,"singlePageAnchor":182,"sections":183,"docTitle":18,"url":192},"7. Enabling the FIPS mode while building a bootc image","enabling-the-fips-mode-while-building-a-bootc-image",[184,188],{"title":185,"visible":14,"weight":15,"urlFragment":182,"anchor":186,"singlePageAnchor":186,"docTitle":18,"url":187},"7.1. Enabling the FIPS mode by using bootc-image-builder","enabling-the-fips-mode-by-using-bootc-image-builder-tool_enabling-the-fips-mode-while-building-a-bootc-image","#enabling-the-fips-mode-by-using-bootc-image-builder-tool_enabling-the-fips-mode-while-building-a-bootc-image",{"title":189,"visible":14,"weight":22,"urlFragment":182,"anchor":190,"singlePageAnchor":190,"docTitle":18,"url":191},"7.2. Enabling the FIPS mode to perform an Anaconda installation","enabling-the-fips-mode-to-perform-an-anaconda-installation_enabling-the-fips-mode-while-building-a-bootc-image","#enabling-the-fips-mode-to-perform-an-anaconda-installation_enabling-the-fips-mode-while-building-a-bootc-image","#enabling-the-fips-mode-while-building-a-bootc-image",{"title":194,"visible":14,"weight":121,"urlFragment":195,"anchor":17,"singlePageAnchor":195,"sections":196,"docTitle":18,"url":242},"8. Managing RHEL bootc images","managing-rhel-bootc-images",[197,201,205,209,213,217,221,225,229,233,237],{"title":198,"visible":14,"weight":15,"urlFragment":195,"anchor":199,"singlePageAnchor":199,"docTitle":18,"url":200},"8.1. Switching the container image reference","switching-the-container-image-reference_managing-rhel-bootc-images","#switching-the-container-image-reference_managing-rhel-bootc-images",{"title":202,"visible":14,"weight":22,"urlFragment":195,"anchor":203,"singlePageAnchor":203,"docTitle":18,"url":204},"8.2. Adding modules to the bootc image initramfs","adding-modules-to-the-bootc-image-initramfs_managing-rhel-bootc-images","#adding-modules-to-the-bootc-image-initramfs_managing-rhel-bootc-images",{"title":206,"visible":14,"weight":27,"urlFragment":195,"anchor":207,"singlePageAnchor":207,"docTitle":18,"url":208},"8.3. Modifying and regenerating initrd","modifying-and-regenerating-initrd_managing-rhel-bootc-images","#modifying-and-regenerating-initrd_managing-rhel-bootc-images",{"title":210,"visible":14,"weight":41,"urlFragment":195,"anchor":211,"singlePageAnchor":211,"docTitle":18,"url":212},"8.4. Performing manual updates from an installed operating system","performing-manual-updates-from-an-installed-operating-system_managing-rhel-bootc-images","#performing-manual-updates-from-an-installed-operating-system_managing-rhel-bootc-images",{"title":214,"visible":14,"weight":63,"urlFragment":195,"anchor":215,"singlePageAnchor":215,"docTitle":18,"url":216},"8.5. Turning off automatic updates","turning-off-automatic-updates_managing-rhel-bootc-images","#turning-off-automatic-updates_managing-rhel-bootc-images",{"title":218,"visible":14,"weight":77,"urlFragment":195,"anchor":219,"singlePageAnchor":219,"docTitle":18,"url":220},"8.6. Manually updating an installed operating system","manually-updating-an-installed-operating-system_managing-rhel-bootc-images","#manually-updating-an-installed-operating-system_managing-rhel-bootc-images",{"title":222,"visible":14,"weight":106,"urlFragment":195,"anchor":223,"singlePageAnchor":223,"docTitle":18,"url":224},"8.7. Performing rollbacks from a updated operating system","performing-rollbacks-from-a-updated-operating-system_managing-rhel-bootc-images","#performing-rollbacks-from-a-updated-operating-system_managing-rhel-bootc-images",{"title":226,"visible":14,"weight":111,"urlFragment":195,"anchor":227,"singlePageAnchor":227,"docTitle":18,"url":228},"8.8. Deploying updates to system groups","deploying-updates-to-system-groups_managing-rhel-bootc-images","#deploying-updates-to-system-groups_managing-rhel-bootc-images",{"title":230,"visible":14,"weight":116,"urlFragment":195,"anchor":231,"singlePageAnchor":231,"docTitle":18,"url":232},"8.9. Checking inventory health","checking-inventory-health_managing-rhel-bootc-images","#checking-inventory-health_managing-rhel-bootc-images",{"title":234,"visible":14,"weight":121,"urlFragment":195,"anchor":235,"singlePageAnchor":235,"docTitle":18,"url":236},"8.10. Automation and GitOps","automation-and-gitops_managing-rhel-bootc-images","#automation-and-gitops_managing-rhel-bootc-images",{"title":238,"visible":14,"weight":239,"urlFragment":195,"anchor":240,"singlePageAnchor":240,"docTitle":18,"url":241},"8.11. Using Toolbx to inspect bootc containers",11,"using-toolbx-to-inspect-bootc-containers_managing-rhel-bootc-images","#using-toolbx-to-inspect-bootc-containers_managing-rhel-bootc-images","#managing-rhel-bootc-images",{"title":244,"visible":14,"weight":239,"urlFragment":245,"anchor":17,"singlePageAnchor":245,"sections":246,"docTitle":18,"url":275},"9. Managing kernel arguments in bootc systems","managing-kernel-arguments-in-bootc-systems",[247,251,255,259,263,267,271],{"title":248,"visible":14,"weight":15,"urlFragment":245,"anchor":249,"singlePageAnchor":249,"docTitle":18,"url":250},"9.1. How to add support to inject kernel arguments with bootc","how-to-add-support-to-inject-kernel-arguments-with-bootc_managing-kernel-arguments-in-bootc-systems","#how-to-add-support-to-inject-kernel-arguments-with-bootc_managing-kernel-arguments-in-bootc-systems",{"title":252,"visible":14,"weight":22,"urlFragment":245,"anchor":253,"singlePageAnchor":253,"docTitle":18,"url":254},"9.2. How to modify kernel arguments by using bootc install configs","how-to-modify-kernel-arguments-by-using-bootc-install-configs_managing-kernel-arguments-in-bootc-systems","#how-to-modify-kernel-arguments-by-using-bootc-install-configs_managing-kernel-arguments-in-bootc-systems",{"title":256,"visible":14,"weight":27,"urlFragment":245,"anchor":257,"singlePageAnchor":257,"docTitle":18,"url":258},"9.3. How to inject kernel arguments in the Containerfile","how-to-inject-kernel-arguments-in-the-containerfile_managing-kernel-arguments-in-bootc-systems","#how-to-inject-kernel-arguments-in-the-containerfile_managing-kernel-arguments-in-bootc-systems",{"title":260,"visible":14,"weight":41,"urlFragment":245,"anchor":261,"singlePageAnchor":261,"docTitle":18,"url":262},"9.4. How to inject kernel arguments at installation time","how-to-inject-kernel-arguments-at-installation-time_managing-kernel-arguments-in-bootc-systems","#how-to-inject-kernel-arguments-at-installation-time_managing-kernel-arguments-in-bootc-systems",{"title":264,"visible":14,"weight":63,"urlFragment":245,"anchor":265,"singlePageAnchor":265,"docTitle":18,"url":266},"9.5. How to add install-time kernel arguments with bootc-image-builder","how-to-install-time-kernel-arguments-with-bootc-image-builder_managing-kernel-arguments-in-bootc-systems","#how-to-install-time-kernel-arguments-with-bootc-image-builder_managing-kernel-arguments-in-bootc-systems",{"title":268,"visible":14,"weight":77,"urlFragment":245,"anchor":269,"singlePageAnchor":269,"docTitle":18,"url":270},"9.6. About changing kernel arguments post-install with kargs.d","about-changing-kernel-arguments-post-install-with-kargs-d_managing-kernel-arguments-in-bootc-systems","#about-changing-kernel-arguments-post-install-with-kargs-d_managing-kernel-arguments-in-bootc-systems",{"title":272,"visible":14,"weight":106,"urlFragment":245,"anchor":273,"singlePageAnchor":273,"docTitle":18,"url":274},"9.7. How to edit kernel arguments in bootc systems","how-to-edit-kernel-arguments-in-bootc-systems_managing-kernel-arguments-in-bootc-systems","#how-to-edit-kernel-arguments-in-bootc-systems_managing-kernel-arguments-in-bootc-systems","#managing-kernel-arguments-in-bootc-systems",{"title":277,"visible":14,"weight":278,"urlFragment":279,"anchor":17,"singlePageAnchor":279,"sections":280,"docTitle":18,"url":289},"10. Managing file systems in image mode for RHEL",12,"managing-file-systems-in-image-mode-for-rhel",[281,285],{"title":282,"visible":14,"weight":15,"urlFragment":279,"anchor":283,"singlePageAnchor":283,"docTitle":18,"url":284},"10.1. Physical and logical root with /sysroot","physical-and-logical-root-with-sysroot_managing-file-systems-in-image-mode-for-rhel","#physical-and-logical-root-with-sysroot_managing-file-systems-in-image-mode-for-rhel",{"title":286,"visible":14,"weight":22,"urlFragment":279,"anchor":287,"singlePageAnchor":287,"docTitle":18,"url":288},"10.2. Version selection and bootup","version-selection-and-bootup_managing-file-systems-in-image-mode-for-rhel","#version-selection-and-bootup_managing-file-systems-in-image-mode-for-rhel","#managing-file-systems-in-image-mode-for-rhel",{"title":291,"visible":14,"weight":292,"urlFragment":293,"anchor":17,"singlePageAnchor":293,"sections":294,"docTitle":18,"url":311},"11. Appendix: Managing users, groups, SSH keys, and secrets in image mode for RHEL",13,"managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel",[295,299,303,307],{"title":296,"visible":14,"weight":15,"urlFragment":293,"anchor":297,"singlePageAnchor":297,"docTitle":18,"url":298},"11.1. Users and groups configuration","users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel","#users-and-groups-configuration_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel",{"title":300,"visible":14,"weight":22,"urlFragment":293,"anchor":301,"singlePageAnchor":301,"docTitle":18,"url":302},"11.2. Injecting secrets in image mode for RHEL","injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel","#injecting-secrets-to-a-image-mode-for-rhel_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel",{"title":304,"visible":14,"weight":27,"urlFragment":293,"anchor":305,"singlePageAnchor":305,"docTitle":18,"url":306},"11.3. Configuring container pull secrets","configuring-container-pull-secrets_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel","#configuring-container-pull-secrets_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel",{"title":308,"visible":14,"weight":41,"urlFragment":293,"anchor":309,"singlePageAnchor":309,"docTitle":18,"url":310},"11.4. Injecting pull secrets for registries and disabling TLS","injecting-pull-secrets-for-registries-and-disabling-tls_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel","#injecting-pull-secrets-for-registries-and-disabling-tls_managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel","#managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel",{"title":313,"visible":14,"weight":314,"urlFragment":315,"anchor":17,"singlePageAnchor":315,"sections":316,"docTitle":18,"url":333},"12. Appendix: System configuration",14,"system-configuration",[317,321,325,329],{"title":318,"visible":14,"weight":15,"urlFragment":315,"anchor":319,"singlePageAnchor":319,"docTitle":18,"url":320},"12.1. Transient runtime reconfiguration","transient-runtime-reconfiguration_system-configuration","#transient-runtime-reconfiguration_system-configuration",{"title":322,"visible":14,"weight":22,"urlFragment":315,"anchor":323,"singlePageAnchor":323,"docTitle":18,"url":324},"12.2. Using dnf","using-dnf_system-configuration","#using-dnf_system-configuration",{"title":326,"visible":14,"weight":27,"urlFragment":315,"anchor":327,"singlePageAnchor":327,"docTitle":18,"url":328},"12.3. Setting a hostname","setting-a-hostname_system-configuration","#setting-a-hostname_system-configuration",{"title":330,"visible":14,"weight":41,"urlFragment":315,"anchor":331,"singlePageAnchor":331,"docTitle":18,"url":332},"12.4. Proxied Internet Access","proxied-internet-access_system-configuration","#proxied-internet-access_system-configuration","#system-configuration",{"title":335,"visible":14,"weight":336,"urlFragment":337,"anchor":17,"singlePageAnchor":337,"docTitle":18,"url":338},"13. Appendix: Getting the source code of container images",15,"getting-the-source-code-of-container-images","#getting-the-source-code-of-container-images",{"title":340,"visible":14,"weight":341,"urlFragment":342,"anchor":17,"singlePageAnchor":342,"docTitle":18,"url":343},"14. Appendix: Contributing to the upstream projects",16,"contributing-to-the-upstream-projects","#contributing-to-the-upstream-projects",{"title":345,"visible":14,"weight":346,"urlFragment":347,"anchor":17,"singlePageAnchor":348,"docTitle":18,"url":349},"Legal Notice",17,"legal-notice","idm139697802078448","#idm139697802078448",[351,354,357],{"text":352,"link":353},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":355,"link":356},"9","/documentation/red_hat_enterprise_linux/9/",{"text":10},{"name":10,"translations":359,"productVersion":360,"singlePage":361,"pdf":364,"publishingStatus":366},[5,6,7,8],{"name":355},{"contentUrl":362,"name":10,"new":363,"url":18},"https://d2bhdhkti9t3uj.cloudfront.net/html/6a89fe5c-ad21-401d-a1a5-c609d8c85c27/80e9c23fb1cd9cc803bf579c415162b3.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index",{"url":365},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/Red_Hat_Enterprise_Linux-9-Using_image_mode_for_RHEL_to_build_deploy_and_manage_operating_systems-en-US.pdf","PUBLISHED",[368,373,376,380,384,388,392],{"name":369,"new":370,"url":371,"urlAliases":372},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":355,"new":374,"url":355,"urlAliases":375},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":377,"new":378,"url":377,"urlAliases":379},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":381,"new":382,"url":381,"urlAliases":383},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":385,"new":386,"url":385,"urlAliases":387},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":389,"new":390,"url":389,"urlAliases":391},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":393,"new":394,"url":393,"urlAliases":395},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index":397,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/proc_providing-feedback-on-red-hat-documentation_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":398,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/introducing-image-mode-for-rhel_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":399,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/building-and-testing-the-rhel-bootable-container-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":400,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/building-and-managing-logically-bound-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":401,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/creating-bootc-compatible-base-disk-images-with-bootc-image-builder_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":402,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/best-practices-for-running-containers-using-local-sources_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":403,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/deploying-the-rhel-bootc-images_using-image-mode-for-rhel-to-build-deploy-and-manage-operating-systems":404,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/enabling-the-fips-mode-while-building-a-bootc-image":405,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-rhel-bootc-images":406,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-kernel-arguments-in-bootc-systems":407,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-file-systems-in-image-mode-for-rhel":408,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/managing-users-groups-ssh-key-and-secrets-in-image-mode-for-rhel":409,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/system-configuration":410,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/getting-the-source-code-of-container-images":411,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/contributing-to-the-upstream-projects":412,"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/legal-notice":413},{"prevt":17,"next":23},{"prevt":16,"next":28},{"prevt":17,"next":28},{"prevt":17,"next":42},{"prevt":17,"next":64},{"prevt":17,"next":78},{"prevt":17,"next":127},{"prevt":17,"next":17},{"prevt":17,"next":182},{"prevt":17,"next":195},{"prevt":17,"next":245},{"prevt":17,"next":279},{"prevt":17,"next":293},{"prevt":17,"next":315},{"prevt":315,"next":342},{"prevt":337,"next":347},{"prevt":342,"next":17},{"product":17,"version":17},{"using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems":416},[363],{"products":418},[419,420,421,422,423,424,425,426,427,428,429,430,431],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":434},[435,444,450,459,467,475,482,490,497],{"nid":436,"type":437,"langcode":438,"Published":15,"title":439,"Created":440,"Updated":441,"body_value":17,"field_documentation banner_text_value":17,"field_documentation banner_text_format":17,"field_paths_value":442,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":443},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":445,"type":437,"langcode":438,"Published":15,"title":439,"Created":446,"Updated":447,"body_value":17,"field_documentation banner_text_value":17,"field_documentation banner_text_format":17,"field_paths_value":448,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":449},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":451,"type":452,"langcode":438,"Published":15,"title":453,"Created":454,"Updated":455,"body_value":17,"field_documentation banner_text_value":456,"field_documentation banner_text_format":457,"field_paths_value":458,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":460,"type":461,"langcode":438,"Published":15,"title":462,"Created":463,"Updated":464,"body_value":17,"field_documentation banner_text_value":465,"field_documentation banner_text_format":457,"field_paths_value":466,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":468,"type":469,"langcode":438,"Published":15,"title":470,"Created":471,"Updated":472,"body_value":17,"field_documentation banner_text_value":473,"field_documentation banner_text_format":457,"field_paths_value":474,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":476,"type":469,"langcode":438,"Published":15,"title":477,"Created":478,"Updated":479,"body_value":17,"field_documentation banner_text_value":480,"field_documentation banner_text_format":457,"field_paths_value":481,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":483,"type":484,"langcode":438,"Published":15,"title":485,"Created":486,"Updated":487,"body_value":17,"field_documentation banner_text_value":488,"field_documentation banner_text_format":457,"field_paths_value":489,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":491,"type":484,"langcode":438,"Published":15,"title":492,"Created":493,"Updated":494,"body_value":17,"field_documentation banner_text_value":495,"field_documentation banner_text_format":457,"field_paths_value":496,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":498,"alertType":499,"type":500,"langcode":438,"Published":15,"title":501,"Created":496,"Updated":496,"body_value":17,"field_documentation banner_text_value":502,"field_documentation banner_text_format":457,"field_paths_value":503,"field_documentation_training_url_uri":17,"field_title_title_id":17,"field_rebrand banner_link_uri":17},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":352},["Reactive",506],{"$snuxt-i18n-meta":507,"$sisLoading":508,"$sisSinglePage":14,"$sisInFocusMode":508,"$smobileTocOpen":508,"$sisLargeTOC":508,"$scurrentChapter":16,"$scurrentSection":16,"$scurrentSubSection":496},{},false,["Set"],["ShallowReactive",511],{"s8LoCEfG4A":17,"rFVLKcOK8e":17,"uUstF4AIyn":17,"MdHNSZP4nR":17,"Pn02PlJOas":17},"/en/documentation/red_hat_enterprise_linux/9/html-single/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
