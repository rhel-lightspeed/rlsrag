<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Planning Identity Management | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/planning_identity_management/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Planning Identity Management | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Planning Identity Management<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Planning Identity Management</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_planning-identity-management" id="chapter-landing--planning_identity_management-proc_providing-feedback-on-red-hat-documentation_planning-identity-management" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--overview-of-identity-management-and-access-control-planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="overview-of-identity-management-and-access-control-planning-identity-management--summary" data-v-fa0dae77>1. Overview of IdM and access control in RHEL</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#overview-of-identity-management-and-access-control-planning-identity-management" id="chapter-landing--planning_identity_management-overview-of-identity-management-and-access-control-planning-identity-management" data-v-fa0dae77>Overview of IdM and access control in RHEL</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#intro-to-ipa-overview-of-idm-and-access-control" id="sub-link-to-planning_identity_management-intro-to-ipa-overview-of-idm-and-access-control" data-v-b883c74f>1.1. Introduction to IdM</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_common-idm-customer-scenarios-and-their-solutions_overview-of-idm-and-access-control" id="sub-link-to-planning_identity_management-con_common-idm-customer-scenarios-and-their-solutions_overview-of-idm-and-access-control" data-v-b883c74f>1.2. Common IdM customer scenarios and their solutions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control" id="sub-link-to-planning_identity_management-introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control" data-v-b883c74f>1.3. Introduction to IdM servers and clients</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control" id="sub-link-to-planning_identity_management-supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control" data-v-b883c74f>1.4. Supported versions of RHEL for installing IdM clients</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#identity-management-and-access-control-in-rhel-central-versus-local_overview-of-idm-and-access-control" id="sub-link-to-planning_identity_management-identity-management-and-access-control-in-rhel-central-versus-local_overview-of-idm-and-access-control" data-v-b883c74f>1.5. IdM and access control in RHEL: Central vs. local</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#IdM_terminology_overview-of-idm-and-access-control" id="sub-link-to-planning_identity_management-IdM_terminology_overview-of-idm-and-access-control" data-v-b883c74f>1.6. IdM terminology</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--failover-load-balancing-high-availability_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="failover-load-balancing-high-availability_planning-identity-management--summary" data-v-fa0dae77>2. Failover, load-balancing, and high-availability in IdM</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#failover-load-balancing-high-availability_planning-identity-management" id="chapter-landing--planning_identity_management-failover-load-balancing-high-availability_planning-identity-management" data-v-fa0dae77>Failover, load-balancing, and high-availability in IdM</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#client_side_failover_capability" id="sub-link-to-planning_identity_management-client_side_failover_capability" data-v-b883c74f>2.1. Client-side failover capability</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#server_side_load_balancing_and_service_availability" id="sub-link-to-planning_identity_management-server_side_load_balancing_and_service_availability" data-v-b883c74f>2.2. Server-side load-balancing and service availability</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--planning-the-replica-topology_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="planning-the-replica-topology_planning-identity-management--summary" data-v-fa0dae77>3. Planning the replica topology</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#planning-the-replica-topology_planning-identity-management" id="chapter-landing--planning_identity_management-planning-the-replica-topology_planning-identity-management" data-v-fa0dae77>Planning the replica topology</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#multiple-replica-servers-as-a-solution-for-high-performance-and-disaster-recovery_planning-the-replica-topology" id="sub-link-to-planning_identity_management-multiple-replica-servers-as-a-solution-for-high-performance-and-disaster-recovery_planning-the-replica-topology" data-v-b883c74f>3.1. Multiple replica servers as a solution for high performance and disaster recovery</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#introduction-to-ipa-servers-and-clients_planning-the-replica-topology" id="sub-link-to-planning_identity_management-introduction-to-ipa-servers-and-clients_planning-the-replica-topology" data-v-b883c74f>3.2. Introduction to IdM servers and clients</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#replication-agreements-between-idm-replicas_planning-the-replica-topology" id="sub-link-to-planning_identity_management-replication-agreements-between-idm-replicas_planning-the-replica-topology" data-v-b883c74f>3.3. Replication agreements between IdM replicas</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology" id="sub-link-to-planning_identity_management-guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology" data-v-b883c74f>3.4. Guidelines for determining the appropriate number of IdM replicas in a topology</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology" id="sub-link-to-planning_identity_management-guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology" data-v-b883c74f>3.5. Guidelines for connecting IdM replicas in a topology</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#replica-topology-examples_planning-the-replica-topology" id="sub-link-to-planning_identity_management-replica-topology-examples_planning-the-replica-topology" data-v-b883c74f>3.6. Replica topology examples</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-hidden-replica-mode_planning-the-replica-topology" id="sub-link-to-planning_identity_management-the-hidden-replica-mode_planning-the-replica-topology" data-v-b883c74f>3.7. The hidden replica mode</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--planning-your-dns-services-and-host-names-planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="planning-your-dns-services-and-host-names-planning-identity-management--summary" data-v-fa0dae77>4. Planning your DNS services and host names</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#planning-your-dns-services-and-host-names-planning-identity-management" id="chapter-landing--planning_identity_management-planning-your-dns-services-and-host-names-planning-identity-management" data-v-fa0dae77>Planning your DNS services and host names</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#dns-services-available-in-an-ipa-server_planning-dns" id="sub-link-to-planning_identity_management-dns-services-available-in-an-ipa-server_planning-dns" data-v-b883c74f>4.1. DNS services available in an IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-planning-the-dns-domain-name-and-kerberos-realm-name_planning-dns" id="sub-link-to-planning_identity_management-guidelines-for-planning-the-dns-domain-name-and-kerberos-realm-name_planning-dns" data-v-b883c74f>4.2. Guidelines for planning the DNS domain name and Kerberos realm name</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--planning-your-ca-services_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="planning-your-ca-services_planning-identity-management--summary" data-v-fa0dae77>5. Planning your CA services</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#planning-your-ca-services_planning-identity-management" id="chapter-landing--planning_identity_management-planning-your-ca-services_planning-identity-management" data-v-fa0dae77>Planning your CA services</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ca-services-available-in-an-ipa-server_planning-your-ca-services" id="sub-link-to-planning_identity_management-ca-services-available-in-an-ipa-server_planning-your-ca-services" data-v-b883c74f>5.1. CA Services available in an IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-the-distribution-of-ca-services_planning-your-ca-services" id="sub-link-to-planning_identity_management-guidelines-for-the-distribution-of-ca-services_planning-your-ca-services" data-v-b883c74f>5.2. Guidelines for distribution of CA services</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#random-serial-numbers-in-idm_planning-your-ca-services" id="sub-link-to-planning_identity_management-random-serial-numbers-in-idm_planning-your-ca-services" data-v-b883c74f>5.3. Random serial numbers in IdM</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--planning-integration-with-ad_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="planning-integration-with-ad_planning-identity-management--summary" data-v-fa0dae77>6. Planning integration with AD</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#planning-integration-with-ad_planning-identity-management" id="chapter-landing--planning_identity_management-planning-integration-with-ad_planning-identity-management" data-v-fa0dae77>Planning integration with AD</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#direct-integration-of-linux-systems-into-active-directory_planning-integration-with-ad" id="sub-link-to-planning_identity_management-direct-integration-of-linux-systems-into-active-directory_planning-integration-with-ad" data-v-b883c74f>6.1. Direct integration of Linux systems into Active Directory</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#indirect-integration-of-linux-systems-into-active-directory-by-using-identity-management_planning-integration-with-ad" id="sub-link-to-planning_identity_management-indirect-integration-of-linux-systems-into-active-directory-by-using-identity-management_planning-integration-with-ad" data-v-b883c74f>6.2. Indirect integration of Linux systems into Active Directory by using Identity Management</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-deciding-between-direct-and-indirect-integration_planning-integration-with-ad" id="sub-link-to-planning_identity_management-guidelines-for-deciding-between-direct-and-indirect-integration_planning-integration-with-ad" data-v-b883c74f>6.3. Guidelines for deciding between direct and indirect integration</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management--summary" data-v-fa0dae77>7. Planning a cross-forest trust between IdM and AD</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management" id="chapter-landing--planning_identity_management-planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management" data-v-fa0dae77>Planning a cross-forest trust between IdM and AD</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#cross-forest-and-external-trusts-between-idm-and-ad_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-cross-forest-and-external-trusts-between-idm-and-ad_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.1. Cross-forest and external trusts between IdM and AD</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.2. Trust controllers and trust agents</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.3. One-way trusts and two-way trusts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f><summary class="heading sub-chapter-title" id="ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad--summary" data-v-b883c74f>7.4. Ensuring support for common encryption types in AD and RHEL</summary><ol id="sub-nav--ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad" id="chapter-landing--planning_identity_management-ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>Ensuring support for common encryption types in AD and RHEL</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel" id="sub-link-to-planning_identity_management-enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel" data-v-b883c74f>7.4.1. Enabling AES encryption in AD (recommended)</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel" id="sub-link-to-planning_identity_management-enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel" data-v-b883c74f>7.4.2. Enabling the AES encryption type in Active Directory using a GPO</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel" id="sub-link-to-planning_identity_management-enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel" data-v-b883c74f>7.4.3. Enabling RC4 support in RHEL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-planning_identity_management-additional_resources" data-v-b883c74f>7.4.4. Additional resources</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_kerberos-fast-for-trusted-domains_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-con_kerberos-fast-for-trusted-domains_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.5. Kerberos FAST for trusted domains</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.6. POSIX and ID mapping ID range types for AD users</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.7. Options for automatically mapping private groups for AD users: POSIX trusts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.8. Options for automatically mapping private groups for AD users: ID mapping trusts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.9. Enabling automatic private group mapping for a POSIX ID range on the CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#non-posix-external-groups-and-sid-mapping_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-non-posix-external-groups-and-sid-mapping_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.11. Non-POSIX external groups and SID mapping</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-setting-up-dns-for-an-idm-ad-trust_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-guidelines-for-setting-up-dns-for-an-idm-ad-trust_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.12. Guidelines for setting up DNS for an IdM-AD trust</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#guidelines-for-configuring-netbios-names_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-guidelines-for-configuring-netbios-names_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.13. Guidelines for configuring NetBIOS names</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#supported-versions-of-windows-server_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-supported-versions-of-windows-server_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.14. Supported versions of Windows Server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ad-server-discovery-and-affinity_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-ad-server-discovery-and-affinity_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.15. AD server discovery and affinity</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#operations-performed-during-indirect-integration-of-idm-to-ad_planning-a-cross-forest-trust-between-idm-and-ad" id="sub-link-to-planning_identity_management-operations-performed-during-indirect-integration-of-idm-to-ad_planning-a-cross-forest-trust-between-idm-and-ad" data-v-b883c74f>7.16. Operations performed during indirect integration of IdM to AD</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--backing-up-and-restoring-idm_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="backing-up-and-restoring-idm_planning-identity-management--summary" data-v-fa0dae77>8. Backing up and restoring IdM</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#backing-up-and-restoring-idm_planning-identity-management" id="chapter-landing--planning_identity_management-backing-up-and-restoring-idm_planning-identity-management" data-v-fa0dae77>Backing up and restoring IdM</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#backup-types_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-backup-types_backing-up-and-restoring-idm" data-v-b883c74f>8.1. IdM backup types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#naming-conventions-for-idm-backup-files_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-naming-conventions-for-idm-backup-files_backing-up-and-restoring-idm" data-v-b883c74f>8.2. Naming conventions for IdM backup files</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#considerations-when-creating-a-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-considerations-when-creating-a-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.3. Considerations when creating a backup</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-an-idm-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-proc_creating-an-idm-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.4. Creating an IdM backup</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#encrypting-a-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-encrypting-a-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.5. Creating a GPG2-encrypted IdM backup</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-gpg-key_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-creating-gpg-key_backing-up-and-restoring-idm" data-v-b883c74f>8.6. Creating a GPG2 key</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#when-to-restore-from-idm-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-when-to-restore-from-idm-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.7. When to restore from an IdM backup</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#considerations-when-restoring-from-idm-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-considerations-when-restoring-from-idm-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.8. Considerations when restoring from an IdM backup</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#restoring-a-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-restoring-a-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.9. Restoring an IdM server from a backup</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#restoring-encrypted-backup_backing-up-and-restoring-idm" id="sub-link-to-planning_identity_management-restoring-encrypted-backup_backing-up-and-restoring-idm" data-v-b883c74f>8.10. Restoring from an encrypted backup</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management--summary" data-v-fa0dae77>9. Backing up and restoring IdM servers using Ansible playbooks</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management" id="chapter-landing--planning_identity_management-assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management" data-v-fa0dae77>Backing up and restoring IdM servers using Ansible playbooks</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-create-a-backup-of-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-create-a-backup-of-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.1. Using Ansible to create a backup of an IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-create-a-backup-of-an-idm-server-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-create-a-backup-of-an-idm-server-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.2. Using Ansible to create a backup of an IdM server on your Ansible controller</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-copy-a-backup-of-an-idm-server-to-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-copy-a-backup-of-an-idm-server-to-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.3. Using Ansible to copy a backup of an IdM server to your Ansible controller</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-copy-a-backup-of-an-idm-server-from-your-ansible-controller-to-the-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-copy-a-backup-of-an-idm-server-from-your-ansible-controller-to-the-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.4. Using Ansible to copy a backup of an IdM server from your Ansible controller to the IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-remove-a-backup-from-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-remove-a-backup-from-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.5. Using Ansible to remove a backup from an IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-the-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-the-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.6. Using Ansible to restore an IdM server from a backup stored on the server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" id="sub-link-to-planning_identity_management-proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks" data-v-b883c74f>9.7. Using Ansible to restore an IdM server from a backup stored on your Ansible controller</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#ref_idm-integration-with-other-red-hat-products_planning-identity-management" id="chapter-landing--planning_identity_management-ref_idm-integration-with-other-red-hat-products_planning-identity-management" data-v-fa0dae77>10. IdM integration with Red Hat products</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management" data-v-fa0dae77><summary class="heading chapter-title" id="configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management--summary" data-v-fa0dae77>11. Configuring Single Sign-On for the RHEL 9 web console in the IdM domain</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management" id="chapter-landing--planning_identity_management-configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management" data-v-fa0dae77>Configuring Single Sign-On for the RHEL 9 web console in the IdM domain</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain" id="sub-link-to-planning_identity_management-joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain" data-v-b883c74f>11.1. Joining a RHEL 9 system to an IdM domain using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#logging-in-to-the-web-console-using-a-kerberos-ticket_configuring-single-sign-on-for-the-web-console-in-the-idm-domain" id="sub-link-to-planning_identity_management-logging-in-to-the-web-console-using-a-kerberos-ticket_configuring-single-sign-on-for-the-web-console-in-the-idm-domain" data-v-b883c74f>11.2. Logging in to the web console using Kerberos authentication</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#ref_idm-directory-server-rfc-support_planning-identity-management" id="chapter-landing--planning_identity_management-ref_idm-directory-server-rfc-support_planning-identity-management" data-v-fa0dae77>12. IdM Directory Server RFC support</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm140188399814592" id="chapter-landing--planning_identity_management-idm140188399814592" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Planning Identity Management</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm140188408534368"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Planning the infrastructure and service integration of an IdM environment</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140188399814592">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Identity Management (IdM) provides a centralized and unified way to manage identity stores, authentication, and authorization policies.
			</div><div class="para">
				For a successful integration of IdM in your environment, learn about the components of IdM and plan the installation. For example, plan a replication topology for failover and load-balancing, the integration into Active Directory (AD), the structure of DNS zones and Certificate Authority (CA), as well as backup and recovery scenarios.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="overview-of-identity-management-and-access-control-planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Overview of IdM and access control in RHEL</h2></div></div></div><p class="_abstract _abstract">
			Learn how you can use Identity Management (IdM) to centralize identity management, enforce security controls, and comply with best practices and security policies. Explore common customer scenarios and solutions for IdM implementation in both Linux and Windows environments.
		</p><section class="section" id="intro-to-ipa-overview-of-idm-and-access-control"><div class="titlepage"><div><div><h3 class="title">1.1. Introduction to IdM</h3></div></div></div><p>
				Identity Management (IdM) provides a centralized and unified way to manage identity stores, authentication, policies, and authorization policies in a Linux-based domain.
			</p><div class="formalpara"><p class="title"><strong>The goal of IdM in Red Hat Enterprise Linux</strong></p><p>
					IdM significantly reduces the administrative overhead of managing different services individually and using different tools on different machines.
				</p></div><p>
				IdM is one of the few centralized identity, policy, and authorization software solutions that support:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Advanced features of Linux operating system environments
					</li><li class="listitem">
						Unifying large groups of Linux machines
					</li><li class="listitem">
						Native integration with Active Directory
					</li></ul></div><p>
				IdM creates a Linux-based and Linux-controlled domain:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						IdM builds on existing, native Linux tools and protocols. It has its own processes and configuration, but its underlying technologies are well-established on Linux systems and trusted by Linux administrators.
					</li><li class="listitem">
						IdM servers and clients are Red Hat Enterprise Linux machines. IdM clients can also be other Linux and UNIX distributions if they support standard protocols. A Windows client cannot be a member of the IdM domain but users logged into Windows systems managed by Active Directory (AD) can connect to Linux clients or access services managed by IdM. This is accomplished by establishing cross forest trust between AD and IdM domains.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Managing identities and policies on multiple Linux servers</strong></p><p>
					<span class="emphasis"><em>Without IdM:</em></span> Each server is administered separately. All passwords are saved on the local machines. The IT administrator manages users on every machine, sets authentication and authorization policies separately, and maintains local passwords. However, more often the users rely on other centralized solution, for example direct integration with AD. Systems can be directly integrated with AD using several different solutions:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Legacy Linux tools (not recommended to use)
					</li><li class="listitem">
						Solution based on Samba winbind (recommended for specific use cases)
					</li><li class="listitem">
						Solution based on a third-party software (usually require a license from another vendor)
					</li><li class="listitem">
						Solution based on SSSD (native Linux and recommended for the majority of use cases)
					</li></ul></div><p>
				<span class="emphasis"><em>With IdM:</em></span> The IT administrator can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Maintain the identities in one central place: the IdM server
					</li><li class="listitem">
						Apply policies uniformly to multiples of machines at the same time
					</li><li class="listitem">
						Set different access levels for users by using host-based access control, delegation, and other rules
					</li><li class="listitem">
						Centrally manage privilege escalation rules
					</li><li class="listitem">
						Define how home directories are mounted
					</li></ul></div><div class="formalpara"><p class="title"><strong>Enterprise SSO</strong></p><p>
					In case of IdM Enterprise, single sign-on (SSO) is implemented leveraging the Kerberos protocol. This protocol is popular in the infrastructure level and enables SSO with services such as SSH, LDAP, NFS, CUPS, or DNS. Web services using different web stacks (Apache, EAP, Django, and others) can also be enabled to use Kerberos for SSO. However, practice shows that using OpenID Connect or SAML based on SSO is more convenient for web applications. To bridge the two layers, it is recommended to deploy an Identity Provider (IdP) solution that would be able to convert Kerberos authentication into a OpenID Connect ticket or SAML assertion. Red Hat SSO technology based on the Keycloak open source project is an example of such an IdP.
				</p></div><p>
				<span class="emphasis"><em>Without IdM:</em></span> Users log in to the system and are prompted for a password every single time they access a service or application. These passwords might be different, and the users have to remember which credential to use for which application.
			</p><p>
				<span class="emphasis"><em>With IdM:</em></span> After users log in to the system, they can access multiple services and applications without being repeatedly asked for their credentials. This helps to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Improve usability
					</li><li class="listitem">
						Reduce the security risk of passwords being written down or stored insecurely
					</li><li class="listitem">
						Boost user productivity
					</li></ul></div><div class="formalpara"><p class="title"><strong>Managing a mixed Linux and Windows environment</strong></p><p>
					<span class="emphasis"><em>Without IdM:</em></span> Windows systems are managed in an AD forest, but development, production, and other teams have many Linux systems. The Linux systems are excluded from the AD environment.
				</p></div><p>
				<span class="emphasis"><em>With IdM:</em></span> The IT administrator can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Manage the Linux systems using native Linux tools
					</li><li class="listitem">
						Integrate the Linux systems into the environments centrally managed by Active Directory, therefore preserving a centralized user store.
					</li><li class="listitem">
						Easily deploy new Linux systems at scale or as needed.
					</li><li class="listitem">
						Quickly react to business needs and make decisions related to management of the Linux infrastructure without dependency on other teams avoiding delays.
					</li></ul></div><div id="contrasting-idm-with-a-standard-ldap-directory_intro-to-ipa" class="formalpara"><p class="title"><strong>Contrasting IdM with a standard LDAP directory</strong></p><p>
					A standard LDAP directory, such as Red Hat Directory Server, is a general-purpose directory: it can be customized to fit a broad range of use cases.
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Schema: a flexible schema that can be customized for a vast array of entries, such as users, machines, network entities, physical equipment, or buildings.
					</li><li class="listitem">
						Typically used as: a back-end directory to store data for other applications, such as business applications that provide services on the Internet.
					</li></ul></div><p>
				IdM has a specific purpose: managing internal, inside-the-enterprise identities as well as authentication and authorization policies that relate to these identities.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Schema: a specific schema that defines a particular set of entries relevant to its purpose, such as entries for user or machine identities.
					</li><li class="listitem">
						Typically used as: the identity and authentication server to manage identities within the boundaries of an enterprise or a project.
					</li></ul></div><p>
				The underlying directory server technology is the same for both Red Hat Directory Server and IdM. However, IdM is optimized to manage identities inside the enterprise. This limits its general extensibility, but also brings certain benefits: simpler configuration, better automation of resource management, and increased efficiency in managing enterprise identities.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/blog/identity-management-or-red-hat-directory-server-%E2%80%93-which-one-should-i-use">Identity Management or Red Hat Directory Server – Which One Should I Use?</a> on the Red Hat Enterprise Linux Blog
					</li><li class="listitem">
						Knowledge Base article about <a class="link" href="https://access.redhat.com/articles/261973">Standard protocols</a>
					</li></ul></div></section><section class="section" id="con_common-idm-customer-scenarios-and-their-solutions_overview-of-idm-and-access-control"><div class="titlepage"><div><div><h3 class="title">1.2. Common IdM customer scenarios and their solutions</h3></div></div></div><p>
				Explore examples of common identity management and access control use cases both in Linux and Windows environments, and their solutions.
			</p><div class="variablelist"><p class="title"><strong>Scenario 1</strong></p><dl class="variablelist"><dt><span class="term">Situation</span></dt><dd><p class="simpara">
							You are a Windows administrator in your company.
						</p><p class="simpara">
							Apart from Windows systems, you also have several Linux systems to administer.
						</p><p class="simpara">
							As you cannot delegate control of any part of your environment to a Linux administrator, you must handle all security controls in Active Directory (AD).
						</p></dd><dt><span class="term">Solution</span></dt><dd><p class="simpara">
							<span class="strong strong"><strong><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/integrating_rhel_systems_directly_with_windows_active_directory/connecting-rhel-systems-directly-to-ad-using-sssd_integrating-rhel-systems-directly-with-active-directory">Integrate your Linux hosts to AD directly</a>.</strong></span>
						</p><p class="simpara">
							If you want <code class="literal">sudo</code> rules to be defined centrally in an LDAP server, you must implement a schema extension in the AD domain controller (DC). If you do not have permissions to implement this extension, consider installing Identity Management (IdM) - see Scenario 3 below. As IdM already contains the schema extension, you can <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#proc_granting-sudo-access-to-an-idm-user-on-an-idm-client-using-the-cli_granting-sudo-access-to-an-IdM-user-on-an-IdM-client">manage <code class="literal">sudo</code> rules directly in IdM</a>.
						</p></dd><dt><span class="term">Further advice if you are expecting to need more Linux skills in the future</span></dt><dd><p class="simpara">
							Connect with the Linux community to see how others manage identities: users, hosts, and services.
						</p><p class="simpara">
							Research best practices.
						</p><p class="simpara">
							Make yourself more familiar with Linux:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Use the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console">RHEL web console</a> when at all possible.
								</li><li class="listitem">
									Use easy commands on the command-line whenever possible.
								</li><li class="listitem">
									Attend a Red Hat System Administration course.
								</li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Scenario 2</strong></p><dl class="variablelist"><dt><span class="term">Situation</span></dt><dd><p class="simpara">
							You are a Linux administrator in your company.
						</p><p class="simpara">
							Your Linux users require different levels of access to the company resources.
						</p><p class="simpara">
							You need tight, centralized access control of your Linux machines.
						</p></dd><dt><span class="term">Solution</span></dt><dd>
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/installing_identity_management/index">Install IdM</a> and migrate your users to it.
						</dd><dt><span class="term">Further advice if you are expecting your company to scale up in the future</span></dt><dd><p class="simpara">
							After installing IdM, configure <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#ensuring-the-presence-of-host-based-access-control-rules-in-idm-using-Ansible-playbooks_managing-users-groups-hosts">host-based access control</a> and <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#granting-sudo-access-to-an-IdM-user-on-an-IdM-client_managing-users-groups-hosts">sudo rules</a>. These are necessary to maintain security best practices of limited access and least privilege.
						</p><p class="simpara">
							To meet your security targets, develop a cohesive identity and access management (IAM) strategy that uses protocols to secure both infrastructure and application layers.
						</p></dd></dl></div><div class="variablelist"><p class="title"><strong>Scenario 3</strong></p><dl class="variablelist"><dt><span class="term">Situation</span></dt><dd><p class="simpara">
							You are a Linux administrator in your company and you must integrate your Linux systems with the company Windows servers. You want to remain the sole maintainer of access control to your Linux systems.
						</p><p class="simpara">
							Different users require different levels of access to the Linux systems but they all reside in AD.
						</p></dd><dt><span class="term">Solution</span></dt><dd>
							As AD controls are not robust enough, you must configure access control to the Linux systems on the Linux side. <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/installing_identity_management/index">Install IdM</a> and <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/installing_trust_between_idm_and_ad/index">establish an IdM-AD trust</a>.
						</dd><dt><span class="term">Further advice to enhance the security of your environment</span></dt><dd><p class="simpara">
							After installing IdM, configure <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#ensuring-the-presence-of-host-based-access-control-rules-in-idm-using-Ansible-playbooks_managing-users-groups-hosts">host-based access control</a> and <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#granting-sudo-access-to-an-IdM-user-on-an-IdM-client_managing-users-groups-hosts">sudo rules</a>. These are necessary to maintain security best practices of limited access and least privilege.
						</p><p class="simpara">
							To meet your security targets, develop a cohesive Identity and Access Management (IAM) strategy that uses protocols to secure both infrastructure and application layers.
						</p></dd></dl></div><div class="variablelist"><p class="title"><strong>Scenario 4</strong></p><dl class="variablelist"><dt><span class="term">Situation</span></dt><dd>
							As a security administrator, you must manage identities and access across all of your environments, including all of your Red Hat products. You must manage all of your identities in one place, and maintain access controls across all of your platforms, clouds and products.
						</dd><dt><span class="term">Solution</span></dt><dd>
							Integrate IdM, <a class="link" href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On</a>, <a class="link" href="https://access.redhat.com/products/red-hat-satellite">Red Hat Satellite</a>, <a class="link" href="https://access.redhat.com/products/red-hat-ansible-automation-platform/">Red Hat Ansible Automation Platform</a> and other Red Hat products.
						</dd></dl></div><div class="variablelist"><p class="title"><strong>Scenario 5</strong></p><dl class="variablelist"><dt><span class="term">Situation</span></dt><dd>
							As a security and system administrator in a Department of Defense (DoD) or Intelligence Community (IC) environment, you are required to use smart card or RSA authentication. You are required to use PIV certificates or RSA tokens.
						</dd><dt><span class="term">Solution</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_smart_card_authentication/index#con-idm-certmapdata_managing-smart-card-authentication">Configure certificate mapping in IdM</a>.
								</li><li class="listitem">
									Ensure that GSSAPI delegation is enabled if an IdM-AD trust is present.
								</li><li class="listitem">
									Configure the use of radius configuration in IdM for RSA tokens.
								</li><li class="listitem">
									Configure IdM servers and IdM clients for <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_smart_card_authentication/index#configuring-idm-for-smart-card-auth_managing-smart-card-authentication">smart card authentication</a>.
								</li></ol></div></dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/index">Use Ansible to automate your IdM tasks</a> to reduce client configuration time and complexity and to reduce mistakes.
					</li></ul></div></section><section class="section" id="introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control"><div class="titlepage"><div><div><h3 class="title">1.3. Introduction to IdM servers and clients</h3></div></div></div><p>
				The Identity Management (IdM) domain includes the following types of systems:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">IdM clients</span></dt><dd><p class="simpara">
							IdM clients are Red Hat Enterprise Linux systems enrolled with the servers and configured to use the IdM services on these servers.
						</p><p class="simpara">
							Clients interact with the IdM servers to access services provided by them. For example, clients use the Kerberos protocol to perform authentication and acquire tickets for enterprise single sign-on (SSO), use LDAP to get identity and policy information, and use DNS to detect where the servers and services are located and how to connect to them.
						</p></dd><dt><span class="term">IdM servers</span></dt><dd><p class="simpara">
							IdM servers are Red Hat Enterprise Linux systems that respond to identity, authentication, and authorization requests from IdM clients within an IdM domain. IdM servers are the central repositories for identity and policy information. They can also host any of the optional services used by domain members:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm#certificate_authorities_in_idm">Certificate authority</a> (CA): This service is present in most IdM deployments.
								</li><li class="listitem">
									Key Recovery Authority (KRA)
								</li><li class="listitem">
									DNS
								</li><li class="listitem">
									Active Directory (AD) trust controller
								</li><li class="listitem">
									Active Directory (AD) trust agent
								</li></ul></div><p class="simpara">
							IdM servers are also embedded IdM clients. As clients enrolled with themselves, the servers provide the same functionality as other clients.
						</p></dd></dl></div><p>
				To provide services for large numbers of clients, as well as for redundancy and availability, IdM allows deployment on multiple IdM servers in a single domain. It is possible to deploy up to 60 servers. This is the maximum number of IdM servers, also called replicas, that is currently supported in the IdM domain.
			</p><p>
				When creating a replica, IdM clones the configuration of the existing server. A replica shares with the initial server its core configuration, including internal information about users, systems, certificates, and configured policies.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">NOTE</span></dt><dd>
							A replica and the server it was created from are functionally identical, except for the <span class="emphasis"><em>CA renewal</em></span> and <span class="emphasis"><em>CRL publisher</em></span> roles. Therefore, the term <span class="strong strong"><strong><span class="emphasis"><em>server</em></span></strong></span> and <span class="strong strong"><strong><span class="emphasis"><em>replica</em></span></strong></span> are used interchangeably in RHEL IdM documentation, depending on the context.
						</dd></dl></div><p>
				However, different IdM servers can provide different services for the client, if so configured. Core components like Kerberos and LDAP are available on every server. Other services like CA, DNS, Trust Controller or Vault are optional. This means that different IdM servers can have distinct roles in the deployment.
			</p><p>
				If your IdM topology contains an integrated CA, one server has the role of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/generating-crl-on-the-idm-ca-server_managing-certificates-in-idm">Certificate revocation list (CRL) publisher server</a> and one server has the role of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/ipa-ca-renewal_managing-certificates-in-idm">CA renewal server</a>.
			</p><p>
				By default, the first CA server installed fulfills these two roles, but you can assign these roles to separate servers.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					The <span class="emphasis"><em>CA renewal server</em></span> is critical for your IdM deployment because it is the only system in the domain responsible for tracking CA subsystem <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm">certificates and keys</a>. For details about how to recover from a disaster affecting your IdM deployment, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/index">Performing disaster recovery with Identity Management</a>.
				</p></div></rh-alert><div class="variablelist"><dl class="variablelist"><dt><span class="term">NOTE</span></dt><dd>
							All IdM servers (for clients, see <a class="link" href="#supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control" title="1.4. Supported versions of RHEL for installing IdM clients">Supported versions of RHEL for installing IdM clients</a>) must be running on the same major and minor version of RHEL. Do not spend more than several days applying z-stream updates or upgrading the IdM servers in your topology. For details about how to apply Z-stream fixes and upgrade your servers, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_identity_management/index#updating_idm_packages">Updating IdM packages</a>. For details about how to migrate to IdM on RHEL 9, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/migrating_to_identity_management_on_rhel_9/index#assembly_migrating-your-idm-environment-from-rhel-8-servers-to-rhel-9-servers_migrating-to-idm-on-rhel-9">Migrating your IdM environment from RHEL 8 servers to RHEL 9 servers</a>.
						</dd></dl></div></section><section class="section" id="supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control"><div class="titlepage"><div><div><h3 class="title">1.4. Supported versions of RHEL for installing IdM clients</h3></div></div></div><p>
				An Identity Management deployment in which IdM servers are running on the latest minor version of Red Hat Enterprise Linux 9 supports clients that are running on the latest minor versions of:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						RHEL 7
					</li><li class="listitem">
						RHEL 8
					</li><li class="listitem">
						RHEL 9
					</li></ul></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">NOTE</span></dt><dd>
							While other client systems, for example Ubuntu, can work with IdM 9 servers, Red Hat does not provide support for these clients.
						</dd></dl></div></section><section class="section" id="identity-management-and-access-control-in-rhel-central-versus-local_overview-of-idm-and-access-control"><div class="titlepage"><div><div><h3 class="title">1.5. IdM and access control in RHEL: Central vs. local</h3></div></div></div><p>
				In Red Hat Enterprise Linux, you can manage identities and access control policies using centralized tools for a whole domain of systems, or using local tools for a single system.
			</p><div class="formalpara"><p class="title"><strong>Managing identities and policies on multiple Red Hat Enterprise Linux servers</strong></p><p>
					With Identity Management IdM, the IT administrator can:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Maintain the identities and grouping mechanisms in one central place: the IdM server
					</li><li class="listitem">
						Centrally manage different types of credentials such as passwords, PKI certificates, OTP tokens, or SSH keys
					</li><li class="listitem">
						Apply policies uniformly to multiples of machines at the same time
					</li><li class="listitem">
						Manage POSIX and other attributes for external Active Directory users
					</li><li class="listitem">
						Set different access levels for users by using host-based access control, delegation, and other rules
					</li><li class="listitem">
						Centrally manage privilege escalation rules (sudo) and mandatory access control (SELinux user mapping)
					</li><li class="listitem">
						Maintain central PKI infrastructure and secrets store
					</li><li class="listitem">
						Define how home directories are mounted
					</li></ul></div><p>
				Without IdM:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Each server is administered separately
					</li><li class="listitem">
						All passwords are saved on the local machines
					</li><li class="listitem">
						The IT administrator manages users on every machine, sets authentication and authorization policies separately, and maintains local passwords
					</li></ul></div></section><section class="section" id="IdM_terminology_overview-of-idm-and-access-control"><div class="titlepage"><div><div><h3 class="title">1.6. IdM terminology</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Active Directory forest</span></dt><dd>
							An Active Directory (AD) forest is a set of one or more domain trees which share a common global catalog, directory schema, logical structure, and directory configuration. The forest represents the security boundary within which users, computers, groups, and other objects are accessible. For more information, see the Microsoft document on <a class="link" href="https://docs.microsoft.com/en-us/windows/win32/ad/forests">Forests</a>.
						</dd><dt><span class="term">Active Directory global catalog</span></dt><dd>
							The global catalog is a feature of Active Directory (AD) that allows a domain controller to provide information about any object in the forest, regardless of whether the object is a member of the domain controller’s domain. Domain controllers with the global catalog feature enabled are referred to as global catalog servers. The global catalog provides a searchable catalog of all objects in every domain in a multi-domain Active Directory Domain Services (AD DS).
						</dd><dt><span class="term">Active Directory security identifier</span></dt><dd>
							A security identifier (SID) is a unique ID number assigned to an object in Active Directory, such as a user, group, or host. It is the functional equivalent of UIDs and GIDs in Linux.
						</dd><dt><span class="term">Ansible play</span></dt><dd>
							Ansible plays are the building blocks of <a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html#playbooks-intro">Ansible playbooks</a>. The goal of a play is to map a group of hosts to some well-defined roles, represented by Ansible tasks.
						</dd><dt><span class="term">Ansible playbook</span></dt><dd>
							An Ansible playbook is a file that contains one or more Ansible plays. For more information, see the <a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html#about-playbooks">official Ansible documentation about playbooks</a>.
						</dd><dt><span class="term">Ansible task</span></dt><dd>
							Ansible tasks are units of action in Ansible. An Ansible play can contain multiple tasks. The goal of each task is to execute a module, with very specific arguments. An Ansible task is a set of instructions to achieve a state defined, in its broad terms, by a specific Ansible role or module, and fine-tuned by the variables of that role or module. For more information, see the <a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/basic_concepts.html#tasks">official Ansible tasks documentation</a>.
						</dd></dl></div><div class="variablelist" id="Apache-web-server_overview-of-idm-and-access-control"><dl class="variablelist"><dt><span class="term">Apache web server</span></dt><dd>
							The Apache HTTP Server, colloquially called Apache, is a free and open source cross-platform web server application, released under the terms of Apache License 2.0. Apache played a key role in the initial growth of the World Wide Web, and is currently the leading HTTP server. Its process name is <code class="literal">httpd</code>, which is short for <span class="emphasis"><em>HTTP daemon</em></span>. Red Hat Identity Management (IdM) uses the Apache Web Server to display the IdM Web UI, and to coordinate communication between components, such as the Directory Server and the Certificate Authority.
						</dd><dt><span class="term">Certificate</span></dt><dd>
							A certificate is an electronic document used to identify an individual, a server, a company, or other entity and to associate that identity with a public key. Such as a driver’s license or passport, a certificate provides generally recognized proof of a person’s identity. Public-key cryptography uses certificates to address the problem of impersonation.
						</dd><dt><span class="term">Certificate Authorities (CAs) in IdM</span></dt><dd><p class="simpara">
							An entity that issues digital certificates. In Red Hat Identity Management, the primary CA is <code class="literal">ipa</code>, the IdM CA. The <code class="literal">ipa</code> CA certificate is one of the following types:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Self-signed. In this case, the <code class="literal">ipa</code> CA is the root CA.
								</li><li class="listitem">
									Externally signed. In this case, the <code class="literal">ipa</code> CA is subordinated to the external CA.
								</li></ul></div><p class="simpara">
							In IdM, you can also create multiple <span class="strong strong"><strong>sub-CAs</strong></span>. Sub-CAs are IdM CAs whose certificates are one of the following types:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Signed by the <code class="literal">ipa</code> CA.
								</li><li class="listitem">
									Signed by any of the intermediate CAs between itself and <code class="literal">ipa</code> CA. The certificate of a sub-CA cannot be self-signed.
								</li></ul></div><p class="simpara">
							See also <a class="link" href="#planning-your-ca-services_planning-identity-management" title="Chapter 5. Planning your CA services">Planning your CA services</a>.
						</p></dd><dt><span class="term">Cross-forest trust</span></dt><dd><p class="simpara">
							A trust establishes an access relationship between two Kerberos realms, allowing users and services in one domain to access resources in another domain.
						</p><p class="simpara">
							With a cross-forest trust between an Active Directory (AD) forest root domain and an IdM domain, users from the AD forest domains can interact with Linux machines and services from the IdM domain. From the perspective of AD, Identity Management represents a separate AD forest with a single AD domain. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/how-the-trust-works_installing-trust-between-idm-and-ad">How the trust works</a>.
						</p></dd><dt><span class="term">Directory Server</span></dt><dd>
							A Directory Server centralizes user identity and application information. It provides an operating system-independent, network-based registry for storing application settings, user profiles, group data, policies, and access control information. Each resource on the network is considered an object by the Directory Server. Information about a particular resource is stored as a collection of attributes associated with that resource or object. Red Hat Directory Server conforms to LDAP standards.
						</dd><dt><span class="term">DNS PTR records</span></dt><dd>
							DNS pointer (PTR) records resolve an IP address of a host to a domain or host name. PTR records are the opposite of DNS A and AAAA records, which resolve host names to IP addresses. DNS PTR records enable reverse DNS lookups. PTR records are stored on the DNS server.
						</dd><dt><span class="term">DNS SRV records</span></dt><dd>
							A DNS service (SRV) record defines the hostname, port number, transport protocol, priority and weight of a service available in a domain. You can use SRV records to locate IdM servers and replicas.
						</dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Domain Controller (DC)</span></dt><dd>
							A domain controller (DC) is a host that responds to security authentication requests within a domain and controls access to resources in that domain. IdM servers work as DCs for the IdM domain. A DC authenticates users, stores user account information and enforces security policy for a domain. When a user logs into a domain, the DC authenticates and validates their credentials and either allows or denies access.
						</dd><dt><span class="term">Fully qualified domain name</span></dt><dd><p class="simpara">
							A fully qualified domain name (FQDN) is a domain name that specifies the exact location of a host within the hierarchy of the Domain Name System (DNS). A device with the hostname <code class="literal">myhost</code> in the parent domain <code class="literal">example.com</code> has the FQDN <code class="literal">myhost.example.com</code>. The FQDN uniquely distinguishes the device from any other hosts called <code class="literal">myhost</code> in other domains.
						</p><p class="simpara">
							If you are installing an IdM client on host <code class="literal">machine1</code> using DNS autodiscovery and your DNS records are correctly configured, the FQDN of <code class="literal">machine1</code> is all you need. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#host-name-and-dns-requirements-for-ipa_preparing-the-system-for-ipa-server-installation">Host name and DNS requirements for IdM</a>.
						</p></dd><dt><span class="term">GSSAPI</span></dt><dd><p class="simpara">
							The Generic Security Service Application Program Interface (GSSAPI, or GSS-API) allows developers to abstract how their applications protect data that is sent to peer applications. Security-service vendors can provide GSSAPI implementations of common procedure calls as libraries with their security software. These libraries present a GSSAPI-compatible interface to application writers who can write their application to use only the vendor-independent GSSAPI. With this flexibility, developers do not have to tailor their security implementations to any particular platform, security mechanism, type of protection, or transport protocol.
						</p><p class="simpara">
							Kerberos is the dominant GSSAPI mechanism implementation, which allows Red Hat Enterprise Linux and Microsoft Windows Active Directory Kerberos implementations to be API compatible.
						</p></dd><dt><span class="term">Hidden replica</span></dt><dd><p class="simpara">
							A hidden replica is an IdM replica that has all services running and available, but its server roles are disabled, and clients cannot discover the replica because it has no SRV records in DNS.
						</p><p class="simpara">
							Hidden replicas are primarily designed for services such as backups, bulk importing and exporting, or actions that require shutting down IdM services. Since no clients use a hidden replica, administrators can temporarily shut down the services on this host without affecting any clients. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#the-hidden-replica-mode_planning-the-replica-topology">The hidden replica mode</a>.
						</p></dd><dt><span class="term">HTTP server</span></dt><dd>
							See <a class="link" href="#Web-server_overview-of-idm-and-access-control">Web server</a>.
						</dd><dt><span class="term">ID mapping</span></dt><dd><p class="simpara">
							SSSD can use the SID of an AD user to algorithmically generate POSIX IDs in a process called <span class="emphasis"><em>ID mapping</em></span>. ID mapping creates a map between SIDs in AD and IDs on Linux.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									When SSSD detects a new AD domain, it assigns a range of available IDs to the new domain. Therefore, each AD domain has the same ID range on every SSSD client machine.
								</li><li class="listitem">
									When an AD user logs in to an SSSD client machine for the first time, SSSD creates an entry for the user in the SSSD cache, including a UID based on the user’s SID and the ID range for that domain.
								</li><li class="listitem">
									Because the IDs for an AD user are generated in a consistent way from the same SID, the user has the same UID and GID when logging in to any Red Hat Enterprise Linux system.
								</li></ul></div></dd><dt><span class="term">ID ranges</span></dt><dd><p class="simpara">
							An ID range is a range of ID numbers assigned to the IdM topology or a specific replica. You can use ID ranges to specify the valid range of UIDs and GIDs for new users, hosts and groups. ID ranges are used to avoid ID number conflicts. There are two distinct types of ID ranges in IdM:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>IdM ID range</em></span>
								</p><p class="simpara">
									Use this ID range to define the UIDs and GIDs for users and groups in the whole IdM topology. Installing the first IdM server creates the IdM ID range. You cannot modify the IdM ID range after creating it. However, you can create an additional IdM ID range, for example when the original one nears depletion.
								</p></li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Distributed Numeric Assignment (DNA) ID range</em></span>
								</p><p class="simpara">
									Use this ID range to define the UIDs and GIDs a replica uses when creating new users. Adding a new user or host entry to an IdM replica for the first time assigns a DNA ID range to that replica. An administrator can modify the DNA ID range, but the new definition must fit within an existing IdM ID range.
								</p><p class="simpara">
									Note that the IdM range and the DNA range match, but they are not interconnected. If you change one range, ensure you change the other to match.
								</p></li></ul></div><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/adjusting-id-ranges-manually_managing-users-groups-hosts#id-ranges_adjusting-id-ranges-manually">ID ranges</a>.
						</p></dd><dt><span class="term">ID views</span></dt><dd><p class="simpara">
							ID views enable you to specify new values for POSIX user or group attributes, and to define on which client host or hosts the new values will apply. For example, you can use ID views to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Define different attribute values for different environments.
								</li><li class="listitem">
									Replace a previously generated attribute value with a different value.
								</li></ul></div><p class="simpara">
							In an IdM-AD trust setup, the <code class="literal">Default Trust View</code> is an ID view applied to AD users and groups. Using the <code class="literal">Default Trust View</code>, you can define custom POSIX attributes for AD users and groups, therefore overriding the values defined in AD.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/using-an-id-view-to-override-a-user-attribute-value-on-an-idm-client_managing-users-groups-hosts">Using an ID view to override a user attribute value on an IdM client</a>.
						</p></dd><dt><span class="term">IdM CA server</span></dt><dd><p class="simpara">
							An IdM server on which the IdM certificate authority (CA) service is installed and running.
						</p><p class="simpara">
							Alternative names: <span class="strong strong"><strong>CA server</strong></span>
						</p></dd><dt><span class="term">IdM deployment</span></dt><dd><p class="simpara">
							A term that refers to the entirety of your IdM installation. You can describe your IdM deployment by answering the following questions:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Is your IdM deployment a testing deployment or production deployment?
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											How many IdM servers do you have?
										</li></ul></div></li><li class="listitem"><p class="simpara">
									Does your IdM deployment contain <a class="link" href="#planning-your-ca-services_planning-identity-management" title="Chapter 5. Planning your CA services">an integrated CA</a>?
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											If it does, is the integrated CA self-signed or externally signed?
										</li><li class="listitem">
											If it does, on which servers is the <a class="link" href="#guidelines-for-the-distribution-of-ca-services_planning-your-ca-services" title="5.2. Guidelines for distribution of CA services">CA role</a> available? On which servers is the KRA role available?
										</li></ul></div></li><li class="listitem"><p class="simpara">
									Does your IdM deployment contain <a class="link" href="#planning-your-dns-services-and-host-names-planning-identity-management" title="Chapter 4. Planning your DNS services and host names">an integrated DNS</a>?
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											If it does, on which servers is the DNS role available?
										</li></ul></div></li><li class="listitem"><p class="simpara">
									Is your IdM deployment in a trust agreement with an <a class="link" href="https://docs.microsoft.com/en-us/windows/win32/ad/forests">AD forest</a>?
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											If it is, on which servers is the <a class="link" href="#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad" title="7.2. Trust controllers and trust agents">AD trust controller or AD trust agent</a> role available?
										</li></ul></div></li></ul></div></dd><dt><span class="term">IdM server and replicas</span></dt><dd><p class="simpara">
							To install the first server in an IdM deployment, you must use the <code class="literal">ipa-server-install</code> command.
						</p><p class="simpara">
							Administrators can then use the <code class="literal">ipa-replica-install</code> command to install <span class="strong strong"><strong>replicas</strong></span> in addition to the first server that was installed. By default, installing a replica creates a <a class="link" href="#replication-agreements-between-idm-replicas_planning-the-replica-topology" title="3.3. Replication agreements between IdM replicas">replication agreement</a> with the IdM server from which it was created, enabling receiving and sending updates to the rest of IdM.
						</p><p class="simpara">
							There is no functional difference between the first server that was installed and a replica. Both are fully functional read/write <a class="link" href="#introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control" title="1.3. Introduction to IdM servers and clients">IdM servers</a>.
						</p><p class="simpara">
							Deprecated names: <span class="strong strong"><strong>master server</strong></span>
						</p></dd><dt><span class="term">IdM CA renewal server</span></dt><dd><p class="simpara">
							If your IdM topology contains an integrated certificate authority (CA), one server has the unique role of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/ipa-ca-renewal_managing-certificates-in-idm">CA renewal server</a>. This server maintains and renews IdM system certificates.
						</p><p class="simpara">
							By default, the first CA server you install fulfills this role, but you can configure any CA server to be the CA renewal server. In a deployment without integrated CA, there is no CA renewal server.
						</p><p class="simpara">
							Deprecated names: <span class="strong strong"><strong>master CA</strong></span>
						</p></dd><dt><span class="term">IdM CRL publisher server</span></dt><dd><p class="simpara">
							If your IdM topology contains an integrated certificate authority (CA), one server has the unique role of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/generating-crl-on-the-idm-ca-server_managing-certificates-in-idm">Certificate revocation list (CRL) publisher server</a>. This server is responsible for maintaining the CRL.
						</p><p class="simpara">
							By default, the server that fulfills the <span class="strong strong"><strong>CA renewal server</strong></span> role also fulfills this role, but you can configure any CA server to be the CRL publisher server. In a deployment without integrated CA, there is no CRL publisher server.
						</p></dd><dt><span class="term">IdM topology</span></dt><dd>
							A term that refers to the <a class="link" href="#planning-the-replica-topology-replica-topology-example-1-fin" title="Figure 3.2. Replica topology with four data centers, each with four servers that are connected with replication agreements">structure of your IdM solution</a>, especially the replication agreements between and within individual data centers and clusters.
						</dd><dt><span class="term">Kerberos authentication indicators</span></dt><dd><p class="simpara">
							Authentication indicators are attached to Kerberos tickets and represent the initial authentication method used to acquire a ticket:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">otp</code> for two-factor authentication (password + One-Time Password)
								</li><li class="listitem">
									<code class="literal">radius</code> for Remote Authentication Dial-In User Service (RADIUS) authentication (commonly for 802.1x authentication)
								</li><li class="listitem">
									<code class="literal">pkinit</code> for Public Key Cryptography for Initial Authentication in Kerberos (PKINIT), smart card, or certificate authentication
								</li><li class="listitem">
									<code class="literal">hardened</code> for passwords hardened against brute-force attempts
								</li></ul></div><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts#kerberos-authentication-indicators_managing-kerberos-ticket-policies">Kerberos authentication indicators</a>.
						</p></dd><dt><span class="term">Kerberos keytab</span></dt><dd><p class="simpara">
							While a password is the default authentication method for a user, keytabs are the default authentication method for hosts and services. A Kerberos keytab is a file that contains a list of Kerberos principals and their associated encryption keys, so a service can retrieve its own Kerberos key and verify a user’s identity.
						</p><p class="simpara">
							For example, every IdM client has an <code class="literal">/etc/krb5.keytab</code> file that stores information about the <code class="literal">host</code> principal, which represents the client machine in the Kerberos realm.
						</p></dd><dt><span class="term">Kerberos principal</span></dt><dd><p class="simpara">
							Unique Kerberos principals identify each user, service, and host in a Kerberos realm:
						</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"><!--Empty--><col style="width: 40%; " class="col_2"><!--Empty--><col style="width: 45%; " class="col_3"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140188409507600" scope="col">Entity</th><th style="text-align: left; vertical-align: top; " id="idm140188409506512" scope="col">Naming convention</th><th style="text-align: left; vertical-align: top; " id="idm140188409505424" scope="col">Example</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140188409507600"> <p>
											Users
										</p>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188409506512"> <p>
											<code class="literal">identifier@REALM</code>
										</p>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188409505424"> <p>
											<code class="literal">admin@EXAMPLE.COM</code>
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188409507600"> <p>
											Services
										</p>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188409506512"> <p>
											<code class="literal">service/fully-qualified-hostname@REALM</code>
										</p>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188409505424"> <p>
											<code class="literal">http/server.example.com@EXAMPLE.COM</code>
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188409507600"> <p>
											Hosts
										</p>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188409506512"> <p>
											<code class="literal">host/fully-qualified-hostname@REALM</code>
										</p>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188409505424"> <p>
											<code class="literal">host/client.example.com@EXAMPLE.COM</code>
										</p>
										 </td></tr></tbody></table></rh-table></dd><dt><span class="term">Kerberos protocol</span></dt><dd>
							Kerberos is a network authentication protocol that provides strong authentication for client and server applications by using secret-key cryptography. IdM and Active Directory use Kerberos for authenticating users, hosts and services.
						</dd><dt><span class="term">Kerberos realm</span></dt><dd>
							A Kerberos realm encompasses all the principals managed by a Kerberos Key Distribution Center (KDC). In an IdM deployment, the Kerberos realm includes all IdM users, hosts, and services.
						</dd><dt><span class="term">Kerberos ticket policies</span></dt><dd><p class="simpara">
							The Kerberos Key Distribution Center (KDC) enforces ticket access control through connection policies, and manages the duration of Kerberos tickets through ticket lifecycle policies. For example, the default global ticket lifetime is one day, and the default global maximum renewal age is one week.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts#idm-kerberos-ticket-policy-types_managing-kerberos-ticket-policies">IdM Kerberos ticket policy types</a>.
						</p></dd><dt><span class="term">Key Distribution Center (KDC)</span></dt><dd><p class="simpara">
							The Kerberos Key Distribution Center (KDC) is a service that acts as the central, trusted authority that manages Kerberos credential information. The KDC issues Kerberos tickets and ensures the authenticity of data originating from entities within the IdM network.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts#role-of-idm-kdc_managing-kerberos-ticket-policies">The role of the IdM KDC</a>.
						</p></dd><dt><span class="term">LDAP</span></dt><dd>
							The Lightweight Directory Access Protocol (LDAP) is an open, vendor-neutral, application protocol for accessing and maintaining distributed directory information services over a network. Part of this specification is a directory information tree (DIT), which represents data in a hierarchical tree-like structure consisting of the Distinguished Names (DNs) of directory service entries. LDAP is a "lightweight" version of the Directory Access Protocol (DAP) described by the ISO X.500 standard for directory services in a network.
						</dd><dt><span class="term">Lightweight sub-CA</span></dt><dd><p class="simpara">
							In IdM, a lightweight sub-CA is a certificate authority (CA) whose certificate is signed by an IdM root CA or one of the CAs that are subordinate to it. A lightweight sub-CA issues certificates only for a specific purpose, for example to secure a VPN or HTTP connection.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/restricting-an-application-to-trust-only-a-subset-of-certificates_managing-certificates-in-idm">Restricting an application to trust only a subset of certificates</a>.
						</p></dd><dt><span class="term">Password policy</span></dt><dd><p class="simpara">
							A password policy is a set of conditions that the passwords of a particular IdM user group must meet. The conditions can include the following parameters:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The length of the password
								</li><li class="listitem">
									The number of character classes used
								</li><li class="listitem">
									The maximum lifetime of a password.
								</li></ul></div><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/defining-idm-password-policies_using-ansible-to-install-and-manage-identity-management#what-is-a-password-policy_defining-idm-password-policies">What is a password policy</a>.
						</p></dd><dt><span class="term">POSIX attributes</span></dt><dd><p class="simpara">
							POSIX attributes are user attributes for maintaining compatibility between operating systems.
						</p><p class="simpara">
							In a Red Hat Identity Management environment, POSIX attributes for users include:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">cn</code>, the user’s name
								</li><li class="listitem">
									<code class="literal">uid</code>, the account name (login)
								</li><li class="listitem">
									<code class="literal">uidNumber</code>, a user number (UID)
								</li><li class="listitem">
									<code class="literal">gidNumber</code>, the primary group number (GID)
								</li><li class="listitem">
									<code class="literal">homeDirectory</code>, the user’s home directory
								</li></ul></div><p class="simpara">
							In a Red Hat Identity Management environment, POSIX attributes for groups include:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">cn</code>, the group’s name
								</li><li class="listitem">
									<code class="literal">gidNumber</code>, the group number (GID)
								</li></ul></div><p class="simpara">
							These attributes identify users and groups as separate entities.
						</p></dd><dt><span class="term">Replication agreement</span></dt><dd><p class="simpara">
							A replication agreement is an agreement between two IdM servers in the same IdM deployment. The replication agreement ensures that the data and configuration is continuously replicated between the two servers.
						</p><p class="simpara">
							IdM uses two types of replication agreements: <span class="emphasis"><em>domain replication</em></span> agreements, which replicate identity information, and <span class="emphasis"><em>certificate replication</em></span> agreements, which replicate certificate information.
						</p><p class="simpara">
							For more information, see:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#replication-agreements-between-idm-replicas_planning-the-replica-topology">Replication agreements</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology">Determining the appropriate number of replicas</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology">Connecting the replicas in a topology</a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#replica-topology-examples_planning-the-replica-topology">Replica topology examples</a>
								</li></ul></div></dd><dt><span class="term">Smart card</span></dt><dd>
							A smart card is a removable device or card used to control access to a resource. They can be plastic credit card-sized cards with an embedded integrated circuit (IC) chip, small USB devices such as a Yubikey, or other similar devices. Smart cards can provide authentication by allowing users to connect a smart card to a host computer, and software on that host computer interacts with key material stored on the smart card to authenticate the user.
						</dd><dt><span class="term">SSSD</span></dt><dd>
							The System Security Services Daemon (SSSD) is a system service that manages user authentication and user authorization on a RHEL host. SSSD optionally keeps a cache of user identities and credentials retrieved from remote providers for offline authentication. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_authentication_and_authorization_in_rhel/understanding-sssd-and-its-benefits_configuring-authentication-and-authorization-in-rhel">Understanding SSSD and its benefits</a>.
						</dd><dt><span class="term">SSSD backend</span></dt><dd>
							An SSSD backend, often also called a data provider, is an SSSD child process that manages and creates the SSSD cache. This process communicates with an LDAP server, performs different lookup queries and stores the results in the cache. It also performs online authentication against LDAP or Kerberos and applies access and password policy to the user that is logging in.
						</dd><dt><span class="term">Ticket-granting ticket (TGT)</span></dt><dd><p class="simpara">
							After authenticating to a Kerberos Key Distribution Center (KDC), a user receives a ticket-granting ticket (TGT), which is a temporary set of credentials that can be used to request access tickets to other services, such as websites and email.
						</p><p class="simpara">
							Using a TGT to request further access provides the user with a Single Sign-On experience, as the user only needs to authenticate once to access multiple services. TGTs are renewable, and Kerberos ticket policies determine ticket renewal limits and access control.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts">Managing Kerberos ticket policies</a>.
						</p></dd></dl></div><div class="variablelist" id="Web-server_overview-of-idm-and-access-control"><dl class="variablelist"><dt><span class="term">Web server</span></dt><dd>
							A web server is computer software and underlying hardware that accepts requests for web content, such as pages, images, or applications. A user agent, such as a web browser, requests a specific resource using HTTP, the network protocol used to distribute web content, or its secure variant HTTPS. The web server responds with the content of that resource or an error message. The web server can also accept and store resources sent from the user agent. Red Hat Identity Management (IdM) uses the Apache Web Server to display the IdM Web UI, and to coordinate communication between components, such as the Directory Server and the Certificate Authority (CA). See <a class="link" href="#Apache-web-server_overview-of-idm-and-access-control">Apache web server</a>.
						</dd></dl></div><div class="formalpara"><p class="title"><strong>Additional Glossaries</strong></p><p>
					If you are unable to find an Identity Management term in this glossary, see the Directory Server and Certificate System glossaries:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/configuration_command_and_file_reference/glossary">Directory Server 11 Glossary</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_certificate_system/9/html/planning_installation_and_deployment_guide/glossary">Certificate System 9 Glossary</a>
					</li></ul></div></section></section><section class="chapter" id="failover-load-balancing-high-availability_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Failover, load-balancing, and high-availability in IdM</h2></div></div></div><p class="_abstract _abstract">
			Identity Management (IdM) has built-in failover mechanisms for IdM clients, and load-balancing and high-availability features for IdM servers.
		</p><section class="section" id="client_side_failover_capability"><div class="titlepage"><div><div><h3 class="title">2.1. Client-side failover capability</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						By default, the <code class="literal">SSSD</code> service on an IdM client is configured to use service (SRV) resource records from DNS to automatically determine the best IdM server to connect to. This behavior is controlled by the <code class="literal">_srv_</code> option in the <code class="literal">ipa_server</code> parameter of the <code class="literal filename">/etc/sssd/sssd.conf</code> file:
					</p><pre class="literallayout">[root@client ~]# cat /etc/sssd/sssd.conf

[domain/example.com]
id_provider = ipa
ipa_server = <span class="strong strong"><strong>_srv_</strong></span>, server.example.com
...</pre><p class="simpara">
						If an IdM server goes offline, the SSSD service on the IdM client connects to another IdM server it has automatically discovered.
					</p></li><li class="listitem"><p class="simpara">
						If you prefer to bypass DNS lookups for performance reasons, remove the <code class="literal">_srv_</code> entry from the <code class="literal">ipa_server</code> parameter and specify which IdM servers the client should connect to, in order of preference:
					</p><pre class="literallayout">[root@client ~]# cat /etc/sssd/sssd.conf

[domain/example.com]
id_provider = ipa
ipa_server = <span class="strong strong"><strong><span class="emphasis"><em>server1.example.com, server2.example.com</em></span></strong></span>
...</pre></li></ul></div></section><section class="section" id="server_side_load_balancing_and_service_availability"><div class="titlepage"><div><div><h3 class="title">2.2. Server-side load-balancing and service availability</h3></div></div></div><p>
				You can achieve load-balancing and high-availability in IdM by installing multiple IdM replicas:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If you have a geographically dispersed network, you can shorten the path between IdM clients and the nearest accessible server by configuring multiple IdM replicas per data center.
					</li><li class="listitem">
						Red Hat supports environments with up to 60 replicas.
					</li><li class="listitem">
						The IdM replication mechanism provides active/active service availability: services at all IdM replicas are readily available at the same time.
					</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Red Hat recommends against combining IdM and other load-balancing or high-availability (HA) software.
				</p><p>
					Many third-party high availability solutions assume active/passive scenarios and cause unnecessary service interruption to IdM availability. Other solutions use virtual IPs or a single hostname per clustered service. All these methods do not typically work well with the type of service availability provided by the IdM solution. They also integrate very poorly with Kerberos, decreasing the overall security and stability of the deployment.
				</p></div></rh-alert></section></section><section class="chapter" id="planning-the-replica-topology_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Planning the replica topology</h2></div></div></div><p>
			Review guidance on determining the appropriate replica topology for your use case.
		</p><section class="section" id="multiple-replica-servers-as-a-solution-for-high-performance-and-disaster-recovery_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.1. Multiple replica servers as a solution for high performance and disaster recovery</h3></div></div></div><p>
				You can achieve continuous functionality and high-availability of Identity Management (IdM) services by creating replicas of the existing IdM servers.
			</p><p>
				When you create an appropriate number of IdM replicas, you can use load balancing to distribute client requests across multiple servers to optimize performance of IdM services. With IdM, you can place additional servers in geographically dispersed data centers to reflect your enterprise organizational structure. In this way, the path between IdM clients and the nearest accessible server is shortened. In addition, having multiple servers allows spreading the load and scaling for more clients.
			</p><p>
				Replicating IdM servers is also a common backup mechanism to mitigate or prevent server loss. For example, if one server fails, the remaining servers continue providing services to the domain. You can also recover the lost server by creating a new replica based on one of the remaining servers.
			</p></section><section class="section" id="introduction-to-ipa-servers-and-clients_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.2. Introduction to IdM servers and clients</h3></div></div></div><p>
				The Identity Management (IdM) domain includes the following types of systems:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">IdM clients</span></dt><dd><p class="simpara">
							IdM clients are Red Hat Enterprise Linux systems enrolled with the servers and configured to use the IdM services on these servers.
						</p><p class="simpara">
							Clients interact with the IdM servers to access services provided by them. For example, clients use the Kerberos protocol to perform authentication and acquire tickets for enterprise single sign-on (SSO), use LDAP to get identity and policy information, and use DNS to detect where the servers and services are located and how to connect to them.
						</p></dd><dt><span class="term">IdM servers</span></dt><dd><p class="simpara">
							IdM servers are Red Hat Enterprise Linux systems that respond to identity, authentication, and authorization requests from IdM clients within an IdM domain. IdM servers are the central repositories for identity and policy information. They can also host any of the optional services used by domain members:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm#certificate_authorities_in_idm">Certificate authority</a> (CA): This service is present in most IdM deployments.
								</li><li class="listitem">
									Key Recovery Authority (KRA)
								</li><li class="listitem">
									DNS
								</li><li class="listitem">
									Active Directory (AD) trust controller
								</li><li class="listitem">
									Active Directory (AD) trust agent
								</li></ul></div><p class="simpara">
							IdM servers are also embedded IdM clients. As clients enrolled with themselves, the servers provide the same functionality as other clients.
						</p></dd></dl></div><p>
				To provide services for large numbers of clients, as well as for redundancy and availability, IdM allows deployment on multiple IdM servers in a single domain. It is possible to deploy up to 60 servers. This is the maximum number of IdM servers, also called replicas, that is currently supported in the IdM domain.
			</p><p>
				When creating a replica, IdM clones the configuration of the existing server. A replica shares with the initial server its core configuration, including internal information about users, systems, certificates, and configured policies.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">NOTE</span></dt><dd>
							A replica and the server it was created from are functionally identical, except for the <span class="emphasis"><em>CA renewal</em></span> and <span class="emphasis"><em>CRL publisher</em></span> roles. Therefore, the term <span class="strong strong"><strong><span class="emphasis"><em>server</em></span></strong></span> and <span class="strong strong"><strong><span class="emphasis"><em>replica</em></span></strong></span> are used interchangeably in RHEL IdM documentation, depending on the context.
						</dd></dl></div><p>
				However, different IdM servers can provide different services for the client, if so configured. Core components like Kerberos and LDAP are available on every server. Other services like CA, DNS, Trust Controller or Vault are optional. This means that different IdM servers can have distinct roles in the deployment.
			</p><p>
				If your IdM topology contains an integrated CA, one server has the role of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/generating-crl-on-the-idm-ca-server_managing-certificates-in-idm">Certificate revocation list (CRL) publisher server</a> and one server has the role of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/ipa-ca-renewal_managing-certificates-in-idm">CA renewal server</a>.
			</p><p>
				By default, the first CA server installed fulfills these two roles, but you can assign these roles to separate servers.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					The <span class="emphasis"><em>CA renewal server</em></span> is critical for your IdM deployment because it is the only system in the domain responsible for tracking CA subsystem <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm">certificates and keys</a>. For details about how to recover from a disaster affecting your IdM deployment, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/index">Performing disaster recovery with Identity Management</a>.
				</p></div></rh-alert><div class="variablelist"><dl class="variablelist"><dt><span class="term">NOTE</span></dt><dd>
							All IdM servers (for clients, see <a class="link" href="#supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control" title="1.4. Supported versions of RHEL for installing IdM clients">Supported versions of RHEL for installing IdM clients</a>) must be running on the same major and minor version of RHEL. Do not spend more than several days applying z-stream updates or upgrading the IdM servers in your topology. For details about how to apply Z-stream fixes and upgrade your servers, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_identity_management/index#updating_idm_packages">Updating IdM packages</a>. For details about how to migrate to IdM on RHEL 9, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/migrating_to_identity_management_on_rhel_9/index#assembly_migrating-your-idm-environment-from-rhel-8-servers-to-rhel-9-servers_migrating-to-idm-on-rhel-9">Migrating your IdM environment from RHEL 8 servers to RHEL 9 servers</a>.
						</dd></dl></div></section><section class="section" id="replication-agreements-between-idm-replicas_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.3. Replication agreements between IdM replicas</h3></div></div></div><p class="_abstract _abstract">
				When an administrator creates a replica based on an existing server, Identity Management (IdM) creates a <span class="emphasis"><em>replication agreement</em></span> between the initial server and the replica. The replication agreement ensures that the data and configuration is continuously replicated between the two servers.
			</p><p>
				IdM uses <span class="emphasis"><em>multiple read/write replica replication</em></span>. In this configuration, all replicas joined in a replication agreement receive and provide updates, and are therefore considered suppliers and consumers. Replication agreements are always bilateral.
			</p><div class="figure" id="idm140188409330544"><p class="title"><strong>Figure 3.1. Server and replica agreements</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/d06b1dd2052f1e330862ea59ba3cf9db/64_RHEL_IdM_0120_2.1.png" alt="An image of two servers with two sets of replication agreements between them: a data replication agreement that pertains to their Directory Server database and a certificate replication agreement that pertains to their Certificate System data"></div></div></div><p>
				IdM uses two types of replication agreements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Domain replication agreements</strong></span> replicate the identity information.
					</li><li class="listitem">
						<span class="strong strong"><strong>Certificate replication agreements</strong></span> replicate the certificate information.
					</li></ul></div><p>
				Both replication channels are independent. Two servers can have one or both types of replication agreements configured between them. For example, when server A and server B have only domain replication agreement configured, only identity information is replicated between them, not the certificate information.
			</p></section><section class="section" id="guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.4. Guidelines for determining the appropriate number of IdM replicas in a topology</h3></div></div></div><p class="_abstract _abstract">
				Plan IdM topology to match your organization’s requirements and ensure optimal performance and service availability.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Set up at least two replicas in each data center</span></dt><dd>
							Deploy at least two replicas in each data center to ensure that if one server fails, the replica can take over and handle requests.
						</dd><dt><span class="term">Set up a sufficient number of servers to serve your clients</span></dt><dd>
							One Identity Management (IdM) server can provide services to 2000 - 3000 clients. This assumes the clients query the servers multiple times a day, but not, for example, every minute. If you expect frequent queries, plan for more servers.
						</dd><dt><span class="term">Set up a sufficient number of Certificate Authority (CA) replicas</span></dt><dd>
							Only replicas with the CA role installed can replicate certificate data. If you use the IdM CA, ensure your environment has at least two CA replicas with certificate replication agreements between them.
						</dd><dt><span class="term">Set up a maximum of 60 replicas in a single IdM domain</span></dt><dd>
							Red Hat supports environments with up to 60 replicas.
						</dd></dl></div></section><section class="section" id="guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.5. Guidelines for connecting IdM replicas in a topology</h3></div></div></div><div class="variablelist _abstract"><dl class="variablelist _abstract"><dt><span class="term">Connect each replica to at least two other replicas</span></dt><dd>
							This ensures that information is replicated not just between the initial replica and the first server you installed, but between other replicas as well.
						</dd><dt><span class="term">Connect a replica to a maximum of four other replicas (not a hard requirement)</span></dt><dd><p class="simpara">
							A large number of replication agreements per server does not add significant benefits. A receiving replica can only be updated by one other replica at a time and meanwhile, the other replication agreements are idle. More than four replication agreements per replica typically means a waste of resources.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								This recommendation applies to both certificate replication and domain replication agreements.
							</p></div></rh-alert><p class="simpara">
							There are two exceptions to the limit of four replication agreements per replica:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									You want failover paths if certain replicas are not online or responding.
								</li><li class="listitem">
									In larger deployments, you want additional direct links between specific nodes.
								</li></ul></div><p class="simpara">
							Configuring a high number of replication agreements can have a negative impact on overall performance: when multiple replication agreements in the topology are sending updates, certain replicas can experience a high contention on the changelog database file between incoming updates and the outgoing updates.
						</p><p class="simpara">
							If you decide to use more replication agreements per replica, ensure that you do not experience replication issues and latency. However, note that large distances and high numbers of intermediate nodes can also cause latency problems.
						</p></dd><dt><span class="term">Connect the replicas in a data center with each other</span></dt><dd>
							This ensures domain replication within the data center.
						</dd><dt><span class="term">Connect each data center to at least two other data centers</span></dt><dd>
							This ensures domain replication between data centers.
						</dd><dt><span class="term">Connect data centers using at least a pair of replication agreements</span></dt><dd>
							If data centers A and B have a replication agreement from A1 to B1, having a replication agreement from A2 to B2 ensures that if one of the servers is down, the replication can continue between the two data centers.
						</dd></dl></div></section><section class="section" id="replica-topology-examples_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.6. Replica topology examples</h3></div></div></div><p class="_abstract _abstract">
				You can create a reliable replica topology by using one of the following examples.
			</p><div class="figure" id="planning-the-replica-topology-replica-topology-example-1-fin"><p class="title"><strong>Figure 3.2. Replica topology with four data centers, each with four servers that are connected with replication agreements</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/4b12a5f781694bfb5d3112c150572e15/replica-topology-example-1.png" alt="A diagram showing 4 data centers - Geo 1 through 4. Each data center has four servers connected to each other with replication agreements. There are also replication agreements connecting two servers from Geo 1 to two servers in Geo 2. This pattern continues with two servers in Geo 2 connected to two servers in Geo 3 and two servers in Geo 3 connected to Geo 4. This connects each data center so each server is at most 3 hops away from another Geo."></div></div></div><p>
				<br> <br>
			</p><div class="figure" id="planning-the-replica-topology-replica-topology-example-2-fin"><p class="title"><strong>Figure 3.3. Replica topology with three data centers, each with a different number of servers that are all interconnected through replication agreements</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/2acffc53edabca15d44d9d0ec65a1098/replica-topology-example-2.png" alt="A diagram showing 3 data centers: Geo 1 has 5 servers each connected to the other - Geo 2 has two servers connected to each other - Geo 3 has 3 servers connected in a triangle. There are 2 connections from each Geo connecting two of its servers to 2 servers in the next Geo."></div></div></div></section><section class="section" id="the-hidden-replica-mode_planning-the-replica-topology"><div class="titlepage"><div><div><h3 class="title">3.7. The hidden replica mode</h3></div></div></div><p>
				A <span class="strong strong"><strong>hidden replica</strong></span> is an IdM server that has all services running and available. However, a hidden replica has no SRV records in DNS, and LDAP server roles are not enabled. Therefore, clients cannot use service discovery to detect hidden replicas.
			</p><p>
				By default, when you set up a replica, the installation program automatically creates service (SRV) resource records for it in DNS. These records enable clients to auto-discover the replica and its services. When installing a replica as hidden, add the <code class="literal">--hidden-replica</code> parameter to the <code class="literal">ipa-replica-install</code> command.
			</p><p>
				Hidden replicas are primarily designed for dedicated services that might disrupt clients. For example, a full backup of IdM requires shutting down all IdM services on the server. As no clients use a hidden replica, administrators can temporarily shut down the services on this host without affecting any clients.
			</p><p>
				Other use cases include high-load operations on the IdM API or the LDAP server, such as a mass import or extensive queries.
			</p><p>
				Before backing up a hidden replica, you must install all required server roles used in a cluster, especially the Certificate Authority role if the integrated CA is used. Therefore, restoring a backup from a hidden replica on a new host always results in a regular replica.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-replica_installing-identity-management">Installing an Identity Management replica</a>
					</li><li class="listitem">
						<a class="link" href="#backing-up-and-restoring-idm_planning-identity-management" title="Chapter 8. Backing up and restoring IdM">Backing up and restoring IdM</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_replication_in_identity_management/demoting-or-promoting-hidden-replicas_managing-replication-in-idm">Demoting or promoting hidden replicas</a>.
					</li></ul></div></section></section><section class="chapter" id="planning-your-dns-services-and-host-names-planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Planning your DNS services and host names</h2></div></div></div><p>
			Identity Management (IdM) provides different types of DNS configurations in the IdM server. The following sections describe them and provide advice on how to determine which is the best for your use case.
		</p><section class="section" id="dns-services-available-in-an-ipa-server_planning-dns"><div class="titlepage"><div><div><h3 class="title">4.1. DNS services available in an IdM server</h3></div></div></div><p>
				You can install an Identity Management (IdM) server with or without integrated DNS.
			</p><rh-table id="planning-dns-comparing-ipa-with-integrated-dns-and-without-integrated-dns"><table class="lt-4-cols lt-7-rows"><caption>Table 4.1. Comparing IdM with integrated DNS and without integrated DNS</caption><colgroup><col style="width: 13%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--><col style="width: 38%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188409416656" scope="col"> </th><th align="left" valign="top" id="idm140188409415728" scope="col">With integrated DNS</th><th align="left" valign="top" id="idm140188409414640" scope="col">Without integrated DNS</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188409416656"> <p>
								Overview:
							</p>
							 </td><td align="left" valign="top" headers="idm140188409415728"> <p>
								IdM runs its own DNS service for the IdM domain.
							</p>
							 </td><td align="left" valign="top" headers="idm140188409414640"> <p>
								IdM uses DNS services provided by an external DNS server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188409416656"> <p>
								Limitations:
							</p>
							 </td><td align="left" valign="top" headers="idm140188409415728"> <p>
								The integrated DNS server provided by IdM only supports features related to IdM deployment and maintenance. It does not support some of the advanced features of a general-purpose DNS server. Specific limitations are as follows:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										IdM DNS nameserver must be authoritative for its zones.
									</li><li class="listitem">
										The supported record types are A, AAAA, A6, AFSDB, CERT, CNAME, DLV, DNAME, DS, KX, LOC, MX, NAPTR, NS, PTR, SRV, SSHFP, TLSA, TXT, and URI.
									</li><li class="listitem">
										Split DNS, also known as split-view, split-horizon, split-brain DNS, is not supported.
									</li><li class="listitem">
										There are known issues if the DNS nameserver restarts in a multi-core environment. For example, if log rotation causes a nameserver to restart, the nameserver might crash. If you must use a multi-core setup, allow <code class="literal">systemd</code> to restart the nameserver after a failure occurs.
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140188409414640"> <p>
								DNS is not integrated with native IdM tools. For example, IdM does not update the DNS records automatically after a change in the topology.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188409416656"> <p>
								Works best for:
							</p>
							 </td><td align="left" valign="top" headers="idm140188409415728"> <p>
								Basic usage within the IdM deployment.
							</p>
							 <p>
								When the IdM server manages DNS, DNS is tightly integrated with native IdM tools, which enables automating some of the DNS record management tasks.
							</p>
							 </td><td align="left" valign="top" headers="idm140188409414640"> <p>
								Environments where advanced DNS features beyond the scope of the IdM DNS are needed.
							</p>
							 <p>
								Environments with a well-established DNS infrastructure where you want to keep using an external DNS server.
							</p>
							 </td></tr></tbody></table></rh-table><p>
				Even if an Identity Management server is used as a primary DNS server, other external DNS servers can still be used as secondary servers. For example, if your environment is already using another DNS server, such as a DNS server integrated with Active Directory (AD), you can delegate only the IdM primary domain to the DNS integrated with IdM. It is not necessary to migrate DNS zones to the IdM DNS.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					If you need to issue certificates for IdM clients with an IP address in the Subject Alternative Name (SAN) extension, you must use the IdM integrated DNS service.
				</p></div></rh-alert></section><section class="section" id="guidelines-for-planning-the-dns-domain-name-and-kerberos-realm-name_planning-dns"><div class="titlepage"><div><div><h3 class="title">4.2. Guidelines for planning the DNS domain name and Kerberos realm name</h3></div></div></div><p>
				When installing the first Identity Management (IdM) server, the installation prompts for a primary DNS name of the IdM domain and Kerberos realm name. These guidelines can help you set the names correctly.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					You will not be able to change the IdM primary domain name and Kerberos realm name after the server is already installed. Do not expect to be able to move from a testing environment to a production environment by changing the names, for example from <code class="literal"><span class="emphasis"><em>lab.example.com</em></span></code> to <code class="literal"><span class="emphasis"><em>production.example.com</em></span></code>.
				</p></div></rh-alert><div class="variablelist"><dl class="variablelist"><dt><span class="term">A separate DNS domain for service records</span></dt><dd>
							Ensure that the <span class="emphasis"><em>primary DNS domain</em></span> used for IdM is not shared with any other system. This helps avoid conflicts on the DNS level.
						</dd><dt><span class="term">Proper DNS domain name delegation</span></dt><dd>
							Ensure you have valid delegation in the public DNS tree for the DNS domain. Do not use a domain name that is not delegated to you, not even on a private network.
						</dd><dt><span class="term">Multi-label DNS domain</span></dt><dd>
							Do not use single-label domain names, for example <code class="literal">.company</code>. The IdM domain must be composed of one or more subdomains and a top level domain, for example <code class="literal">example.com</code> or <code class="literal">company.example.com</code>.
						</dd><dt><span class="term">A unique Kerberos realm name</span></dt><dd>
							Ensure the realm name is not in conflict with any other existing Kerberos realm name, such as a name used by Active Directory (AD).
						</dd><dt><span class="term">Kerberos realm name as an upper-case version of the primary DNS name</span></dt><dd><p class="simpara">
							Consider setting the realm name to an upper-case (<code class="literal"><span class="emphasis"><em>EXAMPLE.COM</em></span></code>) version of the primary DNS domain name (<code class="literal"><span class="emphasis"><em>example.com</em></span></code>).
						</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
								If you do not set the Kerberos realm name to be the upper-case version of the primary DNS name, you will not be able to use AD trusts.
							</p></div></rh-alert></dd></dl></div><h5 id="additional_notes_on_planning_the_dns_domain_name_and_kerberos_realm_name">Additional notes on planning the DNS domain name and Kerberos realm name</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						One IdM deployment always represents one Kerberos realm.
					</li><li class="listitem">
						You can join IdM clients from multiple distinct DNS domains (<code class="literal"><span class="emphasis"><em>example.com</em></span></code>, <code class="literal"><span class="emphasis"><em>example.net</em></span></code>, <code class="literal"><span class="emphasis"><em>example.org</em></span></code>) to a single Kerberos realm (<code class="literal"><span class="emphasis"><em>EXAMPLE.COM</em></span></code>).
					</li><li class="listitem"><p class="simpara">
						IdM clients do not need to be in the primary DNS domain. For example, if the IdM domain is <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code>, the clients can be in the <code class="literal"><span class="emphasis"><em>clients.example.com</em></span></code> domain, but clear mapping must be configured between the DNS domain and the Kerberos realm.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The standard method to create the mapping is using the <span class="strong strong"><strong>_kerberos</strong></span> TXT DNS records. The IdM integrated DNS adds these records automatically.
						</p></div></rh-alert></li></ul></div><h5 id="planning_dns_forwarding">Planning DNS forwarding</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If you want to use only one forwarder for your entire IdM deployment, configure a <span class="strong strong"><strong>global forwarder</strong></span>.
					</li><li class="listitem">
						If your company is spread over multiple sites in geographically distant regions, global forwarders might be impractical. Configure <span class="strong strong"><strong>per-server forwarders</strong></span>.
					</li><li class="listitem">
						If your company has an internal DNS network that is not resolvable from the public internet, configure a <span class="strong strong"><strong>forward zone</strong></span> and <span class="strong strong"><strong>zone forwarders</strong></span> so that the hosts in the IdM domain can resolve hosts from this other internal DNS network.
					</li></ul></div></section></section><section class="chapter" id="planning-your-ca-services_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Planning your CA services</h2></div></div></div><p>
			Identity Management (IdM) in Red Hat Enterprise Linux provides different types of certificate authority (CA) configurations. The following sections describe different scenarios and provide advice to help you determine which configuration is best for your use case.
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">CA subject DN</span></dt><dd>
						The Certificate Authority (CA) subject distinguished name (DN) is the name of the CA. It must be globally unique in the Identity Management (IdM) CA infrastructure and cannot be changed after the installation. In case you need the IdM CA to be externally signed, you might need to consult the administrator of the external CA about the form your IdM CA Subject DN should take.
					</dd></dl></div><section class="section" id="ca-services-available-in-an-ipa-server_planning-your-ca-services"><div class="titlepage"><div><div><h3 class="title">5.1. CA Services available in an IdM server</h3></div></div></div><p>
				You can install an Identity Management (IdM) server with an integrated IdM certificate authority (CA) or without a CA.
			</p><rh-table id="planning-your-ca-services-comparing-ipa-with-integrated-ca-and-without-a-ca"><table class="lt-4-cols lt-7-rows"><caption>Table 5.1. Comparing IdM with integrated CA and without a CA</caption><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 40%; " class="col_2"><!--Empty--><col style="width: 40%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188401452336" scope="col"> </th><th align="left" valign="top" id="idm140188401451408" scope="col">Integrated CA</th><th align="left" valign="top" id="idm140188401450304" scope="col">Without a CA</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188401452336"> <p>
								Overview:
							</p>
							 </td><td align="left" valign="top" headers="idm140188401451408"> <p>
								IdM uses its own public key infrastructure (PKI) service with a <span class="emphasis"><em>CA signing certificate</em></span> to create and sign the certificates in the IdM domain.
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										If the root CA is the integrated CA, IdM uses a self-signed CA certificate.
									</li><li class="listitem">
										If the root CA is an external CA, the integrated IdM CA is subordinate to the external CA. The CA certificate used by IdM is signed by the external CA, but all certificates for the IdM domain are issued by the integrated Certificate System instance.
									</li><li class="listitem">
										Integrated CA is also able to issue certificates for users, hosts, or services.
									</li></ul></div>
							 <p>
								The external CA can be a corporate CA or a third-party CA.
							</p>
							 </td><td align="left" valign="top" headers="idm140188401450304"> <p>
								IdM does not set up its own CA, but uses signed host certificates from an external CA.
							</p>
							 <p>
								Installing a server without a CA requires you to request the following certificates from a third-party authority:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										An LDAP server certificate
									</li><li class="listitem">
										An Apache server certificate
									</li><li class="listitem">
										A PKINIT certificate
									</li><li class="listitem">
										Full CA certificate chain of the CA that issued the LDAP and Apache server certificates
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188401452336"> <p>
								Limitations:
							</p>
							 </td><td align="left" valign="top" headers="idm140188401451408"> <p>
								If the integrated CA is subordinate to an external CA, the certificates issued within the IdM domain are potentially subject to restrictions set by the external CA for various certificate attributes, such as:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										The validity period.
									</li><li class="listitem">
										Constraints on what subject names can appear on certificates issued by the IDM CA or its subordinates..
									</li><li class="listitem">
										Constraints on whether the IDM CA can itself, issue subordinate CA certificates, or how "deep" the chain of subordinate certificates can go.
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140188401450304"> <p>
								Managing certificates outside of IdM causes many additional activities, such as :
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Creating, uploading, and renewing certificates is a manual process.
									</li><li class="listitem">
										The <code class="literal">certmonger</code> service does not track the IPA certificates (LDAP server, Apache server, and PKINIT certificates) and does not notify you when the certificates are about to expire. The administrators must manually set up notifications for externally issued certificates, or set tracking requests for those certificates if they want <code class="literal">certmonger</code> to track them.
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188401452336"> <p>
								Works best for:
							</p>
							 </td><td align="left" valign="top" headers="idm140188401451408"> <p>
								Environments that allow you to create and use your own certificate infrastructure.
							</p>
							 </td><td align="left" valign="top" headers="idm140188401450304"> <p>
								Very rare cases when restrictions within the infrastructure do not allow you to install certificate services integrated with the server.
							</p>
							 </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Switching from the self-signed CA to an externally-signed CA, or the other way around, as well as changing which external CA issues the IdM CA certificate, is possible even after the installation. It is also possible to configure an integrated CA even after an installation without a CA. For more details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-server-without-a-ca_installing-identity-management">Installing an IdM server: With integrated DNS, without a CA</a>.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/understanding-what-certificates-are-used-by-idm_managing-certificates-in-idm">Understanding the certificates used internally by IdM</a>
					</li></ul></div></section><section class="section" id="guidelines-for-the-distribution-of-ca-services_planning-your-ca-services"><div class="titlepage"><div><div><h3 class="title">5.2. Guidelines for distribution of CA services</h3></div></div></div><p>
				The following steps provide guidelines for the distribution of your certificate authority (CA) services.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the CA services on more than one server in the topology.
					</p><p class="simpara">
						Replicas configured without a CA forward all certificate operation requests to the CA servers in your topology.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							If you lose all servers with a CA, you lose all the CA configuration without any chance of recovery. In this case you must configure a new CA and issue and install new certificates.
						</p></div></rh-alert></li><li class="listitem">
						Maintain a sufficient number of CA servers to handle the CA requests in your deployment.
					</li></ol></div><p>
				See the following table for further recommendations on appropriate number of CA servers:
			</p><rh-table id="guidelines-for-the-appropriate-number-of-ca-servers_planning-your-ca-services"><table class="lt-4-cols lt-7-rows"><caption>Table 5.2. Guidelines for setting up appropriate number of CA servers</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188403111168" scope="col">Description of the deployment</th><th align="left" valign="top" id="idm140188403671824" scope="col">Suggested number of CA servers</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188403111168"> <p>
								A deployment with a very large number of certificates issued
							</p>
							 </td><td align="left" valign="top" headers="idm140188403671824"> <p>
								Three or four CA servers
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188403111168"> <p>
								A deployment with bandwidth or availability problems between multiple regions
							</p>
							 </td><td align="left" valign="top" headers="idm140188403671824"> <p>
								One CA server per region, with a minimum of three servers total for the deployment
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188403111168"> <p>
								All other deployments
							</p>
							 </td><td align="left" valign="top" headers="idm140188403671824"> <p>
								Two CA servers
							</p>
							 </td></tr></tbody></table></rh-table><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Four CA servers in the topology are usually enough if the number of concurrent certificate requests is not high. The replication processes between more than four CA servers can increase processor usage and lead to performance degradation.
				</p></div></rh-alert></section><section class="section" id="random-serial-numbers-in-idm_planning-your-ca-services"><div class="titlepage"><div><div><h3 class="title">5.3. Random serial numbers in IdM</h3></div></div></div><p>
				As of RHEL 9.1, Identity Management (IdM) includes <code class="literal">dogtagpki 11.2.0</code>, which allows you to use Random Serial Numbers version 3 (RSNv3). The <code class="literal">ansible-freeipa</code> <code class="literal">ipaserver</code> role includes the <code class="literal">ipaserver_random_serial_numbers</code> variable with the RHEL 9.3 update.
			</p><p>
				With RSNv3 enabled, IdM generates fully random serial numbers for certificates and requests in PKI without range management. RSNv3 also prevents collisions in case you reinstall IdM. The size of each certificate serial number is up to 40-digit decimal values as RSNv3 uses a 128-bit random value for the serial number. This makes the number effectively random.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Previously, the Dogtag upstream project used range-based serial numbers in order to ensure uniqueness across multiple clones. However, based on this experience, the Dogtag team determined that range-based serial numbers would not fit well into cloud environments with short-lived certificates.
				</p></div></rh-alert><p>
				RSNv3 is supported only for new IdM CA installations. By default, you install the first IdM CA when you install the primary IdM server by using the <code class="literal">ipa-server-install</code> command. However, if you originally installed your IdM environment without a CA, you can add the CA service later by using the <code class="literal">ipa-ca-install</code> command. To enable RSNv3, use the <code class="literal">ipa-server-install</code> or <code class="literal">ipa-ca-install</code> command with the <code class="literal">--random-serial-numbers</code> option.
			</p><p>
				If enabled, it is required to use RSNv3 on all public-key infrastructure (PKI) services in the deployment, including the CA and Key Recovery Authority (KRA). A check is performed when KRA is installed to automatically enable RSNv3 if it is enabled on the underlying CA.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://freeipa.readthedocs.io/en/latest/designs/random-serial-numbers.html">Random Serial Numbers v3 (RSNv3)</a>
					</li></ul></div></section></section><section class="chapter" id="planning-integration-with-ad_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Planning integration with AD</h2></div></div></div><p>
			The following sections introduce the options for integrating Red Hat Enterprise Linux with Active Directory (AD).
		</p><section class="section" id="direct-integration-of-linux-systems-into-active-directory_planning-integration-with-ad"><div class="titlepage"><div><div><h3 class="title">6.1. Direct integration of Linux systems into Active Directory</h3></div></div></div><p>
				In direct integration, Linux systems are connected directly to Active Directory (AD). The following types of integration are possible:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Integration with the System Security Services Daemon (SSSD)</span></dt><dd><p class="simpara">
							SSSD can connect a Linux system with various identity and authentication stores: AD, Identity Management (IdM), or a generic LDAP or Kerberos server.
						</p><p class="simpara">
							Notable requirements for integration with SSSD:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									When integrating with AD, SSSD works only within a single AD forest by default. For multi-forest setup, configure manual domain enumeration.
								</li><li class="listitem">
									Remote AD forests must trust the local forest to ensure that the <code class="literal">idmap_ad</code> plug-in handles remote forest users correctly.
								</li></ul></div><p class="simpara">
							SSSD supports both direct and indirect integration. It also enables switching from one integration approach to the other without significant migration costs.
						</p></dd><dt><span class="term">Integration with Samba Winbind</span></dt><dd><p class="simpara">
							The Winbind component of the Samba suite emulates a Windows client on a Linux system and communicates with AD servers.
						</p><p class="simpara">
							Notable requirements for integration with Samba Winbind:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Direct integration with Winbind in a multi-forest AD setup requires bidirectional trusts.
								</li><li class="listitem">
									A bidirectional path from the local domain of a Linux system must exist to the domain of a user in a remote AD forest to allow full information about the user from the remote AD domain to be available to the <code class="literal">idmap_ad</code> plug-in.
								</li></ul></div></dd></dl></div><h5 id="recommendations">Recommendations</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						SSSD satisfies most of the use cases for AD integration and provides a robust solution as a generic gateway between a client system and different types of identity and authentication providers - AD, IdM, Kerberos, and LDAP.
					</li><li class="listitem">
						Winbind is recommended for deployment on those AD domain member servers on which you plan to deploy Samba FS.
					</li></ul></div></section><section class="section" id="indirect-integration-of-linux-systems-into-active-directory-by-using-identity-management_planning-integration-with-ad"><div class="titlepage"><div><div><h3 class="title">6.2. Indirect integration of Linux systems into Active Directory by using Identity Management</h3></div></div></div><p>
				In indirect integration, Linux systems are first connected to a central server which is then connected to Active Directory (AD). Indirect integration enables the administrator to manage Linux systems and policies centrally, while users from AD can transparently access Linux systems and services.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Integration based on cross-forest trust with AD</span></dt><dd><p class="simpara">
							The Identity Management (IdM) server acts as the central server to control Linux systems. A cross-realm Kerberos trust with AD is established, enabling users from AD to log on to access Linux systems and resources. IdM presents itself to AD as a separate forest and takes advantage of the forest-level trusts supported by AD.
						</p><p class="simpara">
							When using a trust:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									AD users can access IdM resources.
								</li><li class="listitem">
									IdM servers and clients can resolve the identities of AD users and groups.
								</li><li class="listitem">
									AD users and groups access IdM under the conditions defined by IdM, such as host-based access control.
								</li><li class="listitem">
									AD users and groups continue being managed on the AD side.
								</li></ul></div></dd><dt><span class="term">Integration based on synchronization</span></dt><dd><p class="simpara">
							This approach is based on the WinSync tool. A WinSync replication agreement synchronizes user accounts from AD to IdM.
						</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
								WinSync is no longer actively developed in Red Hat Enterprise Linux 8. The preferred solution for indirect integration is cross-forest trust.
							</p></div></rh-alert><p class="simpara">
							The limitations of integration based on synchronization include:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Groups are not synchronized from IdM to AD.
								</li><li class="listitem">
									Users are duplicated in AD and IdM.
								</li><li class="listitem">
									WinSync supports only a single AD domain.
								</li><li class="listitem">
									Only one domain controller in AD can be used to synchronize data to one instance of IdM.
								</li><li class="listitem">
									User passwords must be synchronized, which requires the PassSync component to be installed on all domain controllers in the AD domain.
								</li><li class="listitem">
									After configuring the synchronization, all AD users must manually change passwords before PassSync can synchronize them.
								</li></ul></div></dd></dl></div></section><section class="section" id="guidelines-for-deciding-between-direct-and-indirect-integration_planning-integration-with-ad"><div class="titlepage"><div><div><h3 class="title">6.3. Guidelines for deciding between direct and indirect integration</h3></div></div></div><p>
				These guidelines can help you decide which type of integration fits your use case.
			</p><h5 id="number_of_systems_to_be_connected_to_active_directory">Number of systems to be connected to Active Directory</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">Connecting less than 30-50 systems (not a hard limit)</span></dt><dd>
							If you connect less than 30-50 systems, consider direct integration. Indirect integration might introduce unnecessary overhead.
						</dd><dt><span class="term">Connecting more than 30-50 systems (not a hard limit)</span></dt><dd>
							If you connect more than 30-50 systems, consider indirect integration with Identity Management. With this approach, you can benefit from the centralized management for Linux systems.
						</dd><dt><span class="term">Managing a small number of Linux systems, but expecting the number to grow rapidly</span></dt><dd>
							In this scenario, consider indirect integration to avoid having to migrate the environment later.
						</dd></dl></div><h5 id="frequency_of_deploying_new_systems_and_their_type">Frequency of deploying new systems and their type</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">Deploying bare metal systems on an irregular basis</span></dt><dd>
							If you deploy new systems rarely and they are usually bare metal systems, consider direct integration. In such cases, direct integration is usually simplest and easiest.
						</dd><dt><span class="term">Deploying virtual systems frequently</span></dt><dd>
							If you deploy new systems often and they are usually virtual systems provisioned on demand, consider indirect integration. With indirect integration, you can use a central server to manage the new systems dynamically and integrate with orchestration tools, such as Red Hat Satellite.
						</dd></dl></div><h5 id="active_directory_is_the_required_authentication_provider">Active Directory is the required authentication provider</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">Do your internal policies state that all users must authenticate against Active Directory?</span></dt><dd>
							You can choose either direct or indirect integration. If you use indirect integration with a trust between Identity Management and Active Directory, the users that access Linux systems authenticate against Active Directory. Policies that exist in Active Directory are executed and enforced during authentication.
						</dd></dl></div></section></section><section class="chapter" id="planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Planning a cross-forest trust between IdM and AD</h2></div></div></div><p class="_abstract _abstract">
			Active Directory (AD) and Identity Management (IdM) are two alternative environments managing a variety of core services, such as Kerberos, LDAP, DNS, and certificate services. A <span class="emphasis"><em>cross-forest trust</em></span> relationship transparently integrates these two diverse environments by enabling all core services to interact seamlessly. The following sections provide advice on how to plan and design a cross-forest trust deployment.
		</p><section class="section" id="cross-forest-and-external-trusts-between-idm-and-ad_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.1. Cross-forest and external trusts between IdM and AD</h3></div></div></div><h5 id="a_cross_forest_trust_between_idm_and_ad">A cross-forest trust between IdM and AD</h5><p>
				In a pure Active Directory (AD) environment, a cross-forest trust connects two separate AD forest root domains. When you create a cross-forest trust between AD and IdM, the IdM domain presents itself to AD as a separate forest with a single domain. A trust relationship is then established between the AD forest root domain and the IdM domain. As a result, users from the AD forest can access the resources in the IdM domain.
			</p><p>
				IdM can establish a trust with one AD forest or multiple unrelated forests.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Two separate Kerberos realms can be connected in a <span class="emphasis"><em>cross-realm trust</em></span>. However, a Kerberos realm only concerns authentication, not other services and protocols involved in identity and authorization operations. Therefore, establishing a Kerberos cross-realm trust is not enough to enable users from one realm to access resources in another realm.
				</p></div></rh-alert><h5 id="an_external_trust_to_an_ad_domain">An external trust to an AD domain</h5><p>
				An external trust is a trust relationship between IdM and an Active Directory domain. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, an external trust can be established from IdM to any domain within a forest.
			</p></section><section class="section" id="trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.2. Trust controllers and trust agents</h3></div></div></div><p>
				Identity Management (IdM) provides the following types of IdM servers that support trust to Active Directory (AD):
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Trust controllers</span></dt><dd><p class="simpara">
							IdM servers that can perform identity lookups against AD domain controllers. They also run the Samba suite so they can establish trust with AD. AD domain controllers contact trust controllers when establishing and verifying the trust to AD. AD-enrolled machines communicate with IdM trust controllers for Kerberos authentication requests.
						</p><p class="simpara">
							The first trust controller is created when you configure the trust. If you have multiple domain controllers across different geographic locations, use the <code class="literal">ipa-adtrust-install</code> command to designate RHEL IdM servers as trust controllers in these locations.
						</p><p class="simpara">
							Trust controllers run more network-facing services than trust agents, and thus present a greater attack surface for potential intruders.
						</p></dd><dt><span class="term">Trust agents</span></dt><dd>
							IdM servers that can resolve identity lookups from RHEL IdM clients against AD domain controllers. Unlike trust controllers, trust agents cannot process Kerberos authentication requests.
						</dd></dl></div><p>
				In addition to trust agents and controllers, the IdM domain can also include standard IdM servers. However, these servers do not communicate with AD. Therefore, clients that communicate with these standard servers cannot resolve AD users and groups or authenticate and authorize AD users.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><div class="itemizedlist"><p class="title"><strong>An IdM server is not configured to operate a Trust Controller or Trust Agent role unless either of the following actions were done:</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You installed the server or replica with the <code class="literal">ipa-server-install</code> or <code class="literal">ipa-replica-install</code> commands with the <code class="literal">--setup-ad</code> option.
						</li><li class="listitem">
							You ran the <code class="literal">ipa-adtrust-install</code> command on the IdM server to configure the Trust Controller role.
						</li><li class="listitem">
							You ran the <code class="literal">ipa-adtrust-install --add-agents</code> command on a Trust Controller to designate another IdM replica to be a Trust Agent.<br> By default, IdM servers cannot resolve users and groups from trusted domains without these operations.
						</li></ul></div></div></rh-alert><rh-table id="idm140188401407072"><table class="lt-4-cols lt-7-rows"><caption>Table 7.1. Comparing the capabilities supported by trust controllers and trust agents</caption><colgroup><col style="width: 64%; " class="col_1"><!--Empty--><col style="width: 18%; " class="col_2"><!--Empty--><col style="width: 18%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188401401360" scope="col">Capability</th><th align="left" valign="top" id="idm140188401400272" scope="col">Trust agent</th><th align="left" valign="top" id="idm140188401399184" scope="col">Trust controller</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188401401360"> <p>
								Resolve AD users and groups
							</p>
							 </td><td align="left" valign="top" headers="idm140188401400272"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140188401399184"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188401401360"> <p>
								Enroll IdM clients that run services accessible by users from trusted AD forests
							</p>
							 </td><td align="left" valign="top" headers="idm140188401400272"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140188401399184"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188401401360"> <p>
								Add, modify, or remove trust agreements
							</p>
							 </td><td align="left" valign="top" headers="idm140188401400272"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm140188401399184"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188401401360"> <p>
								Assign the trust agent role to an IdM server
							</p>
							 </td><td align="left" valign="top" headers="idm140188401400272"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm140188401399184"> <p>
								Yes
							</p>
							 </td></tr></tbody></table></rh-table><p>
				When planning the deployment of trust controllers and trust agents, consider these guidelines:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Configure at least two trust controllers per IdM deployment.
					</li><li class="listitem">
						Configure at least two trust controllers in each data center.
					</li></ul></div><p>
				If you ever want to create additional trust controllers or if an existing trust controller fails, create a new trust controller by promoting a trust agent or a standard server. To do this, use the <code class="literal">ipa-adtrust-install</code> utility on the IdM server.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					You cannot downgrade an existing trust controller to a trust agent.
				</p></div></rh-alert></section><section class="section" id="one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.3. One-way trusts and two-way trusts</h3></div></div></div><p>
				In one way trusts, Identity Management (IdM) trusts Active Directory (AD) but AD does not trust IdM. AD users can access resources in the IdM domain but users from IdM cannot access resources within the AD domain. The IdM server connects to AD using a special account, and reads identity information that is then delivered to IdM clients over LDAP.
			</p><p>
				In two way trusts, IdM users can authenticate to AD, and AD users can authenticate to IdM. AD users can authenticate to and access resources in the IdM domain as in the one way trust case. IdM users can authenticate but cannot access most of the resources in AD. They can only access those Kerberized services in AD forests that do not require any access control check.
			</p><p>
				To be able to grant access to the AD resources, IdM needs to implement the Global Catalog service. This service does not yet exist in the current version of the IdM server. Because of that, a two-way trust between IdM and AD is nearly functionally equivalent to a one-way trust between IdM and AD.
			</p></section><section class="section" id="ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.4. Ensuring support for common encryption types in AD and RHEL</h3></div></div></div><p class="_abstract _abstract">
				By default, Identity Management establishes a cross-realm trust with support for RC4, AES-128, and AES-256 Kerberos encryption types. Additionally, by default SSSD and Samba Winbind support RC4, AES-128, and AES-256 Kerberos encryption types.
			</p><p>
				RC4 encryption has been deprecated and disabled by default, as it is considered less secure than the newer AES-128 and AES-256 encryption types. In contrast, Active Directory (AD) user credentials and trusts between AD domains support RC4 encryption and they might not support all AES encryption types.
			</p><p>
				Without any common encryption types, communication between RHEL hosts and AD domains might not work, or some AD accounts might not be able to authenticate. To address this situation, perform one of the configurations outlined in the following sections.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					If IdM is in FIPS mode, the IdM-AD integration does not work due to AD only supporting the use of RC4 or AES HMAC-SHA1 encryptions, while RHEL 9 in FIPS mode allows only AES HMAC-SHA2 by default. For more information, see the <a class="link" href="https://access.redhat.com/solutions/7003853">AD Domain Users unable to login in to the FIPS-compliant environment</a> KCS solution.
				</p><p>
					IdM does not support the more restrictive <code class="literal">FIPS:OSPP</code> crypto policy, which should only be used on Common Criteria evaluated systems.
				</p></div></rh-alert><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Establishing a two-way cross-forest trust between AD and Identity Management IdM with FIPS mode enabled fails because the New Technology LAN Manager Security Support Provider (NTLMSSP) authentication is not FIPS-compliant. IdM in FIPS mode does not accept the RC4 NTLM hash that the AD domain controller uses when attempting to authenticate.
				</p></div></rh-alert><section class="section" id="enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel"><div class="titlepage"><div><div><h4 class="title">7.4.1. Enabling AES encryption in AD (recommended)</h4></div></div></div><p class="_abstract _abstract">
					To ensure trusts between Active Directory (AD) domains in an AD forest support strong AES encryption types, see the following Microsoft article: <a class="link" href="https://docs.microsoft.com/en-us/troubleshoot/windows-server/windows-security/unsupported-etype-error-accessing-trusted-domain">AD DS: Security: Kerberos "Unsupported etype" error when accessing a resource in a trusted domain</a>
				</p></section><section class="section" id="enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel"><div class="titlepage"><div><div><h4 class="title">7.4.2. Enabling the AES encryption type in Active Directory using a GPO</h4></div></div></div><p class="_abstract _abstract">
					This section describes how to enable the AES encryption type in Active Directory (AD) using a group policy object (GPO). Certain features on RHEL, such as running a Samba server on an IdM client, require this encryption type.
				</p><p>
					Note that RHEL no longer supports the weak DES and RC4 encryption types.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You are logged into AD as a user who can edit group policies.
						</li><li class="listitem">
							The <code class="literal application">Group Policy Management Console</code> is installed on the computer.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open the <code class="literal application">Group Policy Management Console</code>.
						</li><li class="listitem">
							Right-click <code class="literal gui">Default Domain Policy</code>, and select <code class="literal gui">Edit</code>. The <code class="literal application">Group Policy Management Editor</code> opens.
						</li><li class="listitem">
							Navigate to <code class="literal gui">Computer Configuration</code> → <code class="literal gui">Policies</code> → <code class="literal gui">Windows Settings</code> → <code class="literal gui">Security Settings</code> → <code class="literal gui">Local Policies</code> → <code class="literal gui">Security Options</code>.
						</li><li class="listitem">
							Double-click the <code class="literal gui">Network security: Configure encryption types allowed for Kerberos</code> policy.
						</li><li class="listitem">
							Select <code class="literal gui">AES256_HMAC_SHA1</code> and, optionally, <code class="literal gui">Future encryption types</code>.
						</li><li class="listitem">
							Click <span class="guibutton">OK</span>.
						</li><li class="listitem">
							Close the <code class="literal application">Group Policy Management Editor</code>.
						</li><li class="listitem">
							Repeat the steps for the <code class="literal gui">Default Domain Controller Policy</code>.
						</li><li class="listitem"><p class="simpara">
							Wait until the Windows domain controllers (DC) applied the group policy automatically. Alternatively, to apply the GPO manually on a DC, enter the following command using an account that has administrator permissions:
						</p><pre class="literallayout">C:\&gt; <span class="strong strong"><strong>gpupdate /force /target:computer</strong></span></pre></li></ol></div></section><section class="section" id="enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel"><div class="titlepage"><div><div><h4 class="title">7.4.3. Enabling RC4 support in RHEL</h4></div></div></div><p class="_abstract _abstract">
					On every RHEL host where authentication against AD Domain Controllers takes place, complete the steps outlined below.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Use the <code class="literal">update-crypto-policies</code> command to enable the <code class="literal">AD-SUPPORT-LEGACY</code> cryptographic subpolicy in addition to the <code class="literal">DEFAULT</code> cryptographic policy.
						</p><pre class="literallayout">[root@host ~]# <span class="strong strong"><strong>update-crypto-policies --set LEGACY:AD-SUPPORT-LEGACY</strong></span>
Setting system policy to LEGACY:AD-SUPPORT-LEGACY
Note: System-wide crypto policies are applied on application start-up.
It is recommended to restart the system for the change of policies
to fully take place.</pre></li><li class="listitem">
							Restart the host.
						</li></ol></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h4 class="title">7.4.4. Additional resources</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening">Using system-wide cryptographic policies</a>.
						</li><li class="listitem">
							See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad">Trust controllers and trust agents</a>.
						</li></ul></div></section></section><section class="section" id="con_kerberos-fast-for-trusted-domains_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.5. Kerberos FAST for trusted domains</h3></div></div></div><p class="_abstract _abstract">
				Kerberos Flexible Authentication Secure Tunneling (FAST) is also called Kerberos armoring in an Active Directory (AD) environment. Kerberos FAST provides an additional security layer for the Kerberos communication between the clients and the Key Distribution Center (KDC). In IdM, the KDCs are running on the IdM servers and FAST is enabled by default. The Two-Factor Authentication (2FA) in IdM also requires enabling FAST.
			</p><p>
				In AD, Kerberos armoring is disabled by default on the AD Domain Controllers (DC). You can enable it on the Domain Controller on the <code class="literal">Tools&gt;Group Policy Management&gt;Default Domain Controller Policy</code>:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Right-click <code class="literal">Default Domain Controller Policy</code> and select <code class="literal">edit</code>. Navigate to <code class="literal">Computer Configuration&gt;Policies&gt;Administrative Templates&gt;System&gt;KDC</code> and double-click <code class="literal">KDC support for claims, compound authentication, and Kerberos armoring</code>.
					</li></ul></div><p>
				Once you enable KDC support for claims, the policy setting allows the following options:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						"Not supported"
					</li><li class="listitem">
						"Supported"
					</li><li class="listitem">
						"Always provide claims"
					</li><li class="listitem">
						"Fail unarmored authentication requests"
					</li></ul></div><p>
				Kerberos FAST is implemented in the Kerberos client libraries on IdM clients. You can configure IdM clients either to use FAST for all trusted domains which advertise FAST or to not use Kerberos FAST at all. If you enable Kerberos armoring in the trusted AD forest the IdM client uses Kerberos FAST by default. FAST establishes a secure tunneling with the help of a cryptographic key. To protect the connection to the domain controllers of a trusted domain, Kerberos FAST must get a cross-realm Ticket Granting Ticket (TGT) from the trusted domain because those keys are valid only inside the Kerberos realm. Kerberos FAST uses the Kerberos hosts keys of the IdM client to request the cross-realm TGT with the help of the IdM servers. That only works when the AD forest trusts the IdM domain which means a two-way trust is required.
			</p><p>
				If AD policies require the enforcing of Kerberos FAST use, you need to establish a two-way trust between IdM domain and AD forest. You must plan this before the connection is established because both IdM and AD must have records about direction and the type of trust.
			</p><p>
				If you already established a one-way trust, run the <code class="literal command">ipa trust-add …​ --two-way=true</code> command to remove the existing trust agreement and create a two-way trust. This requires use of administrative credentials. As IdM attempts to remove the existing trust agreement from the AD side, it requires administrator permissions for AD access. If you establish the original trust by using a shared secret rather than an AD administrative account, it recreates the trust as a two-way and changes trusted domain objects on the IdM side only. Windows administrators must repeat the same procedure by using Windows UI to choose a bi-directional trust and use the same shared secret to recreate the trust.
			</p><p>
				If using a two-way trust is not possible, you must disable Kerberos FAST on all IdM clients. The users from the trusted AD forest can authenticate with a password or direct smart card. To disable Kerberos FAST, add the following setting to the <code class="literal">sssd.conf</code> file in the <code class="literal">[domain]</code> section:
			</p><pre class="literallayout">krb5_use_fast = never</pre><p>
				Note, you do not need to use this option when the authentication is based on ssh-keys, GSSAPI authentication or SSH with smart cards from remote Windows clients. These methods do not use Kerberos FAST because the IdM client does not have to communicate with a DC. Additionally, after disabling FAST on the IdM client, the two-factor authentication IdM feature is also unavailable.
			</p></section><section class="section" id="con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.6. POSIX and ID mapping ID range types for AD users</h3></div></div></div><p class="_abstract _abstract">
				Identity Management (IdM) enforces access control rules based on the POSIX User ID (UID) and Group ID (GID) of a user. Active Directory (AD) users, however, are identified by Security Identifiers (SIDs). AD administrators can configure AD to store POSIX attributes for your AD users and groups, such as <code class="literal">uidNumber</code>, <code class="literal">gidNumber</code>, <code class="literal">unixHomeDirectory</code>, or <code class="literal">loginShell</code>.
			</p><p>
				You can configure a cross-forest trust to reference this information by establishing a trust with the <code class="literal">ipa-ad-trust-posix</code> ID range:
			</p><pre class="literallayout">[server ~]# ipa trust-add --type=ad ad.example.com --admin administrator --password  --range-type=<span class="strong strong"><strong>ipa-ad-trust-posix</strong></span></pre><p>
				If you do not store POSIX attributes in AD, the System Security Services Daemon (SSSD) can consistently map a unique UID based on a user’s SID in a process called <span class="strong strong"><strong>ID mapping</strong></span>. You can explicitly choose this behavior by creating a trust with the <code class="literal">ipa-ad-trust</code> ID range:
			</p><pre class="literallayout">[server ~]# ipa trust-add --type=ad ad.example.com --admin administrator --password  --range-type=<span class="strong strong"><strong>ipa-ad-trust</strong></span></pre><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					If you do not specify an ID Range type when creating a trust, IdM attempts to automatically select the appropriate range type by requesting details from AD domain controllers in the forest root domain. If IdM does not detect any POSIX attributes, the trust installation script selects the <code class="literal">Active Directory domain</code> ID range.
				</p><p>
					If IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the <code class="literal">Active Directory domain with POSIX attributes</code> ID range and assumes that UIDs and GIDs are correctly defined in AD. If POSIX attributes are not correctly set in AD, you will not be able to resolve AD users.
				</p><p>
					For example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad">Options for automatically mapping private groups for AD users</a>
					</li></ul></div></section><section class="section" id="ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.7. Options for automatically mapping private groups for AD users: POSIX trusts</h3></div></div></div><p class="_abstract _abstract">
				Each user in a Linux environment has a primary user group. Red Hat Enterprise Linux (RHEL) uses a user private group (UPG) scheme: a UPG has the same name as the user for which it was created and that user is the only member of the UPG.
			</p><p>
				If you have allocated UIDs for your AD users, but GIDs were not added, you can configure SSSD to automatically map private groups for users based on their UID by adjusting the auto_private_groups setting for that ID range.
			</p><p>
				By default, the auto_private_groups option is set to false for <code class="literal">ipa-ad-trust-posix</code> ID ranges used in a POSIX trust. With this configuration, SSSD retrieves the <code class="literal">uidNumber</code> and <code class="literal">gidNumber</code> from each AD user entry.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">auto_private_groups = false</span></dt><dd><p class="simpara">
							SSSD assigns the <code class="literal">uidNumber</code> value to the user’s UID, the <code class="literal">gidNumber</code> to the user’s GID. A group with that GID must exist in AD, or you will not be able to resolve that user. The following table demonstrates whether you will be able to resolve AD users, depending on different AD configurations.
						</p><rh-table id="idm140188405660864"><table class="lt-4-cols lt-7-rows"><caption>Table 7.2. SSSD behavior when the auto_private_groups variable is set to false for a POSIX ID range</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140188405655072" scope="col">User configuration in AD</th><th style="text-align: left; vertical-align: top; " id="idm140188405653968" scope="col">Output of <code class="literal">id username</code></th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140188405655072"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> is not defined
												</li><li class="listitem">
													No group in AD with <code class="literal">gidNumber</code> = 4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188405653968"> <p>
											SSSD cannot resolve the user.
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188405655072"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 4000
												</li><li class="listitem">
													No group in AD with <code class="literal">gidNumber</code> = 4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188405653968"> <p>
											SSSD cannot resolve the user.
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188405655072"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 4000
												</li><li class="listitem">
													AD has a group with <code class="literal">gidNumber</code> = 4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188405653968"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=4000(<a class="link" href="mailto:adgroup@ad-domain.com">adgroup@ad-domain.com</a>) groups=4000(<a class="link" href="mailto:adgroup@ad-domain.com">adgroup@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr></tbody></table></rh-table></dd></dl></div><p>
				If an AD user does not have a primary group configured in AD, or its <code class="literal">gidNumber</code> does not correspond to an existing group, the IdM server is unable to resolve that user correctly because it cannot look up all the groups the user belongs to. To work around this issue, you can enable automatic private group mapping in SSSD by setting the <code class="literal">auto_private_groups</code> option to <code class="literal">true</code> or <code class="literal">hybrid</code>:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">auto_private_groups = true</code></span></dt><dd><p class="simpara">
							SSSD always maps a private group with the <code class="literal">gidNumber</code> set to match the <code class="literal">uidNumber</code> from the AD user entry.
						</p><rh-table id="idm140188400039168"><table class="lt-4-cols lt-7-rows"><caption>Table 7.3. SSSD behavior when the auto_private_groups variable is set to true for a POSIX ID range</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140188400034272" scope="col">User configuration in AD</th><th style="text-align: left; vertical-align: top; " id="idm140188400033168" scope="col">Output of <code class="literal">id username</code></th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140188400034272"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> is not defined
												</li><li class="listitem">
													AD does not have a group with GID=4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188400033168"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188400034272"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 5000
												</li><li class="listitem">
													AD does not have a group with <code class="literal">gidNumber</code> = 5000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188400033168"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188400034272"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 4000
												</li><li class="listitem">
													AD does not have a group with <code class="literal">gidNumber</code> = 4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188400033168"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188400034272"> <p>
											AD user entry has:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 5000
												</li><li class="listitem">
													AD has a group with <code class="literal">gidNumber</code> = 5000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188400033168"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr></tbody></table></rh-table></dd><dt><span class="term"><code class="literal">auto_private_groups = hybrid</code></span></dt><dd><p class="simpara">
							If the <code class="literal">uidNumber</code> value matches <code class="literal">gidNumber</code>, but there is no group with this <code class="literal">gidNumber</code>, SSSD maps a private group as the user’s primary user group with a <code class="literal">gidNumber</code> that matches the <code class="literal">uidNumber</code>. If the <code class="literal">uidNumber</code> and <code class="literal">gidNumber</code> values differ, and there is a group with this <code class="literal">gidNumber</code>, SSSD uses the value from <code class="literal">gidNumber</code>.
						</p><rh-table id="idm140188402439088"><table class="lt-4-cols lt-7-rows"><caption>Table 7.4. SSSD behavior when the auto_private_groups variable is set to hybrid for a POSIX ID range</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140188402433296" scope="col">User configuration in AD</th><th style="text-align: left; vertical-align: top; " id="idm140188402432192" scope="col">Output of <code class="literal">id username</code></th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140188402433296"> <p>
											AD user entry with:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> is not defined
												</li><li class="listitem">
													AD does not have a group with <code class="literal">gidNumber</code> = 4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188402432192"> <p>
											SSSD cannot resolve the user.
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188402433296"> <p>
											AD user entry with:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 5000
												</li><li class="listitem">
													AD does not have a group with <code class="literal">gidNumber</code> = 5000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188402432192"> <p>
											SSSD cannot resolve the user.
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188402433296"> <p>
											AD user entry with:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 4000
												</li><li class="listitem">
													AD does not have a group with <code class="literal">gidNumber</code> = 4000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188402432192"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140188402433296"> <p>
											AD user entry with:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<code class="literal">uidNumber</code> = 4000
												</li><li class="listitem">
													<code class="literal">gidNumber</code> = 5000
												</li><li class="listitem">
													AD has a group with <code class="literal">gidNumber</code> = 5000.
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188402432192"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=4000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=5000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=5000(<a class="link" href="mailto:adgroup@ad-domain.com">adgroup@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr></tbody></table></rh-table></dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad">POSIX and ID mapping ID range types for AD users</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad">Enabling automatic private group mapping for a POSIX ID range on the CLI</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad">Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI</a>
					</li></ul></div></section><section class="section" id="ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.8. Options for automatically mapping private groups for AD users: ID mapping trusts</h3></div></div></div><p class="_abstract _abstract">
				Each user in a Linux environment has a primary user group. Red Hat Enterprise Linux (RHEL) uses a user private group (UPG) scheme: a UPG has the same name as the user for which it was created and that user is the only member of the UPG.
			</p><p>
				If you have allocated UIDs for your AD users, but GIDs were not added, you can configure SSSD to automatically map private groups for users based on their UID by adjusting the auto_private_groups setting for that ID range.
			</p><p>
				By default, the <code class="literal">auto_private_groups</code> option is set to <code class="literal">true</code> for <code class="literal">ipa-ad-trust</code> ID ranges used in an ID mapping trust. With this configuration, SSSD computes the UID and GID for an AD user based on its Security Identifier (SID). SSSD ignores any POSIX attributes in AD, such as <code class="literal">uidNumber</code>, <code class="literal">gidNumber</code>, and also ignores the <code class="literal">primaryGroupID</code>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">auto_private_groups = true</code></span></dt><dd><p class="simpara">
							SSSD always maps a private group with the GID set to match the UID, which is based on the SID of the AD user.
						</p><rh-table id="idm140188401416544"><table class="lt-4-cols lt-7-rows"><caption>Table 7.5. SSSD behavior when the auto_private_groups variable is set to true for an ID mapping ID range</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140188401410736" scope="col">User configuration in AD</th><th style="text-align: left; vertical-align: top; " id="idm140188403140608" scope="col">Output of <code class="literal">id username</code></th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140188401410736"> <p>
											AD user entry where:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													SID maps to 7000
												</li><li class="listitem">
													<code class="literal">primaryGroupID</code> maps to 8000
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188403140608"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=7000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=7000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) groups=7000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>), 8000(<a class="link" href="mailto:adgroup@ad-domain.com">adgroup@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr></tbody></table></rh-table></dd><dt><span class="term"><code class="literal">auto_private_groups = false</code></span></dt><dd><p class="simpara">
							If you set the <code class="literal">auto_private_groups</code> option to <code class="literal">false</code>, SSSD uses the <code class="literal">primaryGroupID</code> set in the AD entry as the GID number. The default value for <code class="literal">primaryGroupID</code> corresponds to the <code class="literal">Domain Users</code> group in AD.
						</p><rh-table id="idm140188403122400"><table class="lt-4-cols lt-7-rows"><caption>Table 7.6. SSSD behavior when the auto_private_groups variable is set to false for an ID mapping ID range</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140188403039984" scope="col">User configuration in AD</th><th style="text-align: left; vertical-align: top; " id="idm140188403038880" scope="col">Output of <code class="literal">id username</code></th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140188403039984"> <p>
											AD user entry where:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													SID maps to 7000
												</li><li class="listitem">
													<code class="literal">primaryGroupID</code> maps to 8000
												</li></ul></div>
										 </td><td style="text-align: left; vertical-align: top; " headers="idm140188403038880"> <p>
											<code class="literal"># id <a class="link" href="mailto:aduser@AD-DOMAIN.COM">aduser@AD-DOMAIN.COM</a></code><code class="literal">uid=7000(<a class="link" href="mailto:aduser@ad-domain.com">aduser@ad-domain.com</a>) gid=8000(<a class="link" href="mailto:adgroup@ad-domain.com">adgroup@ad-domain.com</a>) groups=8000(<a class="link" href="mailto:adgroup@ad-domain.com">adgroup@ad-domain.com</a>), …​</code>
										</p>
										 </td></tr></tbody></table></rh-table></dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad">POSIX and ID mapping ID range types for AD users</a>
					</li></ul></div></section><section class="section" id="proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.9. Enabling automatic private group mapping for a POSIX ID range on the CLI</h3></div></div></div><p class="_abstract _abstract">
				By default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.
			</p><p>
				This procedure explains how to enable automatic private group mapping for an ID range by setting the <code class="literal">hybrid</code> option for the <code class="literal">auto_private_groups</code> SSSD parameter on the command line. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have successfully established a POSIX cross-forest trust between your IdM and AD environments.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Display all ID ranges and make note of the AD ID range you want to modify.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa idrange-find</strong></span>
----------------
2 ranges matched
----------------
  Range name: IDM.EXAMPLE.COM_id_range
  First Posix ID of the range: 882200000
  Number of IDs in the range: 200000
  Range type: local domain range

  Range name: <span class="strong strong"><strong>AD.EXAMPLE.COM_id_range</strong></span>
  First Posix ID of the range: 1337000000
  Number of IDs in the range: 200000
  Domain SID of the trusted domain: S-1-5-21-4123312420-990666102-3578675309
  Range type: <span class="strong strong"><strong>Active Directory trust range with POSIX attributes</strong></span>
----------------------------
Number of entries returned 2
----------------------------</pre></li><li class="listitem"><p class="simpara">
						Adjust the automatic private group behavior for the AD ID range with the <code class="literal">ipa idrange-mod</code> command.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa idrange-mod --auto-private-groups=hybrid AD.EXAMPLE.COM_id_range</strong></span></pre></li><li class="listitem"><p class="simpara">
						Reset the SSSD cache to enable the new setting.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>sss_cache -E</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad">Options for automatically mapping private groups for AD users</a>
					</li></ul></div></section><section class="section" id="proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI</h3></div></div></div><p class="_abstract _abstract">
				By default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.
			</p><p>
				This procedure explains how to enable automatic private group mapping for an ID range by setting the <code class="literal">hybrid</code> option for the <code class="literal">auto_private_groups</code> SSSD parameter in the Identity Management (IdM) WebUI. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have successfully established a POSIX cross-forest trust between your IdM and AD environments.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log into the IdM Web UI with your user name and password.
					</li><li class="listitem">
						Open the <span class="strong strong"><strong>IPA Server</strong></span> → <span class="strong strong"><strong>ID Ranges</strong></span> tab.
					</li><li class="listitem">
						Select the ID range you want to modify, such as <code class="literal">AD.EXAMPLE.COM_id_range</code>.
					</li><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>Auto private groups</strong></span> drop down menu, select the <code class="literal">hybrid</code> option.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/fb0d66e73e24d78850fb965591e815a7/idm-auto-private-group-posix.png" alt="Screenshot of the ID Ranges tab of the IPA Server section of the IdM WebUI. A user selects the hybrid option from the Auth private groups dropdown menu."></span>

					</p></li><li class="listitem">
						Click the <span class="strong strong"><strong>Save</strong></span> button to save your changes.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad">Options for automatically mapping private groups for AD users</a>
					</li></ul></div></section><section class="section" id="non-posix-external-groups-and-sid-mapping_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.11. Non-POSIX external groups and SID mapping</h3></div></div></div><p>
				Identity Management (IdM) uses LDAP for managing groups. Active Directory (AD) entries are not synchronized or copied over to IdM, which means that AD users and groups have no LDAP objects in the LDAP server, so they cannot be directly used to express group membership in the IdM LDAP. For this reason, administrators in IdM need to create non-POSIX external groups, referenced as normal IdM LDAP objects to signify group membership for AD users and groups in IdM.
			</p><p>
				Security IDs (SIDs) for non-POSIX external groups are processed by SSSD, which maps the SIDs of groups in Active Directory to POSIX groups in IdM. In Active Directory, SIDs are associated with user names. When an AD user name is used to access IdM resources, SSSD uses the user’s SID to build up a full group membership information for the user in the IdM domain.
			</p></section><section class="section" id="guidelines-for-setting-up-dns-for-an-idm-ad-trust_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.12. Guidelines for setting up DNS for an IdM-AD trust</h3></div></div></div><p>
				These guidelines can help you achieve the right DNS configuration for establishing a cross-forest trust between Identity Management (IdM) and Active Directory (AD).
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Unique primary DNS domains</span></dt><dd><p class="simpara">
							Ensure both AD and IdM have their own unique primary DNS domains configured. For example:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal"><span class="emphasis"><em>ad.example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code> for IdM
								</li><li class="listitem">
									<code class="literal"><span class="emphasis"><em>example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code> for IdM
								</li></ul></div><p class="simpara">
							The most convenient management solution is an environment where each DNS domain is managed by integrated DNS servers, but you can also use any other standard-compliant DNS server.
						</p></dd><dt><span class="term">IdM and AD DNS Domains</span></dt><dd>
							Systems joined to IdM can be distributed over multiple DNS domains. Red Hat recommends that you deploy IdM clients in a DNS zone different to the ones owned by Active Directory. The primary IdM DNS domain must have proper SRV records to support AD trusts.
						</dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					In some environments with trusts between IdM and Active Directory, you can install an IdM client on a host that is part of the Active Directory DNS domain. The host can then benefit from the Linux-focused features of IdM. This is not a recommended configuration and has some limitations. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad">Configuring IdM clients in an Active Directory DNS domain</a> for more details.
				</p></div></rh-alert><div class="variablelist"><dl class="variablelist"><dt><span class="term">Proper SRV records</span></dt><dd><p class="simpara">
							Ensure the primary IdM DNS domain has proper SRV records to support AD trusts.
						</p><p class="simpara">
							For other DNS domains that are part of the same IdM realm, the SRV records do not have to be configured when the trust to AD is established. The reason is that AD domain controllers do not use SRV records to discover Kerberos key distribution centers (KDCs) but rather base the KDC discovery on name suffix routing information for the trust.
						</p></dd><dt><span class="term">DNS records resolvable from all DNS domains in the trust</span></dt><dd><p class="simpara">
							Ensure all machines can resolve DNS records from all DNS domains involved in the trust relationship:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									When configuring the IdM DNS, follow the instructions described in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-server-with-external-ca_installing-identity-management">Installing an IdM server with an external CA</a>.
								</li><li class="listitem">
									If you are using IdM without integrated DNS, follow the instructions described in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-server-without-integrated-dns_installing-identity-management">Installing an IdM server without integrated DNS</a>.
								</li></ul></div></dd><dt><span class="term">Kerberos realm names as upper-case versions of primary DNS domain names</span></dt><dd>
							Ensure Kerberos realm names are the same as the primary DNS domain names, with all letters uppercase. For example, if the domain names are <code class="literal"><span class="emphasis"><em>ad.example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code> for IdM, the Kerberos realm names must be <code class="literal"><span class="emphasis"><em>AD.EXAMPLE.COM</em></span></code> and <code class="literal"><span class="emphasis"><em>IDM.EXAMPLE.COM</em></span></code>.
						</dd></dl></div></section><section class="section" id="guidelines-for-configuring-netbios-names_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.13. Guidelines for configuring NetBIOS names</h3></div></div></div><p>
				The NetBIOS name is usually the far-left component of the domain name. For example:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						In the domain name <code class="literal"><span class="emphasis"><em>linux.example.com</em></span></code>, the NetBIOS name is <code class="literal">linux</code>.
					</li><li class="listitem"><p class="simpara">
						In the domain name <code class="literal"><span class="emphasis"><em>example.com</em></span></code>, the NetBIOS name is <code class="literal">example</code>.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Different NetBIOS names for the Identity Management (IdM) and Active Directory (AD) domains</span></dt><dd><p class="simpara">
									Ensure the IdM and AD domains have different NetBIOS names.
								</p><p class="simpara">
									The NetBIOS name is critical for identifying the AD domain. If the IdM domain is within a subdomain of the AD DNS, the NetBIOS name is also critical for identifying the IdM domain and services.
								</p></dd><dt><span class="term">Character limit for NetBIOS names</span></dt><dd>
									The maximum length of a NetBIOS name is 15 characters.
								</dd></dl></div></li></ul></div></section><section class="section" id="supported-versions-of-windows-server_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.14. Supported versions of Windows Server</h3></div></div></div><p class="_abstract _abstract">
				You can establish a trust relationship with Active Directory (AD) forests that use the following forest and domain functional levels:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Forest functional level range: Windows Server 2012 — Windows Server 2016
					</li><li class="listitem">
						Domain functional level range: Windows Server 2012 — Windows Server 2016
					</li></ul></div><p>
				Identity Management (IdM) supports establishing a trust with Active Directory domain controllers running the following operating systems:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Windows Server 2022 (RHEL 9.1 and later)
					</li><li class="listitem">
						Windows Server 2019
					</li><li class="listitem">
						Windows Server 2016
					</li><li class="listitem">
						Windows Server 2012 R2
					</li><li class="listitem">
						Windows Server 2012
					</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Identity Management (IdM) does not support establishing trust to Active Directory with Active Directory domain controllers running Windows Server 2008 R2 or earlier versions. RHEL IdM requires SMB encryption when establishing the trust relationship, which is only supported in Windows Server 2012 or later.
				</p></div></rh-alert></section><section class="section" id="ad-server-discovery-and-affinity_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.15. AD server discovery and affinity</h3></div></div></div><p>
				Server discovery and affinity configuration affects which Active Directory (AD) servers an Identity Management (IdM) client communicates with in a cross-forest trust between IdM and AD.
			</p><p>
				Configuring clients to prefer servers in the same geographical location helps prevent time lags and other problems that occur when clients contact servers from another, remote data center. To verify clients communicate with local servers, you must ensure that:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Clients communicate with local IdM servers over LDAP and over Kerberos
					</li><li class="listitem">
						Clients communicate with local AD servers over Kerberos
					</li><li class="listitem">
						Embedded clients on IdM servers communicate with local AD servers over LDAP and over Kerberos
					</li></ul></div><h5 id="options_for_configuring_ldap_and_kerberos_on_the_idm_client_for_communication_with_local_idm_servers">Options for configuring LDAP and Kerberos on the IdM client for communication with local IdM servers</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">When using IdM with integrated DNS</span></dt><dd><p class="simpara">
							By default, clients use automatic service lookup based on the DNS records. In this setup, you can also use the <span class="emphasis"><em>DNS locations</em></span> feature to configure DNS-based service discovery.
						</p><p class="simpara">
							To override the automatic lookup, you can disable the DNS discovery in one of the following ways:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									During the IdM client installation by providing failover parameters from the command line
								</li><li class="listitem">
									After the client installation by modifying the System Security Services Daemon (SSSD) configuration
								</li></ul></div></dd><dt><span class="term">When using IdM without integrated DNS</span></dt><dd><p class="simpara">
							You must explicitly configure clients in one of the following ways:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									During the IdM client installation by providing failover parameters from the command line
								</li><li class="listitem">
									After the client installation by modifying the SSSD configuration
								</li></ul></div></dd></dl></div><h5 id="options_for_configuring_kerberos_on_the_idm_client_for_communication_with_local_ad_servers">Options for configuring Kerberos on the IdM client for communication with local AD servers</h5><p>
				IdM clients are unable to automatically discover which AD servers to communicate with. To specify the AD servers manually, modify the <code class="literal">krb5.conf</code> file:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Add the AD realm information
					</li><li class="listitem">
						Explicitly list the AD servers to communicate with
					</li></ul></div><p>
				For example:
			</p><pre class="literallayout">[realms]
AD.EXAMPLE.COM = {
kdc = server1.ad.example.com
kdc = server2.ad.example.com
}</pre><h5 id="options_for_configuring_embedded_clients_on_idm_servers_for_communication_with_local_ad_servers_over_kerberos_and_ldap">Options for configuring embedded clients on IdM servers for communication with local AD servers over Kerberos and LDAP</h5><p>
				The embedded client on an IdM server works also as a client of the AD server. It can automatically discover and use the appropriate AD site.
			</p><p>
				When the embedded client performs the discovery, it might first discover an AD server in a remote location. If the attempt to contact the remote server takes too long, the client might stop the operation without establishing the connection. Use the <code class="literal">dns_resolver_timeout</code> option in the <code class="literal">sssd.conf</code> file on the client to increase the amount of time for which the client waits for a reply from the DNS resolver. See the <span class="emphasis"><em>sssd.conf(5)</em></span> man page for details.
			</p><p>
				Once the embedded client has been configured to communicate with the local AD servers, the SSSD remembers the AD site the embedded client belongs to. Thanks to this, SSSD normally sends an LDAP ping directly to a local domain controller to refresh its site information. If the site no longer exists or the client has meanwhile been assigned to a different site, SSSD starts querying for SRV records in the forest and goes through a whole process of autodiscovery.
			</p><p>
				Using <span class="emphasis"><em>trusted domain sections</em></span> in <code class="literal">sssd.conf</code>, you can also explicitly override some of the information that is discovered automatically by default.
			</p></section><section class="section" id="operations-performed-during-indirect-integration-of-idm-to-ad_planning-a-cross-forest-trust-between-idm-and-ad"><div class="titlepage"><div><div><h3 class="title">7.16. Operations performed during indirect integration of IdM to AD</h3></div></div></div><p>
				The following operations and requests are performed during indirect integration of IdM to AD.
			</p><p>
				Read the table to learn about operations and requests performed during the creation of an Identity Management (IdM) to Active Directory (AD) trust from the IdM trust controller towards AD domain controllers.
			</p><rh-table id="tab-operations-performed-from-IPA-controller-towards-AD_planning-a-cross-forest-trust-between-idm-and-ad"><table class="lt-4-cols lt-7-rows"><caption>Table 7.7. Operations performed from an IdM trust controller towards AD domain controllers</caption><colgroup><col style="width: 38%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 38%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188399683424" scope="col">Operation</th><th align="left" valign="top" id="idm140188399682336" scope="col">Protocol used</th><th align="left" valign="top" id="idm140188399681248" scope="col">Purpose</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								DNS resolution against the AD DNS resolvers configured on an IdM trust controller
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								DNS
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To discover the IP addresses of AD domain controllers
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								Requests to UDP/UDP6 port 389 on an AD DC
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								Connectionless LDAP (CLDAP)
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To perform AD DC discovery
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								Requests to TCP/TCP6 ports 389 and 3268 on an AD DC
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								LDAP
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To query AD user and group information
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								Requests to TCP/TCP6 ports 389 and 3268 on an AD DC
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								DCE RPC and SMB
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To set up and support cross-forest trust to AD
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								Requests to TCP/TCP6 ports 135, 139, 445 on an AD DC
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								DCE RPC and SMB
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To set up and support cross-forest trust to AD
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								Requests to dynamically opened ports on an AD DC as directed by the Active Directory domain controller, likely in the range of 49152-65535 (TCP/TCP6)
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								DCE RPC and SMB
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To respond to requests by DCE RPC End-point mapper (port 135 TCP/TCP6)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399683424"> <p>
								Requests to ports 88 (TCP/TCP6 and UDP/UDP6), 464 (TCP/TCP6 and UDP/UDP6), and 749 (TCP/TCP6) on an AD DC
							</p>
							 </td><td align="left" valign="top" headers="idm140188399682336"> <p>
								Kerberos
							</p>
							 </td><td align="left" valign="top" headers="idm140188399681248"> <p>
								To obtain a Kerberos ticket; change a Kerberos password; administer Kerberos remotely
							</p>
							 </td></tr></tbody></table></rh-table><p>
				Read the table to learn about operations and requests performed during the creation of an IdM to AD trust from the AD domain controller towards IdM trust controllers.
			</p><rh-table id="tab-operations-performed-from-AD-toward-IPA-controller_planning-a-cross-forest-trust-between-idm-and-ad"><table class="lt-4-cols lt-7-rows"><caption>Table 7.8. Operations performed from an AD domain controller towards IdM trust controllers</caption><colgroup><col style="width: 38%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 38%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188404358624" scope="col">Operation</th><th align="left" valign="top" id="idm140188404357536" scope="col">Protocol used</th><th align="left" valign="top" id="idm140188404356448" scope="col">Purpose</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188404358624"> <p>
								DNS resolution against the IdM DNS resolvers configured on an AD domain controller
							</p>
							 </td><td align="left" valign="top" headers="idm140188404357536"> <p>
								DNS
							</p>
							 </td><td align="left" valign="top" headers="idm140188404356448"> <p>
								To discover the IP addresses of IdM trust controllers
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188404358624"> <p>
								Requests to UDP/UDP6 port 389 on an IdM trust controller
							</p>
							 </td><td align="left" valign="top" headers="idm140188404357536"> <p>
								CLDAP
							</p>
							 </td><td align="left" valign="top" headers="idm140188404356448"> <p>
								To perform IdM trust controller discovery
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188404358624"> <p>
								Requests to TCP/TCP6 ports 135, 139, 445 on an IdM trust controller
							</p>
							 </td><td align="left" valign="top" headers="idm140188404357536"> <p>
								DCE RPC and SMB
							</p>
							 </td><td align="left" valign="top" headers="idm140188404356448"> <p>
								To verify the cross-forest trust to AD
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188404358624"> <p>
								Requests to dynamically opened ports on an IdM trust controller as directed by the IdM trust controller, likely in the range of 49152-65535 (TCP/TCP6)
							</p>
							 </td><td align="left" valign="top" headers="idm140188404357536"> <p>
								DCE RPC and SMB
							</p>
							 </td><td align="left" valign="top" headers="idm140188404356448"> <p>
								To respond to requests by DCE RPC End-point mapper (port 135 TCP/TCP6)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188404358624"> <p>
								Requests to ports 88 (TCP/TCP6 and UDP/UDP6), 464 (TCP/TCP6 and UDP/UDP6), and 749 (TCP/TCP6) on an IdM trust controller
							</p>
							 </td><td align="left" valign="top" headers="idm140188404357536"> <p>
								Kerberos
							</p>
							 </td><td align="left" valign="top" headers="idm140188404356448"> <p>
								To obtain a Kerberos ticket; change a Kerberos password; administer Kerberos remotely
							</p>
							 </td></tr></tbody></table></rh-table></section></section><section class="chapter" id="backing-up-and-restoring-idm_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Backing up and restoring IdM</h2></div></div></div><p class="_abstract _abstract">
			Identity Management lets you manually back up and restore the IdM system after a data loss event.
		</p><p>
			During a backup, the system creates a directory that stores information about your IdM setup. You can use this backup directory to restore your original IdM setup.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				The IdM backup and restore features are designed to help prevent data loss. To mitigate the impact of server loss and ensure continued operation, provide alternative servers to clients. For information on establishing a replication topology see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/preparing_for_disaster_recovery_with_identity_management/preparing-for-server-loss-with-replication_preparing-for-disaster-recovery">Preparing for server loss with replication</a>.
			</p></div></rh-alert><section class="section" id="backup-types_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.1. IdM backup types</h3></div></div></div><p class="_abstract _abstract">
				With the <code class="literal">ipa-backup</code> utility, you can create two types of backups:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Full-server backup</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Contains</strong></span> all server configuration files related to IdM, and LDAP data in LDAP Data Interchange Format (LDIF) files
								</li><li class="listitem">
									IdM services must be <span class="strong strong"><strong>offline</strong></span>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Suitable for</strong></span> rebuilding an IdM deployment from scratch.
								</li></ul></div></dd><dt><span class="term">Data-only backup</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Contains</strong></span> LDAP data in LDIF files and the replication changelog
								</li><li class="listitem">
									IdM services can be <span class="strong strong"><strong>online or offline</strong></span>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Suitable for</strong></span> restoring IdM data to a state in the past
								</li></ul></div></dd></dl></div></section><section class="section" id="naming-conventions-for-idm-backup-files_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.2. Naming conventions for IdM backup files</h3></div></div></div><p class="_abstract _abstract">
				By default, IdM stores backups as <code class="literal">.tar</code> archives in subdirectories of the <code class="literal">/var/lib/ipa/backup/</code> directory.
			</p><p>
				The archives and subdirectories follow these naming conventions:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Full-server backup</span></dt><dd><p class="simpara">
							An archive named <code class="literal">ipa-full.tar</code> in a directory named <code class="literal">ipa-full-<span class="emphasis"><em>&lt;YEAR-MM-DD-HH-MM-SS&gt;</em></span></code>, with the time specified in GMT time.
						</p><pre class="literallayout">[root@server ~]# ll /var/lib/ipa/backup/<span class="strong strong"><strong>ipa-full</strong></span>-2021-01-29-12-11-46
total 3056
-rw-r--r--. 1 root root     158 Jan 29 12:11 header
-rw-r--r--. 1 root root 3121511 Jan 29 12:11 <span class="strong strong"><strong>ipa-full.tar</strong></span></pre></dd><dt><span class="term">Data-only backup</span></dt><dd><p class="simpara">
							An archive named <code class="literal">ipa-data.tar</code> in a directory named <code class="literal">ipa-data-<span class="emphasis"><em>&lt;YEAR-MM-DD-HH-MM-SS&gt;</em></span></code>, with the time specified in GMT time.
						</p><pre class="literallayout">[root@server ~]# ll /var/lib/ipa/backup/<span class="strong strong"><strong>ipa-data</strong></span>-2021-01-29-12-14-23
total 1072
-rw-r--r--. 1 root root     158 Jan 29 12:14 header
-rw-r--r--. 1 root root 1090388 Jan 29 12:14 <span class="strong strong"><strong>ipa-data.tar</strong></span></pre></dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Uninstalling an IdM server does not automatically remove any backup files.
				</p></div></rh-alert></section><section class="section" id="considerations-when-creating-a-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.3. Considerations when creating a backup</h3></div></div></div><p class="_abstract _abstract">
				The important behaviors and limitations of the <code class="literal">ipa-backup</code> command include the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						By default, the <code class="literal">ipa-backup</code> utility runs in offline mode, which stops all IdM services. The utility automatically restarts IdM services after the backup is finished.
					</li><li class="listitem">
						A full-server backup must <span class="strong strong"><strong>always</strong></span> run with IdM services offline, but a data-only backup can be performed with services online.
					</li><li class="listitem">
						By default, the <code class="literal">ipa-backup</code> utility creates backups on the file system containing the <code class="literal">/var/lib/ipa/backup/</code> directory. Red Hat recommends creating backups regularly on a file system separate from the production filesystem used by IdM, and archiving the backups to a fixed medium, such as tape or optical storage.
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Consider performing backups on <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#the-hidden-replica-mode_planning-the-replica-topology">hidden replicas</a>. IdM services can be shut down on hidden replicas without affecting IdM clients.
					</li><li class="listitem"><p class="simpara">
						The <code class="literal">ipa-backup</code> utility checks if all of the services used in your IdM cluster, such as a Certificate Authority (CA), Domain Name System (DNS), and Key Recovery Agent (KRA), are installed on the server where you are running the backup. If the server does not have all these services installed, the <code class="literal">ipa-backup</code> utility exits with a warning, because backups taken on that host would not be sufficient for a full cluster restoration.
					</p><p class="simpara">
						For example, if your IdM deployment uses an integrated Certificate Authority (CA), a backup run on a non-CA replica will not capture CA data. Red Hat recommends verifying that the replica where you perform an <code class="literal">ipa-backup</code> has all of the IdM services used in the cluster installed.
					</p><p class="simpara">
						You can bypass the IdM server role check with the <code class="literal">ipa-backup --disable-role-check</code> command, but the resulting backup will not contain all the data necessary to restore IdM fully.
					</p></li></ul></div></section><section class="section" id="proc_creating-an-idm-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.4. Creating an IdM backup</h3></div></div></div><p class="_abstract _abstract">
				Create a full-server and data-only backup in offline and online modes using the <code class="literal">ipa-backup</code> command.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You must have <code class="literal">root</code> privileges to run the <code class="literal">ipa-backup</code> utility.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To create a full-server backup in offline mode, use the <code class="literal">ipa-backup</code> utility without additional options.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa-backup</strong></span>
Preparing backup on server.example.com
Stopping IPA services
Backing up ipaca in EXAMPLE-COM to LDIF
Backing up userRoot in EXAMPLE-COM to LDIF
Backing up EXAMPLE-COM
Backing up files
Starting IPA service
<span class="strong strong"><strong>Backed up to /var/lib/ipa/backup/ipa-full-2020-01-14-11-26-06</strong></span>
<span class="strong strong"><strong>The ipa-backup command was successful</strong></span></pre></li><li class="listitem"><p class="simpara">
						To create an offline data-only backup, specify the <code class="literal">--data</code> option.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa-backup --data</strong></span></pre></li><li class="listitem"><p class="simpara">
						To create a full-server backup that includes IdM log files, use the <code class="literal">--logs</code> option.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa-backup --logs</strong></span></pre></li><li class="listitem"><p class="simpara">
						To create a data-only backup while IdM services are running, specify both <code class="literal">--data</code> and <code class="literal">--online</code> options.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa-backup --data --online</strong></span></pre></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					If the backup fails due to insufficient space in the <code class="literal">/tmp</code> directory, use the <code class="literal">TMPDIR</code> environment variable to change the destination for temporary files created by the backup process:
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>TMPDIR=/new/location ipa-backup</strong></span></pre></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Ensure the backup directory contains an archive with the backup.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ls <span class="emphasis"><em>/var/lib/ipa/backup/ipa-full-2020-01-14-11-26-06</em></span></strong></span>
header  <span class="strong strong"><strong>ipa-full.tar</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/3344471">ipa-backup command fails to finish</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="encrypting-a-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.5. Creating a GPG2-encrypted IdM backup</h3></div></div></div><p class="_abstract _abstract">
				You can create encrypted backups using GNU Privacy Guard (GPG) encryption. The following procedure creates an IdM backup and encrypts it using a GPG2 key.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a GPG2 key. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#creating-gpg-key_backing-up-and-restoring-idm">Creating a GPG2 key</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Create a GPG-encrypted backup by specifying the <code class="literal">--gpg</code> option.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa-backup --gpg</strong></span>
Preparing backup on server.example.com
Stopping IPA services
Backing up ipaca in EXAMPLE-COM to LDIF
Backing up userRoot in EXAMPLE-COM to LDIF
Backing up EXAMPLE-COM
Backing up files
Starting IPA service
Encrypting /var/lib/ipa/backup/ipa-full-2020-01-13-14-38-00/ipa-full.tar
Backed up to /var/lib/ipa/backup/ipa-full-2020-01-13-14-38-00
<span class="strong strong"><strong>The ipa-backup command was successful</strong></span></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Ensure that the backup directory contains an encrypted archive with a <code class="literal">.gpg</code> file extension.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ls <span class="emphasis"><em>/var/lib/ipa/backup/ipa-full-2020-01-13-14-38-00</em></span></strong></span>
header  <span class="strong strong"><strong>ipa-full.tar.gpg</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#proc_creating-an-idm-backup_backing-up-and-restoring-idm">Creating a backup</a>.
					</li></ul></div></section><section class="section" id="creating-gpg-key_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.6. Creating a GPG2 key</h3></div></div></div><p class="_abstract _abstract">
				The following procedure describes how to generate a GPG2 key to use with encryption utilities.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You need <code class="literal">root</code> privileges.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install and configure the <code class="literal">pinentry</code> utility.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>dnf install pinentry</strong></span>
[root@server ~]# <span class="strong strong"><strong>mkdir ~/.gnupg -m 700</strong></span>
[root@server ~]# <span class="strong strong"><strong>echo "pinentry-program /usr/bin/pinentry-curses" &gt;&gt; ~/.gnupg/gpg-agent.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">key-input</code> file used for generating a GPG keypair with your preferred details. For example:
					</p><pre class="literallayout">[root@server ~]# cat &gt;key-input &lt;&lt;EOF
%echo Generating a standard key
Key-Type: <span class="emphasis"><em>RSA</em></span>
Key-Length: <span class="emphasis"><em>2048</em></span>
Name-Real: <span class="emphasis"><em>GPG User</em></span>
Name-Comment: <span class="emphasis"><em>first key</em></span>
Name-Email: <span class="emphasis"><em>root@example.com</em></span>
Expire-Date: <span class="emphasis"><em>0</em></span>
%commit
%echo Finished creating standard key
EOF</pre></li><li class="listitem"><p class="simpara">
						Optional: By default, GPG2 stores its keyring in the <code class="literal">~/.gnupg</code> file. To use a custom keyring location, set the <code class="literal">GNUPGHOME</code> environment variable to a directory that is only accessible by root.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>export GNUPGHOME=<span class="emphasis"><em>/root/backup</em></span></strong></span>

[root@server ~]# <span class="strong strong"><strong>mkdir -p $GNUPGHOME -m 700</strong></span></pre></li><li class="listitem"><p class="simpara">
						Generate a new GPG2 key based on the contents of the <code class="literal">key-input</code> file.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>gpg2 --batch --gen-key key-input</strong></span></pre></li><li class="listitem"><p class="simpara">
						Enter a passphrase to protect the GPG2 key. You use this passphrase to access the private key for decryption.
					</p><pre class="literallayout">┌──────────────────────────────────────────────────────┐
│ Please enter the passphrase to                       │
│ protect your new key                                 │
│                                                      │
│ Passphrase: <span class="strong strong"><strong><span class="emphasis"><em>&lt;passphrase&gt;</em></span></strong></span>                             │
│                                                      │
│	 &lt;OK&gt;                             &lt;Cancel&gt;         │
└──────────────────────────────────────────────────────┘</pre></li><li class="listitem"><p class="simpara">
						Confirm the correct passphrase by entering it again.
					</p><pre class="literallayout">┌──────────────────────────────────────────────────────┐
│ Please re-enter this passphrase                      │
│                                                      │
│ Passphrase: <span class="strong strong"><strong><span class="emphasis"><em>&lt;passphrase&gt;</em></span></strong></span>                             │
│                                                      │
│	 &lt;OK&gt;                             &lt;Cancel&gt;         │
└──────────────────────────────────────────────────────┘</pre></li><li class="listitem"><p class="simpara">
						Verify that the new GPG2 key was created successfully.
					</p><pre class="literallayout">gpg: keybox '/root/backup/pubring.kbx' created
gpg: Generating a standard key
gpg: /root/backup/trustdb.gpg: trustdb created
gpg: key BF28FFA302EF4557 marked as ultimately trusted
gpg: directory '/root/backup/openpgp-revocs.d' created
gpg: revocation certificate stored as '/root/backup/openpgp-revocs.d/8F6FCF10C80359D5A05AED67BF28FFA302EF4557.rev'
gpg: <span class="strong strong"><strong>Finished creating standard key</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List the GPG keys on the server.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>gpg2 --list-secret-keys</strong></span>
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
<span class="emphasis"><em>/<span class="strong strong"><strong>root</strong></span>/backup/pubring.kbx</em></span>
------------------------
sec   <span class="emphasis"><em>rsa2048</em></span> 2020-01-13 [SCEA]
      8F6FCF10C80359D5A05AED67BF28FFA302EF4557
uid           [ultimate] <span class="emphasis"><em>GPG User (first key) &lt;root@example.com&gt;</em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://gnupg.org/">GNU Privacy Guard</a>
					</li></ul></div></section><section class="section" id="when-to-restore-from-idm-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.7. When to restore from an IdM backup</h3></div></div></div><p class="_abstract _abstract">
				You can respond to several disaster scenarios by restoring from an IdM backup:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Undesirable changes were made to the LDAP content</strong></span>: Entries were modified or deleted, replication carried out those changes throughout the deployment, and you want to revert those changes. Restoring a data-only backup returns the LDAP entries to the previous state without affecting the IdM configuration itself.
					</li><li class="listitem">
						<span class="strong strong"><strong>Total Infrastructure Loss, or loss of all CA instances</strong></span>: If a disaster damages all Certificate Authority replicas, the deployment has lost the ability to rebuild itself by deploying additional servers. In this situation, restore a backup of a CA Replica and build new replicas from it.
					</li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>An upgrade on an isolated server failed</strong></span>: The operating system remains functional, but the IdM data is corrupted, which is why you want to restore the IdM system to a known good state. Red Hat recommends working with Technical Support to diagnose and troubleshoot the issue. If those efforts fail, restore from a full-server backup.
					</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
							The preferred solution for hardware or upgrade failure is to rebuild the lost server from a replica. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/recovering-a-single-server-with-replication_performing-disaster-recovery">Recovering a single server with replication</a>.
						</p></div></rh-alert></li></ul></div></section><section class="section" id="considerations-when-restoring-from-idm-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.8. Considerations when restoring from an IdM backup</h3></div></div></div><p class="_abstract _abstract">
				If you have a backup created with the <code class="literal">ipa-backup</code> utility, you can restore your IdM server or the LDAP content to the state they were in when the backup was performed.
			</p><p>
				The following are the key considerations while restoring from an IdM backup:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You can only restore a backup on a server that matches the configuration of the server where the backup was originally created. The server <span class="strong strong"><strong>must</strong></span> have:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The same hostname
							</li><li class="listitem">
								The same IP address
							</li><li class="listitem">
								The same version of IdM software
							</li></ul></div></li><li class="listitem">
						If one IdM server among many is restored, the restored server becomes the only source of information for IdM. All other servers <span class="strong strong"><strong>must</strong></span> be re-initialized from the restored server.
					</li><li class="listitem">
						Since any data created after the last backup will be lost, do not use the backup and restore solution for normal system maintenance.
					</li><li class="listitem">
						If a server is lost, Red Hat recommends rebuilding the server by reinstalling it as a replica, instead of restoring from a backup. Creating a new replica preserves data from the current working environment. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/preparing_for_disaster_recovery_with_identity_management/preparing-for-server-loss-with-replication_preparing-for-disaster-recovery">Preparing for server loss with replication</a>.
					</li><li class="listitem">
						The backup and restore features can only be managed from the command line and are not available in the IdM web UI.
					</li><li class="listitem">
						You cannot restore from backup files located in the <code class="literal">/tmp</code> or <code class="literal">/var/tmp</code> directories. The IdM Directory Server uses a <span class="strong strong"><strong>PrivateTmp</strong></span> directory and cannot access the <code class="literal">/tmp</code> or <code class="literal">/var/tmp</code> directories commonly available to the operating system.
					</li></ul></div><rh-alert class="admonition tip" state="info"><div class="admonition_header" slot="header">Tip</div><div><p>
				Restoring from a backup requires the same software (RPM) versions on the target host as were installed when the backup was performed. Due to this, Red Hat recommends restoring from a Virtual Machine snapshot rather than a backup. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/recovering-from-data-loss-with-snapshots_performing-disaster-recovery">Recovering from data loss with VM snapshots</a>.
			</p></div></rh-alert></section><section class="section" id="restoring-a-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.9. Restoring an IdM server from a backup</h3></div></div></div><p class="_abstract _abstract">
				Restore an IdM server, or its LDAP data, from an IdM backup.
			</p><div class="figure" id="idm140188399857840"><p class="title"><strong>Figure 8.1. Replication topology used in this example</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/8e59844cdb0f553497b8072f3fde5973/137_RHEL_IdM_updates_0121-backup_restore.png" alt="Diagram showing 3 IdM servers: host server1.example.com needs to be restored from backup. Host caReplica2.example.com is a Certificate Authority replica that is connected to server1.example.com. Host replica3.example.com is a regular server that is connected to caReplica2.example.com"></div></div></div><rh-table id="idm140188399853376"><table class="lt-4-cols lt-7-rows"><caption>Table 8.1. Server naming conventions used in this example</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140188399848512" scope="col">Server host name</th><th align="left" valign="top" id="idm140188399847424" scope="col">Function</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140188399848512"> <p>
								<code class="literal">server1.example.com</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140188399847424"> <p>
								The server that needs to be restored from backup.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399848512"> <p>
								<code class="literal">caReplica2.example.com</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140188399847424"> <p>
								A Certificate Authority (CA) replica connected to the <code class="literal">server1.example.com</code> host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140188399848512"> <p>
								<code class="literal">replica3.example.com</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140188399847424"> <p>
								A replica connected to the <code class="literal">caReplica2.example.com</code> host.
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have generated a full-server or data-only backup of the IdM server with the <code class="literal">ipa-backup</code> utility. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#proc_creating-an-idm-backup_backing-up-and-restoring-idm">Creating a backup</a>.
					</li><li class="listitem">
						Your backup files are not in the <code class="literal">/tmp</code> or <code class="literal">/var/tmp</code> directories.
					</li><li class="listitem">
						Before performing a full-server restore from a full-server backup, <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/uninstalling-an-ipa-server_installing-identity-management">uninstall</a> IdM from the server and <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management">reinstall</a> IdM using the same server configuration as before.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the <code class="literal">ipa-restore</code> utility to restore a full-server or data-only backup.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If the backup directory is in the default <code class="literal">/var/lib/ipa/backup/</code> location, enter only the name of the directory:
							</p><pre class="literallayout">[root@server1 ~]# <span class="strong strong"><strong>ipa-restore <span class="emphasis"><em>ipa-full-2020-01-14-12-02-32</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								If the backup directory is not in the default location, enter its full path:
							</p><pre class="literallayout">[root@server1 ~]# <span class="strong strong"><strong>ipa-restore <span class="emphasis"><em>/mybackups/ipa-data-2020-02-01-05-30-00</em></span></strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									The <code class="literal">ipa-restore</code> utility automatically detects the type of backup that the directory contains, and performs the same type of restore by default. To perform a data-only restore from a full-server backup, add the <code class="literal option">--data</code> option to the <code class="literal">ipa-restore</code> command:
								</p><pre class="literallayout">[root@server1 ~]# <span class="strong strong"><strong>ipa-restore --data <span class="emphasis"><em>ipa-full-2020-01-14-12-02-32</em></span></strong></span></pre></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						Enter the Directory Manager password.
					</p><pre class="literallayout">Directory Manager (existing master) password:</pre></li><li class="listitem"><p class="simpara">
						Enter <code class="literal">yes</code> to confirm overwriting current data with the backup.
					</p><pre class="literallayout">Preparing restore from /var/lib/ipa/backup/ipa-full-2020-01-14-12-02-32 on server1.example.com
Performing FULL restore from FULL backup
Temporary setting umask to 022
Restoring data will overwrite existing live data. Continue to restore? [no]: <span class="strong strong"><strong>yes</strong></span></pre></li><li class="listitem"><p class="simpara">
						The <code class="literal">ipa-restore</code> utility disables replication on all servers that are available:
					</p><pre class="literallayout">Each master will individually need to be re-initialized or
re-created from this one. The replication agreements on
masters running IPA 3.1 or earlier will need to be manually
re-enabled. See the man page for details.
Disabling all replication.
Disabling replication agreement on server1.example.com to caReplica2.example.com
Disabling CA replication agreement on server1.example.com to caReplica2.example.com
Disabling replication agreement on caReplica2.example.com to server1.example.com
Disabling replication agreement on caReplica2.example.com to replica3.example.com
Disabling CA replication agreement on caReplica2.example.com to server1.example.com
Disabling replication agreement on replica3.example.com to caReplica2.example.com</pre><p class="simpara">
						The utility then stops IdM services, restores the backup, and restarts the services:
					</p><pre class="literallayout">Stopping IPA services
Systemwide CA database updated.
Restoring files
Systemwide CA database updated.
Restoring from userRoot in EXAMPLE-COM
Restoring from ipaca in EXAMPLE-COM
Restarting GSS-proxy
Starting IPA services
Restarting SSSD
Restarting oddjobd
Restoring umask to 18
<span class="strong strong"><strong>The ipa-restore command was successful</strong></span></pre></li><li class="listitem"><p class="simpara">
						Re-initialize all replicas connected to the restored server:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								List all replication topology segments for the <code class="literal">domain</code> suffix, taking note of topology segments involving the restored server.
							</p><pre class="literallayout">[root@server1 ~]# <span class="strong strong"><strong>ipa topologysegment-find <span class="emphasis"><em>domain</em></span></strong></span>
------------------
2 segments matched
------------------
  Segment name: <span class="strong strong"><strong>server1.example.com-to-caReplica2.example.com</strong></span>
  Left node: server1.example.com
  Right node: caReplica2.example.com
  Connectivity: both

  Segment name: caReplica2.example.com-to-replica3.example.com
  Left node: caReplica2.example.com
  Right node: replica3.example.com
  Connectivity: both
----------------------------
Number of entries returned 2
----------------------------</pre></li><li class="listitem"><p class="simpara">
								Re-initialize the <code class="literal">domain</code> suffix for all topology segments with the restored server.
							</p><p class="simpara">
								In this example, perform a re-initialization of <code class="literal">caReplica2</code> with data from <code class="literal">server1</code>.
							</p><pre class="literallayout">[root@caReplica2 ~]# <span class="strong strong"><strong>ipa-replica-manage re-initialize --from=<span class="emphasis"><em>server1.example.com</em></span></strong></span>
Update in progress, 2 seconds elapsed
Update succeeded</pre></li><li class="listitem"><p class="simpara">
								Moving on to Certificate Authority data, list all replication topology segments for the <code class="literal">ca</code> suffix.
							</p><pre class="literallayout">[root@server1 ~]# <span class="strong strong"><strong>ipa topologysegment-find <span class="emphasis"><em>ca</em></span></strong></span>
-----------------
1 segment matched
-----------------
  Segment name: <span class="strong strong"><strong>server1.example.com-to-caReplica2.example.com</strong></span>
  Left node: server1.example.com
  Right node: caReplica2.example.com
  Connectivity: both
----------------------------
Number of entries returned 1
----------------------------</pre></li><li class="listitem"><p class="simpara">
								Re-initialize all CA replicas connected to the restored server.
							</p><p class="simpara">
								In this example, perform a <code class="literal">csreplica</code> re-initialization of <code class="literal">caReplica2</code> with data from <code class="literal">server1</code>.
							</p><pre class="literallayout">[root@caReplica2 ~]# <span class="strong strong"><strong>ipa-csreplica-manage re-initialize --from=<span class="emphasis"><em>server1.example.com</em></span></strong></span>
Directory Manager password:

Update in progress, 3 seconds elapsed
Update succeeded</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Continue moving outward through the replication topology, re-initializing successive replicas, until all servers have been updated with the data from restored server <code class="literal">server1.example.com</code>.
					</p><p class="simpara">
						In this example, we only have to re-initialize the <code class="literal">domain</code> suffix on <code class="literal">replica3</code> with the data from <code class="literal">caReplica2</code>:
					</p><pre class="literallayout">[root@replica3 ~]# <span class="strong strong"><strong>ipa-replica-manage re-initialize --from=<span class="emphasis"><em>caReplica2.example.com</em></span></strong></span>
Directory Manager password:

Update in progress, 3 seconds elapsed
Update succeeded</pre></li><li class="listitem"><p class="simpara">
						Clear SSSD’s cache on every server to avoid authentication problems due to invalid data:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Stop the SSSD service:
							</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>systemctl stop sssd</strong></span></pre></li><li class="listitem"><p class="simpara">
								Remove all cached content from SSSD:
							</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>sss_cache -E</strong></span></pre></li><li class="listitem"><p class="simpara">
								Start the SSSD service:
							</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>systemctl start sssd</strong></span></pre></li><li class="listitem">
								Reboot the server.
							</li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">ipa-restore (1)</code> man page also covers in detail how to handle complex replication scenarios during restoration.
					</li></ul></div></section><section class="section" id="restoring-encrypted-backup_backing-up-and-restoring-idm"><div class="titlepage"><div><div><h3 class="title">8.10. Restoring from an encrypted backup</h3></div></div></div><p class="_abstract _abstract">
				This procedure restores an IdM server from an encrypted IdM backup. The <code class="literal">ipa-restore</code> utility automatically detects if an IdM backup is encrypted and restores it using the GPG2 root keyring.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A GPG-encrypted IdM backup. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#encrypting-a-backup_backing-up-and-restoring-idm">Creating encrypted IdM backups</a>.
					</li><li class="listitem">
						The LDAP Directory Manager password
					</li><li class="listitem">
						The passphrase used when creating the GPG key
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						If you used a custom keyring location when creating the GPG2 keys, verify that the <code class="literal">$GNUPGHOME</code> environment variable is set to that directory. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#creating-gpg-key_backing-up-and-restoring-idm">Creating a GPG2 key</a>.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>echo $GNUPGHOME</strong></span>
<span class="emphasis"><em>/root/backup</em></span></pre></li><li class="listitem"><p class="simpara">
						Provide the <code class="literal">ipa-restore</code> utility with the backup directory location.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa-restore ipa-full-2020-01-13-18-30-54</strong></span></pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Enter the Directory Manager password.
							</p><pre class="literallayout">Directory Manager (existing master) password:</pre></li><li class="listitem"><p class="simpara">
								Enter the passphrase you used when creating the GPG key.
							</p><pre class="literallayout">┌────────────────────────────────────────────────────────────────┐
│ Please enter the passphrase to unlock the OpenPGP secret key:  │
│ "GPG User (first key) &lt;root@example.com&gt;"                      │
│ 2048-bit RSA key, ID BF28FFA302EF4557,                         │
│ created 2020-01-13.                                            │
│                                                                │
│                                                                │
│ Passphrase: <span class="strong strong"><strong><span class="emphasis"><em>&lt;passphrase&gt;</em></span></strong></span>                                       │
│                                                                │
│         &lt;OK&gt;                                    &lt;Cancel&gt;       │
└────────────────────────────────────────────────────────────────┘</pre></li></ol></div></li><li class="listitem">
						Re-initialize all replicas connected to the restored server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#restoring-a-backup_backing-up-and-restoring-idm">Restoring an IdM server from backup</a>.
					</li></ol></div></section></section><section class="chapter" id="assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Backing up and restoring IdM servers using Ansible playbooks</h2></div></div></div><p class="_abstract _abstract">
			Using the <code class="literal">ipabackup</code> Ansible role, you can automate backing up an IdM server, transferring backup files between servers and your Ansible controller, and restoring an IdM server from a backup.
		</p><section class="section" id="proc_using-ansible-to-create-a-backup-of-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.1. Using Ansible to create a backup of an IdM server</h3></div></div></div><p class="_abstract _abstract">
				You can use the <code class="literal">ipabackup</code> role in an Ansible playbook to create a backup of an IdM server and store it on the IdM server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">~/MyPlaybooks/</code> directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">backup-server.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/backup-server.yml backup-my-server.yml</pre></li><li class="listitem">
						Open the <code class="literal">backup-my-server.yml</code> Ansible playbook file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group:
					</p><pre class="literallayout">---
- name: Playbook to backup IPA server
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true

  roles:
  - role: ipabackup
    state: present</pre></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook, specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory backup-my-server.yml</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log into the IdM server that you have backed up.
					</li><li class="listitem"><p class="simpara">
						Verify that the backup is in the <code class="literal">/var/lib/ipa/backup</code> directory.
					</p><pre class="literallayout">[root@server ~]# ls /var/lib/ipa/backup/
ipa-full-2021-04-30-13-12-00</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem"><p class="simpara">
						For more sample Ansible playbooks that use the <code class="literal">ipabackup</code> role, see:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
							</li><li class="listitem">
								The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
							</li></ul></div></li></ul></div></section><section class="section" id="proc_using-ansible-to-create-a-backup-of-an-idm-server-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.2. Using Ansible to create a backup of an IdM server on your Ansible controller</h3></div></div></div><p class="_abstract _abstract">
				You can use the <code class="literal">ipabackup</code> role in an Ansible playbook to create a backup of an IdM server and automatically transfer it on your Ansible controller. Your backup file name begins with the host name of the IdM server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To store the backups, create a subdirectory in your home directory on the Ansible controller.
					</p><pre class="literallayout">$ mkdir ~/ipabackups</pre></li><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">~/MyPlaybooks/</code> directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">backup-server-to-controller.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/backup-server-to-controller.yml backup-my-server-to-my-controller.yml</pre></li><li class="listitem">
						Open the <code class="literal">backup-my-server-to-my-controller.yml</code> file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the following variables:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group.
							</li><li class="listitem"><p class="simpara">
								Optional: To maintain a copy of the backup on the IdM server, uncomment the following line:
							</p><pre class="literallayout"> # ipabackup_keep_on_server: true</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						By default, backups are stored in the present working directory of the Ansible controller. To specify the backup directory you created in Step 1, add the <code class="literal">ipabackup_controller_path</code> variable and set it to the <code class="literal">/home/user/ipabackups</code> directory.
					</p><pre class="literallayout">---
- name: Playbook to backup IPA server to controller
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true
  vars:
    ipabackup_to_controller: true
    <span class="strong strong"><strong># ipabackup_keep_on_server: true</strong></span>
    <span class="strong strong"><strong>ipabackup_controller_path: /home/user/ipabackups</strong></span>

  roles:
  - role: ipabackup
    state: present</pre></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook, specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory backup-my-server-to-my-controller.yml</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the backup is in the <code class="literal">/home/user/ipabackups</code> directory of your Ansible controller:
					</p><pre class="literallayout">[user@controller ~]$ ls /home/user/ipabackups
server.idm.example.com_ipa-full-2021-04-30-13-12-00</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem"><p class="simpara">
						For more sample Ansible playbooks that use the <code class="literal">ipabackup</code> role, see:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
							</li><li class="listitem">
								The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
							</li></ul></div></li></ul></div></section><section class="section" id="proc_using-ansible-to-copy-a-backup-of-an-idm-server-to-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.3. Using Ansible to copy a backup of an IdM server to your Ansible controller</h3></div></div></div><p class="_abstract _abstract">
				You can use an Ansible playbook to copy a backup of an IdM server from the IdM server to your Ansible controller.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To store the backups, create a subdirectory in your home directory on the Ansible controller.
					</p><pre class="literallayout">$ mkdir ~/ipabackups</pre></li><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">~/MyPlaybooks/</code> directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">copy-backup-from-server.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/copy-backup-from-server.yml copy-backup-from-my-server-to-my-controller.yml</pre></li><li class="listitem">
						Open the <code class="literal">copy-my-backup-from-my-server-to-my-controller.yml</code> file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the following variables:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group.
							</li><li class="listitem">
								Set the <code class="literal">ipabackup_name</code> variable to the name of the <code class="literal">ipabackup</code> on your IdM server to copy to your Ansible controller.
							</li><li class="listitem"><p class="simpara">
								By default, backups are stored in the present working directory of the Ansible controller. To specify the directory you created in Step 1, add the <code class="literal">ipabackup_controller_path</code> variable and set it to the <code class="literal">/home/user/ipabackups</code> directory.
							</p><pre class="literallayout">---
- name: Playbook to copy backup from IPA server
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true
  vars:
    ipabackup_name: <span class="strong strong"><strong>ipa-full-2021-04-30-13-12-00</strong></span>
    ipabackup_to_controller: true
    <span class="strong strong"><strong>ipabackup_controller_path: /home/user/ipabackups</strong></span>

  roles:
  - role: ipabackup
    state: present</pre></li></ol></div></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook, specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory copy-backup-from-my-server-to-my-controller.yml</pre></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					To copy <span class="strong strong"><strong>all</strong></span> IdM backups to your controller, set the <code class="literal">ipabackup_name</code> variable in the Ansible playbook to <code class="literal">all</code>:
				</p><pre class="literallayout">  vars:
    ipabackup_name: <span class="strong strong"><strong>all</strong></span>
    ipabackup_to_controller: true</pre><p>
					For an example, see the <code class="literal">copy-all-backups-from-server.yml</code> Ansible playbook in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify your backup is in the <code class="literal">/home/user/ipabackups</code> directory on your Ansible controller:
					</p><pre class="literallayout">[user@controller ~]$ ls /home/user/ipabackups
server.idm.example.com_ipa-full-2021-04-30-13-12-00</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
					</li><li class="listitem">
						The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
					</li></ul></div></section><section class="section" id="proc_using-ansible-to-copy-a-backup-of-an-idm-server-from-your-ansible-controller-to-the-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.4. Using Ansible to copy a backup of an IdM server from your Ansible controller to the IdM server</h3></div></div></div><p class="_abstract _abstract">
				You can use an Ansible playbook to copy a backup of an IdM server from your Ansible controller to the IdM server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">~/MyPlaybooks/</code> directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">copy-backup-from-controller.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/copy-backup-from-controller.yml copy-backup-from-my-controller-to-my-server.yml</pre></li><li class="listitem">
						Open the <code class="literal">copy-my-backup-from-my-controller-to-my-server.yml</code> file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the following variables:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group.
							</li><li class="listitem"><p class="simpara">
								Set the <code class="literal">ipabackup_name</code> variable to the name of the <code class="literal">ipabackup</code> on your Ansible controller to copy to the IdM server.
							</p><pre class="literallayout">---
- name: Playbook to copy a backup from controller to the IPA server
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true

  vars:
    ipabackup_name: <span class="strong strong"><strong>server.idm.example.com_ipa-full-2021-04-30-13-12-00</strong></span>
    ipabackup_from_controller: true

  roles:
  - role: ipabackup
    state: copied</pre></li></ol></div></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook, specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory copy-backup-from-my-controller-to-my-server.yml</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
					</li><li class="listitem">
						The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
					</li></ul></div></section><section class="section" id="proc_using-ansible-to-remove-a-backup-from-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.5. Using Ansible to remove a backup from an IdM server</h3></div></div></div><p class="_abstract _abstract">
				You can use an Ansible playbook to remove a backup from an IdM server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the ~/MyPlaybooks/ directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">remove-backup-from-server.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/remove-backup-from-server.yml remove-backup-from-my-server.yml</pre></li><li class="listitem">
						Open the <code class="literal">remove-backup-from-my-server.yml</code> file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the following variables:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group.
							</li><li class="listitem"><p class="simpara">
								Set the <code class="literal">ipabackup_name</code> variable to the name of the <code class="literal">ipabackup</code> to remove from your IdM server.
							</p><pre class="literallayout">---
- name: Playbook to remove backup from IPA server
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true

  vars:
    ipabackup_name: <span class="strong strong"><strong>ipa-full-2021-04-30-13-12-00</strong></span>

  roles:
  - role: ipabackup
    state: absent</pre></li></ol></div></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook, specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory remove-backup-from-my-server.yml</pre></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					To remove <span class="strong strong"><strong>all</strong></span> IdM backups from the IdM server, set the <code class="literal">ipabackup_name</code> variable in the Ansible playbook to <code class="literal">all</code>:
				</p><pre class="literallayout">  vars:
    ipabackup_name: <span class="strong strong"><strong>all</strong></span></pre><p>
					For an example, see the <code class="literal">remove-all-backups-from-server.yml</code> Ansible playbook in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory.
				</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
					</li><li class="listitem">
						The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
					</li></ul></div></section><section class="section" id="proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-the-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.6. Using Ansible to restore an IdM server from a backup stored on the server</h3></div></div></div><p class="_abstract _abstract">
				You can use an Ansible playbook to restore an IdM server from a backup stored on that host.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li><li class="listitem">
						You know the LDAP Directory Manager password.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">~/MyPlaybooks/</code> directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">restore-server.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/restore-server.yml restore-my-server.yml</pre></li><li class="listitem">
						Open the <code class="literal">restore-my-server.yml</code> Ansible playbook file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the following variables:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group.
							</li><li class="listitem">
								Set the <code class="literal">ipabackup_name</code> variable to the name of the <code class="literal">ipabackup</code> to restore.
							</li><li class="listitem"><p class="simpara">
								Set the <code class="literal">ipabackup_password</code> variable to the LDAP Directory Manager password.
							</p><pre class="literallayout">---
- name: Playbook to restore an IPA server
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true

  vars:
    ipabackup_name: <span class="strong strong"><strong>ipa-full-2021-04-30-13-12-00</strong></span>
    ipabackup_password: <span class="strong strong"><strong><span class="emphasis"><em>&lt;your_LDAP_DM_password&gt;</em></span></strong></span>

  roles:
  - role: ipabackup
    state: restored</pre></li></ol></div></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory restore-my-server.yml</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
					</li><li class="listitem">
						The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
					</li></ul></div></section><section class="section" id="proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks"><div class="titlepage"><div><div><h3 class="title">9.7. Using Ansible to restore an IdM server from a backup stored on your Ansible controller</h3></div></div></div><p class="_abstract _abstract">
				You can use an Ansible playbook to restore an IdM server from a backup stored on your Ansible controller.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li><li class="listitem">
						You know the LDAP Directory Manager password.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <code class="literal">~/MyPlaybooks/</code> directory:
					</p><pre class="literallayout">$ cd ~/MyPlaybooks/</pre></li><li class="listitem"><p class="simpara">
						Make a copy of the <code class="literal">restore-server-from-controller.yml</code> file located in the <code class="literal">/usr/share/doc/ansible-freeipa/playbooks</code> directory:
					</p><pre class="literallayout">$ cp /usr/share/doc/ansible-freeipa/playbooks/restore-server-from-controller.yml restore-my-server-from-my-controller.yml</pre></li><li class="listitem">
						Open the <code class="literal">restore-my-server-from-my-controller.yml</code> file for editing.
					</li><li class="listitem"><p class="simpara">
						Adapt the file by setting the following variables:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set the <code class="literal">hosts</code> variable to a host group from your inventory file. In this example, set it to the <code class="literal">ipaserver</code> host group.
							</li><li class="listitem">
								Set the <code class="literal">ipabackup_name</code> variable to the name of the <code class="literal">ipabackup</code> to restore.
							</li><li class="listitem"><p class="simpara">
								Set the <code class="literal">ipabackup_password</code> variable to the LDAP Directory Manager password.
							</p><pre class="literallayout">---
- name: Playbook to restore IPA server from controller
  hosts: <span class="strong strong"><strong>ipaserver</strong></span>
  become: true

  vars:
    ipabackup_name: <span class="strong strong"><strong>server.idm.example.com_ipa-full-2021-04-30-13-12-00</strong></span>
    ipabackup_password: <span class="strong strong"><strong><span class="emphasis"><em>&lt;your_LDAP_DM_password&gt;</em></span></strong></span>
    ipabackup_from_controller: true

  roles:
  - role: ipabackup
    state: restored</pre></li></ol></div></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook, specifying the inventory file and the playbook file:
					</p><pre class="literallayout">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory restore-my-server-from-my-controller.yml</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">README.md</code> file in the <code class="literal">/usr/share/doc/ansible-freeipa/roles/ipabackup</code> directory.
					</li><li class="listitem">
						The <code class="literal">/usr/share/doc/ansible-freeipa/playbooks/</code> directory.
					</li></ul></div></section></section><section class="chapter" id="ref_idm-integration-with-other-red-hat-products_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 10. IdM integration with Red Hat products</h2></div></div></div><p class="_abstract _abstract">
			Find documentation for other Red Hat products that integrate with IdM. You can configure these products to allow your IdM users to access their services.
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform">Ansible Automation Platform</a>
				</li><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/openshift_container_platform">OpenShift Container Platform</a>
				</li><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_openstack_platform">Red Hat OpenStack Platform</a>
				</li><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_satellite">Red Hat Satellite</a>
				</li><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_single_sign-on">Red Hat Single Sign-On</a>
				</li><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_virtualization">Red Hat Virtualization</a>
				</li></ul></div></section><section class="chapter" id="configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Configuring Single Sign-On for the RHEL 9 web console in the IdM domain</h2></div></div></div><p>
			You can use Single Sign-on (SSO) authentication provided by Identity Management (IdM) in the RHEL 9 web console to leverage the following advantages:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					IdM domain administrators can use the RHEL 9 web console to manage local machines.
				</li><li class="listitem">
					Users with a Kerberos ticket in the IdM domain do not need to provide login credentials to access the web console.
				</li><li class="listitem">
					All hosts known to the IdM domain are accessible via SSH from the local instance of the RHEL 9 web console.
				</li><li class="listitem">
					Certificate configuration is not necessary. The console’s web server automatically switches to a certificate issued by the IdM certificate authority and accepted by browsers.
				</li></ul></div><p>
			Configuring SSO for logging into the RHEL web console requires to:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Add machines to the IdM domain using the RHEL 9 web console.
				</li><li class="listitem">
					If you want to use Kerberos for authentication, you must obtain a Kerberos ticket on your machine.
				</li><li class="listitem">
					Allow administrators on the IdM server to run any command on any host.
				</li></ol></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					The RHEL web console installed on RHEL 9 systems.
				</p><p class="simpara">
					For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing the web console</a>.
				</p></li><li class="listitem"><p class="simpara">
					IdM client installed on systems with the RHEL web console.
				</p><p class="simpara">
					For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/assembly_installing-an-idm-client_installing-identity-management">IdM client installation</a>.
				</p></li></ul></div><section class="section" id="joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain"><div class="titlepage"><div><div><h3 class="title">11.1. Joining a RHEL 9 system to an IdM domain using the web console</h3></div></div></div><p class="_abstract _abstract">
				You can use the web console to join the Red Hat Enterprise Linux 9 system to the Identity Management (IdM) domain.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The IdM domain is running and reachable from the client you want to join.
					</li><li class="listitem">
						You have the IdM domain administrator credentials.
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 9 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Configuration</strong></span> field of the <span class="strong strong"><strong>Overview</strong></span> tab click <span class="strong strong"><strong>Join Domain</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Join a Domain</strong></span> dialog box, enter the host name of the IdM server in the <span class="strong strong"><strong>Domain Address</strong></span> field.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Domain administrator name</strong></span> field, enter the user name of the IdM administration account.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Domain administrator password</strong></span>, add a password.
					</li><li class="listitem">
						Click <span class="guibutton">Join</span>.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						If the RHEL 9 web console did not display an error, the system has been joined to the IdM domain and you can see the domain name in the <span class="strong strong"><strong>System</strong></span> screen.
					</li><li class="listitem"><p class="simpara">
						To verify that the user is a member of the domain, click the Terminal page and type the <code class="literal">id</code> command:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>id</strong></span>
euid=548800004(example_user) gid=548800004(example_user) groups=548800004(example_user) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/index">Planning Identity Management</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/index">Installing Identity Management</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/index">Managing IdM users, groups, hosts, and access control rules</a>
					</li></ul></div></section><section class="section" id="logging-in-to-the-web-console-using-a-kerberos-ticket_configuring-single-sign-on-for-the-web-console-in-the-idm-domain"><div class="titlepage"><div><div><h3 class="title">11.2. Logging in to the web console using Kerberos authentication</h3></div></div></div><p class="_abstract _abstract">
				Configure the RHEL 9 system to use Kerberos authentication.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					With SSO, you usually do not have any administrative privileges in the web console. This only works if you configure passwordless sudo. The web console does not interactively ask for a sudo password.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						IdM domain running and reachable in your company environment.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_system-management-using-the-rhel-9-web-console#joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain">Joining a RHEL 9 system to an IdM domain using the web console</a>.
					</p></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the RHEL 9 web console.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
					</p></li><li class="listitem">
						If the system does not use a Kerberos ticket managed by the SSSD client, request the ticket with the <code class="literal">kinit</code> utility manually.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Log in to the RHEL web console by entering the following URL in your web browser:
					</p><pre class="screen"> https://<span class="emphasis"><em>&lt;dns_name&gt;</em></span>:9090</pre><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/b6fe536ed401ee02d68bed066e72abf3/idm-cockpit-logging-done.png" alt="A screenshot of the web console with a menu in a column along the left that has the following buttons: System - Logs - Storage - Networking - Accounts - Services - Applications - Diagnostic Reports - Kernel Dump - SELinux. The &quot;System&quot; option has been chosen and displays details for the system such as Hardware - Machine ID - Operating system - Secure Shell Keys - Hostname - and others. 3 graphs display usage of CPUs over time - use of Memory and Swap over time - and Disk I/O over time."></span>

					</p><p class="simpara">
						At this point, you are successfully connected to the RHEL web console and you can start with configuration.
					</p></li></ul></div></section></section><section class="chapter" id="ref_idm-directory-server-rfc-support_planning-identity-management"><div class="titlepage"><div><div><h2 class="title">Chapter 12. IdM Directory Server RFC support</h2></div></div></div><p>
			The Directory Server component in Identity Management (IdM) supports many LDAP-related Requests for Comments (RFCs).
		</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_directory_server/12/html/planning_and_designing_directory_server/assembly_rfc-support_designing-rhds">Directory Server RFC support</a>
				</li><li class="listitem">
					<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_directory_server/12/html-single/planning_and_designing_directory_server/index">Planning and designing Directory Server</a>
				</li></ul></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm140188399814592"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":505,"once":509,"_errors":510,"serverRendered":15,"path":512},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":10,"Pn02PlJOas":433,"rFVLKcOK8e":504},[5,6,7,8,9],"fr-fr","en-us","ko-kr","zh-cn","ja-jp",{"name":11,"html":12,"type":-1,"toc":13,"breadcrumbs":352,"error":18,"title":360,"productName":354,"productVersions":369,"pagination":398,"redirect":414,"canonicalLinks":415,"openShiftProducts":417,"tocFromVolume":-1,"jumpLinks":432},"Planning Identity Management","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm140188408534368\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Planning the infrastructure and service integration of an IdM environment\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm140188399814592\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tIdentity Management (IdM) provides a centralized and unified way to manage identity stores, authentication, and authorization policies.\n\t\t\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\t\tFor a successful integration of IdM in your environment, learn about the components of IdM and plan the installation. For example, plan a replication topology for failover and load-balancing, the integration into Active Directory (AD), the structure of DNS zones and Certificate Authority (CA), as well as backup and recovery scenarios.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"overview-of-identity-management-and-access-control-planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Overview of IdM and access control in RHEL\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tLearn how you can use Identity Management (IdM) to centralize identity management, enforce security controls, and comply with best practices and security policies. Explore common customer scenarios and solutions for IdM implementation in both Linux and Windows environments.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"intro-to-ipa-overview-of-idm-and-access-control\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. Introduction to IdM\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIdentity Management (IdM) provides a centralized and unified way to manage identity stores, authentication, policies, and authorization policies in a Linux-based domain.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>The goal of IdM in Red Hat Enterprise Linux\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tIdM significantly reduces the administrative overhead of managing different services individually and using different tools on different machines.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cp>\n\t\t\t\tIdM is one of the few centralized identity, policy, and authorization software solutions that support:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdvanced features of Linux operating system environments\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUnifying large groups of Linux machines\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNative integration with Active Directory\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIdM creates a Linux-based and Linux-controlled domain:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIdM builds on existing, native Linux tools and protocols. It has its own processes and configuration, but its underlying technologies are well-established on Linux systems and trusted by Linux administrators.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIdM servers and clients are Red Hat Enterprise Linux machines. IdM clients can also be other Linux and UNIX distributions if they support standard protocols. A Windows client cannot be a member of the IdM domain but users logged into Windows systems managed by Active Directory (AD) can connect to Linux clients or access services managed by IdM. This is accomplished by establishing cross forest trust between AD and IdM domains.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Managing identities and policies on multiple Linux servers\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Without IdM:\u003C/em>\u003C/span> Each server is administered separately. All passwords are saved on the local machines. The IT administrator manages users on every machine, sets authentication and authorization policies separately, and maintains local passwords. However, more often the users rely on other centralized solution, for example direct integration with AD. Systems can be directly integrated with AD using several different solutions:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLegacy Linux tools (not recommended to use)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSolution based on Samba winbind (recommended for specific use cases)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSolution based on a third-party software (usually require a license from another vendor)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSolution based on SSSD (native Linux and recommended for the majority of use cases)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>With IdM:\u003C/em>\u003C/span> The IT administrator can:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMaintain the identities in one central place: the IdM server\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tApply policies uniformly to multiples of machines at the same time\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet different access levels for users by using host-based access control, delegation, and other rules\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCentrally manage privilege escalation rules\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDefine how home directories are mounted\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Enterprise SSO\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tIn case of IdM Enterprise, single sign-on (SSO) is implemented leveraging the Kerberos protocol. This protocol is popular in the infrastructure level and enables SSO with services such as SSH, LDAP, NFS, CUPS, or DNS. Web services using different web stacks (Apache, EAP, Django, and others) can also be enabled to use Kerberos for SSO. However, practice shows that using OpenID Connect or SAML based on SSO is more convenient for web applications. To bridge the two layers, it is recommended to deploy an Identity Provider (IdP) solution that would be able to convert Kerberos authentication into a OpenID Connect ticket or SAML assertion. Red Hat SSO technology based on the Keycloak open source project is an example of such an IdP.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Without IdM:\u003C/em>\u003C/span> Users log in to the system and are prompted for a password every single time they access a service or application. These passwords might be different, and the users have to remember which credential to use for which application.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>With IdM:\u003C/em>\u003C/span> After users log in to the system, they can access multiple services and applications without being repeatedly asked for their credentials. This helps to:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImprove usability\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReduce the security risk of passwords being written down or stored insecurely\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBoost user productivity\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Managing a mixed Linux and Windows environment\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Without IdM:\u003C/em>\u003C/span> Windows systems are managed in an AD forest, but development, production, and other teams have many Linux systems. The Linux systems are excluded from the AD environment.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>With IdM:\u003C/em>\u003C/span> The IT administrator can:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tManage the Linux systems using native Linux tools\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIntegrate the Linux systems into the environments centrally managed by Active Directory, therefore preserving a centralized user store.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEasily deploy new Linux systems at scale or as needed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tQuickly react to business needs and make decisions related to management of the Linux infrastructure without dependency on other teams avoiding delays.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv id=\"contrasting-idm-with-a-standard-ldap-directory_intro-to-ipa\" class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Contrasting IdM with a standard LDAP directory\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tA standard LDAP directory, such as Red Hat Directory Server, is a general-purpose directory: it can be customized to fit a broad range of use cases.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSchema: a flexible schema that can be customized for a vast array of entries, such as users, machines, network entities, physical equipment, or buildings.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTypically used as: a back-end directory to store data for other applications, such as business applications that provide services on the Internet.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIdM has a specific purpose: managing internal, inside-the-enterprise identities as well as authentication and authorization policies that relate to these identities.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSchema: a specific schema that defines a particular set of entries relevant to its purpose, such as entries for user or machine identities.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTypically used as: the identity and authentication server to manage identities within the boundaries of an enterprise or a project.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe underlying directory server technology is the same for both Red Hat Directory Server and IdM. However, IdM is optimized to manage identities inside the enterprise. This limits its general extensibility, but also brings certain benefits: simpler configuration, better automation of resource management, and increased efficiency in managing enterprise identities.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/blog/identity-management-or-red-hat-directory-server-%E2%80%93-which-one-should-i-use\">Identity Management or Red Hat Directory Server – Which One Should I Use?\u003C/a> on the Red Hat Enterprise Linux Blog\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tKnowledge Base article about \u003Ca class=\"link\" href=\"https://access.redhat.com/articles/261973\">Standard protocols\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_common-idm-customer-scenarios-and-their-solutions_overview-of-idm-and-access-control\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. Common IdM customer scenarios and their solutions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tExplore examples of common identity management and access control use cases both in Linux and Windows environments, and their solutions.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Scenario 1\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Situation\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou are a Windows administrator in your company.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tApart from Windows systems, you also have several Linux systems to administer.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAs you cannot delegate control of any part of your environment to a Linux administrator, you must handle all security controls in Active Directory (AD).\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Solution\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/integrating_rhel_systems_directly_with_windows_active_directory/connecting-rhel-systems-directly-to-ad-using-sssd_integrating-rhel-systems-directly-with-active-directory\">Integrate your Linux hosts to AD directly\u003C/a>.\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you want \u003Ccode class=\"literal\">sudo\u003C/code> rules to be defined centrally in an LDAP server, you must implement a schema extension in the AD domain controller (DC). If you do not have permissions to implement this extension, consider installing Identity Management (IdM) - see Scenario 3 below. As IdM already contains the schema extension, you can \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#proc_granting-sudo-access-to-an-idm-user-on-an-idm-client-using-the-cli_granting-sudo-access-to-an-IdM-user-on-an-IdM-client\">manage \u003Ccode class=\"literal\">sudo\u003C/code> rules directly in IdM\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Further advice if you are expecting to need more Linux skills in the future\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConnect with the Linux community to see how others manage identities: users, hosts, and services.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tResearch best practices.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake yourself more familiar with Linux:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUse the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console\">RHEL web console\u003C/a> when at all possible.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUse easy commands on the command-line whenever possible.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAttend a Red Hat System Administration course.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Scenario 2\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Situation\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou are a Linux administrator in your company.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYour Linux users require different levels of access to the company resources.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou need tight, centralized access control of your Linux machines.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Solution\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/installing_identity_management/index\">Install IdM\u003C/a> and migrate your users to it.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Further advice if you are expecting your company to scale up in the future\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter installing IdM, configure \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#ensuring-the-presence-of-host-based-access-control-rules-in-idm-using-Ansible-playbooks_managing-users-groups-hosts\">host-based access control\u003C/a> and \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#granting-sudo-access-to-an-IdM-user-on-an-IdM-client_managing-users-groups-hosts\">sudo rules\u003C/a>. These are necessary to maintain security best practices of limited access and least privilege.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo meet your security targets, develop a cohesive identity and access management (IAM) strategy that uses protocols to secure both infrastructure and application layers.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Scenario 3\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Situation\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou are a Linux administrator in your company and you must integrate your Linux systems with the company Windows servers. You want to remain the sole maintainer of access control to your Linux systems.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDifferent users require different levels of access to the Linux systems but they all reside in AD.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Solution\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAs AD controls are not robust enough, you must configure access control to the Linux systems on the Linux side. \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/installing_identity_management/index\">Install IdM\u003C/a> and \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/installing_trust_between_idm_and_ad/index\">establish an IdM-AD trust\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Further advice to enhance the security of your environment\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter installing IdM, configure \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#ensuring-the-presence-of-host-based-access-control-rules-in-idm-using-Ansible-playbooks_managing-users-groups-hosts\">host-based access control\u003C/a> and \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_idm_users_groups_hosts_and_access_control_rules/index#granting-sudo-access-to-an-IdM-user-on-an-IdM-client_managing-users-groups-hosts\">sudo rules\u003C/a>. These are necessary to maintain security best practices of limited access and least privilege.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo meet your security targets, develop a cohesive Identity and Access Management (IAM) strategy that uses protocols to secure both infrastructure and application layers.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Scenario 4\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Situation\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAs a security administrator, you must manage identities and access across all of your environments, including all of your Red Hat products. You must manage all of your identities in one place, and maintain access controls across all of your platforms, clouds and products.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Solution\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIntegrate IdM, \u003Ca class=\"link\" href=\"https://access.redhat.com/products/red-hat-single-sign-on\">Red Hat Single Sign-On\u003C/a>, \u003Ca class=\"link\" href=\"https://access.redhat.com/products/red-hat-satellite\">Red Hat Satellite\u003C/a>, \u003Ca class=\"link\" href=\"https://access.redhat.com/products/red-hat-ansible-automation-platform/\">Red Hat Ansible Automation Platform\u003C/a> and other Red Hat products.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Scenario 5\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Situation\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAs a security and system administrator in a Department of Defense (DoD) or Intelligence Community (IC) environment, you are required to use smart card or RSA authentication. You are required to use PIV certificates or RSA tokens.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Solution\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_smart_card_authentication/index#con-idm-certmapdata_managing-smart-card-authentication\">Configure certificate mapping in IdM\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tEnsure that GSSAPI delegation is enabled if an IdM-AD trust is present.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tConfigure the use of radius configuration in IdM for RSA tokens.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tConfigure IdM servers and IdM clients for \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_smart_card_authentication/index#configuring-idm-for-smart-card-auth_managing-smart-card-authentication\">smart card authentication\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/index\">Use Ansible to automate your IdM tasks\u003C/a> to reduce client configuration time and complexity and to reduce mistakes.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.3. Introduction to IdM servers and clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe Identity Management (IdM) domain includes the following types of systems:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">IdM clients\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM clients are Red Hat Enterprise Linux systems enrolled with the servers and configured to use the IdM services on these servers.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClients interact with the IdM servers to access services provided by them. For example, clients use the Kerberos protocol to perform authentication and acquire tickets for enterprise single sign-on (SSO), use LDAP to get identity and policy information, and use DNS to detect where the servers and services are located and how to connect to them.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM servers\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM servers are Red Hat Enterprise Linux systems that respond to identity, authentication, and authorization requests from IdM clients within an IdM domain. IdM servers are the central repositories for identity and policy information. They can also host any of the optional services used by domain members:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm#certificate_authorities_in_idm\">Certificate authority\u003C/a> (CA): This service is present in most IdM deployments.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tKey Recovery Authority (KRA)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tActive Directory (AD) trust controller\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tActive Directory (AD) trust agent\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM servers are also embedded IdM clients. As clients enrolled with themselves, the servers provide the same functionality as other clients.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tTo provide services for large numbers of clients, as well as for redundancy and availability, IdM allows deployment on multiple IdM servers in a single domain. It is possible to deploy up to 60 servers. This is the maximum number of IdM servers, also called replicas, that is currently supported in the IdM domain.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen creating a replica, IdM clones the configuration of the existing server. A replica shares with the initial server its core configuration, including internal information about users, systems, certificates, and configured policies.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NOTE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA replica and the server it was created from are functionally identical, except for the \u003Cspan class=\"emphasis\">\u003Cem>CA renewal\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>CRL publisher\u003C/em>\u003C/span> roles. Therefore, the term \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>server\u003C/em>\u003C/span>\u003C/strong>\u003C/span> and \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>replica\u003C/em>\u003C/span>\u003C/strong>\u003C/span> are used interchangeably in RHEL IdM documentation, depending on the context.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tHowever, different IdM servers can provide different services for the client, if so configured. Core components like Kerberos and LDAP are available on every server. Other services like CA, DNS, Trust Controller or Vault are optional. This means that different IdM servers can have distinct roles in the deployment.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf your IdM topology contains an integrated CA, one server has the role of the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/generating-crl-on-the-idm-ca-server_managing-certificates-in-idm\">Certificate revocation list (CRL) publisher server\u003C/a> and one server has the role of the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/ipa-ca-renewal_managing-certificates-in-idm\">CA renewal server\u003C/a>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, the first CA server installed fulfills these two roles, but you can assign these roles to separate servers.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>CA renewal server\u003C/em>\u003C/span> is critical for your IdM deployment because it is the only system in the domain responsible for tracking CA subsystem \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm\">certificates and keys\u003C/a>. For details about how to recover from a disaster affecting your IdM deployment, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/index\">Performing disaster recovery with Identity Management\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NOTE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAll IdM servers (for clients, see \u003Ca class=\"link\" href=\"#supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control\" title=\"1.4. Supported versions of RHEL for installing IdM clients\">Supported versions of RHEL for installing IdM clients\u003C/a>) must be running on the same major and minor version of RHEL. Do not spend more than several days applying z-stream updates or upgrading the IdM servers in your topology. For details about how to apply Z-stream fixes and upgrade your servers, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_identity_management/index#updating_idm_packages\">Updating IdM packages\u003C/a>. For details about how to migrate to IdM on RHEL 9, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/migrating_to_identity_management_on_rhel_9/index#assembly_migrating-your-idm-environment-from-rhel-8-servers-to-rhel-9-servers_migrating-to-idm-on-rhel-9\">Migrating your IdM environment from RHEL 8 servers to RHEL 9 servers\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.4. Supported versions of RHEL for installing IdM clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAn Identity Management deployment in which IdM servers are running on the latest minor version of Red Hat Enterprise Linux 9 supports clients that are running on the latest minor versions of:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRHEL 7\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRHEL 8\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRHEL 9\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NOTE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tWhile other client systems, for example Ubuntu, can work with IdM 9 servers, Red Hat does not provide support for these clients.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"identity-management-and-access-control-in-rhel-central-versus-local_overview-of-idm-and-access-control\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.5. IdM and access control in RHEL: Central vs. local\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn Red Hat Enterprise Linux, you can manage identities and access control policies using centralized tools for a whole domain of systems, or using local tools for a single system.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Managing identities and policies on multiple Red Hat Enterprise Linux servers\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tWith Identity Management IdM, the IT administrator can:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMaintain the identities and grouping mechanisms in one central place: the IdM server\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCentrally manage different types of credentials such as passwords, PKI certificates, OTP tokens, or SSH keys\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tApply policies uniformly to multiples of machines at the same time\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tManage POSIX and other attributes for external Active Directory users\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet different access levels for users by using host-based access control, delegation, and other rules\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCentrally manage privilege escalation rules (sudo) and mandatory access control (SELinux user mapping)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMaintain central PKI infrastructure and secrets store\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDefine how home directories are mounted\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWithout IdM:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach server is administered separately\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAll passwords are saved on the local machines\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IT administrator manages users on every machine, sets authentication and authorization policies separately, and maintains local passwords\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"IdM_terminology_overview-of-idm-and-access-control\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.6. IdM terminology\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Active Directory forest\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAn Active Directory (AD) forest is a set of one or more domain trees which share a common global catalog, directory schema, logical structure, and directory configuration. The forest represents the security boundary within which users, computers, groups, and other objects are accessible. For more information, see the Microsoft document on \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/windows/win32/ad/forests\">Forests\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Active Directory global catalog\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe global catalog is a feature of Active Directory (AD) that allows a domain controller to provide information about any object in the forest, regardless of whether the object is a member of the domain controller’s domain. Domain controllers with the global catalog feature enabled are referred to as global catalog servers. The global catalog provides a searchable catalog of all objects in every domain in a multi-domain Active Directory Domain Services (AD DS).\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Active Directory security identifier\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA security identifier (SID) is a unique ID number assigned to an object in Active Directory, such as a user, group, or host. It is the functional equivalent of UIDs and GIDs in Linux.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Ansible play\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAnsible plays are the building blocks of \u003Ca class=\"link\" href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html#playbooks-intro\">Ansible playbooks\u003C/a>. The goal of a play is to map a group of hosts to some well-defined roles, represented by Ansible tasks.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Ansible playbook\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAn Ansible playbook is a file that contains one or more Ansible plays. For more information, see the \u003Ca class=\"link\" href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html#about-playbooks\">official Ansible documentation about playbooks\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Ansible task\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAnsible tasks are units of action in Ansible. An Ansible play can contain multiple tasks. The goal of each task is to execute a module, with very specific arguments. An Ansible task is a set of instructions to achieve a state defined, in its broad terms, by a specific Ansible role or module, and fine-tuned by the variables of that role or module. For more information, see the \u003Ca class=\"link\" href=\"https://docs.ansible.com/ansible/latest/user_guide/basic_concepts.html#tasks\">official Ansible tasks documentation\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\" id=\"Apache-web-server_overview-of-idm-and-access-control\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Apache web server\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe Apache HTTP Server, colloquially called Apache, is a free and open source cross-platform web server application, released under the terms of Apache License 2.0. Apache played a key role in the initial growth of the World Wide Web, and is currently the leading HTTP server. Its process name is \u003Ccode class=\"literal\">httpd\u003C/code>, which is short for \u003Cspan class=\"emphasis\">\u003Cem>HTTP daemon\u003C/em>\u003C/span>. Red Hat Identity Management (IdM) uses the Apache Web Server to display the IdM Web UI, and to coordinate communication between components, such as the Directory Server and the Certificate Authority.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Certificate\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA certificate is an electronic document used to identify an individual, a server, a company, or other entity and to associate that identity with a public key. Such as a driver’s license or passport, a certificate provides generally recognized proof of a person’s identity. Public-key cryptography uses certificates to address the problem of impersonation.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Certificate Authorities (CAs) in IdM\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAn entity that issues digital certificates. In Red Hat Identity Management, the primary CA is \u003Ccode class=\"literal\">ipa\u003C/code>, the IdM CA. The \u003Ccode class=\"literal\">ipa\u003C/code> CA certificate is one of the following types:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSelf-signed. In this case, the \u003Ccode class=\"literal\">ipa\u003C/code> CA is the root CA.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tExternally signed. In this case, the \u003Ccode class=\"literal\">ipa\u003C/code> CA is subordinated to the external CA.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn IdM, you can also create multiple \u003Cspan class=\"strong strong\">\u003Cstrong>sub-CAs\u003C/strong>\u003C/span>. Sub-CAs are IdM CAs whose certificates are one of the following types:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSigned by the \u003Ccode class=\"literal\">ipa\u003C/code> CA.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSigned by any of the intermediate CAs between itself and \u003Ccode class=\"literal\">ipa\u003C/code> CA. The certificate of a sub-CA cannot be self-signed.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSee also \u003Ca class=\"link\" href=\"#planning-your-ca-services_planning-identity-management\" title=\"Chapter 5. Planning your CA services\">Planning your CA services\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Cross-forest trust\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA trust establishes an access relationship between two Kerberos realms, allowing users and services in one domain to access resources in another domain.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWith a cross-forest trust between an Active Directory (AD) forest root domain and an IdM domain, users from the AD forest domains can interact with Linux machines and services from the IdM domain. From the perspective of AD, Identity Management represents a separate AD forest with a single AD domain. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/how-the-trust-works_installing-trust-between-idm-and-ad\">How the trust works\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Directory Server\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA Directory Server centralizes user identity and application information. It provides an operating system-independent, network-based registry for storing application settings, user profiles, group data, policies, and access control information. Each resource on the network is considered an object by the Directory Server. Information about a particular resource is stored as a collection of attributes associated with that resource or object. Red Hat Directory Server conforms to LDAP standards.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">DNS PTR records\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tDNS pointer (PTR) records resolve an IP address of a host to a domain or host name. PTR records are the opposite of DNS A and AAAA records, which resolve host names to IP addresses. DNS PTR records enable reverse DNS lookups. PTR records are stored on the DNS server.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">DNS SRV records\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA DNS service (SRV) record defines the hostname, port number, transport protocol, priority and weight of a service available in a domain. You can use SRV records to locate IdM servers and replicas.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Domain Controller (DC)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA domain controller (DC) is a host that responds to security authentication requests within a domain and controls access to resources in that domain. IdM servers work as DCs for the IdM domain. A DC authenticates users, stores user account information and enforces security policy for a domain. When a user logs into a domain, the DC authenticates and validates their credentials and either allows or denies access.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Fully qualified domain name\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA fully qualified domain name (FQDN) is a domain name that specifies the exact location of a host within the hierarchy of the Domain Name System (DNS). A device with the hostname \u003Ccode class=\"literal\">myhost\u003C/code> in the parent domain \u003Ccode class=\"literal\">example.com\u003C/code> has the FQDN \u003Ccode class=\"literal\">myhost.example.com\u003C/code>. The FQDN uniquely distinguishes the device from any other hosts called \u003Ccode class=\"literal\">myhost\u003C/code> in other domains.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you are installing an IdM client on host \u003Ccode class=\"literal\">machine1\u003C/code> using DNS autodiscovery and your DNS records are correctly configured, the FQDN of \u003Ccode class=\"literal\">machine1\u003C/code> is all you need. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#host-name-and-dns-requirements-for-ipa_preparing-the-system-for-ipa-server-installation\">Host name and DNS requirements for IdM\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">GSSAPI\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Generic Security Service Application Program Interface (GSSAPI, or GSS-API) allows developers to abstract how their applications protect data that is sent to peer applications. Security-service vendors can provide GSSAPI implementations of common procedure calls as libraries with their security software. These libraries present a GSSAPI-compatible interface to application writers who can write their application to use only the vendor-independent GSSAPI. With this flexibility, developers do not have to tailor their security implementations to any particular platform, security mechanism, type of protection, or transport protocol.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tKerberos is the dominant GSSAPI mechanism implementation, which allows Red Hat Enterprise Linux and Microsoft Windows Active Directory Kerberos implementations to be API compatible.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Hidden replica\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA hidden replica is an IdM replica that has all services running and available, but its server roles are disabled, and clients cannot discover the replica because it has no SRV records in DNS.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tHidden replicas are primarily designed for services such as backups, bulk importing and exporting, or actions that require shutting down IdM services. Since no clients use a hidden replica, administrators can temporarily shut down the services on this host without affecting any clients. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#the-hidden-replica-mode_planning-the-replica-topology\">The hidden replica mode\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">HTTP server\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSee \u003Ca class=\"link\" href=\"#Web-server_overview-of-idm-and-access-control\">Web server\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">ID mapping\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSSD can use the SID of an AD user to algorithmically generate POSIX IDs in a process called \u003Cspan class=\"emphasis\">\u003Cem>ID mapping\u003C/em>\u003C/span>. ID mapping creates a map between SIDs in AD and IDs on Linux.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tWhen SSSD detects a new AD domain, it assigns a range of available IDs to the new domain. Therefore, each AD domain has the same ID range on every SSSD client machine.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tWhen an AD user logs in to an SSSD client machine for the first time, SSSD creates an entry for the user in the SSSD cache, including a UID based on the user’s SID and the ID range for that domain.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tBecause the IDs for an AD user are generated in a consistent way from the same SID, the user has the same UID and GID when logging in to any Red Hat Enterprise Linux system.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">ID ranges\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAn ID range is a range of ID numbers assigned to the IdM topology or a specific replica. You can use ID ranges to specify the valid range of UIDs and GIDs for new users, hosts and groups. ID ranges are used to avoid ID number conflicts. There are two distinct types of ID ranges in IdM:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>IdM ID range\u003C/em>\u003C/span>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUse this ID range to define the UIDs and GIDs for users and groups in the whole IdM topology. Installing the first IdM server creates the IdM ID range. You cannot modify the IdM ID range after creating it. However, you can create an additional IdM ID range, for example when the original one nears depletion.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Distributed Numeric Assignment (DNA) ID range\u003C/em>\u003C/span>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUse this ID range to define the UIDs and GIDs a replica uses when creating new users. Adding a new user or host entry to an IdM replica for the first time assigns a DNA ID range to that replica. An administrator can modify the DNA ID range, but the new definition must fit within an existing IdM ID range.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tNote that the IdM range and the DNA range match, but they are not interconnected. If you change one range, ensure you change the other to match.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/adjusting-id-ranges-manually_managing-users-groups-hosts#id-ranges_adjusting-id-ranges-manually\">ID ranges\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">ID views\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tID views enable you to specify new values for POSIX user or group attributes, and to define on which client host or hosts the new values will apply. For example, you can use ID views to:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDefine different attribute values for different environments.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tReplace a previously generated attribute value with a different value.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn an IdM-AD trust setup, the \u003Ccode class=\"literal\">Default Trust View\u003C/code> is an ID view applied to AD users and groups. Using the \u003Ccode class=\"literal\">Default Trust View\u003C/code>, you can define custom POSIX attributes for AD users and groups, therefore overriding the values defined in AD.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/using-an-id-view-to-override-a-user-attribute-value-on-an-idm-client_managing-users-groups-hosts\">Using an ID view to override a user attribute value on an IdM client\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM CA server\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAn IdM server on which the IdM certificate authority (CA) service is installed and running.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAlternative names: \u003Cspan class=\"strong strong\">\u003Cstrong>CA server\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM deployment\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA term that refers to the entirety of your IdM installation. You can describe your IdM deployment by answering the following questions:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIs your IdM deployment a testing deployment or production deployment?\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tHow many IdM servers do you have?\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tDoes your IdM deployment contain \u003Ca class=\"link\" href=\"#planning-your-ca-services_planning-identity-management\" title=\"Chapter 5. Planning your CA services\">an integrated CA\u003C/a>?\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIf it does, is the integrated CA self-signed or externally signed?\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIf it does, on which servers is the \u003Ca class=\"link\" href=\"#guidelines-for-the-distribution-of-ca-services_planning-your-ca-services\" title=\"5.2. Guidelines for distribution of CA services\">CA role\u003C/a> available? On which servers is the KRA role available?\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tDoes your IdM deployment contain \u003Ca class=\"link\" href=\"#planning-your-dns-services-and-host-names-planning-identity-management\" title=\"Chapter 4. Planning your DNS services and host names\">an integrated DNS\u003C/a>?\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIf it does, on which servers is the DNS role available?\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIs your IdM deployment in a trust agreement with an \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/windows/win32/ad/forests\">AD forest\u003C/a>?\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIf it is, on which servers is the \u003Ca class=\"link\" href=\"#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\" title=\"7.2. Trust controllers and trust agents\">AD trust controller or AD trust agent\u003C/a> role available?\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM server and replicas\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo install the first server in an IdM deployment, you must use the \u003Ccode class=\"literal\">ipa-server-install\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdministrators can then use the \u003Ccode class=\"literal\">ipa-replica-install\u003C/code> command to install \u003Cspan class=\"strong strong\">\u003Cstrong>replicas\u003C/strong>\u003C/span> in addition to the first server that was installed. By default, installing a replica creates a \u003Ca class=\"link\" href=\"#replication-agreements-between-idm-replicas_planning-the-replica-topology\" title=\"3.3. Replication agreements between IdM replicas\">replication agreement\u003C/a> with the IdM server from which it was created, enabling receiving and sending updates to the rest of IdM.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThere is no functional difference between the first server that was installed and a replica. Both are fully functional read/write \u003Ca class=\"link\" href=\"#introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control\" title=\"1.3. Introduction to IdM servers and clients\">IdM servers\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDeprecated names: \u003Cspan class=\"strong strong\">\u003Cstrong>master server\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM CA renewal server\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf your IdM topology contains an integrated certificate authority (CA), one server has the unique role of the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/ipa-ca-renewal_managing-certificates-in-idm\">CA renewal server\u003C/a>. This server maintains and renews IdM system certificates.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy default, the first CA server you install fulfills this role, but you can configure any CA server to be the CA renewal server. In a deployment without integrated CA, there is no CA renewal server.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDeprecated names: \u003Cspan class=\"strong strong\">\u003Cstrong>master CA\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM CRL publisher server\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf your IdM topology contains an integrated certificate authority (CA), one server has the unique role of the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/generating-crl-on-the-idm-ca-server_managing-certificates-in-idm\">Certificate revocation list (CRL) publisher server\u003C/a>. This server is responsible for maintaining the CRL.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy default, the server that fulfills the \u003Cspan class=\"strong strong\">\u003Cstrong>CA renewal server\u003C/strong>\u003C/span> role also fulfills this role, but you can configure any CA server to be the CRL publisher server. In a deployment without integrated CA, there is no CRL publisher server.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM topology\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA term that refers to the \u003Ca class=\"link\" href=\"#planning-the-replica-topology-replica-topology-example-1-fin\" title=\"Figure 3.2. Replica topology with four data centers, each with four servers that are connected with replication agreements\">structure of your IdM solution\u003C/a>, especially the replication agreements between and within individual data centers and clusters.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos authentication indicators\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAuthentication indicators are attached to Kerberos tickets and represent the initial authentication method used to acquire a ticket:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">otp\u003C/code> for two-factor authentication (password + One-Time Password)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">radius\u003C/code> for Remote Authentication Dial-In User Service (RADIUS) authentication (commonly for 802.1x authentication)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">pkinit\u003C/code> for Public Key Cryptography for Initial Authentication in Kerberos (PKINIT), smart card, or certificate authentication\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">hardened\u003C/code> for passwords hardened against brute-force attempts\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts#kerberos-authentication-indicators_managing-kerberos-ticket-policies\">Kerberos authentication indicators\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos keytab\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhile a password is the default authentication method for a user, keytabs are the default authentication method for hosts and services. A Kerberos keytab is a file that contains a list of Kerberos principals and their associated encryption keys, so a service can retrieve its own Kerberos key and verify a user’s identity.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, every IdM client has an \u003Ccode class=\"literal\">/etc/krb5.keytab\u003C/code> file that stores information about the \u003Ccode class=\"literal\">host\u003C/code> principal, which represents the client machine in the Kerberos realm.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos principal\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUnique Kerberos principals identify each user, service, and host in a Kerberos realm:\n\t\t\t\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 15%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 40%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 45%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188409507600\" scope=\"col\">Entity\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188409506512\" scope=\"col\">Naming convention\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188409505424\" scope=\"col\">Example\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409507600\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tUsers\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409506512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">identifier@REALM\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409505424\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">admin@EXAMPLE.COM\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409507600\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tServices\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409506512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">service/fully-qualified-hostname@REALM\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409505424\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">http/server.example.com@EXAMPLE.COM\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409507600\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tHosts\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409506512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">host/fully-qualified-hostname@REALM\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188409505424\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">host/client.example.com@EXAMPLE.COM\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos protocol\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tKerberos is a network authentication protocol that provides strong authentication for client and server applications by using secret-key cryptography. IdM and Active Directory use Kerberos for authenticating users, hosts and services.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos realm\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA Kerberos realm encompasses all the principals managed by a Kerberos Key Distribution Center (KDC). In an IdM deployment, the Kerberos realm includes all IdM users, hosts, and services.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos ticket policies\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Kerberos Key Distribution Center (KDC) enforces ticket access control through connection policies, and manages the duration of Kerberos tickets through ticket lifecycle policies. For example, the default global ticket lifetime is one day, and the default global maximum renewal age is one week.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts#idm-kerberos-ticket-policy-types_managing-kerberos-ticket-policies\">IdM Kerberos ticket policy types\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Key Distribution Center (KDC)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Kerberos Key Distribution Center (KDC) is a service that acts as the central, trusted authority that manages Kerberos credential information. The KDC issues Kerberos tickets and ensures the authenticity of data originating from entities within the IdM network.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts#role-of-idm-kdc_managing-kerberos-ticket-policies\">The role of the IdM KDC\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">LDAP\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe Lightweight Directory Access Protocol (LDAP) is an open, vendor-neutral, application protocol for accessing and maintaining distributed directory information services over a network. Part of this specification is a directory information tree (DIT), which represents data in a hierarchical tree-like structure consisting of the Distinguished Names (DNs) of directory service entries. LDAP is a \"lightweight\" version of the Directory Access Protocol (DAP) described by the ISO X.500 standard for directory services in a network.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Lightweight sub-CA\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn IdM, a lightweight sub-CA is a certificate authority (CA) whose certificate is signed by an IdM root CA or one of the CAs that are subordinate to it. A lightweight sub-CA issues certificates only for a specific purpose, for example to secure a VPN or HTTP connection.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/restricting-an-application-to-trust-only-a-subset-of-certificates_managing-certificates-in-idm\">Restricting an application to trust only a subset of certificates\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Password policy\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA password policy is a set of conditions that the passwords of a particular IdM user group must meet. The conditions can include the following parameters:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe length of the password\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe number of character classes used\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe maximum lifetime of a password.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/defining-idm-password-policies_using-ansible-to-install-and-manage-identity-management#what-is-a-password-policy_defining-idm-password-policies\">What is a password policy\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">POSIX attributes\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPOSIX attributes are user attributes for maintaining compatibility between operating systems.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn a Red Hat Identity Management environment, POSIX attributes for users include:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">cn\u003C/code>, the user’s name\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uid\u003C/code>, the account name (login)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code>, a user number (UID)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code>, the primary group number (GID)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">homeDirectory\u003C/code>, the user’s home directory\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn a Red Hat Identity Management environment, POSIX attributes for groups include:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">cn\u003C/code>, the group’s name\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code>, the group number (GID)\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThese attributes identify users and groups as separate entities.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Replication agreement\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA replication agreement is an agreement between two IdM servers in the same IdM deployment. The replication agreement ensures that the data and configuration is continuously replicated between the two servers.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM uses two types of replication agreements: \u003Cspan class=\"emphasis\">\u003Cem>domain replication\u003C/em>\u003C/span> agreements, which replicate identity information, and \u003Cspan class=\"emphasis\">\u003Cem>certificate replication\u003C/em>\u003C/span> agreements, which replicate certificate information.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#replication-agreements-between-idm-replicas_planning-the-replica-topology\">Replication agreements\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology\">Determining the appropriate number of replicas\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology\">Connecting the replicas in a topology\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#replica-topology-examples_planning-the-replica-topology\">Replica topology examples\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Smart card\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA smart card is a removable device or card used to control access to a resource. They can be plastic credit card-sized cards with an embedded integrated circuit (IC) chip, small USB devices such as a Yubikey, or other similar devices. Smart cards can provide authentication by allowing users to connect a smart card to a host computer, and software on that host computer interacts with key material stored on the smart card to authenticate the user.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">SSSD\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe System Security Services Daemon (SSSD) is a system service that manages user authentication and user authorization on a RHEL host. SSSD optionally keeps a cache of user identities and credentials retrieved from remote providers for offline authentication. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_authentication_and_authorization_in_rhel/understanding-sssd-and-its-benefits_configuring-authentication-and-authorization-in-rhel\">Understanding SSSD and its benefits\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">SSSD backend\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAn SSSD backend, often also called a data provider, is an SSSD child process that manages and creates the SSSD cache. This process communicates with an LDAP server, performs different lookup queries and stores the results in the cache. It also performs online authentication against LDAP or Kerberos and applies access and password policy to the user that is logging in.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Ticket-granting ticket (TGT)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter authenticating to a Kerberos Key Distribution Center (KDC), a user receives a ticket-granting ticket (TGT), which is a temporary set of credentials that can be used to request access tickets to other services, such as websites and email.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsing a TGT to request further access provides the user with a Single Sign-On experience, as the user only needs to authenticate once to access multiple services. TGTs are renewable, and Kerberos ticket policies determine ticket renewal limits and access control.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/managing-kerberos-ticket-policies_managing-users-groups-hosts\">Managing Kerberos ticket policies\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\" id=\"Web-server_overview-of-idm-and-access-control\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Web server\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA web server is computer software and underlying hardware that accepts requests for web content, such as pages, images, or applications. A user agent, such as a web browser, requests a specific resource using HTTP, the network protocol used to distribute web content, or its secure variant HTTPS. The web server responds with the content of that resource or an error message. The web server can also accept and store resources sent from the user agent. Red Hat Identity Management (IdM) uses the Apache Web Server to display the IdM Web UI, and to coordinate communication between components, such as the Directory Server and the Certificate Authority (CA). See \u003Ca class=\"link\" href=\"#Apache-web-server_overview-of-idm-and-access-control\">Apache web server\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Additional Glossaries\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tIf you are unable to find an Identity Management term in this glossary, see the Directory Server and Certificate System glossaries:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/configuration_command_and_file_reference/glossary\">Directory Server 11 Glossary\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_certificate_system/9/html/planning_installation_and_deployment_guide/glossary\">Certificate System 9 Glossary\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"failover-load-balancing-high-availability_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Failover, load-balancing, and high-availability in IdM\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tIdentity Management (IdM) has built-in failover mechanisms for IdM clients, and load-balancing and high-availability features for IdM servers.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"client_side_failover_capability\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.1. Client-side failover capability\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">SSSD\u003C/code> service on an IdM client is configured to use service (SRV) resource records from DNS to automatically determine the best IdM server to connect to. This behavior is controlled by the \u003Ccode class=\"literal\">_srv_\u003C/code> option in the \u003Ccode class=\"literal\">ipa_server\u003C/code> parameter of the \u003Ccode class=\"literal filename\">/etc/sssd/sssd.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@client ~]# cat /etc/sssd/sssd.conf\n\n[domain/example.com]\nid_provider = ipa\nipa_server = \u003Cspan class=\"strong strong\">\u003Cstrong>_srv_\u003C/strong>\u003C/span>, server.example.com\n...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf an IdM server goes offline, the SSSD service on the IdM client connects to another IdM server it has automatically discovered.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you prefer to bypass DNS lookups for performance reasons, remove the \u003Ccode class=\"literal\">_srv_\u003C/code> entry from the \u003Ccode class=\"literal\">ipa_server\u003C/code> parameter and specify which IdM servers the client should connect to, in order of preference:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@client ~]# cat /etc/sssd/sssd.conf\n\n[domain/example.com]\nid_provider = ipa\nipa_server = \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>server1.example.com, server2.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"server_side_load_balancing_and_service_availability\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.2. Server-side load-balancing and service availability\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can achieve load-balancing and high-availability in IdM by installing multiple IdM replicas:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf you have a geographically dispersed network, you can shorten the path between IdM clients and the nearest accessible server by configuring multiple IdM replicas per data center.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRed Hat supports environments with up to 60 replicas.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM replication mechanism provides active/active service availability: services at all IdM replicas are readily available at the same time.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRed Hat recommends against combining IdM and other load-balancing or high-availability (HA) software.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tMany third-party high availability solutions assume active/passive scenarios and cause unnecessary service interruption to IdM availability. Other solutions use virtual IPs or a single hostname per clustered service. All these methods do not typically work well with the type of service availability provided by the IdM solution. They also integrate very poorly with Kerberos, decreasing the overall security and stability of the deployment.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"planning-the-replica-topology_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. Planning the replica topology\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tReview guidance on determining the appropriate replica topology for your use case.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"multiple-replica-servers-as-a-solution-for-high-performance-and-disaster-recovery_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.1. Multiple replica servers as a solution for high performance and disaster recovery\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can achieve continuous functionality and high-availability of Identity Management (IdM) services by creating replicas of the existing IdM servers.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen you create an appropriate number of IdM replicas, you can use load balancing to distribute client requests across multiple servers to optimize performance of IdM services. With IdM, you can place additional servers in geographically dispersed data centers to reflect your enterprise organizational structure. In this way, the path between IdM clients and the nearest accessible server is shortened. In addition, having multiple servers allows spreading the load and scaling for more clients.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tReplicating IdM servers is also a common backup mechanism to mitigate or prevent server loss. For example, if one server fails, the remaining servers continue providing services to the domain. You can also recover the lost server by creating a new replica based on one of the remaining servers.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"introduction-to-ipa-servers-and-clients_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.2. Introduction to IdM servers and clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe Identity Management (IdM) domain includes the following types of systems:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">IdM clients\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM clients are Red Hat Enterprise Linux systems enrolled with the servers and configured to use the IdM services on these servers.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClients interact with the IdM servers to access services provided by them. For example, clients use the Kerberos protocol to perform authentication and acquire tickets for enterprise single sign-on (SSO), use LDAP to get identity and policy information, and use DNS to detect where the servers and services are located and how to connect to them.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM servers\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM servers are Red Hat Enterprise Linux systems that respond to identity, authentication, and authorization requests from IdM clients within an IdM domain. IdM servers are the central repositories for identity and policy information. They can also host any of the optional services used by domain members:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm#certificate_authorities_in_idm\">Certificate authority\u003C/a> (CA): This service is present in most IdM deployments.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tKey Recovery Authority (KRA)\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tActive Directory (AD) trust controller\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tActive Directory (AD) trust agent\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM servers are also embedded IdM clients. As clients enrolled with themselves, the servers provide the same functionality as other clients.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tTo provide services for large numbers of clients, as well as for redundancy and availability, IdM allows deployment on multiple IdM servers in a single domain. It is possible to deploy up to 60 servers. This is the maximum number of IdM servers, also called replicas, that is currently supported in the IdM domain.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen creating a replica, IdM clones the configuration of the existing server. A replica shares with the initial server its core configuration, including internal information about users, systems, certificates, and configured policies.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NOTE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tA replica and the server it was created from are functionally identical, except for the \u003Cspan class=\"emphasis\">\u003Cem>CA renewal\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>CRL publisher\u003C/em>\u003C/span> roles. Therefore, the term \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>server\u003C/em>\u003C/span>\u003C/strong>\u003C/span> and \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>replica\u003C/em>\u003C/span>\u003C/strong>\u003C/span> are used interchangeably in RHEL IdM documentation, depending on the context.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tHowever, different IdM servers can provide different services for the client, if so configured. Core components like Kerberos and LDAP are available on every server. Other services like CA, DNS, Trust Controller or Vault are optional. This means that different IdM servers can have distinct roles in the deployment.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf your IdM topology contains an integrated CA, one server has the role of the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/generating-crl-on-the-idm-ca-server_managing-certificates-in-idm\">Certificate revocation list (CRL) publisher server\u003C/a> and one server has the role of the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/ipa-ca-renewal_managing-certificates-in-idm\">CA renewal server\u003C/a>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, the first CA server installed fulfills these two roles, but you can assign these roles to separate servers.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>CA renewal server\u003C/em>\u003C/span> is critical for your IdM deployment because it is the only system in the domain responsible for tracking CA subsystem \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/cert-intro_managing-certificates-in-idm\">certificates and keys\u003C/a>. For details about how to recover from a disaster affecting your IdM deployment, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/index\">Performing disaster recovery with Identity Management\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NOTE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAll IdM servers (for clients, see \u003Ca class=\"link\" href=\"#supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control\" title=\"1.4. Supported versions of RHEL for installing IdM clients\">Supported versions of RHEL for installing IdM clients\u003C/a>) must be running on the same major and minor version of RHEL. Do not spend more than several days applying z-stream updates or upgrading the IdM servers in your topology. For details about how to apply Z-stream fixes and upgrade your servers, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_identity_management/index#updating_idm_packages\">Updating IdM packages\u003C/a>. For details about how to migrate to IdM on RHEL 9, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/migrating_to_identity_management_on_rhel_9/index#assembly_migrating-your-idm-environment-from-rhel-8-servers-to-rhel-9-servers_migrating-to-idm-on-rhel-9\">Migrating your IdM environment from RHEL 8 servers to RHEL 9 servers\u003C/a>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"replication-agreements-between-idm-replicas_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.3. Replication agreements between IdM replicas\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWhen an administrator creates a replica based on an existing server, Identity Management (IdM) creates a \u003Cspan class=\"emphasis\">\u003Cem>replication agreement\u003C/em>\u003C/span> between the initial server and the replica. The replication agreement ensures that the data and configuration is continuously replicated between the two servers.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIdM uses \u003Cspan class=\"emphasis\">\u003Cem>multiple read/write replica replication\u003C/em>\u003C/span>. In this configuration, all replicas joined in a replication agreement receive and provide updates, and are therefore considered suppliers and consumers. Replication agreements are always bilateral.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140188409330544\">\u003Cp class=\"title\">\u003Cstrong>Figure 3.1. Server and replica agreements\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/d06b1dd2052f1e330862ea59ba3cf9db/64_RHEL_IdM_0120_2.1.png\" alt=\"An image of two servers with two sets of replication agreements between them: a data replication agreement that pertains to their Directory Server database and a certificate replication agreement that pertains to their Certificate System data\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIdM uses two types of replication agreements:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Domain replication agreements\u003C/strong>\u003C/span> replicate the identity information.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Certificate replication agreements\u003C/strong>\u003C/span> replicate the certificate information.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tBoth replication channels are independent. Two servers can have one or both types of replication agreements configured between them. For example, when server A and server B have only domain replication agreement configured, only identity information is replicated between them, not the certificate information.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.4. Guidelines for determining the appropriate number of IdM replicas in a topology\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tPlan IdM topology to match your organization’s requirements and ensure optimal performance and service availability.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Set up at least two replicas in each data center\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tDeploy at least two replicas in each data center to ensure that if one server fails, the replica can take over and handle requests.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Set up a sufficient number of servers to serve your clients\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tOne Identity Management (IdM) server can provide services to 2000 - 3000 clients. This assumes the clients query the servers multiple times a day, but not, for example, every minute. If you expect frequent queries, plan for more servers.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Set up a sufficient number of Certificate Authority (CA) replicas\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tOnly replicas with the CA role installed can replicate certificate data. If you use the IdM CA, ensure your environment has at least two CA replicas with certificate replication agreements between them.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Set up a maximum of 60 replicas in a single IdM domain\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tRed Hat supports environments with up to 60 replicas.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.5. Guidelines for connecting IdM replicas in a topology\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"variablelist _abstract\">\u003Cdl class=\"variablelist _abstract\">\u003Cdt>\u003Cspan class=\"term\">Connect each replica to at least two other replicas\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis ensures that information is replicated not just between the initial replica and the first server you installed, but between other replicas as well.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Connect a replica to a maximum of four other replicas (not a hard requirement)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tA large number of replication agreements per server does not add significant benefits. A receiving replica can only be updated by one other replica at a time and meanwhile, the other replication agreements are idle. More than four replication agreements per replica typically means a waste of resources.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThis recommendation applies to both certificate replication and domain replication agreements.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThere are two exceptions to the limit of four replication agreements per replica:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tYou want failover paths if certain replicas are not online or responding.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIn larger deployments, you want additional direct links between specific nodes.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConfiguring a high number of replication agreements can have a negative impact on overall performance: when multiple replication agreements in the topology are sending updates, certain replicas can experience a high contention on the changelog database file between incoming updates and the outgoing updates.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you decide to use more replication agreements per replica, ensure that you do not experience replication issues and latency. However, note that large distances and high numbers of intermediate nodes can also cause latency problems.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Connect the replicas in a data center with each other\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis ensures domain replication within the data center.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Connect each data center to at least two other data centers\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis ensures domain replication between data centers.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Connect data centers using at least a pair of replication agreements\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIf data centers A and B have a replication agreement from A1 to B1, having a replication agreement from A2 to B2 ensures that if one of the servers is down, the replication can continue between the two data centers.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"replica-topology-examples_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.6. Replica topology examples\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create a reliable replica topology by using one of the following examples.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"planning-the-replica-topology-replica-topology-example-1-fin\">\u003Cp class=\"title\">\u003Cstrong>Figure 3.2. Replica topology with four data centers, each with four servers that are connected with replication agreements\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/4b12a5f781694bfb5d3112c150572e15/replica-topology-example-1.png\" alt=\"A diagram showing 4 data centers - Geo 1 through 4. Each data center has four servers connected to each other with replication agreements. There are also replication agreements connecting two servers from Geo 1 to two servers in Geo 2. This pattern continues with two servers in Geo 2 connected to two servers in Geo 3 and two servers in Geo 3 connected to Geo 4. This connects each data center so each server is at most 3 hops away from another Geo.\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\u003Cbr/> \u003Cbr/>\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"planning-the-replica-topology-replica-topology-example-2-fin\">\u003Cp class=\"title\">\u003Cstrong>Figure 3.3. Replica topology with three data centers, each with a different number of servers that are all interconnected through replication agreements\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/2acffc53edabca15d44d9d0ec65a1098/replica-topology-example-2.png\" alt=\"A diagram showing 3 data centers: Geo 1 has 5 servers each connected to the other - Geo 2 has two servers connected to each other - Geo 3 has 3 servers connected in a triangle. There are 2 connections from each Geo connecting two of its servers to 2 servers in the next Geo.\"/>\u003C/div>\u003C/div>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"the-hidden-replica-mode_planning-the-replica-topology\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.7. The hidden replica mode\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tA \u003Cspan class=\"strong strong\">\u003Cstrong>hidden replica\u003C/strong>\u003C/span> is an IdM server that has all services running and available. However, a hidden replica has no SRV records in DNS, and LDAP server roles are not enabled. Therefore, clients cannot use service discovery to detect hidden replicas.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, when you set up a replica, the installation program automatically creates service (SRV) resource records for it in DNS. These records enable clients to auto-discover the replica and its services. When installing a replica as hidden, add the \u003Ccode class=\"literal\">--hidden-replica\u003C/code> parameter to the \u003Ccode class=\"literal\">ipa-replica-install\u003C/code> command.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tHidden replicas are primarily designed for dedicated services that might disrupt clients. For example, a full backup of IdM requires shutting down all IdM services on the server. As no clients use a hidden replica, administrators can temporarily shut down the services on this host without affecting any clients.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOther use cases include high-load operations on the IdM API or the LDAP server, such as a mass import or extensive queries.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBefore backing up a hidden replica, you must install all required server roles used in a cluster, especially the Certificate Authority role if the integrated CA is used. Therefore, restoring a backup from a hidden replica on a new host always results in a regular replica.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-replica_installing-identity-management\">Installing an Identity Management replica\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#backing-up-and-restoring-idm_planning-identity-management\" title=\"Chapter 8. Backing up and restoring IdM\">Backing up and restoring IdM\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_replication_in_identity_management/demoting-or-promoting-hidden-replicas_managing-replication-in-idm\">Demoting or promoting hidden replicas\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"planning-your-dns-services-and-host-names-planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 4. Planning your DNS services and host names\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tIdentity Management (IdM) provides different types of DNS configurations in the IdM server. The following sections describe them and provide advice on how to determine which is the best for your use case.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"dns-services-available-in-an-ipa-server_planning-dns\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.1. DNS services available in an IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can install an Identity Management (IdM) server with or without integrated DNS.\n\t\t\t\u003C/p>\u003Crh-table id=\"planning-dns-comparing-ipa-with-integrated-dns-and-without-integrated-dns\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 4.1. Comparing IdM with integrated DNS and without integrated DNS\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 13%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 38%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188409416656\" scope=\"col\"> \u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188409415728\" scope=\"col\">With integrated DNS\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188409414640\" scope=\"col\">Without integrated DNS\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409416656\"> \u003Cp>\n\t\t\t\t\t\t\t\tOverview:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409415728\"> \u003Cp>\n\t\t\t\t\t\t\t\tIdM runs its own DNS service for the IdM domain.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409414640\"> \u003Cp>\n\t\t\t\t\t\t\t\tIdM uses DNS services provided by an external DNS server.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409416656\"> \u003Cp>\n\t\t\t\t\t\t\t\tLimitations:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409415728\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe integrated DNS server provided by IdM only supports features related to IdM deployment and maintenance. It does not support some of the advanced features of a general-purpose DNS server. Specific limitations are as follows:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIdM DNS nameserver must be authoritative for its zones.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe supported record types are A, AAAA, A6, AFSDB, CERT, CNAME, DLV, DNAME, DS, KX, LOC, MX, NAPTR, NS, PTR, SRV, SSHFP, TLSA, TXT, and URI.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tSplit DNS, also known as split-view, split-horizon, split-brain DNS, is not supported.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThere are known issues if the DNS nameserver restarts in a multi-core environment. For example, if log rotation causes a nameserver to restart, the nameserver might crash. If you must use a multi-core setup, allow \u003Ccode class=\"literal\">systemd\u003C/code> to restart the nameserver after a failure occurs.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409414640\"> \u003Cp>\n\t\t\t\t\t\t\t\tDNS is not integrated with native IdM tools. For example, IdM does not update the DNS records automatically after a change in the topology.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409416656\"> \u003Cp>\n\t\t\t\t\t\t\t\tWorks best for:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409415728\"> \u003Cp>\n\t\t\t\t\t\t\t\tBasic usage within the IdM deployment.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tWhen the IdM server manages DNS, DNS is tightly integrated with native IdM tools, which enables automating some of the DNS record management tasks.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188409414640\"> \u003Cp>\n\t\t\t\t\t\t\t\tEnvironments where advanced DNS features beyond the scope of the IdM DNS are needed.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tEnvironments with a well-established DNS infrastructure where you want to keep using an external DNS server.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp>\n\t\t\t\tEven if an Identity Management server is used as a primary DNS server, other external DNS servers can still be used as secondary servers. For example, if your environment is already using another DNS server, such as a DNS server integrated with Active Directory (AD), you can delegate only the IdM primary domain to the DNS integrated with IdM. It is not necessary to migrate DNS zones to the IdM DNS.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you need to issue certificates for IdM clients with an IP address in the Subject Alternative Name (SAN) extension, you must use the IdM integrated DNS service.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-planning-the-dns-domain-name-and-kerberos-realm-name_planning-dns\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.2. Guidelines for planning the DNS domain name and Kerberos realm name\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWhen installing the first Identity Management (IdM) server, the installation prompts for a primary DNS name of the IdM domain and Kerberos realm name. These guidelines can help you set the names correctly.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou will not be able to change the IdM primary domain name and Kerberos realm name after the server is already installed. Do not expect to be able to move from a testing environment to a production environment by changing the names, for example from \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>lab.example.com\u003C/em>\u003C/span>\u003C/code> to \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>production.example.com\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">A separate DNS domain for service records\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tEnsure that the \u003Cspan class=\"emphasis\">\u003Cem>primary DNS domain\u003C/em>\u003C/span> used for IdM is not shared with any other system. This helps avoid conflicts on the DNS level.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Proper DNS domain name delegation\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tEnsure you have valid delegation in the public DNS tree for the DNS domain. Do not use a domain name that is not delegated to you, not even on a private network.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Multi-label DNS domain\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tDo not use single-label domain names, for example \u003Ccode class=\"literal\">.company\u003C/code>. The IdM domain must be composed of one or more subdomains and a top level domain, for example \u003Ccode class=\"literal\">example.com\u003C/code> or \u003Ccode class=\"literal\">company.example.com\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">A unique Kerberos realm name\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tEnsure the realm name is not in conflict with any other existing Kerberos realm name, such as a name used by Active Directory (AD).\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos realm name as an upper-case version of the primary DNS name\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConsider setting the realm name to an upper-case (\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>EXAMPLE.COM\u003C/em>\u003C/span>\u003C/code>) version of the primary DNS domain name (\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>\u003C/code>).\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tIf you do not set the Kerberos realm name to be the upper-case version of the primary DNS name, you will not be able to use AD trusts.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/dd>\u003C/dl>\u003C/div>\u003Ch5 id=\"additional_notes_on_planning_the_dns_domain_name_and_kerberos_realm_name\">Additional notes on planning the DNS domain name and Kerberos realm name\u003C/h5>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOne IdM deployment always represents one Kerberos realm.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can join IdM clients from multiple distinct DNS domains (\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>\u003C/code>, \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.net\u003C/em>\u003C/span>\u003C/code>, \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.org\u003C/em>\u003C/span>\u003C/code>) to a single Kerberos realm (\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>EXAMPLE.COM\u003C/em>\u003C/span>\u003C/code>).\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIdM clients do not need to be in the primary DNS domain. For example, if the IdM domain is \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code>, the clients can be in the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>clients.example.com\u003C/em>\u003C/span>\u003C/code> domain, but clear mapping must be configured between the DNS domain and the Kerberos realm.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe standard method to create the mapping is using the \u003Cspan class=\"strong strong\">\u003Cstrong>_kerberos\u003C/strong>\u003C/span> TXT DNS records. The IdM integrated DNS adds these records automatically.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Ch5 id=\"planning_dns_forwarding\">Planning DNS forwarding\u003C/h5>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf you want to use only one forwarder for your entire IdM deployment, configure a \u003Cspan class=\"strong strong\">\u003Cstrong>global forwarder\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf your company is spread over multiple sites in geographically distant regions, global forwarders might be impractical. Configure \u003Cspan class=\"strong strong\">\u003Cstrong>per-server forwarders\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf your company has an internal DNS network that is not resolvable from the public internet, configure a \u003Cspan class=\"strong strong\">\u003Cstrong>forward zone\u003C/strong>\u003C/span> and \u003Cspan class=\"strong strong\">\u003Cstrong>zone forwarders\u003C/strong>\u003C/span> so that the hosts in the IdM domain can resolve hosts from this other internal DNS network.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"planning-your-ca-services_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 5. Planning your CA services\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tIdentity Management (IdM) in Red Hat Enterprise Linux provides different types of certificate authority (CA) configurations. The following sections describe different scenarios and provide advice to help you determine which configuration is best for your use case.\n\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">CA subject DN\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tThe Certificate Authority (CA) subject distinguished name (DN) is the name of the CA. It must be globally unique in the Identity Management (IdM) CA infrastructure and cannot be changed after the installation. In case you need the IdM CA to be externally signed, you might need to consult the administrator of the external CA about the form your IdM CA Subject DN should take.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Csection class=\"section\" id=\"ca-services-available-in-an-ipa-server_planning-your-ca-services\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.1. CA Services available in an IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can install an Identity Management (IdM) server with an integrated IdM certificate authority (CA) or without a CA.\n\t\t\t\u003C/p>\u003Crh-table id=\"planning-your-ca-services-comparing-ipa-with-integrated-ca-and-without-a-ca\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 5.1. Comparing IdM with integrated CA and without a CA\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 40%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 40%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188401452336\" scope=\"col\"> \u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188401451408\" scope=\"col\">Integrated CA\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188401450304\" scope=\"col\">Without a CA\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401452336\"> \u003Cp>\n\t\t\t\t\t\t\t\tOverview:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401451408\"> \u003Cp>\n\t\t\t\t\t\t\t\tIdM uses its own public key infrastructure (PKI) service with a \u003Cspan class=\"emphasis\">\u003Cem>CA signing certificate\u003C/em>\u003C/span> to create and sign the certificates in the IdM domain.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIf the root CA is the integrated CA, IdM uses a self-signed CA certificate.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIf the root CA is an external CA, the integrated IdM CA is subordinate to the external CA. The CA certificate used by IdM is signed by the external CA, but all certificates for the IdM domain are issued by the integrated Certificate System instance.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIntegrated CA is also able to issue certificates for users, hosts, or services.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tThe external CA can be a corporate CA or a third-party CA.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401450304\"> \u003Cp>\n\t\t\t\t\t\t\t\tIdM does not set up its own CA, but uses signed host certificates from an external CA.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tInstalling a server without a CA requires you to request the following certificates from a third-party authority:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAn LDAP server certificate\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAn Apache server certificate\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tA PKINIT certificate\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tFull CA certificate chain of the CA that issued the LDAP and Apache server certificates\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401452336\"> \u003Cp>\n\t\t\t\t\t\t\t\tLimitations:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401451408\"> \u003Cp>\n\t\t\t\t\t\t\t\tIf the integrated CA is subordinate to an external CA, the certificates issued within the IdM domain are potentially subject to restrictions set by the external CA for various certificate attributes, such as:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe validity period.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tConstraints on what subject names can appear on certificates issued by the IDM CA or its subordinates..\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tConstraints on whether the IDM CA can itself, issue subordinate CA certificates, or how \"deep\" the chain of subordinate certificates can go.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401450304\"> \u003Cp>\n\t\t\t\t\t\t\t\tManaging certificates outside of IdM causes many additional activities, such as :\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tCreating, uploading, and renewing certificates is a manual process.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">certmonger\u003C/code> service does not track the IPA certificates (LDAP server, Apache server, and PKINIT certificates) and does not notify you when the certificates are about to expire. The administrators must manually set up notifications for externally issued certificates, or set tracking requests for those certificates if they want \u003Ccode class=\"literal\">certmonger\u003C/code> to track them.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401452336\"> \u003Cp>\n\t\t\t\t\t\t\t\tWorks best for:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401451408\"> \u003Cp>\n\t\t\t\t\t\t\t\tEnvironments that allow you to create and use your own certificate infrastructure.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401450304\"> \u003Cp>\n\t\t\t\t\t\t\t\tVery rare cases when restrictions within the infrastructure do not allow you to install certificate services integrated with the server.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tSwitching from the self-signed CA to an externally-signed CA, or the other way around, as well as changing which external CA issues the IdM CA certificate, is possible even after the installation. It is also possible to configure an integrated CA even after an installation without a CA. For more details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-server-without-a-ca_installing-identity-management\">Installing an IdM server: With integrated DNS, without a CA\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_certificates_in_idm/understanding-what-certificates-are-used-by-idm_managing-certificates-in-idm\">Understanding the certificates used internally by IdM\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-the-distribution-of-ca-services_planning-your-ca-services\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.2. Guidelines for distribution of CA services\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following steps provide guidelines for the distribution of your certificate authority (CA) services.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the CA services on more than one server in the topology.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplicas configured without a CA forward all certificate operation requests to the CA servers in your topology.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you lose all servers with a CA, you lose all the CA configuration without any chance of recovery. In this case you must configure a new CA and issue and install new certificates.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMaintain a sufficient number of CA servers to handle the CA requests in your deployment.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tSee the following table for further recommendations on appropriate number of CA servers:\n\t\t\t\u003C/p>\u003Crh-table id=\"guidelines-for-the-appropriate-number-of-ca-servers_planning-your-ca-services\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 5.2. Guidelines for setting up appropriate number of CA servers\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188403111168\" scope=\"col\">Description of the deployment\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188403671824\" scope=\"col\">Suggested number of CA servers\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188403111168\"> \u003Cp>\n\t\t\t\t\t\t\t\tA deployment with a very large number of certificates issued\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188403671824\"> \u003Cp>\n\t\t\t\t\t\t\t\tThree or four CA servers\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188403111168\"> \u003Cp>\n\t\t\t\t\t\t\t\tA deployment with bandwidth or availability problems between multiple regions\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188403671824\"> \u003Cp>\n\t\t\t\t\t\t\t\tOne CA server per region, with a minimum of three servers total for the deployment\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188403111168\"> \u003Cp>\n\t\t\t\t\t\t\t\tAll other deployments\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188403671824\"> \u003Cp>\n\t\t\t\t\t\t\t\tTwo CA servers\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tFour CA servers in the topology are usually enough if the number of concurrent certificate requests is not high. The replication processes between more than four CA servers can increase processor usage and lead to performance degradation.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"random-serial-numbers-in-idm_planning-your-ca-services\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.3. Random serial numbers in IdM\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAs of RHEL 9.1, Identity Management (IdM) includes \u003Ccode class=\"literal\">dogtagpki 11.2.0\u003C/code>, which allows you to use Random Serial Numbers version 3 (RSNv3). The \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> \u003Ccode class=\"literal\">ipaserver\u003C/code> role includes the \u003Ccode class=\"literal\">ipaserver_random_serial_numbers\u003C/code> variable with the RHEL 9.3 update.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWith RSNv3 enabled, IdM generates fully random serial numbers for certificates and requests in PKI without range management. RSNv3 also prevents collisions in case you reinstall IdM. The size of each certificate serial number is up to 40-digit decimal values as RSNv3 uses a 128-bit random value for the serial number. This makes the number effectively random.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tPreviously, the Dogtag upstream project used range-based serial numbers in order to ensure uniqueness across multiple clones. However, based on this experience, the Dogtag team determined that range-based serial numbers would not fit well into cloud environments with short-lived certificates.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tRSNv3 is supported only for new IdM CA installations. By default, you install the first IdM CA when you install the primary IdM server by using the \u003Ccode class=\"literal\">ipa-server-install\u003C/code> command. However, if you originally installed your IdM environment without a CA, you can add the CA service later by using the \u003Ccode class=\"literal\">ipa-ca-install\u003C/code> command. To enable RSNv3, use the \u003Ccode class=\"literal\">ipa-server-install\u003C/code> or \u003Ccode class=\"literal\">ipa-ca-install\u003C/code> command with the \u003Ccode class=\"literal\">--random-serial-numbers\u003C/code> option.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf enabled, it is required to use RSNv3 on all public-key infrastructure (PKI) services in the deployment, including the CA and Key Recovery Authority (KRA). A check is performed when KRA is installed to automatically enable RSNv3 if it is enabled on the underlying CA.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://freeipa.readthedocs.io/en/latest/designs/random-serial-numbers.html\">Random Serial Numbers v3 (RSNv3)\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"planning-integration-with-ad_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 6. Planning integration with AD\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThe following sections introduce the options for integrating Red Hat Enterprise Linux with Active Directory (AD).\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"direct-integration-of-linux-systems-into-active-directory_planning-integration-with-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.1. Direct integration of Linux systems into Active Directory\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn direct integration, Linux systems are connected directly to Active Directory (AD). The following types of integration are possible:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Integration with the System Security Services Daemon (SSSD)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSSD can connect a Linux system with various identity and authentication stores: AD, Identity Management (IdM), or a generic LDAP or Kerberos server.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNotable requirements for integration with SSSD:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tWhen integrating with AD, SSSD works only within a single AD forest by default. For multi-forest setup, configure manual domain enumeration.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRemote AD forests must trust the local forest to ensure that the \u003Ccode class=\"literal\">idmap_ad\u003C/code> plug-in handles remote forest users correctly.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSSD supports both direct and indirect integration. It also enables switching from one integration approach to the other without significant migration costs.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Integration with Samba Winbind\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Winbind component of the Samba suite emulates a Windows client on a Linux system and communicates with AD servers.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNotable requirements for integration with Samba Winbind:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDirect integration with Winbind in a multi-forest AD setup requires bidirectional trusts.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tA bidirectional path from the local domain of a Linux system must exist to the domain of a user in a remote AD forest to allow full information about the user from the remote AD domain to be available to the \u003Ccode class=\"literal\">idmap_ad\u003C/code> plug-in.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Ch5 id=\"recommendations\">Recommendations\u003C/h5>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSSSD satisfies most of the use cases for AD integration and provides a robust solution as a generic gateway between a client system and different types of identity and authentication providers - AD, IdM, Kerberos, and LDAP.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWinbind is recommended for deployment on those AD domain member servers on which you plan to deploy Samba FS.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"indirect-integration-of-linux-systems-into-active-directory-by-using-identity-management_planning-integration-with-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.2. Indirect integration of Linux systems into Active Directory by using Identity Management\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn indirect integration, Linux systems are first connected to a central server which is then connected to Active Directory (AD). Indirect integration enables the administrator to manage Linux systems and policies centrally, while users from AD can transparently access Linux systems and services.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Integration based on cross-forest trust with AD\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Identity Management (IdM) server acts as the central server to control Linux systems. A cross-realm Kerberos trust with AD is established, enabling users from AD to log on to access Linux systems and resources. IdM presents itself to AD as a separate forest and takes advantage of the forest-level trusts supported by AD.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhen using a trust:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAD users can access IdM resources.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIdM servers and clients can resolve the identities of AD users and groups.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAD users and groups access IdM under the conditions defined by IdM, such as host-based access control.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAD users and groups continue being managed on the AD side.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Integration based on synchronization\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis approach is based on the WinSync tool. A WinSync replication agreement synchronizes user accounts from AD to IdM.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tWinSync is no longer actively developed in Red Hat Enterprise Linux 8. The preferred solution for indirect integration is cross-forest trust.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe limitations of integration based on synchronization include:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tGroups are not synchronized from IdM to AD.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUsers are duplicated in AD and IdM.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tWinSync supports only a single AD domain.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tOnly one domain controller in AD can be used to synchronize data to one instance of IdM.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUser passwords must be synchronized, which requires the PassSync component to be installed on all domain controllers in the AD domain.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAfter configuring the synchronization, all AD users must manually change passwords before PassSync can synchronize them.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-deciding-between-direct-and-indirect-integration_planning-integration-with-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.3. Guidelines for deciding between direct and indirect integration\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThese guidelines can help you decide which type of integration fits your use case.\n\t\t\t\u003C/p>\u003Ch5 id=\"number_of_systems_to_be_connected_to_active_directory\">Number of systems to be connected to Active Directory\u003C/h5>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Connecting less than 30-50 systems (not a hard limit)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIf you connect less than 30-50 systems, consider direct integration. Indirect integration might introduce unnecessary overhead.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Connecting more than 30-50 systems (not a hard limit)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIf you connect more than 30-50 systems, consider indirect integration with Identity Management. With this approach, you can benefit from the centralized management for Linux systems.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Managing a small number of Linux systems, but expecting the number to grow rapidly\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIn this scenario, consider indirect integration to avoid having to migrate the environment later.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Ch5 id=\"frequency_of_deploying_new_systems_and_their_type\">Frequency of deploying new systems and their type\u003C/h5>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Deploying bare metal systems on an irregular basis\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIf you deploy new systems rarely and they are usually bare metal systems, consider direct integration. In such cases, direct integration is usually simplest and easiest.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Deploying virtual systems frequently\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIf you deploy new systems often and they are usually virtual systems provisioned on demand, consider indirect integration. With indirect integration, you can use a central server to manage the new systems dynamically and integrate with orchestration tools, such as Red Hat Satellite.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Ch5 id=\"active_directory_is_the_required_authentication_provider\">Active Directory is the required authentication provider\u003C/h5>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Do your internal policies state that all users must authenticate against Active Directory?\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tYou can choose either direct or indirect integration. If you use indirect integration with a trust between Identity Management and Active Directory, the users that access Linux systems authenticate against Active Directory. Policies that exist in Active Directory are executed and enforced during authentication.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 7. Planning a cross-forest trust between IdM and AD\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tActive Directory (AD) and Identity Management (IdM) are two alternative environments managing a variety of core services, such as Kerberos, LDAP, DNS, and certificate services. A \u003Cspan class=\"emphasis\">\u003Cem>cross-forest trust\u003C/em>\u003C/span> relationship transparently integrates these two diverse environments by enabling all core services to interact seamlessly. The following sections provide advice on how to plan and design a cross-forest trust deployment.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"cross-forest-and-external-trusts-between-idm-and-ad_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.1. Cross-forest and external trusts between IdM and AD\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Ch5 id=\"a_cross_forest_trust_between_idm_and_ad\">A cross-forest trust between IdM and AD\u003C/h5>\u003Cp>\n\t\t\t\tIn a pure Active Directory (AD) environment, a cross-forest trust connects two separate AD forest root domains. When you create a cross-forest trust between AD and IdM, the IdM domain presents itself to AD as a separate forest with a single domain. A trust relationship is then established between the AD forest root domain and the IdM domain. As a result, users from the AD forest can access the resources in the IdM domain.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIdM can establish a trust with one AD forest or multiple unrelated forests.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tTwo separate Kerberos realms can be connected in a \u003Cspan class=\"emphasis\">\u003Cem>cross-realm trust\u003C/em>\u003C/span>. However, a Kerberos realm only concerns authentication, not other services and protocols involved in identity and authorization operations. Therefore, establishing a Kerberos cross-realm trust is not enough to enable users from one realm to access resources in another realm.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Ch5 id=\"an_external_trust_to_an_ad_domain\">An external trust to an AD domain\u003C/h5>\u003Cp>\n\t\t\t\tAn external trust is a trust relationship between IdM and an Active Directory domain. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, an external trust can be established from IdM to any domain within a forest.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.2. Trust controllers and trust agents\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIdentity Management (IdM) provides the following types of IdM servers that support trust to Active Directory (AD):\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Trust controllers\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIdM servers that can perform identity lookups against AD domain controllers. They also run the Samba suite so they can establish trust with AD. AD domain controllers contact trust controllers when establishing and verifying the trust to AD. AD-enrolled machines communicate with IdM trust controllers for Kerberos authentication requests.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe first trust controller is created when you configure the trust. If you have multiple domain controllers across different geographic locations, use the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> command to designate RHEL IdM servers as trust controllers in these locations.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTrust controllers run more network-facing services than trust agents, and thus present a greater attack surface for potential intruders.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Trust agents\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tIdM servers that can resolve identity lookups from RHEL IdM clients against AD domain controllers. Unlike trust controllers, trust agents cannot process Kerberos authentication requests.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tIn addition to trust agents and controllers, the IdM domain can also include standard IdM servers. However, these servers do not communicate with AD. Therefore, clients that communicate with these standard servers cannot resolve AD users and groups or authenticate and authorize AD users.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>An IdM server is not configured to operate a Trust Controller or Trust Agent role unless either of the following actions were done:\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou installed the server or replica with the \u003Ccode class=\"literal\">ipa-server-install\u003C/code> or \u003Ccode class=\"literal\">ipa-replica-install\u003C/code> commands with the \u003Ccode class=\"literal\">--setup-ad\u003C/code> option.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou ran the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> command on the IdM server to configure the Trust Controller role.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou ran the \u003Ccode class=\"literal\">ipa-adtrust-install --add-agents\u003C/code> command on a Trust Controller to designate another IdM replica to be a Trust Agent.\u003Cbr/> By default, IdM servers cannot resolve users and groups from trusted domains without these operations.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/div>\u003C/rh-alert>\u003Crh-table id=\"idm140188401407072\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.1. Comparing the capabilities supported by trust controllers and trust agents\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 64%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 18%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 18%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188401401360\" scope=\"col\">Capability\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188401400272\" scope=\"col\">Trust agent\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188401399184\" scope=\"col\">Trust controller\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401401360\"> \u003Cp>\n\t\t\t\t\t\t\t\tResolve AD users and groups\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401400272\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401399184\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401401360\"> \u003Cp>\n\t\t\t\t\t\t\t\tEnroll IdM clients that run services accessible by users from trusted AD forests\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401400272\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401399184\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401401360\"> \u003Cp>\n\t\t\t\t\t\t\t\tAdd, modify, or remove trust agreements\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401400272\"> \u003Cp>\n\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401399184\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401401360\"> \u003Cp>\n\t\t\t\t\t\t\t\tAssign the trust agent role to an IdM server\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401400272\"> \u003Cp>\n\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188401399184\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp>\n\t\t\t\tWhen planning the deployment of trust controllers and trust agents, consider these guidelines:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConfigure at least two trust controllers per IdM deployment.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConfigure at least two trust controllers in each data center.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIf you ever want to create additional trust controllers or if an existing trust controller fails, create a new trust controller by promoting a trust agent or a standard server. To do this, use the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> utility on the IdM server.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou cannot downgrade an existing trust controller to a trust agent.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.3. One-way trusts and two-way trusts\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIn one way trusts, Identity Management (IdM) trusts Active Directory (AD) but AD does not trust IdM. AD users can access resources in the IdM domain but users from IdM cannot access resources within the AD domain. The IdM server connects to AD using a special account, and reads identity information that is then delivered to IdM clients over LDAP.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn two way trusts, IdM users can authenticate to AD, and AD users can authenticate to IdM. AD users can authenticate to and access resources in the IdM domain as in the one way trust case. IdM users can authenticate but cannot access most of the resources in AD. They can only access those Kerberized services in AD forests that do not require any access control check.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo be able to grant access to the AD resources, IdM needs to implement the Global Catalog service. This service does not yet exist in the current version of the IdM server. Because of that, a two-way trust between IdM and AD is nearly functionally equivalent to a one-way trust between IdM and AD.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.4. Ensuring support for common encryption types in AD and RHEL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, Identity Management establishes a cross-realm trust with support for RC4, AES-128, and AES-256 Kerberos encryption types. Additionally, by default SSSD and Samba Winbind support RC4, AES-128, and AES-256 Kerberos encryption types.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRC4 encryption has been deprecated and disabled by default, as it is considered less secure than the newer AES-128 and AES-256 encryption types. In contrast, Active Directory (AD) user credentials and trusts between AD domains support RC4 encryption and they might not support all AES encryption types.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWithout any common encryption types, communication between RHEL hosts and AD domains might not work, or some AD accounts might not be able to authenticate. To address this situation, perform one of the configurations outlined in the following sections.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf IdM is in FIPS mode, the IdM-AD integration does not work due to AD only supporting the use of RC4 or AES HMAC-SHA1 encryptions, while RHEL 9 in FIPS mode allows only AES HMAC-SHA2 by default. For more information, see the \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/7003853\">AD Domain Users unable to login in to the FIPS-compliant environment\u003C/a> KCS solution.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIdM does not support the more restrictive \u003Ccode class=\"literal\">FIPS:OSPP\u003C/code> crypto policy, which should only be used on Common Criteria evaluated systems.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tEstablishing a two-way cross-forest trust between AD and Identity Management IdM with FIPS mode enabled fails because the New Technology LAN Manager Security Support Provider (NTLMSSP) authentication is not FIPS-compliant. IdM in FIPS mode does not accept the RC4 NTLM hash that the AD domain controller uses when attempting to authenticate.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">7.4.1. Enabling AES encryption in AD (recommended)\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo ensure trusts between Active Directory (AD) domains in an AD forest support strong AES encryption types, see the following Microsoft article: \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/troubleshoot/windows-server/windows-security/unsupported-etype-error-accessing-trusted-domain\">AD DS: Security: Kerberos \"Unsupported etype\" error when accessing a resource in a trusted domain\u003C/a>\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">7.4.2. Enabling the AES encryption type in Active Directory using a GPO\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThis section describes how to enable the AES encryption type in Active Directory (AD) using a group policy object (GPO). Certain features on RHEL, such as running a Samba server on an IdM client, require this encryption type.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tNote that RHEL no longer supports the weak DES and RC4 encryption types.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are logged into AD as a user who can edit group policies.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal application\">Group Policy Management Console\u003C/code> is installed on the computer.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOpen the \u003Ccode class=\"literal application\">Group Policy Management Console\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRight-click \u003Ccode class=\"literal gui\">Default Domain Policy\u003C/code>, and select \u003Ccode class=\"literal gui\">Edit\u003C/code>. The \u003Ccode class=\"literal application\">Group Policy Management Editor\u003C/code> opens.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNavigate to \u003Ccode class=\"literal gui\">Computer Configuration\u003C/code> → \u003Ccode class=\"literal gui\">Policies\u003C/code> → \u003Ccode class=\"literal gui\">Windows Settings\u003C/code> → \u003Ccode class=\"literal gui\">Security Settings\u003C/code> → \u003Ccode class=\"literal gui\">Local Policies\u003C/code> → \u003Ccode class=\"literal gui\">Security Options\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tDouble-click the \u003Ccode class=\"literal gui\">Network security: Configure encryption types allowed for Kerberos\u003C/code> policy.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSelect \u003Ccode class=\"literal gui\">AES256_HMAC_SHA1\u003C/code> and, optionally, \u003Ccode class=\"literal gui\">Future encryption types\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">OK\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClose the \u003Ccode class=\"literal application\">Group Policy Management Editor\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRepeat the steps for the \u003Ccode class=\"literal gui\">Default Domain Controller Policy\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWait until the Windows domain controllers (DC) applied the group policy automatically. Alternatively, to apply the GPO manually on a DC, enter the following command using an account that has administrator permissions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">C:\\&gt; \u003Cspan class=\"strong strong\">\u003Cstrong>gpupdate /force /target:computer\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">7.4.3. Enabling RC4 support in RHEL\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tOn every RHEL host where authentication against AD Domain Controllers takes place, complete the steps outlined below.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">update-crypto-policies\u003C/code> command to enable the \u003Ccode class=\"literal\">AD-SUPPORT-LEGACY\u003C/code> cryptographic subpolicy in addition to the \u003Ccode class=\"literal\">DEFAULT\u003C/code> cryptographic policy.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@host ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>update-crypto-policies --set LEGACY:AD-SUPPORT-LEGACY\u003C/strong>\u003C/span>\nSetting system policy to LEGACY:AD-SUPPORT-LEGACY\nNote: System-wide crypto policies are applied on application start-up.\nIt is recommended to restart the system for the change of policies\nto fully take place.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRestart the host.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">7.4.4. Additional resources\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening\">Using system-wide cryptographic policies\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\">Trust controllers and trust agents\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"con_kerberos-fast-for-trusted-domains_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.5. Kerberos FAST for trusted domains\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tKerberos Flexible Authentication Secure Tunneling (FAST) is also called Kerberos armoring in an Active Directory (AD) environment. Kerberos FAST provides an additional security layer for the Kerberos communication between the clients and the Key Distribution Center (KDC). In IdM, the KDCs are running on the IdM servers and FAST is enabled by default. The Two-Factor Authentication (2FA) in IdM also requires enabling FAST.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn AD, Kerberos armoring is disabled by default on the AD Domain Controllers (DC). You can enable it on the Domain Controller on the \u003Ccode class=\"literal\">Tools&gt;Group Policy Management&gt;Default Domain Controller Policy\u003C/code>:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRight-click \u003Ccode class=\"literal\">Default Domain Controller Policy\u003C/code> and select \u003Ccode class=\"literal\">edit\u003C/code>. Navigate to \u003Ccode class=\"literal\">Computer Configuration&gt;Policies&gt;Administrative Templates&gt;System&gt;KDC\u003C/code> and double-click \u003Ccode class=\"literal\">KDC support for claims, compound authentication, and Kerberos armoring\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tOnce you enable KDC support for claims, the policy setting allows the following options:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\"Not supported\"\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\"Supported\"\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\"Always provide claims\"\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\"Fail unarmored authentication requests\"\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tKerberos FAST is implemented in the Kerberos client libraries on IdM clients. You can configure IdM clients either to use FAST for all trusted domains which advertise FAST or to not use Kerberos FAST at all. If you enable Kerberos armoring in the trusted AD forest the IdM client uses Kerberos FAST by default. FAST establishes a secure tunneling with the help of a cryptographic key. To protect the connection to the domain controllers of a trusted domain, Kerberos FAST must get a cross-realm Ticket Granting Ticket (TGT) from the trusted domain because those keys are valid only inside the Kerberos realm. Kerberos FAST uses the Kerberos hosts keys of the IdM client to request the cross-realm TGT with the help of the IdM servers. That only works when the AD forest trusts the IdM domain which means a two-way trust is required.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf AD policies require the enforcing of Kerberos FAST use, you need to establish a two-way trust between IdM domain and AD forest. You must plan this before the connection is established because both IdM and AD must have records about direction and the type of trust.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you already established a one-way trust, run the \u003Ccode class=\"literal command\">ipa trust-add …​ --two-way=true\u003C/code> command to remove the existing trust agreement and create a two-way trust. This requires use of administrative credentials. As IdM attempts to remove the existing trust agreement from the AD side, it requires administrator permissions for AD access. If you establish the original trust by using a shared secret rather than an AD administrative account, it recreates the trust as a two-way and changes trusted domain objects on the IdM side only. Windows administrators must repeat the same procedure by using Windows UI to choose a bi-directional trust and use the same shared secret to recreate the trust.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf using a two-way trust is not possible, you must disable Kerberos FAST on all IdM clients. The users from the trusted AD forest can authenticate with a password or direct smart card. To disable Kerberos FAST, add the following setting to the \u003Ccode class=\"literal\">sssd.conf\u003C/code> file in the \u003Ccode class=\"literal\">[domain]\u003C/code> section:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">krb5_use_fast = never\u003C/pre>\u003Cp>\n\t\t\t\tNote, you do not need to use this option when the authentication is based on ssh-keys, GSSAPI authentication or SSH with smart cards from remote Windows clients. These methods do not use Kerberos FAST because the IdM client does not have to communicate with a DC. Additionally, after disabling FAST on the IdM client, the two-factor authentication IdM feature is also unavailable.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.6. POSIX and ID mapping ID range types for AD users\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIdentity Management (IdM) enforces access control rules based on the POSIX User ID (UID) and Group ID (GID) of a user. Active Directory (AD) users, however, are identified by Security Identifiers (SIDs). AD administrators can configure AD to store POSIX attributes for your AD users and groups, such as \u003Ccode class=\"literal\">uidNumber\u003C/code>, \u003Ccode class=\"literal\">gidNumber\u003C/code>, \u003Ccode class=\"literal\">unixHomeDirectory\u003C/code>, or \u003Ccode class=\"literal\">loginShell\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can configure a cross-forest trust to reference this information by establishing a trust with the \u003Ccode class=\"literal\">ipa-ad-trust-posix\u003C/code> ID range:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[server ~]# ipa trust-add --type=ad ad.example.com --admin administrator --password  --range-type=\u003Cspan class=\"strong strong\">\u003Cstrong>ipa-ad-trust-posix\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\tIf you do not store POSIX attributes in AD, the System Security Services Daemon (SSSD) can consistently map a unique UID based on a user’s SID in a process called \u003Cspan class=\"strong strong\">\u003Cstrong>ID mapping\u003C/strong>\u003C/span>. You can explicitly choose this behavior by creating a trust with the \u003Ccode class=\"literal\">ipa-ad-trust\u003C/code> ID range:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[server ~]# ipa trust-add --type=ad ad.example.com --admin administrator --password  --range-type=\u003Cspan class=\"strong strong\">\u003Cstrong>ipa-ad-trust\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you do not specify an ID Range type when creating a trust, IdM attempts to automatically select the appropriate range type by requesting details from AD domain controllers in the forest root domain. If IdM does not detect any POSIX attributes, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain\u003C/code> ID range.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain with POSIX attributes\u003C/code> ID range and assumes that UIDs and GIDs are correctly defined in AD. If POSIX attributes are not correctly set in AD, you will not be able to resolve AD users.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad\">Options for automatically mapping private groups for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.7. Options for automatically mapping private groups for AD users: POSIX trusts\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tEach user in a Linux environment has a primary user group. Red Hat Enterprise Linux (RHEL) uses a user private group (UPG) scheme: a UPG has the same name as the user for which it was created and that user is the only member of the UPG.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you have allocated UIDs for your AD users, but GIDs were not added, you can configure SSSD to automatically map private groups for users based on their UID by adjusting the auto_private_groups setting for that ID range.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, the auto_private_groups option is set to false for \u003Ccode class=\"literal\">ipa-ad-trust-posix\u003C/code> ID ranges used in a POSIX trust. With this configuration, SSSD retrieves the \u003Ccode class=\"literal\">uidNumber\u003C/code> and \u003Ccode class=\"literal\">gidNumber\u003C/code> from each AD user entry.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">auto_private_groups = false\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSSD assigns the \u003Ccode class=\"literal\">uidNumber\u003C/code> value to the user’s UID, the \u003Ccode class=\"literal\">gidNumber\u003C/code> to the user’s GID. A group with that GID must exist in AD, or you will not be able to resolve that user. The following table demonstrates whether you will be able to resolve AD users, depending on different AD configurations.\n\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140188405660864\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.2. SSSD behavior when the auto_private_groups variable is set to false for a POSIX ID range\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188405655072\" scope=\"col\">User configuration in AD\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188405653968\" scope=\"col\">Output of \u003Ccode class=\"literal\">id username\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188405655072\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> is not defined\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo group in AD with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188405653968\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tSSSD cannot resolve the user.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188405655072\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo group in AD with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188405653968\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tSSSD cannot resolve the user.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188405655072\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD has a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188405653968\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=4000(\u003Ca class=\"link\" href=\"mailto:adgroup@ad-domain.com\">adgroup@ad-domain.com\u003C/a>) groups=4000(\u003Ca class=\"link\" href=\"mailto:adgroup@ad-domain.com\">adgroup@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tIf an AD user does not have a primary group configured in AD, or its \u003Ccode class=\"literal\">gidNumber\u003C/code> does not correspond to an existing group, the IdM server is unable to resolve that user correctly because it cannot look up all the groups the user belongs to. To work around this issue, you can enable automatic private group mapping in SSSD by setting the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> option to \u003Ccode class=\"literal\">true\u003C/code> or \u003Ccode class=\"literal\">hybrid\u003C/code>:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">auto_private_groups = true\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSSD always maps a private group with the \u003Ccode class=\"literal\">gidNumber\u003C/code> set to match the \u003Ccode class=\"literal\">uidNumber\u003C/code> from the AD user entry.\n\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140188400039168\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.3. SSSD behavior when the auto_private_groups variable is set to true for a POSIX ID range\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188400034272\" scope=\"col\">User configuration in AD\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188400033168\" scope=\"col\">Output of \u003Ccode class=\"literal\">id username\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400034272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> is not defined\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD does not have a group with GID=4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400033168\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400034272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD does not have a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400033168\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400034272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD does not have a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400033168\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400034272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry has:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD has a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188400033168\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">auto_private_groups = hybrid\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">uidNumber\u003C/code> value matches \u003Ccode class=\"literal\">gidNumber\u003C/code>, but there is no group with this \u003Ccode class=\"literal\">gidNumber\u003C/code>, SSSD maps a private group as the user’s primary user group with a \u003Ccode class=\"literal\">gidNumber\u003C/code> that matches the \u003Ccode class=\"literal\">uidNumber\u003C/code>. If the \u003Ccode class=\"literal\">uidNumber\u003C/code> and \u003Ccode class=\"literal\">gidNumber\u003C/code> values differ, and there is a group with this \u003Ccode class=\"literal\">gidNumber\u003C/code>, SSSD uses the value from \u003Ccode class=\"literal\">gidNumber\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140188402439088\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.4. SSSD behavior when the auto_private_groups variable is set to hybrid for a POSIX ID range\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188402433296\" scope=\"col\">User configuration in AD\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188402432192\" scope=\"col\">Output of \u003Ccode class=\"literal\">id username\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402433296\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry with:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> is not defined\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD does not have a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402432192\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tSSSD cannot resolve the user.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402433296\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry with:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD does not have a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402432192\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tSSSD cannot resolve the user.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402433296\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry with:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD does not have a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 4000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402432192\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402433296\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry with:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code> = 4000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAD has a group with \u003Ccode class=\"literal\">gidNumber\u003C/code> = 5000.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188402432192\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=4000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=5000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=5000(\u003Ca class=\"link\" href=\"mailto:adgroup@ad-domain.com\">adgroup@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad\">POSIX and ID mapping ID range types for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad\">Enabling automatic private group mapping for a POSIX ID range on the CLI\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad\">Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.8. Options for automatically mapping private groups for AD users: ID mapping trusts\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tEach user in a Linux environment has a primary user group. Red Hat Enterprise Linux (RHEL) uses a user private group (UPG) scheme: a UPG has the same name as the user for which it was created and that user is the only member of the UPG.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you have allocated UIDs for your AD users, but GIDs were not added, you can configure SSSD to automatically map private groups for users based on their UID by adjusting the auto_private_groups setting for that ID range.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tBy default, the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> option is set to \u003Ccode class=\"literal\">true\u003C/code> for \u003Ccode class=\"literal\">ipa-ad-trust\u003C/code> ID ranges used in an ID mapping trust. With this configuration, SSSD computes the UID and GID for an AD user based on its Security Identifier (SID). SSSD ignores any POSIX attributes in AD, such as \u003Ccode class=\"literal\">uidNumber\u003C/code>, \u003Ccode class=\"literal\">gidNumber\u003C/code>, and also ignores the \u003Ccode class=\"literal\">primaryGroupID\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">auto_private_groups = true\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSSSD always maps a private group with the GID set to match the UID, which is based on the SID of the AD user.\n\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140188401416544\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.5. SSSD behavior when the auto_private_groups variable is set to true for an ID mapping ID range\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188401410736\" scope=\"col\">User configuration in AD\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188403140608\" scope=\"col\">Output of \u003Ccode class=\"literal\">id username\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188401410736\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry where:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSID maps to 7000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">primaryGroupID\u003C/code> maps to 8000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188403140608\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=7000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=7000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) groups=7000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>), 8000(\u003Ca class=\"link\" href=\"mailto:adgroup@ad-domain.com\">adgroup@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">auto_private_groups = false\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you set the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> option to \u003Ccode class=\"literal\">false\u003C/code>, SSSD uses the \u003Ccode class=\"literal\">primaryGroupID\u003C/code> set in the AD entry as the GID number. The default value for \u003Ccode class=\"literal\">primaryGroupID\u003C/code> corresponds to the \u003Ccode class=\"literal\">Domain Users\u003C/code> group in AD.\n\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140188403122400\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.6. SSSD behavior when the auto_private_groups variable is set to false for an ID mapping ID range\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188403039984\" scope=\"col\">User configuration in AD\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140188403038880\" scope=\"col\">Output of \u003Ccode class=\"literal\">id username\u003C/code>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188403039984\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tAD user entry where:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSID maps to 7000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">primaryGroupID\u003C/code> maps to 8000\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140188403038880\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\"># id \u003Ca class=\"link\" href=\"mailto:aduser@AD-DOMAIN.COM\">aduser@AD-DOMAIN.COM\u003C/a>\u003C/code>\u003Ccode class=\"literal\">uid=7000(\u003Ca class=\"link\" href=\"mailto:aduser@ad-domain.com\">aduser@ad-domain.com\u003C/a>) gid=8000(\u003Ca class=\"link\" href=\"mailto:adgroup@ad-domain.com\">adgroup@ad-domain.com\u003C/a>) groups=8000(\u003Ca class=\"link\" href=\"mailto:adgroup@ad-domain.com\">adgroup@ad-domain.com\u003C/a>), …​\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad\">POSIX and ID mapping ID range types for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.9. Enabling automatic private group mapping for a POSIX ID range on the CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis procedure explains how to enable automatic private group mapping for an ID range by setting the \u003Ccode class=\"literal\">hybrid\u003C/code> option for the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> SSSD parameter on the command line. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have successfully established a POSIX cross-forest trust between your IdM and AD environments.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisplay all ID ranges and make note of the AD ID range you want to modify.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-find\u003C/strong>\u003C/span>\n----------------\n2 ranges matched\n----------------\n  Range name: IDM.EXAMPLE.COM_id_range\n  First Posix ID of the range: 882200000\n  Number of IDs in the range: 200000\n  Range type: local domain range\n\n  Range name: \u003Cspan class=\"strong strong\">\u003Cstrong>AD.EXAMPLE.COM_id_range\u003C/strong>\u003C/span>\n  First Posix ID of the range: 1337000000\n  Number of IDs in the range: 200000\n  Domain SID of the trusted domain: S-1-5-21-4123312420-990666102-3578675309\n  Range type: \u003Cspan class=\"strong strong\">\u003Cstrong>Active Directory trust range with POSIX attributes\u003C/strong>\u003C/span>\n----------------------------\nNumber of entries returned 2\n----------------------------\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdjust the automatic private group behavior for the AD ID range with the \u003Ccode class=\"literal\">ipa idrange-mod\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-mod --auto-private-groups=hybrid AD.EXAMPLE.COM_id_range\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReset the SSSD cache to enable the new setting.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>sss_cache -E\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad\">Options for automatically mapping private groups for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis procedure explains how to enable automatic private group mapping for an ID range by setting the \u003Ccode class=\"literal\">hybrid\u003C/code> option for the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> SSSD parameter in the Identity Management (IdM) WebUI. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have successfully established a POSIX cross-forest trust between your IdM and AD environments.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog into the IdM Web UI with your user name and password.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Cspan class=\"strong strong\">\u003Cstrong>IPA Server\u003C/strong>\u003C/span> → \u003Cspan class=\"strong strong\">\u003Cstrong>ID Ranges\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the ID range you want to modify, such as \u003Ccode class=\"literal\">AD.EXAMPLE.COM_id_range\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Auto private groups\u003C/strong>\u003C/span> drop down menu, select the \u003Ccode class=\"literal\">hybrid\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/fb0d66e73e24d78850fb965591e815a7/idm-auto-private-group-posix.png\" alt=\"Screenshot of the ID Ranges tab of the IPA Server section of the IdM WebUI. A user selects the hybrid option from the Auth private groups dropdown menu.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>Save\u003C/strong>\u003C/span> button to save your changes.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad\">Options for automatically mapping private groups for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"non-posix-external-groups-and-sid-mapping_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.11. Non-POSIX external groups and SID mapping\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIdentity Management (IdM) uses LDAP for managing groups. Active Directory (AD) entries are not synchronized or copied over to IdM, which means that AD users and groups have no LDAP objects in the LDAP server, so they cannot be directly used to express group membership in the IdM LDAP. For this reason, administrators in IdM need to create non-POSIX external groups, referenced as normal IdM LDAP objects to signify group membership for AD users and groups in IdM.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tSecurity IDs (SIDs) for non-POSIX external groups are processed by SSSD, which maps the SIDs of groups in Active Directory to POSIX groups in IdM. In Active Directory, SIDs are associated with user names. When an AD user name is used to access IdM resources, SSSD uses the user’s SID to build up a full group membership information for the user in the IdM domain.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-setting-up-dns-for-an-idm-ad-trust_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.12. Guidelines for setting up DNS for an IdM-AD trust\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThese guidelines can help you achieve the right DNS configuration for establishing a cross-forest trust between Identity Management (IdM) and Active Directory (AD).\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Unique primary DNS domains\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnsure both AD and IdM have their own unique primary DNS domains configured. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code> for IdM\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code> for IdM\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe most convenient management solution is an environment where each DNS domain is managed by integrated DNS servers, but you can also use any other standard-compliant DNS server.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM and AD DNS Domains\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSystems joined to IdM can be distributed over multiple DNS domains. Red Hat recommends that you deploy IdM clients in a DNS zone different to the ones owned by Active Directory. The primary IdM DNS domain must have proper SRV records to support AD trusts.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIn some environments with trusts between IdM and Active Directory, you can install an IdM client on a host that is part of the Active Directory DNS domain. The host can then benefit from the Linux-focused features of IdM. This is not a recommended configuration and has some limitations. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad\">Configuring IdM clients in an Active Directory DNS domain\u003C/a> for more details.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Proper SRV records\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnsure the primary IdM DNS domain has proper SRV records to support AD trusts.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor other DNS domains that are part of the same IdM realm, the SRV records do not have to be configured when the trust to AD is established. The reason is that AD domain controllers do not use SRV records to discover Kerberos key distribution centers (KDCs) but rather base the KDC discovery on name suffix routing information for the trust.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">DNS records resolvable from all DNS domains in the trust\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnsure all machines can resolve DNS records from all DNS domains involved in the trust relationship:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tWhen configuring the IdM DNS, follow the instructions described in \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-server-with-external-ca_installing-identity-management\">Installing an IdM server with an external CA\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIf you are using IdM without integrated DNS, follow the instructions described in \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-ipa-server-without-integrated-dns_installing-identity-management\">Installing an IdM server without integrated DNS\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Kerberos realm names as upper-case versions of primary DNS domain names\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tEnsure Kerberos realm names are the same as the primary DNS domain names, with all letters uppercase. For example, if the domain names are \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code> for IdM, the Kerberos realm names must be \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM\u003C/em>\u003C/span>\u003C/code> and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>IDM.EXAMPLE.COM\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"guidelines-for-configuring-netbios-names_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.13. Guidelines for configuring NetBIOS names\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe NetBIOS name is usually the far-left component of the domain name. For example:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the domain name \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>linux.example.com\u003C/em>\u003C/span>\u003C/code>, the NetBIOS name is \u003Ccode class=\"literal\">linux\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the domain name \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>\u003C/code>, the NetBIOS name is \u003Ccode class=\"literal\">example\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Different NetBIOS names for the Identity Management (IdM) and Active Directory (AD) domains\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnsure the IdM and AD domains have different NetBIOS names.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe NetBIOS name is critical for identifying the AD domain. If the IdM domain is within a subdomain of the AD DNS, the NetBIOS name is also critical for identifying the IdM domain and services.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Character limit for NetBIOS names\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tThe maximum length of a NetBIOS name is 15 characters.\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"supported-versions-of-windows-server_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.14. Supported versions of Windows Server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can establish a trust relationship with Active Directory (AD) forests that use the following forest and domain functional levels:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tForest functional level range: Windows Server 2012 — Windows Server 2016\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDomain functional level range: Windows Server 2012 — Windows Server 2016\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tIdentity Management (IdM) supports establishing a trust with Active Directory domain controllers running the following operating systems:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWindows Server 2022 (RHEL 9.1 and later)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWindows Server 2019\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWindows Server 2016\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWindows Server 2012 R2\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWindows Server 2012\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIdentity Management (IdM) does not support establishing trust to Active Directory with Active Directory domain controllers running Windows Server 2008 R2 or earlier versions. RHEL IdM requires SMB encryption when establishing the trust relationship, which is only supported in Windows Server 2012 or later.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"ad-server-discovery-and-affinity_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.15. AD server discovery and affinity\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tServer discovery and affinity configuration affects which Active Directory (AD) servers an Identity Management (IdM) client communicates with in a cross-forest trust between IdM and AD.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tConfiguring clients to prefer servers in the same geographical location helps prevent time lags and other problems that occur when clients contact servers from another, remote data center. To verify clients communicate with local servers, you must ensure that:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClients communicate with local IdM servers over LDAP and over Kerberos\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClients communicate with local AD servers over Kerberos\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEmbedded clients on IdM servers communicate with local AD servers over LDAP and over Kerberos\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Ch5 id=\"options_for_configuring_ldap_and_kerberos_on_the_idm_client_for_communication_with_local_idm_servers\">Options for configuring LDAP and Kerberos on the IdM client for communication with local IdM servers\u003C/h5>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">When using IdM with integrated DNS\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy default, clients use automatic service lookup based on the DNS records. In this setup, you can also use the \u003Cspan class=\"emphasis\">\u003Cem>DNS locations\u003C/em>\u003C/span> feature to configure DNS-based service discovery.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo override the automatic lookup, you can disable the DNS discovery in one of the following ways:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDuring the IdM client installation by providing failover parameters from the command line\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAfter the client installation by modifying the System Security Services Daemon (SSSD) configuration\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">When using IdM without integrated DNS\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou must explicitly configure clients in one of the following ways:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDuring the IdM client installation by providing failover parameters from the command line\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAfter the client installation by modifying the SSSD configuration\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Ch5 id=\"options_for_configuring_kerberos_on_the_idm_client_for_communication_with_local_ad_servers\">Options for configuring Kerberos on the IdM client for communication with local AD servers\u003C/h5>\u003Cp>\n\t\t\t\tIdM clients are unable to automatically discover which AD servers to communicate with. To specify the AD servers manually, modify the \u003Ccode class=\"literal\">krb5.conf\u003C/code> file:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdd the AD realm information\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tExplicitly list the AD servers to communicate with\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tFor example:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[realms]\nAD.EXAMPLE.COM = {\nkdc = server1.ad.example.com\nkdc = server2.ad.example.com\n}\u003C/pre>\u003Ch5 id=\"options_for_configuring_embedded_clients_on_idm_servers_for_communication_with_local_ad_servers_over_kerberos_and_ldap\">Options for configuring embedded clients on IdM servers for communication with local AD servers over Kerberos and LDAP\u003C/h5>\u003Cp>\n\t\t\t\tThe embedded client on an IdM server works also as a client of the AD server. It can automatically discover and use the appropriate AD site.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWhen the embedded client performs the discovery, it might first discover an AD server in a remote location. If the attempt to contact the remote server takes too long, the client might stop the operation without establishing the connection. Use the \u003Ccode class=\"literal\">dns_resolver_timeout\u003C/code> option in the \u003Ccode class=\"literal\">sssd.conf\u003C/code> file on the client to increase the amount of time for which the client waits for a reply from the DNS resolver. See the \u003Cspan class=\"emphasis\">\u003Cem>sssd.conf(5)\u003C/em>\u003C/span> man page for details.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOnce the embedded client has been configured to communicate with the local AD servers, the SSSD remembers the AD site the embedded client belongs to. Thanks to this, SSSD normally sends an LDAP ping directly to a local domain controller to refresh its site information. If the site no longer exists or the client has meanwhile been assigned to a different site, SSSD starts querying for SRV records in the forest and goes through a whole process of autodiscovery.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUsing \u003Cspan class=\"emphasis\">\u003Cem>trusted domain sections\u003C/em>\u003C/span> in \u003Ccode class=\"literal\">sssd.conf\u003C/code>, you can also explicitly override some of the information that is discovered automatically by default.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"operations-performed-during-indirect-integration-of-idm-to-ad_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.16. Operations performed during indirect integration of IdM to AD\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe following operations and requests are performed during indirect integration of IdM to AD.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRead the table to learn about operations and requests performed during the creation of an Identity Management (IdM) to Active Directory (AD) trust from the IdM trust controller towards AD domain controllers.\n\t\t\t\u003C/p>\u003Crh-table id=\"tab-operations-performed-from-IPA-controller-towards-AD_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.7. Operations performed from an IdM trust controller towards AD domain controllers\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 38%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 38%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188399683424\" scope=\"col\">Operation\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188399682336\" scope=\"col\">Protocol used\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188399681248\" scope=\"col\">Purpose\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tDNS resolution against the AD DNS resolvers configured on an IdM trust controller\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo discover the IP addresses of AD domain controllers\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to UDP/UDP6 port 389 on an AD DC\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tConnectionless LDAP (CLDAP)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo perform AD DC discovery\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to TCP/TCP6 ports 389 and 3268 on an AD DC\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tLDAP\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo query AD user and group information\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to TCP/TCP6 ports 389 and 3268 on an AD DC\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tDCE RPC and SMB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo set up and support cross-forest trust to AD\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to TCP/TCP6 ports 135, 139, 445 on an AD DC\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tDCE RPC and SMB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo set up and support cross-forest trust to AD\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to dynamically opened ports on an AD DC as directed by the Active Directory domain controller, likely in the range of 49152-65535 (TCP/TCP6)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tDCE RPC and SMB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo respond to requests by DCE RPC End-point mapper (port 135 TCP/TCP6)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399683424\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to ports 88 (TCP/TCP6 and UDP/UDP6), 464 (TCP/TCP6 and UDP/UDP6), and 749 (TCP/TCP6) on an AD DC\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399682336\"> \u003Cp>\n\t\t\t\t\t\t\t\tKerberos\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399681248\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo obtain a Kerberos ticket; change a Kerberos password; administer Kerberos remotely\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp>\n\t\t\t\tRead the table to learn about operations and requests performed during the creation of an IdM to AD trust from the AD domain controller towards IdM trust controllers.\n\t\t\t\u003C/p>\u003Crh-table id=\"tab-operations-performed-from-AD-toward-IPA-controller_planning-a-cross-forest-trust-between-idm-and-ad\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 7.8. Operations performed from an AD domain controller towards IdM trust controllers\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 38%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 38%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188404358624\" scope=\"col\">Operation\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188404357536\" scope=\"col\">Protocol used\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188404356448\" scope=\"col\">Purpose\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404358624\"> \u003Cp>\n\t\t\t\t\t\t\t\tDNS resolution against the IdM DNS resolvers configured on an AD domain controller\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404357536\"> \u003Cp>\n\t\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404356448\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo discover the IP addresses of IdM trust controllers\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404358624\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to UDP/UDP6 port 389 on an IdM trust controller\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404357536\"> \u003Cp>\n\t\t\t\t\t\t\t\tCLDAP\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404356448\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo perform IdM trust controller discovery\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404358624\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to TCP/TCP6 ports 135, 139, 445 on an IdM trust controller\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404357536\"> \u003Cp>\n\t\t\t\t\t\t\t\tDCE RPC and SMB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404356448\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo verify the cross-forest trust to AD\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404358624\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to dynamically opened ports on an IdM trust controller as directed by the IdM trust controller, likely in the range of 49152-65535 (TCP/TCP6)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404357536\"> \u003Cp>\n\t\t\t\t\t\t\t\tDCE RPC and SMB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404356448\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo respond to requests by DCE RPC End-point mapper (port 135 TCP/TCP6)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404358624\"> \u003Cp>\n\t\t\t\t\t\t\t\tRequests to ports 88 (TCP/TCP6 and UDP/UDP6), 464 (TCP/TCP6 and UDP/UDP6), and 749 (TCP/TCP6) on an IdM trust controller\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404357536\"> \u003Cp>\n\t\t\t\t\t\t\t\tKerberos\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188404356448\"> \u003Cp>\n\t\t\t\t\t\t\t\tTo obtain a Kerberos ticket; change a Kerberos password; administer Kerberos remotely\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"backing-up-and-restoring-idm_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 8. Backing up and restoring IdM\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tIdentity Management lets you manually back up and restore the IdM system after a data loss event.\n\t\t\u003C/p>\u003Cp>\n\t\t\tDuring a backup, the system creates a directory that stores information about your IdM setup. You can use this backup directory to restore your original IdM setup.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThe IdM backup and restore features are designed to help prevent data loss. To mitigate the impact of server loss and ensure continued operation, provide alternative servers to clients. For information on establishing a replication topology see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/preparing_for_disaster_recovery_with_identity_management/preparing-for-server-loss-with-replication_preparing-for-disaster-recovery\">Preparing for server loss with replication\u003C/a>.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"backup-types_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.1. IdM backup types\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWith the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility, you can create two types of backups:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Full-server backup\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Contains\u003C/strong>\u003C/span> all server configuration files related to IdM, and LDAP data in LDAP Data Interchange Format (LDIF) files\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIdM services must be \u003Cspan class=\"strong strong\">\u003Cstrong>offline\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Suitable for\u003C/strong>\u003C/span> rebuilding an IdM deployment from scratch.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Data-only backup\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Contains\u003C/strong>\u003C/span> LDAP data in LDIF files and the replication changelog\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIdM services can be \u003Cspan class=\"strong strong\">\u003Cstrong>online or offline\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Suitable for\u003C/strong>\u003C/span> restoring IdM data to a state in the past\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"naming-conventions-for-idm-backup-files_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.2. Naming conventions for IdM backup files\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, IdM stores backups as \u003Ccode class=\"literal\">.tar\u003C/code> archives in subdirectories of the \u003Ccode class=\"literal\">/var/lib/ipa/backup/\u003C/code> directory.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe archives and subdirectories follow these naming conventions:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Full-server backup\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAn archive named \u003Ccode class=\"literal\">ipa-full.tar\u003C/code> in a directory named \u003Ccode class=\"literal\">ipa-full-\u003Cspan class=\"emphasis\">\u003Cem>&lt;YEAR-MM-DD-HH-MM-SS&gt;\u003C/em>\u003C/span>\u003C/code>, with the time specified in GMT time.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# ll /var/lib/ipa/backup/\u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full\u003C/strong>\u003C/span>-2021-01-29-12-11-46\ntotal 3056\n-rw-r--r--. 1 root root     158 Jan 29 12:11 header\n-rw-r--r--. 1 root root 3121511 Jan 29 12:11 \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full.tar\u003C/strong>\u003C/span>\u003C/pre>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Data-only backup\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAn archive named \u003Ccode class=\"literal\">ipa-data.tar\u003C/code> in a directory named \u003Ccode class=\"literal\">ipa-data-\u003Cspan class=\"emphasis\">\u003Cem>&lt;YEAR-MM-DD-HH-MM-SS&gt;\u003C/em>\u003C/span>\u003C/code>, with the time specified in GMT time.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# ll /var/lib/ipa/backup/\u003Cspan class=\"strong strong\">\u003Cstrong>ipa-data\u003C/strong>\u003C/span>-2021-01-29-12-14-23\ntotal 1072\n-rw-r--r--. 1 root root     158 Jan 29 12:14 header\n-rw-r--r--. 1 root root 1090388 Jan 29 12:14 \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-data.tar\u003C/strong>\u003C/span>\u003C/pre>\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tUninstalling an IdM server does not automatically remove any backup files.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"considerations-when-creating-a-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.3. Considerations when creating a backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe important behaviors and limitations of the \u003Ccode class=\"literal\">ipa-backup\u003C/code> command include the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility runs in offline mode, which stops all IdM services. The utility automatically restarts IdM services after the backup is finished.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA full-server backup must \u003Cspan class=\"strong strong\">\u003Cstrong>always\u003C/strong>\u003C/span> run with IdM services offline, but a data-only backup can be performed with services online.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility creates backups on the file system containing the \u003Ccode class=\"literal\">/var/lib/ipa/backup/\u003C/code> directory. Red Hat recommends creating backups regularly on a file system separate from the production filesystem used by IdM, and archiving the backups to a fixed medium, such as tape or optical storage.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConsider performing backups on \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-the-replica-topology_planning-identity-management#the-hidden-replica-mode_planning-the-replica-topology\">hidden replicas\u003C/a>. IdM services can be shut down on hidden replicas without affecting IdM clients.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility checks if all of the services used in your IdM cluster, such as a Certificate Authority (CA), Domain Name System (DNS), and Key Recovery Agent (KRA), are installed on the server where you are running the backup. If the server does not have all these services installed, the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility exits with a warning, because backups taken on that host would not be sufficient for a full cluster restoration.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor example, if your IdM deployment uses an integrated Certificate Authority (CA), a backup run on a non-CA replica will not capture CA data. Red Hat recommends verifying that the replica where you perform an \u003Ccode class=\"literal\">ipa-backup\u003C/code> has all of the IdM services used in the cluster installed.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can bypass the IdM server role check with the \u003Ccode class=\"literal\">ipa-backup --disable-role-check\u003C/code> command, but the resulting backup will not contain all the data necessary to restore IdM fully.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-an-idm-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.4. Creating an IdM backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a full-server and data-only backup in offline and online modes using the \u003Ccode class=\"literal\">ipa-backup\u003C/code> command.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou must have \u003Ccode class=\"literal\">root\u003C/code> privileges to run the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo create a full-server backup in offline mode, use the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility without additional options.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-backup\u003C/strong>\u003C/span>\nPreparing backup on server.example.com\nStopping IPA services\nBacking up ipaca in EXAMPLE-COM to LDIF\nBacking up userRoot in EXAMPLE-COM to LDIF\nBacking up EXAMPLE-COM\nBacking up files\nStarting IPA service\n\u003Cspan class=\"strong strong\">\u003Cstrong>Backed up to /var/lib/ipa/backup/ipa-full-2020-01-14-11-26-06\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>The ipa-backup command was successful\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo create an offline data-only backup, specify the \u003Ccode class=\"literal\">--data\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-backup --data\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo create a full-server backup that includes IdM log files, use the \u003Ccode class=\"literal\">--logs\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-backup --logs\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo create a data-only backup while IdM services are running, specify both \u003Ccode class=\"literal\">--data\u003C/code> and \u003Ccode class=\"literal\">--online\u003C/code> options.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-backup --data --online\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf the backup fails due to insufficient space in the \u003Ccode class=\"literal\">/tmp\u003C/code> directory, use the \u003Ccode class=\"literal\">TMPDIR\u003C/code> environment variable to change the destination for temporary files created by the backup process:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>TMPDIR=/new/location ipa-backup\u003C/strong>\u003C/span>\u003C/pre>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnsure the backup directory contains an archive with the backup.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ls \u003Cspan class=\"emphasis\">\u003Cem>/var/lib/ipa/backup/ipa-full-2020-01-14-11-26-06\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nheader  \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full.tar\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3344471\">ipa-backup command fails to finish\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"encrypting-a-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.5. Creating a GPG2-encrypted IdM backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create encrypted backups using GNU Privacy Guard (GPG) encryption. The following procedure creates an IdM backup and encrypts it using a GPG2 key.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a GPG2 key. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#creating-gpg-key_backing-up-and-restoring-idm\">Creating a GPG2 key\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a GPG-encrypted backup by specifying the \u003Ccode class=\"literal\">--gpg\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-backup --gpg\u003C/strong>\u003C/span>\nPreparing backup on server.example.com\nStopping IPA services\nBacking up ipaca in EXAMPLE-COM to LDIF\nBacking up userRoot in EXAMPLE-COM to LDIF\nBacking up EXAMPLE-COM\nBacking up files\nStarting IPA service\nEncrypting /var/lib/ipa/backup/ipa-full-2020-01-13-14-38-00/ipa-full.tar\nBacked up to /var/lib/ipa/backup/ipa-full-2020-01-13-14-38-00\n\u003Cspan class=\"strong strong\">\u003Cstrong>The ipa-backup command was successful\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnsure that the backup directory contains an encrypted archive with a \u003Ccode class=\"literal\">.gpg\u003C/code> file extension.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ls \u003Cspan class=\"emphasis\">\u003Cem>/var/lib/ipa/backup/ipa-full-2020-01-13-14-38-00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nheader  \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full.tar.gpg\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#proc_creating-an-idm-backup_backing-up-and-restoring-idm\">Creating a backup\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-gpg-key_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.6. Creating a GPG2 key\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following procedure describes how to generate a GPG2 key to use with encryption utilities.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need \u003Ccode class=\"literal\">root\u003C/code> privileges.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall and configure the \u003Ccode class=\"literal\">pinentry\u003C/code> utility.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install pinentry\u003C/strong>\u003C/span>\n[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir ~/.gnupg -m 700\u003C/strong>\u003C/span>\n[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"pinentry-program /usr/bin/pinentry-curses\" &gt;&gt; ~/.gnupg/gpg-agent.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">key-input\u003C/code> file used for generating a GPG keypair with your preferred details. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# cat &gt;key-input &lt;&lt;EOF\n%echo Generating a standard key\nKey-Type: \u003Cspan class=\"emphasis\">\u003Cem>RSA\u003C/em>\u003C/span>\nKey-Length: \u003Cspan class=\"emphasis\">\u003Cem>2048\u003C/em>\u003C/span>\nName-Real: \u003Cspan class=\"emphasis\">\u003Cem>GPG User\u003C/em>\u003C/span>\nName-Comment: \u003Cspan class=\"emphasis\">\u003Cem>first key\u003C/em>\u003C/span>\nName-Email: \u003Cspan class=\"emphasis\">\u003Cem>root@example.com\u003C/em>\u003C/span>\nExpire-Date: \u003Cspan class=\"emphasis\">\u003Cem>0\u003C/em>\u003C/span>\n%commit\n%echo Finished creating standard key\nEOF\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: By default, GPG2 stores its keyring in the \u003Ccode class=\"literal\">~/.gnupg\u003C/code> file. To use a custom keyring location, set the \u003Ccode class=\"literal\">GNUPGHOME\u003C/code> environment variable to a directory that is only accessible by root.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>export GNUPGHOME=\u003Cspan class=\"emphasis\">\u003Cem>/root/backup\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p $GNUPGHOME -m 700\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGenerate a new GPG2 key based on the contents of the \u003Ccode class=\"literal\">key-input\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>gpg2 --batch --gen-key key-input\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter a passphrase to protect the GPG2 key. You use this passphrase to access the private key for decryption.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">┌──────────────────────────────────────────────────────┐\n│ Please enter the passphrase to                       │\n│ protect your new key                                 │\n│                                                      │\n│ Passphrase: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;passphrase&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>                             │\n│                                                      │\n│\t &lt;OK&gt;                             &lt;Cancel&gt;         │\n└──────────────────────────────────────────────────────┘\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfirm the correct passphrase by entering it again.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">┌──────────────────────────────────────────────────────┐\n│ Please re-enter this passphrase                      │\n│                                                      │\n│ Passphrase: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;passphrase&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>                             │\n│                                                      │\n│\t &lt;OK&gt;                             &lt;Cancel&gt;         │\n└──────────────────────────────────────────────────────┘\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the new GPG2 key was created successfully.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">gpg: keybox '/root/backup/pubring.kbx' created\ngpg: Generating a standard key\ngpg: /root/backup/trustdb.gpg: trustdb created\ngpg: key BF28FFA302EF4557 marked as ultimately trusted\ngpg: directory '/root/backup/openpgp-revocs.d' created\ngpg: revocation certificate stored as '/root/backup/openpgp-revocs.d/8F6FCF10C80359D5A05AED67BF28FFA302EF4557.rev'\ngpg: \u003Cspan class=\"strong strong\">\u003Cstrong>Finished creating standard key\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the GPG keys on the server.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>gpg2 --list-secret-keys\u003C/strong>\u003C/span>\ngpg: checking the trustdb\ngpg: marginals needed: 3  completes needed: 1  trust model: pgp\ngpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u\n\u003Cspan class=\"emphasis\">\u003Cem>/\u003Cspan class=\"strong strong\">\u003Cstrong>root\u003C/strong>\u003C/span>/backup/pubring.kbx\u003C/em>\u003C/span>\n------------------------\nsec   \u003Cspan class=\"emphasis\">\u003Cem>rsa2048\u003C/em>\u003C/span> 2020-01-13 [SCEA]\n      8F6FCF10C80359D5A05AED67BF28FFA302EF4557\nuid           [ultimate] \u003Cspan class=\"emphasis\">\u003Cem>GPG User (first key) &lt;root@example.com&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://gnupg.org/\">GNU Privacy Guard\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"when-to-restore-from-idm-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.7. When to restore from an IdM backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can respond to several disaster scenarios by restoring from an IdM backup:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Undesirable changes were made to the LDAP content\u003C/strong>\u003C/span>: Entries were modified or deleted, replication carried out those changes throughout the deployment, and you want to revert those changes. Restoring a data-only backup returns the LDAP entries to the previous state without affecting the IdM configuration itself.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Total Infrastructure Loss, or loss of all CA instances\u003C/strong>\u003C/span>: If a disaster damages all Certificate Authority replicas, the deployment has lost the ability to rebuild itself by deploying additional servers. In this situation, restore a backup of a CA Replica and build new replicas from it.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>An upgrade on an isolated server failed\u003C/strong>\u003C/span>: The operating system remains functional, but the IdM data is corrupted, which is why you want to restore the IdM system to a known good state. Red Hat recommends working with Technical Support to diagnose and troubleshoot the issue. If those efforts fail, restore from a full-server backup.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe preferred solution for hardware or upgrade failure is to rebuild the lost server from a replica. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/recovering-a-single-server-with-replication_performing-disaster-recovery\">Recovering a single server with replication\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"considerations-when-restoring-from-idm-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.8. Considerations when restoring from an IdM backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf you have a backup created with the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility, you can restore your IdM server or the LDAP content to the state they were in when the backup was performed.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following are the key considerations while restoring from an IdM backup:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can only restore a backup on a server that matches the configuration of the server where the backup was originally created. The server \u003Cspan class=\"strong strong\">\u003Cstrong>must\u003C/strong>\u003C/span> have:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe same hostname\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe same IP address\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe same version of IdM software\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf one IdM server among many is restored, the restored server becomes the only source of information for IdM. All other servers \u003Cspan class=\"strong strong\">\u003Cstrong>must\u003C/strong>\u003C/span> be re-initialized from the restored server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSince any data created after the last backup will be lost, do not use the backup and restore solution for normal system maintenance.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf a server is lost, Red Hat recommends rebuilding the server by reinstalling it as a replica, instead of restoring from a backup. Creating a new replica preserves data from the current working environment. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/preparing_for_disaster_recovery_with_identity_management/preparing-for-server-loss-with-replication_preparing-for-disaster-recovery\">Preparing for server loss with replication\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe backup and restore features can only be managed from the command line and are not available in the IdM web UI.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou cannot restore from backup files located in the \u003Ccode class=\"literal\">/tmp\u003C/code> or \u003Ccode class=\"literal\">/var/tmp\u003C/code> directories. The IdM Directory Server uses a \u003Cspan class=\"strong strong\">\u003Cstrong>PrivateTmp\u003C/strong>\u003C/span> directory and cannot access the \u003Ccode class=\"literal\">/tmp\u003C/code> or \u003Ccode class=\"literal\">/var/tmp\u003C/code> directories commonly available to the operating system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition tip\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Tip\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tRestoring from a backup requires the same software (RPM) versions on the target host as were installed when the backup was performed. Due to this, Red Hat recommends restoring from a Virtual Machine snapshot rather than a backup. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_disaster_recovery_with_identity_management/recovering-from-data-loss-with-snapshots_performing-disaster-recovery\">Recovering from data loss with VM snapshots\u003C/a>.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"restoring-a-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.9. Restoring an IdM server from a backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tRestore an IdM server, or its LDAP data, from an IdM backup.\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140188399857840\">\u003Cp class=\"title\">\u003Cstrong>Figure 8.1. Replication topology used in this example\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/8e59844cdb0f553497b8072f3fde5973/137_RHEL_IdM_updates_0121-backup_restore.png\" alt=\"Diagram showing 3 IdM servers: host server1.example.com needs to be restored from backup. Host caReplica2.example.com is a Certificate Authority replica that is connected to server1.example.com. Host replica3.example.com is a regular server that is connected to caReplica2.example.com\"/>\u003C/div>\u003C/div>\u003C/div>\u003Crh-table id=\"idm140188399853376\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 8.1. Server naming conventions used in this example\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188399848512\" scope=\"col\">Server host name\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140188399847424\" scope=\"col\">Function\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399848512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">server1.example.com\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399847424\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe server that needs to be restored from backup.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399848512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">caReplica2.example.com\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399847424\"> \u003Cp>\n\t\t\t\t\t\t\t\tA Certificate Authority (CA) replica connected to the \u003Ccode class=\"literal\">server1.example.com\u003C/code> host.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399848512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">replica3.example.com\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140188399847424\"> \u003Cp>\n\t\t\t\t\t\t\t\tA replica connected to the \u003Ccode class=\"literal\">caReplica2.example.com\u003C/code> host.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have generated a full-server or data-only backup of the IdM server with the \u003Ccode class=\"literal\">ipa-backup\u003C/code> utility. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#proc_creating-an-idm-backup_backing-up-and-restoring-idm\">Creating a backup\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYour backup files are not in the \u003Ccode class=\"literal\">/tmp\u003C/code> or \u003Ccode class=\"literal\">/var/tmp\u003C/code> directories.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBefore performing a full-server restore from a full-server backup, \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/uninstalling-an-ipa-server_installing-identity-management\">uninstall\u003C/a> IdM from the server and \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management\">reinstall\u003C/a> IdM using the same server configuration as before.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">ipa-restore\u003C/code> utility to restore a full-server or data-only backup.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the backup directory is in the default \u003Ccode class=\"literal\">/var/lib/ipa/backup/\u003C/code> location, enter only the name of the directory:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server1 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-restore \u003Cspan class=\"emphasis\">\u003Cem>ipa-full-2020-01-14-12-02-32\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the backup directory is not in the default location, enter its full path:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server1 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-restore \u003Cspan class=\"emphasis\">\u003Cem>/mybackups/ipa-data-2020-02-01-05-30-00\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ipa-restore\u003C/code> utility automatically detects the type of backup that the directory contains, and performs the same type of restore by default. To perform a data-only restore from a full-server backup, add the \u003Ccode class=\"literal option\">--data\u003C/code> option to the \u003Ccode class=\"literal\">ipa-restore\u003C/code> command:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server1 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-restore --data \u003Cspan class=\"emphasis\">\u003Cem>ipa-full-2020-01-14-12-02-32\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter the Directory Manager password.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Directory Manager (existing master) password:\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter \u003Ccode class=\"literal\">yes\u003C/code> to confirm overwriting current data with the backup.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Preparing restore from /var/lib/ipa/backup/ipa-full-2020-01-14-12-02-32 on server1.example.com\nPerforming FULL restore from FULL backup\nTemporary setting umask to 022\nRestoring data will overwrite existing live data. Continue to restore? [no]: \u003Cspan class=\"strong strong\">\u003Cstrong>yes\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ipa-restore\u003C/code> utility disables replication on all servers that are available:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Each master will individually need to be re-initialized or\nre-created from this one. The replication agreements on\nmasters running IPA 3.1 or earlier will need to be manually\nre-enabled. See the man page for details.\nDisabling all replication.\nDisabling replication agreement on server1.example.com to caReplica2.example.com\nDisabling CA replication agreement on server1.example.com to caReplica2.example.com\nDisabling replication agreement on caReplica2.example.com to server1.example.com\nDisabling replication agreement on caReplica2.example.com to replica3.example.com\nDisabling CA replication agreement on caReplica2.example.com to server1.example.com\nDisabling replication agreement on replica3.example.com to caReplica2.example.com\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe utility then stops IdM services, restores the backup, and restarts the services:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Stopping IPA services\nSystemwide CA database updated.\nRestoring files\nSystemwide CA database updated.\nRestoring from userRoot in EXAMPLE-COM\nRestoring from ipaca in EXAMPLE-COM\nRestarting GSS-proxy\nStarting IPA services\nRestarting SSSD\nRestarting oddjobd\nRestoring umask to 18\n\u003Cspan class=\"strong strong\">\u003Cstrong>The ipa-restore command was successful\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRe-initialize all replicas connected to the restored server:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tList all replication topology segments for the \u003Ccode class=\"literal\">domain\u003C/code> suffix, taking note of topology segments involving the restored server.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server1 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa topologysegment-find \u003Cspan class=\"emphasis\">\u003Cem>domain\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n------------------\n2 segments matched\n------------------\n  Segment name: \u003Cspan class=\"strong strong\">\u003Cstrong>server1.example.com-to-caReplica2.example.com\u003C/strong>\u003C/span>\n  Left node: server1.example.com\n  Right node: caReplica2.example.com\n  Connectivity: both\n\n  Segment name: caReplica2.example.com-to-replica3.example.com\n  Left node: caReplica2.example.com\n  Right node: replica3.example.com\n  Connectivity: both\n----------------------------\nNumber of entries returned 2\n----------------------------\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRe-initialize the \u003Ccode class=\"literal\">domain\u003C/code> suffix for all topology segments with the restored server.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn this example, perform a re-initialization of \u003Ccode class=\"literal\">caReplica2\u003C/code> with data from \u003Ccode class=\"literal\">server1\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@caReplica2 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-replica-manage re-initialize --from=\u003Cspan class=\"emphasis\">\u003Cem>server1.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nUpdate in progress, 2 seconds elapsed\nUpdate succeeded\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMoving on to Certificate Authority data, list all replication topology segments for the \u003Ccode class=\"literal\">ca\u003C/code> suffix.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server1 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa topologysegment-find \u003Cspan class=\"emphasis\">\u003Cem>ca\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n-----------------\n1 segment matched\n-----------------\n  Segment name: \u003Cspan class=\"strong strong\">\u003Cstrong>server1.example.com-to-caReplica2.example.com\u003C/strong>\u003C/span>\n  Left node: server1.example.com\n  Right node: caReplica2.example.com\n  Connectivity: both\n----------------------------\nNumber of entries returned 1\n----------------------------\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRe-initialize all CA replicas connected to the restored server.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn this example, perform a \u003Ccode class=\"literal\">csreplica\u003C/code> re-initialization of \u003Ccode class=\"literal\">caReplica2\u003C/code> with data from \u003Ccode class=\"literal\">server1\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@caReplica2 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-csreplica-manage re-initialize --from=\u003Cspan class=\"emphasis\">\u003Cem>server1.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nDirectory Manager password:\n\nUpdate in progress, 3 seconds elapsed\nUpdate succeeded\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tContinue moving outward through the replication topology, re-initializing successive replicas, until all servers have been updated with the data from restored server \u003Ccode class=\"literal\">server1.example.com\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn this example, we only have to re-initialize the \u003Ccode class=\"literal\">domain\u003C/code> suffix on \u003Ccode class=\"literal\">replica3\u003C/code> with the data from \u003Ccode class=\"literal\">caReplica2\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@replica3 ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-replica-manage re-initialize --from=\u003Cspan class=\"emphasis\">\u003Cem>caReplica2.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nDirectory Manager password:\n\nUpdate in progress, 3 seconds elapsed\nUpdate succeeded\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClear SSSD’s cache on every server to avoid authentication problems due to invalid data:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tStop the SSSD service:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl stop sssd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRemove all cached content from SSSD:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>sss_cache -E\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tStart the SSSD service:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl start sssd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReboot the server.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ipa-restore (1)\u003C/code> man page also covers in detail how to handle complex replication scenarios during restoration.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"restoring-encrypted-backup_backing-up-and-restoring-idm\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.10. Restoring from an encrypted backup\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis procedure restores an IdM server from an encrypted IdM backup. The \u003Ccode class=\"literal\">ipa-restore\u003C/code> utility automatically detects if an IdM backup is encrypted and restores it using the GPG2 root keyring.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA GPG-encrypted IdM backup. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#encrypting-a-backup_backing-up-and-restoring-idm\">Creating encrypted IdM backups\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe LDAP Directory Manager password\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe passphrase used when creating the GPG key\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you used a custom keyring location when creating the GPG2 keys, verify that the \u003Ccode class=\"literal\">$GNUPGHOME\u003C/code> environment variable is set to that directory. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#creating-gpg-key_backing-up-and-restoring-idm\">Creating a GPG2 key\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>echo $GNUPGHOME\u003C/strong>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>/root/backup\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tProvide the \u003Ccode class=\"literal\">ipa-restore\u003C/code> utility with the backup directory location.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-restore ipa-full-2020-01-13-18-30-54\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnter the Directory Manager password.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Directory Manager (existing master) password:\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnter the passphrase you used when creating the GPG key.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">┌────────────────────────────────────────────────────────────────┐\n│ Please enter the passphrase to unlock the OpenPGP secret key:  │\n│ \"GPG User (first key) &lt;root@example.com&gt;\"                      │\n│ 2048-bit RSA key, ID BF28FFA302EF4557,                         │\n│ created 2020-01-13.                                            │\n│                                                                │\n│                                                                │\n│ Passphrase: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;passphrase&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>                                       │\n│                                                                │\n│         &lt;OK&gt;                                    &lt;Cancel&gt;       │\n└────────────────────────────────────────────────────────────────┘\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRe-initialize all replicas connected to the restored server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/backing-up-and-restoring-idm_planning-identity-management#restoring-a-backup_backing-up-and-restoring-idm\">Restoring an IdM server from backup\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 9. Backing up and restoring IdM servers using Ansible playbooks\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tUsing the \u003Ccode class=\"literal\">ipabackup\u003C/code> Ansible role, you can automate backing up an IdM server, transferring backup files between servers and your Ansible controller, and restoring an IdM server from a backup.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_using-ansible-to-create-a-backup-of-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.1. Using Ansible to create a backup of an IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">ipabackup\u003C/code> role in an Ansible playbook to create a backup of an IdM server and store it on the IdM server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">~/MyPlaybooks/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">backup-server.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/backup-server.yml backup-my-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">backup-my-server.yml\u003C/code> Ansible playbook file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to backup IPA server\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n\n  roles:\n  - role: ipabackup\n    state: present\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook, specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory backup-my-server.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog into the IdM server that you have backed up.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the backup is in the \u003Ccode class=\"literal\">/var/lib/ipa/backup\u003C/code> directory.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# ls /var/lib/ipa/backup/\nipa-full-2021-04-30-13-12-00\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor more sample Ansible playbooks that use the \u003Ccode class=\"literal\">ipabackup\u003C/code> role, see:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-ansible-to-create-a-backup-of-an-idm-server-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.2. Using Ansible to create a backup of an IdM server on your Ansible controller\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">ipabackup\u003C/code> role in an Ansible playbook to create a backup of an IdM server and automatically transfer it on your Ansible controller. Your backup file name begins with the host name of the IdM server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo store the backups, create a subdirectory in your home directory on the Ansible controller.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ mkdir ~/ipabackups\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">~/MyPlaybooks/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">backup-server-to-controller.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/backup-server-to-controller.yml backup-my-server-to-my-controller.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">backup-my-server-to-my-controller.yml\u003C/code> file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the following variables:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOptional: To maintain a copy of the backup on the IdM server, uncomment the following line:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"> # ipabackup_keep_on_server: true\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy default, backups are stored in the present working directory of the Ansible controller. To specify the backup directory you created in Step 1, add the \u003Ccode class=\"literal\">ipabackup_controller_path\u003C/code> variable and set it to the \u003Ccode class=\"literal\">/home/user/ipabackups\u003C/code> directory.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to backup IPA server to controller\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n  vars:\n    ipabackup_to_controller: true\n    \u003Cspan class=\"strong strong\">\u003Cstrong># ipabackup_keep_on_server: true\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>ipabackup_controller_path: /home/user/ipabackups\u003C/strong>\u003C/span>\n\n  roles:\n  - role: ipabackup\n    state: present\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook, specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory backup-my-server-to-my-controller.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the backup is in the \u003Ccode class=\"literal\">/home/user/ipabackups\u003C/code> directory of your Ansible controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[user@controller ~]$ ls /home/user/ipabackups\nserver.idm.example.com_ipa-full-2021-04-30-13-12-00\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor more sample Ansible playbooks that use the \u003Ccode class=\"literal\">ipabackup\u003C/code> role, see:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-ansible-to-copy-a-backup-of-an-idm-server-to-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.3. Using Ansible to copy a backup of an IdM server to your Ansible controller\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use an Ansible playbook to copy a backup of an IdM server from the IdM server to your Ansible controller.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo store the backups, create a subdirectory in your home directory on the Ansible controller.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ mkdir ~/ipabackups\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">~/MyPlaybooks/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">copy-backup-from-server.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/copy-backup-from-server.yml copy-backup-from-my-server-to-my-controller.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">copy-my-backup-from-my-server-to-my-controller.yml\u003C/code> file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the following variables:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable to the name of the \u003Ccode class=\"literal\">ipabackup\u003C/code> on your IdM server to copy to your Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tBy default, backups are stored in the present working directory of the Ansible controller. To specify the directory you created in Step 1, add the \u003Ccode class=\"literal\">ipabackup_controller_path\u003C/code> variable and set it to the \u003Ccode class=\"literal\">/home/user/ipabackups\u003C/code> directory.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to copy backup from IPA server\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full-2021-04-30-13-12-00\u003C/strong>\u003C/span>\n    ipabackup_to_controller: true\n    \u003Cspan class=\"strong strong\">\u003Cstrong>ipabackup_controller_path: /home/user/ipabackups\u003C/strong>\u003C/span>\n\n  roles:\n  - role: ipabackup\n    state: present\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook, specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory copy-backup-from-my-server-to-my-controller.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tTo copy \u003Cspan class=\"strong strong\">\u003Cstrong>all\u003C/strong>\u003C/span> IdM backups to your controller, set the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable in the Ansible playbook to \u003Ccode class=\"literal\">all\u003C/code>:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>all\u003C/strong>\u003C/span>\n    ipabackup_to_controller: true\u003C/pre>\u003Cp>\n\t\t\t\t\tFor an example, see the \u003Ccode class=\"literal\">copy-all-backups-from-server.yml\u003C/code> Ansible playbook in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify your backup is in the \u003Ccode class=\"literal\">/home/user/ipabackups\u003C/code> directory on your Ansible controller:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[user@controller ~]$ ls /home/user/ipabackups\nserver.idm.example.com_ipa-full-2021-04-30-13-12-00\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-ansible-to-copy-a-backup-of-an-idm-server-from-your-ansible-controller-to-the-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.4. Using Ansible to copy a backup of an IdM server from your Ansible controller to the IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use an Ansible playbook to copy a backup of an IdM server from your Ansible controller to the IdM server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">~/MyPlaybooks/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">copy-backup-from-controller.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/copy-backup-from-controller.yml copy-backup-from-my-controller-to-my-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">copy-my-backup-from-my-controller-to-my-server.yml\u003C/code> file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the following variables:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable to the name of the \u003Ccode class=\"literal\">ipabackup\u003C/code> on your Ansible controller to copy to the IdM server.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to copy a backup from controller to the IPA server\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n\n  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>server.idm.example.com_ipa-full-2021-04-30-13-12-00\u003C/strong>\u003C/span>\n    ipabackup_from_controller: true\n\n  roles:\n  - role: ipabackup\n    state: copied\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook, specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory copy-backup-from-my-controller-to-my-server.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-ansible-to-remove-a-backup-from-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.5. Using Ansible to remove a backup from an IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use an Ansible playbook to remove a backup from an IdM server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the ~/MyPlaybooks/ directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">remove-backup-from-server.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/remove-backup-from-server.yml remove-backup-from-my-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">remove-backup-from-my-server.yml\u003C/code> file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the following variables:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable to the name of the \u003Ccode class=\"literal\">ipabackup\u003C/code> to remove from your IdM server.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to remove backup from IPA server\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n\n  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full-2021-04-30-13-12-00\u003C/strong>\u003C/span>\n\n  roles:\n  - role: ipabackup\n    state: absent\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook, specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory remove-backup-from-my-server.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tTo remove \u003Cspan class=\"strong strong\">\u003Cstrong>all\u003C/strong>\u003C/span> IdM backups from the IdM server, set the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable in the Ansible playbook to \u003Ccode class=\"literal\">all\u003C/code>:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>all\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\tFor an example, see the \u003Ccode class=\"literal\">remove-all-backups-from-server.yml\u003C/code> Ansible playbook in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-the-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.6. Using Ansible to restore an IdM server from a backup stored on the server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use an Ansible playbook to restore an IdM server from a backup stored on that host.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou know the LDAP Directory Manager password.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">~/MyPlaybooks/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">restore-server.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/restore-server.yml restore-my-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">restore-my-server.yml\u003C/code> Ansible playbook file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the following variables:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable to the name of the \u003Ccode class=\"literal\">ipabackup\u003C/code> to restore.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_password\u003C/code> variable to the LDAP Directory Manager password.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to restore an IPA server\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n\n  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-full-2021-04-30-13-12-00\u003C/strong>\u003C/span>\n    ipabackup_password: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_LDAP_DM_password&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n  roles:\n  - role: ipabackup\n    state: restored\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory restore-my-server.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.7. Using Ansible to restore an IdM server from a backup stored on your Ansible controller\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use an Ansible playbook to restore an IdM server from a backup stored on your Ansible controller.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou know the LDAP Directory Manager password.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">~/MyPlaybooks/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cd ~/MyPlaybooks/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake a copy of the \u003Ccode class=\"literal\">restore-server-from-controller.yml\u003C/code> file located in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ cp /usr/share/doc/ansible-freeipa/playbooks/restore-server-from-controller.yml restore-my-server-from-my-controller.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">restore-my-server-from-my-controller.yml\u003C/code> file for editing.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdapt the file by setting the following variables:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">hosts\u003C/code> variable to a host group from your inventory file. In this example, set it to the \u003Ccode class=\"literal\">ipaserver\u003C/code> host group.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_name\u003C/code> variable to the name of the \u003Ccode class=\"literal\">ipabackup\u003C/code> to restore.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tSet the \u003Ccode class=\"literal\">ipabackup_password\u003C/code> variable to the LDAP Directory Manager password.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to restore IPA server from controller\n  hosts: \u003Cspan class=\"strong strong\">\u003Cstrong>ipaserver\u003C/strong>\u003C/span>\n  become: true\n\n  vars:\n    ipabackup_name: \u003Cspan class=\"strong strong\">\u003Cstrong>server.idm.example.com_ipa-full-2021-04-30-13-12-00\u003C/strong>\u003C/span>\n    ipabackup_password: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_LDAP_DM_password&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n    ipabackup_from_controller: true\n\n  roles:\n  - role: ipabackup\n    state: restored\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook, specifying the inventory file and the playbook file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ansible-playbook --vault-password-file=password_file -v -i ~/MyPlaybooks/inventory restore-my-server-from-my-controller.yml\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">README.md\u003C/code> file in the \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/roles/ipabackup\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/doc/ansible-freeipa/playbooks/\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"ref_idm-integration-with-other-red-hat-products_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 10. IdM integration with Red Hat products\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tFind documentation for other Red Hat products that integrate with IdM. You can configure these products to allow your IdM users to access their services.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform\">Ansible Automation Platform\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/openshift_container_platform\">OpenShift Container Platform\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_openstack_platform\">Red Hat OpenStack Platform\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_satellite\">Red Hat Satellite\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_single_sign-on\">Red Hat Single Sign-On\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_virtualization\">Red Hat Virtualization\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 11. Configuring Single Sign-On for the RHEL 9 web console in the IdM domain\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can use Single Sign-on (SSO) authentication provided by Identity Management (IdM) in the RHEL 9 web console to leverage the following advantages:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tIdM domain administrators can use the RHEL 9 web console to manage local machines.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tUsers with a Kerberos ticket in the IdM domain do not need to provide login credentials to access the web console.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAll hosts known to the IdM domain are accessible via SSH from the local instance of the RHEL 9 web console.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tCertificate configuration is not necessary. The console’s web server automatically switches to a certificate issued by the IdM certificate authority and accepted by browsers.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tConfiguring SSO for logging into the RHEL web console requires to:\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAdd machines to the IdM domain using the RHEL 9 web console.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tIf you want to use Kerberos for authentication, you must obtain a Kerberos ticket on your machine.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAllow administrators on the IdM server to run any command on any host.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tThe RHEL web console installed on RHEL 9 systems.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing the web console\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tIdM client installed on systems with the RHEL web console.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/assembly_installing-an-idm-client_installing-identity-management\">IdM client installation\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.1. Joining a RHEL 9 system to an IdM domain using the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the web console to join the Red Hat Enterprise Linux 9 system to the Identity Management (IdM) domain.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM domain is running and reachable from the client you want to join.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the IdM domain administrator credentials.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Configuration\u003C/strong>\u003C/span> field of the \u003Cspan class=\"strong strong\">\u003Cstrong>Overview\u003C/strong>\u003C/span> tab click \u003Cspan class=\"strong strong\">\u003Cstrong>Join Domain\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Join a Domain\u003C/strong>\u003C/span> dialog box, enter the host name of the IdM server in the \u003Cspan class=\"strong strong\">\u003Cstrong>Domain Address\u003C/strong>\u003C/span> field.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Domain administrator name\u003C/strong>\u003C/span> field, enter the user name of the IdM administration account.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Domain administrator password\u003C/strong>\u003C/span>, add a password.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Join\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf the RHEL 9 web console did not display an error, the system has been joined to the IdM domain and you can see the domain name in the \u003Cspan class=\"strong strong\">\u003Cstrong>System\u003C/strong>\u003C/span> screen.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo verify that the user is a member of the domain, click the Terminal page and type the \u003Ccode class=\"literal\">id\u003C/code> command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>id\u003C/strong>\u003C/span>\neuid=548800004(example_user) gid=548800004(example_user) groups=548800004(example_user) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/index\">Planning Identity Management\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/index\">Installing Identity Management\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_idm_users_groups_hosts_and_access_control_rules/index\">Managing IdM users, groups, hosts, and access control rules\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"logging-in-to-the-web-console-using-a-kerberos-ticket_configuring-single-sign-on-for-the-web-console-in-the-idm-domain\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.2. Logging in to the web console using Kerberos authentication\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tConfigure the RHEL 9 system to use Kerberos authentication.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tWith SSO, you usually do not have any administrative privileges in the web console. This only works if you configure passwordless sudo. The web console does not interactively ask for a sudo password.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIdM domain running and reachable in your company environment.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_system-management-using-the-rhel-9-web-console#joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain\">Joining a RHEL 9 system to an IdM domain using the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf the system does not use a Kerberos ticket managed by the SSSD client, request the ticket with the \u003Ccode class=\"literal\">kinit\u003C/code> utility manually.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLog in to the RHEL web console by entering the following URL in your web browser:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"> https://\u003Cspan class=\"emphasis\">\u003Cem>&lt;dns_name&gt;\u003C/em>\u003C/span>:9090\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US/images/b6fe536ed401ee02d68bed066e72abf3/idm-cockpit-logging-done.png\" alt=\"A screenshot of the web console with a menu in a column along the left that has the following buttons: System - Logs - Storage - Networking - Accounts - Services - Applications - Diagnostic Reports - Kernel Dump - SELinux. The &quot;System&quot; option has been chosen and displays details for the system such as Hardware - Machine ID - Operating system - Secure Shell Keys - Hostname - and others. 3 graphs display usage of CPUs over time - use of Memory and Swap over time - and Disk I/O over time.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAt this point, you are successfully connected to the RHEL web console and you can start with configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"ref_idm-directory-server-rfc-support_planning-identity-management\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 12. IdM Directory Server RFC support\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThe Directory Server component in Identity Management (IdM) supports many LDAP-related Requests for Comments (RFCs).\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_directory_server/12/html/planning_and_designing_directory_server/assembly_rfc-support_designing-rhds\">Directory Server RFC support\u003C/a>\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_directory_server/12/html-single/planning_and_designing_directory_server/index\">Planning and designing Directory Server\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm140188399814592\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[14,21,26,59,72,106,119,136,154,248,293,326,330,343,347],{"title":11,"visible":15,"weight":16,"urlFragment":17,"anchor":18,"singlePageAnchor":18,"docTitle":19,"url":20},true,1,"index",null,"planning_identity_management","#",{"title":22,"visible":15,"weight":23,"urlFragment":24,"anchor":18,"singlePageAnchor":24,"docTitle":19,"url":25},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_planning-identity-management","#proc_providing-feedback-on-red-hat-documentation_planning-identity-management",{"title":27,"visible":15,"weight":28,"urlFragment":29,"anchor":18,"singlePageAnchor":29,"sections":30,"docTitle":19,"url":58},"1. Overview of IdM and access control in RHEL",3,"overview-of-identity-management-and-access-control-planning-identity-management",[31,35,39,43,48,53],{"title":32,"visible":15,"weight":16,"urlFragment":29,"anchor":33,"singlePageAnchor":33,"docTitle":19,"url":34},"1.1. Introduction to IdM","intro-to-ipa-overview-of-idm-and-access-control","#intro-to-ipa-overview-of-idm-and-access-control",{"title":36,"visible":15,"weight":23,"urlFragment":29,"anchor":37,"singlePageAnchor":37,"docTitle":19,"url":38},"1.2. Common IdM customer scenarios and their solutions","con_common-idm-customer-scenarios-and-their-solutions_overview-of-idm-and-access-control","#con_common-idm-customer-scenarios-and-their-solutions_overview-of-idm-and-access-control",{"title":40,"visible":15,"weight":28,"urlFragment":29,"anchor":41,"singlePageAnchor":41,"docTitle":19,"url":42},"1.3. Introduction to IdM servers and clients","introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control","#introduction-to-ipa-servers-and-clients_overview-of-idm-and-access-control",{"title":44,"visible":15,"weight":45,"urlFragment":29,"anchor":46,"singlePageAnchor":46,"docTitle":19,"url":47},"1.4. Supported versions of RHEL for installing IdM clients",4,"supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control","#supported-versions-of-rhel-for-installing-idm-clients_overview-of-idm-and-access-control",{"title":49,"visible":15,"weight":50,"urlFragment":29,"anchor":51,"singlePageAnchor":51,"docTitle":19,"url":52},"1.5. IdM and access control in RHEL: Central vs. local",5,"identity-management-and-access-control-in-rhel-central-versus-local_overview-of-idm-and-access-control","#identity-management-and-access-control-in-rhel-central-versus-local_overview-of-idm-and-access-control",{"title":54,"visible":15,"weight":55,"urlFragment":29,"anchor":56,"singlePageAnchor":56,"docTitle":19,"url":57},"1.6. IdM terminology",6,"IdM_terminology_overview-of-idm-and-access-control","#IdM_terminology_overview-of-idm-and-access-control","#overview-of-identity-management-and-access-control-planning-identity-management",{"title":60,"visible":15,"weight":45,"urlFragment":61,"anchor":18,"singlePageAnchor":61,"sections":62,"docTitle":19,"url":71},"2. Failover, load-balancing, and high-availability in IdM","failover-load-balancing-high-availability_planning-identity-management",[63,67],{"title":64,"visible":15,"weight":16,"urlFragment":61,"anchor":65,"singlePageAnchor":65,"docTitle":19,"url":66},"2.1. Client-side failover capability","client_side_failover_capability","#client_side_failover_capability",{"title":68,"visible":15,"weight":23,"urlFragment":61,"anchor":69,"singlePageAnchor":69,"docTitle":19,"url":70},"2.2. Server-side load-balancing and service availability","server_side_load_balancing_and_service_availability","#server_side_load_balancing_and_service_availability","#failover-load-balancing-high-availability_planning-identity-management",{"title":73,"visible":15,"weight":50,"urlFragment":74,"anchor":18,"singlePageAnchor":74,"sections":75,"docTitle":19,"url":105},"3. Planning the replica topology","planning-the-replica-topology_planning-identity-management",[76,80,84,88,92,96,100],{"title":77,"visible":15,"weight":16,"urlFragment":74,"anchor":78,"singlePageAnchor":78,"docTitle":19,"url":79},"3.1. Multiple replica servers as a solution for high performance and disaster recovery","multiple-replica-servers-as-a-solution-for-high-performance-and-disaster-recovery_planning-the-replica-topology","#multiple-replica-servers-as-a-solution-for-high-performance-and-disaster-recovery_planning-the-replica-topology",{"title":81,"visible":15,"weight":23,"urlFragment":74,"anchor":82,"singlePageAnchor":82,"docTitle":19,"url":83},"3.2. Introduction to IdM servers and clients","introduction-to-ipa-servers-and-clients_planning-the-replica-topology","#introduction-to-ipa-servers-and-clients_planning-the-replica-topology",{"title":85,"visible":15,"weight":28,"urlFragment":74,"anchor":86,"singlePageAnchor":86,"docTitle":19,"url":87},"3.3. Replication agreements between IdM replicas","replication-agreements-between-idm-replicas_planning-the-replica-topology","#replication-agreements-between-idm-replicas_planning-the-replica-topology",{"title":89,"visible":15,"weight":45,"urlFragment":74,"anchor":90,"singlePageAnchor":90,"docTitle":19,"url":91},"3.4. Guidelines for determining the appropriate number of IdM replicas in a topology","guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology","#guidelines-for-determining-the-appropriate-number-of-idm-replicas-in-a-topology_planning-the-replica-topology",{"title":93,"visible":15,"weight":50,"urlFragment":74,"anchor":94,"singlePageAnchor":94,"docTitle":19,"url":95},"3.5. Guidelines for connecting IdM replicas in a topology","guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology","#guidelines-for-connecting-idm-replicas-in-a-topology_planning-the-replica-topology",{"title":97,"visible":15,"weight":55,"urlFragment":74,"anchor":98,"singlePageAnchor":98,"docTitle":19,"url":99},"3.6. Replica topology examples","replica-topology-examples_planning-the-replica-topology","#replica-topology-examples_planning-the-replica-topology",{"title":101,"visible":15,"weight":102,"urlFragment":74,"anchor":103,"singlePageAnchor":103,"docTitle":19,"url":104},"3.7. The hidden replica mode",7,"the-hidden-replica-mode_planning-the-replica-topology","#the-hidden-replica-mode_planning-the-replica-topology","#planning-the-replica-topology_planning-identity-management",{"title":107,"visible":15,"weight":55,"urlFragment":108,"anchor":18,"singlePageAnchor":108,"sections":109,"docTitle":19,"url":118},"4. Planning your DNS services and host names","planning-your-dns-services-and-host-names-planning-identity-management",[110,114],{"title":111,"visible":15,"weight":16,"urlFragment":108,"anchor":112,"singlePageAnchor":112,"docTitle":19,"url":113},"4.1. DNS services available in an IdM server","dns-services-available-in-an-ipa-server_planning-dns","#dns-services-available-in-an-ipa-server_planning-dns",{"title":115,"visible":15,"weight":23,"urlFragment":108,"anchor":116,"singlePageAnchor":116,"docTitle":19,"url":117},"4.2. Guidelines for planning the DNS domain name and Kerberos realm name","guidelines-for-planning-the-dns-domain-name-and-kerberos-realm-name_planning-dns","#guidelines-for-planning-the-dns-domain-name-and-kerberos-realm-name_planning-dns","#planning-your-dns-services-and-host-names-planning-identity-management",{"title":120,"visible":15,"weight":102,"urlFragment":121,"anchor":18,"singlePageAnchor":121,"sections":122,"docTitle":19,"url":135},"5. Planning your CA services","planning-your-ca-services_planning-identity-management",[123,127,131],{"title":124,"visible":15,"weight":16,"urlFragment":121,"anchor":125,"singlePageAnchor":125,"docTitle":19,"url":126},"5.1. CA Services available in an IdM server","ca-services-available-in-an-ipa-server_planning-your-ca-services","#ca-services-available-in-an-ipa-server_planning-your-ca-services",{"title":128,"visible":15,"weight":23,"urlFragment":121,"anchor":129,"singlePageAnchor":129,"docTitle":19,"url":130},"5.2. Guidelines for distribution of CA services","guidelines-for-the-distribution-of-ca-services_planning-your-ca-services","#guidelines-for-the-distribution-of-ca-services_planning-your-ca-services",{"title":132,"visible":15,"weight":28,"urlFragment":121,"anchor":133,"singlePageAnchor":133,"docTitle":19,"url":134},"5.3. Random serial numbers in IdM","random-serial-numbers-in-idm_planning-your-ca-services","#random-serial-numbers-in-idm_planning-your-ca-services","#planning-your-ca-services_planning-identity-management",{"title":137,"visible":15,"weight":138,"urlFragment":139,"anchor":18,"singlePageAnchor":139,"sections":140,"docTitle":19,"url":153},"6. Planning integration with AD",8,"planning-integration-with-ad_planning-identity-management",[141,145,149],{"title":142,"visible":15,"weight":16,"urlFragment":139,"anchor":143,"singlePageAnchor":143,"docTitle":19,"url":144},"6.1. Direct integration of Linux systems into Active Directory","direct-integration-of-linux-systems-into-active-directory_planning-integration-with-ad","#direct-integration-of-linux-systems-into-active-directory_planning-integration-with-ad",{"title":146,"visible":15,"weight":23,"urlFragment":139,"anchor":147,"singlePageAnchor":147,"docTitle":19,"url":148},"6.2. Indirect integration of Linux systems into Active Directory by using Identity Management","indirect-integration-of-linux-systems-into-active-directory-by-using-identity-management_planning-integration-with-ad","#indirect-integration-of-linux-systems-into-active-directory-by-using-identity-management_planning-integration-with-ad",{"title":150,"visible":15,"weight":28,"urlFragment":139,"anchor":151,"singlePageAnchor":151,"docTitle":19,"url":152},"6.3. Guidelines for deciding between direct and indirect integration","guidelines-for-deciding-between-direct-and-indirect-integration_planning-integration-with-ad","#guidelines-for-deciding-between-direct-and-indirect-integration_planning-integration-with-ad","#planning-integration-with-ad_planning-identity-management",{"title":155,"visible":15,"weight":156,"urlFragment":157,"anchor":18,"singlePageAnchor":157,"sections":158,"docTitle":19,"url":247},"7. Planning a cross-forest trust between IdM and AD",9,"planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management",[159,163,167,171,192,196,200,204,208,212,217,222,227,232,237,242],{"title":160,"visible":15,"weight":16,"urlFragment":157,"anchor":161,"singlePageAnchor":161,"docTitle":19,"url":162},"7.1. Cross-forest and external trusts between IdM and AD","cross-forest-and-external-trusts-between-idm-and-ad_planning-a-cross-forest-trust-between-idm-and-ad","#cross-forest-and-external-trusts-between-idm-and-ad_planning-a-cross-forest-trust-between-idm-and-ad",{"title":164,"visible":15,"weight":23,"urlFragment":157,"anchor":165,"singlePageAnchor":165,"docTitle":19,"url":166},"7.2. Trust controllers and trust agents","trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad","#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad",{"title":168,"visible":15,"weight":28,"urlFragment":157,"anchor":169,"singlePageAnchor":169,"docTitle":19,"url":170},"7.3. One-way trusts and two-way trusts","one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad","#one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad",{"title":172,"visible":15,"weight":45,"urlFragment":157,"anchor":173,"singlePageAnchor":173,"sections":174,"docTitle":19,"url":191},"7.4. Ensuring support for common encryption types in AD and RHEL","ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad",[175,179,183,187],{"title":176,"visible":15,"weight":16,"urlFragment":157,"anchor":177,"singlePageAnchor":177,"docTitle":19,"url":178},"7.4.1. Enabling AES encryption in AD (recommended)","enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel","#enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel",{"title":180,"visible":15,"weight":23,"urlFragment":157,"anchor":181,"singlePageAnchor":181,"docTitle":19,"url":182},"7.4.2. Enabling the AES encryption type in Active Directory using a GPO","enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel","#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel",{"title":184,"visible":15,"weight":28,"urlFragment":157,"anchor":185,"singlePageAnchor":185,"docTitle":19,"url":186},"7.4.3. Enabling RC4 support in RHEL","enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel","#enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel",{"title":188,"visible":15,"weight":45,"urlFragment":157,"anchor":189,"singlePageAnchor":189,"docTitle":19,"url":190},"7.4.4. Additional resources","additional_resources","#additional_resources","#ensuring-support-for-common-encryption-types-in-ad-and-rhel_planning-a-cross-forest-trust-between-idm-and-ad",{"title":193,"visible":15,"weight":50,"urlFragment":157,"anchor":194,"singlePageAnchor":194,"docTitle":19,"url":195},"7.5. Kerberos FAST for trusted domains","con_kerberos-fast-for-trusted-domains_planning-a-cross-forest-trust-between-idm-and-ad","#con_kerberos-fast-for-trusted-domains_planning-a-cross-forest-trust-between-idm-and-ad",{"title":197,"visible":15,"weight":55,"urlFragment":157,"anchor":198,"singlePageAnchor":198,"docTitle":19,"url":199},"7.6. POSIX and ID mapping ID range types for AD users","con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad","#con_posix-and-id-mapping-id-range-types-for-ad-users_planning-a-cross-forest-trust-between-idm-and-ad",{"title":201,"visible":15,"weight":102,"urlFragment":157,"anchor":202,"singlePageAnchor":202,"docTitle":19,"url":203},"7.7. Options for automatically mapping private groups for AD users: POSIX trusts","ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad","#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad",{"title":205,"visible":15,"weight":138,"urlFragment":157,"anchor":206,"singlePageAnchor":206,"docTitle":19,"url":207},"7.8. Options for automatically mapping private groups for AD users: ID mapping trusts","ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad","#ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad",{"title":209,"visible":15,"weight":156,"urlFragment":157,"anchor":210,"singlePageAnchor":210,"docTitle":19,"url":211},"7.9. Enabling automatic private group mapping for a POSIX ID range on the CLI","proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad","#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_planning-a-cross-forest-trust-between-idm-and-ad",{"title":213,"visible":15,"weight":214,"urlFragment":157,"anchor":215,"singlePageAnchor":215,"docTitle":19,"url":216},"7.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI",10,"proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad","#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_planning-a-cross-forest-trust-between-idm-and-ad",{"title":218,"visible":15,"weight":219,"urlFragment":157,"anchor":220,"singlePageAnchor":220,"docTitle":19,"url":221},"7.11. Non-POSIX external groups and SID mapping",11,"non-posix-external-groups-and-sid-mapping_planning-a-cross-forest-trust-between-idm-and-ad","#non-posix-external-groups-and-sid-mapping_planning-a-cross-forest-trust-between-idm-and-ad",{"title":223,"visible":15,"weight":224,"urlFragment":157,"anchor":225,"singlePageAnchor":225,"docTitle":19,"url":226},"7.12. Guidelines for setting up DNS for an IdM-AD trust",12,"guidelines-for-setting-up-dns-for-an-idm-ad-trust_planning-a-cross-forest-trust-between-idm-and-ad","#guidelines-for-setting-up-dns-for-an-idm-ad-trust_planning-a-cross-forest-trust-between-idm-and-ad",{"title":228,"visible":15,"weight":229,"urlFragment":157,"anchor":230,"singlePageAnchor":230,"docTitle":19,"url":231},"7.13. Guidelines for configuring NetBIOS names",13,"guidelines-for-configuring-netbios-names_planning-a-cross-forest-trust-between-idm-and-ad","#guidelines-for-configuring-netbios-names_planning-a-cross-forest-trust-between-idm-and-ad",{"title":233,"visible":15,"weight":234,"urlFragment":157,"anchor":235,"singlePageAnchor":235,"docTitle":19,"url":236},"7.14. Supported versions of Windows Server",14,"supported-versions-of-windows-server_planning-a-cross-forest-trust-between-idm-and-ad","#supported-versions-of-windows-server_planning-a-cross-forest-trust-between-idm-and-ad",{"title":238,"visible":15,"weight":239,"urlFragment":157,"anchor":240,"singlePageAnchor":240,"docTitle":19,"url":241},"7.15. AD server discovery and affinity",15,"ad-server-discovery-and-affinity_planning-a-cross-forest-trust-between-idm-and-ad","#ad-server-discovery-and-affinity_planning-a-cross-forest-trust-between-idm-and-ad",{"title":243,"visible":15,"weight":244,"urlFragment":157,"anchor":245,"singlePageAnchor":245,"docTitle":19,"url":246},"7.16. Operations performed during indirect integration of IdM to AD",16,"operations-performed-during-indirect-integration-of-idm-to-ad_planning-a-cross-forest-trust-between-idm-and-ad","#operations-performed-during-indirect-integration-of-idm-to-ad_planning-a-cross-forest-trust-between-idm-and-ad","#planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management",{"title":249,"visible":15,"weight":214,"urlFragment":250,"anchor":18,"singlePageAnchor":250,"sections":251,"docTitle":19,"url":292},"8. Backing up and restoring IdM","backing-up-and-restoring-idm_planning-identity-management",[252,256,260,264,268,272,276,280,284,288],{"title":253,"visible":15,"weight":16,"urlFragment":250,"anchor":254,"singlePageAnchor":254,"docTitle":19,"url":255},"8.1. IdM backup types","backup-types_backing-up-and-restoring-idm","#backup-types_backing-up-and-restoring-idm",{"title":257,"visible":15,"weight":23,"urlFragment":250,"anchor":258,"singlePageAnchor":258,"docTitle":19,"url":259},"8.2. Naming conventions for IdM backup files","naming-conventions-for-idm-backup-files_backing-up-and-restoring-idm","#naming-conventions-for-idm-backup-files_backing-up-and-restoring-idm",{"title":261,"visible":15,"weight":28,"urlFragment":250,"anchor":262,"singlePageAnchor":262,"docTitle":19,"url":263},"8.3. Considerations when creating a backup","considerations-when-creating-a-backup_backing-up-and-restoring-idm","#considerations-when-creating-a-backup_backing-up-and-restoring-idm",{"title":265,"visible":15,"weight":45,"urlFragment":250,"anchor":266,"singlePageAnchor":266,"docTitle":19,"url":267},"8.4. Creating an IdM backup","proc_creating-an-idm-backup_backing-up-and-restoring-idm","#proc_creating-an-idm-backup_backing-up-and-restoring-idm",{"title":269,"visible":15,"weight":50,"urlFragment":250,"anchor":270,"singlePageAnchor":270,"docTitle":19,"url":271},"8.5. Creating a GPG2-encrypted IdM backup","encrypting-a-backup_backing-up-and-restoring-idm","#encrypting-a-backup_backing-up-and-restoring-idm",{"title":273,"visible":15,"weight":55,"urlFragment":250,"anchor":274,"singlePageAnchor":274,"docTitle":19,"url":275},"8.6. Creating a GPG2 key","creating-gpg-key_backing-up-and-restoring-idm","#creating-gpg-key_backing-up-and-restoring-idm",{"title":277,"visible":15,"weight":102,"urlFragment":250,"anchor":278,"singlePageAnchor":278,"docTitle":19,"url":279},"8.7. When to restore from an IdM backup","when-to-restore-from-idm-backup_backing-up-and-restoring-idm","#when-to-restore-from-idm-backup_backing-up-and-restoring-idm",{"title":281,"visible":15,"weight":138,"urlFragment":250,"anchor":282,"singlePageAnchor":282,"docTitle":19,"url":283},"8.8. Considerations when restoring from an IdM backup","considerations-when-restoring-from-idm-backup_backing-up-and-restoring-idm","#considerations-when-restoring-from-idm-backup_backing-up-and-restoring-idm",{"title":285,"visible":15,"weight":156,"urlFragment":250,"anchor":286,"singlePageAnchor":286,"docTitle":19,"url":287},"8.9. Restoring an IdM server from a backup","restoring-a-backup_backing-up-and-restoring-idm","#restoring-a-backup_backing-up-and-restoring-idm",{"title":289,"visible":15,"weight":214,"urlFragment":250,"anchor":290,"singlePageAnchor":290,"docTitle":19,"url":291},"8.10. Restoring from an encrypted backup","restoring-encrypted-backup_backing-up-and-restoring-idm","#restoring-encrypted-backup_backing-up-and-restoring-idm","#backing-up-and-restoring-idm_planning-identity-management",{"title":294,"visible":15,"weight":219,"urlFragment":295,"anchor":18,"singlePageAnchor":295,"sections":296,"docTitle":19,"url":325},"9. Backing up and restoring IdM servers using Ansible playbooks","assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management",[297,301,305,309,313,317,321],{"title":298,"visible":15,"weight":16,"urlFragment":295,"anchor":299,"singlePageAnchor":299,"docTitle":19,"url":300},"9.1. Using Ansible to create a backup of an IdM server","proc_using-ansible-to-create-a-backup-of-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-create-a-backup-of-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks",{"title":302,"visible":15,"weight":23,"urlFragment":295,"anchor":303,"singlePageAnchor":303,"docTitle":19,"url":304},"9.2. Using Ansible to create a backup of an IdM server on your Ansible controller","proc_using-ansible-to-create-a-backup-of-an-idm-server-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-create-a-backup-of-an-idm-server-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks",{"title":306,"visible":15,"weight":28,"urlFragment":295,"anchor":307,"singlePageAnchor":307,"docTitle":19,"url":308},"9.3. Using Ansible to copy a backup of an IdM server to your Ansible controller","proc_using-ansible-to-copy-a-backup-of-an-idm-server-to-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-copy-a-backup-of-an-idm-server-to-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks",{"title":310,"visible":15,"weight":45,"urlFragment":295,"anchor":311,"singlePageAnchor":311,"docTitle":19,"url":312},"9.4. Using Ansible to copy a backup of an IdM server from your Ansible controller to the IdM server","proc_using-ansible-to-copy-a-backup-of-an-idm-server-from-your-ansible-controller-to-the-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-copy-a-backup-of-an-idm-server-from-your-ansible-controller-to-the-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks",{"title":314,"visible":15,"weight":50,"urlFragment":295,"anchor":315,"singlePageAnchor":315,"docTitle":19,"url":316},"9.5. Using Ansible to remove a backup from an IdM server","proc_using-ansible-to-remove-a-backup-from-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-remove-a-backup-from-an-idm-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks",{"title":318,"visible":15,"weight":55,"urlFragment":295,"anchor":319,"singlePageAnchor":319,"docTitle":19,"url":320},"9.6. Using Ansible to restore an IdM server from a backup stored on the server","proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-the-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-the-server_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks",{"title":322,"visible":15,"weight":102,"urlFragment":295,"anchor":323,"singlePageAnchor":323,"docTitle":19,"url":324},"9.7. Using Ansible to restore an IdM server from a backup stored on your Ansible controller","proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#proc_using-ansible-to-restore-an-idm-server-from-a-backup-stored-on-your-ansible-controller_assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks","#assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management",{"title":327,"visible":15,"weight":224,"urlFragment":328,"anchor":18,"singlePageAnchor":328,"docTitle":19,"url":329},"10. IdM integration with Red Hat products","ref_idm-integration-with-other-red-hat-products_planning-identity-management","#ref_idm-integration-with-other-red-hat-products_planning-identity-management",{"title":331,"visible":15,"weight":229,"urlFragment":332,"anchor":18,"singlePageAnchor":332,"sections":333,"docTitle":19,"url":342},"11. Configuring Single Sign-On for the RHEL 9 web console in the IdM domain","configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management",[334,338],{"title":335,"visible":15,"weight":16,"urlFragment":332,"anchor":336,"singlePageAnchor":336,"docTitle":19,"url":337},"11.1. Joining a RHEL 9 system to an IdM domain using the web console","joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain","#joining-a-rhel-8-system-to-an-idm-domain-using-the-web-console_configuring-single-sign-on-for-the-web-console-in-the-idm-domain",{"title":339,"visible":15,"weight":23,"urlFragment":332,"anchor":340,"singlePageAnchor":340,"docTitle":19,"url":341},"11.2. Logging in to the web console using Kerberos authentication","logging-in-to-the-web-console-using-a-kerberos-ticket_configuring-single-sign-on-for-the-web-console-in-the-idm-domain","#logging-in-to-the-web-console-using-a-kerberos-ticket_configuring-single-sign-on-for-the-web-console-in-the-idm-domain","#configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management",{"title":344,"visible":15,"weight":234,"urlFragment":345,"anchor":18,"singlePageAnchor":345,"docTitle":19,"url":346},"12. IdM Directory Server RFC support","ref_idm-directory-server-rfc-support_planning-identity-management","#ref_idm-directory-server-rfc-support_planning-identity-management",{"title":348,"visible":15,"weight":239,"urlFragment":349,"anchor":18,"singlePageAnchor":350,"docTitle":19,"url":351},"Legal Notice","legal-notice","idm140188399814592","#idm140188399814592",[353,356,359],{"text":354,"link":355},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":357,"link":358},"9","/documentation/red_hat_enterprise_linux/9/",{"text":11},{"name":11,"translations":361,"productVersion":362,"singlePage":363,"pdf":366,"publishingStatus":368},[5,6,7,8,9],{"name":357},{"contentUrl":364,"name":11,"new":365,"url":19},"https://d2bhdhkti9t3uj.cloudfront.net/html/0de9e161-e5e0-42a6-9c76-79d67d1e1a3f/3420efb1b3bd9f9f3652c8e135515a93.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/planning_identity_management/index",{"url":367},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/planning_identity_management/Red_Hat_Enterprise_Linux-9-Planning_Identity_Management-en-US.pdf","PUBLISHED",[370,375,378,382,386,390,394],{"name":371,"new":372,"url":373,"urlAliases":374},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":357,"new":376,"url":357,"urlAliases":377},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":379,"new":380,"url":379,"urlAliases":381},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":383,"new":384,"url":383,"urlAliases":385},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":387,"new":388,"url":387,"urlAliases":389},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":391,"new":392,"url":391,"urlAliases":393},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":395,"new":396,"url":395,"urlAliases":397},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"planning_identity_management/index":399,"planning_identity_management/proc_providing-feedback-on-red-hat-documentation_planning-identity-management":400,"planning_identity_management/overview-of-identity-management-and-access-control-planning-identity-management":401,"planning_identity_management/failover-load-balancing-high-availability_planning-identity-management":402,"planning_identity_management/planning-the-replica-topology_planning-identity-management":403,"planning_identity_management/planning-your-dns-services-and-host-names-planning-identity-management":404,"planning_identity_management/planning-your-ca-services_planning-identity-management":405,"planning_identity_management/planning-integration-with-ad_planning-identity-management":406,"planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management":407,"planning_identity_management/backing-up-and-restoring-idm_planning-identity-management":408,"planning_identity_management/assembly_backing-up-and-restoring-idm-servers-using-ansible-playbooks_planning-identity-management":409,"planning_identity_management/ref_idm-integration-with-other-red-hat-products_planning-identity-management":410,"planning_identity_management/configuring_single_sign_on_for_the_rhel_8_web_console_in_the_idm_domain_planning-identity-management":411,"planning_identity_management/ref_idm-directory-server-rfc-support_planning-identity-management":412,"planning_identity_management/legal-notice":413},{"prevt":18,"next":24},{"prevt":17,"next":29},{"prevt":18,"next":29},{"prevt":18,"next":61},{"prevt":18,"next":74},{"prevt":18,"next":108},{"prevt":18,"next":121},{"prevt":18,"next":139},{"prevt":18,"next":157},{"prevt":18,"next":250},{"prevt":18,"next":295},{"prevt":295,"next":332},{"prevt":18,"next":332},{"prevt":332,"next":349},{"prevt":345,"next":18},{"product":18,"version":18},{"planning_identity_management":416},[365],{"products":418},[419,420,421,422,423,424,425,426,427,428,429,430,431],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":434},[435,444,450,459,467,475,482,490,497],{"nid":436,"type":437,"langcode":438,"Published":16,"title":439,"Created":440,"Updated":441,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":442,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":443},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":445,"type":437,"langcode":438,"Published":16,"title":439,"Created":446,"Updated":447,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":448,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":449},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":451,"type":452,"langcode":438,"Published":16,"title":453,"Created":454,"Updated":455,"body_value":18,"field_documentation banner_text_value":456,"field_documentation banner_text_format":457,"field_paths_value":458,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":460,"type":461,"langcode":438,"Published":16,"title":462,"Created":463,"Updated":464,"body_value":18,"field_documentation banner_text_value":465,"field_documentation banner_text_format":457,"field_paths_value":466,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":468,"type":469,"langcode":438,"Published":16,"title":470,"Created":471,"Updated":472,"body_value":18,"field_documentation banner_text_value":473,"field_documentation banner_text_format":457,"field_paths_value":474,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":476,"type":469,"langcode":438,"Published":16,"title":477,"Created":478,"Updated":479,"body_value":18,"field_documentation banner_text_value":480,"field_documentation banner_text_format":457,"field_paths_value":481,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":483,"type":484,"langcode":438,"Published":16,"title":485,"Created":486,"Updated":487,"body_value":18,"field_documentation banner_text_value":488,"field_documentation banner_text_format":457,"field_paths_value":489,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":491,"type":484,"langcode":438,"Published":16,"title":492,"Created":493,"Updated":494,"body_value":18,"field_documentation banner_text_value":495,"field_documentation banner_text_format":457,"field_paths_value":496,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":498,"alertType":499,"type":500,"langcode":438,"Published":16,"title":501,"Created":496,"Updated":496,"body_value":18,"field_documentation banner_text_value":502,"field_documentation banner_text_format":457,"field_paths_value":503,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":354},["Reactive",506],{"$snuxt-i18n-meta":507,"$sisLoading":508,"$sisSinglePage":15,"$sisInFocusMode":508,"$smobileTocOpen":508,"$sisLargeTOC":508,"$scurrentChapter":17,"$scurrentSection":17,"$scurrentSubSection":496},{},false,["Set"],["ShallowReactive",511],{"s8LoCEfG4A":18,"rFVLKcOK8e":18,"uUstF4AIyn":18,"MdHNSZP4nR":18,"Pn02PlJOas":18},"/en/documentation/red_hat_enterprise_linux/9/html-single/planning_identity_management/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
