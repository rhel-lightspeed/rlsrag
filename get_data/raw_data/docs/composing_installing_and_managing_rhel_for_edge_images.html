<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Composing, installing, and managing RHEL for Edge images | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Composing, installing, and managing RHEL for Edge images | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Composing, installing, and managing RHEL for Edge images<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Composing, installing, and managing RHEL for Edge images</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>1. Introduction to RHEL for Edge images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Introduction to RHEL for Edge images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-supported-architecture_introducing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-supported-architecture_introducing-rhel-for-edge-images" data-v-b883c74f>1.1. RHEL for Edge—supported architecture</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images" data-v-b883c74f>1.2. RHEL for Edge image types and their deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_non-network-based-deployments_introducing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-con_non-network-based-deployments_introducing-rhel-for-edge-images" data-v-b883c74f>1.3. Non-network-based deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_network-based-deployments_introducing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-con_network-based-deployments_introducing-rhel-for-edge-images" data-v-b883c74f>1.4. Network-based deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images" data-v-b883c74f>1.5. Difference between RHEL RPM images and RHEL for Edge images</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--setting-up-image-builder_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="setting-up-image-builder_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>2. Setting up RHEL image builder</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#setting-up-image-builder_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-setting-up-image-builder_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Setting up RHEL image builder</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-image-builder-system-requirements_setting-up-image-builder" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-image-builder-system-requirements_setting-up-image-builder" data-v-b883c74f>2.1. Image builder system requirements</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-installing-image-builder_setting-up-image-builder" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-installing-image-builder_setting-up-image-builder" data-v-b883c74f>2.2. Installing RHEL image builder</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-repositories_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="managing-repositories_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>3. Configuring RHEL image builder repositories</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-repositories_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-managing-repositories_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Configuring RHEL image builder repositories</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_adding-custom-third-party-repositories_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_adding-custom-third-party-repositories_managing-repositories" data-v-b883c74f>3.1. Adding custom third-party repositories to RHEL image builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_adding-third-party-repositories-with-specific-distributions_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_adding-third-party-repositories-with-specific-distributions_managing-repositories" data-v-b883c74f>3.2. Adding third-party repositories with specific distributions to RHEL image builder</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_checking-repositories-metadata-with-gpg_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_checking-repositories-metadata-with-gpg_managing-repositories" data-v-b883c74f>3.3. Checking repositories metadata with GPG</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#image-builder-default-system-repositories_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-image-builder-default-system-repositories_managing-repositories" data-v-b883c74f>3.4. RHEL image builder official repository overrides</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overriding-a-system-repository_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-overriding-a-system-repository_managing-repositories" data-v-b883c74f>3.5. Overriding a system repository</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overriding-a-system-repository-with-support-for-subscriptions_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-overriding-a-system-repository-with-support-for-subscriptions_managing-repositories" data-v-b883c74f>3.6. Overriding a system repository that requires subscriptions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-and-using-satellite-cv-as-a-content-source_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-configuring-and-using-satellite-cv-as-a-content-source_managing-repositories" data-v-b883c74f>3.7. Configuring and using Satellite CV as a content source</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-satellite-cv-as-repositories-to-build-images-in-rhel-image-builder_managing-repositories" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-using-satellite-cv-as-repositories-to-build-images-in-rhel-image-builder_managing-repositories" data-v-b883c74f>3.8. Using Satellite CV as repositories to build images in RHEL image builder</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>4. Composing a RHEL for Edge image using image builder in RHEL web console</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Composing a RHEL for Edge image using image builder in RHEL web console</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" data-v-b883c74f>4.1. Accessing RHEL image builder in the RHEL web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" data-v-b883c74f>4.2. Creating a blueprint for a RHEL for Edge image using image builder in the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" data-v-b883c74f>4.3. Creating a RHEL for Edge Commit image by using image builder in web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" data-v-b883c74f>4.4. Creating a RHEL for Edge Container image by using RHEL image builder in RHEL web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" data-v-b883c74f>4.5. Creating a RHEL for Edge Installer image by using image builder in RHEL web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console" data-v-b883c74f>4.6. Downloading a RHEL for Edge image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-additional_resources" data-v-b883c74f>4.7. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>5. Composing a RHEL for Edge image using image builder command-line</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Composing a RHEL for Edge image using image builder command-line</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--network_based_deployments_workflow" data-v-b883c74f><summary class="heading sub-chapter-title" id="network_based_deployments_workflow--summary" data-v-b883c74f>5.1. Network-based deployments workflow</summary><ol id="sub-nav--network_based_deployments_workflow" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#network_based_deployments_workflow" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-network_based_deployments_workflow" data-v-b883c74f>Network-based deployments workflow</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.1.1. Creating a RHEL for Edge Commit image blueprint using image builder command-line interface</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.1.2. Creating a RHEL for Edge Commit image using image builder command-line interface</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.1.3. Creating a RHEL for Edge image update with a ref commit by using RHEL image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--non_network_based_deployments_workflow" data-v-b883c74f><summary class="heading sub-chapter-title" id="non_network_based_deployments_workflow--summary" data-v-b883c74f>5.2. Non-network-based deployments workflow</summary><ol id="sub-nav--non_network_based_deployments_workflow" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#non_network_based_deployments_workflow" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-non_network_based_deployments_workflow" data-v-b883c74f>Non-network-based deployments workflow</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.2.1. Creating a RHEL for Edge Container blueprint by using image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.2.2. Creating a RHEL for Edge Installer blueprint using image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.2.3. Creating a RHEL for Edge Container image by using image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.2.4. Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.2.5. Downloading a RHEL for Edge Installer image using the image builder CLI</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f><summary class="heading sub-chapter-title" id="image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line--summary" data-v-b883c74f>5.3. Supported image customizations</summary><ol id="sub-nav--image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>Supported image customizations</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#selecting-a-distribution_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-selecting-a-distribution_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.1. Selecting a distribution</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#selecting-a-package-group_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-selecting-a-package-group_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.2. Selecting a package group</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-the-image-hostname_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-setting-the-image-hostname_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.3. Setting the image hostname</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#specifying-additional-users_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-specifying-additional-users_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.4. Specifying additional users</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#specifying-additional-groups_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-specifying-additional-groups_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.5. Specifying additional groups</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-ssh-key-for-existing-users_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-setting-ssh-key-for-existing-users_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.6. Setting SSH key for existing users</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#appending-a-kernel_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-appending-a-kernel_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.7. Appending a kernel argument</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-timezone-and-ntp_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-setting-timezone-and-ntp_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.8. Setting time zone and NTP</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#customizing-the-locale-settings_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-customizing-the-locale-settings_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.9. Customizing the locale settings</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#customizing-firewall_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-customizing-firewall_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.10. Customizing firewall</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-or-disabling-services_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-enabling-or-disabling-services_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.3.11. Enabling or disabling services</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f><summary class="heading sub-chapter-title" id="specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line--summary" data-v-b883c74f>5.3.12. Specifying a custom file system configuration</summary><ol id="sub-nav--specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>Specifying a custom file system configuration</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#specifying_customized_files_in_the_blueprint" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-specifying_customized_files_in_the_blueprint" data-v-b883c74f>5.3.12.1. Specifying customized files in the blueprint</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#specifying_customized_directories_in_the_blueprint" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-specifying_customized_directories_in_the_blueprint" data-v-b883c74f>5.3.12.2. Specifying customized directories in the blueprint</a></li><!--]--><!--]--></ol></details></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#packages-installed-by-default_composing-a-rhel-for-edge-image-using-image-builder-command-line" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-packages-installed-by-default_composing-a-rhel-for-edge-image-using-image-builder-command-line" data-v-b883c74f>5.4. Packages installed by RHEL image builder</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>6. Building simplified installer images to provision a RHEL for Edge image</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Building simplified installer images to provision a RHEL for Edge image</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.1. Simplified installer image build and deployment</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.2. Creating a blueprint for a Simplified image using RHEL image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.4. Downloading a simplified RHEL for Edge image using the image builder command-line interface</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.5. Creating a blueprint for a Simplified image RHEL using image builder GUI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.6. Creating a RHEL for Edge Simplified Installer image using image builder GUI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.7. Downloading a simplified RHEL for Edge image using the image builder GUI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.8. Setting up an UEFI HTTP Boot server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.9. Deploying the Simplified ISO image in a Virtual Machine</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.10. Deploying the Simplified ISO image from a USB flash drive</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-and-booting-a-rhel-for-edge-image-in-fips-mode_building-and-provisioning-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-and-booting-a-rhel-for-edge-image-in-fips-mode_building-and-provisioning-simplified-installer-images" data-v-b883c74f>6.11. Creating and booting a RHEL for Edge image in FIPS mode</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>7. Building and provisioning a minimal raw image</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Building and provisioning a minimal raw image</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-minimal-raw-image-build-and-deployment_building-and-provisioning-a-minimal-raw-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-the-minimal-raw-image-build-and-deployment_building-and-provisioning-a-minimal-raw-image" data-v-b883c74f>7.1. The minimal raw image build and deployment</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-the-blueprint-for-a-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-the-blueprint-for-a-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image" data-v-b883c74f>7.2. Creating the blueprint for a Minimal Raw image by using RHEL image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image" data-v-b883c74f>7.3. Creating a Minimal Raw image by using RHEL image builder CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#downloading-and-decompressing-the-minimal-raw-image_building-and-provisioning-a-minimal-raw-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-downloading-and-decompressing-the-minimal-raw-image_building-and-provisioning-a-minimal-raw-image" data-v-b883c74f>7.4. Downloading and decompressing the Minimal Raw image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-the-minimal-raw-image-from-a-usb-flash-drive_building-and-provisioning-a-minimal-raw-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-deploying-the-minimal-raw-image-from-a-usb-flash-drive_building-and-provisioning-a-minimal-raw-image" data-v-b883c74f>7.5. Deploying the Minimal Raw image from a USB flash drive</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>8. Using the Ignition tool for the RHEL for Edge Simplified Installer images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Using the Ignition tool for the RHEL for Edge Simplified Installer images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" data-v-b883c74f>8.1. Creating an Ignition configuration file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" data-v-b883c74f>8.2. Creating a blueprint in the GUI with support to Ignition</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images" data-v-b883c74f>8.3. Creating a blueprint with support to Ignition using the CLI</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>9. Creating VMDK images for RHEL for Edge</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Creating VMDK images for RHEL for Edge</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-blueprint-with-the-ignition-configuration_creating-vmdk-images-for-rhel-for-edge" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-blueprint-with-the-ignition-configuration_creating-vmdk-images-for-rhel-for-edge" data-v-b883c74f>9.1. Creating a blueprint with the Ignition configuration</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-vmdk-image-for-rhel-for-edge_creating-vmdk-images-for-rhel-for-edge" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-vmdk-image-for-rhel-for-edge_creating-vmdk-images-for-rhel-for-edge" data-v-b883c74f>9.2. Creating a VMDK image for RHEL for Edge</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#uploading-vmdk-images-and-creating-a-rhel-virtual-machine-in-vsphere_creating-vmdk-images-for-rhel-for-edge" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-uploading-vmdk-images-and-creating-a-rhel-virtual-machine-in-vsphere_creating-vmdk-images-for-rhel-for-edge" data-v-b883c74f>9.3. Uploading VMDK images and creating a RHEL virtual machine in vSphere</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>10. Creating RHEL for Edge AMI images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Creating RHEL for Edge AMI images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-blueprint-for-edge-ami-images_creating-rhel-for-edge-ami-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-blueprint-for-edge-ami-images_creating-rhel-for-edge-ami-images" data-v-b883c74f>10.1. Creating a blueprint for Edge AMI images</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rhel-for-edge-ami-image_creating-rhel-for-edge-ami-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-a-rhel-for-edge-ami-image_creating-rhel-for-edge-ami-images" data-v-b883c74f>10.2. Creating a RHEL for Edge AMI image</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#uploading-a-rhel-edge-ami-image-to-aws_creating-rhel-for-edge-ami-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-uploading-a-rhel-edge-ami-image-to-aws_creating-rhel-for-edge-ami-images" data-v-b883c74f>10.3. Uploading a RHEL Edge AMI image to AWS</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>11. Automatically provisioning and onboarding RHEL for Edge devices with FDO</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Automatically provisioning and onboarding RHEL for Edge devices with FDO</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.1. The FIDO Device Onboarding (FDO) process</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.2. Automatically provisioning and onboarding RHEL for Edge devices</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.3. Generating key and certificates</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.4. Installing and running the manufacturing server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.5. Installing, configuring, and running the Rendezvous server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.6. Installing, configuring, and running the Owner server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" data-v-b883c74f>11.7. Automatically onboarding a RHEL for Edge device by using FDO authentication</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>12. Using FDO to onboard RHEL for Edge devices with a database backend</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Using FDO to onboard RHEL for Edge devices with a database backend</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#onboarding-devices-with-an-fdo-database_using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-onboarding-devices-with-an-fdo-database_using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend" data-v-b883c74f>12.1. Onboarding devices with an FDO database</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>13. Deploying a RHEL for Edge image in a network-based environment</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Deploying a RHEL for Edge image in a network-based environment</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#extracting-the-tar-file-commit_installing-rpm-ostree-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-extracting-the-tar-file-commit_installing-rpm-ostree-images" data-v-b883c74f>13.1. Extracting the RHEL for Edge image commit</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images" data-v-b883c74f>13.2. Setting up a web server to install RHEL for Edge images</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images" data-v-b883c74f>13.3. Performing an attended installation to an edge device by using Kickstart</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#performing-an-unattended-installation-to-an-edge-device-by-using-kickstart_installing-rpm-ostree-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-performing-an-unattended-installation-to-an-edge-device-by-using-kickstart_installing-rpm-ostree-images" data-v-b883c74f>13.4. Performing an unattended installation to an edge device by using Kickstart</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>14. Deploying a RHEL for Edge image in a non-network-based environment</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Deploying a RHEL for Edge image in a non-network-based environment</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" data-v-b883c74f>14.1. Creating a RHEL for Edge Container image for non-network-based deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" data-v-b883c74f>14.2. Creating a RHEL for Edge Installer image for non-network-based deployments</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image" data-v-b883c74f>14.3. Installing the RHEL for Edge image for non-network-based deployments</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>15. Managing RHEL for Edge images</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Managing RHEL for Edge images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--editing_a_rhel_for_edge_image_blueprint_by_using_image_builder" data-v-b883c74f><summary class="heading sub-chapter-title" id="editing_a_rhel_for_edge_image_blueprint_by_using_image_builder--summary" data-v-b883c74f>15.1. Editing a RHEL for Edge image blueprint by using image builder</summary><ol id="sub-nav--editing_a_rhel_for_edge_image_blueprint_by_using_image_builder" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#editing_a_rhel_for_edge_image_blueprint_by_using_image_builder" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-editing_a_rhel_for_edge_image_blueprint_by_using_image_builder" data-v-b883c74f>Editing a RHEL for Edge image blueprint by using image builder</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images" data-v-b883c74f>15.1.1. Adding a component to RHEL for Edge blueprint using image builder in RHEL web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images" data-v-b883c74f>15.1.2. Removing a component from a blueprint using RHEL image builder in the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images" data-v-b883c74f>15.1.3. Editing a RHEL for Edge image blueprint using command-line interface</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--updating_rhel_for_edge_images" data-v-b883c74f><summary class="heading sub-chapter-title" id="updating_rhel_for_edge_images--summary" data-v-b883c74f>15.2. Updating RHEL for Edge images</summary><ol id="sub-nav--updating_rhel_for_edge_images" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#updating_rhel_for_edge_images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-updating_rhel_for_edge_images" data-v-b883c74f>Updating RHEL for Edge images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images" data-v-b883c74f>15.2.1. How RHEL for Edge image updates are deployed</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_building-a-commit-update_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_building-a-commit-update_managing-rhel-for-edge-images" data-v-b883c74f>15.2.2. Building a commit update</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images" data-v-b883c74f>15.2.3. Deploying RHEL for Edge image updates manually</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images" data-v-b883c74f>15.2.4. Deploying RHEL for Edge image updates manually using the command-line</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images" data-v-b883c74f>15.2.5. Deploying RHEL for Edge image updates manually for non-network-base deployments</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--upgrading_rhel_for_edge_systems" data-v-b883c74f><summary class="heading sub-chapter-title" id="upgrading_rhel_for_edge_systems--summary" data-v-b883c74f>15.3. Upgrading RHEL for Edge systems</summary><ol id="sub-nav--upgrading_rhel_for_edge_systems" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#upgrading_rhel_for_edge_systems" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-upgrading_rhel_for_edge_systems" data-v-b883c74f>Upgrading RHEL for Edge systems</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images" data-v-b883c74f>15.3.1. Upgrading your RHEL 8 system to RHEL 9</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--deploying_rhel_for_edge_automatic_image_updates" data-v-b883c74f><summary class="heading sub-chapter-title" id="deploying_rhel_for_edge_automatic_image_updates--summary" data-v-b883c74f>15.4. Deploying RHEL for Edge automatic image updates</summary><ol id="sub-nav--deploying_rhel_for_edge_automatic_image_updates" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#deploying_rhel_for_edge_automatic_image_updates" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-deploying_rhel_for_edge_automatic_image_updates" data-v-b883c74f>Deploying RHEL for Edge automatic image updates</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images" data-v-b883c74f>15.4.1. Updating the RHEL for Edge image update policy</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images" data-v-b883c74f>15.4.2. Enabling RHEL for Edge automatic download and staging of updates</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--rolling_back_rhel_for_edge_images" data-v-b883c74f><summary class="heading sub-chapter-title" id="rolling_back_rhel_for_edge_images--summary" data-v-b883c74f>15.5. Rolling back RHEL for Edge images</summary><ol id="sub-nav--rolling_back_rhel_for_edge_images" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#rolling_back_rhel_for_edge_images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-rolling_back_rhel_for_edge_images" data-v-b883c74f>Rolling back RHEL for Edge images</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#introducing-the-greenboot-checks_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-introducing-the-greenboot-checks_managing-rhel-for-edge-images" data-v-b883c74f>15.5.1. Introducing the greenboot checks</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images" data-v-b883c74f>15.5.2. RHEL for Edge images roll back with greenboot</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#greenboot-health-check-status_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-greenboot-health-check-status_managing-rhel-for-edge-images" data-v-b883c74f>15.5.3. Greenboot health check status</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#checking-greenboot-health-checks-statuses_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-checking-greenboot-health-checks-statuses_managing-rhel-for-edge-images" data-v-b883c74f>15.5.4. Checking greenboot health checks statuses</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images" data-v-b883c74f>15.5.5. Manually rolling back RHEL for Edge images</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images" data-v-b883c74f>15.5.6. Rolling back RHEL for Edge images using an automated process</a></li><!--]--><!--]--></ol></details></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>16. Creating and managing OSTree image updates</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Creating and managing OSTree image updates</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#basic-concepts-for-ostree-mirrors_creating-and-managing-ostree-image-updates" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-basic-concepts-for-ostree-mirrors_creating-and-managing-ostree-image-updates" data-v-b883c74f>16.1. Basic concepts for OSTree</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-ostree-repositories_creating-and-managing-ostree-image-updates" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-creating-ostree-repositories_creating-and-managing-ostree-image-updates" data-v-b883c74f>16.2. Creating OSTree repositories</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#managing-a-centralized-ostree-mirror_creating-and-managing-ostree-image-updates" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-managing-a-centralized-ostree-mirror_creating-and-managing-ostree-image-updates" data-v-b883c74f>16.3. Managing a centralized OSTree mirror</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77><summary class="heading chapter-title" id="edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images--summary" data-v-fa0dae77>A. Terminology and commands</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images" data-v-fa0dae77>Terminology and commands</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-rpmostree-terminology_edge-terminology-and-commands" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-rpmostree-terminology_edge-terminology-and-commands" data-v-b883c74f>A.1. OSTree and rpm-ostree terminology</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#edge-ostree-commands_edge-terminology-and-commands" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-edge-ostree-commands_edge-terminology-and-commands" data-v-b883c74f>A.2. OSTree commands</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#rpm-ostree-commands_edge-terminology-and-commands" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-rpm-ostree-commands_edge-terminology-and-commands" data-v-b883c74f>A.3. rpm-ostree commands</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_fdo-terminology_edge-terminology-and-commands" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-ref_fdo-terminology_edge-terminology-and-commands" data-v-b883c74f>A.4. FDO automatic onboarding terminology</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands" id="sub-link-to-composing_installing_and_managing_rhel_for_edge_images-ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands" data-v-b883c74f>A.5. FDO automatic onboarding technologies</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm140247648582624" id="chapter-landing--composing_installing_and_managing_rhel_for_edge_images-idm140247648582624" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Composing, installing, and managing RHEL for Edge images</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm140247631056544"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Creating, deploying, and managing Edge systems with Red Hat Enterprise Linux 9</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140247648582624">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Use the image builder tool to compose customized RHEL (rpm-ostree) images optimized for Edge. Then, you can remotely install, and securely manage and scale deployments of the images on Edge servers.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Introduction to RHEL for Edge images</h2></div></div></div><p class="_abstract _abstract">
			A RHEL for Edge image is an <code class="literal">rpm-ostree</code> image that includes system packages to remotely install RHEL on Edge servers.
		</p><p>
			The system packages include:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">Base OS</code> package
				</li><li class="listitem">
					Podman as the container engine
				</li><li class="listitem">
					Additional RPM Package Manager (RPM) content
				</li></ul></div><p>
			RHEL for Edge is an immutable operating system that contains a <code class="literal">read-only</code> root directory, and has following characteristics:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					The packages are isolated from the root directory.
				</li><li class="listitem">
					Each version of the operating system is a separate deployment. Therefore, you can roll back the system to a previous deployment when needed.
				</li><li class="listitem">
					The <code class="literal">rpm-ostree</code> image offers efficient updates over the network.
				</li><li class="listitem">
					RHEL for Edge supports multiple operating system branches and repositories.
				</li><li class="listitem">
					The image contains a hybrid <code class="literal">rpm-ostree</code> package system.
				</li></ul></div><p>
			You can compose customized RHEL for Edge images by using the RHEL image builder tool. You can also create RHEL for Edge images by accessing the <a class="link" href="https://console.redhat.com/edge">edge management</a> application in the Red Hat Hybrid Cloud Console platform and configure automated management.
		</p><p>
			Use the edge management application to simplify provisioning and registering your images. To learn more about the edge management, see the <a class="link" href="https://docs.redhat.com/en/documentation/edge_management/1-latest/html/create_rhel_for_edge_images_and_configure_automated_management/index/">Create RHEL for Edge images and configure automated management</a> documentation.
		</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
				Using RHEL for Edge customized images that were created by using the <span class="strong strong"><strong>RHEL image builder</strong></span> on-premise version is not supported in the <a class="link" href="https://console.redhat.com/edge">edge management</a> application. See <a class="link" href="https://access.redhat.com/articles/7010809">Edge management supportability</a>.
			</p><p>
				The <a class="link" href="https://console.redhat.com/edge">edge management</a> application supports building and managing only the <code class="literal">edge-commit</code> and <code class="literal">edge-installer</code> image types.
			</p><p>
				Additionally, you cannot use the <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images">FIDO Device Onboarding (FDO)</a> process with images that you create by using the <a class="link" href="https://console.redhat.com/edge">edge management</a> application.
			</p></div></rh-alert><p>
			With a RHEL for Edge image, you can achieve the following benefits:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Atomic upgrades</span></dt><dd>
						You know the state of each update, and no changes are seen until you reboot your system.
					</dd><dt><span class="term">Custom health checks and intelligent rollbacks</span></dt><dd>
						You can create custom health checks, and if a health check fails, the operating system rolls back to the previous stable state.
					</dd><dt><span class="term">Container-focused workflow</span></dt><dd>
						The image updates are staged in the background, minimizing any workload interruptions to the system.
					</dd><dt><span class="term">Optimized Over-the-Air updates</span></dt><dd>
						You can make sure that your systems are up-to-date, even with intermittent connectivity, thanks to efficient over-the-air (OTA) delta updates.
					</dd></dl></div><section class="section" id="edge-supported-architecture_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">1.1. RHEL for Edge—supported architecture</h3></div></div></div><p class="_abstract _abstract">
				Currently, you can deploy RHEL for Edge images on AMD and Intel 64-bit systems.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					RHEL for Edge supports ARM systems on some devices. For more information about the supported devices, see <a class="link" href="https://catalog.redhat.com/hardware">Red Hat certified hardware</a>.
				</p></div></rh-alert></section><section class="section" id="edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">1.2. RHEL for Edge image types and their deployments</h3></div></div></div><p class="_abstract _abstract">
				Composing and deploying a RHEL for Edge image involves two phases:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Composing a RHEL <code class="literal">rpm-ostree</code> image using the RHEL image builder tool. You can access RHEL image builder through a command-line interface in the <code class="literal">composer-cli</code> tool, or use a graphical user interface in the RHEL web console.
					</li><li class="listitem">
						Deploying the image by using RHEL installer.
					</li></ol></div><p>
				The image types vary in terms of their contents, and are therefore suitable for different types of deployment environments. While composing a RHEL for Edge image, you can select any of the following image types:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">RHEL for Edge Commit</span></dt><dd>
							This image type delivers atomic and safe updates to a system. The <code class="literal">edge-commit</code>(<code class="literal">.tar</code>) image contains a full operating system, but it is not directly bootable. To boot the <code class="literal">edge-commit</code> image type, you must deploy it by using one of the other disk image types. You can also build <code class="literal">edge-commit</code> images on the <a class="link" href="console.redhat.com/edge">edge management</a> application.
						</dd><dt><span class="term">RHEL for Edge Container</span></dt><dd>
							This image type serves the OSTree commits by using an integrated HTTP server. The <code class="literal">edge-container</code> creates an <code class="literal">OSTree</code> commit and embeds it into an OCI container with a web server. When the <code class="literal">edge-commit</code> image starts, the web server serves the commit as an OSTree repository.
						</dd><dt><span class="term">RHEL for Edge Installer</span></dt><dd>
							The <code class="literal">edge-installer</code> image type is an Anaconda-based installer image that deploys a RHEL for Edge OSTree commit that is embedded in the installer. Besides building <code class="literal">.iso</code> images by using the RHEL image builder tool, you can also build RHEL for Edge installer (<code class="literal">edge-installer</code>) on the <a class="link" href="console.redhat.com/edge">edge management</a> application. The <code class="literal">edge-installer</code> image type is an Anaconda-based installer image that deploys a RHEL for Edge ostree commit that is embedded in the installer image.
						</dd><dt><span class="term">RHEL for Edge Raw Image</span></dt><dd>
							Use for bare metal platforms by flashing the RHEL Raw Images on a hard disk or boot the Raw image on a virtual machine. The <code class="literal">edge-raw-image</code> is a compressed raw images that consist of a file containing a partition layout with an existing deployed OSTree commit in it.
						</dd><dt><span class="term">RHEL for Edge Simplified Installer</span></dt><dd>
							Use the <code class="literal">edge-simplified-installer</code> image type for unattended installations, where user configuration is provided via FDO or Ignition. The <code class="literal">edge-simplified-installer</code> image can use Ignition to inject the user configuration into the images at an early stage of the boot process. Additionally, it is possible to use FDO as a way to inject user configuration during an early stage of the boot process. After booting the Edge Simplified Installer, it provisions the RHEL for Edge image to a device with the injected user configuration.
						</dd><dt><span class="term">RHEL for Edge AMI</span></dt><dd>
							Use this image to launch an EC2 instance in AWS cloud. The <code class="literal">edge-ami</code> image uses the Ignition tool to inject the user configuration into the images at an early stage of the boot process. You can upload the <code class="literal">.ami</code> image to AWS and boot an EC2 instance in AWS.
						</dd><dt><span class="term">RHEL for Edge VMDK</span></dt><dd>
							Use this image to load the image on vSphere and boot the image in a vSphere VM. The <code class="literal">edge-vsphere</code> image uses the Ignition tool to inject the user configuration into the images at an early stage of the boot process.
						</dd></dl></div><rh-table id="idm140247641195552"><table class="gt-4-cols lt-7-rows"><caption>Table 1.1. RHEL for Edge images type</caption><colgroup><col style="width: 25%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 25%; " class="col_3"><!--Empty--><col style="width: 25%; " class="col_4"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140247638949152" scope="col">Image type</th><th align="left" valign="top" id="idm140247638948064" scope="col">File type</th><th align="left" valign="top" id="idm140247638946976" scope="col">Suitable for network-based deployments</th><th align="left" valign="top" id="idm140247638945920" scope="col">Suitable for non-network-based deployments</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge Commit</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong><code class="literal">.tar</code></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								No
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge Container</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong><code class="literal">.tar</code></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge Installer</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong><code class="literal">.iso</code></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge Raw Image</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong>.raw.xz</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge Simplified Installer</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong><code class="literal">.iso</code></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge AMI</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong><code class="literal">.ami</code></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247638949152"> <p>
								<span class="strong strong"><strong>RHEL for Edge VMDK</strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638948064"> <p>
								<span class="strong strong"><strong><code class="literal">.vmdk</code></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm140247638946976"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm140247638945920"> <p>
								Yes
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index">Interactively installing RHEL from installation media</a>
					</li></ul></div></section><section class="section" id="con_non-network-based-deployments_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">1.3. Non-network-based deployments</h3></div></div></div><p class="_abstract _abstract">
				Use RHEL image builder to create flexible RHEL <code class="literal">rpm-ostree</code> images to suit your requirements, and then use Anaconda to deploy them in your environment.
			</p><p>
				You can access RHEL image builder through a command-line interface in the <code class="literal">composer-cli</code> tool, or use a graphical user interface in the RHEL web console.
			</p><p>
				Composing and deploying a RHEL for Edge image in non-network-based deployments involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install RHEL image builder
					</li><li class="listitem">
						Using RHEL image builder, create a blueprint with customizations for RHEL for Edge Container image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in RHEL image builder
					</li><li class="listitem">
						Create a RHEL for Edge image embed in an OCI container with a webserver ready to deploy the commit as an OSTree repository
					</li><li class="listitem">
						Download the RHEL for Edge Container image file
					</li><li class="listitem">
						Deploy the container serving a repository with the RHEL for Edge Container commit
					</li><li class="listitem">
						Using RHEL image builder, create another blueprint for RHEL for Edge Installer image
					</li><li class="listitem">
						Create a RHEL for Edge Installer image configured to pull the commit from the running container embedded with RHEL for Edge Container image
					</li><li class="listitem">
						Download the RHEL for Edge Installer image
					</li><li class="listitem">
						Run the installation
					</li></ol></div><p>
				The following diagram represents the RHEL for Edge image non-network deployment workflow:
			</p><div class="figure" id="non-network-based_introducing-rhel-for-edge-images"><p class="title"><strong>Figure 1.1. Deploying RHEL for Edge in non-network environment</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/7e7bb5d0cb4a69c2a481b08c6c6a7b02/edge_non-network-deployment-workflow.png" alt="RHEL for Edge non-network deployment workflow"></div></div></div></section><section class="section" id="con_network-based-deployments_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">1.4. Network-based deployments</h3></div></div></div><p class="_abstract _abstract">
				Use RHEL image builder to create flexible RHEL <code class="literal">rpm-ostree</code> images to suit your requirements, and then use Anaconda to deploy them in your environment. RHEL image builder automatically identifies the details of your deployment setup and generates the image output as an <code class="literal">edge-commit</code> as a <code class="literal">.tar</code> file.
			</p><p>
				You can access RHEL image builder through a command-line interface in the <code class="literal">composer-cli</code> tool, or use a graphical user interface in the RHEL web console.
			</p><p>
				You can compose and deploy the RHEL for Edge image by performing the following high-level steps:
			</p><p>
				<span class="strong strong"><strong>For an attended installation</strong></span>
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install RHEL image builder
					</li><li class="listitem">
						Using RHEL image builder, create a blueprint for RHEL for Edge image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in RHEL image builder
					</li><li class="listitem">
						Create a RHEL for Edge Commit (<code class="literal">.tar</code>) image
					</li><li class="listitem">
						Download the RHEL for Edge image file
					</li><li class="listitem">
						On the same system where you have installed RHEL image builder, install a web server that you want to serve the RHEL for Edge Commit content. For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/deploying_web_servers_and_reverse_proxies/setting-up-and-configuring-nginx_deploying-web-servers-and-reverse-proxies">Setting up and configuring NGINX</a>
					</li><li class="listitem">
						Extract the RHEL for Edge Commit (<code class="literal">.tar</code>) content to the running web server
					</li><li class="listitem">
						Create a Kickstart file that pulls the OSTree content from the running web server. For details on how to modify the Kickstart to pull the OSTree content, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting the RHEL for Edge image commit</a>
					</li><li class="listitem">
						Boot the RHEL installer ISO on the edge device and provide the Kickstart to it.
					</li></ol></div><p>
				For an unattended installation, you can customize the RHEL installation ISO and embed the Kickstart file to it.
			</p><p>
				The following diagram represents the RHEL for Edge network image deployment workflow:
			</p><div class="figure" id="network-based_introducing-rhel-for-edge-images"><p class="title"><strong>Figure 1.2. Deploying RHEL for Edge in network-base environment</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/1ade9df16e6fde0abab1e4a498dabc88/edge-deployment-workflow.png" alt="RHEL for Edge network deployment workflow"></div></div></div></section><section class="section" id="edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images"><div class="titlepage"><div><div><h3 class="title">1.5. Difference between RHEL RPM images and RHEL for Edge images</h3></div></div></div><p class="_abstract _abstract">
				You can create RHEL system images in traditional package-based RPM format and also as RHEL for Edge (<code class="literal">rpm-ostree</code>) images.
			</p><p>
				You can use the traditional package-based RPMs to deploy RHEL on traditional data centers. However, with RHEL for Edge images you can deploy RHEL on servers other than traditional data centers. These servers include systems where processing of large amounts of data is done closest to the source where data is generated, the Edge servers.
			</p><p>
				The RHEL for Edge (<code class="literal">rpm-ostree</code>) images are not a package manager. They only support complete bootable file system trees, not individual files. These images do not have information regarding the individual files such as how these files were generated or anything related to their origin.
			</p><p>
				The <code class="literal">rpm-ostree</code> images need a separate mechanism, the package manager, to install additional applications in the <code class="literal">/var</code> directory. With that, the <code class="literal">rpm-ostree</code> image keeps the operating system unchanged, while maintaining the state of the <code class="literal">/var</code> and <code class="literal">/etc</code> directories. The atomic updates enable rollbacks and background staging of updates.
			</p><p>
				Refer to the following table to know how RHEL for Edge images differ from the package-based RHEL RPM images.
			</p><rh-table id="idm140247644122448"><table class="lt-4-cols lt-7-rows"><caption>Table 1.2. Difference between RHEL RPM images and RHEL for Edge images</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><tbody><tr><td align="left" valign="top"> <p>
								Key attributes
							</p>
							 </td><td align="left" valign="top"> <p>
								RHEL RPM image
							</p>
							 </td><td align="left" valign="top"> <p>
								RHEL for Edge image
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">OS assembly</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								You can assemble the packages locally to form an image.
							</p>
							 </td><td align="left" valign="top"> <p>
								The packages are assembled in an OSTree which you can install on a system.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">OS updates</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								You can use <code class="literal">dnf update</code> to apply the available updates from the enabled repositories.
							</p>
							 </td><td align="left" valign="top"> <p>
								You can use <code class="literal">rpm-ostree upgrade</code> to stage an update if any new commit is available in the OSTree remote at <code class="literal">/etc/ostree/remotes.d/</code>. The update takes effect on system reboot.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">Repository</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								The package contains DNF repositories
							</p>
							 </td><td align="left" valign="top"> <p>
								The package contains OSTree remote repository
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">User access permissions</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Read write
							</p>
							 </td><td align="left" valign="top"> <p>
								Read-only (<code class="literal">/usr</code>)
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">Data persistence</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								You can mount the image to any non <code class="literal">tmpfs</code> mount point
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal">/etc</code> &amp; <code class="literal">/var</code> are read/write enabled and include persisting data.
							</p>
							 </td></tr></tbody></table></rh-table></section></section><section class="chapter" id="setting-up-image-builder_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Setting up RHEL image builder</h2></div></div></div><p class="_abstract _abstract">
			Use RHEL image builder to create your customized RHEL for Edge images. After you install RHEL image builder on a RHEL system, RHEL image builder is available as an application in RHEL web console. You can also access RHEL image builder through a command line interface in the <code class="literal">composer-cli</code> tool.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				It is recommended to install RHEL image builder on a virtual machine.
			</p></div></rh-alert><section class="section" id="edge-image-builder-system-requirements_setting-up-image-builder"><div class="titlepage"><div><div><h3 class="title">2.1. Image builder system requirements</h3></div></div></div><p class="_abstract _abstract">
				The environment where RHEL image builder runs, for example a virtual machine, must meet the requirements that are listed in the following table.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Running RHEL image builder inside a container is not supported.
				</p></div></rh-alert><rh-table id="idm140247642321280"><table class="lt-4-cols lt-7-rows"><caption>Table 2.1. Image builder system requirements</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><tbody><tr><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Parameter</strong></span>
							</p>
							 </td><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Minimal Required Value</strong></span>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								System type
							</p>
							 </td><td align="left" valign="top"> <p>
								A dedicated virtual machine
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Processor
							</p>
							 </td><td align="left" valign="top"> <p>
								2 cores
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Memory
							</p>
							 </td><td align="left" valign="top"> <p>
								4 GiB
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Disk space
							</p>
							 </td><td align="left" valign="top"> <p>
								20 GiB
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Access privileges
							</p>
							 </td><td align="left" valign="top"> <p>
								Administrator level (root)
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Network
							</p>
							 </td><td align="left" valign="top"> <p>
								Connectivity to Internet
							</p>
							 </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The 20 GiB disk space requirement is enough to install and run RHEL image builder in the host. To build and deploy image builds, you must allocate additional dedicated disk space.
				</p></div></rh-alert></section><section class="section" id="edge-installing-image-builder_setting-up-image-builder"><div class="titlepage"><div><div><h3 class="title">2.2. Installing RHEL image builder</h3></div></div></div><p class="_abstract _abstract">
				To install RHEL image builder on a dedicated virtual machine, follow these steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The virtual machine is created and is powered on.
					</li><li class="listitem">
						You have installed RHEL and you have subscribed to RHSM or Red Hat Satellite.
					</li><li class="listitem">
						You have enabled the <code class="literal">BaseOS</code> and <code class="literal">AppStream</code> repositories to be able to install the RHEL image builder packages.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the following packages on the virtual machine.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								osbuild-composer
							</li><li class="listitem">
								composer-cli
							</li><li class="listitem">
								cockpit-composer
							</li><li class="listitem">
								bash-completion
							</li><li class="listitem">
								firewalld
							</li></ul></div><pre class="screen"># dnf install osbuild-composer composer-cli cockpit-composer bash-completion firewalld</pre><p class="simpara">
						RHEL image builder is installed as an application in RHEL web console.
					</p></li><li class="listitem">
						Reboot the virtual machine
					</li><li class="listitem"><p class="simpara">
						Configure the system firewall to allow access to the web console:
					</p><pre class="screen"># firewall-cmd --add-service=cockpit &amp;&amp; firewall-cmd --add-service=cockpit --permanent</pre></li><li class="listitem"><p class="simpara">
						Enable RHEL image builder.
					</p><pre class="screen"># systemctl enable osbuild-composer.socket cockpit.socket --now</pre><p class="simpara">
						The osbuild-composer and cockpit services start automatically on first access.
					</p></li><li class="listitem"><p class="simpara">
						Load the shell configuration script so that the autocomplete feature for the <code class="literal">composer-cli</code> command starts working immediately without reboot:
					</p><pre class="screen">$ source /etc/bash_completion.d/composer-cli</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/managing-repositories_composing-installing-managing-rhel-for-edge-images">Managing repositories</a>
					</li></ul></div></section></section><section class="chapter" id="managing-repositories_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Configuring RHEL image builder repositories</h2></div></div></div><p>
			To use RHEL image builder, you must ensure that the repositories are configured. You can use the following types of repositories in RHEL image builder:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Official repository overrides</span></dt><dd>
						Use these if you want to download base system RPMs from elsewhere than the Red Hat Content Delivery Network (CDN) official repositories, for example, a custom mirror in your network. Using official repository overrides disables the default repositories, and your custom mirror must contain all the necessary packages.
					</dd><dt><span class="term">Custom third-party repositories</span></dt><dd>
						Use these to include packages that are not available in the official RHEL repositories.
					</dd></dl></div><section class="section" id="proc_adding-custom-third-party-repositories_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.1. Adding custom third-party repositories to RHEL image builder</h3></div></div></div><p>
				You can add custom third-party sources to your repositories and manage these repositories by using the <code class="literal">composer-cli</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have the URL of the custom third-party repository.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a repository source file, such as <code class="literal">/root/repo.toml</code>. For example:
					</p><pre class="literallayout">id = "k8s"
name = "Kubernetes"
type = "yum-baseurl"
url = "https://server.example.com/repos/company_internal_packages/"
check_gpg = false
check_ssl = false
system = false</pre><p class="simpara">
						The <code class="literal">type</code> field accepts the following valid values: <code class="literal">yum-baseurl</code>, <code class="literal">yum-mirrorlist</code>, and <code class="literal">yum-metalink</code>.
					</p></li><li class="listitem">
						Save the file in the TOML format.
					</li><li class="listitem"><p class="simpara">
						Add the new third-party source to RHEL image builder:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli sources add <span class="emphasis"><em><span class="replaceable replaceable">&lt;file-name&gt;</span></em></span>.toml</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check if the new source was successfully added:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli sources list</strong></span></pre></li><li class="listitem"><p class="simpara">
						Check the new source content:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli sources info <span class="emphasis"><em><span class="replaceable replaceable">&lt;source_id&gt;</span></em></span></strong></span></pre></li></ol></div></section><section class="section" id="proc_adding-third-party-repositories-with-specific-distributions_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.2. Adding third-party repositories with specific distributions to RHEL image builder</h3></div></div></div><p>
				You can specify a list of distributions in the custom third-party source file by using the optional field <code class="literal">distro</code>. The repository file uses the distribution string list while resolving dependencies during the image building.
			</p><p>
				Any request that specifies <code class="literal">rhel-9</code> uses this source. For example, if you list packages and specify <code class="literal">rhel-9</code>, it includes this source. However, listing packages for the host distribution do not include this source.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have the URL of the custom third-party repository.
					</li><li class="listitem">
						You have the list of distributions that you want to specify.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a repository source file, such as <code class="literal">/root/repo.toml</code>. For example, to specify the distribution:
					</p><pre class="screen">check_gpg = true
check_ssl = true
distros = ["rhel-9"]
id = "rh9-local"
name = "packages for RHEL"
system = false
type = "yum-baseurl"
url = "<span class="emphasis"><em>https://local/repos/rhel9/projectrepo/</em></span>"</pre></li><li class="listitem">
						Save the file in the TOML format.
					</li><li class="listitem"><p class="simpara">
						Add the new third-party source to RHEL image builder:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli sources add <span class="emphasis"><em><span class="replaceable replaceable">&lt;file-name&gt;</span></em></span>.toml</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check if the new source was successfully added:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli sources list</strong></span></pre></li><li class="listitem"><p class="simpara">
						Check the new source content:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli sources info <span class="emphasis"><em><span class="replaceable replaceable">&lt;source_id&gt;</span></em></span></strong></span></pre></li></ol></div></section><section class="section" id="proc_checking-repositories-metadata-with-gpg_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.3. Checking repositories metadata with GPG</h3></div></div></div><p>
				To detect and avoid corrupted packages, you can use the DNF package manager to check the GNU Privacy Guard (GPG) signature on RPM packages, and also to check if the repository metadata has been signed with a GPG key.
			</p><p>
				You can either enter the <code class="literal">gpgkey</code> that you want to do the check over <code class="literal">https</code> by setting the <code class="literal">gpgkeys</code> field with the key URL. Alternatively, to improve security, you can also embed the whole key into the <code class="literal">gpgkeys</code> field, to import it directly instead of fetching the key from the URL.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The directory that you want to use as a repository exists and contains packages.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Access the folder where you want to create a repository:
					</p><pre class="screen">$ <span class="strong strong"><strong>cd repo/</strong></span></pre></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">createrepo_c</code> to create a repository from RPM packages:
					</p><pre class="screen">$ <span class="strong strong"><strong>createrepo_c .</strong></span></pre></li><li class="listitem"><p class="simpara">
						Access the directory where the repodata is:
					</p><pre class="screen">$ <span class="strong strong"><strong>cd repodata/</strong></span></pre></li><li class="listitem"><p class="simpara">
						Sign your <code class="literal">repomd.xml</code> file:
					</p><pre class="screen">$ <span class="strong strong"><strong>gpg -u &lt;_gpg-key-email_&gt; --yes --detach-sign --armor /srv/repo/example/repomd.xml</strong></span></pre></li><li class="listitem"><p class="simpara">
						To enable GPG signature checks in the repository:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Set <code class="literal">check_repogpg = true</code> in the repository source.
							</li><li class="listitem"><p class="simpara">
								Enter the <code class="literal">gpgkey</code> that you want to do the check. If your key is available over <code class="literal">https</code>, set the <code class="literal">gpgkeys</code> field with the key URL for the key. You can add as many URL keys as you need.
							</p><p class="simpara">
								The following is an example:
							</p><pre class="literallayout">check_gpg = true
check_ssl = true
id = "signed local packages"
name = "<span class="emphasis"><em>repository_name</em></span>"
type = "yum-baseurl"
url = "<span class="emphasis"><em>https://local/repos/projectrepo/</em></span>"
check_repogpg = true
gpgkeys=["<span class="emphasis"><em>https://local/keys/repokey.pub</em></span>"]</pre><p class="simpara">
								As an alternative, add the GPG key directly in the <code class="literal">gpgkeys</code> field, for example:
							</p><pre class="literallayout">check_gpg = true
check_ssl = true
check_repogpg
id = "custom-local"
name = "signed local packages"
type = "yum-baseurl"
url = "<span class="emphasis"><em>https://local/repos/projectrepo/</em></span>"
gpgkeys=["<span class="emphasis"><em>https://remote/keys/other-repokey.pub</em></span>",
'''-----BEGIN PGP PUBLIC KEY BLOCK-----
…​
-----END PGP PUBLIC KEY BLOCK-----''']</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										If the test does not find the signature, the GPG tool shows an error similar to the following one:
									</p><pre class="literallayout">$ GPG verification is enabled, but GPG signature is not available.
This may be an error or the repository does not support GPG verification:
Status code: 404 for http://repo-server/rhel/repodata/repomd.xml.asc (IP: 192.168.1.3)</pre></li><li class="listitem"><p class="simpara">
										If the signature is invalid, the GPG tool shows an error similar to the following one:
									</p><pre class="literallayout">repomd.xml GPG signature verification error: Bad GPG signature</pre></li></ul></div></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Test the signature of the repository manually:
					</p><pre class="screen">$ <span class="strong strong"><strong>gpg --verify /srv/repo/example/repomd.xml.asc</strong></span></pre></li></ul></div></section><section class="section" id="image-builder-default-system-repositories_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.4. RHEL image builder official repository overrides</h3></div></div></div><p class="_abstract _abstract">
				RHEL image builder <code class="literal">osbuild-composer</code> back end does not inherit the system repositories located in the <code class="literal">/etc/yum.repos.d/</code> directory. Instead, it has its own set of official repositories defined in the <code class="literal">/usr/share/osbuild-composer/repositories</code> directory. This includes the Red Hat official repository, which contains the base system RPMs to install additional software or update already installed programs to newer versions. If you want to override the official repositories, you must define overrides in <code class="literal">/etc/osbuild-composer/repositories/</code>. This directory is for user defined overrides and the files located there take precedence over those in the <code class="literal">/usr/share/osbuild-composer/repositories/</code> directory.
			</p><p>
				The configuration files are not in the usual DNF repository format known from the files in <code class="literal">/etc/yum.repos.d/</code>. Instead, they are JSON files.
			</p></section><section class="section" id="overriding-a-system-repository_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.5. Overriding a system repository</h3></div></div></div><p class="_abstract _abstract">
				You can configure your own repository override for RHEL image builder in the <code class="literal">/etc/osbuild-composer/repositories</code> directory.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a custom repository that is accessible from your host system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal">/etc/osbuild-composer/repositories/</code> directory to store your repository overrides:
					</p><pre class="screen">$ sudo mkdir -p /etc/osbuild-composer/repositories</pre></li><li class="listitem"><p class="simpara">
						Create a JSON file, using a name corresponding to your RHEL version. Alternatively, you can copy the file for your distribution from <code class="literal">/usr/share/osbuild-composer/</code> and modify its content.
					</p><p class="simpara">
						For RHEL 9.3, use <code class="literal">/etc/osbuild-composer/repositories/rhel-93.json</code>.
					</p></li><li class="listitem"><p class="simpara">
						Add the following structure to your JSON file. Specify only one of the following attributes, in the string format:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">baseurl</code> - The base URL of the repository.
							</li><li class="listitem">
								<code class="literal">metalink</code> - The URL of a metalink file that contains a list of valid mirror repositories.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">mirrorlist</code> - The URL of a mirrorlist file that contains a list of valid mirror repositories. The remaining fields, such as <code class="literal">gpgkey</code>, and <code class="literal">metadata_expire</code>, are optional.
							</p><p class="simpara">
								For example:
							</p><pre class="literallayout">{
     "x86_64": [
        {
            "name": "baseos",
            "baseurl": "http://mirror.example.com/composes/released/RHEL-9/9.0/BaseOS/x86_64/os/",
            "gpgkey": "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n (…​)",
            "check_gpg": true
        }
    ]
}</pre><p class="simpara">
								Alternatively, you can copy the JSON file for your distribution, by replacing <code class="literal">rhel-version.json</code> with your RHEL version, for example: rhel-9.json.
							</p><pre class="screen">$  cp /usr/share/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json /etc/osbuild-composer/repositories/</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: Verify the JSON file:
					</p><pre class="literallayout">$ json_verify &lt; /etc/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json</pre></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">baseurl</code> paths in the <code class="literal">rhel-9.json</code> file and save it. For example:
					</p><pre class="screen">$ /etc/osbuild-composer/repositories/rhel-<span class="emphasis"><em>version</em></span>.json</pre></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">osbuild-composer.service</code>:
					</p><pre class="screen">$ sudo systemctl restart osbuild-composer.service</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check if the repository points to the correct URLs:
					</p><pre class="screen">$ cat /etc/yum.repos.d/redhat.repo</pre><p class="simpara">
						You can see that the repository points to the correct URLs which are copied from the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6957312">The latest RPMs version available in repository not visible for <code class="literal">osbuild-composer</code>.</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="overriding-a-system-repository-with-support-for-subscriptions_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.6. Overriding a system repository that requires subscriptions</h3></div></div></div><p class="_abstract _abstract">
				You can set up the <code class="literal">osbuild-composer</code> service to use system subscriptions that are defined in the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file. To use a system subscription in <code class="literal">osbuild-composer</code>, define a repository override that has the following details:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The same <code class="literal">baseurl</code> as the repository defined in <code class="literal">/etc/yum.repos.d/redhat.repo</code>.
					</li><li class="listitem"><p class="simpara">
						The value of <code class="literal">”rhsm”: true</code> defined in the JSON object.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							<code class="literal">osbuild-composer</code> does not automatically use repositories defined in <code class="literal">/etc/yum.repos.d/</code>. You need to manually specify them either as a system repository override or as an additional <code class="literal">source</code> by using <code class="literal">composer-cli</code>. The “BaseOS” and “AppStream” repositories usually use system repository overrides, whereas all the other repositories use <code class="literal">composer-cli</code> sources.
						</p></div></rh-alert></li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your system has a subscription defined in <code class="literal">/etc/yum.repos.d/redhat.repo</code>
					</li><li class="listitem">
						You have created a repository override. See <a class="link" href="#overriding-a-system-repository_managing-repositories" title="3.5. Overriding a system repository">Overriding a system repository</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Get the <code class="literal">baseurl</code> from the <code class="literal">/etc/yum.repos.d/redhat.repo</code> file:
					</p><pre class="literallayout"># <span class="strong strong"><strong>cat /etc/yum.repos.d/redhat.repo</strong></span>
[AppStream]
name = AppStream mirror example
baseurl = https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/
enabled = 1
gpgcheck = 0
sslverify = 1
sslcacert = /etc/pki/ca1/ca.crt
sslclientkey = /etc/pki/ca1/client.key
sslclientcert = /etc/pki/ca1/client.crt
metadata_expire = 86400
enabled_metadata = 0</pre></li><li class="listitem"><p class="simpara">
						Configure the repository override to use the same <code class="literal">baseurl</code> and set <code class="literal">rhsm</code> to true:
					</p><pre class="literallayout">{
    "x86_64": [
        {
            "name": "AppStream mirror example",
            "baseurl": "https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/",
            "gpgkey": "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n (…​)",
            "check_gpg": true,
            "rhsm": true
        }
    ]
}</pre></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">osbuild-composer.service</code>:
					</p><pre class="screen">$ sudo systemctl restart osbuild-composer.service</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/5773421">RHEL image builder uses CDN repositories when host is registered to Satellite 6</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="configuring-and-using-satellite-cv-as-a-content-source_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.7. Configuring and using Satellite CV as a content source</h3></div></div></div><p>
				You can use Satellite’s content views (CV) as repositories to build images with RHEL image builder. To do so, on your host registered to Satellite, manually configure the repository references so that you can retrieve from the Satellite repositories, instead of the Red Hat Content Delivery Network (CDN) official repositories.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are using RHEL image builder on a host registered to Satellite 6.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find the repository URL from your currently configured repositories:
					</p><pre class="screen">$ sudo yum -v repolist rhel-8-for-x86_64-baseos-rpms | grep repo-baseurl
  Repo-baseurl :</pre><p class="simpara">
						The following output is an example:
					</p><pre class="screen">https://satellite6.example.com/pulp/content/YourOrg/YourEnv/YourCV/content/dist/rhel8/8/x86_64/baseos/os</pre></li><li class="listitem"><p class="simpara">
						Modify the hard-coded repositories to a Satellite Server.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create a repository directory with the <code class="literal">0755</code> permission:
							</p><pre class="screen">$ sudo mkdir -pvm 0755 /etc/osbuild-composer/repositories</pre></li><li class="listitem"><p class="simpara">
								Copy the content from <code class="literal">/usr/share/osbuild-composer/repositories/*.json</code> to the directory that you created:
							</p><pre class="screen">$ sudo cp /usr/share/osbuild-composer/repositories/*.json /etc/osbuild-composer/repositories/</pre></li><li class="listitem"><p class="simpara">
								Update the Satellite URL and the file contents through the <code class="literal">/content/dist/*</code> line:
							</p><pre class="screen">$ sudo sed -i -e 's|cdn.redhat.com|satellite6.example.com/pulp/content/YourOrg/YourEnv/YourCV|' /etc/osbuild-composer/repositories/*.json</pre></li><li class="listitem"><p class="simpara">
								Verify that the configuration was correctly replaced:
							</p><pre class="screen">$ sudo vi /etc/osbuild-composer/repositories/rhel-8.json</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Restart the services:
					</p><pre class="screen">$ sudo systemctl restart osbuild-worker@1.service osbuild-composer.service</pre></li><li class="listitem">
						Override the required system repository in Red Hat image builder configuration and use the URL of your Satellite repository as a baseurl. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/managing-repositories_composing-a-customized-rhel-system-image#overriding-a-system-repository_managing-repositories">Overriding a system repository</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/7004689">Composer RHEL image builder fails when multiple custom repositories are defined on the Satellite</a> (Red Hat Knowledgebase)
					</li></ul></div></section><section class="section" id="using-satellite-cv-as-repositories-to-build-images-in-rhel-image-builder_managing-repositories"><div class="titlepage"><div><div><h3 class="title">3.8. Using Satellite CV as repositories to build images in RHEL image builder</h3></div></div></div><p>
				Configure RHEL image builder to use Satellite’s content views (CV) as repositories to build your custom images.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have integrated Satellite with RHEL web console. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_satellite/6.15/html/managing_hosts/host_management_and_monitoring_using_cockpit_managing-hosts?extIdCarryOver=true&amp;intcmp=701f20000012ngPAAQ&amp;sc_cid=701f2000001Css5AAC#Enabling_Cockpit_on_Server_managing-hosts">Enabling the RHEL web console on Satellite</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the Satellite web UI, navigate to <span class="strong strong"><strong>Content &gt; Products</strong></span>, select your <span class="strong strong"><strong>Product</strong></span> and click the repository you want to use.
					</li><li class="listitem">
						Search for the secured URL (HTTPS) in the Published field and copy it.
					</li><li class="listitem">
						Use the URL that you copied as a baseurl for the Red Hat image builder repository. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/managing-repositories_composing-a-customized-rhel-system-image#proc_adding-custom-third-party-repositories_managing-repositories">Adding custom third-party repositories to RHEL image builder</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						Build the image. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-system-image-with-composer-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface">Creating a system image by using RHEL image builder in the web console interface</a>.
					</li></ul></div></section></section><section class="chapter" id="composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Composing a RHEL for Edge image using image builder in RHEL web console</h2></div></div></div><p class="_abstract _abstract">
			Use RHEL image builder to create a custom RHEL for Edge image (OSTree commit).
		</p><p>
			To access RHEL image builder and to create your custom RHEL for Edge image, you can either use the RHEL web console interface or the command-line interface.
		</p><p>
			You can compose RHEL for Edge images using RHEL image builder in RHEL web console by performing the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Access RHEL image builder in RHEL web console
				</li><li class="listitem">
					Create a blueprint for RHEL for Edge image.
				</li><li class="listitem"><p class="simpara">
					Create a RHEL for Edge image. You can create the following images:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							RHEL for Edge Commit image.
						</li><li class="listitem">
							RHEL for Edge Container image.
						</li><li class="listitem">
							RHEL for Edge Installer image.
						</li></ul></div></li><li class="listitem">
					Download the RHEL for Edge image
				</li></ol></div><section class="section" id="accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h3 class="title">4.1. Accessing RHEL image builder in the RHEL web console</h3></div></div></div><p class="_abstract _abstract">
				To access RHEL image builder in RHEL web console, ensure that you have met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed a RHEL system.
					</li><li class="listitem">
						You have administrative rights on the system.
					</li><li class="listitem">
						You have subscribed the RHEL system to Red Hat Subscription Manager (RHSM) or to Red Hat Satellite Server.
					</li><li class="listitem">
						The system is powered on and accessible over network.
					</li><li class="listitem">
						You have installed RHEL image builder on the system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On your RHEL system, access https://localhost:9090/ in a web browser.
					</li><li class="listitem">
						For more information about how to remotely access RHEL image builder, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/index">Managing systems using the RHEL 9 web console</a> document.
					</li><li class="listitem">
						Log in to the web console using an administrative user account.
					</li><li class="listitem">
						On the web console, in the left hand menu, click <span class="guibutton">Apps</span>.
					</li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Image Builder</span>.
					</p><p class="simpara">
						The RHEL image builder dashboard opens in the right pane. You can now proceed to create a blueprint for the RHEL for Edge images.
					</p></li></ol></div></section><section class="section" id="creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h3 class="title">4.2. Creating a blueprint for a RHEL for Edge image using image builder in the web console</h3></div></div></div><p class="_abstract _abstract">
				To create a blueprint for a RHEL for Edge image by using RHEL image builder in RHEL web console, ensure that you have met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have opened the RHEL image builder dashboard.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On the RHEL image builder dashboard, click <span class="guibutton">Create Blueprint</span>.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Create Blueprint</strong></span> dialogue box opens.
					</p></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Details</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: In the <code class="literal">Packages</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Available packages</code> search, enter the package name and click the <span class="guibutton">&gt;</span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click <span class="guibutton">Next</span>.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									These customizations are all optional unless otherwise specified.
								</p></div></rh-alert></li></ol></div></li><li class="listitem">
						On the <code class="literal">Kernel</code> page, enter a kernel name and the command-line arguments.
					</li><li class="listitem">
						On the <code class="literal">File system</code> page, select <code class="literal">Use automatic partitioning</code>. OSTree systems do not support filesystem customization, because OSTree images have their own mount rule, such as read-only. Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal">Services</code> page, you can enable or disable services:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the <span class="guibutton">Enter</span> key. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Firewall</code> page, set up your firewall setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the <code class="literal">Ports</code>, and the firewall services you want to enable or disable.
							</li><li class="listitem">
								Click the <span class="guibutton">Add zone</span> button to manage your firewall rules for each zone independently. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Users</code> page, add a users by following the steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click <span class="guibutton">Add user</span>.
							</li><li class="listitem">
								Enter a <code class="literal">Username</code>, a <code class="literal">password</code>, and a <code class="literal">SSH key</code>. You can also mark the user as a privileged user, by clicking the <code class="literal">Server administrator</code> checkbox. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Groups</code> page, add groups by completing the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add groups</span> button:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter a <code class="literal">Group name</code> and a <code class="literal">Group ID</code>. You can add more groups. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">SSH keys</code> page, add a key:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add key</span> button.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter the SSH key.
									</li><li class="listitem">
										Enter a <code class="literal">User</code>. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Timezone</code> page, set your timezone settings:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Timezone</code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: "US/Eastern".
							</p><p class="simpara">
								If you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.
							</p></li><li class="listitem">
								Enter the <code class="literal">NTP</code> servers. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Locale</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Keyboard</code> search field, enter the package name you want to add to your system image. For example: ["en_US.UTF-8"].
							</li><li class="listitem">
								On the <code class="literal">Languages</code> search field, enter the package name you want to add to your system image. For example: "us". Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Others</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Hostname</code> field, enter the hostname you want to add to your system image. If you do not add a hostname, the operating system determines the hostname.
							</li><li class="listitem">
								Mandatory only for the Simplifier Installer image: On the <code class="literal">Installation Devices</code> field, enter a valid node for your system image. For example: <code class="literal">dev/sda</code>. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory only when building FIDO images: On the <code class="literal">FIDO device onboarding</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Manufacturing server URL</code> field, enter the following information:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										On the <code class="literal">DIUN public key insecure</code> field, enter the insecure public key.
									</li><li class="listitem">
										On the <code class="literal">DIUN public key hash</code> field, enter the public key hash.
									</li><li class="listitem">
										On the <code class="literal">DIUN public key root certs</code> field, enter the public key root certs. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">OpenSCAP</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Datastream</code> field, enter the <code class="literal">datastream</code> remediation instructions you want to add to your system image.
							</li><li class="listitem">
								On the <code class="literal">Profile ID</code> field, enter the <code class="literal">profile_id</code> security profile you want to add to your system image. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory only when building Ignition images: On the <code class="literal">Ignition</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Firstboot URL</code> field, enter the package name you want to add to your system image.
							</li><li class="listitem">
								On the <code class="literal">Embedded Data</code> field, drag or upload your file. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem">
						. On the <code class="literal">Review</code> page, review the details about the blueprint. Click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The RHEL image builder view opens, listing existing blueprints.
			</p></section><section class="section" id="creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h3 class="title">4.3. Creating a RHEL for Edge Commit image by using image builder in web console</h3></div></div></div><p class="_abstract _abstract">
				You can create a <span class="strong strong"><strong>“RHEL for Edge Commit”</strong></span> image by using RHEL image builder in RHEL web console. The <span class="strong strong"><strong>“RHEL for Edge Commit (.tar)”</strong></span> image type contains a full operating system, but it is not directly bootable. To boot the Commit image type, you must deploy it in a running container.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have accessed the RHEL image builder dashboard.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the RHEL image builder dashboard click <span class="guibutton">Create Image</span>.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Image output</strong></span> page, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown menu, select the blueprint you want to use.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <span class="strong strong"><strong>“RHEL for Edge Commit (.tar)”</strong></span>.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										<span class="strong strong"><strong>Repository URL</strong></span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/.
									</li><li class="listitem">
										<span class="strong strong"><strong>Parent commit</strong></span>: specify a previous commit, or leave it empty if you do not have a commit at this time.
									</li><li class="listitem">
										In the <span class="strong strong"><strong>Ref</strong></span> text box, specify a reference path for where your commit is going to be created. By default, the web console specifies <code class="literal">rhel/9/$ARCH/edge</code>. The "$ARCH" value is determined by the host machine. Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>Review</strong></span> page, check the customizations and click <span class="guibutton">Create</span>.
							</p><p class="simpara">
								RHEL image builder starts to create a RHEL for Edge Commit image for the blueprint that you created.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									The image creation process takes up to 20 minutes to complete.
								</p></div></rh-alert></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check the RHEL for Edge Commit image creation progress:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the <span class="guibutton">Images</span> tab.
							</li></ol></div></li></ol></div><p>
				After the image creation process is complete, you can download the resulting <span class="strong strong"><strong>“RHEL for Edge Commit (.tar)”</strong></span> image.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h3 class="title">4.4. Creating a RHEL for Edge Container image by using RHEL image builder in RHEL web console</h3></div></div></div><p class="_abstract _abstract">
				You can create RHEL for Edge images by selecting <span class="strong strong"><strong>“RHEL for Edge Container (.tar)”</strong></span>. The <span class="strong strong"><strong>RHEL for Edge Container (.tar)</strong></span> image type creates an OSTree commit and embeds it into an OCI container with a web server. When the container is started, the web server serves the commit as an OSTree repository.
			</p><p>
				Follow the steps in this procedure to create a RHEL for Edge Container image using image builder in RHEL web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have accessed the RHEL image builder dashboard.
					</li><li class="listitem">
						You have created a blueprint.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the RHEL image builder dashboard click <span class="guibutton">Create Image</span>.
					</li><li class="listitem">
						On the <span class="strong strong"><strong>Image output</strong></span> page, perform the following steps:
					</li><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown menu, select the blueprint you want to use.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <span class="strong strong"><strong>“RHEL for Edge Container (.tar)”</strong></span>.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>OSTree</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
										<span class="strong strong"><strong>Repository URL</strong></span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. By default, the repository folder for a RHEL for Edge Container image is "/repo".
									</p><p class="simpara">
										To find the correct URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. To find which URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. Inside the <code class="literal">nginx.conf</code> file, find the <code class="literal">root</code> directory entry to search for the <code class="literal">/repo/</code> folder information. Note that, if you do not specify a repository URL when creating a RHEL for Edge Container image <code class="literal">(.tar)</code> by using RHEL image builder, the default <code class="literal">/repo/</code> entry is created in the <code class="literal">nginx.conf</code> file.
									</p></li><li class="listitem">
										<span class="strong strong"><strong>Parent commit</strong></span>: specify a previous commit, or leave it empty if you do not have a commit at this time.
									</li><li class="listitem">
										In the <span class="strong strong"><strong>Ref</strong></span> text box, specify a reference path for where your commit is going to be created. By default, the web console specifies <code class="literal">rhel/9/$ARCH/edge</code>. The "$ARCH" value is determined by the host machine. Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem">
								On the <span class="strong strong"><strong>Review</strong></span> page, check the customizations. Click <span class="guibutton">Save blueprint</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create</span>.
					</p><p class="simpara">
						RHEL image builder starts to create a RHEL for Edge Container image for the blueprint that you created.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The image creation process takes up to 20 minutes to complete.
						</p></div></rh-alert></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check the RHEL for Edge Container image creation progress:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the <span class="guibutton">Images</span> tab.
							</li></ol></div></li></ol></div><p>
				After the image creation process is complete, you can download the resulting <span class="strong strong"><strong>“RHEL for Edge Container (.tar)”</strong></span> image.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h3 class="title">4.5. Creating a RHEL for Edge Installer image by using image builder in RHEL web console</h3></div></div></div><p class="_abstract _abstract">
				You can create RHEL for Edge Installer images by selecting <code class="literal">RHEL for Edge Installer (.iso)</code>. The <code class="literal">RHEL for Edge Installer (.iso)</code> image type pulls the OSTree commit repository from the running container served by the <code class="literal">RHEL for Edge Container (.tar)</code> and creates an installable boot ISO image with a Kickstart file that is configured to use the embedded OSTree commit.
			</p><p>
				Follow the steps in this procedure to create a RHEL for Edge image using image builder in RHEL web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						On a RHEL system, you have accessed the image builder dashboard.
					</li><li class="listitem">
						You created a blueprint.
					</li><li class="listitem">
						You created a RHEL for Edge Container image and loaded it into a running container. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the RHEL image builder dashboard click <span class="guibutton">Create Image</span>.
					</li><li class="listitem"><p class="simpara">
						On the <span class="strong strong"><strong>Image output</strong></span> page, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown menu, select the blueprint you want to use.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <span class="strong strong"><strong>RHEL for Edge Installer (<code class="literal">.iso</code>)</strong></span> image.
							</li><li class="listitem">
								Click <span class="guibutton">Next</span>.
							</li><li class="listitem"><p class="simpara">
								On the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										<span class="strong strong"><strong>Repository URL</strong></span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/.
									</li><li class="listitem">
										In the <span class="strong strong"><strong>Ref</strong></span> text box, specify a reference path for where your commit is going to be created. By default, the web console specifies <code class="literal">rhel/9/$ARCH/edge</code>. The "$ARCH" value is determined by the host machine. Click <span class="guibutton">Next</span>.
									</li></ol></div></li><li class="listitem">
								On the <span class="strong strong"><strong>Review</strong></span> page, check the customizations. Click <span class="guibutton">Save blueprint</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create</span>.
					</p><p class="simpara">
						RHEL image builder starts to create a RHEL for Edge Installer image for the blueprint that you created.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The image creation process takes up to 20 minutes to complete.
						</p></div></rh-alert></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check the RHEL for Edge Installer image creation progress:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the <span class="guibutton">Images</span> tab.
							</li></ol></div></li></ol></div><p>
				After the image creation process is complete, you can download the resulting <code class="literal">RHEL for Edge Installer (.iso)</code> image and boot the ISO image into a device.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li></ul></div></section><section class="section" id="downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"><div class="titlepage"><div><div><h3 class="title">4.6. Downloading a RHEL for Edge image</h3></div></div></div><p class="_abstract _abstract">
				After you successfully create the RHEL for Edge image by using RHEL image builder, download the image on the local host.
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To download an image:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>More Options</strong></span> menu, click <span class="guibutton">Download</span>.
					</p><p class="simpara">
						The RHEL image builder tool downloads the file at your default download location.
					</p></li></ol></div><p>
				The downloaded file consists of a <code class="literal">.tar</code> file with an OSTree repository for RHEL for Edge Commit and RHEL for Edge Container images, or a <code class="literal">.iso</code> file for RHEL for Edge Installer images, with an OSTree repository. This repository contains the commit and a <code class="literal">json</code> file which contains information metadata about the repository content.
			</p></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">4.7. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>.
					</li></ul></div></section></section><section class="chapter" id="composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Composing a RHEL for Edge image using image builder command-line</h2></div></div></div><p class="_abstract _abstract">
			You can use image builder to create a customized RHEL for Edge image (OSTree commit).
		</p><p>
			To access image builder and to create your custom RHEL for Edge image, you can either use the RHEL web console interface or the command-line interface.
		</p><p>
			For Network-based deployments, the workflow to compose RHEL for Edge images using the CLI, involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Create a blueprint for RHEL for Edge image
				</li><li class="listitem">
					Create a RHEL for Edge Commit image
				</li><li class="listitem">
					Download the RHEL for Edge Commit image
				</li></ol></div><p>
			For Non-Network-based deployments, the workflow to compose RHEL for Edge images using the CLI, involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Create a blueprint for RHEL for Edge image
				</li><li class="listitem">
					Create a blueprint for the RHEL for Edge Installer image
				</li><li class="listitem">
					Create a RHEL for Edge Container image
				</li><li class="listitem">
					Create a RHEL for Edge Installer image
				</li><li class="listitem">
					Download the RHEL for Edge image
				</li></ol></div><p>
			To perform the steps, use the <code class="literal">composer-cli</code> package.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				To run the <code class="literal">composer-cli</code> commands as non-root, you must be part of the <code class="literal">weldr</code> group or you must have administrator access to the system.
			</p></div></rh-alert><section class="section" id="network_based_deployments_workflow"><div class="titlepage"><div><div><h3 class="title">5.1. Network-based deployments workflow</h3></div></div></div><p>
				This provides steps on how to build <code class="literal">OSTree</code> commits. These <code class="literal">OSTree</code> commits contain a full operating system, but are not directly bootable. To boot them, you need to deploy them using a Kickstart file.
			</p><section class="section" id="creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.1.1. Creating a RHEL for Edge Commit image blueprint using image builder command-line interface</h4></div></div></div><p class="_abstract _abstract">
					Create a blueprint for RHEL for Edge Commit image using the CLI.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisite</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You do not have an existing blueprint. To verify that, list the existing blueprints:
						</p><pre class="screen">$ sudo composer-cli blueprints list</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a plain text file in the TOML format, with the following content:
						</p><pre class="screen">name = "blueprint-name"
description = "blueprint-text-description"
version = "0.0.1"
modules = [ ]
groups = [ ]</pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the name and blueprint-text-description is the description for your blueprint.
								</li><li class="listitem">
									<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Modules</em></span> describe the package name and matching version glob to be installed into the image, for example, the package name = "tmux" and the matching version glob is version = "2.9a".
								</p><p class="simpara">
									Notice that currently there are no differences between packages and modules.
								</p></li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Groups</em></span> are packages groups to be installed into the image, for example the group package anaconda-tools.
								</p><p class="simpara">
									At this time, if you do not know the modules and groups, leave them empty.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Include the required packages and customize the other details in the blueprint to suit your requirements.
						</p><p class="simpara">
							For every package that you want to include in the blueprint, add the following lines to the file:
						</p><pre class="screen">[[packages]]
name = "package-name"
version = "package-version"</pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									package-name is the name of the package, such as httpd, gdb-doc, or coreutils.
								</li><li class="listitem"><p class="simpara">
									package-version is the version number of the package that you want to use.
								</p><p class="simpara">
									The package-version supports the following dnf version specifications:
								</p></li><li class="listitem">
									For a specific version, use the exact version number such as 9.0.
								</li><li class="listitem">
									For the latest available version, use the asterisk *.
								</li><li class="listitem">
									For the latest minor version, use formats such as 9.*.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Push (import) the blueprint to the RHEL image builder server:
						</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></li><li class="listitem"><p class="simpara">
							List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
						</p><pre class="screen"># composer-cli blueprints show BLUEPRINT-NAME</pre></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface">Supported Image Customizations</a>
						</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.1.2. Creating a RHEL for Edge Commit image using image builder command-line interface</h4></div></div></div><p class="_abstract _abstract">
					To create a RHEL for Edge Commit image by using RHEL image builder command-line interface, ensure that you have met the following prerequisites and follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a blueprint for RHEL for Edge Commit image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge Commit image.
						</p><pre class="screen"># composer-cli compose start <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge blueprint name.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-commit</code> for <span class="strong strong"><strong>network-based deployment</strong></span>.
								</p><p class="simpara">
									A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
							The output displays the status in the following format:
						</p><pre class="screen"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The image creation process takes up to 20 minutes to complete.
							</p></div></rh-alert><p class="simpara">
							To interrupt the image creation process, run:
						</p><pre class="screen"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
							To delete an existing image, run:
						</p><pre class="screen"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
							After the image is ready, you can download it and use the image on your <span class="strong strong"><strong>network deployments</strong></span>.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using RHEL image builder command-line</a>
						</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.1.3. Creating a RHEL for Edge image update with a ref commit by using RHEL image builder CLI</h4></div></div></div><p class="_abstract _abstract">
					If you performed a change in an existing blueprint, for example, you added a new package, and you want to update an existing RHEL for Edge image with this new package, you can use the <code class="literal">--parent</code> argument to generate an updated <code class="literal">RHEL for Edge Commit (.tar)</code> image. The <code class="literal">--parent</code> argument can be either a <code class="literal">ref</code> that exists in the repository specified by the <code class="literal">URL</code> argument, or you can use the <code class="literal">Commit ID</code>, which you can find in the extracted <code class="literal">.tar</code> image file. Both <code class="literal">ref</code> and <code class="literal">Commit ID</code> arguments retrieve a parent for the new commit that you are building. RHEL image builder can read information from the parent commit that will affect parts of the new commit that you are building. As a result, RHEL image builder reads the parent commit’s user database and preserves UIDs and GIDs for the package-created system users and groups.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have updated an existing blueprint for RHEL for Edge image.
						</li><li class="listitem">
							You have an existing RHEL for Edge image (OSTree commit). See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting RHEL for Edge image commit</a>.
						</li><li class="listitem">
							The <code class="literal">ref</code> being built is available at the <code class="literal">OSTree</code> repository specified by the URL.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge commit image:
						</p><pre class="screen"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --parent <span class="emphasis"><em>parent-OSTree-REF</em></span> --url <span class="emphasis"><em>URL</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre><p class="simpara">
							For example:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To create a new RHEL for Edge commit based on a <code class="literal">parent</code> and with a new <code class="literal">ref</code>, run the following command:
								</p><pre class="screen"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --parent <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>rhel_update</em></span> <span class="emphasis"><em>edge-commit</em></span></pre></li><li class="listitem"><p class="simpara">
									To create a new RHEL for Edge commit based on the same <code class="literal">ref</code>, run the following command:
								</p><pre class="screen"># composer-cli compose start-ostree --ref rhel/9/x86_64/edge --url <span class="emphasis"><em>http://10.0.2.2:8080/repo</em></span> <span class="emphasis"><em>rhel_update</em></span> <span class="emphasis"><em>edge-commit</em></span></pre><p class="simpara">
									Where:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											The <span class="emphasis"><em>--ref</em></span> argument specifies the same path value that you used to build an OSTree repository.
										</li><li class="listitem">
											The <span class="emphasis"><em>--parent</em></span> argument specifies the parent commit. It can be ref to be resolved and pulled, for example <code class="literal">rhel/9/x86_64/edge</code>, or the <code class="literal">Commit ID</code> that you can find in the extracted <code class="literal">.tar</code> file.
										</li><li class="listitem">
											<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge blueprint name.
										</li><li class="listitem">
											The <code class="literal">--url</code> argument specifies the URL to the OSTree repository of the commit to embed in the image, for example, http://10.0.2.2:8080/repo.
										</li><li class="listitem"><p class="simpara">
											<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-commit</code> for <span class="strong strong"><strong>network-based deployment</strong></span>.
										</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
														The <code class="literal">--parent</code> argument can only be used for the <code class="literal">RHEL for Edge Commit (.tar)</code> image type. Using the <code class="literal">--url</code> and <code class="literal">--parent</code> arguments together results in errors with the <code class="literal">RHEL for Edge Container (.tar)</code> image type.
													</li><li class="listitem">
														If you omit the <code class="literal">parent ref</code> argument, the system falls back to the <code class="literal">ref</code> specified by the <code class="literal">--ref</code> argument.
													</li></ul></div></div></rh-alert><p class="simpara">
											A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.
										</p></li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
							The output displays the status in the following format:
						</p><pre class="screen"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The image creation process takes a few minutes to complete.
							</p></div></rh-alert><p class="simpara">
							(Optional) To interrupt the image creation process, run:
						</p><pre class="screen"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
							(Optional) To delete an existing image, run:
						</p><pre class="screen"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></li></ol></div><p>
					After the image creation is complete, to upgrade an existing OSTree deployment, you need:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Set up a repository. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images">Deploying a RHEL for Edge image</a> .
						</li><li class="listitem">
							Add this repository as a remote, that is, the http or https endpoint that hosts the OSTree content.
						</li><li class="listitem">
							Pull the new OSTree commit onto their existing running instance. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images">Deploying RHEL for Edge image updates manually</a> .
						</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Creating a system image with RHEL image builder in the command-line interface</a>
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line">Downloading a RHEL for Edge image by using the RHEL image builder command-line interface</a>
						</li></ul></div></section><section class="section" id="downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface</h4></div></div></div><p class="_abstract _abstract">
					To download a RHEL for Edge image by using RHEL image builder command line interface, ensure that you have met the following prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a RHEL for Edge image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Review the RHEL for Edge image status.
						</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
							The output must display the following:
						</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></li><li class="listitem"><p class="simpara">
							Download the image.
						</p><pre class="screen"># composer-cli compose image &lt;UUID&gt;</pre><p class="simpara">
							RHEL image builder downloads the image as a <code class="literal">tar</code> file to the current directory.
						</p><p class="simpara">
							The UUID number and the image size is displayed alongside.
						</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-commit.tar: <span class="emphasis"><em>size</em></span> MB</pre></li></ol></div><p>
					The image contains a commit and a <code class="literal">json</code> file with information metadata about the repository content.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images">Deploying a RHEL for Edge image in a network-based environment</a>
						</li></ul></div></section></section><section class="section" id="non_network_based_deployments_workflow"><div class="titlepage"><div><div><h3 class="title">5.2. Non-network-based deployments workflow</h3></div></div></div><p>
				To build a boot ISO image that installs an OSTree-based system using the "RHEL for Edge Container" and the "RHEL for Edge Installer" images and that can be later deployed to a device in disconnected environments, follow the steps.
			</p><section class="section" id="proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.2.1. Creating a RHEL for Edge Container blueprint by using image builder CLI</h4></div></div></div><p class="_abstract _abstract">
					To create a blueprint for RHEL for Edge Container image, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a plain text file in the TOML format, with the following content:
						</p><pre class="screen">name = "blueprint-name"
description = "blueprint-text-description"
version = "0.0.1"
modules = [ ]
groups = [ ]</pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the name and blueprint-text-description is the description for your blueprint.
								</li><li class="listitem">
									<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Modules</em></span> describe the package name and matching version glob to be installed into the image, for example, the package name = "tmux" and the matching version glob is version = "2.9a".
								</p><p class="simpara">
									Notice that currently there are no differences between packages and modules.
								</p></li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>Groups</em></span> are packages groups to be installed into the image, for example the group package anaconda-tools.
								</p><p class="simpara">
									At this time, if you do not know the modules and groups, leave them empty.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Include the required packages and customize the other details in the blueprint to suit your requirements.
						</p><p class="simpara">
							For every package that you want to include in the blueprint, add the following lines to the file:
						</p><pre class="screen">[[packages]]
name = "package-name"
version = "package-version"</pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									package-name is the name of the package, such as <code class="literal">httpd</code>, <code class="literal">gdb-doc</code>, or <code class="literal">coreutils</code>.
								</li><li class="listitem"><p class="simpara">
									package-version is the version number of the package that you want to use.
								</p><p class="simpara">
									The package-version supports the following <code class="literal">dnf</code> version specifications:
								</p></li><li class="listitem">
									For a specific version, use the exact version number such as 9.0.
								</li><li class="listitem">
									For the latest available version, use the asterisk *.
								</li><li class="listitem">
									For the latest minor version, use formats such as 9.*.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Push (import) the blueprint to the RHEL image builder server:
						</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></li><li class="listitem"><p class="simpara">
							List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
						</p><pre class="screen"># composer-cli blueprints show BLUEPRINT-NAME</pre></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface">Supported Image Customizations</a>
						</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.2.2. Creating a RHEL for Edge Installer blueprint using image builder CLI</h4></div></div></div><p class="_abstract _abstract">
					You can create a blueprint to build a <code class="literal">RHEL for Edge Installer (.iso)</code> image, and specify user accounts to automatically create one or more users on the system at installation time.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						When you create a user in the blueprint with the <code class="literal">customizations.user</code> customization, the blueprint creates the user under the <code class="literal">/usr/lib/passwd</code> directory and the password, under the <code class="literal">/usr/etc/shadow</code> directory. Note that you cannot change the password in further versions of the image in a running system using <code class="literal">OSTree</code> updates. The users you create with blueprints must be used only to gain access to the created system. After you access the system, you need to create users, for example, using the <code class="literal">useradd</code> command.
					</p></div></rh-alert><p>
					To create a blueprint for RHEL for Edge Installer image, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a plain text file in the TOML format, with the following content:
						</p><pre class="screen">name = "blueprint-installer"
description = "blueprint-for-installer-image"
version = "0.0.1"

[[customizations.user]]
name = "<span class="emphasis"><em>user</em></span>"
description = "<span class="emphasis"><em>account</em></span>"
password = "<span class="emphasis"><em>user-password</em></span>"
key = "<span class="emphasis"><em>user-ssh-key</em></span> "
home = "<span class="emphasis"><em>path</em></span>"
groups = ["<span class="emphasis"><em>user-groups</em></span>"]</pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the name and blueprint-text-description is the description for your blueprint.
								</li><li class="listitem">
									<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Push (import) the blueprint to the RHEL image builder server:
						</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></li><li class="listitem"><p class="simpara">
							List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
						</p><pre class="screen"># composer-cli blueprints show <span class="emphasis"><em>blueprint-name</em></span></pre></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line">Supported Image Customizations</a>
						</li></ul></div></section><section class="section" id="proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.2.3. Creating a RHEL for Edge Container image by using image builder CLI</h4></div></div></div><p class="_abstract _abstract">
					To create a RHEL for Edge Container image by using RHEL image builder command-line interface, ensure that you have met the following prerequisites and follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a blueprint for RHEL for Edge Container image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge Container image.
						</p><pre class="screen"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">--ref</code> is the same value that customer used to build OSTree repository
								</li><li class="listitem"><p class="simpara">
									<code class="literal">--url</code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. By default, the repository folder for a RHEL for Edge Container image is "/repo". See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
								</p><p class="simpara">
									To find the correct URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. To find which URL to use, access the running container and check the <code class="literal">nginx.conf</code> file. Inside the <code class="literal">nginx.conf</code> file, find the <code class="literal">root</code> directory entry to search for the <code class="literal">/repo/</code> folder information. Note that, if you do not specify a repository URL when creating a RHEL for Edge Container image <code class="literal">(.tar)</code> by using RHEL image builder, the default <code class="literal">/repo/</code> entry is created in the <code class="literal">nginx.conf</code> file.
								</p></li><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge blueprint name.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-container</code> for <span class="strong strong"><strong>non-network-based deployment</strong></span>.
								</p><p class="simpara">
									A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
							The output displays the status in the following format:
						</p><pre class="screen"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The image creation process takes up to 20 minutes to complete.
							</p></div></rh-alert><p class="simpara">
							To interrupt the image creation process, run:
						</p><pre class="screen"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
							To delete an existing image, run:
						</p><pre class="screen"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
							After the image is ready, it can be used for <span class="strong strong"><strong>non-network deployments</strong></span>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using RHEL image builder command-line</a>
						</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.2.4. Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments</h4></div></div></div><p class="_abstract _abstract">
					To create a RHEL for Edge Installer image that embeds the <code class="literal">OSTree</code> commit, use the RHEL image builder command-line interface, and ensure that you have met the following prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a blueprint for RHEL for Edge Installer image.
						</li><li class="listitem">
							You have created a RHEL for Edge Container image and deployed it using a web server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Begin to create the RHEL for Edge Installer image.
						</p><pre class="screen"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre><p class="simpara">
							Where,
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="emphasis"><em>ref</em></span> is the same value that customer used to build the OSTree repository
								</li><li class="listitem">
									<span class="emphasis"><em>URL-OSTree-repository</em></span> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
								</li><li class="listitem">
									<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge Installer blueprint name.
								</li><li class="listitem"><p class="simpara">
									<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-installer</code>.
								</p><p class="simpara">
									A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the image compose status.
						</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
							The command output displays the status in the following format:
						</p><pre class="screen"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The image creation process takes a few minutes to complete.
							</p></div></rh-alert><p class="simpara">
							To interrupt the image creation process, run:
						</p><pre class="screen"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
							To delete an existing image, run:
						</p><pre class="screen"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></li></ol></div><p>
					After the image is ready, you can use it for <span class="strong strong"><strong>non-network deployments</strong></span>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Installing the RHEL for Edge image for non-network-based deployments</a>.
				</p></section><section class="section" id="proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.2.5. Downloading a RHEL for Edge Installer image using the image builder CLI</h4></div></div></div><p class="_abstract _abstract">
					To download a RHEL for Edge Installer image by using RHEL image builder command line interface, ensure that you have met the following prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created a RHEL for Edge Installer image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Review the RHEL for Edge image status.
						</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
							The output must display the following:
						</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></li><li class="listitem"><p class="simpara">
							Download the image.
						</p><pre class="screen"># composer-cli compose image &lt;UUID&gt;</pre><p class="simpara">
							RHEL image builder downloads the image as an <code class="literal">.iso</code> file to the current directory.
						</p><p class="simpara">
							The UUID number and the image size is displayed alongside.
						</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-boot.iso: <span class="emphasis"><em>size</em></span> MB</pre></li></ol></div><p>
					The resulting image is a bootable ISO image.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images">Deploying a RHEL for Edge image in a non-network-based environment</a>
						</li></ul></div></section></section><section class="section" id="image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.3. Supported image customizations</h3></div></div></div><p class="_abstract _abstract">
				You can customize your image by adding customizations to your blueprint, such as:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Adding an additional RPM package
					</li><li class="listitem">
						Enabling a service
					</li><li class="listitem">
						Customizing a kernel command line parameter.
					</li></ul></div><p>
				Between others. You can use several image customizations within blueprints. By using the customizations, you can add packages and groups to the image that are not available in the default packages. To use these options, configure the customizations in the blueprint and import (push) it to RHEL image builder.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/6971352">Blueprint import fails after adding filesystem customization "size"</a> (Red Hat Knowledgebase)
					</li></ul></div><section class="section" id="selecting-a-distribution_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.1. Selecting a distribution</h4></div></div></div><p class="_abstract _abstract">
					You can use the <code class="literal">distro</code> field to select the distribution to use when composing your images, or solving dependencies in the blueprint. If <code class="literal">distro</code> is left blank it will use the host distribution. If you do not specify a distribution, the blueprint uses the host distribution. In case you upgrade the host operating system, the blueprints with no distribution set build images using the new operating system version. You cannot build an operating system image that differs from the RHEL image builder host.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint with the RHEL distribution to always build the specified RHEL image:
						</p><pre class="screen">name = "<span class="emphasis"><em>blueprint_name</em></span>"
description = "<span class="emphasis"><em>blueprint_version</em></span>"
version = "0.1"
distro = "<span class="emphasis"><em>different_minor_version</em></span>"</pre><p class="simpara">
							For example:
						</p><pre class="screen">name = "tmux"
description = "tmux image with openssh"
version = "1.2.16"
distro = "rhel-9.5"</pre></li></ul></div><p>
					Replace <code class="literal">"<span class="emphasis"><em>different_minor_version</em></span>"</code> to build a different minor version, for example, if you want to build a RHEL 9.5 image, use <code class="literal">distro</code> = "rhel-94". On RHEL 9.3 image, you can build minor versions such as RHEL 9.3, RHEL 8.10 and earlier releases.
				</p></section><section class="section" id="selecting-a-package-group_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.2. Selecting a package group</h4></div></div></div><p class="_abstract _abstract">
					Customize the blueprint with package groups. The <code class="literal">groups</code> list describes the groups of packages that you want to install into the image. The package groups are defined in the repository metadata. Each group has a descriptive name that is used primarily for display in user interfaces, and an ID that is commonly used in Kickstart files. In this case, you must use the ID to list a group. Groups have three different ways of categorizing their packages: mandatory, default, and optional. Only mandatory and default packages are installed in the blueprints. It is not possible to select optional packages.
				</p><p>
					The <code class="literal">name</code> attribute is a required string and must match exactly the package group id in the repositories.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Currently, there are no differences between packages and modules in <code class="literal">osbuild-composer</code>. Both are treated as an RPM package dependency.
					</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize your blueprint with a package:
						</p><pre class="screen">[[groups]]
name = "<span class="emphasis"><em>group_name</em></span>"</pre><p class="simpara">
							Replace <code class="literal"><span class="emphasis"><em>group_name</em></span></code> with the name of the group. For example, <code class="literal">anaconda-tools</code>:
						</p><pre class="screen">[[groups]]
name = "anaconda-tools"</pre></li></ul></div></section><section class="section" id="setting-the-image-hostname_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.3. Setting the image hostname</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">customizations.hostname</code> is an optional string that you can use to configure the final image hostname. This customization is optional, and if you do not set it, the blueprint uses the default hostname.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint to configure the hostname:
						</p><pre class="screen">[customizations]
hostname = "baseimage"</pre></li></ul></div></section><section class="section" id="specifying-additional-users_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.4. Specifying additional users</h4></div></div></div><p class="_abstract _abstract">
					Add a user to the image, and optionally, set their SSH key. All fields for this section are optional except for the <code class="literal">name</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint to add a user to the image:
						</p><pre class="screen">[[customizations.user]]
name = "<span class="emphasis"><em>USER-NAME</em></span>"
description = "<span class="emphasis"><em>USER-DESCRIPTION</em></span>"
password = "<span class="emphasis"><em>PASSWORD-HASH</em></span>"
key = "<span class="emphasis"><em>PUBLIC-SSH-KEY</em></span>"
home = "/home/<span class="emphasis"><em>USER-NAME</em></span>/"
shell = "<span class="emphasis"><em>/usr/bin/bash</em></span>"
groups = [<span class="emphasis"><em>"users", "wheel"</em></span>]
uid = <span class="emphasis"><em>NUMBER</em></span>
gid = <span class="emphasis"><em>NUMBER</em></span></pre><pre class="screen">[[customizations.user]]
name = "admin"
description = "Administrator account"
password = "$6$CHO2$3rN8eviE2t50lmVyBYihTgVRHcaecmeCk31L..."
key = "PUBLIC SSH KEY"
home = "/srv/widget/"
shell = "/usr/bin/bash"
groups = ["widget", "users", "wheel"]
uid = 1200
gid = 1200
expiredate = 12345</pre><p class="simpara">
							The GID is optional and must already exist in the image. Optionally, a package creates it, or the blueprint creates the GID by using the <code class="literal">[[customizations.group]]</code> entry.
						</p><p class="simpara">
							Replace <span class="emphasis"><em>PASSWORD-HASH</em></span> with the actual <code class="literal">password hash</code>. To generate the <code class="literal">password hash</code>, use a command such as:
						</p><pre class="screen">$ python3 -c 'import crypt,getpass;pw=getpass.getpass();print(crypt.crypt(pw) if (pw==getpass.getpass("Confirm: ")) else exit())'</pre><p class="simpara">
							Replace the other placeholders with suitable values.
						</p><p class="simpara">
							Enter the <code class="literal">name</code> value and omit any lines you do not need.
						</p><p class="simpara">
							Repeat this block for every user to include.
						</p></li></ul></div></section><section class="section" id="specifying-additional-groups_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.5. Specifying additional groups</h4></div></div></div><p class="_abstract _abstract">
					Specify a group for the resulting system image. Both the <code class="literal">name</code> and the <code class="literal">gid</code> attributes are mandatory.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint with a group:
						</p><pre class="screen">[[customizations.group]]
name = "<span class="emphasis"><em>GROUP-NAME</em></span>"
gid = <span class="emphasis"><em>NUMBER</em></span></pre><p class="simpara">
							Repeat this block for every group to include. For example:
						</p><pre class="screen">[[customizations.group]]
name = "widget"
gid = 1130</pre></li></ul></div></section><section class="section" id="setting-ssh-key-for-existing-users_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.6. Setting SSH key for existing users</h4></div></div></div><p class="_abstract _abstract">
					You can use <code class="literal">customizations.sshkey</code> to set an SSH key for the existing users in the final image. Both <code class="literal">user</code> and <code class="literal">key</code> attributes are mandatory.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint by setting an SSH key for existing users:
						</p><pre class="screen">[[customizations.sshkey]]
user = "<span class="emphasis"><em>root</em></span>"
key = "<span class="emphasis"><em>PUBLIC-SSH-KEY</em></span>"</pre><p class="simpara">
							For example:
						</p><pre class="screen">[[customizations.sshkey]]
user = "root"
key = "SSH key for root"</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								You can only configure the <code class="literal">customizations.sshkey</code> customization for existing users. To create a user and set an SSH key, see the <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#specifying-additional-users_creating-system-images-with-composer-command-line-interface">Specifying additional users</a> customization.
							</p></div></rh-alert></li></ul></div></section><section class="section" id="appending-a-kernel_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.7. Appending a kernel argument</h4></div></div></div><p class="_abstract _abstract">
					You can append arguments to the boot loader kernel command line. By default, RHEL image builder builds a default kernel into the image. However, you can customize the kernel by configuring it in the blueprint.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Append a kernel boot parameter option to the defaults:
						</p><pre class="screen">[customizations.kernel]
append = "<span class="emphasis"><em>KERNEL-OPTION</em></span>"</pre><p class="simpara">
							For example:
						</p><pre class="screen">[customizations.kernel]
name = "kernel-debug"
append = "nosmt=force"</pre></li></ul></div></section><section class="section" id="setting-timezone-and-ntp_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.8. Setting time zone and NTP</h4></div></div></div><p class="_abstract _abstract">
					You can customize your blueprint to configure the time zone and the <span class="emphasis"><em>Network Time Protocol</em></span> (NTP). Both <code class="literal">timezone</code> and <code class="literal">ntpservers</code> attributes are optional strings. If you do not customize the time zone, the system uses <span class="emphasis"><em>Universal Time, Coordinated</em></span> (UTC). If you do not set NTP servers, the system uses the default distribution.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint with the <code class="literal">timezone</code> and the <code class="literal">ntpservers</code> you want:
						</p><pre class="screen">[customizations.timezone]
timezone = "<span class="emphasis"><em>TIMEZONE</em></span>"
ntpservers = "<span class="emphasis"><em>NTP_SERVER</em></span>"</pre><p class="simpara">
							For example:
						</p><pre class="screen">[customizations.timezone]
timezone = "US/Eastern"
ntpservers = ["0.north-america.pool.ntp.org", "1.north-america.pool.ntp.org"]</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Some image types, such as Google Cloud, already have NTP servers set up. You cannot override it because the image requires the NTP servers to boot in the selected environment. However, you can customize the time zone in the blueprint.
							</p></div></rh-alert></li></ul></div></section><section class="section" id="customizing-the-locale-settings_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.9. Customizing the locale settings</h4></div></div></div><p class="_abstract _abstract">
					You can customize the locale settings for your resulting system image. Both <code class="literal">language</code> and the <code class="literal">keyboard</code> attributes are mandatory. You can add many other languages. The first language you add is the primary language and the other languages are secondary.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the locale settings:
						</p><pre class="screen">[customizations.locale]
languages = <span class="emphasis"><em>["LANGUAGE"]</em></span>
keyboard = "<span class="emphasis"><em>KEYBOARD</em></span>"</pre><p class="simpara">
							For example:
						</p><pre class="screen">[customizations.locale]
languages = ["en_US.UTF-8"]
keyboard = "us"</pre></li><li class="listitem"><p class="simpara">
							To list the values supported by the languages, run the following command:
						</p><pre class="screen">$ localectl list-locales</pre></li><li class="listitem"><p class="simpara">
							To list the values supported by the keyboard, run the following command:
						</p><pre class="screen">$ localectl list-keymaps</pre></li></ul></div></section><section class="section" id="customizing-firewall_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.10. Customizing firewall</h4></div></div></div><p class="_abstract _abstract">
					Set the firewall for the resulting system image. By default, the firewall blocks incoming connections, except for services that enable their ports explicitly, such as <code class="literal">sshd</code>.
				</p><p>
					If you do not want to use the <code class="literal">[customizations.firewall]</code> or the <code class="literal">[customizations.firewall.services]</code>, either remove the attributes, or set them to an empty list []. If you only want to use the default firewall setup, you can omit the customization from the blueprint.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						The Google and OpenStack templates explicitly disable the firewall for their environment. You cannot override this behavior by setting the blueprint.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize the blueprint with the following settings to open other ports and services:
						</p><pre class="screen">[customizations.firewall]
ports = <span class="emphasis"><em>["PORTS"]</em></span></pre><p class="simpara">
							Where <code class="literal">ports</code> is an optional list of strings that contain ports or a range of ports and protocols to open. You can configure the ports by using the following format: <code class="literal">port:protocol</code> format. You can configure the port ranges by using the <code class="literal">portA-portB:protocol</code> format. For example:
						</p><pre class="screen">[customizations.firewall]
ports = ["22:tcp", "80:tcp", "imap:tcp", "53:tcp", "53:udp", "30000-32767:tcp", "30000-32767:udp"]</pre><p class="simpara">
							You can use numeric ports, or their names from the <code class="literal">/etc/services</code> to enable or disable port lists.
						</p></li><li class="listitem"><p class="simpara">
							Specify which firewall services to enable or disable in the <code class="literal">customizations.firewall.service</code> section:
						</p><pre class="screen">[customizations.firewall.services]
enabled = <span class="emphasis"><em>["SERVICES"]</em></span>
disabled = <span class="emphasis"><em>["SERVICES"]</em></span></pre></li><li class="listitem"><p class="simpara">
							You can check the available firewall services:
						</p><pre class="screen">$ firewall-cmd --get-services</pre><p class="simpara">
							For example:
						</p><pre class="screen">[customizations.firewall.services]
enabled = ["ftp", "ntp", "dhcp"]
disabled = ["telnet"]</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The services listed in <code class="literal">firewall.services</code> are different from the <code class="literal">service-names</code> available in the <code class="literal">/etc/services</code> file.
							</p></div></rh-alert></li></ul></div></section><section class="section" id="enabling-or-disabling-services_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.11. Enabling or disabling services</h4></div></div></div><p class="_abstract _abstract">
					You can control which services to enable during the boot time. Some image types already have services enabled or disabled to ensure that the image works correctly and you cannot override this setup. The <code class="literal">[customizations.services]</code> settings in the blueprint do not replace these services, but add the services to the list of services already present in the image templates.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Customize which services to enable during the boot time:
						</p><pre class="screen">[customizations.services]
enabled = <span class="emphasis"><em>["SERVICES"]</em></span>
disabled = <span class="emphasis"><em>["SERVICES"]</em></span></pre><p class="simpara">
							For example:
						</p><pre class="screen">[customizations.services]
enabled = ["sshd", "cockpit.socket", "httpd"]
disabled = ["postfix", "telnetd"]</pre></li></ul></div></section><section class="section" id="specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h4 class="title">5.3.12. Specifying a custom file system configuration</h4></div></div></div><p class="_abstract _abstract">
					You can specify a custom file system configuration in your blueprints and therefore create images with a specific disk layout, instead of the default layout configuration. By using the non-default layout configuration in your blueprints, you can benefit from:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Security benchmark compliance
						</li><li class="listitem">
							Protection against out-of-disk errors
						</li><li class="listitem">
							Improved performance
						</li><li class="listitem">
							Consistency with existing setups
						</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						The OSTree systems do not support the file system customizations, because OSTree images have their own mount rule, such as read-only. The following image types are not supported:
					</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">image-installer</code>
						</li><li class="listitem">
							<code class="literal">edge-installer</code>
						</li><li class="listitem">
							<code class="literal">edge-simplified-installer</code>
						</li></ul></div><p>
					Additionally, the following image types do not support file system customizations, because these image types do not create partitioned operating system images:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">edge-commit</code>
						</li><li class="listitem">
							<code class="literal">edge-container</code>
						</li><li class="listitem">
							<code class="literal">tar</code>
						</li><li class="listitem">
							<code class="literal">container</code>
						</li></ul></div><p>
					However, the following image types have support for file system customization:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">simplified-installer</code>
						</li><li class="listitem">
							<code class="literal">edge-raw-image</code>
						</li><li class="listitem">
							<code class="literal">edge-ami</code>
						</li><li class="listitem">
							<code class="literal">edge-vsphere</code>
						</li></ul></div><p>
					With some additional exceptions for OSTree systems, you can choose arbitrary directory names at the <code class="literal">/root</code> level of the file system, for example: ` /local`,` /mypartition`, <code class="literal">/$PARTITION</code>. In logical volumes, these changes are made on top of the LVM partitioning system. The following directories are supported: <code class="literal">/var</code>,` /var/log`, and <code class="literal">/var/lib/containers</code> on a separate logical volume. The following are exceptions at root level:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							"/home": {Deny: true},
						</li><li class="listitem">
							"/mnt": {Deny: true},
						</li><li class="listitem">
							"/opt": {Deny: true},
						</li><li class="listitem">
							"/ostree": {Deny: true},
						</li><li class="listitem">
							"/root": {Deny: true},
						</li><li class="listitem">
							"/srv": {Deny: true},
						</li><li class="listitem">
							"/var/home": {Deny: true},
						</li><li class="listitem">
							"/var/mnt": {Deny: true},
						</li><li class="listitem">
							"/var/opt": {Deny: true},
						</li><li class="listitem">
							"/var/roothome": {Deny: true},
						</li><li class="listitem">
							"/var/srv": {Deny: true},
						</li><li class="listitem">
							"/var/usrlocal": {Deny: true},
						</li></ul></div><p>
					For release distributions before RHEL 8.10 and 9.5, the blueprint supports the following <code class="literal">mountpoints</code> and their sub-directories:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">/</code> - the root mount point
						</li><li class="listitem">
							<code class="literal">/var</code>
						</li><li class="listitem">
							<code class="literal">/home</code>
						</li><li class="listitem">
							<code class="literal">/opt</code>
						</li><li class="listitem">
							<code class="literal">/srv</code>
						</li><li class="listitem">
							<code class="literal">/usr</code>
						</li><li class="listitem">
							<code class="literal">/app</code>
						</li><li class="listitem">
							<code class="literal">/data</code>
						</li><li class="listitem">
							<code class="literal">/tmp</code>
						</li></ul></div><p>
					From the RHEL 9.5 and 8.10 release distributions onward, you can specify arbitrary custom mountpoints, except for specific paths that are reserved for the operating system.
				</p><p>
					You cannot specify arbitrary custom mountpoints on the following mountpoints and their sub-directories:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">/bin</code>
						</li><li class="listitem">
							<code class="literal">/boot/efi</code>
						</li><li class="listitem">
							<code class="literal">/dev</code>
						</li><li class="listitem">
							<code class="literal">/etc</code>
						</li><li class="listitem">
							<code class="literal">/lib</code>
						</li><li class="listitem">
							<code class="literal">/lib64</code>
						</li><li class="listitem">
							<code class="literal">/lost+found</code>
						</li><li class="listitem">
							<code class="literal">/proc</code>
						</li><li class="listitem">
							<code class="literal">/run</code>
						</li><li class="listitem">
							<code class="literal">/sbin</code>
						</li><li class="listitem">
							<code class="literal">/sys</code>
						</li><li class="listitem">
							<code class="literal">/sysroot</code>
						</li><li class="listitem">
							<code class="literal">/var/lock</code>
						</li><li class="listitem">
							<code class="literal">/var/run</code>
						</li></ul></div><p>
					You can customize the file system in the blueprint for the <code class="literal">/usr</code> custom mountpoint, but its subdirectory is not allowed.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Customizing mount points is only supported from RHEL 9.0 distributions onward, by using the CLI. In earlier distributions, you can only specify the <code class="literal">root</code> partition as a mount point and specify the <code class="literal">size</code> argument as an alias for the image size.
					</p></div></rh-alert><p>
					If you have more than one partition in the customized image, you can create images with a customized file system partition on LVM and resize those partitions at runtime. To do this, you can specify a customized file system configuration in your blueprint and therefore create images with the required disk layout. The default file system layout remains unchanged - if you use plain images without file system customization, and <code class="literal">cloud-init</code> resizes the root partition.
				</p><p>
					The blueprint automatically converts the file system customization to an LVM partition.
				</p><p>
					You can use the custom file blueprint customization to create new files or to replace existing files. The parent directory of the file you specify must exist, otherwise, the image build fails. Ensure that the parent directory exists by specifying it in the <code class="literal">[[customizations.directories]]</code> customization.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						If you combine the files customizations with other blueprint customizations, it might affect the functioning of the other customizations, or it might override the current files customizations.
					</p></div></rh-alert><section class="section" id="specifying_customized_files_in_the_blueprint"><div class="titlepage"><div><div><h5 class="title">5.3.12.1. Specifying customized files in the blueprint</h5></div></div></div><p>
						With the <code class="literal">[[customizations.files]]</code> blueprint customization you can:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Create new text files.
							</li><li class="listitem">
								Modifying existing files. WARNING: this can override the existing content.
							</li><li class="listitem">
								Set user and group ownership for the file you are creating.
							</li><li class="listitem">
								Set the mode permission in the octal format.
							</li></ul></div><p>
						You cannot create or replace the following files:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">/etc/fstab</code>
							</li><li class="listitem">
								<code class="literal">/etc/shadow</code>
							</li><li class="listitem">
								<code class="literal">/etc/passwd</code>
							</li><li class="listitem">
								<code class="literal">/etc/group</code>
							</li></ul></div><p>
						You can create customized files and directories in your image, by using the <code class="literal">[[customizations.files]]</code> and the <code class="literal">[[customizations.directories]]</code> blueprint customizations. You can use these customizations only in the <code class="literal">/etc</code> directory.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							These blueprint customizations are supported by all image types, except the image types that deploy OSTree commits, such as <code class="literal">edge-raw-image</code>, <code class="literal">edge-installer</code>, and <code class="literal">edge-simplified-installer</code>.
						</p></div></rh-alert><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							If you use the <code class="literal">customizations.directories</code> with a directory path which already exists in the image with <code class="literal">mode</code>, <code class="literal">user</code> or <code class="literal">group</code> already set, the image build fails to prevent changing the ownership or permissions of the existing directory.
						</p></div></rh-alert></section><section class="section" id="specifying_customized_directories_in_the_blueprint"><div class="titlepage"><div><div><h5 class="title">5.3.12.2. Specifying customized directories in the blueprint</h5></div></div></div><p>
						With the <code class="literal">[[customizations.directories]]</code> blueprint customization you can:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Create new directories.
							</li><li class="listitem">
								Set user and group ownership for the directory you are creating.
							</li><li class="listitem">
								Set the directory mode permission in the octal format.
							</li><li class="listitem">
								Ensure that parent directories are created as needed.
							</li></ul></div><p>
						With the <code class="literal">[[customizations.files]]</code> blueprint customization you can:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Create new text files.
							</li><li class="listitem">
								Modifying existing files. WARNING: this can override the existing content.
							</li><li class="listitem">
								Set user and group ownership for the file you are creating.
							</li><li class="listitem">
								Set the mode permission in the octal format.
							</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							You cannot create or replace the following files:
						</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">/etc/fstab</code>
							</li><li class="listitem">
								<code class="literal">/etc/shadow</code>
							</li><li class="listitem">
								<code class="literal">/etc/passwd</code>
							</li><li class="listitem">
								<code class="literal">/etc/group</code>
							</li></ul></div><p>
						The following customizations are available:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Customize the file system configuration in your blueprint:
							</p><pre class="screen">[[customizations.filesystem]]
mountpoint = <span class="emphasis"><em>"MOUNTPOINT"</em></span>
minsize = <span class="emphasis"><em>MINIMUM-PARTITION-SIZE</em></span></pre><p class="simpara">
								The <code class="literal">MINIMUM-PARTITION-SIZE</code> value has no default size format. The blueprint customization supports the following values and units: kB to TB and KiB to TiB. For example, you can define the mount point size in bytes:
							</p><pre class="screen">[[customizations.filesystem]]
mountpoint = "/var"
minsize = 1073741824</pre></li><li class="listitem"><p class="simpara">
								Define the mount point size by using units. For example:
							</p><pre class="screen">[[customizations.filesystem]]
mountpoint = "/opt"
minsize = "20 GiB"</pre><pre class="screen">[[customizations.filesystem]]
mountpoint = "/boot"
minsize = "1 GiB"</pre></li><li class="listitem"><p class="simpara">
								Define the minimum partition by setting <code class="literal">minsize</code>. For example:
							</p><pre class="screen">[[customizations.filesystem]]
mountpoint = "/var"
minsize = 2147483648</pre></li><li class="listitem"><p class="simpara">
								Create customized directories under the <code class="literal">/etc</code> directory for your image by using <code class="literal">[[customizations.directories]]</code>:
							</p><pre class="screen">[[customizations.directories]]
path = "/etc/<span class="emphasis"><em>directory_name</em></span>"
mode = "<span class="emphasis"><em>octal_access_permission</em></span>"
user = "<span class="emphasis"><em>user_string_or_integer</em></span>"
group = "<span class="emphasis"><em>group_string_or_integer</em></span>"
ensure_parents = <span class="emphasis"><em>boolean</em></span></pre><p class="simpara">
								The blueprint entries are described as following:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">path</code> - Mandatory - enter the path to the directory that you want to create. It must be an absolute path under the <code class="literal">/etc</code> directory.
									</li><li class="listitem">
										<code class="literal">mode</code> - Optional - set the access permission on the directory, in the octal format. If you do not specify a permission, it defaults to 0755. The leading zero is optional.
									</li><li class="listitem">
										<code class="literal">user</code> - Optional - set a user as the owner of the directory. If you do not specify a user, it defaults to <code class="literal">root</code>. You can specify the user as a string or as an integer.
									</li><li class="listitem">
										<code class="literal">group</code> - Optional - set a group as the owner of the directory. If you do not specify a group, it defaults to <code class="literal">root</code>. You can specify the group as a string or as an integer.
									</li><li class="listitem">
										<code class="literal">ensure_parents</code> - Optional - Specify whether you want to create parent directories as needed. If you do not specify a value, it defaults to <code class="literal">false</code>.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Create customized file under the <code class="literal">/etc</code> directory for your image by using <code class="literal">[[customizations.directories]]</code>:
							</p><pre class="screen">[[customizations.files]]
path = "/etc/<span class="emphasis"><em>directory_name</em></span>"
mode = "<span class="emphasis"><em>octal_access_permission</em></span>"
user = "<span class="emphasis"><em>user_string_or_integer</em></span>"
group = "<span class="emphasis"><em>group_string_or_integer</em></span>"
data = "Hello world!"</pre><p class="simpara">
								The blueprint entries are described as following:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">path</code> - Mandatory - enter the path to the file that you want to create. It must be an absolute path under the <code class="literal">/etc</code> directory.
									</li><li class="listitem">
										<code class="literal">mode</code> Optional - set the access permission on the file, in the octal format. If you do not specify a permission, it defaults to 0644. The leading zero is optional.
									</li><li class="listitem">
										<code class="literal">user</code> - Optional - set a user as the owner of the file. If you do not specify a user, it defaults to <code class="literal">root</code>. You can specify the user as a string or as an integer.
									</li><li class="listitem">
										<code class="literal">group</code> - Optional - set a group as the owner of the file. If you do not specify a group, it defaults to <code class="literal">root</code>. You can specify the group as a string or as an integer.
									</li><li class="listitem">
										<code class="literal">data</code> - Optional - Specify the content of a plain text file. If you do not specify a content, it creates an empty file.
									</li></ul></div></li></ul></div></section></section></section><section class="section" id="packages-installed-by-default_composing-a-rhel-for-edge-image-using-image-builder-command-line"><div class="titlepage"><div><div><h3 class="title">5.4. Packages installed by RHEL image builder</h3></div></div></div><p class="_abstract _abstract">
				When you create a system image by using RHEL image builder, the system installs a set of base package groups.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					When you add additional components to your blueprint, ensure that the packages in the components you added do not conflict with any other package components. Otherwise, the system fails to solve dependencies and creating your customized image fails. You can check if there is no conflict between the packages by running the command:
				</p></div></rh-alert><pre class="screen"># composer-cli blueprints depsolve BLUEPRINT-NAME</pre><rh-table id="idm140247640401120"><table class="lt-4-cols lt-7-rows"><caption>Table 5.1. Default packages to support image type creation</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140247640396432" scope="col">Image type</th><th align="left" valign="top" id="idm140247640395344" scope="col">Default Packages</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">ami</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">checkpolicy, chrony, cloud-init, cloud-utils-growpart, @Core, dhcp-client, gdisk, insights-client, kernel, langpacks-en, net-tools, NetworkManager, redhat-release, redhat-release-eula, rng-tools, rsync, selinux-policy-targeted, tar, yum-utils</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">openstack</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">@core, langpacks-en</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">qcow2</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">@core, chrony, dnf, kernel, dnf, nfs-utils, dnf-utils, cloud-init, python3-jsonschema, qemu-guest-agent, cloud-utils-growpart, dracut-norescue, tar, tcpdump, rsync, dnf-plugin-spacewalk, rhn-client-tools, rhnlib, rhnsd, rhn-setup, NetworkManager, dhcp-client, cockpit-ws, cockpit-system, subscription-manager-cockpit, redhat-release, redhat-release-eula, rng-tools, insights-client</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">tar</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">policycoreutils, selinux-policy-targeted</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">vhd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">@core, langpacks-en</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">vmdk</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">@core, chrony, cloud-init, firewalld, langpacks-en, open-vm-tools, selinux-policy-targeted</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">edge-commit</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">redhat-release</code>, <code class="literal">glibc</code>, <code class="literal">glibc-minimal-langpack</code>, <code class="literal">nss-altfiles</code>, <code class="literal">dracut-config-generic</code>, <code class="literal">dracut-network</code>, <code class="literal">basesystem</code>, <code class="literal">bash</code>, <code class="literal">platform-python</code>, <code class="literal">shadow-utils</code>, <code class="literal">chrony</code>, <code class="literal">setup</code>, <code class="literal">shadow-utils</code>, <code class="literal">sudo</code>, <code class="literal">systemd</code>, <code class="literal">coreutils</code>, <code class="literal">util-linux</code>, <code class="literal">curl</code>, <code class="literal">vim-minimal</code>, <code class="literal">rpm</code>, <code class="literal">rpm-ostree</code>, <code class="literal">polkit</code>, <code class="literal">lvm2</code>, <code class="literal">cryptsetup</code>, <code class="literal">pinentry</code>, <code class="literal">e2fsprogs</code>, <code class="literal">dosfstools</code>, <code class="literal">keyutils</code>, <code class="literal">gnupg2</code>, <code class="literal">attr</code>, <code class="literal">xz</code>, <code class="literal">gzip</code>, <code class="literal">firewalld</code>, <code class="literal">iptables</code>, <code class="literal">NetworkManager</code>, <code class="literal">NetworkManager-wifi</code>, <code class="literal">NetworkManager-wwan</code>, <code class="literal">wpa_supplicant</code>, <code class="literal">traceroute</code>, <code class="literal">hostname</code>, <code class="literal">iproute</code>, <code class="literal">iputils</code>, <code class="literal">openssh-clients</code>, <code class="literal">procps-ng</code>, <code class="literal">rootfiles</code>, <code class="literal">openssh-server</code>, <code class="literal">passwd</code>, <code class="literal">policycoreutils</code>, <code class="literal">policycoreutils-python-utils</code>, <code class="literal">selinux-policy-targeted</code>, <code class="literal">setools-console</code>, <code class="literal">less</code>, <code class="literal">tar</code>, <code class="literal">rsync</code>, <code class="literal">usbguard</code>, <code class="literal">bash-completion</code>, <code class="literal">tmux</code>, <code class="literal">ima-evm-utils</code>, <code class="literal">audit</code>, <code class="literal">podman</code>, <code class="literal">containernetworking-plugins</code>, <code class="literal">container-selinux</code>, <code class="literal">skopeo</code>, <code class="literal">criu</code>, <code class="literal">slirp4netns</code>, <code class="literal">fuse-overlayfs</code>, <code class="literal">clevis</code>, <code class="literal">clevis-dracut</code>, <code class="literal">clevis-luks</code>, <code class="literal">greenboot</code>, <code class="literal">greenboot-default-health-checks</code>, <code class="literal">fdo-client</code>, <code class="literal">fdo-owner-cli</code>, <code class="literal">sos</code>,
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">edge-container</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">dnf, dosfstools, e2fsprogs, glibc, lorax-templates-generic, lorax-templates-rhel, lvm2, policycoreutils, python36, python3-iniparse, qemu-img, selinux-policy-targeted, systemd, tar, xfsprogs, xz</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">edge-installer</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">aajohan-comfortaa-fonts, abattis-cantarell-fonts, alsa-firmware, alsa-tools-firmware, anaconda, anaconda-install-env-deps, anaconda-widgets, audit, bind-utils, bitmap-fangsongti-fonts, bzip2, cryptsetup, dbus-x11, dejavu-sans-fonts, dejavu-sans-mono-fonts, device-mapper-persistent-data, dnf, dump, ethtool, fcoe-utils, ftp, gdb-gdbserver, gdisk, gfs2-utils, glibc-all-langpacks, google-noto-sans-cjk-ttc-fonts, gsettings-desktop-schemas, hdparm, hexedit, initscripts, ipmitool, iwl3945-firmware, iwl4965-firmware, iwl6000g2a-firmware, iwl6000g2b-firmware, jomolhari-fonts, kacst-farsi-fonts, kacst-qurn-fonts, kbd, kbd-misc, kdump-anaconda-addon, khmeros-base-fonts, libblockdev-lvm-dbus, libertas-sd8686-firmware, libertas-sd8787-firmware, libertas-usb8388-firmware, libertas-usb8388-olpc-firmware, libibverbs, libreport-plugin-bugzilla, libreport-plugin-reportuploader, libreport-rhel-anaconda-bugzilla, librsvg2, linux-firmware, lklug-fonts, lldpad, lohit-assamese-fonts, lohit-bengali-fonts, lohit-devanagari-fonts, lohit-gujarati-fonts, lohit-gurmukhi-fonts, lohit-kannada-fonts, lohit-odia-fonts, lohit-tamil-fonts, lohit-telugu-fonts, lsof, madan-fonts, metacity, mtr, mt-st, net-tools, nmap-ncat, nm-connection-editor, nss-tools, openssh-server, oscap-anaconda-addon, pciutils, perl-interpreter, pigz, python3-pyatspi, rdma-core, redhat-release-eula, rpm-ostree, rsync, rsyslog, sg3_utils, sil-abyssinica-fonts, sil-padauk-fonts, sil-scheherazade-fonts, smartmontools, smc-meera-fonts, spice-vdagent, strace, system-storage-manager, thai-scalable-waree-fonts, tigervnc-server-minimal, tigervnc-server-module, udisks2, udisks2-iscsi, usbutils, vim-minimal, volume_key, wget, xfsdump, xorg-x11-drivers,xorg-x11-fonts-misc,xorg-x11-server-utils,xorg-x11-server-Xorg, xorg-x11-xauth</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">edge-simplified-installer</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">attr, basesystem, binutils, bsdtar, clevis-dracut, clevis-luks, cloud-utils-growpart, coreos-installer, coreos-installer-dracut, coreutils, device-mapper-multipath, dnsmasq, dosfstools, dracut-live, e2fsprogs, fcoe-utils, fdo-init, gzip, ima-evm-utils, iproute, iptables, iputils, iscsi-initiator-utils, keyutils, lldpad, lvm2, passwd, policycoreutils, policycoreutils-python-utils, procps-ng, rootfiles, setools-console, sudo, traceroute, util-linux</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">image-installer</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">aajohan-comfortaa-fonts</code>, <code class="literal">abattis-cantarell-fonts</code>, <code class="literal">alsa-firmware</code>, <code class="literal">alsa-tools-firmware</code>, <code class="literal">anaconda</code>, <code class="literal">anaconda-dracut</code>, <code class="literal">anaconda-install-env-deps</code>, <code class="literal">anaconda-widgets</code>, <code class="literal">audit</code>, <code class="literal">bind-utils</code>, <code class="literal">bitmap-fangsongti-fonts</code>, <code class="literal">bzip2</code>, <code class="literal">cryptsetup</code>, <code class="literal">curl</code>, <code class="literal">dbus-x11</code>, <code class="literal">dejavu-sans-fonts</code>, <code class="literal">dejavu-sans-mono-fonts</code>, <code class="literal">device-mapper-persistent-data</code>, <code class="literal">dmidecode</code>, <code class="literal">dnf</code>, <code class="literal">dracut-config-generic</code>, <code class="literal">dracut-network</code>, <code class="literal">efibootmgr</code>, <code class="literal">ethtool</code>, <code class="literal">fcoe-utils</code>, <code class="literal">ftp</code>, <code class="literal">gdb-gdbserver</code>, <code class="literal">gdisk</code>, <code class="literal">glibc-all-langpacks</code>, <code class="literal">gnome-kiosk</code>, <code class="literal">google-noto-sans-cjk-ttc-fonts</code>, <code class="literal">grub2-tools</code>, <code class="literal">grub2-tools-extra</code>, <code class="literal">grub2-tools-minimal</code>, <code class="literal">grubby</code>, <code class="literal">gsettings-desktop-schemas</code>, <code class="literal">hdparm</code>, <code class="literal">hexedit</code>, <code class="literal">hostname</code>, <code class="literal">initscripts</code>, <code class="literal">ipmitool</code>, <code class="literal">iwl1000-firmware</code>, <code class="literal">iwl100-firmware</code>, <code class="literal">iwl105-firmware</code>, <code class="literal">iwl135-firmware</code>, <code class="literal">iwl2000-firmware</code>, <code class="literal">iwl2030-firmware</code>, <code class="literal">iwl3160-firmware</code>, <code class="literal">iwl5000-firmware</code>, <code class="literal">iwl5150-firmware</code>, <code class="literal">iwl6000g2a-firmware</code>, <code class="literal">iwl6000g2b-firmware</code>, <code class="literal">iwl6050-firmware</code>, <code class="literal">iwl7260-firmware</code>, <code class="literal">jomolhari-fonts</code>, <code class="literal">kacst-farsi-fonts</code>, <code class="literal">kacst-qurn-fonts</code>, <code class="literal">kbd</code>, <code class="literal">kbd-misc</code>, <code class="literal">kdump-anaconda-addon</code>, <code class="literal">kernel</code>, <code class="literal">khmeros-base-fonts</code>, <code class="literal">less</code>, <code class="literal">libblockdev-lvm-dbus</code>, <code class="literal">libibverbs</code>, <code class="literal">libreport-plugin-bugzilla</code>, <code class="literal">libreport-plugin-reportuploader</code>, <code class="literal">librsvg2</code>, <code class="literal">linux-firmware</code>, <code class="literal">lklug-fonts</code>, <code class="literal">lldpad</code>, <code class="literal">lohit-assamese-fonts</code>, <code class="literal">lohit-bengali-fonts</code>, <code class="literal">lohit-devanagari-fonts</code>, <code class="literal">lohit-gujarati-fonts</code>, <code class="literal">lohit-gurmukhi-fonts</code>, <code class="literal">lohit-kannada-fonts</code>, <code class="literal">lohit-odia-fonts</code>, <code class="literal">lohit-tamil-fonts</code>, <code class="literal">lohit-telugu-fonts</code>, <code class="literal">lsof</code>, <code class="literal">madan-fonts</code>, <code class="literal">mtr</code>, <code class="literal">mt-st</code>, <code class="literal">net-tools</code>, <code class="literal">nfs-utils</code>, <code class="literal">nmap-ncat</code>, <code class="literal">nm-connection-editor</code>, <code class="literal">nss-tools</code>, <code class="literal">openssh-clients</code>, <code class="literal">openssh-server</code>, <code class="literal">oscap-anaconda-addon</code>, <code class="literal">ostree</code>, <code class="literal">pciutils</code>, <code class="literal">perl-interpreter</code>, <code class="literal">pigz</code>, <code class="literal">plymouth</code>, <code class="literal">prefixdevname</code>, <code class="literal">python3-pyatspi</code>, <code class="literal">rdma-core</code>, <code class="literal">redhat-release-eula</code>, <code class="literal">rng-tools</code>, <code class="literal">rpcbind</code>, <code class="literal">rpm-ostree</code>, <code class="literal">rsync</code>, <code class="literal">rsyslog</code>, <code class="literal">selinux-policy-targeted</code>, <code class="literal">sg3_utils</code>, <code class="literal">sil-abyssinica-fonts</code>, <code class="literal">sil-padauk-fonts</code>, <code class="literal">sil-scheherazade-fonts</code>, <code class="literal">smartmontools</code>, <code class="literal">smc-meera-fonts</code>, <code class="literal">spice-vdagent</code>, <code class="literal">strace</code>, <code class="literal">systemd</code>, <code class="literal">tar</code>, <code class="literal">thai-scalable-waree-fonts</code>, <code class="literal">tigervnc-server-minimal</code>, <code class="literal">tigervnc-server-module</code>, <code class="literal">udisks2</code>,<code class="literal">udisks2-iscsi</code>,<code class="literal">usbutils</code>,<code class="literal">vim-minimal</code>, <code class="literal">volume_key</code>, <code class="literal">wget</code>, <code class="literal">xfsdump</code>, <code class="literal">xfsprogs</code>, <code class="literal">xorg-x11-drivers</code>, <code class="literal">xorg-x11-fonts-misc</code>, <code class="literal">xorg-x11-server-utils</code>, <code class="literal">xorg-x11-server-Xorg</code>, <code class="literal">xorg-x11-xauth</code>, <code class="literal">xz</code>,
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">edge-raw-image</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">dnf, dosfstools, e2fsprogs, glibc, lorax-templates-generic, lorax-templates-rhel, lvm2, policycoreutils, python36, python3-iniparse, qemu-img, selinux-policy-targeted, systemd, tar, xfsprogs, xz</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247640396432"> <p>
								<code class="literal">gce</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247640395344"> <p>
								<code class="literal">@core, langpacks-en, acpid, dhcp-client, dnf-automatic, net-tools, python3, rng-tools, tar, vim</code>
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#composer-description_composing-a-customized-rhel-system-image">RHEL image builder description</a>
					</li></ul></div></section></section><section class="chapter" id="building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Building simplified installer images to provision a RHEL for Edge image</h2></div></div></div><p class="_abstract _abstract">
			You can build a RHEL for Edge Simplified Installer image, which is optimized for unattended installation to a device, and provision the image to a RHEL for Edge image.
		</p><section class="section" id="simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.1. Simplified installer image build and deployment</h3></div></div></div><p class="_abstract _abstract">
				Build a RHEL for Edge Simplified Installer image by using the <code class="literal">edge-simplified-installer</code> image type,.
			</p><p>
				To build a RHEL for Edge Simplified Installer image, provide an existing <code class="literal">OSTree</code> commit. The resulting simplified image contains a raw image that has the OSTree commit deployed. After you boot the Simplified installer ISO image, it provisions a RHEL for Edge system that you can use on a hard disk or as a boot image in a virtual machine. You can log in to the deployed system with the user name and password that you specified in the blueprint that you used to create the Simplified Installer image.
			</p><p>
				The RHEL for Edge Simplified Installer image is optimized for unattended installation to a device and supports both network-based deployment and non-network-based deployments. However, for network-based deployment, it supports only UEFI HTTP boot.
			</p><p>
				Composing and deploying a simplified RHEL for Edge image involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install RHEL image builder
					</li><li class="listitem">
						Using RHEL image builder, create a blueprint with customizations for RHEL for Edge Container image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in RHEL image builder
					</li><li class="listitem">
						Create a RHEL for Edge image embed in an OCI container with a web server ready to deploy the commit as an OSTree repository
					</li><li class="listitem">
						Create a blueprint for the <code class="literal">edge-simplified-installer</code> image
					</li><li class="listitem">
						Build a simplified RHEL for Edge image
					</li><li class="listitem">
						Download the RHEL for Edge simplified image
					</li><li class="listitem">
						Install the raw image with the <code class="literal">edge-simplified-installer</code> virt-install
					</li></ol></div><p>
				The following diagram represents the RHEL for Edge Simplified building and provisioning workflow:
			</p><div class="figure" id="idm140247632357280"><p class="title"><strong>Figure 6.1. Building and provisioning RHEL for Edge in network-based environment</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/c30b3cddb9768927f71a93631132b1aa/RHEL_for_Edge_simplified_workflow.png" alt="RHEL for Edge Simplified workflow"></div></div></div></section><section class="section" id="creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.2. Creating a blueprint for a Simplified image using RHEL image builder CLI</h3></div></div></div><p class="_abstract _abstract">
				To create a blueprint for a simplified RHEL for Edge image, you must customize it with a <code class="literal">device file</code> location to enable an unattended installation to a device and a <code class="literal">URL</code> to perform the initial device credential exchange. You also must specify users and user groups in the blueprint. For that,follow the steps:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:
					</p><pre class="screen">name = "simplified-installer-blueprint"
description = "blueprint for the simplified installer image"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[customizations]
installation_device = <span class="emphasis"><em>"/dev/vda"</em></span>

[[customizations.user]]
name = "admin"
password = "admin"
groups = ["users", "wheel"]

[customizations.fdo]
manufacturing_server_url = <span class="emphasis"><em>"http://10.0.0.2:8080"</em></span>
diun_pub_key_insecure = <span class="emphasis"><em>"true"</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The FDO customization in the blueprints is optional, and you can build your RHEL for Edge Simplified Installer image with no errors.
						</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>name</em></span> is the name and <span class="emphasis"><em>description</em></span> is the description for your blueprint.
							</li><li class="listitem">
								<span class="emphasis"><em>0.0.1</em></span> is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								<span class="emphasis"><em>Modules</em></span> describe the package name and matching version glob to be installed into the image, for example, the package name = "tmux" and the matching version glob is version = "2.9a". Notice that currently there are no differences between packages and modules.
							</li><li class="listitem">
								<span class="emphasis"><em>Groups</em></span> are packages groups to be installed into the image, for example the <code class="literal">anaconda-tools</code> group package. If you do not know the modules and groups, leave them empty.
							</li><li class="listitem">
								<span class="emphasis"><em>installation-device</em></span> is the customization to enable an unattended installation to your device.
							</li><li class="listitem">
								<span class="emphasis"><em>manufacturing_server_url</em></span> is the URL to perform the initial device credential exchange.
							</li><li class="listitem">
								<span class="emphasis"><em>name</em></span> is the user name to login to the image.
							</li><li class="listitem">
								<span class="emphasis"><em>password</em></span> is a password of your choice.
							</li><li class="listitem">
								<span class="emphasis"><em>groups</em></span> are any user groups, such as "widget".
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Push (import) the blueprint to the RHEL image builder server:
					</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name.toml</em></span></pre></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
					</p><pre class="screen"># composer-cli blueprints show <span class="emphasis"><em>blueprint-name</em></span></pre></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using RHEL image builder command-line</a>
					</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI</h3></div></div></div><p class="_abstract _abstract">
				To create a RHEL for Edge Simplified image by using RHEL image builder command-line interface, ensure that you have met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for the RHEL for Edge Simplified image.
					</li><li class="listitem">
						You served an OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the bootable ISO image.
					</p><pre class="screen"># composer-cli compose start-ostree \
<span class="emphasis"><em>blueprint-name</em></span> \
edge-simplified-installer \
--ref rhel/9/x86_64/edge \
--url <span class="emphasis"><em>URL-OSTree-repository</em></span> \</pre><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">blueprint-name</code> is the RHEL for Edge blueprint name.
							</li><li class="listitem">
								<code class="literal">edge-simplified-installer</code> is the image type .
							</li><li class="listitem">
								<code class="literal">--ref</code> is the reference for where your commit is going to be created.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">--url</code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. You can either start a RHEL for Edge Container or set up a web server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a> and <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
							</p><p class="simpara">
								A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Check the image compose status.
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The output displays the status in the following format:
					</p><pre class="screen"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The image creation processes can take up to ten minutes to complete.
						</p></div></rh-alert><p class="simpara">
						To interrupt the image creation process, run:
					</p><pre class="screen"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
						To delete an existing image, run:
					</p><pre class="screen"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using RHEL image builder command-line</a>
					</li></ul></div></section><section class="section" id="downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.4. Downloading a simplified RHEL for Edge image using the image builder command-line interface</h3></div></div></div><p class="_abstract _abstract">
				To download a RHEL for Edge image by using RHEL image builder command line interface, ensure that you have met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a RHEL for Edge image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Review the RHEL for Edge image status.
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The output must display the following:
					</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre></li><li class="listitem"><p class="simpara">
						Download the image.
					</p><pre class="screen"># composer-cli compose image &lt;UUID&gt;</pre><p class="simpara">
						RHEL image builder downloads the image as an <code class="literal">.iso</code> file at the current directory path where you run the command.
					</p><p class="simpara">
						The UUID number and the image size is displayed alongside.
					</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-simplified-installer.iso: <span class="emphasis"><em>size</em></span> MB</pre></li></ol></div><p>
				As a result, you downloaded a RHEL for Edge Simplified Installer ISO image. You can use it directly as a boot ISO to install a RHEL for Edge system.
			</p></section><section class="section" id="proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.5. Creating a blueprint for a Simplified image RHEL using image builder GUI</h3></div></div></div><p>
				To create a RHEL for Edge Simplified Installer image, you must create a blueprint and ensure that you customize it with:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A device node location to enable an unattended installation to your device.
					</li><li class="listitem">
						A URL to perform the initial device credential exchange.
					</li><li class="listitem">
						A user or user group.
					</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You can also add any other customizations that your image requires.
				</p></div></rh-alert><p>
				To create a blueprint for a simplified RHEL for Edge image in the RHEL image builder GUI, complete the following steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from the web console in a browser. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface">Accessing the RHEL image builder GUI in the RHEL web console</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Click Create Blueprint in the upper-right corner of the RHEL image builder app.
					</p><p class="simpara">
						A dialog wizard with fields for the blueprint name and description opens.
					</p></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Details</code> page:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the Packages page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								In the <code class="literal">Available packages</code> search, enter the package name and click the <span class="guibutton">&gt;</span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click <span class="guibutton">Next</span>.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									The customizations are all optional unless otherwise specified.
								</p></div></rh-alert></li></ol></div></li><li class="listitem">
						Optional: On the <code class="literal">Kernel</code> page, enter a kernel name and the command-line arguments.
					</li><li class="listitem">
						Optional: On the <code class="literal">File system</code> page, select <code class="literal">Use automatic partitioning</code>.The filesystem customization is not supported for OSTree systems, because OSTree images have their own mount rule, such as read-only. Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Services</code> page, you can enable or disable services:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the <span class="guibutton">Enter</span> key. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Firewall</code> page, set up your firewall setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Enter the <code class="literal">Ports</code>, and the firewall services you want to enable or disable.
							</li><li class="listitem">
								Click the <span class="guibutton">Add zone</span> button to manage your firewall rules for each zone independently. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal">Users</code> page, add a users by following the steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click <span class="guibutton">Add user</span>.
							</li><li class="listitem"><p class="simpara">
								Enter a <code class="literal">Username</code>, a <code class="literal">password</code>, and a <code class="literal">SSH key</code>. You can also mark the user as a privileged user, by clicking the <code class="literal">Server administrator</code> checkbox.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									When you specify the user in the blueprint customization and then create an image from that blueprint, the blueprint creates the user under the <code class="literal">/usr/lib/passwd</code> directory and the password under the <code class="literal">/usr/etc/shadow</code> during installation time. You can log in to the device with the username and password you created for the blueprint. After you access the system, you must create users, for example, using the <code class="literal">useradd</code> command.
								</p></div></rh-alert><p class="simpara">
								Click <span class="guibutton">Next</span>.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Groups</code> page, add groups by completing the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add groups</span> button:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter a <code class="literal">Group name</code> and a <code class="literal">Group ID</code>. You can add more groups. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">SSH keys</code> page, add a key:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add key</span> button.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Enter the SSH key.
									</li><li class="listitem">
										Enter a <code class="literal">User</code>. Click <span class="guibutton">Next</span>.
									</li></ol></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Timezone</code> page, set your timezone settings:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								On the <code class="literal">Timezone</code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: "US/Eastern".
							</p><p class="simpara">
								If you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.
							</p></li><li class="listitem">
								Enter the <code class="literal">NTP</code> servers. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">Locale</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Keyboard</code> search field, enter the package name you want to add to your system image. For example: ["en_US.UTF-8"].
							</li><li class="listitem">
								On the <code class="literal">Languages</code> search field, enter the package name you want to add to your system image. For example: "us". Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Mandatory: On the <code class="literal">Others</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the <code class="literal">Hostname</code> field, enter the hostname you want to add to your system image. If you do not add a hostname, the operating system determines the hostname.
							</li><li class="listitem">
								Mandatory: In the <code class="literal">Installation Devices</code> field, enter a valid node for your system image to enable an unattended installation to your device. For example: <code class="literal">dev/sda1</code>. Click <span class="guibutton">Next</span>.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: On the <code class="literal">FIDO device onboarding</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <code class="literal">Manufacturing server URL</code> field, enter the <code class="literal">manufacturing server URL</code> to perform the initial device credential exchange, for example: "http://10.0.0.2:8080". The FDO customization in the blueprints is optional, and you can build your RHEL for Edge Simplified Installer image with no errors.
							</li><li class="listitem">
								On the <code class="literal">DIUN public key insecure</code> field, enter the certification public key hash to perform the initial device credential exchange. This field accepts "true" as value, which means this is an insecure connection to the manufacturing server. For example: <code class="literal">manufacturing_server_url="http://${FDO_SERVER}:8080" diun_pub_key_insecure="true"</code>. You must use only one of these three options: "key insecure", "key hash" and "key root certs".
							</li><li class="listitem"><p class="simpara">
								On the <code class="literal">DIUN public key hash</code> field, enter the hashed version of your public key. For example: <code class="literal">17BD05952222C421D6F1BB1256E0C925310CED4CE1C4FFD6E5CB968F4B73BF73</code>. You can get the key hash by generating it based on the certificate of the manufacturing server. To generate the key hash, run the command:
							</p><pre class="screen"># openssl x509 -fingerprint -sha256 -noout -in /etc/fdo/aio/keys/diun_cert.pem | cut -d"=" -f2 | sed 's/://g'</pre><p class="simpara">
								The <code class="literal">/etc/fdo/aio/keys/diun_cert.pem</code> is the certificate that is stored in the manufacturing server.
							</p></li><li class="listitem"><p class="simpara">
								On the <code class="literal">DIUN public key root certs</code> field, enter the public key root certs. This field accepts the content of the certification file that is stored in the manufacturing server. To get the content of certificate file, run the command:
							</p><pre class="screen">$ cat /etc/fdo/aio/keys/diun_cert.pem.</pre></li></ol></div></li><li class="listitem">
						Click <span class="guibutton">Next</span>.
					</li><li class="listitem">
						On the <code class="literal">Review</code> page, review the details about the blueprint. Click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The RHEL image builder view opens, listing existing blueprints.
			</p></section><section class="section" id="proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.6. Creating a RHEL for Edge Simplified Installer image using image builder GUI</h3></div></div></div><p>
				To create a RHEL for Edge Simplified image by using RHEL image builder GUI, ensure that you have met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You opened the RHEL image builder app from the web console in a browser.
					</li><li class="listitem">
						You created a blueprint for the RHEL for Edge Simplified image.
					</li><li class="listitem">
						You served an OSTree repository of the commit to embed in the image, for example, <code class="literal">http://10.0.2.2:8080/repo</code>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
					</li><li class="listitem">
						The FDO manufacturing server is up and running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access mage builder dashboard.
					</li><li class="listitem">
						On the blueprint table, find the blueprint you want to build an image for.
					</li><li class="listitem">
						Navigate to the <code class="literal">Images</code> tab and click <code class="literal">Create Image</code>. The <code class="literal">Create image</code> wizard opens.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal">Image output</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								From the <code class="literal">Select a blueprint</code> list, select the blueprint you created for the RHEL for Edge Simplified image.
							</li><li class="listitem">
								From the <code class="literal">Image output type</code> list, select <code class="literal">RHEL for Edge Simplified Installer (.iso)</code>.
							</li><li class="listitem">
								In the <code class="literal">Image Size</code> field, enter the image size. Minimum image size required for Simplified Installer image is:
							</li></ol></div></li><li class="listitem">
						Click <span class="guibutton">Next</span>.
					</li><li class="listitem"><p class="simpara">
						In the <code class="literal">OSTree settings</code> page, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the <code class="literal">Repository URL</code> field, enter the repository URL to where the parent OSTree commit will be pulled from.
							</li><li class="listitem">
								In the <code class="literal">Ref</code> field, enter the <code class="literal">ref</code> branch name path. If you do not enter a <code class="literal">ref</code>, the default <code class="literal">ref</code> for the distro is used.
							</li></ol></div></li><li class="listitem">
						On the <code class="literal">Review</code> page, review the image customization and click <span class="guibutton">Create</span>.
					</li></ol></div><p>
				The image build starts and takes up to 20 minutes to complete. To stop the building, click <span class="guibutton">Stop build</span>.
			</p></section><section class="section" id="proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.7. Downloading a simplified RHEL for Edge image using the image builder GUI</h3></div></div></div><p>
				To download a RHEL for Edge image by using RHEL image builder GUI, ensure that you have met the following prerequisites and then follow the procedure.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have successfully created a RHEL for Edge image. See link.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access the RHEL image builder dashboard. The blueprint list dashboard opens.
					</li><li class="listitem">
						In the blueprint table, find the blueprint you built your RHEL for Edge Simplified Installer image for.
					</li><li class="listitem">
						Navigate to the <code class="literal">Images</code> tab.
					</li><li class="listitem"><p class="simpara">
						Choose one of the options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Download the image.
							</li><li class="listitem">
								Download the logs of the image to inspect the elements and verify if any issue is found.
							</li></ul></div></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You can use the RHEL for Edge Simplified Installer ISO image that you downloaded directly as a boot ISO to install a RHEL for Edge system.
				</p></div></rh-alert></section><section class="section" id="setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.8. Setting up an UEFI HTTP Boot server</h3></div></div></div><p class="_abstract _abstract">
				To set up an <span class="strong strong"><strong>UEFI HTTP Boot</strong></span> server, so that you can start to provision a RHEL for Edge Virtual Machine over network by connecting to this UEFI HTTP Boot server, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created the ISO simplified installer image.
					</li><li class="listitem">
						An http server that serves the ISO content.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Mount the ISO image to the directory of your choice:
					</p><pre class="screen"># mkdir /mnt/rhel9-install/
# mount -o loop,ro -t iso9660 /path_directory/installer.iso /mnt/rhel9-install/</pre><p class="simpara">
						Replace <code class="literal">/path_directory/installer.iso</code> with the path to the RHEL for Edge bootable ISO image.
					</p></li><li class="listitem"><p class="simpara">
						Copy the files from the mounted image to the HTTP server root. This command creates the <code class="literal">/var/www/html/rhel9-install/</code> directory with the contents of the image.
					</p><pre class="screen"># mkdir /var/www/html/httpboot/
# cp -R /mnt/rhel9-install/* /var/www/html/httpboot/
# chmod -R +r /var/www/html/httpboot/*</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							Some copying methods can skip the <code class="literal">.treeinfo</code> file which is required for a valid installation source. Running the <code class="literal">cp</code> command for whole directories as shown in this procedure will copy <code class="literal">.treeinfo</code> correctly.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Update the <code class="literal">/var/www/html/EFI/BOOT/grub.cfg</code> file, by replacing:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								<code class="literal">coreos.inst.install_dev=/dev/sda</code> with <code class="literal">coreos.inst.install_dev=/dev/vda</code>
							</li><li class="listitem">
								<code class="literal">linux /images/pxeboot/vmlinuz</code> with <code class="literal">linuxefi /images/pxeboot/vmlinuz</code>
							</li><li class="listitem">
								<code class="literal">initrd /images/pxeboot/initrd.img</code> with <code class="literal">initrdefi /images/pxeboot/initrd.img</code>
							</li><li class="listitem"><p class="simpara">
								<code class="literal">coreos.inst.image_file=/run/media/iso/disk.img.xz</code> with <code class="literal">coreos.inst.image_url=http://{IP-ADDRESS}/disk.img.xz</code>
							</p><p class="simpara">
								The <span class="emphasis"><em>IP-ADDRESS</em></span> is the ip address of this machine, which will serve as a http boot server.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Start the httpd service:
					</p><pre class="screen"># systemctl start httpd.service</pre><p class="simpara">
						As a result, after you set up an <span class="strong strong"><strong>UEFI HTTP Boot</strong></span> server, you can install your RHEL for Edge devices by using <span class="strong strong"><strong>UEFI HTTP</strong></span> boot.
					</p></li></ol></div></section><section class="section" id="deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.9. Deploying the Simplified ISO image in a Virtual Machine</h3></div></div></div><p class="_abstract _abstract">
				Deploy the RHEL for Edge ISO image you generated by creating a RHEL for Edge Simplified image by using any the following installation sources:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>UEFI HTTP Boot</strong></span>
					</li><li class="listitem">
						<span class="strong strong"><strong>virt-install</strong></span>
					</li></ul></div><p>
				This example shows how to create a <span class="strong strong"><strong>virt-install</strong></span> installation source from your ISO image for a <span class="strong strong"><strong>network-based</strong></span> installation .
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created an ISO image.
					</li><li class="listitem">
						You set up a network configuration to support UEFI HTTP boot.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Set up a network configuration to support <span class="strong strong"><strong>UEFI HTTP</strong></span> boot. See <a class="link" href="https://www.redhat.com/sysadmin/uefi-http-boot-libvirt">Setting up UEFI HTTP boot with libvirt</a>.
					</li><li class="listitem"><p class="simpara">
						Use the <code class="literal">virt-install</code> command to create a RHEL for Edge Virtual Machine from the UEFI HTTP Boot.
					</p><pre class="literallayout"># virt-install \
    --name edge-install-image \
    --disk path=”  “, ,format=qcow2
    --ram 3072 \
    --memory 4096 \
    --vcpus 2 \
    --network network=integration,mac=mac_address \
    --os-type linux
    --os-variant rhel9 \
    --cdrom "/var/lib/libvirt/images/”ISO_FILENAME"
    --boot uefi,loader_ro=yes,loader_type=pflash,nvram_template=/usr/share/edk2/ovmf/OVMF_VARS.fd,loader_secure=no
    --virt-type kvm \
    --graphics none \
     --wait=-1
     --noreboot</pre></li></ol></div><p>
				After you run the command, the Virtual Machine installation starts.
			</p><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Log in to the created Virtual Machine.
					</li></ul></div></section><section class="section" id="deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.10. Deploying the Simplified ISO image from a USB flash drive</h3></div></div></div><p class="_abstract _abstract">
				Deploy the RHEL for Edge ISO image you generated by creating a RHEL for Edge Simplified image by using an <span class="strong strong"><strong>USB installation</strong></span>.
			</p><p>
				This example shows how to create a <span class="strong strong"><strong>USB installation</strong></span> source from your ISO image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a simplified installer image, which is an ISO image.
					</li><li class="listitem">
						You have a 8 GB USB flash drive.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Copy the ISO image file to a USB flash drive.
					</li><li class="listitem">
						Connect the USB flash drive to the port of the computer you want to boot.
					</li><li class="listitem"><p class="simpara">
						Boot the ISO image from the USB flash drive.The boot menu shows you the following options:
					</p><pre class="literallayout">Install Red Hat Enterprise Linux 9
Test this media &amp; install Red Hat Enterprise Linux 9</pre></li><li class="listitem">
						Choose Install Red Hat Enterprise Linux 9. This starts the system installation.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#booting-the-installer-from-local-media_rhel-installer">Booting the installation</a>
					</li></ul></div></section><section class="section" id="creating-and-booting-a-rhel-for-edge-image-in-fips-mode_building-and-provisioning-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">6.11. Creating and booting a RHEL for Edge image in FIPS mode</h3></div></div></div><p class="_abstract _abstract">
				You can create and boot a FIPS enabled RHEL for Edge image. You can specify in your blueprint whether you want to enable FIPS mode in the resulting image. The default value is <code class="literal">false</code>.
			</p><p>
				You can build the following image types in FIPS mode:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">edge-installer</code>
					</li><li class="listitem">
						<code class="literal">edge-simplified-installer</code>
					</li><li class="listitem">
						<code class="literal">edge-raw-image</code>
					</li><li class="listitem">
						<code class="literal">edge-ami</code>
					</li><li class="listitem">
						<code class="literal">edge-vsphere</code>
					</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					You can enable FIPS mode only during the image provisioning process. You cannot change to FIPS mode after the non-FIPS image build starts. If the host that builds the FIPS enabled image is not FIPS enabled, any keys generated by this host are not FIPS compliant, but the resulting image is FIPS compliant as expected.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created and downloaded a RHEL for Edge Container OSTree commit.
					</li><li class="listitem">
						You have installed Podman on your system. See <a class="link" href="https://access.redhat.com/solutions/3650231">How to install Podman in RHEL</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file in the Tom’s Obvious, Minimal Language (TOML) format with the following content:
					</p><pre class="screen">name = "system-fips-mode-enabled"
description = "blueprint with FIPS enabled "
version = "0.0.1"

[ostree]
ref= "example/edge"
url= "http://example.com/repo"

[customizations]
installation_device = "/dev/vda"
fips = true

[[customizations.user]]
name = "admin"
password = "admin"
groups = ["users", "wheel"]

[customizations.fdo]
manufacturing_server_url = "https://fdo.example.com"
diun_pub_key_insecure = true</pre></li><li class="listitem"><p class="simpara">
						Import the blueprint to the RHEL image builder server:
					</p><pre class="screen"># composer-cli blueprints push blueprint-name.toml</pre></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully imported and exists:
					</p><pre class="screen"># composer-cli blueprints show blueprint-name</pre></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><pre class="screen"># composer-cli blueprints depsolve blueprint-name</pre></li><li class="listitem">
						Serve an OSTree repository of the commit to embed in the image, for example, <a class="link" href="http://10.0.2.2:8080/repo">http://10.0.2.2:8080/repo</a>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images">Setting up an UEFI HTTP Boot server</a>.
					</li><li class="listitem"><p class="simpara">
						Create the bootable ISO image:
					</p><pre class="screen"># composer-cli compose start-ostree \
blueprint-name \
edge-simplified-installer \
--ref rhel/8/x86_64/edge \
--url URL-OSTree-repository \</pre></li><li class="listitem"><p class="simpara">
						Review the RHEL for Edge image status:
					</p><pre class="screen"># composer-cli compose status
…
$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date blueprint-name blueprint-version image-type
…</pre></li><li class="listitem"><p class="simpara">
						Download the image:
					</p><pre class="screen"># composer-cli compose image <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
						RHEL image builder downloads the image as an <code class="literal">.iso</code> file at the current directory path where you run the command. The UUID number and the image size is displayed alongside:
					</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span>-simplified-installer.iso: size MB</pre></li><li class="listitem"><p class="simpara">
						Create a RHEL for Edge Virtual Machine from the UEFI HTTP Boot, for example:
					</p><pre class="literallayout"># virt-install \
    --name edge-device
    --disk path="/var/lib/libvirt/images/edge-device.qcow2",size=5,format=qcow2 \
    --memory 4096 \
    --vcpus 2 \
    --network network=default \
    --os-type linux \
    --os-variant rhel8.9 \
    --cdrom /var/lib/libvirt/images/<span class="emphasis"><em>&lt;UUID&gt;</em></span>-simplified-installer.iso \
    --boot uefi,loader.secure=false \
    --virt-type kvm \
    --graphics none \
    --wait=-1 \
    --noreboot</pre></li></ol></div><p>
				After you run the command, the Virtual Machine installation starts.
			</p><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the created Virtual Machine with the username and password that you configured in your blueprint.
					</li><li class="listitem"><p class="simpara">
						Check if the FIPS setup is enabled:
					</p><pre class="screen">$ fips-mode-setup –check
…
FIPS mode is enabled
…</pre></li></ol></div></section></section><section class="chapter" id="building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Building and provisioning a minimal raw image</h2></div></div></div><p class="_abstract _abstract">
			The <code class="literal">minimal-raw</code> image is a pre-packaged, bootable, minimal RPM image, compressed in the <code class="literal">xz</code> format. The image consists of a file containing a partition layout with an existing deployed OSTree commit in it. You can build a RHEL for Edge Minimal Raw image type by using RHEL image builder and deploy the Minimal Raw image to the <code class="literal">aarch64</code> and <code class="literal">x86</code> architectures.
		</p><section class="section" id="the-minimal-raw-image-build-and-deployment_building-and-provisioning-a-minimal-raw-image"><div class="titlepage"><div><div><h3 class="title">7.1. The minimal raw image build and deployment</h3></div></div></div><p class="_abstract _abstract">
				Build a RHEL for Edge Minimal Raw image by using the <code class="literal">minimal-raw</code> image type. To boot the image, you must decompress it and copy to any bootable device, such as an SD card or a USB flash drive. You can log in to the deployed system with the user name and password that you specified in the blueprint that you used to create the RHEL for Edge Minimal Raw image.
			</p><p>
				Composing and deploying a RHEL for Edge Minimal Raw image involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install RHEL image builder
					</li><li class="listitem">
						Using RHEL image builder, create a blueprint with your customizations for RHEL for Edge Minimal Raw image
					</li><li class="listitem">
						Import the RHEL for Edge blueprint in RHEL image builder
					</li><li class="listitem">
						Create a RHEL for Edge Minimal Raw image
					</li><li class="listitem">
						Download and decompress the RHEL for Edge Minimal Raw image
					</li><li class="listitem">
						Create a bootable USB drive from the decompressed Raw image
					</li><li class="listitem">
						Deploy the RHEL for Edge Minimal Raw image
					</li></ol></div></section><section class="section" id="creating-the-blueprint-for-a-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image"><div class="titlepage"><div><div><h3 class="title">7.2. Creating the blueprint for a Minimal Raw image by using RHEL image builder CLI</h3></div></div></div><p class="_abstract _abstract">
				Create a blueprint, and customize it with a username and a password. You can use the resulting blueprint to create a Minimal Raw image and log in to it by using the credentials that you configured in the blueprint.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:
					</p><pre class="screen">name = "minimal-raw-blueprint"
description = "blueprint for the Minimal Raw image"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[[customizations.user]]
name = "admin"
password = "admin"
groups = ["users", "wheel"]</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								name is the name and description is the description for your blueprint.
							</li><li class="listitem">
								0.0.1 is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								Modules describe the package name and matching version glob to be installed into the image, for example, the package name = "tmux" and the matching version glob is version = "2.9a". Currently there are no differences between packages and modules.
							</li><li class="listitem">
								Groups are packages groups to be installed into the image, for example the anaconda-tools group package. If you do not know the modules and groups, leave them empty.
							</li><li class="listitem"><p class="simpara">
								Under <code class="literal">customizations.user</code>:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">name</code> is the username to login to the image
									</li><li class="listitem">
										<code class="literal">password</code> is a password of your choice
									</li><li class="listitem">
										<code class="literal">groups</code> are any user groups, such as "widget"
									</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Import the blueprint to the RHEL image builder server:
					</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>&lt;blueprint_name&gt;</em></span>.toml</pre></li><li class="listitem"><p class="simpara">
						Check if the blueprint is available on the system:
					</p><pre class="screen"># composer-cli blueprints list</pre></li><li class="listitem"><p class="simpara">
						Check the validity of components, versions, and their dependencies in the blueprint:
					</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>&lt;blueprint_name&gt;</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image by using RHEL image builder command-line</a>
					</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image"><div class="titlepage"><div><div><h3 class="title">7.3. Creating a Minimal Raw image by using RHEL image builder CLI</h3></div></div></div><p class="_abstract _abstract">
				Create a RHEL for Edge Minimal Raw image with the RHEL image builder command-line interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for the RHEL for Edge Minimal Raw image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Build the image.
					</p><pre class="screen"># composer-cli compose start <span class="emphasis"><em>&lt;blueprint_name&gt;</em></span> minimal-raw</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal"><span class="emphasis"><em>&lt;blueprint_name&gt;</em></span></code> is the RHEL for Edge blueprint name
							</li><li class="listitem">
								<code class="literal">minimal-raw</code> is the image type
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Check the image compose status.
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The output displays the status in the following format:
					</p><pre class="screen"># <span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>&lt;blueprint_name&gt;</em></span> blueprint-version minimal-raw</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Composing a RHEL for Edge image using image builder command-line</a>
					</li></ul></div></section><section class="section" id="downloading-and-decompressing-the-minimal-raw-image_building-and-provisioning-a-minimal-raw-image"><div class="titlepage"><div><div><h3 class="title">7.4. Downloading and decompressing the Minimal Raw image</h3></div></div></div><p class="_abstract _abstract">
				Download the RHEL for Edge Minimal Raw image by using RHEL image builder command line interface, and then decompress the image to be able to boot it.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a RHEL for Edge Minimal Raw image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Review the RHEL for Edge Minimal Raw image compose status.
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The output must display the following details:
					</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> FINISHED date <span class="emphasis"><em>&lt;blueprint_name&gt;</em></span> <span class="emphasis"><em>&lt;blueprint_version&gt;</em></span> minimal-raw</pre></li><li class="listitem"><p class="simpara">
						Download the image:
					</p><pre class="screen"># composer-cli compose image <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
						Image builder downloads the image into your working directory. The following output is an example:
					</p><pre class="screen">3f9223c1-6ddb-4915-92fe-9e0869b8e209-raw.img.xz</pre></li><li class="listitem"><p class="simpara">
						Decompress the image:
					</p><pre class="screen">$ xz -d <span class="emphasis"><em>&lt;UUID&gt;</em></span>-raw.img.xz</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Next</strong></p><p>
					Use the decompressed bootable RHEL for Edge Minimal Raw image to create a bootable installation medium and use it as a boot device. The following documentation describes the procedure of creating an USB bootable device from an ISO image. However, the same steps apply to the RAW images, because the RAW image is equivalent to the ISO image.
				</p></div><p>
				See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_from_installation_media/assembly_creating-a-bootable-installation-medium_rhel-installer#create-bootable-usb-linux_assembly_creating-a-bootable-installation-medium">Creating a bootable USB device on Linux</a> for more details.
			</p></section><section class="section" id="deploying-the-minimal-raw-image-from-a-usb-flash-drive_building-and-provisioning-a-minimal-raw-image"><div class="titlepage"><div><div><h3 class="title">7.5. Deploying the Minimal Raw image from a USB flash drive</h3></div></div></div><p class="_abstract _abstract">
				After you created a bootable USB installation medium from the customized RHEL for Edge Minimal Raw image, you can continue the installation process by deploying the Minimal Raw image from the USB flash drive and booting your customized image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a 8 GB USB flash drive.
					</li><li class="listitem">
						You have created a bootable installation medium from the RHEL for Edge Minimal Raw image to the USB drive.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Connect the USB flash drive to the computer where you want to boot your customized image.
					</li><li class="listitem">
						Power on the system.
					</li><li class="listitem"><p class="simpara">
						Boot the RHEL for Edge Minimal Raw image from the USB flash drive. The boot menu shows you the following options:
					</p><pre class="literallayout">Install Red Hat Enterprise Linux 9
Test this media &amp; install Red Hat Enterprise Linux 9</pre></li><li class="listitem">
						Choose <span class="strong strong"><strong>Install Red Hat Enterprise Linux 9</strong></span>. This starts the system installation.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Boot into the image by using the username and password you configured in the blueprint.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Check the release:
							</p><pre class="screen">$ cat /etc/os-release</pre></li><li class="listitem"><p class="simpara">
								List the block devices in the system:
							</p><pre class="screen">$ lsblk</pre></li></ol></div></li></ol></div></section></section><section class="chapter" id="assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Using the Ignition tool for the RHEL for Edge Simplified Installer images</h2></div></div></div><p>
			RHEL for Edge uses the Ignition tool to inject the user configuration into the images at an early stage of the boot process. The user configuration that the Ignition tool injects includes:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					The user configuration.
				</li><li class="listitem">
					Writing files, such as regular files, and <code class="literal">systemd</code> units.
				</li></ul></div><p>
			On the first boot, Ignition reads its configuration either from a remote URL or a file embedded in the simplified installer ISO. Then, Ignition applies that configuration into the image.
		</p><section class="section" id="proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">8.1. Creating an Ignition configuration file</h3></div></div></div><p>
				The <code class="literal">Butane</code> tool is the preferred option to create an Ignition configuration file. <code class="literal">Butane</code> consumes a <code class="literal">Butane Config YAML</code> file and produces an <code class="literal">Ignition Config</code> in the JSON format. The JSON file is used by a system on its first boot. The <code class="literal">Ignition Config</code> applies the configuration in the image, such as user creation, and <code class="literal">systemd</code> units installation.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the Butane tool version v0.17.0:
					</p><pre class="screen">$ sudo dnf/yum install -y butane</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Butane Config</code> file and save it in the <code class="literal">.bu</code> format. You must specify the <code class="literal">variant</code> entry as <code class="literal">r4e</code>, and the <code class="literal">version</code> entry as <code class="literal">1.0.0</code>, for RHEL for Edge images. The butane <code class="literal">r4e</code> variant on version 1.0.0 targets Ignition spec version <code class="literal">3.3.0</code>. The following is a Butane Config YAML file example:
					</p><pre class="screen">variant: r4e
version: 1.0.0
ignition:
  config:
    merge:
      - source: http://192.168.122.1:8000/sample.ign
passwd:
  users:
    - name: core
      groups:
        - wheel
      password_hash: password_hash_here
      ssh_authorized_keys:
        - ssh-ed25519 some-ssh-key-here
storage:
  files:
    - path: /etc/NetworkManager/system-connections/enp1s0.nmconnection
      contents:
        inline: |
          [connection]
          id=enp1s0
          type=ethernet
          interface-name=enp1s0
          [ipv4]
          address1=192.168.122.42/24,192.168.122.1
          dns=8.8.8.8;
          dns-search=
          may-fail=false
          method=manual
      mode: 0600
    - path: /usr/local/bin/startup.sh
      contents:
        inline: |
          #!/bin/bash
          echo "Hello, World!"
      mode: 0755
systemd:
  units:
    - name: hello.service
      contents: |
        [Unit]
        Description=A hello world
        [Install]
        WantedBy=multi-user.target
      enabled: true
    - name: fdo-client-linuxapp.service
      dropins:
        - name: log_trace.conf
          contents: |
            [Service]
            Environment=LOG_LEVEL=trace</pre></li><li class="listitem"><p class="simpara">
						Run the following command to consume the <code class="literal">Butane Config YAML</code> file and generate an Ignition Config in the JSON format:
					</p><pre class="screen">$ ./path/butane example.bu
{"ignition":{"config":{"merge":[{"source":"http://192.168.122.1:8000/sample.ign"}]},"timeouts":{"httpTotal":30},"version":"3.3.0"},"passwd":{"users":[{"groups":["wheel"],"name":"core","passwordHash":"password_hash_here","sshAuthorizedKeys":["ssh-ed25519 some-ssh-key-here"]}]},"storage":{"files":[{"path":"/etc/NetworkManager/system-connections/enp1s0.nmconnection","contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/0yKUcrCMBAG3/csf/ObUKQie5LShyX5SgPNNiSr0NuLgiDzNMPM8VBFtHzoQjkxtPp+ITsrGLahKYyyGtoqEYNKwfeZc32OC0lKDb179rfg/HVyPgQ3hv8w/v0WT0k7T+7D/S1Dh7S4MRU5h1XyzqvsHVRg25G4iD5kp1cAAAD//6Cvq2ihAAAA"},"mode":384},{"path":"/usr/local/bin/startup.sh","contents":{"source":"data:;base64,IyEvYmluL2Jhc2gKZWNobyAiSGVsbG8sIFdvcmxkISIK"},"mode":493}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=A hello world\n[Install]\nWantedBy=multi-user.target","enabled":true,"name":"hello.service"},{"dropins":[{"contents":"[Service]\nEnvironment=LOG_LEVEL=trace\n","name":"log_trace.conf"}],"name":"fdo-client-linuxapp.service"}]}}</pre><p class="simpara">
						After you run the <code class="literal">Butane Config YAML</code> file to check and generate the <code class="literal">Ignition Config JSON</code> file, you might get warnings when using unsupported fields, like partitions, for example. You can fix those fields and rerun the check.
					</p></li></ol></div><p>
				You have now an Ignition JSON configuration file that you can use to customize your blueprint.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://coreos.github.io/butane/config-r4e-v1_0/">RHEL for Edge Specification v1.0.0</a>
					</li></ul></div></section><section class="section" id="proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">8.2. Creating a blueprint in the GUI with support to Ignition</h3></div></div></div><p>
				When building a Simplified Installer image, you can customize your blueprint by entering the following details in the Ignition page of the blueprint:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">Firstboot URL</code> - You must enter a URL that points to the Ignition configuration that will be fetched during the first boot. It can be used for both the raw image and simplified installer image.
					</li><li class="listitem">
						<code class="literal">Embedded Data</code> - You must provide the <code class="literal">base64</code> encoded <code class="literal">Ignition Configuration</code> file. It can be used only for the Simplified Installer image.
					</li></ul></div><p>
				To customize your blueprint for a simplified RHEL for Edge image with support to Ignition configuration using the Ignition blueprint customization, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have opened the image builder app from web console in a browser. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface">Accessing the image builder GUI in the RHEL web console</a>.
					</li><li class="listitem">
						To fully support the embedded section, <code class="literal">coreos-installer-dracut</code> has to be able to define <code class="literal">-ignition-url</code>|<code class="literal">-ignition-file</code> based on the presence of the OSBuild’s file.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Click <span class="guibutton">Create Blueprint</span> in the upper-right corner.
					</p><p class="simpara">
						A dialog wizard with fields for the blueprint name and description opens.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On the <code class="literal">Details</code> page:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Enter the name of the blueprint and, optionally, its description. Click <span class="guibutton">Next</span>.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								On the <code class="literal">Ignition</code> page, complete the following steps:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										On the <code class="literal">Firstboot URL</code> field, enter the URL that points to the Ignition configuration to be fetched during the first boot.
									</li><li class="listitem">
										On the <code class="literal">Embedded Data</code> field, drag or upload the <code class="literal">base64</code> encoded <code class="literal">Ignition Configuration</code> file. Click <span class="guibutton">Next</span>.
									</li></ul></div></li><li class="listitem">
								Review the image details and click <span class="guibutton">Create</span>.
							</li></ul></div></li></ol></div><p>
				The image builder dashboard view opens, listing the existing blueprints.
			</p><div class="itemizedlist"><p class="title"><strong>Next</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can use the blueprint you created to build your Simplified Installer image. See <a class="link" href="#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" title="6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI">Creating a RHEL for Edge Simplified Installer image using image builder CLI</a>.
					</li></ul></div></section><section class="section" id="proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images"><div class="titlepage"><div><div><h3 class="title">8.3. Creating a blueprint with support to Ignition using the CLI</h3></div></div></div><p>
				When building a simplified installer image, you can customize your blueprint by adding the <code class="literal">customizations.ignition</code> section to it. With that, you can create either a simplified installer image or a raw image that you can use for the bare metal platforms. The <code class="literal">customizations.ignition</code> customization in the blueprint enables the configuration files to be used in <code class="literal">edge-simplified-installer</code> ISO and <code class="literal">edge-raw-image</code> images.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For the <code class="literal">edge-simplified-installer</code> ISO image, you can customize the blueprint to embed an Ignition configuration file that will be included in the ISO image. For example:
					</p><pre class="screen">[customizations.ignition.embedded]
config = "eyJ --- BASE64 STRING TRIMMED --- 19fQo="</pre><p class="simpara">
						You must provide a <code class="literal">base64</code> encoded Ignition configuration file.
					</p></li><li class="listitem"><p class="simpara">
						For both the <code class="literal">edge-simplified-installer</code> ISO image and also the <code class="literal">edge-raw-image</code>, you can customize the blueprint, by defining a URL that will be fetched to obtain the Ignition configuration at the first boot. For example:
					</p><pre class="screen">[customizations.ignition.firstboot]
url = "http://your_server/ignition_configuration.ig"</pre><p class="simpara">
						You must enter a URL that points to the Ignition configuration that will be fetched during the first boot.
					</p></li></ul></div><p>
				To customize your blueprint for a Simplified RHEL for Edge image with support to Ignition configuration, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						If using the <code class="literal">[customizations.ignition.embedded]</code> customization, you must create an Ignition configuration file.
					</li><li class="listitem">
						If using the <code class="literal">[customizations.ignition.firstboot]</code> customization, you must have created a container whose URL points to the Ignition configuration that will be fetched during the first boot.
					</li><li class="listitem">
						The blueprint customization <code class="literal">[customizations.ignition.embedded]</code> section enables <code class="literal">coreos-installer-dracut</code> to define <code class="literal">-ignition-url</code>|<code class="literal">-ignition-file</code> based on the presence of the osbuild’s file.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a plain text file in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:
					</p><pre class="screen">name = "simplified-installer-blueprint"
description = "Blueprint with Ignition for the simplified installer image"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[customizations.ignition.embedded]
config = "eyJ --- BASE64 STRING TRIMMED --- 19fQo="</pre><p class="simpara">
						Where:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The <code class="literal">name</code> is the name and <code class="literal">description</code> is the description for your blueprint.
							</li><li class="listitem">
								The <code class="literal">version</code> is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								The <code class="literal">modules</code> and <code class="literal">packages</code> describe the package name and matching version glob to be installed into the image. For example, the package <code class="literal">name = "tmux"</code> and the matching version glob is <code class="literal">version = "3.3a"</code>. Notice that currently there are no differences between packages and modules.
							</li><li class="listitem"><p class="simpara">
								The <code class="literal">groups</code> are packages groups to be installed into the image. For example <code class="literal">groups = "anaconda-tools"</code> group package. If you do not know the modules and groups, leave them empty.
							</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
									If you want to create a user with Ignition, you cannot use the FDO customizations to create a user at the same time. You can create users using Ignition and copy configuration files using FDO. But if you are creating users, create them using Ignition or FDO, but not both at the same time.
								</p></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						Push (import) the blueprint to the image builder server:
					</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>blueprint-name</em></span>.toml</pre></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully pushed and exists.
					</p><pre class="screen"># composer-cli blueprints show <span class="emphasis"><em>blueprint-name</em></span></pre></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>blueprint-name</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You can use the blueprint you created to build your Simplified Installer image. See <a class="link" href="#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images" title="6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI">Creating a RHEL for Edge Simplified Installer image using image builder CLI</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://coreos.github.io/butane/config-r4e-v1_0/">RHEL for Edge Specification v1.0.0</a>
					</li></ul></div></section></section><section class="chapter" id="creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Creating VMDK images for RHEL for Edge</h2></div></div></div><p class="_abstract _abstract">
			You can create a <code class="literal">.vmdk</code> image for RHEL for Edge by using the RHEL image builder. You can create an <code class="literal">edge-vsphere</code> image type with Ignition support, to inject the user configuration into the image at an early stage of the boot process. Then, you can load the image on vSphere and boot the image in a vSphere VM. The image is compatible with ESXi 7.0 U2, ESXi 8.0 and later. The vSphere VM is compatible with version 19 and 20.
		</p><section class="section" id="creating-a-blueprint-with-the-ignition-configuration_creating-vmdk-images-for-rhel-for-edge"><div class="titlepage"><div><div><h3 class="title">9.1. Creating a blueprint with the Ignition configuration</h3></div></div></div><p class="_abstract _abstract">
				Create a blueprint for the <code class="literal">.vmdk</code> image and customize it with the <code class="literal">customizations.ignition</code> section. With that, you can create your image and, at boot time, the operating system will inject the user configuration to the image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have created an Ignition configuration file. For example:
					</p><pre class="screen">{
   "ignition":{
      "version":"3.3.0"
   },
   "passwd":{
      "users":[
         {
            "groups":[
               "wheel"
            ],
            "name":"core",
            "passwordHash":"$6$jfuNnO9t1Bv7N"
         }
      ]
   }
}</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a blueprint in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:
					</p><pre class="screen">name = "vmdk-image"
description = "Blueprint with Ignition for the vmdk image"
version = "0.0.1"
packages = ["open-vm-tools"]
modules = []
groups = []
distro = ""

[[customizations.user]]
name = "admin"
password = "admin"
groups = ["wheel"]

[customizations.ignition.firstboot]
url = http://<span class="emphasis"><em>&lt;IP_address&gt;</em></span>:8080/<span class="emphasis"><em>config.ig</em></span></pre><p class="simpara">
						Where:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The <code class="literal">name</code> is the name and <code class="literal">description</code> is the description for your blueprint.
							</li><li class="listitem">
								The <code class="literal">version</code> is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								The <code class="literal">modules</code> and <code class="literal">packages</code> describe the package name and matching version glob to be installed into the image. For example, the package <code class="literal">name = "open-vm-tools"</code>. Notice that currently there are no differences between packages and modules.
							</li><li class="listitem">
								The <code class="literal">groups</code> are packages groups to be installed into the image. For example <code class="literal">groups = "anaconda-tools"</code> group package. If you do not know the modules and groups, leave them empty.
							</li><li class="listitem">
								The <code class="literal">customizations.user</code> creates a username and password to log in to the VM.
							</li><li class="listitem"><p class="simpara">
								The <code class="literal">customizations.ignition.firstboot</code> contains the URL where the Ignition configuration file is being served.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									By default, the <code class="literal">open-vm-tools</code> package is not included in the <code class="literal">edge-vsphere</code> image. If you need this package, you must include it in the blueprint customization.
								</p></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						Import the blueprint to the image builder server:
					</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span>.toml</pre></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully pushed and exists:
					</p><pre class="screen"># composer-cli blueprints show <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						Use the blueprint you created to build your <code class="literal">.vmdk</code> image.
					</li></ul></div></section><section class="section" id="creating-a-vmdk-image-for-rhel-for-edge_creating-vmdk-images-for-rhel-for-edge"><div class="titlepage"><div><div><h3 class="title">9.2. Creating a VMDK image for RHEL for Edge</h3></div></div></div><p class="_abstract _abstract">
				To create a RHEL for Edge <code class="literal">.vmdk</code> image, use the 'edge-vsphere' image type in the RHEL image builder command-line interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for the <code class="literal">.vmdk</code> image.
					</li><li class="listitem">
						You served an OSTree repository of the commit to embed it in the image. For example, <code class="literal">http://10.0.2.2:8080/repo</code>. For more details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the compose of a <code class="literal">.vmdk</code> image:
					</p><pre class="screen"># composer-cli compose start start-ostree <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span> edge-vsphere --<span class="emphasis"><em>&lt;url&gt;</em></span></pre><p class="simpara">
						The --<span class="emphasis"><em>&lt;url&gt;</em></span> is the URL of your repo, for example: <code class="literal">http://10.88.0.1:8080/repo</code>.
					</p><p class="simpara">
						A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also, keep the UUID number handy for further tasks.
					</p></li><li class="listitem"><p class="simpara">
						Check the image compose status:
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The output displays the status in the following format:
					</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span>  <span class="emphasis"><em>&lt;blueprint-version&gt;</em></span> edge-vsphere</pre></li><li class="listitem"><p class="simpara">
						After the compose process finishes, download the resulting image file:
					</p><pre class="screen"># composer-cli compose image <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						Upload the <code class="literal">.vmdk</code> image to vSphere.
					</li></ul></div></section><section class="section" id="uploading-vmdk-images-and-creating-a-rhel-virtual-machine-in-vsphere_creating-vmdk-images-for-rhel-for-edge"><div class="titlepage"><div><div><h3 class="title">9.3. Uploading VMDK images and creating a RHEL virtual machine in vSphere</h3></div></div></div><p class="_abstract _abstract">
				Upload the <code class="literal">.vmdk</code> image to VMware vSphere by using the <code class="literal">govc import.vmdk</code> CLI tool and boot the image in a VM.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created an <code class="literal">.vmdk</code> image by using RHEL image builder and downloaded it to your host system.
					</li><li class="listitem">
						You installed the <code class="literal">govc import.vmdk</code> CLI tool.
					</li><li class="listitem"><p class="simpara">
						You configured the <code class="literal">govc import.vmdk</code> CLI tool client.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								You must set the following values in the environment:
							</p><pre class="literallayout">GOVC_URL
GOVC_DATACENTER
GOVC_FOLDER
GOVC_DATASTORE
GOVC_RESOURCE_POOL
GOVC_NETWORK</pre></li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Navigate to the directory where you downloaded your <code class="literal">.vmdk</code> image.
					</li><li class="listitem"><p class="simpara">
						Launch the image on vSphere by executing the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Import the <code class="literal">.vmdk</code> image in to vSphere:
							</p><pre class="screen">$ govc import.vmdk ./composer-api.vmdk <span class="emphasis"><em><span class="replaceable replaceable">foldername</span></em></span></pre></li><li class="listitem"><p class="simpara">
								Create the VM in vSphere without powering it on:
							</p><pre class="screen">govc vm.create \
-net="VM Network" -net.adapter=vmxnet3 \
-disk.controller=pvscsi -on=false \
-m=4096 -c=2 -g=rhel9_64Guest \
-firmware=efi vm_name govc vm.disk.attach \
-disk=”<span class="emphasis"><em><span class="replaceable replaceable">foldername</span></em></span>/composer-api.vmdk” govc vm.power -on\
-vm vm_name -link=false \
 vm_name</pre></li><li class="listitem"><p class="simpara">
								Power-on the VM:
							</p><pre class="screen">govc vm.power -on <span class="emphasis"><em>vmname</em></span></pre></li><li class="listitem"><p class="simpara">
								Retrieve the VM IP address:
							</p><pre class="screen">HOST=$(govc vm.ip <span class="emphasis"><em><span class="replaceable replaceable">vmname</span></em></span>)</pre></li><li class="listitem"><p class="simpara">
								Use SSH to log in to the VM, using the username and password you specified in your blueprint:
							</p><pre class="screen">$ ssh <span class="emphasis"><em>admin@HOST</em></span></pre></li></ol></div></li></ol></div></section></section><section class="chapter" id="creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 10. Creating RHEL for Edge AMI images</h2></div></div></div><p class="_abstract _abstract">
			You can create a RHEL for Edge <code class="literal">edge-ami</code> customized image by using RHEL image builder. The RHEL for Edge <code class="literal">edge-ami</code> has Ignition support to inject the user configuration into the images at an early stage of the boot process. Then, you can upload the image to AWS cloud and launch an EC2 instance in AWS. You can use the AMI image type on AMD or Intel 64-bit architectures.
		</p><section class="section" id="creating-a-blueprint-for-edge-ami-images_creating-rhel-for-edge-ami-images"><div class="titlepage"><div><div><h3 class="title">10.1. Creating a blueprint for Edge AMI images</h3></div></div></div><p class="_abstract _abstract">
				Create a blueprint for the <code class="literal">edge-ami</code> image and customize it with the <code class="literal">customizations.ignition</code> section. With that, you can create your image and when booting the image, inject the user configuration.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have created an Ignition configuration file. For example:
					</p><pre class="screen">{
   "ignition":{
      "version":"3.3.0"
   },
   "passwd":{
      "users":[
         {
            "groups":[
               "wheel"
            ],
            "name":"core",
            "passwordHash":"$6$jfuNnO9t1Bv7N"
         }
      ]
   }
}</pre><p class="simpara">
						For more details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images">Creating an Ignition configuration file</a>.
					</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a blueprint in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:
					</p><pre class="screen">name = "ami-edge-image"
description = "Blueprint for Edge AMI image"
version = "0.0.1"
packages = ["cloud-init"]
modules = []
groups = []
distro = ""

[[customizations.user]]
name = "admin"
password = "admin"
groups = ["wheel"]

[customizations.ignition.firstboot]
url = http://<span class="emphasis"><em>&lt;IP_address&gt;</em></span>:8080/<span class="emphasis"><em>config.ig</em></span></pre><p class="simpara">
						Where:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The <code class="literal">name</code> is the name and <code class="literal">description</code> is the description for your blueprint.
							</li><li class="listitem">
								The <code class="literal">version</code> is the version number according to the Semantic Versioning scheme.
							</li><li class="listitem">
								The <code class="literal">modules</code> and <code class="literal">packages</code> describe the package name and matching version glob to be installed into the image. For example, the package <code class="literal">name = "open-vm-tools"</code>. Notice that currently there are no differences between packages and modules.
							</li><li class="listitem">
								The <code class="literal">groups</code> are packages groups to be installed into the image. For example <code class="literal">groups = "wheel"</code>. If you do not know the modules and groups, leave them empty.
							</li><li class="listitem">
								The <code class="literal">customizations.user</code> creates a username and password to log in to the VM.
							</li><li class="listitem"><p class="simpara">
								The <code class="literal">customizations.ignition.firstboot</code> contains the URL where the Ignition configuration file is being served.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									By default, the <code class="literal">open-vm-tools</code> package is not included in the <code class="literal">edge-vsphere</code> image. If you need this package, you must include it in the blueprint customization.
								</p></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						Import the blueprint to the image builder server:
					</p><pre class="screen"># composer-cli blueprints push <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span>.toml</pre></li><li class="listitem"><p class="simpara">
						List the existing blueprints to check whether the created blueprint is successfully pushed and exists:
					</p><pre class="screen"># composer-cli blueprints show <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
						Check whether the components and versions listed in the blueprint and their dependencies are valid:
					</p><pre class="screen"># composer-cli blueprints depsolve <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						Use the blueprint you created to build your <code class="literal">edge-ami</code> image.
					</li></ul></div></section><section class="section" id="creating-a-rhel-for-edge-ami-image_creating-rhel-for-edge-ami-images"><div class="titlepage"><div><div><h3 class="title">10.2. Creating a RHEL for Edge AMI image</h3></div></div></div><p class="_abstract _abstract">
				Create a RHEL for Edge <code class="literal">edge-ami</code> image in the RHEL image builder command-line interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for the <code class="literal">edge-ami</code> image.
					</li><li class="listitem">
						You served an OSTree repository of the commit to embed it in the image. For example, <code class="literal">http://10.0.2.2:8080/repo</code>. For more details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the compose of a <code class="literal">edge-ami</code> image:
					</p><pre class="screen"># composer-cli compose start-ostree <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span> edge-ami –ref rhel/9/x86_64/edge --url <span class="emphasis"><em>&lt;ostree repo url&gt;</em></span></pre><p class="simpara">
						The <code class="literal">--<span class="emphasis"><em>&lt;ostree repo url&gt;</em></span></code> is the URL of your repo, for example: <code class="literal">http://10.88.0.1:8080/{<span class="emphasis"><em>&lt;blueprint-name&gt;</em></span>}/repo</code>.
					</p><p class="simpara">
						A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also, keep the UUID number handy for further tasks.
					</p></li><li class="listitem"><p class="simpara">
						Check the image compose status:
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The output displays the status in the following format:
					</p><pre class="screen">$ <span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span> <span class="emphasis"><em>&lt;blueprint-version&gt;</em></span> edge-ami</pre></li><li class="listitem"><p class="simpara">
						After the compose process finishes, download the resulting image file:
					</p><pre class="screen"># composer-cli compose image <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						Upload the <code class="literal">edge-ami</code> image to AWS
					</li></ul></div></section><section class="section" id="uploading-a-rhel-edge-ami-image-to-aws_creating-rhel-for-edge-ami-images"><div class="titlepage"><div><div><h3 class="title">10.3. Uploading a RHEL Edge AMI image to AWS</h3></div></div></div><p class="_abstract _abstract">
				Upload the <code class="literal">edge-ami</code> image to Amazon AWS Cloud service provider by using the CLI.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have an <code class="literal">Access Key ID</code> configured in the <a class="link" href="https://aws.amazon.com/iam/">AWS IAM</a> account manager.
					</li><li class="listitem">
						You have a writable S3 bucket prepared.
					</li><li class="listitem">
						You have created the <a class="link" href="https://docs.aws.amazon.com/vm-import/latest/userguide/required-permissions.html#vmimport-role">required roles</a> for your AWS bucket.
					</li><li class="listitem">
						You have the <code class="literal">aws-cli</code> tool installed .
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure the <code class="literal">aws-cli</code> tool:
					</p><pre class="screen">$ <span class="strong strong"><strong>aws configure</strong></span></pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Configure your profile. Run the command and enter your Access key ID credential, Secret access key, Default region name, and default output name:
							</p><pre class="screen">$ <span class="strong strong"><strong>aws configure --profile</strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
						List the existing buckets:
					</p><pre class="screen">$ <span class="strong strong"><strong>aws s3 ls</strong></span></pre></li><li class="listitem"><p class="simpara">
						Upload your image to S3:
					</p><pre class="screen">$ <span class="strong strong"><strong>aws s3 cp <span class="emphasis"><em>&lt;path_to_image/image&gt;</em></span> s3://<span class="emphasis"><em>&lt;your_bucket_name&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						List the image in the S3 bucket:
					</p><pre class="screen">$ <span class="strong strong"><strong>aws s3 ls s3://<span class="emphasis"><em>&lt;your_bucket_name&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">container-simple.json</code> file. Replace the "URL" content with the S3 bucket. For example: <code class="literal">s3://rhel-edge-ami-us-west-2/2ba3c125-cc58-4cc0-861a-4cc78e892df6-image.raw</code>.
					</p><pre class="screen">{
  "Description": "RHEL for Edge image",
  "Format": "edge-ami",
  "Url": "s3://rhel-edge-ami-us-west-2/UUID-image.raw"
}</pre></li><li class="listitem"><p class="simpara">
						Import the <code class="literal">edge.ami</code> image to the S3 bucket as an EC2 snapshot.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The EC2 image must be in the same region that you have created the S3 bucket.
						</p></div></rh-alert><pre class="screen">$ <span class="strong strong"><strong>aws ec2 import-snapshot --description "RHEL edge" \ --disk-container file://container-simple.json --region us-west-2</strong></span></pre><p class="simpara">
						The following .<code class="literal">json</code>: is an example of the command output:
					</p><pre class="screen">{
  "Description": "RHEL for Edge image",
  "Format": "edge-ami",
  "Url": "s3://rhel-edge-ami-us-west-2/UUID-image.raw"
}</pre></li><li class="listitem">
						Take note of "ImportTaskId" value from the <code class="literal">.json</code> file. Use it to check the import status. In this example, the "ImportTaskId" is <code class="literal">import-snap-0f3055c4b7a454c85</code>.
					</li><li class="listitem"><p class="simpara">
						Check the import status of the snapshot, by using the "ImportTaskId" value from the output <code class="literal">.json</code> file from the previous step:
					</p><pre class="screen">$ aws ec2 describe-import-snapshot-tasks \
--import-task-ids import-snap-0f3055c4b7a454c85
{
    "ImportSnapshotTasks": [
        {
            "Description": "RHEL edge",
            "ImportTaskId": "import-snap-0f3055c4b7a454c85",
            "SnapshotTaskDetail": {
                "Description": "RHEL edge",
                "DiskImageSize": 10737418240.0,
                "Format": "RAW",
                "SnapshotId": "snap-001b267e752039eab",
                "Status": "completed",
                "Url": "s3://rhel-edge-ami-us-west-2/2ba3c125-cc58-4cc0-861a-4cc78e892df6-image.raw",
                "UserBucket": {
                    "S3Bucket": "rhel-edge-ami-us-west-2",
                    "S3Key": "2ba3c125-cc58-4cc0-861a-4cc78e892df6-image.raw"
                }
            },
            "Tags": []
        }
    ]
}</pre><p class="simpara">
						Run this command until the "Status" is marked as "completed". After that, you can access EC2 to create the AMI image from the snapshot, and launch it.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					To confirm that the image upload was successful:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Access EC2 in the menu and select the correct region in the AWS console. The image must have the available status, to indicate that it was successfully uploaded.
					</li><li class="listitem"><p class="simpara">
						On the dashboard, select your image and click Launch.
					</p><p class="simpara">
						When launching the new instance, you must select UEFI as the boot mode, and choose at least 4GB of RAM for the EC2 image.
					</p></li><li class="listitem">
						You can log in into the <code class="literal">edge-ami</code> on AWS by using the username and password you created with the Ignition configuration.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://docs.aws.amazon.com/vm-import/latest/userguide/vmie_prereqs.html#vmimport-role">Required service role to import a VM</a>
					</li></ul></div></section></section><section class="chapter" id="assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Automatically provisioning and onboarding RHEL for Edge devices with FDO</h2></div></div></div><p class="_abstract _abstract">
			You can build a RHEL for Edge Simplified Installer image, and provision it to a RHEL for Edge image. The FIDO Device Onboarding (FDO) process automatically provisions and onboards your Edge devices, and exchanges data with other devices and systems connected on the networks.
		</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
				Red Hat provides the <code class="literal">FDO</code> process as a Technology Preview feature and should run on secure networks. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
			</p></div></rh-alert><section class="section" id="con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.1. The FIDO Device Onboarding (FDO) process</h3></div></div></div><p class="_abstract _abstract">
				The FIDO Device Onboarding (FDO) is the process that:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Provisions and onboards a device.
					</li><li class="listitem">
						Automatically configures credentials for this device. The FDO process is an automatic onboarding mechanism that is triggered by the installation of a new device.
					</li><li class="listitem">
						Enables this device to securely connect and interact on the network.
					</li></ul></div><p>
				With FIDO Device Onboarding (FDO), you can perform a secure device onboarding by adding new devices into your IoT architecture. This includes the specified device configuration that needs to be trusted and integrated with the rest of the running systems. The FDO process is an automatic onboarding mechanism that is triggered by the installation of a new device.
			</p><p>
				The FDO protocol performs the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Solves the trust and chain of ownership along with the automation needed to securely onboard a device at scale.
					</li><li class="listitem">
						Performs device initialization at the manufacturing stage and late device binding for its actual use. This means that actual binding of the device to a management system happens on the first boot of the device without requiring manual configuration on the device.
					</li><li class="listitem">
						Supports automated secure devices onboarding, that is, zero touch installation and onboarding that does not need any specialized person at the edge location. After the device is onboarded, the management platform can connect to it and apply patches, updates, and rollbacks.
					</li></ul></div><p>
				With FDO, you can benefit from the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						FDO is a secure and simple way to enroll a device to a management platform. Instead of embedding a Kickstart configuration to the image, FDO applies the device credentials during the device first boot directly to the ISO image.
					</li><li class="listitem">
						FDO solves the issue of late binding to a device, enabling any sensitive data to be shared over a secure FDO channel.
					</li><li class="listitem">
						FDO cryptographically identifies the system identity and ownership before enrolling and passing the configuration and other secrets to the system. That enables non-technical users to power-on the system.
					</li></ul></div><p>
				To build a RHEL for Edge Simplified Installer image and automatically onboard it, provide an existing OSTree commit. The resulting simplified image contains a raw image that has the OSTree commit deployed. After you boot the Simplified installer ISO image, it provisions a RHEL for Edge system that you can use on a hard disk or as a boot image in a virtual machine.
			</p><p>
				The RHEL for Edge Simplified Installer image is optimized for unattended installation to a device and supports both network-based deployment and non-network-based deployments. However, for network-based deployment, it supports only UEFI HTTP boot.
			</p><p>
				The FDO protocol is based on the following servers:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Manufacturing server</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Generates the device credentials.
								</li><li class="listitem">
									Creates an Ownership voucher that is used to set the ownership of the device, later in the process.
								</li><li class="listitem">
									Binds the device to a specific management platform.
								</li></ol></div></dd><dt><span class="term">Owner management system</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Receives the Ownership voucher from the Manufacturing server and becomes the owner of the associated device.
								</li><li class="listitem">
									Later in the process, it creates a secure channel between the device and the Owner onboarding server after the device authentication.
								</li><li class="listitem">
									Uses the secure channel to send the required information, such as files and scripts for the onboarding automation to the device.
								</li></ol></div></dd><dt><span class="term">Service-info API server</span></dt><dd>
							Based on Service-info API server’s configuration and modules available on the client, it performs the final steps of onboarding on target client devices, such as copying SSH keys and files, executing commands, creating users, encrypting disks and so on
						</dd><dt><span class="term">Rendezvous server</span></dt><dd><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Gets the Ownership voucher from the Owner management system and makes a mapping of the device UUID to the Owner server IP. Then, the Rendezvous server matches the device UUID with a target platform and informs the device about which Owner onboarding server endpoint this device must use.
								</li><li class="listitem">
									During the first boot, the Rendezvous server will be the contact point for the device and it will direct the device to the owner, so that the device and the owner can establish a secure channel.
								</li></ol></div></dd><dt><span class="term">Device client</span></dt><dd><p class="simpara">
							This is installed on the device. The Device client performs the following actions:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Starts the queries to the multiple servers where the onboarding automation will be executed.
								</li><li class="listitem">
									Uses TCP/IP protocols to communicate with the servers.
								</li></ol></div></dd></dl></div><p>
				The following diagram represents the FIDO device onboarding workflow:
			</p><div class="figure" id="non-network-based_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><p class="title"><strong>Figure 11.1. Deploying RHEL for Edge in non-network environment</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/3ae9c1b1c569e2a1ab2ce772f489fc10/356_RHEL_FDO_process_0823.png" alt="FDO device onboarding"></div></div></div><p>
				At the <span class="strong strong"><strong>Device Initialization</strong></span>, the device contacts the Manufacturing server to get the FDO credentials, a set of certificates and keys to be installed on the operating system with the Rendezvous server endpoint (URL). It also gets the Ownership Voucher, that is maintained separately in case you need to change the owner assignment.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						The Device contacts the Manufacturing server
					</li><li class="listitem">
						The Manufacturing server generates an Ownership Voucher and the Device Credentials for the Device.
					</li><li class="listitem">
						The Ownership Voucher is transferred to the Owner onboarding server.
					</li></ol></div><p>
				At the <span class="strong strong"><strong>On-site onboarding</strong></span>, the Device gets the Rendezvous server endpoint (URL) from its device credentials and contacts Rendezvous server endpoint to start the onboarding process, which will redirect it to the Owner management system, that is formed by the Owner onboarding server and the Service Info API server.
			</p><div class="orderedlist"><ol class="orderedlist" start="4" type="1"><li class="listitem">
						The Owner onboarding server transfers the Ownership Voucher to the Rendezvous server, which makes a mapping of the Ownership Voucher to the Owner.
					</li><li class="listitem">
						The device client reads device credentials.
					</li><li class="listitem">
						The device client connects to the network.
					</li><li class="listitem">
						After connecting to the network, the Device client contacts the Rendezvous server.
					</li><li class="listitem">
						The Rendezvous server sends the owner endpoint URL to the Device Client, and registers the device.
					</li><li class="listitem">
						The Device client connects to the Owner onboarding server shared by the Rendezvous server.
					</li><li class="listitem">
						The Device proves that it is the correct device by signing a statement with a device key.
					</li><li class="listitem">
						The Owner onboarding server proves itself correct by signing a statement with the last key of the Owner Voucher.
					</li><li class="listitem">
						The Owner onboarding server transfers the information of the Device to the Service Info API server.
					</li><li class="listitem">
						The Service info API server sends the configuration for the Device.
					</li><li class="listitem">
						The Device is onboarded.
					</li></ol></div></section><section class="section" id="con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.2. Automatically provisioning and onboarding RHEL for Edge devices</h3></div></div></div><p class="_abstract _abstract">
				To build a RHEL for Edge Simplified Installer image and automatically onboard it, provide an existing OSTree commit. The resulting simplified image contains a raw image that has the OSTree commit deployed. After you boot the Simplified installer ISO image, it provisions a RHEL for Edge system that you can use on a hard disk or as a boot image in a virtual machine.
			</p><p>
				The RHEL for Edge Simplified Installer image is optimized for unattended installation to a device and supports both network-based deployment and non-network-based deployments. However, for network-based deployment, it supports only UEFI HTTP boot.
			</p><p>
				Automatically provisioning and onboarding a RHEL for Edge device involves the following high-level steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Install and register a RHEL system
					</li><li class="listitem">
						Install RHEL image builder
					</li><li class="listitem"><p class="simpara">
						By using RHEL image builder, create a blueprint with customizations for RHEL for a <code class="literal">rhel-edge-container</code> image type.
					</p><pre class="screen">name = "rhel-edge-container"
description = "Minimal RHEL for Edge Container blueprint"
version = "0.0.1"</pre></li><li class="listitem">
						Import the RHEL for Edge Container blueprint in RHEL image builder
					</li><li class="listitem">
						Create a RHEL for Edge Container image
					</li><li class="listitem">
						Use the RHEL for Edge Container image to serve the OSTree commit, which will be later used when building the RHEL for Edge Simplified Installer image type
					</li><li class="listitem"><p class="simpara">
						Create a blueprint for and <code class="literal">edge-simplified-installer</code> image type with customizations for storage device path and FDO customizations
					</p><pre class="screen">name = "rhel-edge-simplified-installer-with-fdo"
description = "Minimal RHEL for Edge Simplified Installer with FDO blueprint"
version = "0.0.1"
packages = []
modules = []
groups = []
distro = ""

[customizations]
installation_device = "/dev/vda"

[customizations.fdo]
manufacturing_server_url = "http://10.0.0.2:8080"
diun_pub_key_insecure = "true"</pre></li><li class="listitem">
						Build a simplified installer RHEL for Edge image
					</li><li class="listitem">
						Download the RHEL for Edge simplified installer image
					</li><li class="listitem">
						At this point, the FDO server infrastructure should be up and running, and the specific onboarding details handled by the <code class="literal">service-info API</code> server, that is part of the owner’s infrastructure, are configured
					</li><li class="listitem">
						Install the simplified installer ISO image to a device. The FDO client runs on the Simplified Installer ISO and the UEFI directory structure makes the image bootable.
					</li><li class="listitem">
						The network configuration enables the device to reach out to the manufacturing server to perform the initial device credential exchange.
					</li><li class="listitem">
						After the system reaches the endpoint, the device credentials are created for the device.
					</li><li class="listitem">
						The device uses the device credentials to reach the Rendezvous server, where it checks the cryptographic credentials based on the vouchers that the Rendezvous server has, and then the Rendezvous server redirects the device to the Owner server.
					</li><li class="listitem">
						The device contacts the Owner server. They establish a mutual trust and the final steps of onboarding happen based on the configuration of the Service-info API server. For example, it installs the SSH keys in the device, transfer the files, create the users, run the commands, encrypt the filesystem, and so on.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands">FDO automatic onboarding technologies</a>
					</li></ul></div></section><section class="section" id="proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.3. Generating key and certificates</h3></div></div></div><p class="_abstract _abstract">
				To run the FIDO Device Onboarding (FDO) infrastructure, you need to generate keys and certificates. FDO generates these keys and certificates to configure the manufacturing server. FDO automatically generates the certificates and <code class="literal">.yaml</code> configuration files when you install the services, and re-creating them is optional. After you install and start the services, it runs with the default settings.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Red Hat provides the <code class="literal">fdo-admin-tool</code> tool as a Technology Preview feature and should run on secure networks. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You installed the <code class="literal">fdo-admin-cli</code> RPM package
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Generate the keys and certificates in the <code class="literal">/etc/fdo</code> directory:
					</p><pre class="screen">$ for i in "diun" "manufacturer" "device-ca" "owner"; do fdo-admin-tool generate-key-and-cert $i; done
$ ls keys
device_ca_cert.pem device_ca_key.der diun_cert.pem diun_key.der manufacturer_cert.pem manufacturer_key.der owner_cert.pem owner_key.der</pre></li><li class="listitem"><p class="simpara">
						Check the key and certificates that were created in the <code class="literal">/etc/fdo/keys</code> directory:
					</p><pre class="screen">$ tree keys</pre><p class="simpara">
						You can see the following output:
					</p><pre class="screen">– device_ca_cert.pem
– device_ca_key.der
– diun_cert.pem
– diun_key.dre
– manufacturer_cert.pem
– manufacturer_key.der
– owner_cert.pem
– owner_key.pem</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						See the <code class="literal">fdo-admin-tool generate-key-and-cert –-help</code> manual page
					</li></ul></div></section><section class="section" id="proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.4. Installing and running the manufacturing server</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">fdo-manufacturing-server</code> RPM package enables you to run the Manufacturing Server component of the FDO protocol. It also stores other components, such as the owner vouchers, the manufacturer keys, and information about the manufacturing sessions. During the device installation, the Manufacturing server generates the device credentials for the specific device, including its GUID, rendezvous information and other metadata. Later on in the process, the device uses this rendezvous information to contact the Rendezvous server.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Red Hat provides the <code class="literal">fdo-manufacturing-server</code> tool as a Technology Preview feature and should run on secure networks because Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></rh-alert><p>
				To install the <code class="literal">manufacturing server</code> RPM package, complete the following steps:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">fdo-admin-cli</code> package:
					</p><pre class="screen"># dnf install -y fdo-admin-cli</pre></li><li class="listitem"><p class="simpara">
						Check if the <code class="literal">fdo-manufacturing-server</code> RPM package is installed:
					</p><pre class="screen">$ rpm -qa | grep fdo-manufacturing-server --refresh</pre></li><li class="listitem"><p class="simpara">
						Check if the files were correctly installed:
					</p><pre class="screen">$ ls /usr/share/doc/fdo</pre><p class="simpara">
						You can see the following output:
					</p><pre class="screen">Output:
manufacturing-server.yml
owner-onboarding-server.yml
rendezvous-info.yml
rendezvous-server.yml
serviceinfo-api-server.yml</pre></li><li class="listitem"><p class="simpara">
						Optional: Check the content of each file, for example:
					</p><pre class="screen">$ cat /usr/share/doc/fdo/manufacturing-server.yml</pre></li><li class="listitem"><p class="simpara">
						Configure the Manufacturing server. You must provide the following information:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The Manufacturing server URL
							</li><li class="listitem">
								The IP address or DNS name for the Rendezvous server
							</li><li class="listitem"><p class="simpara">
								The path to the keys and certificates you generated. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Generating key and certificates</a>.
							</p><p class="simpara">
								You can find an example of a Manufacturing server configuration file in the <code class="literal">/usr/share/doc/fdo/manufacturing-server.yml</code> directory. The following is a <code class="literal">manufacturing server.yml</code> example that is created and saved in the <code class="literal">/etc/fdo</code> directory. It contains paths to the directories, certificates, keys that you created, the Rendezvous server IP address and the default port.
							</p><pre class="screen">session_store_driver:
  Directory:
    path: /etc/fdo/stores/manufacturing_sessions/
ownership_voucher_store_driver:
  Directory:
    path: /etc/fdo/stores/owner_vouchers
public_key_store_driver:
  Directory:
    path: /etc/fdo/stores/manufacturer_keys
bind: "0.0.0.0:8080"
protocols:
  plain_di: false
  diun:
    mfg_string_type: SerialNumber
    key_type: SECP384R1
    allowed_key_storage_types:
      - Tpm
      - FileSystem
    key_path: /etc/fdo/keys/diun_key.der
    cert_path: /etc/fdo/keys/diun_cert.pem
rendezvous_info:
  - deviceport: 8082
    ip_address: 192.168.122.99
    ownerport: 8082
    protocol: http
manufacturing:
  manufacturer_cert_path: /etc/fdo/keys/manufacturer_cert.pem
  device_cert_ca_private_key: /etc/fdo/keys/device_ca_key.der
  device_cert_ca_chain: /etc/fdo/keys/device_ca_cert.pem
  owner_cert_path: /etc/fdo/keys/owner_cert.pem
  manufacturer_private_key: /etc/fdo/keys/manufacturer_key.der</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Start the Manufacturing server.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Check if the systemd unit file are in the server:
							</p><pre class="screen"># systemctl list-unit-files | grep fdo | grep manufacturing
fdo-manufacturing-server.service disabled disabled</pre></li><li class="listitem"><p class="simpara">
								Enable and start the manufacturing server.
							</p><pre class="screen"># systemctl enable --now fdo-manufacturing-server.service</pre></li><li class="listitem"><p class="simpara">
								Open the default ports in your firewall:
							</p><pre class="screen"># firewall-cmd --add-port=8080/tcp --permanent
# systemctl restart firewalld</pre></li><li class="listitem"><p class="simpara">
								Ensure that the service is listening on the port 8080:
							</p><pre class="screen"># ss -ltn</pre></li></ol></div></li><li class="listitem">
						Install RHEL for Edge onto your system using the simplified installer. See <a class="link" href="#building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images" title="Chapter 6. Building simplified installer images to provision a RHEL for Edge image">Building simplified installer images to provision a RHEL for Edge image</a>.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <a class="link" href="https://github.com/fedora-iot/fido-device-onboard-rs/blob/main/examples/config/manufacturing-server.yml">manufacturing-server.yml example</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#ref_fdo-terminology_edge-terminology-and-commands">FDO automatic onboarding terminology</a>
					</li></ul></div></section><section class="section" id="proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.5. Installing, configuring, and running the Rendezvous server</h3></div></div></div><p>
				Install the <code class="literal">fdo-rendezvous-server</code> RPM package to enable the systems to receive the voucher generated by the Manufacturing server during the first device boot. The Rendezvous server then matches the device UUID with the target platform or cloud and informs the device about which Owner server endpoint the device must use.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a <code class="literal">manufacturer_cert.pem</code> certificate. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Generating key and certificates</a>.
					</li><li class="listitem">
						You copied the <code class="literal">manufacturer_cert.pem</code> certificate to the <code class="literal">/etc/fdo/keys</code> directory in the Rendezvous server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">fdo-rendezvous-server</code> RPM packages:
					</p><pre class="screen"># dnf install -y fdo-rendezvous-server</pre></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">rendezvous-server.yml</code> configuration file, including the path to the manufacturer certificate. You can find an example in <code class="literal">/usr/share/doc/fdo/rendezvous-server.yml</code>. The following example shows a configuration file that is saved in <code class="literal">/etc/fdo/rendezvous-server.yml</code>.
					</p><pre class="screen">storage_driver:
  Directory:
    path: /etc/fdo/stores/rendezvous_registered
session_store_driver:
  Directory:
    path: /etc/fdo/stores/rendezvous_sessions
trusted_manufacturer_keys_path: /etc/fdo/keys/manufacturer_cert.pem
max_wait_seconds: ~
bind: "0.0.0.0:8082"</pre></li><li class="listitem"><p class="simpara">
						Check the Rendezvous server service status:
					</p><pre class="screen"># systemctl list-unit-files | grep fdo | grep rende
fdo-rendezvous-server.service disabled disabled</pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								If the service is stopped and disabled, enable and start it:
							</p><pre class="screen"># systemctl enable --now fdo-rendezvous-server.service</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Check that the server is listening on the default configured port 8082:
					</p><pre class="screen"># ss -ltn</pre></li><li class="listitem"><p class="simpara">
						Open the port if you have a firewall configured on this server:
					</p><pre class="screen"># firewall-cmd --add-port=8082/tcp --permanent
# systemctl restart firewalld</pre></li></ol></div></section><section class="section" id="proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.6. Installing, configuring, and running the Owner server</h3></div></div></div><p>
				Install the <code class="literal">fdo-owner-cli</code> and <code class="literal">fdo-owner-onboarding-server</code> RPM package to enable the systems to receive the voucher generated by the Manufacturing server during the first device boot. The Rendezvous server then matches the device UUID with the target platform or cloud and informs the device about which Owner server endpoint the device must use.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The device where the server will be deployed has a Trusted Platform Module (TPM) device to encrypt the disk. If not, you will get an error when booting the RHEL for Edge device.
					</li><li class="listitem">
						You created the <code class="literal">device_ca_cert.pem</code>, <code class="literal">owner_key.der</code>, and <code class="literal">owner_cert.pem</code> with keys and certificates and copied them into the <code class="literal">/etc/fdo/keys</code> directory.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the required RPMs in this server:
					</p><pre class="screen"># dnf install -y fdo-owner-cli fdo-owner-onboarding-server</pre></li><li class="listitem"><p class="simpara">
						Prepare the <code class="literal">owner-onboarding-server.yml</code> configuration file and save it to the <code class="literal">/etc/fdo/</code> directory. Include the path to the certificates you already copied and information about where to publish the Owner server service in this file.
					</p><p class="simpara">
						The following is an example available in <code class="literal">/usr/share/doc/fdo/owner-onboarding-server.yml</code>. You can find references to the Service Info API, such as the URL or the authentication token.
					</p><pre class="screen">---
ownership_voucher_store_driver:
  Directory:
    path: /etc/fdo/stores/owner_vouchers
session_store_driver:
  Directory:
    path: /etc/fdo/stores/owner_onboarding_sessions
trusted_device_keys_path: /etc/fdo/keys/device_ca_cert.pem
owner_private_key_path: /etc/fdo/keys/owner_key.der
owner_public_key_path: /etc/fdo/keys/owner_cert.pem
bind: "0.0.0.0:8081"
service_info_api_url: "http://localhost:8083/device_info"
service_info_api_authentication:
  BearerToken:
    token: Kpt5P/5flBkaiNSvDYS3cEdBQXJn2Zv9n1D50431/lo=
owner_addresses:
  - transport: http
    addresses:
      - ip_address: 192.168.122.149</pre></li><li class="listitem"><p class="simpara">
						Create and configure the Service Info API.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add the automated information for onboarding, such as user creation, files to be copied or created, commands to be executed, disk to be encrypted, and so on. Use the Service Info API configuration file example in <code class="literal">/usr/share/doc/fdo/serviceinfo-api-server.yml</code> as a template to create the configuration file under <code class="literal">/etc/fdo/</code>.
							</p><pre class="screen">---
service_info:
  initial_user:
    username: admin
    sshkeys:
    - "ssh-rsa AAAA...."
  files:
  - path: /root/resolv.conf
    source_path: /etc/resolv.conf
  commands:
  - command: touch
    args:
    - /root/test
    return_stdout: true
    return_stderr: true
  diskencryption_clevis:
  - disk_label: /dev/vda4
    binding:
      pin: tpm2
      config: "{}"
    reencrypt: true
  additional_serviceinfo: ~
bind: "0.0.0.0:8083"
device_specific_store_driver:
  Directory:
    path: /etc/fdo/stores/serviceinfo_api_devices
service_info_auth_token: Kpt5P/5flBkaiNSvDYS3cEdBQXJn2Zv9n1D50431/lo=
admin_auth_token: zJNoErq7aa0RusJ1w0tkTjdITdMCWYkndzVv7F0V42Q=</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Check the status of the systemd units:
					</p><pre class="screen"># systemctl list-unit-files | grep fdo
fdo-owner-onboarding-server.service        disabled        disabled
fdo-serviceinfo-api-server.service         disabled        disabled</pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								If the service is stopped and disabled, enable and start it:
							</p><pre class="screen"># systemctl enable --now fdo-owner-onboarding-server.service
# systemctl enable --now fdo-serviceinfo-api-server.service</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									You must restart the <code class="literal">systemd</code> services every time you change the configuration files.
								</p></div></rh-alert></li></ol></div></li><li class="listitem"><p class="simpara">
						Check that the server is listening on the default configured port 8083:
					</p><pre class="screen"># ss -ltn</pre></li><li class="listitem"><p class="simpara">
						Open the port if you have a firewall configured on this server:
					</p><pre class="screen"># firewall-cmd --add-port=8081/tcp --permanent
# firewall-cmd --add-port=8083/tcp --permanent
# systemctl restart firewalld</pre></li></ol></div></section><section class="section" id="proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices"><div class="titlepage"><div><div><h3 class="title">11.7. Automatically onboarding a RHEL for Edge device by using FDO authentication</h3></div></div></div><p class="_abstract _abstract">
				To prepare your device to automatically onboard a RHEL for Edge device and provision it as part of the installation process, complete the following steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You built an OSTree commit for RHEL for Edge and used that to generate an <code class="literal">edge-simplified-installer</code> artifact.
					</li><li class="listitem">
						Your device is assembled.
					</li><li class="listitem">
						You installed the <code class="literal">fdo-manufacturing-server</code> RPM package. See <a class="link" href="#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices" title="11.4. Installing and running the manufacturing server">Installing the manufacturing server package</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Start the installation process by booting the RHEL for Edge simplified installer image on your device. You can install it from a CD-ROM or from a USB flash drive, for example.
					</li><li class="listitem"><p class="simpara">
						Verify through the terminal that the device has reached the manufacturing service to perform the initial device credential exchange and has produced an ownership voucher.
					</p><p class="simpara">
						You can find the ownership voucher at the storage location configured by the <code class="literal">ownership_voucher_store_driver:</code> parameter at the <code class="literal">manufacturing-sever.yml</code> file.
					</p><p class="simpara">
						The directory should have an <code class="literal">ownership_voucher</code> file with a name in the GUID format which indicates that the correct device credentials were added to the device.
					</p><p class="simpara">
						The onboarding server uses the device credential to authenticate against the onboarding server. It then passes the configuration to the device. After the device receives the configuration from the onboarding server, it receives an SSH key and installs the operating system on the device. Finally, the system automatically reboots, encrypts it with a strong key stored at TPM.
					</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After the device automatically reboots, you can log in to the device with the credentials that you created as part of the FDO process.
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Log in to the device by providing the username and password you created in the Service Info API.
					</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images#deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images">Deploying the Simplified ISO image from a USB flash drive</a>
					</li></ul></div></section></section><section class="chapter" id="using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 12. Using FDO to onboard RHEL for Edge devices with a database backend</h2></div></div></div><p class="_abstract _abstract">
			You can use the FDO servers - <code class="literal">manufacturer-server</code>, <code class="literal">onboarding-server</code>, and <code class="literal">rendezvous</code>- to support storing and querying Owner Vouchers from an SQL backend such as the SQLite or the PostgreSQL databases, instead of a file. This way, you can select an SQL datastore in the FDO server options, along with credentials and other parameters, to store the Owner Vouchers in the SQL database and thus onboard a RHEL for Edge device. The SQL files are packaged in the RPMs.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				The SQL backend does not support all FDO features at this point.
			</p></div></rh-alert><section class="section" id="onboarding-devices-with-an-fdo-database_using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend"><div class="titlepage"><div><div><h3 class="title">12.1. Onboarding devices with an FDO database</h3></div></div></div><p class="_abstract _abstract">
				Use an SQL database to onboard your Edge device. The following example uses the <code class="literal">diesel</code> tool, but you can also use the SQLite or the PostgreSQL databases.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You can use different database storages in some servers with filesystem storage in other servers, for example, using the filesystem storage onboarding for the Manufacturing server and Postgres for Rendezvous and Owner servers.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You used FDO to generate the key and certificates to configure the manufacturing server. See link to [Generating key and certificates]
					</li><li class="listitem">
						You installed and configured the manufacturing server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Installing and running the manufacturing server</a>
					</li><li class="listitem">
						You installed and configured the rendezvous server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Installing, configuring, and running the Rendezvous server</a>
					</li><li class="listitem">
						You installed and configured the owner server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices">Installing, configuring, and running the Owner server</a>
					</li><li class="listitem">
						You have your server configuration files in <code class="literal">/etc/fdo</code>
					</li><li class="listitem">
						You built an OSTree commit for RHEL for Edge and used that to generate an <code class="literal">edge-simplified-installer</code> artifact
					</li><li class="listitem">
						Your device is assembled
					</li><li class="listitem">
						You installed the <code class="literal">diesel</code> tool or a SQL database to your host.
					</li><li class="listitem">
						You have configured your database system and have permissions to create tables.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the following packages:
					</p><pre class="screen">$ dnf  install -y sqlite sqlite-devel libpq libpq-devel</pre></li><li class="listitem">
						Access the <code class="literal">/usr/share/doc/fdo/migrations/*</code> directory. It contains <code class="literal">.sql</code> files that you need to create the database for each of the server and type combinations, after you have installed the manufacturing, rendezvous, and owner server’s RPMs.
					</li><li class="listitem"><p class="simpara">
						Initialize the database content. You can use either an SQL database, such as SQLite or PostgreSQL, or the <code class="literal">diesel</code> tool to run the SQL for you.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you are using an SQL database, configure the database server with, for example, user creation, access management, for example. After you configure the database server, you can run the database.
							</li><li class="listitem">
								If you do not want to run the <code class="literal">.sql</code> files in your database system, you can use the <code class="literal">diesel</code> tool to run the sql for you. If you are using the <code class="literal">diesel</code> tool, after you have configured the database, use the <code class="literal">diesel migration run</code> command to create the database:
							</li></ul></div></li><li class="listitem"><p class="simpara">
						After you configure the DB system, you can use the .sql files installed at <code class="literal">/usr/share/doc/fdo/migrations/*</code> to create the database for each server type.
					</p><p class="simpara">
						You must use the <code class="literal">.sql</code> file that matches the server type and database type that you are initializing. For example, when initializing the Owner Onboarding Server in a PostgreSQL database, you must use the <code class="literal">/usr/share/doc/fdo/migrations/migrations_owner_onboarding_server_postgres/up.sql</code> folder. The <code class="literal">up.sql</code> file in the migration folder creates the database, and the <code class="literal">down.sql</code> file destroys it.
					</p></li><li class="listitem"><p class="simpara">
						After you create the database, change the configuration file of the specific server to make it use the database.
					</p><p class="simpara">
						Each server has a storage configuration section.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Manufacturer server: <code class="literal">ownership_voucher_store_driver</code>
							</li><li class="listitem">
								Owner server: <code class="literal">ownership_voucher_store_driver</code>
							</li><li class="listitem"><p class="simpara">
								Rendezvous server: <code class="literal">storage_driver</code>
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										For the <code class="literal">manufacturing-server.yml</code> file, open it in your editor and change the store database:
									</p><pre class="screen">$ sudo <span class="emphasis"><em>editor</em></span> manufacturing-server.yml</pre></li><li class="listitem"><p class="simpara">
										Change the <code class="literal">ownership_voucher_store_driver</code> configuration under the Directory section:
									</p><pre class="screen">$ /home/rhel/fido-device-onboard-rs/aio-dir/stores/owner_vouchers</pre></li><li class="listitem">
										Specify the following details:
									</li></ol></div></li><li class="listitem">
								The database type that you are using: SQLite or PostgreSQL
							</li><li class="listitem"><p class="simpara">
								The server type: for example, when using PostgreSQL, set the following configuration:
							</p><pre class="screen">ownership_voucher_store_driver:
  Postgres:
    Manufacturer</pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Repeat the steps to configure the Owner server and Rendezvous server.
									</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Run the FDO onboarding service. See Automatically provisioning and onboarding RHEL for Edge devices with FDO for more details. Start the FDO onboarding process device initialization by running the manufacturing server:
					</p><pre class="screen">$ sudo LOG-LEVEL=debug SQLITE_MANUFACTURER-DATABASE_URL=./manufacturer-db.sqlite ./usr/libexec/fdo/fdo-manufacturing-server</pre><p class="simpara">
						The onboarding process happens in two phases:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The device initialization phase that usually happens in the manufacturing site.
							</li><li class="listitem"><p class="simpara">
								The device onboarding process that happens at the final destination of the device.
							</p><p class="simpara">
								As a result, the Ownership Vouchers stored in the Manufacturing Server’s Database must be exported and transferred to the final Owner Database.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						To export the Ownership Vouchers, from the manufacturing-vouchers database file, copy the Owner Voucher to the owner to continue the FDO onboarding protocol.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create a folder <code class="literal">export</code>:
							</p><pre class="screen">$ mkdir export</pre></li><li class="listitem"><p class="simpara">
								Export the Owner Voucher present in the Manufacturing Database by providing all the variables required for the command.
							</p><pre class="screen">$ fdo-owner-tool export-manufacturer-vouchers DB_TYPE DB_URL PATH [GUID]</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">DB_TYPE </span></dt><dd>
											The type of the Manufacturing DB holding the Owner Vouchers: sqlite, postgres
										</dd><dt><span class="term">DB_URL</span></dt><dd>
											The database connection URL, or path to the database file
										</dd><dt><span class="term">PATH</span></dt><dd>
											The path to the directory where the Owner Vouchers will be exported
										</dd><dt><span class="term">GUID</span></dt><dd>
											GUID of the owner voucher to be exported. If you do not provide a GUID, all the Owner Vouchers will be exported.
										</dd></dl></div></li></ol></div></li><li class="listitem"><p class="simpara">
						The OVs must be delivered to the final Owner’s database. For that, use the <code class="literal">fdo-owner-tool</code> to import the Owner vouchers. Change to owner database. Import the Ownership Vouchers by running the following command:
					</p><pre class="screen">$ fdo-owner-tool import-ownership-vouchers DB_TYPE DB_URL SOURCE_PATH</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">DB_TYPE</span></dt><dd>
									Type of the Owner DB to import the OVs. Possible values: sqlite, postgres
								</dd><dt><span class="term">DB_URL</span></dt><dd>
									DB connection URL or path to DB file
								</dd><dt><span class="term">SOURCE_PATH</span></dt><dd>
									Path to the OV to be imported, or path to a directory where all the OVs to be imported are located
								</dd></dl></div></li></ol></div><p>
				The command reads each OV that is specified in the &lt;SOURCE_PATH&gt; once, one by one, and tries to import them into the database. If the command finds errors, it returns an output with the GUIDs of the OVs that are faulty and specified with information about what caused the error. The non-faulty OVs are imported into the database. The device receives the configuration from the onboarding server. Then, the device receives an SSH key and starts to install the operating system on the device. Finally, the operating system automatically reboots in the device, and encrypts the device with a strong key stored at TPM.
			</p></section></section><section class="chapter" id="installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 13. Deploying a RHEL for Edge image in a network-based environment</h2></div></div></div><p class="_abstract _abstract">
			You can deploy a RHEL for Edge image using the RHEL installer graphical user interface or a Kickstart file. The overall process for deploying a RHEL for Edge image depends on whether your deployment environment is network-based or non-network-based.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				To deploy the images on bare metal, use a Kickstart file.
			</p></div></rh-alert><div class="formalpara"><p class="title"><strong>Network-based deployments</strong></p><p>
				Deploying a RHEL for Edge image in a network-based environment involves the following high-level steps:
			</p></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
					Extract the image file contents.
				</li><li class="listitem">
					Set up a web server
				</li><li class="listitem">
					Install the image
				</li></ol></div><section class="section" id="extracting-the-tar-file-commit_installing-rpm-ostree-images"><div class="titlepage"><div><div><h3 class="title">13.1. Extracting the RHEL for Edge image commit</h3></div></div></div><p class="_abstract _abstract">
				After you download the commit, extract the <code class="literal">.tar</code> file and note the ref name and the commit ID.
			</p><p>
				The downloaded commit file consists of a <code class="literal">.tar</code> file with an <code class="literal">OSTree</code> repository. The <code class="literal">OSTree</code> repository has a commit and a <code class="literal">compose.json</code> file.
			</p><p>
				The <code class="literal">compose.json</code> file has information metadata about the commit with information such as the "Ref", the reference ID and the commit ID. The commit ID has the RPM packages.
			</p><p>
				To extract the package contents, perform the following the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Create a Kickstart file or use an existing one.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Extract the downloaded image <code class="literal">.tar</code> file:
					</p><pre class="screen"># tar xvf <span class="emphasis"><em>&lt;UUID&gt;</em></span>-commit.tar</pre></li><li class="listitem"><p class="simpara">
						Go to the directory where you have extracted the <code class="literal">.tar</code> file.
					</p><p class="simpara">
						It has a <code class="literal">compose.json</code> file and an OSTree directory. The <code class="literal">compose.json</code> file has the commit number and the <code class="literal">OSTree</code> directory has the RPM packages.
					</p></li><li class="listitem"><p class="simpara">
						Open the <code class="literal">compose.json</code> file and note the commit ID number. You need this number handy when you proceed to set up a web server.
					</p><p class="simpara">
						If you have the <code class="literal">jq</code> JSON processor installed, you can also retrieve the commit ID by using the <code class="literal">jq</code> tool:
					</p><pre class="screen"># jq '.["ostree-commit"]' &lt; compose.json</pre></li><li class="listitem"><p class="simpara">
						List the RPM packages in the commit.
					</p><pre class="screen"># rpm-ostree db list rhel/9/x86_64/edge --repo=repo</pre></li><li class="listitem"><p class="simpara">
						Use a Kickstart file to run the RHEL installer. Optionally, you can use any existing file or can create one by using the Kickstart Generator tool.
					</p><p class="simpara">
						In the Kickstart file, ensure that you include the details about how to provision the file system, create a user, and how to fetch and deploy the RHEL for Edge image. The RHEL installer uses this information during the installation process.
					</p><p class="simpara">
						The following is a Kickstart file example:
					</p><pre class="literallayout">lang en_US.UTF-8
keyboard us
timezone Etc/UTC --isUtc
text
zerombr
clearpart --all --initlabel
autopart
reboot
user --name=core --group=wheel
sshkey --username=core "ssh-rsa AAAA3Nza…​."
rootpw --lock
network --bootproto=dhcp

ostreesetup --nogpg --osname=rhel --remote=edge --url=https://mirror.example.com/repo/ --ref=rhel/9/x86_64/edge</pre><p class="simpara">
						The OStree-based installation uses the <code class="literal">ostreesetup</code> command to set up the configuration. It fetches the OSTree commit, by using the following flags:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">--nogpg</code> - Disable GNU Privacy Guard (GPG) key verification.
							</li><li class="listitem">
								<code class="literal">--osname</code> - Management root for the operating system installation.
							</li><li class="listitem">
								<code class="literal">--remote</code> - Management root for the operating system installation
							</li><li class="listitem">
								<code class="literal">--url</code> - URL of the repository to install from.
							</li><li class="listitem">
								<code class="literal">--ref</code> - Name of the branch from the repository that the installation uses.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">--url=http://mirror.example.com/repo/</code> - is the address of the host system where you extracted the edge commit and served it over <code class="literal">nginx</code>. You can use the address to reach the host system from the guest computer.
							</p><p class="simpara">
								For example, if you extract the commit image in the <code class="literal">/var/www/html</code> directory and serve the commit over <code class="literal">nginx</code> on a computer whose hostname is <code class="literal">www.example.com</code>, the value of the <code class="literal">--url</code> parameter is <code class="literal">http://www.example.com/repo</code>.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									Use the http protocol to start a service to serve the commit, because https is not enabled on the Apache HTTP Server.
								</p></div></rh-alert></li></ul></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/automatically_installing_rhel/index#creating-kickstart-files_rhel-installer">Creating Kickstart files</a>
					</li></ul></div></section><section class="section" id="setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images"><div class="titlepage"><div><div><h3 class="title">13.2. Setting up a web server to install RHEL for Edge images</h3></div></div></div><p class="_abstract _abstract">
				After you have extracted the RHEL for Edge image contents, set up a web server to provide the image commit details to the RHEL installer by using HTTP.
			</p><p>
				The following example provides the steps to set up a web server by using a container.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed Podman on your system. See <a class="link" href="https://access.redhat.com/solutions/3650231">How do I install Podman in RHEL</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal">nginx</code> configuration file with the following instructions:
					</p><pre class="literallayout">events {

}

http {
    server{
        listen 8080;
        root /usr/share/nginx/html;
                }
         }

pid /run/nginx.pid;
daemon off;</pre></li><li class="listitem"><p class="simpara">
						Create a Dockerfile with the following instructions:
					</p><pre class="literallayout">FROM registry.access.redhat.com/ubi8/ubi
RUN dnf -y install nginx &amp;&amp; dnf clean all
COPY kickstart.ks /usr/share/nginx/html/
COPY repo /usr/share/nginx/html/
COPY nginx /etc/nginx.conf
EXPOSE 8080
CMD ["/usr/sbin/nginx", "-c", "/etc/nginx.conf"]
ARG commit
ADD ${commit} /usr/share/nginx/html/</pre><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<code class="literal"><span class="emphasis"><em>kickstart.ks</em></span></code> is the name of the Kickstart file from the RHEL for Edge image. The Kickstart file includes directive information. To help you manage the images later, it is advisable to include the checks and settings for greenboot checks. For that, you can update the Kickstart file to include the following settings:
							</p><pre class="literallayout">lang en_US.UTF-8
keyboard us
timezone Etc/UTC --isUtc
text
zerombr
clearpart --all --initlabel
autopart
reboot
user --name=core --group=wheel
sshkey --username=core "ssh-rsa AAAA3Nza…​."

ostreesetup --nogpg --osname=rhel --remote=edge
--url=https://mirror.example.com/repo/
--ref=rhel/9/x86_64/edge

%post
cat &lt;&lt; EOF &gt; /etc/greenboot/check/required.d/check-dns.sh
#!/bin/bash

DNS_SERVER=$(grep nameserver /etc/resolv.conf | cut -f2 -d" ")
COUNT=0

# check DNS server is available
ping -c1 $DNS_SERVER
while [ $? != '0' ] &amp;&amp; [ $COUNT -lt 10 ]; do


							<a id="idm140247633082336" class="indexterm"><!--Empty--></a>

							COUNT++
echo "Checking for DNS: Attempt $COUNT ."
sleep 10
ping -c 1 $DNS_SERVER
done
EOF
%end</pre><p class="simpara">
								Any HTTP service can host the OSTree repository, and the example, which uses a container, is just an option for how to do this. The Dockerfile performs the following tasks:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Uses the latest Universal Base Image (UBI)
									</li><li class="listitem">
										Installs the web server (nginx)
									</li><li class="listitem">
										Adds the Kickstart file to the server
									</li><li class="listitem">
										Adds the RHEL for Edge image commit to the server
									</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Build a Docker container
					</p><pre class="screen"># podman build -t <span class="emphasis"><em>name-of-container-image</em></span> --build-arg commit=<span class="emphasis"><em>uuid</em></span>-commit.tar .</pre></li><li class="listitem"><p class="simpara">
						Run the container
					</p><pre class="screen"># podman run --rm -d -p <span class="emphasis"><em>port</em></span>:8080 localhost/<span class="emphasis"><em>name-of-container-image</em></span></pre><p class="simpara">
						As a result, the server is set up and ready to start the RHEL Installer by using the <code class="literal">commit.tar</code> repository and the Kickstart file.
					</p></li></ol></div></section><section class="section" id="installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images"><div class="titlepage"><div><div><h3 class="title">13.3. Performing an attended installation to an edge device by using Kickstart</h3></div></div></div><p class="_abstract _abstract">
				For an attended installation in a network-based environment, you can install the RHEL for Edge image to a device by using the RHEL Installer ISO, a Kickstart file, and a web server. The web server serves the RHEL for Edge Commit and the Kickstart file to boot the <a class="link" href="https://developers.redhat.com/products/rhel/download">RHEL Installer ISO</a> image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have made the RHEL for Edge Commit available by running a web server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge images</a>.
					</li><li class="listitem">
						You have created a <code class="literal">.qcow2</code> disk image to be used as the target of the attended installation. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_virtualization/index#creating-a-virtual-disk-image_managing-virtual-disk-images-by-using-the-cli">Creating a virtual disk image by using qemu-img</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a Kickstart file. The following is an example in which the <code class="literal">ostreesetup</code> directive instructs the Anaconda Installer to fetch and deploy the commit. Additionally, it creates a user and a password.
					</p><pre class="literallayout">lang en_US.UTF-8
keyboard us
timezone UTC
zerombr
clearpart --all --initlabel
autopart --type=plain --fstype=xfs --nohome
reboot
text
network --bootproto=dhcp
user --name=core --groups=wheel --password=edge
services --enabled=ostree-remount
ostreesetup --nogpg --url=http://edge_device_ip:port/repo/ --osname=rhel --remote=edge --ref=rhel/9/x86_64/edge</pre></li><li class="listitem"><p class="simpara">
						Run the RHEL Anaconda Installer by using the <code class="literal">libvirt virt-install</code> utility to create a virtual machine (VM) with a RHEL operating system. Use the <code class="literal">.qcow2</code> disk image as the target disk in the attended installation:
					</p><pre class="literallayout">virt-install \
--name rhel-edge-test-1 \
--memory 2048 \
--vcpus 2 \
--disk path=prepared_disk_image.qcow2,format=qcow2,size=8 \
--os-variant rhel9 \
--cdrom /home/username/Downloads/rhel-9-x86_64-boot.iso</pre></li><li class="listitem"><p class="simpara">
						On the installation screen:
					</p><div class="figure" id="non-network-based_installing-rpm-ostree-images"><p class="title"><strong>Figure 13.1. Red Hat Enterprise Linux boot menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/8f5c464e3fdb798e591185beecd98379/rhel-8.6-boot.png" alt="The Red Hat Enterprise Linux boot menu"></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Press the <span class="guibutton">e</span> key to add an additional kernel parameter:
							</p><pre class="literallayout">inst.ks=http://web-server_device_ip:port/kickstart.ks</pre><p class="simpara">
								The kernel parameter specifies that you want to install RHEL by using the Kickstart file and not the RHEL image contained in the RHEL Installer.
							</p></li><li class="listitem"><p class="simpara">
								After adding the kernel parameters, press <kbd class="keycap">Ctrl</kbd>+<kbd class="keycap">X</kbd> to boot the RHEL installation by using the Kickstart file.
							</p><p class="simpara">
								The RHEL Installer starts, fetches the Kickstart file from the server (HTTP) endpoint and executes the commands, including the command to install the RHEL for Edge image commit from the HTTP endpoint. After the installation completes, the RHEL Installer prompts you for login details.
							</p></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the Login screen, enter your user account credentials and click <span class="guibutton">Enter</span>.
					</li><li class="listitem"><p class="simpara">
						Verify whether the RHEL for Edge image is successfully installed.
					</p><pre class="screen white-space-pre white-space-pre">$ rpm-ostree status</pre><p class="simpara">
						The command output provides the image commit ID and shows that the installation is successful.
					</p><p class="simpara">
						Following is a sample output:
					</p><pre class="literallayout">State: idle
Deployments:
* ostree://edge:rhel/9/x86_64/edge
		  Timestamp: 2020-09-18T20:06:54Z
			Commit: 836e637095554e0b634a0a48ea05c75280519dd6576a392635e6fa7d4d5e96</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/60959">How to embed a Kickstart file into an ISO image</a> (Red Hat Knowledgebase)
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#booting-the-installer-from-local-media_rhel-installer">Booting the installation</a>
					</li></ul></div></section><section class="section" id="performing-an-unattended-installation-to-an-edge-device-by-using-kickstart_installing-rpm-ostree-images"><div class="titlepage"><div><div><h3 class="title">13.4. Performing an unattended installation to an edge device by using Kickstart</h3></div></div></div><p class="_abstract _abstract">
				For an unattended installation in a network-based environment, you can install the RHEL for Edge image to an Edge device by using a Kickstart file and a web server. The web server serves the RHEL for Edge Commit and the Kickstart file, and both artifacts are used to start the <a class="link" href="https://developers.redhat.com/products/rhel/download">RHEL Installer ISO</a> image.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have the <code class="literal">qemu-img</code> utility installed on your host system.
					</li><li class="listitem">
						You have created a <code class="literal">.qcow2</code> disk image to install the commit you created. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#creating-a-system-image-with-composer-in-the-command-line-interface_creating-system-images-with-composer-command-line-interface">Creating a system image with RHEL image builder in the CLI</a>.
					</li><li class="listitem">
						You have a running web server. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Run a RHEL for Edge Container image to start a web server. The server fetches the commit in the RHEL for Edge Container image and becomes available and running.
					</li><li class="listitem"><p class="simpara">
						Run the RHEL Anaconda Installer, passing the customized <code class="literal">.qcow2</code> disk image, by using <code class="literal">libvirt virt-install</code>:
					</p><pre class="screen">virt-install \
--name rhel-edge-test-1 \
--memory 2048 \
--vcpus 2 \
--disk path=prepared_disk_image.qcow2,format=qcow2,size=8 \
--os-variant rhel9 \
--cdrom /home/username/Downloads/rhel-9-x86_64-boot.iso</pre></li><li class="listitem"><p class="simpara">
						On the installation screen:
					</p><div class="figure" id="idm140247635294528"><p class="title"><strong>Figure 13.2. Red Hat Enterprise Linux boot menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/8f5c464e3fdb798e591185beecd98379/rhel-8.6-boot.png" alt="The Red Hat Enterprise Linux boot menu"></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Press the <span class="guibutton">TAB</span> key and add the Kickstart kernel argument:
							</p><pre class="screen">inst.ks=http://web-server_device_ip:port/kickstart.ks</pre><p class="simpara">
								The kernel parameter specifies that you want to install RHEL by using the Kickstart file and not the RHEL image contained in the RHEL Installer.
							</p></li><li class="listitem"><p class="simpara">
								After adding the kernel parameters, press <kbd class="keycap">Ctrl</kbd>+<kbd class="keycap">X</kbd> to boot the RHEL installation by using the Kickstart file.
							</p><p class="simpara">
								The RHEL Installer starts, fetches the Kickstart file from the server (HTTP) endpoint, and executes the commands, including the command to install the RHEL for Edge image commit from the HTTP endpoint. After the installation completes, the RHEL Installer prompts you for login details.
							</p></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the Login screen, enter your user account credentials and click <span class="guibutton">Enter</span>.
					</li><li class="listitem"><p class="simpara">
						Verify whether the RHEL for Edge image is successfully installed.
					</p><pre class="screen">$ rpm-ostree status</pre><p class="simpara">
						The command output provides the image commit ID and shows that the installation is successful.
					</p><p class="simpara">
						The following is a sample output:
					</p><pre class="screen">State: idle
Deployments:
* ostree://edge:rhel/9/x86_64/edge
		  Timestamp: 2020-09-18T20:06:54Z
			Commit: 836e637095554e0b634a0a48ea05c75280519dd6576a392635e6fa7d4d5e96</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/60959">How to embed a Kickstart file into an ISO image</a> (Red Hat Knowledgebase)
					</li><li class="listitem">
						<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#booting-the-installer-from-local-media_rhel-installer">Booting the installation</a>
					</li></ul></div></section></section><section class="chapter" id="assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 14. Deploying a RHEL for Edge image in a non-network-based environment</h2></div></div></div><p class="_abstract _abstract">
			The RHEL for Edge Container (<code class="literal">.tar</code>) in combination with the RHEL for Edge Installer (<code class="literal">.iso</code>) image type result in a ISO image. The ISO image can be used in disconnected environments during the image deployment to a device. However, network access might require network access to build the different artifacts.
		</p><p>
			Deploying a RHEL for Edge image in a non-network-based environment involves the following high-level steps:
		</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
					Download the RHEL for Edge Container. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console">Downloading a RHEL for Edge image</a> for information about how to download the RHEL for Edge image.
				</li><li class="listitem">
					Load the RHEL for Edge Container image into Podman
				</li><li class="listitem">
					Run the RHEL for Edge Container image into Podman
				</li><li class="listitem">
					Load the RHEL for Edge Installer blueprint
				</li><li class="listitem">
					Build the RHEL for Edge Installer image
				</li><li class="listitem">
					Prepare a <code class="literal">.qcow2</code> disk
				</li><li class="listitem">
					Boot the Virtual Machine (VM)
				</li><li class="listitem">
					Install the image
				</li></ol></div><section class="section" id="building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image"><div class="titlepage"><div><div><h3 class="title">14.1. Creating a RHEL for Edge Container image for non-network-based deployments</h3></div></div></div><p class="_abstract _abstract">
				You can build a running container by loading the downloaded RHEL for Edge Container OSTree commit into Podman. For that, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created and downloaded a RHEL for Edge Container OSTree commit.
					</li><li class="listitem">
						You have installed <code class="literal">Podman</code> on your system. See <a class="link" href="https://access.redhat.com/solutions/3650231">How do I install Podman in RHEL</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Navigate to the directory where you have downloaded the RHEL for Edge Container OSTree commit.
					</li><li class="listitem"><p class="simpara">
						Load the RHEL for Edge Container OSTree commit into <code class="literal">Podman</code>.
					</p><pre class="screen">$ sudo podman load -i <span class="emphasis"><em>UUID</em></span>-container.tar</pre><p class="simpara">
						The command output provides the image ID, for example: <code class="literal">@8e0d51f061ff1a51d157804362bc875b649b27f2ae1e66566a15e7e6530cec63</code>
					</p></li><li class="listitem"><p class="simpara">
						Tag the new RHEL for Edge Container image, using the image ID generated by the previous step.
					</p><pre class="screen">$ sudo podman tag <span class="emphasis"><em>image-ID</em></span> <span class="emphasis"><em>localhost/edge-container</em></span></pre><p class="simpara">
						The <code class="literal">podman tag</code> command assigns an additional name to the local image.
					</p></li><li class="listitem"><p class="simpara">
						Run the container named <code class="literal">edge-container</code>.
					</p><pre class="screen">$ sudo podman run -d --name=<span class="emphasis"><em>edge-container</em></span> -p 8080:8080 <span class="emphasis"><em>localhost/edge-container</em></span></pre><p class="simpara">
						The <code class="literal">podman run -d --name=edge-container</code> command assigns a name to your container-based on the <code class="literal">localhost/edge-container</code> image.
					</p></li><li class="listitem"><p class="simpara">
						List containers:
					</p><pre class="screen">$ sudo podman ps -a
CONTAINER ID  IMAGE                               	COMMAND	CREATED    	STATUS                	PORTS   NAMES
2988198c4c4b  …./localhost/edge-container   /bin/bash  3 seconds ago  Up 2 seconds ago      	edge-container</pre></li></ol></div><p>
				As a result, <code class="literal">Podman</code> runs a container that serves an OSTree repository with the RHEL for Edge Container commit.
			</p></section><section class="section" id="deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image"><div class="titlepage"><div><div><h3 class="title">14.2. Creating a RHEL for Edge Installer image for non-network-based deployments</h3></div></div></div><p class="_abstract _abstract">
				After you have built a running container to serve a repository with the <code class="literal">RHEL for Edge Container</code> commit, create an <code class="literal">RHEL for Edge Installer (.iso)</code> image. The <code class="literal">RHEL for Edge Installer (.iso)</code> pulls the commit served by <code class="literal">RHEL for Edge Container (.tar)</code>. After the <code class="literal">RHEL for Edge Container</code> commit is loaded in Podman, it exposes the <code class="literal">OSTree</code> in the URL format.
			</p><p>
				To create the RHEL for Edge Installer image in the CLI, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a blueprint for RHEL for Edge image.
					</li><li class="listitem">
						You created a RHEL for Edge Container image and deployed it using a web server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Begin to create the RHEL for Edge Installer image.
					</p><pre class="screen"># composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/9/x86_64/edge</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>image-type</em></span></pre><p class="simpara">
						Where,
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="emphasis"><em>ref</em></span> is the same value that customer used to build OSTree repository
							</li><li class="listitem">
								<span class="emphasis"><em>URL-OSTree-repository</em></span> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Creating a RHEL for Edge Container image for non-network-based deployments</a>.
							</li><li class="listitem">
								<span class="emphasis"><em>blueprint-name</em></span> is the RHEL for Edge Installer blueprint name.
							</li><li class="listitem"><p class="simpara">
								<span class="emphasis"><em>image-type</em></span> is <code class="literal">edge-installer</code>.
							</p><p class="simpara">
								A confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Check the image compose status.
					</p><pre class="screen"># composer-cli compose status</pre><p class="simpara">
						The command output displays the status in the following format:
					</p><pre class="screen"><span class="emphasis"><em>&lt;UUID&gt;</em></span> RUNNING date <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>blueprint-version</em></span> <span class="emphasis"><em>image-type</em></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							The image creation process takes a few minutes to complete.
						</p></div></rh-alert><p class="simpara">
						To interrupt the image creation process, run:
					</p><pre class="screen"># composer-cli compose cancel <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
						To delete an existing image, run:
					</p><pre class="screen"># composer-cli compose delete <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre><p class="simpara">
						RHEL image builder pulls the commit that is being served by the running container during the image build.
					</p><p class="simpara">
						After the image build is complete, you can download the resulting ISO image.
					</p></li><li class="listitem"><p class="simpara">
						Download the image. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line">Downloading a RHEL for Edge image.</a>
					</p><p class="simpara">
						After the image is ready, you can use it for <span class="strong strong"><strong>non-network deployments</strong></span>. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image">Installing the RHEL for Edge image for non-network-based deployments</a>.
					</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line">Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments</a>
					</li></ul></div></section><section class="section" id="installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image"><div class="titlepage"><div><div><h3 class="title">14.3. Installing the RHEL for Edge image for non-network-based deployments</h3></div></div></div><p class="_abstract _abstract">
				To install the RHEL for Edge image, follow the steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a RHEL for Edge Installer ISO image.
					</li><li class="listitem">
						You stopped the running container.
					</li><li class="listitem">
						A disk image to install the commit you created.
					</li><li class="listitem">
						You installed the <code class="literal">edk2-ovmf</code> package.
					</li><li class="listitem">
						You installed the <code class="literal">virt-viewer</code> package.
					</li><li class="listitem"><p class="simpara">
						You customized your blueprint with a user account. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console"> Creating a blueprint for a RHEL for Edge image using RHEL image builder in RHEL web console</a>.
					</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							If you do not define a user account customization in your blueprint, you will not be able to login to the ISO image.
						</p></div></rh-alert></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">qcow</code> VM disk file to install the (<code class="literal">.iso</code>) image. That is an image of a hard disk drive for the virtual machine (VM). For example:
					</p><pre class="screen">$ qemu-img create -f qcow2 <span class="emphasis"><em>diskfile</em></span>.qcow2 20G</pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">virt-install</code> command to boot the VM using the disk as a drive and the installer ISO image as a CD-ROM. For example:
					</p><pre class="screen">$ virt-install \
--boot uefi \
--name <span class="emphasis"><em>VM_NAME</em></span>
--memory 2048 \
--vcpus 2 \
--disk path=<span class="emphasis"><em>diskfile.qcow2</em></span>
--cdrom /var/lib/libvirt/images/<span class="emphasis"><em>UUID</em></span>-installer.iso \
--os-variant rhel9.0</pre><p class="simpara">
						This command instructs <code class="literal">virt-install</code> to:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Instructs the VM to use UEFI to boot, instead of the BIOS.
							</li><li class="listitem">
								Mount the installation ISO.
							</li><li class="listitem"><p class="simpara">
								Use the hard disk drive image created in the first step.
							</p><p class="simpara">
								It gives you an Anaconda Installer. The RHEL Installer starts, loads the Kickstart file from the ISO and executes the commands, including the command to install the RHEL for Edge image commit. Once the installation is complete, the RHEL installer prompts for login details.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									Anaconda is preconfigured to use the Container commit during the installation. However, you need to set up system configurations, such as disk partition, timezone, between others.
								</p></div></rh-alert></li></ul></div></li><li class="listitem"><p class="simpara">
						Connect to Anaconda GUI with <code class="literal">virt-viewer</code> to setup the system configuration:
					</p><pre class="screen">$ virt-viewer --connect qemu:///system --wait VM_NAME</pre></li><li class="listitem">
						Reboot the system to finish the installation.
					</li><li class="listitem">
						On the login screen, specify your user account credentials and click <span class="guibutton">Enter</span>.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify whether the RHEL for Edge image is successfully installed.
					</p><pre class="screen">$  rpm-ostree status</pre></li></ol></div><p>
				The command output provides the image commit ID and shows that the installation is successful.
			</p></section></section><section class="chapter" id="managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 15. Managing RHEL for Edge images</h2></div></div></div><p class="_abstract _abstract">
			To manage the RHEL for Edge images, you can perform any of the following administrative tasks:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Edit the RHEL for Edge image blueprint by using image builder in RHEL web console or in the command-line
				</li><li class="listitem">
					Build a commit update by using image builder command-line
				</li><li class="listitem">
					Update the RHEL for Edge images
				</li><li class="listitem">
					Configure <code class="literal">rpm-ostree</code> remotes on nodes, to update node policy
				</li><li class="listitem">
					Restore RHEL for Edge images manually or automatically by using greenboot
				</li></ul></div><section class="section" id="editing_a_rhel_for_edge_image_blueprint_by_using_image_builder"><div class="titlepage"><div><div><h3 class="title">15.1. Editing a RHEL for Edge image blueprint by using image builder</h3></div></div></div><p>
				You can edit the RHEL for Edge image blueprint to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Add additional components that you might require
					</li><li class="listitem">
						Modify the version of any existing component
					</li><li class="listitem">
						Remove any existing component
					</li></ul></div><section class="section" id="adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.1.1. Adding a component to RHEL for Edge blueprint using image builder in RHEL web console</h4></div></div></div><p class="_abstract _abstract">
					To add a component to a RHEL for Edge image blueprint, ensure that you have met the following prerequisites and then follow the procedure to edit the corresponding blueprint.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On a RHEL system, you have accessed the RHEL image builder dashboard.
						</li><li class="listitem">
							You have created a blueprint for RHEL for Edge image.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the RHEL image builder dashboard, click the blueprint that you want to edit.
						</p><p class="simpara">
							To search for a specific blueprint, enter the blueprint name in the filter text box, and click <span class="guibutton">Enter</span>.
						</p></li><li class="listitem"><p class="simpara">
							On the upper right side of the blueprint, click <span class="guibutton">Edit Packages</span>.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Edit blueprints</strong></span> wizard opens.
						</p></li><li class="listitem">
							On the <span class="strong strong"><strong>Details</strong></span> page, update the blueprint name and click <span class="guibutton">Next</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Packages</strong></span> page, follow the steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Available Packages</strong></span>, enter the package name that you want to add in the filter text box, and click <span class="guibutton">Enter</span>.
								</p><p class="simpara">
									A list with the component name appears.
								</p></li><li class="listitem">
									Click <span class="guibutton">&gt;</span> to add the component to the blueprint.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Save</span>.
						</p><p class="simpara">
							The blueprint is now updated with the new package.
						</p></li></ol></div></section><section class="section" id="removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.1.2. Removing a component from a blueprint using RHEL image builder in the web console</h4></div></div></div><p class="_abstract _abstract">
					To remove one or more unwanted components from a blueprint that you created by using RHEL image builder, ensure that you have met the following prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On a RHEL system, you have accessed the RHEL image builder dashboard.
						</li><li class="listitem">
							You have created a blueprint for RHEL for Edge image.
						</li><li class="listitem">
							You have added at least one component to the RHEL for Edge blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the RHEL image builder dashboard, click the blueprint that you want to edit.
						</p><p class="simpara">
							To search for a specific blueprint, enter the blueprint name in the filter text box, and click <span class="guibutton">Enter</span>.
						</p></li><li class="listitem"><p class="simpara">
							On the upper right side of the blueprint, click <span class="guibutton">Edit Packages</span>.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Edit blueprints</strong></span> wizard opens.
						</p></li><li class="listitem">
							On the <span class="strong strong"><strong>Details</strong></span> page, update the blueprint name and click <span class="guibutton">Next</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Packages</strong></span> page, follow the steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the <span class="strong strong"><strong>Chosen packages</strong></span>, click <span class="guibutton">&lt;</span> to remove the chosen component. You can also click <span class="guibutton">&lt;&lt;</span> to remove all the packages at once.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Review</strong></span> page, click <span class="guibutton">Save</span>.
						</p><p class="simpara">
							The blueprint is now updated.
						</p></li></ol></div></section><section class="section" id="editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.1.3. Editing a RHEL for Edge image blueprint using command-line interface</h4></div></div></div><p class="_abstract _abstract">
					You can change the specifications for your RHEL for Edge image blueprint by using RHEL image builder command-line. To do so, ensure that you have met the following prerequisites and then follow the procedure to edit the corresponding blueprint.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have access to the RHEL image builder command-line.
						</li><li class="listitem">
							You have created a RHEL for Edge image blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Save (export) the blueprint to a local text file:
						</p><pre class="screen"># composer-cli blueprints save BLUEPRINT-NAME</pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">BLUEPRINT-NAME.toml</code> file with a text editor of your choice and make your changes.
						</p><p class="simpara">
							Before finishing with the edits, verify that the file is a valid blueprint:
						</p></li><li class="listitem"><p class="simpara">
							Increase the version number.
						</p><p class="simpara">
							Ensure that you use a Semantic Versioning scheme.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								if you do not change the version, the patch component of the version is increased automatically.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Check if the contents are valid TOML specifications. See the TOML documentation for more information.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								TOML documentation is a community product and is not supported by Red Hat. You can report any issues with the tool at <a class="link" href="https://github.com/toml-lang/toml/issues">https://github.com/toml-lang/toml/issues</a>.
							</p></div></rh-alert></li><li class="listitem">
							Save the file and close the editor.
						</li><li class="listitem"><p class="simpara">
							Push (import) the blueprint back into RHEL image builder server:
						</p><pre class="screen"># composer-cli blueprints push BLUEPRINT-NAME.toml</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								When pushing the blueprint back into the RHEL image builder server, provide the file name including the <code class="literal">.toml</code> extension.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Verify that the contents uploaded to RHEL image builder match your edits:
						</p><pre class="screen"># composer-cli blueprints show BLUEPRINT-NAME</pre></li><li class="listitem"><p class="simpara">
							Check whether the components and versions listed in the blueprint and their dependencies are valid:
						</p><pre class="screen"># composer-cli blueprints depsolve BLUEPRINT-NAME</pre></li></ol></div></section></section><section class="section" id="updating_rhel_for_edge_images"><div class="titlepage"><div><div><h3 class="title">15.2. Updating RHEL for Edge images</h3></div></div></div><section class="section" id="how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.2.1. How RHEL for Edge image updates are deployed</h4></div></div></div><p class="_abstract _abstract">
					With RHEL for Edge images, you can either deploy the updates manually or can automate the deployment process. The updates are applied in an atomic manner, where the state of each update is known, and the updates are staged and applied only upon reboot. Because no changes are seen until you reboot the device, you can schedule a reboot to ensure the highest possible uptime.
				</p><p>
					During the image update, only the updated operating system content is transferred over the network. This makes the deployment process more efficient compared to transferring the entire image. The operating system binaries and libraries in <code class="literal">/usr</code> are <code class="literal">read-only</code>, and the <code class="literal">read and write</code> state is maintained in <code class="literal">/var</code> and <code class="literal">/etc</code> directories.
				</p><p>
					When moving to a new deployment, the <code class="literal">/etc</code> and the <code class="literal">/var</code> directories are copied to the new deployment with <code class="literal">read and write</code> permissions. The <code class="literal">/usr</code> directory is copied as a soft link to the new deployment directory, with <code class="literal">read-only</code> permissions.
				</p><p>
					The following diagram illustrates the RHEL for Edge image update deployment process:
				</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/fce86ffb0e9c5a01ceed74d72d223153/edge-os-upgrade.png" alt="Image Deployment"></div></div><p>
					By default, the new system is booted using a procedure similar to a <code class="literal">chroot</code> operation, that is, the system enables control access to a filesystem while controlling the exposure to the underlying server environment. The new <code class="literal">/sysroot</code> directory mainly has the following parts:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Repository database at the <code class="literal">/sysroot/ostree/repo</code> directory.
						</li><li class="listitem">
							File system revisions at the <code class="literal">/sysroot/ostree/deploy/rhel/deploy</code> directory, which are created by each operation in the system update.
						</li><li class="listitem">
							The <code class="literal">/sysroot/ostree/boot</code> directory, which links to deployments on the previous point. Note that <code class="literal">/ostree</code> is a soft link to <code class="literal">/sysroot/ostree</code>. The files from the <code class="literal">/sysroot/ostree/boot</code> directory are not duplicated. The same file is used if it is not changed during the deployment. The files are hard-links to another file stored in the <code class="literal">/sysroot/ostree/repo/objects</code> directory.
						</li></ul></div><p>
					The operating system selects the deployment in the following way:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">dracut</code> tool parses the <code class="literal">ostree</code> kernel argument in the <code class="literal">initramfs root</code> file system and sets up the <code class="literal">/usr</code> directory as a <code class="literal">read-only</code> bind mount.
						</li><li class="listitem">
							Bind the deployment directory in <code class="literal">/sysroot</code> to <code class="literal">/</code> directory.
						</li><li class="listitem">
							Re-mount the operating system already mounted <code class="literal">dirs</code> using the <code class="literal">MS_MOVE</code> mount flag
						</li></ol></div><p>
					If anything goes wrong, you can perform a deployment rollback by removing the old deployments with the <code class="literal">rpm-ostree</code> cleanup command. Each client machine contains an <code class="literal">OSTree</code> repository stored in <code class="literal">/ostree/repo</code>, and a set of deployments stored in <code class="literal">/ostree/deploy/$STATEROOT/$CHECKSUM</code>.
				</p><p>
					With the deployment updates in RHEL for Edge image, you can benefit from a better system consistency across multiple devices, easier reproducibility, and better isolation between the pre and post system states change.
				</p></section><section class="section" id="proc_building-a-commit-update_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.2.2. Building a commit update</h4></div></div></div><p>
					You can build a commit update after making a change in the blueprint, such as:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Adding an additional package that your system requires
						</li><li class="listitem">
							Modifying the package version of any existing component
						</li><li class="listitem">
							Removing any existing package.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have updated a system which is running RHEL image builder.
						</li><li class="listitem">
							You created a blueprint update.
						</li><li class="listitem">
							You have previously created an OSTree repository and served it through HTTP. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge images</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Start the compose of the new commit image, with the following arguments: <code class="literal">--url</code>, <code class="literal">--ref</code>, <code class="literal"><span class="emphasis"><em>blueprint-name</em></span></code>, <code class="literal">edge-commit</code>.
						</p><pre class="screen"># composer-cli compose start-ostree --ref rhel/9/x86_64/edge --url http://localhost:8080/repo <span class="emphasis"><em>&lt;blueprint-name&gt;</em></span> edge-commit</pre><p class="simpara">
							The command instructs the compose process to fetch the metadata from the OStree repo before starting the compose. The resulting new OSTree commit contains a reference of the original OSTree commit as a parent image.
						</p></li><li class="listitem"><p class="simpara">
							After the compose process finishes, fetch the <code class="literal">.tar</code> file.
						</p><pre class="screen"># composer-cli compose image <span class="emphasis"><em>&lt;UUID&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
							Extract the commit to a temporary directory, so that you can store the commit history in the OSTree repo.
						</p><pre class="screen">$ tar -xf <span class="emphasis"><em>UUID</em></span>.tar -C /var/tmp</pre></li><li class="listitem"><p class="simpara">
							Inspect the resulting OSTree repo commit, by using the <code class="literal">tar -xf</code> command. It extracts the tar file to disk so you can inspect the resulting OSTree repo:
						</p><pre class="screen">$ ostree --repo=/var/tmp/repo log rhel/9/x86_64/edge
commit d523ef801e8b1df69ddbf73ce810521b5c44e9127a379a4e3bba5889829546fa
Parent:  f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91
ContentChecksum:  f0f6703696331b661fa22d97358db48ba5f8b62711d9db83a00a79b3ae0dfe16
Date:  2023-06-04 20:22:28 /+0000
Version: 9</pre><p class="simpara">
							In the output example, there is a single OSTree commit in the repo that references a parent commit. The parent commit is the same checksum from the original OSTree commit that you previously made.
						</p></li><li class="listitem"><p class="simpara">
							Merge the two commits by using the <code class="literal">ostree pull-local</code> command:
						</p><pre class="screen">$ sudo ostree --repo=/var/srv/httpd/repo pull-local /var/tmp/repo
20 metadata, 22 content objects imported; 0 bytes content written</pre><p class="simpara">
							This command copies any new metadata and content from the location on the disk, for example, <code class="literal">/var/tmp</code>, to a destination OSTree repo in <code class="literal">/var/srv/httpd</code>.
						</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Inspect the target OSTree repo:
						</p><pre class="screen">$ ostree --repo=/var/srv/httpd/repo log rhel/9/x86_64/edge
commit d523ef801e8b1df69ddbf73ce810521b5c44e9127a379a4e3bba5889829546fa
Parent:  f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91
ContentChecksum:  f0f6703696331b661fa22d97358db48ba5f8b62711d9db83a00a79b3ae0dfe16
Date:  2023-06-04 20:22:28 /+0000
Version: 9
(no subject)

commit f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91
ContentChecksum:  9054de3fe5f1210e3e52b38955bea0510915f89971e3b1ba121e15559d5f3a63
Date:  2023-06-04 20:01:08 /+0000
Version: 9
(no subject)</pre><p class="simpara">
							You can see that the target OSTree repo now contains two commits in the repository, in a logical order. After successful verification, you can update your RHEL for Edge system.
						</p></li></ol></div></section><section class="section" id="deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.2.3. Deploying RHEL for Edge image updates manually</h4></div></div></div><p class="_abstract _abstract">
					After you have edited a RHEL for Edge blueprint, you can update the image commit. RHEL image builder generates a new commit for the updated RHEL for Edge image. Use this new commit to deploy the image with latest package versions or with additional packages.
				</p><p>
					To deploy RHEL for Edge images updates, ensure that you meet the prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On a RHEL system, you have accessed the RHEL image builder dashboard.
						</li><li class="listitem">
							You have created a RHEL for Edge image blueprint.
						</li><li class="listitem">
							You have edited the RHEL for Edge image blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							On the RHEL image builder dashboard click <span class="guibutton">Create Image</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Create Image</strong></span> window, perform the following steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the Image output page:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown list, select the blueprint that you edited.
										</li><li class="listitem">
											From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <code class="literal">RHEL for Edge Commit (.tar)</code>. Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											In the <span class="strong strong"><strong>Repository URL</strong></span> field, enter the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Parent commit</strong></span> field, specify the parent commit ID that was previously generated. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting RHEL for Edge image commit</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Ref</strong></span> field, you can either specify a name for your commit or leave it empty. By default, the web console specifies the <code class="literal">Ref</code> as <code class="literal">rhel/9/arch_name/edge</code>. Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Review</strong></span> page, check the customizations and click <span class="guibutton">Create image</span>. RHEL image builder starts to create a RHEL for Edge image for the updated blueprint. The image creation process takes a few minutes to complete.
								</p><p class="simpara">
									To view the RHEL for Edge image creation progress, click the blueprint name from the breadcrumbs, and then click the <span class="strong strong"><strong>Images</strong></span> tab.
								</p><p class="simpara">
									The resulting image includes the latest packages that you have added, if any, and have the original <code class="literal">commit ID</code> as a parent.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Download the resulting RHEL for Edge Commit (<code class="literal">.tar</code>) image.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the <span class="strong strong"><strong>Images</strong></span> tab, click <span class="guibutton">Download</span> to save the RHEL for Edge Commit (<code class="literal">.tar</code>) image to your system.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Extract the OSTree commit (<code class="literal">.tar</code>) file.
						</p><pre class="screen"># <span class="strong strong"><strong>tar -xf <span class="emphasis"><em>UUID-commit.tar</em></span> -C <span class="emphasis"><em>UPGRADE_FOLDER</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Upgrade the OSTree repo:
						</p><pre class="screen"># <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo pull-local <span class="emphasis"><em>UPGRADE_FOLDER</em></span></strong></span>
# <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo summary -u</strong></span></pre></li><li class="listitem"><p class="simpara">
							On the RHEL system provisioned, from the original edge image, verify the current status.
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre><p class="simpara">
							If there is no new commit ID, run the following command to verify if there is any upgrade available:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree upgrade --check</strong></span></pre><p class="simpara">
							The command output provides the current active OSTree commit ID.
						</p></li><li class="listitem"><p class="simpara">
							Update OSTree to make the new OSTree commit ID available.
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree upgrade</strong></span></pre><p class="simpara">
							OSTree verifies if there is an update on the repository. If yes, it fetches the update and requests you to reboot your system so that you can activate the deployment of this new commit update.
						</p></li><li class="listitem"><p class="simpara">
							Check the current status again:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre><p class="simpara">
							You can now see that there are 2 commits available:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The active parent commit.
								</li><li class="listitem">
									A new commit that is not active and contains 1 added difference.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							To activate the new deployment and to make the new commit active, reboot your system.
						</p><pre class="screen"># <span class="strong strong"><strong>systemctl reboot</strong></span></pre><p class="simpara">
							The Anaconda Installer reboots into the new deployment. On the login screen, you can see a new deployment available for you to boot.
						</p></li><li class="listitem">
							If you want to boot into the newest deployment (commit), the <code class="literal">rpm-ostree</code> upgrade command automatically orders the boot entries so that the new deployment is first in the list. Optionally, you can use the arrow key on your keyboard to select the GRUB menu entry and press <span class="guibutton">Enter</span>.
						</li><li class="listitem">
							Provide your login user account credentials.
						</li><li class="listitem"><p class="simpara">
							Verify the OSTree status:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre><p class="simpara">
							The command output provides the active commit ID.
						</p></li><li class="listitem"><p class="simpara">
							To view the changed packages, if any, run a diff between the parent commit and the new commit:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree db diff <span class="emphasis"><em>parent_commit</em></span> <span class="emphasis"><em>new_commit</em></span></strong></span></pre><p class="simpara">
							The update shows that the package you have installed is available and ready for use.
						</p></li></ol></div></section><section class="section" id="proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.2.4. Deploying RHEL for Edge image updates manually using the command-line</h4></div></div></div><p class="_abstract _abstract">
					After you have edited a RHEL for Edge blueprint, you can update the image commit. RHEL image builder generates a new commit for the updated RHEL for Edge image. Use the new commit to deploy the image with latest package versions or with additional packages using the CLI.
				</p><p>
					To deploy RHEL for Edge image updates using the CLI, ensure that you meet the prerequisites, and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You created the RHEL for Edge image blueprint.
						</li><li class="listitem">
							You edited the RHEL for Edge image blueprint. See <a class="link" href="#editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images" title="15.1.3. Editing a RHEL for Edge image blueprint using command-line interface">Editing a RHEL for Edge image blueprint using command-line interface</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the RHEL for Edge Commit (<code class="literal">.tar</code>) image with the following arguments:
						</p><pre class="screen"># <span class="strong strong"><strong>composer-cli compose start-ostree --ref <span class="emphasis"><em>ostree_ref</em></span> --url <span class="emphasis"><em>URL-OSTree-repository</em></span> -blueprint_name_ <span class="emphasis"><em>image-type</em></span></strong></span></pre><p class="simpara">
							where
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal"><span class="emphasis"><em>ref</em></span></code> is the reference you provided during the creation of the RHEL for Edge Container commit. For example, <code class="literal">rhel/9/x86_64/edge</code>.
								</li><li class="listitem">
									<code class="literal"><span class="emphasis"><em>URL-OSTree-repository</em></span></code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal"><span class="emphasis"><em>image-type</em></span></code> is <code class="literal">edge-commit</code>.
								</p><p class="simpara">
									RHEL image builder creates a RHEL for Edge image for the updated blueprint.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Check the RHEL for Edge image creation progress:
						</p><pre class="screen"># <span class="strong strong"><strong>composer-cli compose status</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								The image creation processes can take up to ten to thirty minutes to complete.
							</p></div></rh-alert><p class="simpara">
							The resulting image includes the latest packages that you have added, if any, and has the original <code class="literal">commit ID</code> as a parent.
						</p></li><li class="listitem">
							Download the resulting RHEL for Edge image. For more information, see <a class="link" href="#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line" title="5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface">Downloading a RHEL for Edge image using the RHEL image builder command-line interface</a>.
						</li><li class="listitem"><p class="simpara">
							Extract the OSTree commit.
						</p><pre class="screen"># <span class="strong strong"><strong>tar -xf <span class="emphasis"><em>UUID-commit.tar</em></span> -C <span class="emphasis"><em>upgrade_folder</em></span></strong></span></pre></li><li class="listitem">
							Serve the OSTree commit by using httpd. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
						</li><li class="listitem"><p class="simpara">
							Upgrade the OSTree repo:
						</p><pre class="screen"># <span class="strong strong"><strong>ostree --repo=/var/www/html/repo pull-local /tmp/ostree-commit/repo</strong></span>
# <span class="strong strong"><strong>ostree --repo=/var/www/html/repo summary -u</strong></span></pre></li><li class="listitem"><p class="simpara">
							On the RHEL system provisioned from the original edge image, verify the current status:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre><p class="simpara">
							If there is no new commit ID, run the following command to verify if there is any upgrade available:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree upgrade --check</strong></span></pre><p class="simpara">
							The command output provides the current active OSTree commit ID.
						</p></li><li class="listitem"><p class="simpara">
							Update OSTree to make the new OSTree commit ID available:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree upgrade</strong></span></pre><p class="simpara">
							OSTree verifies if there is an update on the repository. If yes, it fetches the update and requests you to reboot your system so that you can activate the deployment of the new commit update.
						</p></li><li class="listitem"><p class="simpara">
							Check the current status again:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre><p class="simpara">
							You should now see that there are 2 commits available:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The active parent commit
								</li><li class="listitem">
									A new commit that is not active and contains 1 added difference
								</li></ul></div></li><li class="listitem"><p class="simpara">
							To activate the new deployment and make the new commit active, reboot your system:
						</p><pre class="screen"># <span class="strong strong"><strong>systemctl reboot</strong></span></pre><p class="simpara">
							The Anaconda Installer reboots into the new deployment. On the login screen, you can see a new deployment available for you to boot.
						</p></li><li class="listitem">
							If you want to boot into the newest deployment, the <code class="literal">rpm-ostree upgrade</code> command automatically orders the boot entries so that the new deployment is first in the list. Optionally, you can use the arrow key on your keyboard to select the GRUB menu entry and press <span class="guibutton">Enter</span>.
						</li><li class="listitem">
							Log in using your account credentials.
						</li><li class="listitem"><p class="simpara">
							Verify the OSTree status:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre><p class="simpara">
							The command output provides the active commit ID.
						</p></li><li class="listitem"><p class="simpara">
							To view the changed packages, if any, run a diff between the parent commit and the new commit:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree db diff <span class="emphasis"><em>parent_commit</em></span> <span class="emphasis"><em>new_commit</em></span></strong></span></pre><p class="simpara">
							The update shows that the package you have installed is available and ready for use.
						</p></li></ol></div></section><section class="section" id="deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.2.5. Deploying RHEL for Edge image updates manually for non-network-base deployments</h4></div></div></div><p class="_abstract _abstract">
					After editing a RHEL for Edge blueprint, you can update your RHEL for Edge Commit image with those updates. Use RHEL image builder to generate a new commit to update your RHEL for Edge image that is already deployed in a VM, for example. Use this new commit to deploy the image with latest package versions or with additional packages.
				</p><p>
					To deploy RHEL for Edge images updates, ensure that you meet the prerequisites and then follow the procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							On your host, you have opened the RHEL image builder app from the web console in a browser.
						</li><li class="listitem">
							You have a RHEL for Edge system provisioned that is up and running.
						</li><li class="listitem">
							You have an OSTree repository that is being served over HTTP.
						</li><li class="listitem">
							You have edited a previously created RHEL for Edge image blueprint.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							On your system host, on the RHEL image builder dashboard, click <span class="guibutton">Create Image</span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Create Image</strong></span> window, perform the following steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Image output</strong></span> page:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											From the <span class="strong strong"><strong>Select a blueprint</strong></span> dropdown list, select the blueprint that you edited.
										</li><li class="listitem">
											From the <span class="strong strong"><strong>Image output type</strong></span> dropdown list, select <code class="literal">RHEL for Edge Container (.tar)</code>.
										</li><li class="listitem">
											Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>OSTree settings</strong></span> page, enter:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											In the <span class="strong strong"><strong>Repository URL</strong></span> field, enter the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images">Setting up a web server to install RHEL for Edge image</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Parent commit</strong></span> field, specify the parent commit ID that was previously generated. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images">Extracting RHEL for Edge image commit</a>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Ref</strong></span> field, you can either specify a name for your commit or leave it empty. By default, the web console specifies the <code class="literal">Ref</code> as <code class="literal">rhel/9/arch_name/edge</code>.
										</li><li class="listitem">
											Click <span class="guibutton">Next</span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									In the <span class="strong strong"><strong>Review</strong></span> page, check the customizations and click <span class="guibutton">Create</span>.
								</p><p class="simpara">
									RHEL image builder creates a RHEL for Edge image for the updated blueprint.
								</p></li><li class="listitem"><p class="simpara">
									Click the <span class="strong strong"><strong>Images</strong></span> tab to view the progress of RHEL for Edge image creation.
								</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										The image creation process takes a few minutes to complete.
									</p></div></rh-alert><p class="simpara">
									The resulting image includes the latest packages that you have added, if any, and has the original <code class="literal">commit ID</code> as a parent.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Download the resulting RHEL for Edge image on your host:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the <span class="strong strong"><strong>Images</strong></span> tab, click <span class="guibutton">Download</span> to save the RHEL for Edge Container (<code class="literal">.tar</code>) image to your host system.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							On the RHEL system provisioned from the original edge image, perform the following steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Load the RHEL for Edge Container image into Podman, serving the child commit ID this time.
								</p><pre class="screen">$ cat ./child-commit_ID-container.tar | sudo podman load</pre></li><li class="listitem"><p class="simpara">
									Run <code class="literal">Podman</code>.
								</p><pre class="screen">#  sudo podman run -p 8080:8080 localhost/edge-test</pre></li><li class="listitem"><p class="simpara">
									Upgrade the OSTree repo:
								</p><pre class="screen"># ostree --repo=/var/www/html/repo pull-local /tmp/ostree-commit/repo
# ostree --repo=/var/www/html/repo summary -u</pre></li><li class="listitem"><p class="simpara">
									On the RHEL system provisioned, from the original edge image, verify the current status.
								</p><pre class="screen">$ rpm-ostree status</pre><p class="simpara">
									If there is no new commit ID, run the following command to verify if there is any upgrade available:
								</p><pre class="screen">$ rpm-ostree upgrade --check</pre><p class="simpara">
									If there are updates available, the command output provides information about the available updates in the OSTree repository, such as the current active OSTree commit ID. Else, it prompts a message informing that there are no updates available.
								</p></li><li class="listitem"><p class="simpara">
									Update OSTree to make the new OSTree commit ID available.
								</p><pre class="screen">$ rpm-ostree upgrade</pre><p class="simpara">
									OSTree verifies if there is an update on the repository. If yes, it fetches the update and requests you to reboot your system so that you can activate the deployment of this new commit update.
								</p></li><li class="listitem"><p class="simpara">
									Check the current system status:
								</p><pre class="screen">$ rpm-ostree status</pre><p class="simpara">
									You can now see that there are 2 commits available:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											The active parent commit.
										</li><li class="listitem">
											A new commit that is not active and contains 1 added difference.
										</li></ul></div></li><li class="listitem"><p class="simpara">
									To activate the new deployment and to make the new commit active, reboot your system.
								</p><pre class="screen"># systemctl reboot</pre><p class="simpara">
									The Anaconda Installer reboots into the new deployment. On the login screen, you can see a new deployment available for you to boot.
								</p></li><li class="listitem"><p class="simpara">
									To boot into the newest commit, run the following command to automatically order the boot entries so that the new deployment is first in the list:
								</p><pre class="screen">$ rpm-ostree upgrade</pre><p class="simpara">
									Optionally, you can use the arrow key on your keyboard to select the GRUB menu entry and press <span class="guibutton">Enter</span>.
								</p></li></ol></div></li><li class="listitem">
							Provide your login user account credentials.
						</li><li class="listitem"><p class="simpara">
							Verify the OSTree status:
						</p><pre class="screen">$ rpm-ostree status</pre><p class="simpara">
							The command output provides the active commit ID.
						</p></li><li class="listitem"><p class="simpara">
							To view the changed packages, if any, run a diff between the parent commit and the new commit:
						</p><pre class="screen">$ rpm-ostree db diff <span class="emphasis"><em>parent_commit</em></span> <span class="emphasis"><em>new_commit</em></span></pre><p class="simpara">
							The update shows that the package you have installed is available and ready for use.
						</p></li></ol></div></section></section><section class="section" id="upgrading_rhel_for_edge_systems"><div class="titlepage"><div><div><h3 class="title">15.3. Upgrading RHEL for Edge systems</h3></div></div></div><section class="section" id="proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.3.1. Upgrading your RHEL 8 system to RHEL 9</h4></div></div></div><p>
					You can upgrade your RHEL 8 system to RHEL 9 by using the <code class="literal">rpm-ostree rebase</code> command. The command fully supports the default package set of RHEL for Edge upgrades from the most recent updates of RHEL 8 to the most recent updates of RHEL 9. The upgrade downloads and installs the RHEL 9 image in the background. After the upgrade finishes, you must reboot your system to use the new RHEL 9 image.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						The upgrade does not support every possible <code class="literal">rpm</code> package version and inclusions. You must test your package additions to ensure that these packages works as expected.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have a running RHEL for Edge 8 system
						</li><li class="listitem">
							You have an OSTree repository server by HTTP
						</li><li class="listitem">
							You created a blueprint for RHEL for Edge 9 image that you will upgrade
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the system where RHEL image builder runs, create a RHEL for Edge 9 image:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Start the image compose:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo composer-cli compose start <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>edge-commit</em></span></strong></span></pre><p class="simpara">
									Optionally, you can also create the new RHEL for Edge 9 image by using a pre-existing OSTree repository, by using the following command:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo composer-cli compose start-ostree --ref <span class="emphasis"><em>rhel/8/x86_64/edge</em></span> --parent <span class="emphasis"><em>parent-OSTree-REF</em></span> --url <span class="emphasis"><em>URL</em></span> <span class="emphasis"><em>blueprint-name</em></span> <span class="emphasis"><em>edge-commit</em></span></strong></span></pre></li><li class="listitem">
									After the compose finishes, download the image.
								</li><li class="listitem"><p class="simpara">
									Extract the downloaded image to <code class="literal">/var/www/html/</code> folder:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo tar -xf <span class="emphasis"><em>image_file</em></span> -C /var/www/html</strong></span></pre></li><li class="listitem"><p class="simpara">
									Start the <code class="literal">httpd</code> service:
								</p><pre class="screen">$ <span class="strong strong"><strong>systemctl start httpd.service</strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
							On the RHEL for Edge device, check the current remote repository configuration:
						</p><pre class="screen">$ <span class="strong strong"><strong>sudo cat /etc/ostree/remotes.d/edge.conf</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Depending on how your Kickstart file is configured, the <code class="literal">/etc/ostree/remotes.d</code> repository can be empty. If you configured your remote repository, you can see its configuration. For the <code class="literal">edge-installer</code>, <code class="literal">raw-image</code>, and <code class="literal">simplified-installer</code> images, the remote is configured by default.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Check the current URL repository:
						</p><pre class="screen">$ <span class="strong strong"><strong>sudo ostree remote show-url <span class="emphasis"><em><span class="replaceable replaceable">edge</span></em></span></strong></span></pre><p class="simpara">
							<span class="emphasis"><em>edge</em></span> is the of the Ostree repository.
						</p></li><li class="listitem"><p class="simpara">
							List the remote reference branches:
						</p><pre class="screen">$ <span class="strong strong"><strong>ostree remote refs <span class="emphasis"><em><span class="replaceable replaceable">edge</span></em></span></strong></span></pre><p class="simpara">
							You can see the following output:
						</p><pre class="screen">Error: Remote refs not available; server has no summary file</pre></li><li class="listitem"><p class="simpara">
							To add the new repository:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Configure the URL key to add a remote repository. For example:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo ostree remote add \ --no-gpg-verify rhel9 http://192.168.122.1/repo/</strong></span></pre></li><li class="listitem"><p class="simpara">
									Configure the URL key to point to the RHEL 9 commit for the upgrade. For example:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo cat /etc/ostree/remotes.d/<span class="emphasis"><em>edge</em></span>.conf</strong></span>

[remote "edge"]
url=http://192.168.122.1/ostree/repo/
gpg-verify=false</pre></li><li class="listitem"><p class="simpara">
									Confirm if the URL has been set to the new remote repository:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo cat /etc/ostree/remotes.d/<span class="emphasis"><em>rhel9</em></span>.conf</strong></span>

[remote "edge"]
url=http://192.168.122.1/repo/
gpg-verify=false</pre></li><li class="listitem"><p class="simpara">
									See the new URL repository:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo ostree remote show-url rhel9 http://192.168.122.1/ostree-rhel9/repo/</strong></span></pre></li><li class="listitem"><p class="simpara">
									List the current remote list options:
								</p><pre class="screen">$ <span class="strong strong"><strong>sudo ostree remote list</strong></span>

output:
edge
rhel9</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Rebase your system to the RHEL version, providing the reference path for the RHEL 9 version:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree rebase rhel9:rhel/9/x86_64/edge</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reboot your system.
						</p><pre class="screen">$ <span class="strong strong"><strong>systemctl reboot</strong></span></pre></li><li class="listitem">
							Enter your username and password.
						</li><li class="listitem"><p class="simpara">
							Check the current system status:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check the current status of the currently running deployment:
						</p><pre class="screen">$ <span class="strong strong"><strong>rpm-ostree status</strong></span></pre></li><li class="listitem"><p class="simpara">
							Optional: List the processor and tasks managed by the kernel in real-time.
						</p><pre class="screen">$ <span class="strong strong"><strong>top</strong></span></pre></li><li class="listitem"><p class="simpara">
							If the upgrade does not support your requirements, you have the option to manually rollback to the previous stable deployment RHEL 8 version:
						</p><pre class="screen">$ <span class="strong strong"><strong>sudo rpm-ostree rollback</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reboot your system. Enter your username and password:
						</p><pre class="screen">$ <span class="strong strong"><strong>systemctl reboot</strong></span></pre><p class="simpara">
							After rebooting, your system runs RHEL 9 successfully.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								If your upgrade succeeds and you do not want to use the previous deployment RHEL 8 version, you can delete the old repository:
							</p></div></rh-alert><pre class="screen">$ <span class="strong strong"><strong>sudo ostree remote delete <span class="emphasis"><em><span class="replaceable replaceable">edge</span></em></span></strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/solutions/7033165">rpm-ostree update and rebase fails with failed to find kernel error</a> (Red Hat Knowledgebase)
						</li></ul></div></section></section><section class="section" id="deploying_rhel_for_edge_automatic_image_updates"><div class="titlepage"><div><div><h3 class="title">15.4. Deploying RHEL for Edge automatic image updates</h3></div></div></div><p>
				After you install a RHEL for Edge image on an Edge device, you can check for image updates available, if any, and can auto-apply them.
			</p><p>
				The <code class="literal">rpm-ostreed-automatic.service</code> (systemd service) and <code class="literal">rpm-ostreed-automatic.timer</code> (systemd timer) control the frequency of checks and upgrades. The available updates, if any, appear as staged deployments.
			</p><p>
				Deploying automatic image updates involves the following high-level steps:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Update the image update policy
					</li><li class="listitem">
						Enable automatic download and staging of updates
					</li></ul></div><section class="section" id="updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.4.1. Updating the RHEL for Edge image update policy</h4></div></div></div><p class="_abstract _abstract">
					To update the image update policy, use the <code class="literal">AutomaticUpdatePolicy</code> and an <code class="literal">IdleExitTimeout</code> setting from the <code class="literal">rpm-ostreed.conf</code> file at <code class="literal">/etc/rpm-ostreed.conf</code> location on an Edge device.
				</p><p>
					The <code class="literal">AutomaticUpdatePolicy</code> settings controls the automatic update policy and has the following update checks options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">none</code>: Disables automatic updates. By default, the <code class="literal">AutomaticUpdatePolicy</code> setting is set to <code class="literal">none</code>.
						</li><li class="listitem">
							<code class="literal">check</code>: Downloads enough metadata to display available updates with <code class="literal">rpm-ostree</code> status.
						</li><li class="listitem">
							<code class="literal">stage</code>: Downloads and unpacks the updates that are applied on a reboot.
						</li></ul></div><p>
					The <code class="literal">IdleExitTimeout</code> setting controls the time in seconds of inactivity before the daemon exit and has the following options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							0: Disables auto-exit.
						</li><li class="listitem">
							60: By default, the <code class="literal">IdleExitTimeout</code> setting is set to <code class="literal">60</code>.
						</li></ul></div><p>
					To enable automatic updates, perform the following steps:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">/etc/rpm-ostreed.conf</code> file, update the following:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Change the value of <code class="literal">AutomaticUpdatePolicy</code> to <code class="literal">check</code>.
								</li><li class="listitem">
									To run the update checks, specify a value in seconds for <code class="literal">IdleExitTimeout</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Reload the <code class="literal">rpm-ostreed</code> service and enable the <code class="literal">systemd</code> timer.
						</p><pre class="screen"># systemctl reload rpm-ostreed
# systemctl enable rpm-ostreed-automatic.timer --now</pre></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal">rpm-ostree</code> status to ensure the automatic update policy is configured and time is active.
						</p><pre class="screen"># rpm-ostree status</pre><p class="simpara">
							The command output shows the following:
						</p><pre class="screen">State: idle; auto updates enabled (check; last run &lt;minutes&gt; ago)</pre><p class="simpara">
							Additionally, the output also displays information about the available updates.
						</p></li></ol></div></section><section class="section" id="enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.4.2. Enabling RHEL for Edge automatic download and staging of updates</h4></div></div></div><p class="_abstract _abstract">
					After you update the image update policy to check for image updates, the updates if any are displayed along with the update details. If you decide to apply the updates, enable the policy to automatically download and stage the updates. The available image updates are then downloaded and staged for deployment. The updates are applied and take effect when you reboot the Edge device.
				</p><p>
					To enable the policy for automatic download and staging of updates, perform the following updates:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <code class="literal">/etc/rpm-ostreed.conf</code> file, update "AutomaticUpdatePolicy" to <code class="literal">stage</code>.
						</li><li class="listitem"><p class="simpara">
							Reload the <code class="literal">rpm-ostreed</code> service.
						</p><pre class="screen"># systemctl enable rpm-ostreed-automatic.timer --now</pre></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal">rpm-ostree</code> status
						</p><pre class="screen"># rpm-ostree status</pre><p class="simpara">
							The command output shows the following:
						</p><pre class="screen">State: idle
AutomaticUpdates: stage; rpm-ostreed-automatic.timer: last run &lt;time&gt; ago</pre></li><li class="listitem"><p class="simpara">
							To initiate the updates, you can either wait for the timer to initiate the updates, or can manually start the service.
						</p><pre class="screen"># systemctl start rpm-ostreed-automatic.service</pre><p class="simpara">
							After the updates are initiated, the <code class="literal">rpm-ostree</code> status shows the following:
						</p><pre class="screen"># rpm-ostree status
State: busy
AutomaticUpdates: stage; rpm-ostreed-automatic.service: running
Transaction: automatic (stage)</pre><p class="simpara">
							When the update is complete, a new deployment is staged in the list of deployments, and the original booted deployment is left untouched. You can decide if you want to boot the system using the new deployment or can wait for the next update.
						</p><p class="simpara">
							To view the list of deployments, run the <code class="literal command">rpm-ostree status</code> command.
						</p><p class="simpara">
							Following is a sample output.
						</p><pre class="screen"># rpm-ostree status
State: idle
AutomaticUpdates: stage; rpm-ostreed-automatic.timer: last run &lt;time&gt; ago
Deployments:</pre><p class="simpara">
							To view the list of deployments with the updated package details, run the <code class="literal command">rpm-ostree status -v</code> command.
						</p></li></ol></div></section></section><section class="section" id="rolling_back_rhel_for_edge_images"><div class="titlepage"><div><div><h3 class="title">15.5. Rolling back RHEL for Edge images</h3></div></div></div><p>
				Because RHEL for Edge applies transactional updates to the operating system, you can either manually or automatically roll back the unsuccessful updates to the last known good state, which prevents system failure during updates. You can automate the verification and rollback process by using the <code class="literal">greenboot</code> framework.
			</p><p>
				The <code class="literal">greenboot</code> health check framework leverages <code class="literal">rpm-ostree</code> to run custom health checks on system startup. In case of an issue, the system rolls back to the last working state. When you deploy a <code class="literal">rpm-ostree</code> update, it runs scripts to check that critical services can still work after the update. If the system does not work, for example, due to some failed package, you can roll back the system to a previous stable version of the system. This process ensures that your RHEL for Edge device is in an operational state.
			</p><p>
				After you update an image, it creates a new image deployment while preserving the previous image deployment. You can verify whether the update was successful. If the update is unsuccessful, for example, due to a failed package, you can roll back the system to a previous stable version.
			</p><section class="section" id="introducing-the-greenboot-checks_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.5.1. Introducing the greenboot checks</h4></div></div></div><p>
					<code class="literal">Greenboot</code> is a Generic Health Check Framework for <code class="literal">systemd</code> available on <code class="literal">rpm-ostree</code> based systems. It contains the following RPM packages that you can install on your system:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<code class="literal">greenboot</code> - a package that contains the following functionalities:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Checking provided scripts
								</li><li class="listitem">
									Reboot the system if the check fails
								</li><li class="listitem">
									Rollback to a previous deployment the reboot did not solve the issue.
								</li></ul></div></li><li class="listitem">
							<code class="literal">greenboot-default-health-checks</code> - a set of optional and selected health checks provided by your <code class="literal">greenboot</code> system maintainers.
						</li></ul></div><p>
					<code class="literal">Greenboot</code> works in a RHEL for Edge system by using health check scripts that run on the system to assess the system health and automate a rollback to the last healthy state in case of some software fails. These health checks scripts are available in the <code class="literal">/etc/greenboot/check/required.d</code> directory. <code class="literal">Greenboot</code> supports shell scripts for the health checks. Having a health check framework is especially useful when you need to check for software problems and perform system rollbacks on edge devices where direct serviceability is either limited or non-existent. When you install and configure health check scripts, it triggers the health checks to run every time the system starts.
				</p><p>
					You can create your own health check scripts to assess the health of your workloads and applications. These additional health check scripts are useful components of software problem checks and automatic system rollbacks.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						You cannot use rollback in case of any health check failure on a system that is not using OSTree.
					</p></div></rh-alert></section><section class="section" id="how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.5.2. RHEL for Edge images roll back with greenboot</h4></div></div></div><p class="_abstract _abstract">
					With RHEL for Edge images, only transactional updates are applied to the operating system. The transactional updates are atomic, which means that the updates are applied only if all the updates are successful, and there is support for rollbacks. With the transactional updates, you can easily rollback the unsuccessful updates to the last known good state, preventing system failure during updates.
				</p><p>
					Performing health checks is especially useful when you need to check for software problems and perform system rollbacks on edge devices where direct serviceability is limited or non-existent.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						You cannot use rollback in case of an update failure on a system that is not using OSTree, even if health checks might run.
					</p></div></rh-alert><p>
					You can use intelligent rollbacks with the <code class="literal">greenboot</code> health check framework to automatically assess system health every time the system starts. You can obtain pre-configured health from the <code class="literal">greenboot-default-health-checks</code> subpackage. These checks are located in the <code class="literal">/usr/lib/greenboot/check</code> read-only directory in <code class="literal">rpm-ostree</code> systems.
				</p><p>
					<code class="literal">Greenboot</code> leverages <code class="literal">rpm-ostree</code> and runs custom health checks that run on system startup. In case of an issue, the system rolls back the changes and preserves the last working state. When you deploy an <code class="literal">rpm-ostree</code> update, it runs scripts to check that critical services can still work after the update. If the system does not work, the update rolls back to the last known working version of the system. This process ensures that your RHEL for Edge device is in an operational state.
				</p><p>
					You can obtain pre-configured health from the <code class="literal">greenboot-default-health-checks`subpackage. These checks are located in the `/usr/lib/greenboot/check</code> read-only directory in <code class="literal">rpm-ostree</code> systems. You can also configure shell scripts as the following types of checks:
				</p><div class="example" id="idm140247632524720"><p class="title"><strong>Example 15.1. The greenboot directory structure</strong></p><div class="example-contents"><pre class="literallayout">etc
└─ greenboot
   ├─ check
   |   └─ required.d
   |   └─ <span class="emphasis"><em>init</em></span>.py
   └─ green.d
   └─ red.d</pre></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Required</span></dt><dd>
								Contains the health checks that must not fail. Place required shell scripts in the <code class="literal">/etc/greenboot/check/required.d</code> directory. If the scripts fail, greenboot retries them three times by default. You can configure the number of retries in the <code class="literal">/etc/greenboot/greenboot.conf</code> file by setting the <code class="literal">GREENBOOT_MAX_BOOTS</code> parameter to the number of retries you want.
							</dd></dl></div><p>
					After all retries fail, <code class="literal">greenboot</code> automatically initiates a rollback if one is available. If a rollback is not available, the system log output shows that you need to perform a manual intervention.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Wanted</span></dt><dd>
								Contains the health checks that might fail without causing the system to roll back. Place wanted shell scripts in the <code class="literal">/etc/greenboot/check/wanted.d</code> directory. <code class="literal">Greenboot</code> informs that the script fails, the system health status remains unaffected and it does not perform a rollback neither a reboot.
							</dd></dl></div><p>
					You can also specify shell scripts that will run after a check:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Green</span></dt><dd>
								Contains the scripts to run after a successful boot. Place these scripts into the <code class="literal">/etc/greenboot/green.d`directory</code>. <code class="literal">Greenboot</code> informs that the boot was successful.
							</dd><dt><span class="term">Red</span></dt><dd>
								Contains the scripts to run after a failed boot. Place these scripts into the <code class="literal">/etc/greenboot/red.d</code> directory. The system attempts to boot three times and in case of failure, it executes the scripts. <code class="literal">Greenboot</code> informs that the boot failed.
							</dd></dl></div><p>
					The following diagram illustrates the RHEL for Edge image roll back process.
				</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/fc6f14d57259a680af9bb97d41772c62/edge-image-restore.png" alt="Image restoration process"></div></div><p>
					After booting the updated operating system, <code class="literal">greenboot</code> runs the scripts in the <code class="literal">required.d</code> and <code class="literal">wanted.d</code> directories. If any of the scripts fail in the <code class="literal">required.d</code> directory, <code class="literal">greenboot</code> runs any scripts in the <code class="literal">red.d</code> directory, and then reboots the system.
				</p><p>
					<code class="literal">Greenboot</code> makes 2 more attempts to boot on the upgraded system. If during the third boot attempt the scripts in <span class="strong strong"><strong>required.d</strong></span> are still failing, <code class="literal">greenboot</code> runs the <span class="strong strong"><strong>red.d</strong></span> scripts one last time, to ensure that the script in the <span class="strong strong"><strong>red.d</strong></span> directory tried to make a corrective action to fix the issue and this was not successful. Then, <code class="literal">greenboot</code> rollbacks the system from the current <code class="literal">rpm-ostree</code> deployment to the previous stable deployment.
				</p></section><section class="section" id="greenboot-health-check-status_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.5.3. Greenboot health check status</h4></div></div></div><p class="_abstract _abstract">
					When deploying your updated system, wait until the greenboot health checks have finished before making the changes to ensure that those changes are not lost if greenboot rolls the system back to an earlier state. If you want to make configuration changes or deploy applications you must wait until the greenboot health checks have finished. This ensures that your changes are not lost if greenboot rolls your <code class="literal">rpm-ostree</code> system back to an earlier state.
				</p><p>
					The <code class="literal">greenboot-healthcheck</code> service runs once and then exits. You can check the status of the service to know if it is done, and to know the outcome, by using the following commands:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">systemctl is-active greenboot-healthcheck.service</code></span></dt><dd>
								This command reports <code class="literal">active</code> when the service has exited. If it the service did not even run it shows <code class="literal">inactive</code>.
							</dd><dt><span class="term"><code class="literal">systemctl show --property=SubState --value greenboot-healthcheck.service</code></span></dt><dd>
								Reports <code class="literal">exited</code> when done, <code class="literal">running</code> while still running.
							</dd><dt><span class="term"><code class="literal">systemctl show --property=Result --value greenboot-healthcheck.service</code></span></dt><dd>
								Reports <code class="literal">success</code> when the checks passed.
							</dd><dt><span class="term"><code class="literal">systemctl show --property=ExecMainStatus --value greenboot-healthcheck.service</code></span></dt><dd>
								Reports the numerical exit code of the service, 0 means success and nonzero values mean a failure occurred.
							</dd><dt><span class="term"><code class="literal">cat /run/motd.d/boot-status</code></span></dt><dd>
								Shows a message, such as "Boot Status is GREEN - Health Check SUCCESS".
							</dd></dl></div></section><section class="section" id="checking-greenboot-health-checks-statuses_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.5.4. Checking greenboot health checks statuses</h4></div></div></div><p class="_abstract _abstract">
					Check the status of greenboot health checks before making changes to the system or during troubleshooting. You can use any of the following commands to help you ensure that greenboot scripts have finished running.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Use one of the following options to check the statuses:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									To see a report of health check status, enter:
								</p><pre class="programlisting language-terminal">$ systemctl show --property=SubState --value greenboot-healthcheck.service</pre><p class="simpara">
									The following outputs are possible:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											<code class="literal">start</code> means that greenboot checks are still running.
										</li><li class="listitem">
											<code class="literal">exited</code> means that checks have passed and greenboot has exited. Greenboot runs the scripts in the <code class="literal">green.d</code> directory when the system is in a healthy state.
										</li><li class="listitem">
											<code class="literal">failed</code> means that checks have not passed. Greenboot runs the scripts in <code class="literal">red.d</code> directory when the system is in this state and might restart the system.
										</li></ul></div></li><li class="listitem"><p class="simpara">
									To see a report showing the numerical exit code of the service, where <code class="literal">0</code> means success and nonzero values mean a failure occurred, use the following command:
								</p><pre class="programlisting language-terminal">$ systemctl show --property=ExecMainStatus --value greenboot-healthcheck.service</pre></li><li class="listitem"><p class="simpara">
									To see a report showing a message about boot status, such as <code class="literal">Boot Status is GREEN - Health Check SUCCESS</code>, enter:
								</p><pre class="programlisting language-terminal">$ cat /run/motd.d/boot-status</pre></li></ul></div></li></ul></div></section><section class="section" id="restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.5.5. Manually rolling back RHEL for Edge images</h4></div></div></div><p class="_abstract _abstract">
					When you upgrade your operating system, a new deployment is created, and the <code class="literal">rpm-ostree</code> package also keeps the previous deployment. If there are issues on the updated version of the operating system, you can manually roll back to the previous deployment with a single <code class="literal">rpm-ostree</code> command, or by selecting the previous deployment in the GRUB boot loader.
				</p><p>
					To manually roll back to a previous version, perform the following steps.
				</p><div class="orderedlist"><p class="title"><strong>Prerequisite</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							You updated your system and it failed.
						</li></ol></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optional: Check for the fail error message:
						</p><pre class="screen">$ journalctl -u greenboot-healthcheck.service.</pre></li><li class="listitem"><p class="simpara">
							Run the <code class="literal">rollback</code> command:
						</p><pre class="screen"># rpm-ostree rollback</pre><p class="simpara">
							The command output provides details about the commit ID that is being moved and indicates a completed transaction with the details of the package being removed.
						</p></li><li class="listitem"><p class="simpara">
							Reboot the system.
						</p><pre class="screen"># systemctl reboot</pre><p class="simpara">
							The command activates the previous commit with the stable content. The changes are applied and the previous version is restored.
						</p></li></ol></div></section><section class="section" id="restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images"><div class="titlepage"><div><div><h4 class="title">15.5.6. Rolling back RHEL for Edge images using an automated process</h4></div></div></div><p class="_abstract _abstract">
					<code class="literal">Greenboot</code> checks provides a framework that is integrated into the boot process and can trigger <code class="literal">rpm-ostree</code> rollbacks when a health check fails. For the health checks, you can create a custom script that indicates whether a health check passed or failed. Based on the result, you can decide when a rollback should be triggered. The following procedure shows how to create an health check script example:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a script that returns a standard exit code <code class="literal">0</code>.
						</p><p class="simpara">
							For example, the following script ensures that the configured DNS server is available:
						</p><div class="informalexample"><pre class="screen">#!/bin/bash

DNS_SERVER=$(grep ^nameserver /etc/resolv.conf | head -n 1 | cut -f2 -d" ")
COUNT=0
# check DNS server is available
ping -c1 $DNS_SERVER
while [ $? != '0' ] &amp;&amp; [ $COUNT -lt 10 ]; do
((COUNT++))
echo "Checking for DNS: Attempt $COUNT ."
sleep 10
ping -c 1 $DNS_SERVER
done</pre></div></li><li class="listitem"><p class="simpara">
							Include an executable file for the health checks at <code class="literal">/etc/greenboot/check/required.d/</code>.
						</p><pre class="screen">chmod +x check-dns.sh</pre><p class="simpara">
							During the next reboot, the script is executed as part of the boot process, before the system enters the <code class="literal">boot-complete.target</code> unit. If the health checks are successful, no action is taken. If the health checks fail, the system will reboot several times, before marking the update as failed and rolling back to the previous update.
						</p></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
						To check if the default gateway is reachable, run the following health check script:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a script that returns a standard exit code <code class="literal">0</code>.
						</p><div class="informalexample"><pre class="screen">#!/bin/bash

DEF_GW=$(ip r | awk '/^default/ {print $3}')
SCRIPT=$(basename $0)

count=10
connected=0
ping_timeout=5
interval=5

while [ $count -gt 0 -a $connected -eq 0 ]; do
  echo "$SCRIPT: Pinging default gateway $DEF_GW"
  ping -c 1 -q -W $ping_timeout $DEF_GW &gt; /dev/null 2&gt;&amp;1 &amp;&amp; connected=1 || sleep $interval
  ((--count))
done

if [ $connected -eq 1 ]; then
  echo "$SCRIPT: Default gateway $DEF_GW is reachable."
  exit 0
else
  echo "$SCRIPT: Failed to ping default gateway $DEF_GW!" 1&gt;&amp;2
  exit 1
fi</pre></div></li><li class="listitem"><p class="simpara">
							Include an executable file for the health checks at <code class="literal">/etc/greenboot/check/required.d/</code> directory.
						</p><div class="informalexample"><pre class="screen">chmod +x check-gw.sh</pre></div></li></ol></div></section></section></section><section class="chapter" id="creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Chapter 16. Creating and managing OSTree image updates</h2></div></div></div><p>
			You can easily create and manage OStree image updates for your RHEL for Edge systems and make them immediately available to RHEL for Edge devices. With OSTree, you can use image builder to create RHEL for Edge Commit or RHEL for Edge Container images as <code class="literal">.tar</code> files that contain OSTree commits. The OSTree update versioning system works as a “Git repository” that stores and versions the OSTree commits. The <code class="literal">rpm-ostree</code> image and package system then assembles the commits on the client device. When you create a new image with RHEL image builder to perform an update, RHEL image builder pulls updates from these repositories.
		</p><section class="section" id="basic-concepts-for-ostree-mirrors_creating-and-managing-ostree-image-updates"><div class="titlepage"><div><div><h3 class="title">16.1. Basic concepts for OSTree</h3></div></div></div><p>
				Basic terms that OSTree and <code class="literal">rpm-ostree</code> use during image updates.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">rpm-ostree</code></span></dt><dd>
							The technology on the edge device that handles how the OSTree commits are assembled on the device. It works as a hybrid between an image and a package system. With the <code class="literal">rpm-ostree</code> technology, you can make atomic upgrades and rollbacks to your system.
						</dd><dt><span class="term">OSTree</span></dt><dd>
							OSTree is a technology that enables you to create commits and download bootable file system trees. You can also use it to deploy the trees and manage the bootloader configuration.
						</dd><dt><span class="term">Commit</span></dt><dd>
							An OSTree commit contains a full operating system that is not directly bootable. To boot the system, you must deploy it, for example, with a RHEL Installable image.
						</dd><dt><span class="term">Reference</span></dt><dd><p class="simpara">
							It is also known as <code class="literal">ref</code>. An OSTree ref is similar to a Git branch and it is a name. The following reference names examples are valid:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">rhel/9/x86_64/edge</code>
								</li><li class="listitem">
									<code class="literal">ref-name</code>
								</li><li class="listitem">
									<code class="literal">app/org.gnome.Calculator/x86_64/stable</code>
								</li><li class="listitem">
									<code class="literal">ref-name-2</code>
								</li></ul></div></dd></dl></div><p>
				By default, image builder specifies <code class="literal">rhel/9/$ARCH/edge</code> as a path. The "$ARCH" value is determined by the host machine.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Parent</span></dt><dd>
							The <code class="literal">parent</code> argument is an OSTree commit that you can provide to build a new commit with image builder. You can use the <code class="literal">parent</code> argument to specify an existing <code class="literal">ref</code> that retrieves a parent commit for the new commit that you are building. You must specify the parent commit as a ref value to be resolved and pulled, for example <code class="literal">rhel/9/x86_64/edge</code>. You can use the <code class="literal">--parent</code> commit for the RHEL for Edge Commit (<code class="literal">.tar</code>) and RHEL for Edge Container (<code class="literal">.tar</code>) image types.
						</dd><dt><span class="term">Remote</span></dt><dd>
							The http or https endpoint that hosts the OSTree content. This is analogous to the baseurl for a yum repository.
						</dd><dt><span class="term">Static delta</span></dt><dd>
							Static deltas are a collection of updates generated between two OSTree commits. This enables the system client to fetch a smaller amount of files, which are larger in size. The static deltas updates are more network efficient because, when updating an ostree-based host, the system client will only fetch the objects from the new OSTree commit which do not exist on the system. Typically, the new OSTree commit contains many small files, which requires multiple TCP connections.
						</dd><dt><span class="term">Summary</span></dt><dd>
							The summary file is a concise way of enumerating refs, checksums, and available static deltas in an OSTree repo. You can check the state of all the refs and static deltas available in an Ostree repo. However, you must generate the summary file every time a new ref, commit, or static-delta is added to the OSTree repo.
						</dd></dl></div></section><section class="section" id="creating-ostree-repositories_creating-and-managing-ostree-image-updates"><div class="titlepage"><div><div><h3 class="title">16.2. Creating OSTree repositories</h3></div></div></div><p>
				You can create OSTree repos with RHEL image builder by using either <code class="literal">RHEL for Edge Commit (.tar)</code> or <code class="literal">RHEL for Edge Container (.tar)</code> image types. These image types contain an OSTree repo that contains a single OSTree commit.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You can extract the <code class="literal">RHEL for Edge Commit (.tar)</code> on a web server and it is ready to be served.
					</li><li class="listitem">
						You must import the <code class="literal">RHEL for Edge Container (.tar)</code> to a local container image storage or push the image to a container registry. After you start the container, it serves the commit over an integrated <code class="literal">nginx</code> web server.
					</li></ul></div><p>
				Use the <code class="literal">RHEL for Edge Container (.tar)</code> on a RHEL server with Podman to create an OSTree repo:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisite</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You created a <code class="literal">RHEL for Edge Container (.tar)</code> image.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Download the container image from image builder:
					</p><pre class="screen">$ <span class="strong strong"><strong>composer-cli compose image _&lt;UUID&gt;</strong></span></pre></li><li class="listitem"><p class="simpara">
						Import the container into Podman:
					</p><pre class="screen">$ <span class="strong strong"><strong>skopeo copy oci-archive:_&lt;UUID&gt;_-container.tar containers-storage:localhost/ostree</strong></span></pre></li><li class="listitem"><p class="simpara">
						Start the container and make it available by using the port <code class="literal">8080</code>:
					</p><pre class="screen">$ <span class="strong strong"><strong>podman run -rm -p 8080:8080 ostree</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Check that the container is running:
					</p><pre class="screen">$ <span class="strong strong"><strong>podman ps -a</strong></span></pre></li></ul></div></section><section class="section" id="managing-a-centralized-ostree-mirror_creating-and-managing-ostree-image-updates"><div class="titlepage"><div><div><h3 class="title">16.3. Managing a centralized OSTree mirror</h3></div></div></div><p>
				For production environments, having a central OSTree mirror that serves all the commits has several advantages, including:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Deduplicating and minimizing disk storage
					</li><li class="listitem">
						Optimizing the updates to clients by using static delta updates
					</li><li class="listitem">
						Pointing to a single OSTree mirror for their deployment life.
					</li></ul></div><p>
				To manage a centralized OSTree mirror, you must pull each commit from image builder into the centralized repository where it will be available to your users.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You can also automate managing an OSTree mirror by using the <code class="literal">infra.osbuild</code> Ansible collection. See <a class="link" href="https://www.ansible.com/blog/ansible-validated-content-introduction-to-infra.osbuild-collection">osbuild.infra Ansible</a>.
				</p></div></rh-alert><p>
				To create a centralized repository you can run the following commands directly on a web server:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create an empty blueprint, customizing it to use "rhel-92" as the distro:
					</p><pre class="screen">name = "minimal-rhel92"
description = "minimal blueprint for ostree commit"
version = "1.0.0"
modules = []
groups = []
distro = "rhel-92"</pre></li><li class="listitem"><p class="simpara">
						Push the blueprint to the server:
					</p><pre class="screen"># <span class="strong strong"><strong>composer-cli blueprints push minimal-rhel92.toml</strong></span></pre></li><li class="listitem"><p class="simpara">
						Build a RHEL for Edge Commit (<code class="literal">.tar</code>) image from the blueprint you created:
					</p><pre class="screen"># <span class="strong strong"><strong>composer-cli compose start-ostree minimal-rhel92 edge-commit</strong></span></pre></li><li class="listitem"><p class="simpara">
						Retrieve the <code class="literal">.tar ﬁle</code> and decompress it to the disk:
					</p><pre class="screen"># <span class="strong strong"><strong>composer-cli compose image _&lt;rhel-92-uuid&gt;</strong></span>
$ <span class="strong strong"><strong>tar -xf &lt;rhel-92-uuid&gt;.tar -C /usr/share/nginx/html/</strong></span></pre><p class="simpara">
						The <code class="literal">/usr/share/nginx/html/repo</code> location on disk will become the single OSTree repo for all refs and commits.
					</p></li><li class="listitem"><p class="simpara">
						Create another empty blueprint, customizing it to use "rhel-87" as the distro:
					</p><pre class="screen">name = "minimal-rhel87"
description = "minimal blueprint for ostree commit"
version = "1.0.0"
modules = []
groups = []
distro = "rhel-87"</pre></li><li class="listitem"><p class="simpara">
						Push the blueprint and create another RHEL for Edge Commit (<code class="literal">.tar</code>) image:
					</p><pre class="screen"># <span class="strong strong"><strong>composer-cli blueprints push minimal-rhel87.toml</strong></span>
# <span class="strong strong"><strong>composer-cli compose start-ostree minimal-rhel87 edge-commit</strong></span></pre></li><li class="listitem"><p class="simpara">
						Retrieve the <code class="literal">.tar ﬁle</code> and decompress it to the disk:
					</p><pre class="screen"># <span class="strong strong"><strong>composer-cli compose image &lt;rhel-87-uuid&gt;</strong></span>
$ <span class="strong strong"><strong>tar -xf &lt;rhel-87-uuid&gt;.tar</strong></span></pre></li><li class="listitem"><p class="simpara">
						Pull the commit to the local repo. By using <code class="literal">ostree pull-local</code>, you can copy the commit data from one local repo to another local repo.
					</p><pre class="screen"># <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo pull-local repo</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional: Inspect the status of the OSTree repo. The following is an output example:
					</p><pre class="screen">$ <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo refs</strong></span>

rhel/8/x86_64/edge
rhel/9/x86_64/edge

$ ostree --repo=/usr/share/nginx/html/repo show rhel/8/x86_64/edge
commit f7d4d95465fbd875f6358141f39d0c573df6a321627bafde68c73850667e5443
ContentChecksum:  41bf2f8b442a770e9bf03e096a46a286f5836e0a0702b7c3516ef4e0acec2dea
Date:  2023-09-15 16:17:04 +0000
Version: 8.7
(no subject)

$ ostree --repo=/usr/share/nginx/html/repo show rhel/9/x86_64/edge
commit 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9
ContentChecksum:  70235bfb9cae82c53f856183750e809becf0b9b076122b19c40fec92fc6d74c1
Date:  2023-09-15 15:30:24 +0000
Version: 9.2
(no subject)</pre></li><li class="listitem"><p class="simpara">
						Update the RHEL 9.2 blueprint to include a new package and build a new commit, for example:
					</p><pre class="screen">name = "minimal-rhel92"
description = "minimal blueprint for ostree commit"
version = "1.1.0"
modules = []
groups = []
distro = "rhel-92"

[[packages]]
name = "strace"
version = "*"</pre></li><li class="listitem"><p class="simpara">
						Push the updated blueprint and create a new RHEL for Edge Commit (<code class="literal">.tar</code>) image, pointing the compose to the existing OSTree repo:
					</p><pre class="screen"># <span class="strong strong"><strong>composer-cli blueprints push minimal-rhel92.toml</strong></span>
# <span class="strong strong"><strong>composer-cli compose start-ostree minimal-rhel92 edge-commit --url http://localhost/repo --ref rhel/9/x86_64/edge</strong></span></pre></li><li class="listitem"><p class="simpara">
						Retrieve the <code class="literal">.tar</code> ﬁle and decompress it to the disk:
					</p><pre class="screen"># <span class="strong strong"><strong>rm -rf repo</strong></span>
# <span class="strong strong"><strong>composer-cli compose image &lt;rhel-92-uuid&gt;</strong></span>
# <span class="strong strong"><strong>tar -xf &lt;rhel-92-uuid&gt;.tar</strong></span></pre></li><li class="listitem"><p class="simpara">
						Pull the commit to repo:
					</p><pre class="screen"># <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo pull-local repo</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional: Inspect the OSTree repo status again:
					</p><pre class="screen">$ <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo refs</strong></span>
rhel/8/x86_64/edge
rhel/9/x86_64/edge

$ <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo show rhel/8/x86_64/edge</strong></span>
commit f7d4d95465fbd875f6358141f39d0c573df6a321627bafde68c73850667e5443
ContentChecksum:  41bf2f8b442a770e9bf03e096a46a286f5836e0a0702b7c3516ef4e0acec2dea
Date:  2023-09-15 16:17:04 +0000
Version: 8.7
(no subject)

$ <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo show rhel/9/x86_64/edge</strong></span>
commit a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9
Parent:  89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9
ContentChecksum:  2335930df6551bf7808e49f8b35c45e3aa2a11a6c84d988623fd3f36df42a1f1
Date:  2023-09-15 18:21:31 +0000
Version: 9.2
(no subject)

$ <span class="strong strong"><strong>ostree --repo=/usr/share/nginx/html/repo log rhel/9/x86_64/edge</strong></span>
commit a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9
Parent:  89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9
ContentChecksum:  2335930df6551bf7808e49f8b35c45e3aa2a11a6c84d988623fd3f36df42a1f1
Date:  2023-09-15 18:21:31 +0000
Version: 9.2
(no subject)

commit 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9
ContentChecksum:  70235bfb9cae82c53f856183750e809becf0b9b076122b19c40fec92fc6d74c1
Date:  2023-09-15 15:30:24 +0000
Version: 9.2
(no subject)

$ <span class="strong strong"><strong>rpm-ostree db diff --repo=/usr/share/nginx/html/repo 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9</strong></span> a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9
ostree diff commit from: 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9
ostree diff commit to:   a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9
Added:
  elfutils-default-yama-scope-0.188-3.el9.noarch
  elfutils-libs-0.188-3.el9.x86_64
  strace-5.18-2.el9.x86_64</pre></li></ol></div></section></section><section class="appendix" id="edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images"><div class="titlepage"><div><div><h2 class="title">Appendix A. Terminology and commands</h2></div></div></div><p class="_abstract _abstract">
			Learn more about the <code class="literal">rpm ostree</code> terminology and commands.
		</p><section class="section" id="edge-rpmostree-terminology_edge-terminology-and-commands"><div class="titlepage"><div><div><h3 class="title">A.1. OSTree and <code class="literal">rpm-ostree</code> terminology</h3></div></div></div><p class="_abstract _abstract">
				Following are some helpful terms that are used in context to OSTree and <code class="literal">rpm-ostree</code> images.
			</p><rh-table id="idm140247635585088"><table class="lt-4-cols lt-7-rows"><caption>Table A.1. OSTree and rpm-ostree terminology</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140247635579776" scope="col">Term</th><th align="left" valign="top" id="idm140247635578688" scope="col">Definition</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">OSTree</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								A tool used for managing Linux-based operating system versions. The OSTree tree view is similar to Git and is based on similar concepts.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">rpm-ostree</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								A hybrid image or system package that hosts operating system updates.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">Commit</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								A release or image version of the operating system. RHEL image builder generates an OSTree commit for RHEL for Edge images. You can use these images to install or update RHEL on Edge servers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">Refs</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								Represents a branch in OSTree. Refs always resolve to the latest commit. For example, <code class="literal">rhel/9/x86_64/edge</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">Revision (Rev)</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								SHA-256 for a specific commit.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">Remote</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								The http or https endpoint that hosts the OSTree content. This is analogous to the baseurl for a dnf repository.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635579776"> <p>
								<code class="literal">static-delta</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635578688"> <p>
								Updates to OSTree images are always delta updates. In case of RHEL for Edge images, the TCP overhead can be higher than expected due to the updates to number of files. To avoid TCP overhead, you can generate static-delta between specific commits, and send the update in a single connection. This optimization helps large deployments with constrained connectivity.
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="edge-ostree-commands_edge-terminology-and-commands"><div class="titlepage"><div><div><h3 class="title">A.2. OSTree commands</h3></div></div></div><p class="_abstract _abstract">
				The following table provides a few OSTree commands that you can use when installing or managing OSTree images.
			</p><rh-table id="idm140247631185536"><table class="lt-4-cols lt-7-rows"><caption>Table A.2. ostree commands</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><tbody><tr><td align="left" valign="top"> <p>
								ostree pull
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree pull-local --repo [path] src</code>
							</p>
							 <p>
								<code class="literal command">ostree pull-local &lt;path&gt; &lt;rev&gt; --repo=&lt;repo-path&gt;</code>
							</p>
							 <p>
								<code class="literal command">ostree pull &lt;URL&gt; &lt;rev&gt; --repo=&lt;repo-path&gt;</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								ostree summary
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree summary -u --repo=&lt;repo-path&gt;</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								View refs
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree refs --repo ~/Code/src/osbuild-iot/build/repo/ --list</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								View commits in repo
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree log --repo=/home/gicmo/Code/src/osbuild-iot/build/repo/ &lt;REV&gt;</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Inspect a commit
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree show --repo build/repo &lt;REV&gt;</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								List remotes of a repo
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree remote list --repo &lt;repo-path&gt;</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Resolve a REV
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree rev-parse --repo ~/Code/src/osbuild-iot/build/repo fedora/x86_64/osbuild-demo</code>
							</p>
							 <p>
								<code class="literal command">ostree rev-parse --repo ~/Code/src/osbuild-iot/build/repo b3a008eceeddd0cfd</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Create static-delta
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree static-delta generate --repo=[path] --from=REV --to=REV</code>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Sign an <code class="literal">existing</code> ostree commit with a GPG key
							</p>
							 </td><td align="left" valign="top"> <p>
								<code class="literal command">ostree gpg-sign --repo=&lt;repo-path&gt; --gpg-homedir &lt;gpg_home&gt; COMMIT KEY-ID…</code>
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="rpm-ostree-commands_edge-terminology-and-commands"><div class="titlepage"><div><div><h3 class="title">A.3. <code class="literal">rpm-ostree</code> commands</h3></div></div></div><p class="_abstract _abstract">
				The following table provides a few <code class="literal commands">rpm-ostree</code> commands that you can use when installing or managing OSTree images.
			</p><rh-table id="idm140247632587808"><table class="lt-4-cols lt-7-rows"><caption>Table A.3. rpm-ostree commands</caption><colgroup><col style="width: 35%; " class="col_1"><!--Empty--><col style="width: 65%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140247635996160" scope="col">Commands</th><th align="left" valign="top" id="idm140247635995072" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140247635996160"> <p>
								<code class="literal command">rpm-ostree --repo=/home/gicmo/Code/src/osbuild-iot/build/repo/ db list &lt;REV&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635995072"> <p>
								This command lists the packages existing in the &lt;REV&gt; commit into the repository.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635996160"> <p>
								<code class="literal command">rpm-ostree rollback</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635995072"> <p>
								OSTree manages an ordered list of boot loader entries, called <code class="literal">deployments</code>. The entry at index 0 is the default boot loader entry. Each entry has a separate <code class="literal">/etc</code> directory, but all the entries share a single <code class="literal">/var</code> directory. You can use the boot loader to choose between entries by pressing Tab to interrupt startup. This rolls back to the previous state, that is, the default deployment changes places with the non-default one.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635996160"> <p>
								<code class="literal command">rpm-ostree status</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635995072"> <p>
								This command gives information about the current deployment in use. Lists the names and <code class="literal">refspecs</code> of all possible deployments in order, such that the first deployment in the list is the default upon boot. The deployment marked with * is the current booted deployment, and marking with 'r' indicates the most recent upgrade.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635996160"> <p>
								<code class="literal command">rpm-ostree db list</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635995072"> <p>
								Use this command to see which packages are within the commit or commits. You must specify at least one commit, but more than one or a range of commits also work.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635996160"> <p>
								<code class="literal command">rpm-ostree db diff</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635995072"> <p>
								Use this command to show how the packages are different between the trees in two revs (revisions). If no revs are provided, the booted commit is compared to the pending commit. If only a single rev is provided, the booted commit is compared to that rev.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635996160"> <p>
								<code class="literal command">rpm-ostree upgrade</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247635995072"> <p>
								This command downloads the latest version of the current tree, and deploys it, setting up the current tree as the default for the next boot. This has no effect on your running filesystem tree. You must reboot for any changes to take effect.
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">rpm-ostree</code> man page on your system
					</li></ul></div></section><section class="section" id="ref_fdo-terminology_edge-terminology-and-commands"><div class="titlepage"><div><div><h3 class="title">A.4. FDO automatic onboarding terminology</h3></div></div></div><p class="_abstract _abstract">
				Learn more about the FDO terminology.
			</p><rh-table id="idm140247635957952"><table class="lt-4-cols lt-7-rows"><caption>Table A.4. FDO terminology</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140247635408000" scope="col">Commands</th><th align="left" valign="top" id="idm140247635406912" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								FDO
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								FIDO Device Onboarding.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Device
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Any hardware, device, or computer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Owner
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								The final owner of the device - a company or an IT department.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Manufacturer
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								The device manufacturer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Manufacturer server
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Creates the device credentials for the device.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Manufacturer client
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Informs the location of the manufacturing server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Ownership Voucher (OV)
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Record of ownership of an individual device.
							</p>
							 <p>
								Contains the following information:
							</p>
							 <p>
								* Owner (<code class="literal">fdo-owner-onboarding-service</code>)
							</p>
							 <p>
								* Rendezvous Server - FIDO server (<code class="literal">fdo-rendezvous-server</code>)
							</p>
							 <p>
								* Device (at least one combination) (<code class="literal">fdo-manufacturing-service</code>)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Device Credential (DC)
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Key credential and rendezvous stored in the device at manufacture.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Keys
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Keys to configure the manufacturing server
							</p>
							 <p>
								* key_path
							</p>
							 <p>
								* cert_path
							</p>
							 <p>
								* key_type
							</p>
							 <p>
								* mfg_string_type: device serial number
							</p>
							 <p>
								* allowed_key_storage_types: Filesystem and Trusted Platform Module (TPM) that protects the data used to authenticate the device you are using.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247635408000"> <p>
								Rendezvous server
							</p>
							 </td><td align="left" valign="top" headers="idm140247635406912"> <p>
								Link to a server used by the device and later on, used on the process to find out who is the owner of the device
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://fidoalliance.org/specs/fidoiot/FIDO-IoT-spec-v1.0-wd-20200730.html#OV">FIDO IoT spec</a>
					</li></ul></div></section><section class="section" id="ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands"><div class="titlepage"><div><div><h3 class="title">A.5. FDO automatic onboarding technologies</h3></div></div></div><p class="_abstract _abstract">
				Following are the technologies used in context to FDO automatic onboarding.
			</p><rh-table id="idm140247632060912"><table class="lt-4-cols lt-7-rows"><caption>Table A.5. OSTree and rpm-ostree terminology</caption><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140247632055600" scope="col">Technology</th><th align="left" valign="top" id="idm140247632054512" scope="col">Definition</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								UEFI
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								Unified Extensible Firmware Interface.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								RHEL
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								Red Hat® Enterprise Linux® operating system
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								<code class="literal">rpm-ostree</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								Background image-based upgrades.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								Greenboot
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								<code class="literal">Healthcheck</code> framework for systemd on <code class="literal">rpm-ostree</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								Osbuild
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								Pipeline-based build system for operating system artifacts.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								Container
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								A Linux® container is a set of 1 or more processes that are isolated from the rest of the system.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								Coreos-installer
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								Assists installation of RHEL images, boots systems with UEFI.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140247632055600"> <p>
								FIDO FDO
							</p>
							 </td><td align="left" valign="top" headers="idm140247632054512"> <p>
								Specification protocol to provision configuration and onboarding devices.
							</p>
							 </td></tr></tbody></table></rh-table></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140247648582624"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":778,"once":781,"_errors":782,"serverRendered":17,"path":784},["ShallowReactive",3],{"s8LoCEfG4A":4,"rFVLKcOK8e":10,"uUstF4AIyn":12,"Pn02PlJOas":707},[5,6,7,8,9],"fr-fr","zh-cn","ko-kr","en-us","ja-jp",{"product":11},"Red Hat Enterprise Linux",{"name":13,"html":14,"type":-1,"toc":15,"breadcrumbs":622,"error":20,"title":629,"productName":11,"productVersions":638,"pagination":667,"redirect":688,"canonicalLinks":689,"openShiftProducts":691,"tocFromVolume":-1,"jumpLinks":706},"Composing, installing, and managing RHEL for Edge images","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm140247631056544\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Creating, deploying, and managing Edge systems with Red Hat Enterprise Linux 9\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm140247648582624\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tUse the image builder tool to compose customized RHEL (rpm-ostree) images optimized for Edge. Then, you can remotely install, and securely manage and scale deployments of the images on Edge servers.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Introduction to RHEL for Edge images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tA RHEL for Edge image is an \u003Ccode class=\"literal\">rpm-ostree\u003C/code> image that includes system packages to remotely install RHEL on Edge servers.\n\t\t\u003C/p>\u003Cp>\n\t\t\tThe system packages include:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ccode class=\"literal\">Base OS\u003C/code> package\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tPodman as the container engine\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAdditional RPM Package Manager (RPM) content\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tRHEL for Edge is an immutable operating system that contains a \u003Ccode class=\"literal\">read-only\u003C/code> root directory, and has following characteristics:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tThe packages are isolated from the root directory.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEach version of the operating system is a separate deployment. Therefore, you can roll back the system to a previous deployment when needed.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">rpm-ostree\u003C/code> image offers efficient updates over the network.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tRHEL for Edge supports multiple operating system branches and repositories.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tThe image contains a hybrid \u003Ccode class=\"literal\">rpm-ostree\u003C/code> package system.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tYou can compose customized RHEL for Edge images by using the RHEL image builder tool. You can also create RHEL for Edge images by accessing the \u003Ca class=\"link\" href=\"https://console.redhat.com/edge\">edge management\u003C/a> application in the Red Hat Hybrid Cloud Console platform and configure automated management.\n\t\t\u003C/p>\u003Cp>\n\t\t\tUse the edge management application to simplify provisioning and registering your images. To learn more about the edge management, see the \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/edge_management/1-latest/html/create_rhel_for_edge_images_and_configure_automated_management/index/\">Create RHEL for Edge images and configure automated management\u003C/a> documentation.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tUsing RHEL for Edge customized images that were created by using the \u003Cspan class=\"strong strong\">\u003Cstrong>RHEL image builder\u003C/strong>\u003C/span> on-premise version is not supported in the \u003Ca class=\"link\" href=\"https://console.redhat.com/edge\">edge management\u003C/a> application. See \u003Ca class=\"link\" href=\"https://access.redhat.com/articles/7010809\">Edge management supportability\u003C/a>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ca class=\"link\" href=\"https://console.redhat.com/edge\">edge management\u003C/a> application supports building and managing only the \u003Ccode class=\"literal\">edge-commit\u003C/code> and \u003Ccode class=\"literal\">edge-installer\u003C/code> image types.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAdditionally, you cannot use the \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images\">FIDO Device Onboarding (FDO)\u003C/a> process with images that you create by using the \u003Ca class=\"link\" href=\"https://console.redhat.com/edge\">edge management\u003C/a> application.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\tWith a RHEL for Edge image, you can achieve the following benefits:\n\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Atomic upgrades\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tYou know the state of each update, and no changes are seen until you reboot your system.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Custom health checks and intelligent rollbacks\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tYou can create custom health checks, and if a health check fails, the operating system rolls back to the previous stable state.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Container-focused workflow\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tThe image updates are staged in the background, minimizing any workload interruptions to the system.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Optimized Over-the-Air updates\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tYou can make sure that your systems are up-to-date, even with intermittent connectivity, thanks to efficient over-the-air (OTA) delta updates.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Csection class=\"section\" id=\"edge-supported-architecture_introducing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. RHEL for Edge—supported architecture\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCurrently, you can deploy RHEL for Edge images on AMD and Intel 64-bit systems.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRHEL for Edge supports ARM systems on some devices. For more information about the supported devices, see \u003Ca class=\"link\" href=\"https://catalog.redhat.com/hardware\">Red Hat certified hardware\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. RHEL for Edge image types and their deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tComposing and deploying a RHEL for Edge image involves two phases:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tComposing a RHEL \u003Ccode class=\"literal\">rpm-ostree\u003C/code> image using the RHEL image builder tool. You can access RHEL image builder through a command-line interface in the \u003Ccode class=\"literal\">composer-cli\u003C/code> tool, or use a graphical user interface in the RHEL web console.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDeploying the image by using RHEL installer.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe image types vary in terms of their contents, and are therefore suitable for different types of deployment environments. While composing a RHEL for Edge image, you can select any of the following image types:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge Commit\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis image type delivers atomic and safe updates to a system. The \u003Ccode class=\"literal\">edge-commit\u003C/code>(\u003Ccode class=\"literal\">.tar\u003C/code>) image contains a full operating system, but it is not directly bootable. To boot the \u003Ccode class=\"literal\">edge-commit\u003C/code> image type, you must deploy it by using one of the other disk image types. You can also build \u003Ccode class=\"literal\">edge-commit\u003C/code> images on the \u003Ca class=\"link\" href=\"console.redhat.com/edge\">edge management\u003C/a> application.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge Container\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThis image type serves the OSTree commits by using an integrated HTTP server. The \u003Ccode class=\"literal\">edge-container\u003C/code> creates an \u003Ccode class=\"literal\">OSTree\u003C/code> commit and embeds it into an OCI container with a web server. When the \u003Ccode class=\"literal\">edge-commit\u003C/code> image starts, the web server serves the commit as an OSTree repository.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge Installer\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">edge-installer\u003C/code> image type is an Anaconda-based installer image that deploys a RHEL for Edge OSTree commit that is embedded in the installer. Besides building \u003Ccode class=\"literal\">.iso\u003C/code> images by using the RHEL image builder tool, you can also build RHEL for Edge installer (\u003Ccode class=\"literal\">edge-installer\u003C/code>) on the \u003Ca class=\"link\" href=\"console.redhat.com/edge\">edge management\u003C/a> application. The \u003Ccode class=\"literal\">edge-installer\u003C/code> image type is an Anaconda-based installer image that deploys a RHEL for Edge ostree commit that is embedded in the installer image.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge Raw Image\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUse for bare metal platforms by flashing the RHEL Raw Images on a hard disk or boot the Raw image on a virtual machine. The \u003Ccode class=\"literal\">edge-raw-image\u003C/code> is a compressed raw images that consist of a file containing a partition layout with an existing deployed OSTree commit in it.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge Simplified Installer\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> image type for unattended installations, where user configuration is provided via FDO or Ignition. The \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> image can use Ignition to inject the user configuration into the images at an early stage of the boot process. Additionally, it is possible to use FDO as a way to inject user configuration during an early stage of the boot process. After booting the Edge Simplified Installer, it provisions the RHEL for Edge image to a device with the injected user configuration.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge AMI\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUse this image to launch an EC2 instance in AWS cloud. The \u003Ccode class=\"literal\">edge-ami\u003C/code> image uses the Ignition tool to inject the user configuration into the images at an early stage of the boot process. You can upload the \u003Ccode class=\"literal\">.ami\u003C/code> image to AWS and boot an EC2 instance in AWS.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">RHEL for Edge VMDK\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tUse this image to load the image on vSphere and boot the image in a vSphere VM. The \u003Ccode class=\"literal\">edge-vsphere\u003C/code> image uses the Ignition tool to inject the user configuration into the images at an early stage of the boot process.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-table id=\"idm140247641195552\">\u003Ctable class=\"gt-4-cols lt-7-rows\">\u003Ccaption>Table 1.1. RHEL for Edge images type\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 25%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_4\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247638949152\" scope=\"col\">Image type\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247638948064\" scope=\"col\">File type\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247638946976\" scope=\"col\">Suitable for network-based deployments\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247638945920\" scope=\"col\">Suitable for non-network-based deployments\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Commit\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">.tar\u003C/code>\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Container\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">.tar\u003C/code>\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Installer\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">.iso\u003C/code>\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Raw Image\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>.raw.xz\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Simplified Installer\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">.iso\u003C/code>\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge AMI\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">.ami\u003C/code>\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638949152\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge VMDK\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638948064\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">.vmdk\u003C/code>\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638946976\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247638945920\"> \u003Cp>\n\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index\">Interactively installing RHEL from installation media\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_non-network-based-deployments_introducing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.3. Non-network-based deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse RHEL image builder to create flexible RHEL \u003Ccode class=\"literal\">rpm-ostree\u003C/code> images to suit your requirements, and then use Anaconda to deploy them in your environment.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can access RHEL image builder through a command-line interface in the \u003Ccode class=\"literal\">composer-cli\u003C/code> tool, or use a graphical user interface in the RHEL web console.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tComposing and deploying a RHEL for Edge image in non-network-based deployments involves the following high-level steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall and register a RHEL system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing RHEL image builder, create a blueprint with customizations for RHEL for Edge Container image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImport the RHEL for Edge blueprint in RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL for Edge image embed in an OCI container with a webserver ready to deploy the commit as an OSTree repository\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDownload the RHEL for Edge Container image file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDeploy the container serving a repository with the RHEL for Edge Container commit\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing RHEL image builder, create another blueprint for RHEL for Edge Installer image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL for Edge Installer image configured to pull the commit from the running container embedded with RHEL for Edge Container image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDownload the RHEL for Edge Installer image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRun the installation\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe following diagram represents the RHEL for Edge image non-network deployment workflow:\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"non-network-based_introducing-rhel-for-edge-images\">\u003Cp class=\"title\">\u003Cstrong>Figure 1.1. Deploying RHEL for Edge in non-network environment\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/7e7bb5d0cb4a69c2a481b08c6c6a7b02/edge_non-network-deployment-workflow.png\" alt=\"RHEL for Edge non-network deployment workflow\"/>\u003C/div>\u003C/div>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_network-based-deployments_introducing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.4. Network-based deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse RHEL image builder to create flexible RHEL \u003Ccode class=\"literal\">rpm-ostree\u003C/code> images to suit your requirements, and then use Anaconda to deploy them in your environment. RHEL image builder automatically identifies the details of your deployment setup and generates the image output as an \u003Ccode class=\"literal\">edge-commit\u003C/code> as a \u003Ccode class=\"literal\">.tar\u003C/code> file.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can access RHEL image builder through a command-line interface in the \u003Ccode class=\"literal\">composer-cli\u003C/code> tool, or use a graphical user interface in the RHEL web console.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can compose and deploy the RHEL for Edge image by performing the following high-level steps:\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>For an attended installation\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall and register a RHEL system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing RHEL image builder, create a blueprint for RHEL for Edge image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImport the RHEL for Edge blueprint in RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDownload the RHEL for Edge image file\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the same system where you have installed RHEL image builder, install a web server that you want to serve the RHEL for Edge Commit content. For instructions, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/deploying_web_servers_and_reverse_proxies/setting-up-and-configuring-nginx_deploying-web-servers-and-reverse-proxies\">Setting up and configuring NGINX\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tExtract the RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) content to the running web server\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a Kickstart file that pulls the OSTree content from the running web server. For details on how to modify the Kickstart to pull the OSTree content, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images\">Extracting the RHEL for Edge image commit\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBoot the RHEL installer ISO on the edge device and provide the Kickstart to it.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tFor an unattended installation, you can customize the RHEL installation ISO and embed the Kickstart file to it.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following diagram represents the RHEL for Edge network image deployment workflow:\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"network-based_introducing-rhel-for-edge-images\">\u003Cp class=\"title\">\u003Cstrong>Figure 1.2. Deploying RHEL for Edge in network-base environment\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/1ade9df16e6fde0abab1e4a498dabc88/edge-deployment-workflow.png\" alt=\"RHEL for Edge network deployment workflow\"/>\u003C/div>\u003C/div>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.5. Difference between RHEL RPM images and RHEL for Edge images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create RHEL system images in traditional package-based RPM format and also as RHEL for Edge (\u003Ccode class=\"literal\">rpm-ostree\u003C/code>) images.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use the traditional package-based RPMs to deploy RHEL on traditional data centers. However, with RHEL for Edge images you can deploy RHEL on servers other than traditional data centers. These servers include systems where processing of large amounts of data is done closest to the source where data is generated, the Edge servers.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe RHEL for Edge (\u003Ccode class=\"literal\">rpm-ostree\u003C/code>) images are not a package manager. They only support complete bootable file system trees, not individual files. These images do not have information regarding the individual files such as how these files were generated or anything related to their origin.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">rpm-ostree\u003C/code> images need a separate mechanism, the package manager, to install additional applications in the \u003Ccode class=\"literal\">/var\u003C/code> directory. With that, the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> image keeps the operating system unchanged, while maintaining the state of the \u003Ccode class=\"literal\">/var\u003C/code> and \u003Ccode class=\"literal\">/etc\u003C/code> directories. The atomic updates enable rollbacks and background staging of updates.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tRefer to the following table to know how RHEL for Edge images differ from the package-based RHEL RPM images.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140247644122448\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 1.2. Difference between RHEL RPM images and RHEL for Edge images\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tKey attributes\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tRHEL RPM image\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tRHEL for Edge image\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OS assembly\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou can assemble the packages locally to form an image.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe packages are assembled in an OSTree which you can install on a system.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OS updates\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou can use \u003Ccode class=\"literal\">dnf update\u003C/code> to apply the available updates from the enabled repositories.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou can use \u003Ccode class=\"literal\">rpm-ostree upgrade\u003C/code> to stage an update if any new commit is available in the OSTree remote at \u003Ccode class=\"literal\">/etc/ostree/remotes.d/\u003C/code>. The update takes effect on system reboot.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Repository\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe package contains DNF repositories\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe package contains OSTree remote repository\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">User access permissions\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tRead write\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tRead-only (\u003Ccode class=\"literal\">/usr\u003C/code>)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Data persistence\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou can mount the image to any non \u003Ccode class=\"literal\">tmpfs\u003C/code> mount point\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc\u003C/code> &amp; \u003Ccode class=\"literal\">/var\u003C/code> are read/write enabled and include persisting data.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"setting-up-image-builder_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Setting up RHEL image builder\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tUse RHEL image builder to create your customized RHEL for Edge images. After you install RHEL image builder on a RHEL system, RHEL image builder is available as an application in RHEL web console. You can also access RHEL image builder through a command line interface in the \u003Ccode class=\"literal\">composer-cli\u003C/code> tool.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIt is recommended to install RHEL image builder on a virtual machine.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"edge-image-builder-system-requirements_setting-up-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.1. Image builder system requirements\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe environment where RHEL image builder runs, for example a virtual machine, must meet the requirements that are listed in the following table.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRunning RHEL image builder inside a container is not supported.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Crh-table id=\"idm140247642321280\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 2.1. Image builder system requirements\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Parameter\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Minimal Required Value\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tSystem type\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tA dedicated virtual machine\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tProcessor\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t2 cores\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tMemory\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t4 GiB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tDisk space\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t20 GiB\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tAccess privileges\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tAdministrator level (root)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tNetwork\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tConnectivity to Internet\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe 20 GiB disk space requirement is enough to install and run RHEL image builder in the host. To build and deploy image builds, you must allocate additional dedicated disk space.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"edge-installing-image-builder_setting-up-image-builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.2. Installing RHEL image builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo install RHEL image builder on a dedicated virtual machine, follow these steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe virtual machine is created and is powered on.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed RHEL and you have subscribed to RHSM or Red Hat Satellite.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have enabled the \u003Ccode class=\"literal\">BaseOS\u003C/code> and \u003Ccode class=\"literal\">AppStream\u003C/code> repositories to be able to install the RHEL image builder packages.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the following packages on the virtual machine.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tosbuild-composer\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tcomposer-cli\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tcockpit-composer\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tbash-completion\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tfirewalld\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cpre class=\"screen\"># dnf install osbuild-composer composer-cli cockpit-composer bash-completion firewalld\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL image builder is installed as an application in RHEL web console.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReboot the virtual machine\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the system firewall to allow access to the web console:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># firewall-cmd --add-service=cockpit &amp;&amp; firewall-cmd --add-service=cockpit --permanent\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable RHEL image builder.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable osbuild-composer.socket cockpit.socket --now\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe osbuild-composer and cockpit services start automatically on first access.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad the shell configuration script so that the autocomplete feature for the \u003Ccode class=\"literal\">composer-cli\u003C/code> command starts working immediately without reboot:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ source /etc/bash_completion.d/composer-cli\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/managing-repositories_composing-installing-managing-rhel-for-edge-images\">Managing repositories\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-repositories_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. Configuring RHEL image builder repositories\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tTo use RHEL image builder, you must ensure that the repositories are configured. You can use the following types of repositories in RHEL image builder:\n\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Official repository overrides\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tUse these if you want to download base system RPMs from elsewhere than the Red Hat Content Delivery Network (CDN) official repositories, for example, a custom mirror in your network. Using official repository overrides disables the default repositories, and your custom mirror must contain all the necessary packages.\n\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Custom third-party repositories\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tUse these to include packages that are not available in the official RHEL repositories.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Csection class=\"section\" id=\"proc_adding-custom-third-party-repositories_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.1. Adding custom third-party repositories to RHEL image builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can add custom third-party sources to your repositories and manage these repositories by using the \u003Ccode class=\"literal\">composer-cli\u003C/code>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the URL of the custom third-party repository.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a repository source file, such as \u003Ccode class=\"literal\">/root/repo.toml\u003C/code>. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">id = \"k8s\"\nname = \"Kubernetes\"\ntype = \"yum-baseurl\"\nurl = \"https://server.example.com/repos/company_internal_packages/\"\ncheck_gpg = false\ncheck_ssl = false\nsystem = false\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">type\u003C/code> field accepts the following valid values: \u003Ccode class=\"literal\">yum-baseurl\u003C/code>, \u003Ccode class=\"literal\">yum-mirrorlist\u003C/code>, and \u003Ccode class=\"literal\">yum-metalink\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file in the TOML format.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the new third-party source to RHEL image builder:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli sources add \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">&lt;file-name&gt;\u003C/span>\u003C/em>\u003C/span>.toml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the new source was successfully added:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli sources list\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the new source content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli sources info \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">&lt;source_id&gt;\u003C/span>\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_adding-third-party-repositories-with-specific-distributions_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.2. Adding third-party repositories with specific distributions to RHEL image builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can specify a list of distributions in the custom third-party source file by using the optional field \u003Ccode class=\"literal\">distro\u003C/code>. The repository file uses the distribution string list while resolving dependencies during the image building.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAny request that specifies \u003Ccode class=\"literal\">rhel-9\u003C/code> uses this source. For example, if you list packages and specify \u003Ccode class=\"literal\">rhel-9\u003C/code>, it includes this source. However, listing packages for the host distribution do not include this source.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the URL of the custom third-party repository.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the list of distributions that you want to specify.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a repository source file, such as \u003Ccode class=\"literal\">/root/repo.toml\u003C/code>. For example, to specify the distribution:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">check_gpg = true\ncheck_ssl = true\ndistros = [\"rhel-9\"]\nid = \"rh9-local\"\nname = \"packages for RHEL\"\nsystem = false\ntype = \"yum-baseurl\"\nurl = \"\u003Cspan class=\"emphasis\">\u003Cem>https://local/repos/rhel9/projectrepo/\u003C/em>\u003C/span>\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file in the TOML format.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the new third-party source to RHEL image builder:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli sources add \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">&lt;file-name&gt;\u003C/span>\u003C/em>\u003C/span>.toml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the new source was successfully added:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli sources list\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the new source content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli sources info \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">&lt;source_id&gt;\u003C/span>\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_checking-repositories-metadata-with-gpg_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.3. Checking repositories metadata with GPG\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo detect and avoid corrupted packages, you can use the DNF package manager to check the GNU Privacy Guard (GPG) signature on RPM packages, and also to check if the repository metadata has been signed with a GPG key.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can either enter the \u003Ccode class=\"literal\">gpgkey\u003C/code> that you want to do the check over \u003Ccode class=\"literal\">https\u003C/code> by setting the \u003Ccode class=\"literal\">gpgkeys\u003C/code> field with the key URL. Alternatively, to improve security, you can also embed the whole key into the \u003Ccode class=\"literal\">gpgkeys\u003C/code> field, to import it directly instead of fetching the key from the URL.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe directory that you want to use as a repository exists and contains packages.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAccess the folder where you want to create a repository:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>cd repo/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the \u003Ccode class=\"literal\">createrepo_c\u003C/code> to create a repository from RPM packages:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>createrepo_c .\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAccess the directory where the repodata is:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>cd repodata/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSign your \u003Ccode class=\"literal\">repomd.xml\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>gpg -u &lt;_gpg-key-email_&gt; --yes --detach-sign --armor /srv/repo/example/repomd.xml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo enable GPG signature checks in the repository:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet \u003Ccode class=\"literal\">check_repogpg = true\u003C/code> in the repository source.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnter the \u003Ccode class=\"literal\">gpgkey\u003C/code> that you want to do the check. If your key is available over \u003Ccode class=\"literal\">https\u003C/code>, set the \u003Ccode class=\"literal\">gpgkeys\u003C/code> field with the key URL for the key. You can add as many URL keys as you need.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following is an example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">check_gpg = true\ncheck_ssl = true\nid = \"signed local packages\"\nname = \"\u003Cspan class=\"emphasis\">\u003Cem>repository_name\u003C/em>\u003C/span>\"\ntype = \"yum-baseurl\"\nurl = \"\u003Cspan class=\"emphasis\">\u003Cem>https://local/repos/projectrepo/\u003C/em>\u003C/span>\"\ncheck_repogpg = true\ngpgkeys=[\"\u003Cspan class=\"emphasis\">\u003Cem>https://local/keys/repokey.pub\u003C/em>\u003C/span>\"]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAs an alternative, add the GPG key directly in the \u003Ccode class=\"literal\">gpgkeys\u003C/code> field, for example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">check_gpg = true\ncheck_ssl = true\ncheck_repogpg\nid = \"custom-local\"\nname = \"signed local packages\"\ntype = \"yum-baseurl\"\nurl = \"\u003Cspan class=\"emphasis\">\u003Cem>https://local/repos/projectrepo/\u003C/em>\u003C/span>\"\ngpgkeys=[\"\u003Cspan class=\"emphasis\">\u003Cem>https://remote/keys/other-repokey.pub\u003C/em>\u003C/span>\",\n'''-----BEGIN PGP PUBLIC KEY BLOCK-----\n…​\n-----END PGP PUBLIC KEY BLOCK-----''']\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIf the test does not find the signature, the GPG tool shows an error similar to the following one:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ GPG verification is enabled, but GPG signature is not available.\nThis may be an error or the repository does not support GPG verification:\nStatus code: 404 for http://repo-server/rhel/repodata/repomd.xml.asc (IP: 192.168.1.3)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tIf the signature is invalid, the GPG tool shows an error similar to the following one:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">repomd.xml GPG signature verification error: Bad GPG signature\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTest the signature of the repository manually:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>gpg --verify /srv/repo/example/repomd.xml.asc\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"image-builder-default-system-repositories_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.4. RHEL image builder official repository overrides\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tRHEL image builder \u003Ccode class=\"literal\">osbuild-composer\u003C/code> back end does not inherit the system repositories located in the \u003Ccode class=\"literal\">/etc/yum.repos.d/\u003C/code> directory. Instead, it has its own set of official repositories defined in the \u003Ccode class=\"literal\">/usr/share/osbuild-composer/repositories\u003C/code> directory. This includes the Red Hat official repository, which contains the base system RPMs to install additional software or update already installed programs to newer versions. If you want to override the official repositories, you must define overrides in \u003Ccode class=\"literal\">/etc/osbuild-composer/repositories/\u003C/code>. This directory is for user defined overrides and the files located there take precedence over those in the \u003Ccode class=\"literal\">/usr/share/osbuild-composer/repositories/\u003C/code> directory.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe configuration files are not in the usual DNF repository format known from the files in \u003Ccode class=\"literal\">/etc/yum.repos.d/\u003C/code>. Instead, they are JSON files.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"overriding-a-system-repository_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.5. Overriding a system repository\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can configure your own repository override for RHEL image builder in the \u003Ccode class=\"literal\">/etc/osbuild-composer/repositories\u003C/code> directory.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a custom repository that is accessible from your host system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/osbuild-composer/repositories/\u003C/code> directory to store your repository overrides:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo mkdir -p /etc/osbuild-composer/repositories\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a JSON file, using a name corresponding to your RHEL version. Alternatively, you can copy the file for your distribution from \u003Ccode class=\"literal\">/usr/share/osbuild-composer/\u003C/code> and modify its content.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor RHEL 9.3, use \u003Ccode class=\"literal\">/etc/osbuild-composer/repositories/rhel-93.json\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd the following structure to your JSON file. Specify only one of the following attributes, in the string format:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">baseurl\u003C/code> - The base URL of the repository.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">metalink\u003C/code> - The URL of a metalink file that contains a list of valid mirror repositories.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mirrorlist\u003C/code> - The URL of a mirrorlist file that contains a list of valid mirror repositories. The remaining fields, such as \u003Ccode class=\"literal\">gpgkey\u003C/code>, and \u003Ccode class=\"literal\">metadata_expire\u003C/code>, are optional.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">{\n     \"x86_64\": [\n        {\n            \"name\": \"baseos\",\n            \"baseurl\": \"http://mirror.example.com/composes/released/RHEL-9/9.0/BaseOS/x86_64/os/\",\n            \"gpgkey\": \"-----BEGIN PGP PUBLIC KEY BLOCK-----\\n\\n (…​)\",\n            \"check_gpg\": true\n        }\n    ]\n}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAlternatively, you can copy the JSON file for your distribution, by replacing \u003Ccode class=\"literal\">rhel-version.json\u003C/code> with your RHEL version, for example: rhel-9.json.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$  cp /usr/share/osbuild-composer/repositories/rhel-\u003Cspan class=\"emphasis\">\u003Cem>version\u003C/em>\u003C/span>.json /etc/osbuild-composer/repositories/\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Verify the JSON file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ json_verify &lt; /etc/osbuild-composer/repositories/rhel-\u003Cspan class=\"emphasis\">\u003Cem>version\u003C/em>\u003C/span>.json\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">baseurl\u003C/code> paths in the \u003Ccode class=\"literal\">rhel-9.json\u003C/code> file and save it. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ /etc/osbuild-composer/repositories/rhel-\u003Cspan class=\"emphasis\">\u003Cem>version\u003C/em>\u003C/span>.json\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">osbuild-composer.service\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo systemctl restart osbuild-composer.service\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the repository points to the correct URLs:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /etc/yum.repos.d/redhat.repo\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can see that the repository points to the correct URLs which are copied from the \u003Ccode class=\"literal\">/etc/yum.repos.d/redhat.repo\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/6957312\">The latest RPMs version available in repository not visible for \u003Ccode class=\"literal\">osbuild-composer\u003C/code>.\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"overriding-a-system-repository-with-support-for-subscriptions_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.6. Overriding a system repository that requires subscriptions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can set up the \u003Ccode class=\"literal\">osbuild-composer\u003C/code> service to use system subscriptions that are defined in the \u003Ccode class=\"literal\">/etc/yum.repos.d/redhat.repo\u003C/code> file. To use a system subscription in \u003Ccode class=\"literal\">osbuild-composer\u003C/code>, define a repository override that has the following details:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe same \u003Ccode class=\"literal\">baseurl\u003C/code> as the repository defined in \u003Ccode class=\"literal\">/etc/yum.repos.d/redhat.repo\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe value of \u003Ccode class=\"literal\">”rhsm”: true\u003C/code> defined in the JSON object.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">osbuild-composer\u003C/code> does not automatically use repositories defined in \u003Ccode class=\"literal\">/etc/yum.repos.d/\u003C/code>. You need to manually specify them either as a system repository override or as an additional \u003Ccode class=\"literal\">source\u003C/code> by using \u003Ccode class=\"literal\">composer-cli\u003C/code>. The “BaseOS” and “AppStream” repositories usually use system repository overrides, whereas all the other repositories use \u003Ccode class=\"literal\">composer-cli\u003C/code> sources.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYour system has a subscription defined in \u003Ccode class=\"literal\">/etc/yum.repos.d/redhat.repo\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a repository override. See \u003Ca class=\"link\" href=\"#overriding-a-system-repository_managing-repositories\" title=\"3.5. Overriding a system repository\">Overriding a system repository\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGet the \u003Ccode class=\"literal\">baseurl\u003C/code> from the \u003Ccode class=\"literal\">/etc/yum.repos.d/redhat.repo\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /etc/yum.repos.d/redhat.repo\u003C/strong>\u003C/span>\n[AppStream]\nname = AppStream mirror example\nbaseurl = https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/\nenabled = 1\ngpgcheck = 0\nsslverify = 1\nsslcacert = /etc/pki/ca1/ca.crt\nsslclientkey = /etc/pki/ca1/client.key\nsslclientcert = /etc/pki/ca1/client.crt\nmetadata_expire = 86400\nenabled_metadata = 0\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the repository override to use the same \u003Ccode class=\"literal\">baseurl\u003C/code> and set \u003Ccode class=\"literal\">rhsm\u003C/code> to true:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">{\n    \"x86_64\": [\n        {\n            \"name\": \"AppStream mirror example\",\n            \"baseurl\": \"https://mirror.example.com/RHEL-9/9.0/AppStream/x86_64/os/\",\n            \"gpgkey\": \"-----BEGIN PGP PUBLIC KEY BLOCK-----\\n\\n (…​)\",\n            \"check_gpg\": true,\n            \"rhsm\": true\n        }\n    ]\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">osbuild-composer.service\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo systemctl restart osbuild-composer.service\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/5773421\">RHEL image builder uses CDN repositories when host is registered to Satellite 6\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-and-using-satellite-cv-as-a-content-source_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.7. Configuring and using Satellite CV as a content source\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use Satellite’s content views (CV) as repositories to build images with RHEL image builder. To do so, on your host registered to Satellite, manually configure the repository references so that you can retrieve from the Satellite repositories, instead of the Red Hat Content Delivery Network (CDN) official repositories.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are using RHEL image builder on a host registered to Satellite 6.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFind the repository URL from your currently configured repositories:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo yum -v repolist rhel-8-for-x86_64-baseos-rpms | grep repo-baseurl\n  Repo-baseurl :\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe following output is an example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">https://satellite6.example.com/pulp/content/YourOrg/YourEnv/YourCV/content/dist/rhel8/8/x86_64/baseos/os\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tModify the hard-coded repositories to a Satellite Server.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate a repository directory with the \u003Ccode class=\"literal\">0755\u003C/code> permission:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo mkdir -pvm 0755 /etc/osbuild-composer/repositories\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCopy the content from \u003Ccode class=\"literal\">/usr/share/osbuild-composer/repositories/*.json\u003C/code> to the directory that you created:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo cp /usr/share/osbuild-composer/repositories/*.json /etc/osbuild-composer/repositories/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUpdate the Satellite URL and the file contents through the \u003Ccode class=\"literal\">/content/dist/*\u003C/code> line:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo sed -i -e 's|cdn.redhat.com|satellite6.example.com/pulp/content/YourOrg/YourEnv/YourCV|' /etc/osbuild-composer/repositories/*.json\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tVerify that the configuration was correctly replaced:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo vi /etc/osbuild-composer/repositories/rhel-8.json\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the services:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo systemctl restart osbuild-worker@1.service osbuild-composer.service\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOverride the required system repository in Red Hat image builder configuration and use the URL of your Satellite repository as a baseurl. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/managing-repositories_composing-a-customized-rhel-system-image#overriding-a-system-repository_managing-repositories\">Overriding a system repository\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/7004689\">Composer RHEL image builder fails when multiple custom repositories are defined on the Satellite\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-satellite-cv-as-repositories-to-build-images-in-rhel-image-builder_managing-repositories\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.8. Using Satellite CV as repositories to build images in RHEL image builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tConfigure RHEL image builder to use Satellite’s content views (CV) as repositories to build your custom images.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have integrated Satellite with RHEL web console. See \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_satellite/6.15/html/managing_hosts/host_management_and_monitoring_using_cockpit_managing-hosts?extIdCarryOver=true&amp;intcmp=701f20000012ngPAAQ&amp;sc_cid=701f2000001Css5AAC#Enabling_Cockpit_on_Server_managing-hosts\">Enabling the RHEL web console on Satellite\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the Satellite web UI, navigate to \u003Cspan class=\"strong strong\">\u003Cstrong>Content &gt; Products\u003C/strong>\u003C/span>, select your \u003Cspan class=\"strong strong\">\u003Cstrong>Product\u003C/strong>\u003C/span> and click the repository you want to use.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSearch for the secured URL (HTTPS) in the Published field and copy it.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the URL that you copied as a baseurl for the Red Hat image builder repository. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/managing-repositories_composing-a-customized-rhel-system-image#proc_adding-custom-third-party-repositories_managing-repositories\">Adding custom third-party repositories to RHEL image builder\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBuild the image. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-web-console-interface_composing-a-customized-rhel-system-image#creating-a-system-image-with-composer-in-the-web-console-interface_creating-system-images-with-composer-web-console-interface\">Creating a system image by using RHEL image builder in the web console interface\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 4. Composing a RHEL for Edge image using image builder in RHEL web console\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tUse RHEL image builder to create a custom RHEL for Edge image (OSTree commit).\n\t\t\u003C/p>\u003Cp>\n\t\t\tTo access RHEL image builder and to create your custom RHEL for Edge image, you can either use the RHEL web console interface or the command-line interface.\n\t\t\u003C/p>\u003Cp>\n\t\t\tYou can compose RHEL for Edge images using RHEL image builder in RHEL web console by performing the following high-level steps:\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAccess RHEL image builder in RHEL web console\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a blueprint for RHEL for Edge image.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tCreate a RHEL for Edge image. You can create the following images:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRHEL for Edge Commit image.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRHEL for Edge Container image.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRHEL for Edge Installer image.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tDownload the RHEL for Edge image\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Csection class=\"section\" id=\"accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.1. Accessing RHEL image builder in the RHEL web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo access RHEL image builder in RHEL web console, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed a RHEL system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have administrative rights on the system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have subscribed the RHEL system to Red Hat Subscription Manager (RHSM) or to Red Hat Satellite Server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe system is powered on and accessible over network.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed RHEL image builder on the system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn your RHEL system, access https://localhost:9090/ in a web browser.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor more information about how to remotely access RHEL image builder, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/index\">Managing systems using the RHEL 9 web console\u003C/a> document.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the web console using an administrative user account.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the web console, in the left hand menu, click \u003Cspan class=\"guibutton\">Apps\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Image Builder\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe RHEL image builder dashboard opens in the right pane. You can now proceed to create a blueprint for the RHEL for Edge images.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.2. Creating a blueprint for a RHEL for Edge image using image builder in the web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo create a blueprint for a RHEL for Edge image by using RHEL image builder in RHEL web console, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn a RHEL system, you have opened the RHEL image builder dashboard.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the RHEL image builder dashboard, click \u003Cspan class=\"guibutton\">Create Blueprint\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Create Blueprint\u003C/strong>\u003C/span> dialogue box opens.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Details\u003C/code> page:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the name of the blueprint and, optionally, its description. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: In the \u003Ccode class=\"literal\">Packages\u003C/code> page:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Available packages\u003C/code> search, enter the package name and click the \u003Cspan class=\"guibutton\">&gt;\u003C/span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThese customizations are all optional unless otherwise specified.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Kernel\u003C/code> page, enter a kernel name and the command-line arguments.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">File system\u003C/code> page, select \u003Ccode class=\"literal\">Use automatic partitioning\u003C/code>. OSTree systems do not support filesystem customization, because OSTree images have their own mount rule, such as read-only. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Services\u003C/code> page, you can enable or disable services:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the \u003Cspan class=\"guibutton\">Enter\u003C/span> key. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Firewall\u003C/code> page, set up your firewall setting:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the \u003Ccode class=\"literal\">Ports\u003C/code>, and the firewall services you want to enable or disable.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Add zone\u003C/span> button to manage your firewall rules for each zone independently. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Users\u003C/code> page, add a users by following the steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Add user\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter a \u003Ccode class=\"literal\">Username\u003C/code>, a \u003Ccode class=\"literal\">password\u003C/code>, and a \u003Ccode class=\"literal\">SSH key\u003C/code>. You can also mark the user as a privileged user, by clicking the \u003Ccode class=\"literal\">Server administrator\u003C/code> checkbox. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Groups\u003C/code> page, add groups by completing the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Add groups\u003C/span> button:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter a \u003Ccode class=\"literal\">Group name\u003C/code> and a \u003Ccode class=\"literal\">Group ID\u003C/code>. You can add more groups. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">SSH keys\u003C/code> page, add a key:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Add key\u003C/span> button.\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter the SSH key.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter a \u003Ccode class=\"literal\">User\u003C/code>. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Timezone\u003C/code> page, set your timezone settings:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Timezone\u003C/code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: \"US/Eastern\".\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the \u003Ccode class=\"literal\">NTP\u003C/code> servers. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Locale\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Keyboard\u003C/code> search field, enter the package name you want to add to your system image. For example: [\"en_US.UTF-8\"].\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Languages\u003C/code> search field, enter the package name you want to add to your system image. For example: \"us\". Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Others\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Hostname\u003C/code> field, enter the hostname you want to add to your system image. If you do not add a hostname, the operating system determines the hostname.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tMandatory only for the Simplifier Installer image: On the \u003Ccode class=\"literal\">Installation Devices\u003C/code> field, enter a valid node for your system image. For example: \u003Ccode class=\"literal\">dev/sda\u003C/code>. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMandatory only when building FIDO images: On the \u003Ccode class=\"literal\">FIDO device onboarding\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Manufacturing server URL\u003C/code> field, enter the following information:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">DIUN public key insecure\u003C/code> field, enter the insecure public key.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">DIUN public key hash\u003C/code> field, enter the public key hash.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">DIUN public key root certs\u003C/code> field, enter the public key root certs. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">OpenSCAP\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Datastream\u003C/code> field, enter the \u003Ccode class=\"literal\">datastream\u003C/code> remediation instructions you want to add to your system image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Profile ID\u003C/code> field, enter the \u003Ccode class=\"literal\">profile_id\u003C/code> security profile you want to add to your system image. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMandatory only when building Ignition images: On the \u003Ccode class=\"literal\">Ignition\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Firstboot URL\u003C/code> field, enter the package name you want to add to your system image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Embedded Data\u003C/code> field, drag or upload your file. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t. On the \u003Ccode class=\"literal\">Review\u003C/code> page, review the details about the blueprint. Click \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe RHEL image builder view opens, listing existing blueprints.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.3. Creating a RHEL for Edge Commit image by using image builder in web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create a \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Commit”\u003C/strong>\u003C/span> image by using RHEL image builder in RHEL web console. The \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Commit (.tar)”\u003C/strong>\u003C/span> image type contains a full operating system, but it is not directly bootable. To boot the Commit image type, you must deploy it in a running container.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn a RHEL system, you have accessed the RHEL image builder dashboard.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the RHEL image builder dashboard click \u003Cspan class=\"guibutton\">Create Image\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output\u003C/strong>\u003C/span> page, perform the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Select a blueprint\u003C/strong>\u003C/span> dropdown menu, select the blueprint you want to use.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output type\u003C/strong>\u003C/span> dropdown list, select \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Commit (.tar)”\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>OSTree settings\u003C/strong>\u003C/span> page, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Repository URL\u003C/strong>\u003C/span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Parent commit\u003C/strong>\u003C/span>: specify a previous commit, or leave it empty if you do not have a commit at this time.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Ref\u003C/strong>\u003C/span> text box, specify a reference path for where your commit is going to be created. By default, the web console specifies \u003Ccode class=\"literal\">rhel/9/$ARCH/edge\u003C/code>. The \"$ARCH\" value is determined by the host machine. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, check the customizations and click \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRHEL image builder starts to create a RHEL for Edge Commit image for the blueprint that you created.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThe image creation process takes up to 20 minutes to complete.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo check the RHEL for Edge Commit image creation progress:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Images\u003C/span> tab.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAfter the image creation process is complete, you can download the resulting \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Commit (.tar)”\u003C/strong>\u003C/span> image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">Downloading a RHEL for Edge image\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.4. Creating a RHEL for Edge Container image by using RHEL image builder in RHEL web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create RHEL for Edge images by selecting \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Container (.tar)”\u003C/strong>\u003C/span>. The \u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Container (.tar)\u003C/strong>\u003C/span> image type creates an OSTree commit and embeds it into an OCI container with a web server. When the container is started, the web server serves the commit as an OSTree repository.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFollow the steps in this procedure to create a RHEL for Edge Container image using image builder in RHEL web console.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn a RHEL system, you have accessed the RHEL image builder dashboard.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a blueprint.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the RHEL image builder dashboard click \u003Cspan class=\"guibutton\">Create Image\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output\u003C/strong>\u003C/span> page, perform the following steps:\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Select a blueprint\u003C/strong>\u003C/span> dropdown menu, select the blueprint you want to use.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output type\u003C/strong>\u003C/span> dropdown list, select \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Container (.tar)”\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>OSTree\u003C/strong>\u003C/span> page, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Repository URL\u003C/strong>\u003C/span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. By default, the repository folder for a RHEL for Edge Container image is \"/repo\".\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tTo find the correct URL to use, access the running container and check the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file. To find which URL to use, access the running container and check the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file. Inside the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file, find the \u003Ccode class=\"literal\">root\u003C/code> directory entry to search for the \u003Ccode class=\"literal\">/repo/\u003C/code> folder information. Note that, if you do not specify a repository URL when creating a RHEL for Edge Container image \u003Ccode class=\"literal\">(.tar)\u003C/code> by using RHEL image builder, the default \u003Ccode class=\"literal\">/repo/\u003C/code> entry is created in the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Parent commit\u003C/strong>\u003C/span>: specify a previous commit, or leave it empty if you do not have a commit at this time.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Ref\u003C/strong>\u003C/span> text box, specify a reference path for where your commit is going to be created. By default, the web console specifies \u003Ccode class=\"literal\">rhel/9/$ARCH/edge\u003C/code>. The \"$ARCH\" value is determined by the host machine. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, check the customizations. Click \u003Cspan class=\"guibutton\">Save blueprint\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL image builder starts to create a RHEL for Edge Container image for the blueprint that you created.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe image creation process takes up to 20 minutes to complete.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo check the RHEL for Edge Container image creation progress:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Images\u003C/span> tab.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAfter the image creation process is complete, you can download the resulting \u003Cspan class=\"strong strong\">\u003Cstrong>“RHEL for Edge Container (.tar)”\u003C/strong>\u003C/span> image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">Downloading a RHEL for Edge image\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.5. Creating a RHEL for Edge Installer image by using image builder in RHEL web console\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create RHEL for Edge Installer images by selecting \u003Ccode class=\"literal\">RHEL for Edge Installer (.iso)\u003C/code>. The \u003Ccode class=\"literal\">RHEL for Edge Installer (.iso)\u003C/code> image type pulls the OSTree commit repository from the running container served by the \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code> and creates an installable boot ISO image with a Kickstart file that is configured to use the embedded OSTree commit.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFollow the steps in this procedure to create a RHEL for Edge image using image builder in RHEL web console.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn a RHEL system, you have accessed the image builder dashboard.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a RHEL for Edge Container image and loaded it into a running container. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Creating a RHEL for Edge Container image for non-network-based deployments\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the RHEL image builder dashboard click \u003Cspan class=\"guibutton\">Create Image\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output\u003C/strong>\u003C/span> page, perform the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Select a blueprint\u003C/strong>\u003C/span> dropdown menu, select the blueprint you want to use.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output type\u003C/strong>\u003C/span> dropdown list, select \u003Cspan class=\"strong strong\">\u003Cstrong>RHEL for Edge Installer (\u003Ccode class=\"literal\">.iso\u003C/code>)\u003C/strong>\u003C/span> image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>OSTree settings\u003C/strong>\u003C/span> page, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Repository URL\u003C/strong>\u003C/span>: specify the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Ref\u003C/strong>\u003C/span> text box, specify a reference path for where your commit is going to be created. By default, the web console specifies \u003Ccode class=\"literal\">rhel/9/$ARCH/edge\u003C/code>. The \"$ARCH\" value is determined by the host machine. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, check the customizations. Click \u003Cspan class=\"guibutton\">Save blueprint\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL image builder starts to create a RHEL for Edge Installer image for the blueprint that you created.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe image creation process takes up to 20 minutes to complete.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo check the RHEL for Edge Installer image creation progress:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Images\u003C/span> tab.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAfter the image creation process is complete, you can download the resulting \u003Ccode class=\"literal\">RHEL for Edge Installer (.iso)\u003C/code> image and boot the ISO image into a device.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">Downloading a RHEL for Edge image\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.6. Downloading a RHEL for Edge image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter you successfully create the RHEL for Edge image by using RHEL image builder, download the image on the local host.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tTo download an image:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>More Options\u003C/strong>\u003C/span> menu, click \u003Cspan class=\"guibutton\">Download\u003C/span>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe RHEL image builder tool downloads the file at your default download location.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe downloaded file consists of a \u003Ccode class=\"literal\">.tar\u003C/code> file with an OSTree repository for RHEL for Edge Commit and RHEL for Edge Container images, or a \u003Ccode class=\"literal\">.iso\u003C/code> file for RHEL for Edge Installer images, with an OSTree repository. This repository contains the commit and a \u003Ccode class=\"literal\">json\u003C/code> file which contains information metadata about the repository content.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">4.7. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image using image builder command-line\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 5. Composing a RHEL for Edge image using image builder command-line\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can use image builder to create a customized RHEL for Edge image (OSTree commit).\n\t\t\u003C/p>\u003Cp>\n\t\t\tTo access image builder and to create your custom RHEL for Edge image, you can either use the RHEL web console interface or the command-line interface.\n\t\t\u003C/p>\u003Cp>\n\t\t\tFor Network-based deployments, the workflow to compose RHEL for Edge images using the CLI, involves the following high-level steps:\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a blueprint for RHEL for Edge image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a RHEL for Edge Commit image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tDownload the RHEL for Edge Commit image\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\tFor Non-Network-based deployments, the workflow to compose RHEL for Edge images using the CLI, involves the following high-level steps:\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a blueprint for RHEL for Edge image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a blueprint for the RHEL for Edge Installer image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a RHEL for Edge Container image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tCreate a RHEL for Edge Installer image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tDownload the RHEL for Edge image\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\tTo perform the steps, use the \u003Ccode class=\"literal\">composer-cli\u003C/code> package.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tTo run the \u003Ccode class=\"literal\">composer-cli\u003C/code> commands as non-root, you must be part of the \u003Ccode class=\"literal\">weldr\u003C/code> group or you must have administrator access to the system.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"network_based_deployments_workflow\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.1. Network-based deployments workflow\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis provides steps on how to build \u003Ccode class=\"literal\">OSTree\u003C/code> commits. These \u003Ccode class=\"literal\">OSTree\u003C/code> commits contain a full operating system, but are not directly bootable. To boot them, you need to deploy them using a Kickstart file.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.1.1. Creating a RHEL for Edge Commit image blueprint using image builder command-line interface\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tCreate a blueprint for RHEL for Edge Commit image using the CLI.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisite\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou do not have an existing blueprint. To verify that, list the existing blueprints:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo composer-cli blueprints list\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a plain text file in the TOML format, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"blueprint-name\"\ndescription = \"blueprint-text-description\"\nversion = \"0.0.1\"\nmodules = [ ]\ngroups = [ ]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the name and blueprint-text-description is the description for your blueprint.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>0.0.1\u003C/em>\u003C/span> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Modules\u003C/em>\u003C/span> describe the package name and matching version glob to be installed into the image, for example, the package name = \"tmux\" and the matching version glob is version = \"2.9a\".\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tNotice that currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Groups\u003C/em>\u003C/span> are packages groups to be installed into the image, for example the group package anaconda-tools.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAt this time, if you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInclude the required packages and customize the other details in the blueprint to suit your requirements.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor every package that you want to include in the blueprint, add the following lines to the file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[packages]]\nname = \"package-name\"\nversion = \"package-version\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tpackage-name is the name of the package, such as httpd, gdb-doc, or coreutils.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tpackage-version is the version number of the package that you want to use.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe package-version supports the following dnf version specifications:\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFor a specific version, use the exact version number such as 9.0.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFor the latest available version, use the asterisk *.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFor the latest minor version, use formats such as 9.*.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPush (import) the blueprint to the RHEL image builder server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name.toml\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show BLUEPRINT-NAME\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface\">Supported Image Customizations\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.1.2. Creating a RHEL for Edge Commit image using image builder command-line interface\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo create a RHEL for Edge Commit image by using RHEL image builder command-line interface, ensure that you have met the following prerequisites and follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a blueprint for RHEL for Edge Commit image.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the RHEL for Edge Commit image.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the RHEL for Edge blueprint name.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span> is \u003Ccode class=\"literal\">edge-commit\u003C/code> for \u003Cspan class=\"strong strong\">\u003Cstrong>network-based deployment\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe image creation process takes up to 20 minutes to complete.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo interrupt the image creation process, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose cancel \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo delete an existing image, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose delete \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter the image is ready, you can download it and use the image on your \u003Cspan class=\"strong strong\">\u003Cstrong>network deployments\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image using RHEL image builder command-line\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.1.3. Creating a RHEL for Edge image update with a ref commit by using RHEL image builder CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tIf you performed a change in an existing blueprint, for example, you added a new package, and you want to update an existing RHEL for Edge image with this new package, you can use the \u003Ccode class=\"literal\">--parent\u003C/code> argument to generate an updated \u003Ccode class=\"literal\">RHEL for Edge Commit (.tar)\u003C/code> image. The \u003Ccode class=\"literal\">--parent\u003C/code> argument can be either a \u003Ccode class=\"literal\">ref\u003C/code> that exists in the repository specified by the \u003Ccode class=\"literal\">URL\u003C/code> argument, or you can use the \u003Ccode class=\"literal\">Commit ID\u003C/code>, which you can find in the extracted \u003Ccode class=\"literal\">.tar\u003C/code> image file. Both \u003Ccode class=\"literal\">ref\u003C/code> and \u003Ccode class=\"literal\">Commit ID\u003C/code> arguments retrieve a parent for the new commit that you are building. RHEL image builder can read information from the parent commit that will affect parts of the new commit that you are building. As a result, RHEL image builder reads the parent commit’s user database and preserves UIDs and GIDs for the package-created system users and groups.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have updated an existing blueprint for RHEL for Edge image.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have an existing RHEL for Edge image (OSTree commit). See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images\">Extracting RHEL for Edge image commit\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ref\u003C/code> being built is available at the \u003Ccode class=\"literal\">OSTree\u003C/code> repository specified by the URL.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the RHEL for Edge commit image:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>rhel/9/x86_64/edge\u003C/em>\u003C/span> --parent \u003Cspan class=\"emphasis\">\u003Cem>parent-OSTree-REF\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>URL\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo create a new RHEL for Edge commit based on a \u003Ccode class=\"literal\">parent\u003C/code> and with a new \u003Ccode class=\"literal\">ref\u003C/code>, run the following command:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>rhel/9/x86_64/edge\u003C/em>\u003C/span> --parent \u003Cspan class=\"emphasis\">\u003Cem>rhel/9/x86_64/edge\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>http://10.0.2.2:8080/repo\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>rhel_update\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>edge-commit\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo create a new RHEL for Edge commit based on the same \u003Ccode class=\"literal\">ref\u003C/code>, run the following command:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref rhel/9/x86_64/edge --url \u003Cspan class=\"emphasis\">\u003Cem>http://10.0.2.2:8080/repo\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>rhel_update\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>edge-commit\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWhere:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>--ref\u003C/em>\u003C/span> argument specifies the same path value that you used to build an OSTree repository.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>--parent\u003C/em>\u003C/span> argument specifies the parent commit. It can be ref to be resolved and pulled, for example \u003Ccode class=\"literal\">rhel/9/x86_64/edge\u003C/code>, or the \u003Ccode class=\"literal\">Commit ID\u003C/code> that you can find in the extracted \u003Ccode class=\"literal\">.tar\u003C/code> file.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the RHEL for Edge blueprint name.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--url\u003C/code> argument specifies the URL to the OSTree repository of the commit to embed in the image, for example, http://10.0.2.2:8080/repo.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span> is \u003Ccode class=\"literal\">edge-commit\u003C/code> for \u003Cspan class=\"strong strong\">\u003Cstrong>network-based deployment\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"square\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--parent\u003C/code> argument can only be used for the \u003Ccode class=\"literal\">RHEL for Edge Commit (.tar)\u003C/code> image type. Using the \u003Ccode class=\"literal\">--url\u003C/code> and \u003Ccode class=\"literal\">--parent\u003C/code> arguments together results in errors with the \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code> image type.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIf you omit the \u003Ccode class=\"literal\">parent ref\u003C/code> argument, the system falls back to the \u003Ccode class=\"literal\">ref\u003C/code> specified by the \u003Ccode class=\"literal\">--ref\u003C/code> argument.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe image creation process takes a few minutes to complete.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t(Optional) To interrupt the image creation process, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose cancel \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t(Optional) To delete an existing image, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose delete \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter the image creation is complete, to upgrade an existing OSTree deployment, you need:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSet up a repository. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images\">Deploying a RHEL for Edge image\u003C/a> .\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAdd this repository as a remote, that is, the http or https endpoint that hosts the OSTree content.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPull the new OSTree commit onto their existing running instance. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images\">Deploying RHEL for Edge image updates manually\u003C/a> .\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Creating a system image with RHEL image builder in the command-line interface\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line\">Downloading a RHEL for Edge image by using the RHEL image builder command-line interface\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo download a RHEL for Edge image by using RHEL image builder command line interface, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a RHEL for Edge image.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReview the RHEL for Edge image status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe output must display the following:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> FINISHED date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDownload the image.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image &lt;UUID&gt;\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRHEL image builder downloads the image as a \u003Ccode class=\"literal\">tar\u003C/code> file to the current directory.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe UUID number and the image size is displayed alongside.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-commit.tar: \u003Cspan class=\"emphasis\">\u003Cem>size\u003C/em>\u003C/span> MB\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tThe image contains a commit and a \u003Ccode class=\"literal\">json\u003C/code> file with information metadata about the repository content.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images\">Deploying a RHEL for Edge image in a network-based environment\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"non_network_based_deployments_workflow\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.2. Non-network-based deployments workflow\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo build a boot ISO image that installs an OSTree-based system using the \"RHEL for Edge Container\" and the \"RHEL for Edge Installer\" images and that can be later deployed to a device in disconnected environments, follow the steps.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.2.1. Creating a RHEL for Edge Container blueprint by using image builder CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo create a blueprint for RHEL for Edge Container image, perform the following steps:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a plain text file in the TOML format, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"blueprint-name\"\ndescription = \"blueprint-text-description\"\nversion = \"0.0.1\"\nmodules = [ ]\ngroups = [ ]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the name and blueprint-text-description is the description for your blueprint.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>0.0.1\u003C/em>\u003C/span> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Modules\u003C/em>\u003C/span> describe the package name and matching version glob to be installed into the image, for example, the package name = \"tmux\" and the matching version glob is version = \"2.9a\".\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tNotice that currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Groups\u003C/em>\u003C/span> are packages groups to be installed into the image, for example the group package anaconda-tools.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAt this time, if you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInclude the required packages and customize the other details in the blueprint to suit your requirements.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor every package that you want to include in the blueprint, add the following lines to the file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[packages]]\nname = \"package-name\"\nversion = \"package-version\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tpackage-name is the name of the package, such as \u003Ccode class=\"literal\">httpd\u003C/code>, \u003Ccode class=\"literal\">gdb-doc\u003C/code>, or \u003Ccode class=\"literal\">coreutils\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tpackage-version is the version number of the package that you want to use.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe package-version supports the following \u003Ccode class=\"literal\">dnf\u003C/code> version specifications:\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFor a specific version, use the exact version number such as 9.0.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFor the latest available version, use the asterisk *.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFor the latest minor version, use formats such as 9.*.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPush (import) the blueprint to the RHEL image builder server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name.toml\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show BLUEPRINT-NAME\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface\">Supported Image Customizations\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.2.2. Creating a RHEL for Edge Installer blueprint using image builder CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can create a blueprint to build a \u003Ccode class=\"literal\">RHEL for Edge Installer (.iso)\u003C/code> image, and specify user accounts to automatically create one or more users on the system at installation time.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tWhen you create a user in the blueprint with the \u003Ccode class=\"literal\">customizations.user\u003C/code> customization, the blueprint creates the user under the \u003Ccode class=\"literal\">/usr/lib/passwd\u003C/code> directory and the password, under the \u003Ccode class=\"literal\">/usr/etc/shadow\u003C/code> directory. Note that you cannot change the password in further versions of the image in a running system using \u003Ccode class=\"literal\">OSTree\u003C/code> updates. The users you create with blueprints must be used only to gain access to the created system. After you access the system, you need to create users, for example, using the \u003Ccode class=\"literal\">useradd\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tTo create a blueprint for RHEL for Edge Installer image, perform the following steps:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a plain text file in the TOML format, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"blueprint-installer\"\ndescription = \"blueprint-for-installer-image\"\nversion = \"0.0.1\"\n\n[[customizations.user]]\nname = \"\u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span>\"\ndescription = \"\u003Cspan class=\"emphasis\">\u003Cem>account\u003C/em>\u003C/span>\"\npassword = \"\u003Cspan class=\"emphasis\">\u003Cem>user-password\u003C/em>\u003C/span>\"\nkey = \"\u003Cspan class=\"emphasis\">\u003Cem>user-ssh-key\u003C/em>\u003C/span> \"\nhome = \"\u003Cspan class=\"emphasis\">\u003Cem>path\u003C/em>\u003C/span>\"\ngroups = [\"\u003Cspan class=\"emphasis\">\u003Cem>user-groups\u003C/em>\u003C/span>\"]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the name and blueprint-text-description is the description for your blueprint.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>0.0.1\u003C/em>\u003C/span> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPush (import) the blueprint to the RHEL image builder server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name.toml\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line\">Supported Image Customizations\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.2.3. Creating a RHEL for Edge Container image by using image builder CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo create a RHEL for Edge Container image by using RHEL image builder command-line interface, ensure that you have met the following prerequisites and follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a blueprint for RHEL for Edge Container image.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the RHEL for Edge Container image.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>rhel/9/x86_64/edge\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--ref\u003C/code> is the same value that customer used to build OSTree repository\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--url\u003C/code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. By default, the repository folder for a RHEL for Edge Container image is \"/repo\". See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo find the correct URL to use, access the running container and check the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file. To find which URL to use, access the running container and check the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file. Inside the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file, find the \u003Ccode class=\"literal\">root\u003C/code> directory entry to search for the \u003Ccode class=\"literal\">/repo/\u003C/code> folder information. Note that, if you do not specify a repository URL when creating a RHEL for Edge Container image \u003Ccode class=\"literal\">(.tar)\u003C/code> by using RHEL image builder, the default \u003Ccode class=\"literal\">/repo/\u003C/code> entry is created in the \u003Ccode class=\"literal\">nginx.conf\u003C/code> file.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the RHEL for Edge blueprint name.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span> is \u003Ccode class=\"literal\">edge-container\u003C/code> for \u003Cspan class=\"strong strong\">\u003Cstrong>non-network-based deployment\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe image creation process takes up to 20 minutes to complete.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo interrupt the image creation process, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose cancel \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo delete an existing image, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose delete \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter the image is ready, it can be used for \u003Cspan class=\"strong strong\">\u003Cstrong>non-network deployments\u003C/strong>\u003C/span>. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Creating a RHEL for Edge Container image for non-network-based deployments\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image using RHEL image builder command-line\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.2.4. Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo create a RHEL for Edge Installer image that embeds the \u003Ccode class=\"literal\">OSTree\u003C/code> commit, use the RHEL image builder command-line interface, and ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a blueprint for RHEL for Edge Installer image.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a RHEL for Edge Container image and deployed it using a web server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBegin to create the RHEL for Edge Installer image.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>rhel/9/x86_64/edge\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere,\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>ref\u003C/em>\u003C/span> is the same value that customer used to build the OSTree repository\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Creating a RHEL for Edge Container image for non-network-based deployments\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the RHEL for Edge Installer blueprint name.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span> is \u003Ccode class=\"literal\">edge-installer\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output displays the status in the following format:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe image creation process takes a few minutes to complete.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo interrupt the image creation process, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose cancel \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo delete an existing image, run:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose delete \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter the image is ready, you can use it for \u003Cspan class=\"strong strong\">\u003Cstrong>non-network deployments\u003C/strong>\u003C/span>. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Installing the RHEL for Edge image for non-network-based deployments\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.2.5. Downloading a RHEL for Edge Installer image using the image builder CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo download a RHEL for Edge Installer image by using RHEL image builder command line interface, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a RHEL for Edge Installer image.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReview the RHEL for Edge image status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe output must display the following:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> FINISHED date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDownload the image.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image &lt;UUID&gt;\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRHEL image builder downloads the image as an \u003Ccode class=\"literal\">.iso\u003C/code> file to the current directory.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe UUID number and the image size is displayed alongside.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-boot.iso: \u003Cspan class=\"emphasis\">\u003Cem>size\u003C/em>\u003C/span> MB\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tThe resulting image is a bootable ISO image.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images\">Deploying a RHEL for Edge image in a non-network-based environment\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.3. Supported image customizations\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can customize your image by adding customizations to your blueprint, such as:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdding an additional RPM package\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnabling a service\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCustomizing a kernel command line parameter.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tBetween others. You can use several image customizations within blueprints. By using the customizations, you can add packages and groups to the image that are not available in the default packages. To use these options, configure the customizations in the blueprint and import (push) it to RHEL image builder.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/6971352\">Blueprint import fails after adding filesystem customization \"size\"\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"selecting-a-distribution_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.1. Selecting a distribution\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">distro\u003C/code> field to select the distribution to use when composing your images, or solving dependencies in the blueprint. If \u003Ccode class=\"literal\">distro\u003C/code> is left blank it will use the host distribution. If you do not specify a distribution, the blueprint uses the host distribution. In case you upgrade the host operating system, the blueprints with no distribution set build images using the new operating system version. You cannot build an operating system image that differs from the RHEL image builder host.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint with the RHEL distribution to always build the specified RHEL image:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"\u003Cspan class=\"emphasis\">\u003Cem>blueprint_name\u003C/em>\u003C/span>\"\ndescription = \"\u003Cspan class=\"emphasis\">\u003Cem>blueprint_version\u003C/em>\u003C/span>\"\nversion = \"0.1\"\ndistro = \"\u003Cspan class=\"emphasis\">\u003Cem>different_minor_version\u003C/em>\u003C/span>\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"tmux\"\ndescription = \"tmux image with openssh\"\nversion = \"1.2.16\"\ndistro = \"rhel-9.5\"\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tReplace \u003Ccode class=\"literal\">\"\u003Cspan class=\"emphasis\">\u003Cem>different_minor_version\u003C/em>\u003C/span>\"\u003C/code> to build a different minor version, for example, if you want to build a RHEL 9.5 image, use \u003Ccode class=\"literal\">distro\u003C/code> = \"rhel-94\". On RHEL 9.3 image, you can build minor versions such as RHEL 9.3, RHEL 8.10 and earlier releases.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"selecting-a-package-group_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.2. Selecting a package group\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tCustomize the blueprint with package groups. The \u003Ccode class=\"literal\">groups\u003C/code> list describes the groups of packages that you want to install into the image. The package groups are defined in the repository metadata. Each group has a descriptive name that is used primarily for display in user interfaces, and an ID that is commonly used in Kickstart files. In this case, you must use the ID to list a group. Groups have three different ways of categorizing their packages: mandatory, default, and optional. Only mandatory and default packages are installed in the blueprints. It is not possible to select optional packages.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">name\u003C/code> attribute is a required string and must match exactly the package group id in the repositories.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tCurrently, there are no differences between packages and modules in \u003Ccode class=\"literal\">osbuild-composer\u003C/code>. Both are treated as an RPM package dependency.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize your blueprint with a package:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[groups]]\nname = \"\u003Cspan class=\"emphasis\">\u003Cem>group_name\u003C/em>\u003C/span>\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReplace \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>group_name\u003C/em>\u003C/span>\u003C/code> with the name of the group. For example, \u003Ccode class=\"literal\">anaconda-tools\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[groups]]\nname = \"anaconda-tools\"\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-the-image-hostname_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.3. Setting the image hostname\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">customizations.hostname\u003C/code> is an optional string that you can use to configure the final image hostname. This customization is optional, and if you do not set it, the blueprint uses the default hostname.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint to configure the hostname:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations]\nhostname = \"baseimage\"\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"specifying-additional-users_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.4. Specifying additional users\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAdd a user to the image, and optionally, set their SSH key. All fields for this section are optional except for the \u003Ccode class=\"literal\">name\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint to add a user to the image:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.user]]\nname = \"\u003Cspan class=\"emphasis\">\u003Cem>USER-NAME\u003C/em>\u003C/span>\"\ndescription = \"\u003Cspan class=\"emphasis\">\u003Cem>USER-DESCRIPTION\u003C/em>\u003C/span>\"\npassword = \"\u003Cspan class=\"emphasis\">\u003Cem>PASSWORD-HASH\u003C/em>\u003C/span>\"\nkey = \"\u003Cspan class=\"emphasis\">\u003Cem>PUBLIC-SSH-KEY\u003C/em>\u003C/span>\"\nhome = \"/home/\u003Cspan class=\"emphasis\">\u003Cem>USER-NAME\u003C/em>\u003C/span>/\"\nshell = \"\u003Cspan class=\"emphasis\">\u003Cem>/usr/bin/bash\u003C/em>\u003C/span>\"\ngroups = [\u003Cspan class=\"emphasis\">\u003Cem>\"users\", \"wheel\"\u003C/em>\u003C/span>]\nuid = \u003Cspan class=\"emphasis\">\u003Cem>NUMBER\u003C/em>\u003C/span>\ngid = \u003Cspan class=\"emphasis\">\u003Cem>NUMBER\u003C/em>\u003C/span>\u003C/pre>\u003Cpre class=\"screen\">[[customizations.user]]\nname = \"admin\"\ndescription = \"Administrator account\"\npassword = \"$6$CHO2$3rN8eviE2t50lmVyBYihTgVRHcaecmeCk31L...\"\nkey = \"PUBLIC SSH KEY\"\nhome = \"/srv/widget/\"\nshell = \"/usr/bin/bash\"\ngroups = [\"widget\", \"users\", \"wheel\"]\nuid = 1200\ngid = 1200\nexpiredate = 12345\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe GID is optional and must already exist in the image. Optionally, a package creates it, or the blueprint creates the GID by using the \u003Ccode class=\"literal\">[[customizations.group]]\u003C/code> entry.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReplace \u003Cspan class=\"emphasis\">\u003Cem>PASSWORD-HASH\u003C/em>\u003C/span> with the actual \u003Ccode class=\"literal\">password hash\u003C/code>. To generate the \u003Ccode class=\"literal\">password hash\u003C/code>, use a command such as:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ python3 -c 'import crypt,getpass;pw=getpass.getpass();print(crypt.crypt(pw) if (pw==getpass.getpass(\"Confirm: \")) else exit())'\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReplace the other placeholders with suitable values.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnter the \u003Ccode class=\"literal\">name\u003C/code> value and omit any lines you do not need.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRepeat this block for every user to include.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"specifying-additional-groups_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.5. Specifying additional groups\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tSpecify a group for the resulting system image. Both the \u003Ccode class=\"literal\">name\u003C/code> and the \u003Ccode class=\"literal\">gid\u003C/code> attributes are mandatory.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint with a group:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.group]]\nname = \"\u003Cspan class=\"emphasis\">\u003Cem>GROUP-NAME\u003C/em>\u003C/span>\"\ngid = \u003Cspan class=\"emphasis\">\u003Cem>NUMBER\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRepeat this block for every group to include. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.group]]\nname = \"widget\"\ngid = 1130\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-ssh-key-for-existing-users_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.6. Setting SSH key for existing users\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use \u003Ccode class=\"literal\">customizations.sshkey\u003C/code> to set an SSH key for the existing users in the final image. Both \u003Ccode class=\"literal\">user\u003C/code> and \u003Ccode class=\"literal\">key\u003C/code> attributes are mandatory.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint by setting an SSH key for existing users:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.sshkey]]\nuser = \"\u003Cspan class=\"emphasis\">\u003Cem>root\u003C/em>\u003C/span>\"\nkey = \"\u003Cspan class=\"emphasis\">\u003Cem>PUBLIC-SSH-KEY\u003C/em>\u003C/span>\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.sshkey]]\nuser = \"root\"\nkey = \"SSH key for root\"\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tYou can only configure the \u003Ccode class=\"literal\">customizations.sshkey\u003C/code> customization for existing users. To create a user and set an SSH key, see the \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#specifying-additional-users_creating-system-images-with-composer-command-line-interface\">Specifying additional users\u003C/a> customization.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"appending-a-kernel_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.7. Appending a kernel argument\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can append arguments to the boot loader kernel command line. By default, RHEL image builder builds a default kernel into the image. However, you can customize the kernel by configuring it in the blueprint.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAppend a kernel boot parameter option to the defaults:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.kernel]\nappend = \"\u003Cspan class=\"emphasis\">\u003Cem>KERNEL-OPTION\u003C/em>\u003C/span>\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.kernel]\nname = \"kernel-debug\"\nappend = \"nosmt=force\"\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-timezone-and-ntp_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.8. Setting time zone and NTP\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can customize your blueprint to configure the time zone and the \u003Cspan class=\"emphasis\">\u003Cem>Network Time Protocol\u003C/em>\u003C/span> (NTP). Both \u003Ccode class=\"literal\">timezone\u003C/code> and \u003Ccode class=\"literal\">ntpservers\u003C/code> attributes are optional strings. If you do not customize the time zone, the system uses \u003Cspan class=\"emphasis\">\u003Cem>Universal Time, Coordinated\u003C/em>\u003C/span> (UTC). If you do not set NTP servers, the system uses the default distribution.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint with the \u003Ccode class=\"literal\">timezone\u003C/code> and the \u003Ccode class=\"literal\">ntpservers\u003C/code> you want:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.timezone]\ntimezone = \"\u003Cspan class=\"emphasis\">\u003Cem>TIMEZONE\u003C/em>\u003C/span>\"\nntpservers = \"\u003Cspan class=\"emphasis\">\u003Cem>NTP_SERVER\u003C/em>\u003C/span>\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.timezone]\ntimezone = \"US/Eastern\"\nntpservers = [\"0.north-america.pool.ntp.org\", \"1.north-america.pool.ntp.org\"]\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tSome image types, such as Google Cloud, already have NTP servers set up. You cannot override it because the image requires the NTP servers to boot in the selected environment. However, you can customize the time zone in the blueprint.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"customizing-the-locale-settings_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.9. Customizing the locale settings\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can customize the locale settings for your resulting system image. Both \u003Ccode class=\"literal\">language\u003C/code> and the \u003Ccode class=\"literal\">keyboard\u003C/code> attributes are mandatory. You can add many other languages. The first language you add is the primary language and the other languages are secondary.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet the locale settings:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.locale]\nlanguages = \u003Cspan class=\"emphasis\">\u003Cem>[\"LANGUAGE\"]\u003C/em>\u003C/span>\nkeyboard = \"\u003Cspan class=\"emphasis\">\u003Cem>KEYBOARD\u003C/em>\u003C/span>\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.locale]\nlanguages = [\"en_US.UTF-8\"]\nkeyboard = \"us\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list the values supported by the languages, run the following command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ localectl list-locales\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list the values supported by the keyboard, run the following command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ localectl list-keymaps\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"customizing-firewall_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.10. Customizing firewall\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tSet the firewall for the resulting system image. By default, the firewall blocks incoming connections, except for services that enable their ports explicitly, such as \u003Ccode class=\"literal\">sshd\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf you do not want to use the \u003Ccode class=\"literal\">[customizations.firewall]\u003C/code> or the \u003Ccode class=\"literal\">[customizations.firewall.services]\u003C/code>, either remove the attributes, or set them to an empty list []. If you only want to use the default firewall setup, you can omit the customization from the blueprint.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe Google and OpenStack templates explicitly disable the firewall for their environment. You cannot override this behavior by setting the blueprint.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize the blueprint with the following settings to open other ports and services:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.firewall]\nports = \u003Cspan class=\"emphasis\">\u003Cem>[\"PORTS\"]\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhere \u003Ccode class=\"literal\">ports\u003C/code> is an optional list of strings that contain ports or a range of ports and protocols to open. You can configure the ports by using the following format: \u003Ccode class=\"literal\">port:protocol\u003C/code> format. You can configure the port ranges by using the \u003Ccode class=\"literal\">portA-portB:protocol\u003C/code> format. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.firewall]\nports = [\"22:tcp\", \"80:tcp\", \"imap:tcp\", \"53:tcp\", \"53:udp\", \"30000-32767:tcp\", \"30000-32767:udp\"]\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can use numeric ports, or their names from the \u003Ccode class=\"literal\">/etc/services\u003C/code> to enable or disable port lists.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSpecify which firewall services to enable or disable in the \u003Ccode class=\"literal\">customizations.firewall.service\u003C/code> section:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.firewall.services]\nenabled = \u003Cspan class=\"emphasis\">\u003Cem>[\"SERVICES\"]\u003C/em>\u003C/span>\ndisabled = \u003Cspan class=\"emphasis\">\u003Cem>[\"SERVICES\"]\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can check the available firewall services:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ firewall-cmd --get-services\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.firewall.services]\nenabled = [\"ftp\", \"ntp\", \"dhcp\"]\ndisabled = [\"telnet\"]\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe services listed in \u003Ccode class=\"literal\">firewall.services\u003C/code> are different from the \u003Ccode class=\"literal\">service-names\u003C/code> available in the \u003Ccode class=\"literal\">/etc/services\u003C/code> file.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-or-disabling-services_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.11. Enabling or disabling services\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can control which services to enable during the boot time. Some image types already have services enabled or disabled to ensure that the image works correctly and you cannot override this setup. The \u003Ccode class=\"literal\">[customizations.services]\u003C/code> settings in the blueprint do not replace these services, but add the services to the list of services already present in the image templates.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCustomize which services to enable during the boot time:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.services]\nenabled = \u003Cspan class=\"emphasis\">\u003Cem>[\"SERVICES\"]\u003C/em>\u003C/span>\ndisabled = \u003Cspan class=\"emphasis\">\u003Cem>[\"SERVICES\"]\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.services]\nenabled = [\"sshd\", \"cockpit.socket\", \"httpd\"]\ndisabled = [\"postfix\", \"telnetd\"]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">5.3.12. Specifying a custom file system configuration\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can specify a custom file system configuration in your blueprints and therefore create images with a specific disk layout, instead of the default layout configuration. By using the non-default layout configuration in your blueprints, you can benefit from:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSecurity benchmark compliance\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tProtection against out-of-disk errors\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tImproved performance\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tConsistency with existing setups\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe OSTree systems do not support the file system customizations, because OSTree images have their own mount rule, such as read-only. The following image types are not supported:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">image-installer\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-installer\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-simplified-installer\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tAdditionally, the following image types do not support file system customizations, because these image types do not create partitioned operating system images:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-commit\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-container\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">tar\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">container\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tHowever, the following image types have support for file system customization:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">simplified-installer\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-raw-image\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-ami\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-vsphere\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tWith some additional exceptions for OSTree systems, you can choose arbitrary directory names at the \u003Ccode class=\"literal\">/root\u003C/code> level of the file system, for example: ` /local`,` /mypartition`, \u003Ccode class=\"literal\">/$PARTITION\u003C/code>. In logical volumes, these changes are made on top of the LVM partitioning system. The following directories are supported: \u003Ccode class=\"literal\">/var\u003C/code>,` /var/log`, and \u003Ccode class=\"literal\">/var/lib/containers\u003C/code> on a separate logical volume. The following are exceptions at root level:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/home\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/mnt\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/opt\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/ostree\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/root\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/srv\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/var/home\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/var/mnt\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/var/opt\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/var/roothome\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/var/srv\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\"/var/usrlocal\": {Deny: true},\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tFor release distributions before RHEL 8.10 and 9.5, the blueprint supports the following \u003Ccode class=\"literal\">mountpoints\u003C/code> and their sub-directories:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/\u003C/code> - the root mount point\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/var\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/home\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/opt\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/srv\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/app\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/data\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/tmp\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tFrom the RHEL 9.5 and 8.10 release distributions onward, you can specify arbitrary custom mountpoints, except for specific paths that are reserved for the operating system.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou cannot specify arbitrary custom mountpoints on the following mountpoints and their sub-directories:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/bin\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/boot/efi\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/dev\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/lib\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/lib64\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/lost+found\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/proc\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/run\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/sbin\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/sys\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/sysroot\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/var/lock\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/var/run\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can customize the file system in the blueprint for the \u003Ccode class=\"literal\">/usr\u003C/code> custom mountpoint, but its subdirectory is not allowed.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tCustomizing mount points is only supported from RHEL 9.0 distributions onward, by using the CLI. In earlier distributions, you can only specify the \u003Ccode class=\"literal\">root\u003C/code> partition as a mount point and specify the \u003Ccode class=\"literal\">size\u003C/code> argument as an alias for the image size.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tIf you have more than one partition in the customized image, you can create images with a customized file system partition on LVM and resize those partitions at runtime. To do this, you can specify a customized file system configuration in your blueprint and therefore create images with the required disk layout. The default file system layout remains unchanged - if you use plain images without file system customization, and \u003Ccode class=\"literal\">cloud-init\u003C/code> resizes the root partition.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe blueprint automatically converts the file system customization to an LVM partition.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou can use the custom file blueprint customization to create new files or to replace existing files. The parent directory of the file you specify must exist, otherwise, the image build fails. Ensure that the parent directory exists by specifying it in the \u003Ccode class=\"literal\">[[customizations.directories]]\u003C/code> customization.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIf you combine the files customizations with other blueprint customizations, it might affect the functioning of the other customizations, or it might override the current files customizations.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"specifying_customized_files_in_the_blueprint\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch5 class=\"title\">5.3.12.1. Specifying customized files in the blueprint\u003C/h5>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\t\tWith the \u003Ccode class=\"literal\">[[customizations.files]]\u003C/code> blueprint customization you can:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tCreate new text files.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tModifying existing files. WARNING: this can override the existing content.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet user and group ownership for the file you are creating.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the mode permission in the octal format.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\t\tYou cannot create or replace the following files:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/fstab\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/shadow\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/passwd\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/group\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\t\tYou can create customized files and directories in your image, by using the \u003Ccode class=\"literal\">[[customizations.files]]\u003C/code> and the \u003Ccode class=\"literal\">[[customizations.directories]]\u003C/code> blueprint customizations. You can use these customizations only in the \u003Ccode class=\"literal\">/etc\u003C/code> directory.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThese blueprint customizations are supported by all image types, except the image types that deploy OSTree commits, such as \u003Ccode class=\"literal\">edge-raw-image\u003C/code>, \u003Ccode class=\"literal\">edge-installer\u003C/code>, and \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you use the \u003Ccode class=\"literal\">customizations.directories\u003C/code> with a directory path which already exists in the image with \u003Ccode class=\"literal\">mode\u003C/code>, \u003Ccode class=\"literal\">user\u003C/code> or \u003Ccode class=\"literal\">group\u003C/code> already set, the image build fails to prevent changing the ownership or permissions of the existing directory.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"specifying_customized_directories_in_the_blueprint\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch5 class=\"title\">5.3.12.2. Specifying customized directories in the blueprint\u003C/h5>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\t\tWith the \u003Ccode class=\"literal\">[[customizations.directories]]\u003C/code> blueprint customization you can:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tCreate new directories.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet user and group ownership for the directory you are creating.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the directory mode permission in the octal format.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnsure that parent directories are created as needed.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\t\tWith the \u003Ccode class=\"literal\">[[customizations.files]]\u003C/code> blueprint customization you can:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tCreate new text files.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tModifying existing files. WARNING: this can override the existing content.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet user and group ownership for the file you are creating.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tSet the mode permission in the octal format.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tYou cannot create or replace the following files:\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/fstab\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/shadow\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/passwd\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/etc/group\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\t\tThe following customizations are available:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCustomize the file system configuration in your blueprint:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.filesystem]]\nmountpoint = \u003Cspan class=\"emphasis\">\u003Cem>\"MOUNTPOINT\"\u003C/em>\u003C/span>\nminsize = \u003Cspan class=\"emphasis\">\u003Cem>MINIMUM-PARTITION-SIZE\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">MINIMUM-PARTITION-SIZE\u003C/code> value has no default size format. The blueprint customization supports the following values and units: kB to TB and KiB to TiB. For example, you can define the mount point size in bytes:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.filesystem]]\nmountpoint = \"/var\"\nminsize = 1073741824\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDefine the mount point size by using units. For example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.filesystem]]\nmountpoint = \"/opt\"\nminsize = \"20 GiB\"\u003C/pre>\u003Cpre class=\"screen\">[[customizations.filesystem]]\nmountpoint = \"/boot\"\nminsize = \"1 GiB\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDefine the minimum partition by setting \u003Ccode class=\"literal\">minsize\u003C/code>. For example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.filesystem]]\nmountpoint = \"/var\"\nminsize = 2147483648\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate customized directories under the \u003Ccode class=\"literal\">/etc\u003C/code> directory for your image by using \u003Ccode class=\"literal\">[[customizations.directories]]\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.directories]]\npath = \"/etc/\u003Cspan class=\"emphasis\">\u003Cem>directory_name\u003C/em>\u003C/span>\"\nmode = \"\u003Cspan class=\"emphasis\">\u003Cem>octal_access_permission\u003C/em>\u003C/span>\"\nuser = \"\u003Cspan class=\"emphasis\">\u003Cem>user_string_or_integer\u003C/em>\u003C/span>\"\ngroup = \"\u003Cspan class=\"emphasis\">\u003Cem>group_string_or_integer\u003C/em>\u003C/span>\"\nensure_parents = \u003Cspan class=\"emphasis\">\u003Cem>boolean\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe blueprint entries are described as following:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">path\u003C/code> - Mandatory - enter the path to the directory that you want to create. It must be an absolute path under the \u003Ccode class=\"literal\">/etc\u003C/code> directory.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mode\u003C/code> - Optional - set the access permission on the directory, in the octal format. If you do not specify a permission, it defaults to 0755. The leading zero is optional.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">user\u003C/code> - Optional - set a user as the owner of the directory. If you do not specify a user, it defaults to \u003Ccode class=\"literal\">root\u003C/code>. You can specify the user as a string or as an integer.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">group\u003C/code> - Optional - set a group as the owner of the directory. If you do not specify a group, it defaults to \u003Ccode class=\"literal\">root\u003C/code>. You can specify the group as a string or as an integer.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ensure_parents\u003C/code> - Optional - Specify whether you want to create parent directories as needed. If you do not specify a value, it defaults to \u003Ccode class=\"literal\">false\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate customized file under the \u003Ccode class=\"literal\">/etc\u003C/code> directory for your image by using \u003Ccode class=\"literal\">[[customizations.directories]]\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[[customizations.files]]\npath = \"/etc/\u003Cspan class=\"emphasis\">\u003Cem>directory_name\u003C/em>\u003C/span>\"\nmode = \"\u003Cspan class=\"emphasis\">\u003Cem>octal_access_permission\u003C/em>\u003C/span>\"\nuser = \"\u003Cspan class=\"emphasis\">\u003Cem>user_string_or_integer\u003C/em>\u003C/span>\"\ngroup = \"\u003Cspan class=\"emphasis\">\u003Cem>group_string_or_integer\u003C/em>\u003C/span>\"\ndata = \"Hello world!\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe blueprint entries are described as following:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">path\u003C/code> - Mandatory - enter the path to the file that you want to create. It must be an absolute path under the \u003Ccode class=\"literal\">/etc\u003C/code> directory.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mode\u003C/code> Optional - set the access permission on the file, in the octal format. If you do not specify a permission, it defaults to 0644. The leading zero is optional.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">user\u003C/code> - Optional - set a user as the owner of the file. If you do not specify a user, it defaults to \u003Ccode class=\"literal\">root\u003C/code>. You can specify the user as a string or as an integer.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">group\u003C/code> - Optional - set a group as the owner of the file. If you do not specify a group, it defaults to \u003Ccode class=\"literal\">root\u003C/code>. You can specify the group as a string or as an integer.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">data\u003C/code> - Optional - Specify the content of a plain text file. If you do not specify a content, it creates an empty file.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"packages-installed-by-default_composing-a-rhel-for-edge-image-using-image-builder-command-line\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.4. Packages installed by RHEL image builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWhen you create a system image by using RHEL image builder, the system installs a set of base package groups.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tWhen you add additional components to your blueprint, ensure that the packages in the components you added do not conflict with any other package components. Otherwise, the system fails to solve dependencies and creating your customized image fails. You can check if there is no conflict between the packages by running the command:\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve BLUEPRINT-NAME\u003C/pre>\u003Crh-table id=\"idm140247640401120\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 5.1. Default packages to support image type creation\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247640396432\" scope=\"col\">Image type\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247640395344\" scope=\"col\">Default Packages\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ami\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">checkpolicy, chrony, cloud-init, cloud-utils-growpart, @Core, dhcp-client, gdisk, insights-client, kernel, langpacks-en, net-tools, NetworkManager, redhat-release, redhat-release-eula, rng-tools, rsync, selinux-policy-targeted, tar, yum-utils\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">openstack\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">@core, langpacks-en\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">qcow2\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">@core, chrony, dnf, kernel, dnf, nfs-utils, dnf-utils, cloud-init, python3-jsonschema, qemu-guest-agent, cloud-utils-growpart, dracut-norescue, tar, tcpdump, rsync, dnf-plugin-spacewalk, rhn-client-tools, rhnlib, rhnsd, rhn-setup, NetworkManager, dhcp-client, cockpit-ws, cockpit-system, subscription-manager-cockpit, redhat-release, redhat-release-eula, rng-tools, insights-client\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">tar\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">policycoreutils, selinux-policy-targeted\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">vhd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">@core, langpacks-en\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">vmdk\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">@core, chrony, cloud-init, firewalld, langpacks-en, open-vm-tools, selinux-policy-targeted\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-commit\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">redhat-release\u003C/code>, \u003Ccode class=\"literal\">glibc\u003C/code>, \u003Ccode class=\"literal\">glibc-minimal-langpack\u003C/code>, \u003Ccode class=\"literal\">nss-altfiles\u003C/code>, \u003Ccode class=\"literal\">dracut-config-generic\u003C/code>, \u003Ccode class=\"literal\">dracut-network\u003C/code>, \u003Ccode class=\"literal\">basesystem\u003C/code>, \u003Ccode class=\"literal\">bash\u003C/code>, \u003Ccode class=\"literal\">platform-python\u003C/code>, \u003Ccode class=\"literal\">shadow-utils\u003C/code>, \u003Ccode class=\"literal\">chrony\u003C/code>, \u003Ccode class=\"literal\">setup\u003C/code>, \u003Ccode class=\"literal\">shadow-utils\u003C/code>, \u003Ccode class=\"literal\">sudo\u003C/code>, \u003Ccode class=\"literal\">systemd\u003C/code>, \u003Ccode class=\"literal\">coreutils\u003C/code>, \u003Ccode class=\"literal\">util-linux\u003C/code>, \u003Ccode class=\"literal\">curl\u003C/code>, \u003Ccode class=\"literal\">vim-minimal\u003C/code>, \u003Ccode class=\"literal\">rpm\u003C/code>, \u003Ccode class=\"literal\">rpm-ostree\u003C/code>, \u003Ccode class=\"literal\">polkit\u003C/code>, \u003Ccode class=\"literal\">lvm2\u003C/code>, \u003Ccode class=\"literal\">cryptsetup\u003C/code>, \u003Ccode class=\"literal\">pinentry\u003C/code>, \u003Ccode class=\"literal\">e2fsprogs\u003C/code>, \u003Ccode class=\"literal\">dosfstools\u003C/code>, \u003Ccode class=\"literal\">keyutils\u003C/code>, \u003Ccode class=\"literal\">gnupg2\u003C/code>, \u003Ccode class=\"literal\">attr\u003C/code>, \u003Ccode class=\"literal\">xz\u003C/code>, \u003Ccode class=\"literal\">gzip\u003C/code>, \u003Ccode class=\"literal\">firewalld\u003C/code>, \u003Ccode class=\"literal\">iptables\u003C/code>, \u003Ccode class=\"literal\">NetworkManager\u003C/code>, \u003Ccode class=\"literal\">NetworkManager-wifi\u003C/code>, \u003Ccode class=\"literal\">NetworkManager-wwan\u003C/code>, \u003Ccode class=\"literal\">wpa_supplicant\u003C/code>, \u003Ccode class=\"literal\">traceroute\u003C/code>, \u003Ccode class=\"literal\">hostname\u003C/code>, \u003Ccode class=\"literal\">iproute\u003C/code>, \u003Ccode class=\"literal\">iputils\u003C/code>, \u003Ccode class=\"literal\">openssh-clients\u003C/code>, \u003Ccode class=\"literal\">procps-ng\u003C/code>, \u003Ccode class=\"literal\">rootfiles\u003C/code>, \u003Ccode class=\"literal\">openssh-server\u003C/code>, \u003Ccode class=\"literal\">passwd\u003C/code>, \u003Ccode class=\"literal\">policycoreutils\u003C/code>, \u003Ccode class=\"literal\">policycoreutils-python-utils\u003C/code>, \u003Ccode class=\"literal\">selinux-policy-targeted\u003C/code>, \u003Ccode class=\"literal\">setools-console\u003C/code>, \u003Ccode class=\"literal\">less\u003C/code>, \u003Ccode class=\"literal\">tar\u003C/code>, \u003Ccode class=\"literal\">rsync\u003C/code>, \u003Ccode class=\"literal\">usbguard\u003C/code>, \u003Ccode class=\"literal\">bash-completion\u003C/code>, \u003Ccode class=\"literal\">tmux\u003C/code>, \u003Ccode class=\"literal\">ima-evm-utils\u003C/code>, \u003Ccode class=\"literal\">audit\u003C/code>, \u003Ccode class=\"literal\">podman\u003C/code>, \u003Ccode class=\"literal\">containernetworking-plugins\u003C/code>, \u003Ccode class=\"literal\">container-selinux\u003C/code>, \u003Ccode class=\"literal\">skopeo\u003C/code>, \u003Ccode class=\"literal\">criu\u003C/code>, \u003Ccode class=\"literal\">slirp4netns\u003C/code>, \u003Ccode class=\"literal\">fuse-overlayfs\u003C/code>, \u003Ccode class=\"literal\">clevis\u003C/code>, \u003Ccode class=\"literal\">clevis-dracut\u003C/code>, \u003Ccode class=\"literal\">clevis-luks\u003C/code>, \u003Ccode class=\"literal\">greenboot\u003C/code>, \u003Ccode class=\"literal\">greenboot-default-health-checks\u003C/code>, \u003Ccode class=\"literal\">fdo-client\u003C/code>, \u003Ccode class=\"literal\">fdo-owner-cli\u003C/code>, \u003Ccode class=\"literal\">sos\u003C/code>,\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-container\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">dnf, dosfstools, e2fsprogs, glibc, lorax-templates-generic, lorax-templates-rhel, lvm2, policycoreutils, python36, python3-iniparse, qemu-img, selinux-policy-targeted, systemd, tar, xfsprogs, xz\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-installer\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">aajohan-comfortaa-fonts, abattis-cantarell-fonts, alsa-firmware, alsa-tools-firmware, anaconda, anaconda-install-env-deps, anaconda-widgets, audit, bind-utils, bitmap-fangsongti-fonts, bzip2, cryptsetup, dbus-x11, dejavu-sans-fonts, dejavu-sans-mono-fonts, device-mapper-persistent-data, dnf, dump, ethtool, fcoe-utils, ftp, gdb-gdbserver, gdisk, gfs2-utils, glibc-all-langpacks, google-noto-sans-cjk-ttc-fonts, gsettings-desktop-schemas, hdparm, hexedit, initscripts, ipmitool, iwl3945-firmware, iwl4965-firmware, iwl6000g2a-firmware, iwl6000g2b-firmware, jomolhari-fonts, kacst-farsi-fonts, kacst-qurn-fonts, kbd, kbd-misc, kdump-anaconda-addon, khmeros-base-fonts, libblockdev-lvm-dbus, libertas-sd8686-firmware, libertas-sd8787-firmware, libertas-usb8388-firmware, libertas-usb8388-olpc-firmware, libibverbs, libreport-plugin-bugzilla, libreport-plugin-reportuploader, libreport-rhel-anaconda-bugzilla, librsvg2, linux-firmware, lklug-fonts, lldpad, lohit-assamese-fonts, lohit-bengali-fonts, lohit-devanagari-fonts, lohit-gujarati-fonts, lohit-gurmukhi-fonts, lohit-kannada-fonts, lohit-odia-fonts, lohit-tamil-fonts, lohit-telugu-fonts, lsof, madan-fonts, metacity, mtr, mt-st, net-tools, nmap-ncat, nm-connection-editor, nss-tools, openssh-server, oscap-anaconda-addon, pciutils, perl-interpreter, pigz, python3-pyatspi, rdma-core, redhat-release-eula, rpm-ostree, rsync, rsyslog, sg3_utils, sil-abyssinica-fonts, sil-padauk-fonts, sil-scheherazade-fonts, smartmontools, smc-meera-fonts, spice-vdagent, strace, system-storage-manager, thai-scalable-waree-fonts, tigervnc-server-minimal, tigervnc-server-module, udisks2, udisks2-iscsi, usbutils, vim-minimal, volume_key, wget, xfsdump, xorg-x11-drivers,xorg-x11-fonts-misc,xorg-x11-server-utils,xorg-x11-server-Xorg, xorg-x11-xauth\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-simplified-installer\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">attr, basesystem, binutils, bsdtar, clevis-dracut, clevis-luks, cloud-utils-growpart, coreos-installer, coreos-installer-dracut, coreutils, device-mapper-multipath, dnsmasq, dosfstools, dracut-live, e2fsprogs, fcoe-utils, fdo-init, gzip, ima-evm-utils, iproute, iptables, iputils, iscsi-initiator-utils, keyutils, lldpad, lvm2, passwd, policycoreutils, policycoreutils-python-utils, procps-ng, rootfiles, setools-console, sudo, traceroute, util-linux\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">image-installer\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">aajohan-comfortaa-fonts\u003C/code>, \u003Ccode class=\"literal\">abattis-cantarell-fonts\u003C/code>, \u003Ccode class=\"literal\">alsa-firmware\u003C/code>, \u003Ccode class=\"literal\">alsa-tools-firmware\u003C/code>, \u003Ccode class=\"literal\">anaconda\u003C/code>, \u003Ccode class=\"literal\">anaconda-dracut\u003C/code>, \u003Ccode class=\"literal\">anaconda-install-env-deps\u003C/code>, \u003Ccode class=\"literal\">anaconda-widgets\u003C/code>, \u003Ccode class=\"literal\">audit\u003C/code>, \u003Ccode class=\"literal\">bind-utils\u003C/code>, \u003Ccode class=\"literal\">bitmap-fangsongti-fonts\u003C/code>, \u003Ccode class=\"literal\">bzip2\u003C/code>, \u003Ccode class=\"literal\">cryptsetup\u003C/code>, \u003Ccode class=\"literal\">curl\u003C/code>, \u003Ccode class=\"literal\">dbus-x11\u003C/code>, \u003Ccode class=\"literal\">dejavu-sans-fonts\u003C/code>, \u003Ccode class=\"literal\">dejavu-sans-mono-fonts\u003C/code>, \u003Ccode class=\"literal\">device-mapper-persistent-data\u003C/code>, \u003Ccode class=\"literal\">dmidecode\u003C/code>, \u003Ccode class=\"literal\">dnf\u003C/code>, \u003Ccode class=\"literal\">dracut-config-generic\u003C/code>, \u003Ccode class=\"literal\">dracut-network\u003C/code>, \u003Ccode class=\"literal\">efibootmgr\u003C/code>, \u003Ccode class=\"literal\">ethtool\u003C/code>, \u003Ccode class=\"literal\">fcoe-utils\u003C/code>, \u003Ccode class=\"literal\">ftp\u003C/code>, \u003Ccode class=\"literal\">gdb-gdbserver\u003C/code>, \u003Ccode class=\"literal\">gdisk\u003C/code>, \u003Ccode class=\"literal\">glibc-all-langpacks\u003C/code>, \u003Ccode class=\"literal\">gnome-kiosk\u003C/code>, \u003Ccode class=\"literal\">google-noto-sans-cjk-ttc-fonts\u003C/code>, \u003Ccode class=\"literal\">grub2-tools\u003C/code>, \u003Ccode class=\"literal\">grub2-tools-extra\u003C/code>, \u003Ccode class=\"literal\">grub2-tools-minimal\u003C/code>, \u003Ccode class=\"literal\">grubby\u003C/code>, \u003Ccode class=\"literal\">gsettings-desktop-schemas\u003C/code>, \u003Ccode class=\"literal\">hdparm\u003C/code>, \u003Ccode class=\"literal\">hexedit\u003C/code>, \u003Ccode class=\"literal\">hostname\u003C/code>, \u003Ccode class=\"literal\">initscripts\u003C/code>, \u003Ccode class=\"literal\">ipmitool\u003C/code>, \u003Ccode class=\"literal\">iwl1000-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl100-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl105-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl135-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl2000-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl2030-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl3160-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl5000-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl5150-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl6000g2a-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl6000g2b-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl6050-firmware\u003C/code>, \u003Ccode class=\"literal\">iwl7260-firmware\u003C/code>, \u003Ccode class=\"literal\">jomolhari-fonts\u003C/code>, \u003Ccode class=\"literal\">kacst-farsi-fonts\u003C/code>, \u003Ccode class=\"literal\">kacst-qurn-fonts\u003C/code>, \u003Ccode class=\"literal\">kbd\u003C/code>, \u003Ccode class=\"literal\">kbd-misc\u003C/code>, \u003Ccode class=\"literal\">kdump-anaconda-addon\u003C/code>, \u003Ccode class=\"literal\">kernel\u003C/code>, \u003Ccode class=\"literal\">khmeros-base-fonts\u003C/code>, \u003Ccode class=\"literal\">less\u003C/code>, \u003Ccode class=\"literal\">libblockdev-lvm-dbus\u003C/code>, \u003Ccode class=\"literal\">libibverbs\u003C/code>, \u003Ccode class=\"literal\">libreport-plugin-bugzilla\u003C/code>, \u003Ccode class=\"literal\">libreport-plugin-reportuploader\u003C/code>, \u003Ccode class=\"literal\">librsvg2\u003C/code>, \u003Ccode class=\"literal\">linux-firmware\u003C/code>, \u003Ccode class=\"literal\">lklug-fonts\u003C/code>, \u003Ccode class=\"literal\">lldpad\u003C/code>, \u003Ccode class=\"literal\">lohit-assamese-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-bengali-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-devanagari-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-gujarati-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-gurmukhi-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-kannada-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-odia-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-tamil-fonts\u003C/code>, \u003Ccode class=\"literal\">lohit-telugu-fonts\u003C/code>, \u003Ccode class=\"literal\">lsof\u003C/code>, \u003Ccode class=\"literal\">madan-fonts\u003C/code>, \u003Ccode class=\"literal\">mtr\u003C/code>, \u003Ccode class=\"literal\">mt-st\u003C/code>, \u003Ccode class=\"literal\">net-tools\u003C/code>, \u003Ccode class=\"literal\">nfs-utils\u003C/code>, \u003Ccode class=\"literal\">nmap-ncat\u003C/code>, \u003Ccode class=\"literal\">nm-connection-editor\u003C/code>, \u003Ccode class=\"literal\">nss-tools\u003C/code>, \u003Ccode class=\"literal\">openssh-clients\u003C/code>, \u003Ccode class=\"literal\">openssh-server\u003C/code>, \u003Ccode class=\"literal\">oscap-anaconda-addon\u003C/code>, \u003Ccode class=\"literal\">ostree\u003C/code>, \u003Ccode class=\"literal\">pciutils\u003C/code>, \u003Ccode class=\"literal\">perl-interpreter\u003C/code>, \u003Ccode class=\"literal\">pigz\u003C/code>, \u003Ccode class=\"literal\">plymouth\u003C/code>, \u003Ccode class=\"literal\">prefixdevname\u003C/code>, \u003Ccode class=\"literal\">python3-pyatspi\u003C/code>, \u003Ccode class=\"literal\">rdma-core\u003C/code>, \u003Ccode class=\"literal\">redhat-release-eula\u003C/code>, \u003Ccode class=\"literal\">rng-tools\u003C/code>, \u003Ccode class=\"literal\">rpcbind\u003C/code>, \u003Ccode class=\"literal\">rpm-ostree\u003C/code>, \u003Ccode class=\"literal\">rsync\u003C/code>, \u003Ccode class=\"literal\">rsyslog\u003C/code>, \u003Ccode class=\"literal\">selinux-policy-targeted\u003C/code>, \u003Ccode class=\"literal\">sg3_utils\u003C/code>, \u003Ccode class=\"literal\">sil-abyssinica-fonts\u003C/code>, \u003Ccode class=\"literal\">sil-padauk-fonts\u003C/code>, \u003Ccode class=\"literal\">sil-scheherazade-fonts\u003C/code>, \u003Ccode class=\"literal\">smartmontools\u003C/code>, \u003Ccode class=\"literal\">smc-meera-fonts\u003C/code>, \u003Ccode class=\"literal\">spice-vdagent\u003C/code>, \u003Ccode class=\"literal\">strace\u003C/code>, \u003Ccode class=\"literal\">systemd\u003C/code>, \u003Ccode class=\"literal\">tar\u003C/code>, \u003Ccode class=\"literal\">thai-scalable-waree-fonts\u003C/code>, \u003Ccode class=\"literal\">tigervnc-server-minimal\u003C/code>, \u003Ccode class=\"literal\">tigervnc-server-module\u003C/code>, \u003Ccode class=\"literal\">udisks2\u003C/code>,\u003Ccode class=\"literal\">udisks2-iscsi\u003C/code>,\u003Ccode class=\"literal\">usbutils\u003C/code>,\u003Ccode class=\"literal\">vim-minimal\u003C/code>, \u003Ccode class=\"literal\">volume_key\u003C/code>, \u003Ccode class=\"literal\">wget\u003C/code>, \u003Ccode class=\"literal\">xfsdump\u003C/code>, \u003Ccode class=\"literal\">xfsprogs\u003C/code>, \u003Ccode class=\"literal\">xorg-x11-drivers\u003C/code>, \u003Ccode class=\"literal\">xorg-x11-fonts-misc\u003C/code>, \u003Ccode class=\"literal\">xorg-x11-server-utils\u003C/code>, \u003Ccode class=\"literal\">xorg-x11-server-Xorg\u003C/code>, \u003Ccode class=\"literal\">xorg-x11-xauth\u003C/code>, \u003Ccode class=\"literal\">xz\u003C/code>,\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-raw-image\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">dnf, dosfstools, e2fsprogs, glibc, lorax-templates-generic, lorax-templates-rhel, lvm2, policycoreutils, python36, python3-iniparse, qemu-img, selinux-policy-targeted, systemd, tar, xfsprogs, xz\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640396432\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gce\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247640395344\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">@core, langpacks-en, acpid, dhcp-client, dnf-automatic, net-tools, python3, rng-tools, tar, vim\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#composer-description_composing-a-customized-rhel-system-image\">RHEL image builder description\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 6. Building simplified installer images to provision a RHEL for Edge image\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can build a RHEL for Edge Simplified Installer image, which is optimized for unattended installation to a device, and provision the image to a RHEL for Edge image.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.1. Simplified installer image build and deployment\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBuild a RHEL for Edge Simplified Installer image by using the \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> image type,.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo build a RHEL for Edge Simplified Installer image, provide an existing \u003Ccode class=\"literal\">OSTree\u003C/code> commit. The resulting simplified image contains a raw image that has the OSTree commit deployed. After you boot the Simplified installer ISO image, it provisions a RHEL for Edge system that you can use on a hard disk or as a boot image in a virtual machine. You can log in to the deployed system with the user name and password that you specified in the blueprint that you used to create the Simplified Installer image.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe RHEL for Edge Simplified Installer image is optimized for unattended installation to a device and supports both network-based deployment and non-network-based deployments. However, for network-based deployment, it supports only UEFI HTTP boot.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tComposing and deploying a simplified RHEL for Edge image involves the following high-level steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall and register a RHEL system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing RHEL image builder, create a blueprint with customizations for RHEL for Edge Container image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImport the RHEL for Edge blueprint in RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL for Edge image embed in an OCI container with a web server ready to deploy the commit as an OSTree repository\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a blueprint for the \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBuild a simplified RHEL for Edge image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDownload the RHEL for Edge simplified image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall the raw image with the \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> virt-install\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe following diagram represents the RHEL for Edge Simplified building and provisioning workflow:\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140247632357280\">\u003Cp class=\"title\">\u003Cstrong>Figure 6.1. Building and provisioning RHEL for Edge in network-based environment\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/c30b3cddb9768927f71a93631132b1aa/RHEL_for_Edge_simplified_workflow.png\" alt=\"RHEL for Edge Simplified workflow\"/>\u003C/div>\u003C/div>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.2. Creating a blueprint for a Simplified image using RHEL image builder CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo create a blueprint for a simplified RHEL for Edge image, you must customize it with a \u003Ccode class=\"literal\">device file\u003C/code> location to enable an unattended installation to a device and a \u003Ccode class=\"literal\">URL\u003C/code> to perform the initial device credential exchange. You also must specify users and user groups in the blueprint. For that,follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a plain text file in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"simplified-installer-blueprint\"\ndescription = \"blueprint for the simplified installer image\"\nversion = \"0.0.1\"\npackages = []\nmodules = []\ngroups = []\ndistro = \"\"\n\n[customizations]\ninstallation_device = \u003Cspan class=\"emphasis\">\u003Cem>\"/dev/vda\"\u003C/em>\u003C/span>\n\n[[customizations.user]]\nname = \"admin\"\npassword = \"admin\"\ngroups = [\"users\", \"wheel\"]\n\n[customizations.fdo]\nmanufacturing_server_url = \u003Cspan class=\"emphasis\">\u003Cem>\"http://10.0.0.2:8080\"\u003C/em>\u003C/span>\ndiun_pub_key_insecure = \u003Cspan class=\"emphasis\">\u003Cem>\"true\"\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe FDO customization in the blueprints is optional, and you can build your RHEL for Edge Simplified Installer image with no errors.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>name\u003C/em>\u003C/span> is the name and \u003Cspan class=\"emphasis\">\u003Cem>description\u003C/em>\u003C/span> is the description for your blueprint.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>0.0.1\u003C/em>\u003C/span> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Modules\u003C/em>\u003C/span> describe the package name and matching version glob to be installed into the image, for example, the package name = \"tmux\" and the matching version glob is version = \"2.9a\". Notice that currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Groups\u003C/em>\u003C/span> are packages groups to be installed into the image, for example the \u003Ccode class=\"literal\">anaconda-tools\u003C/code> group package. If you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>installation-device\u003C/em>\u003C/span> is the customization to enable an unattended installation to your device.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>manufacturing_server_url\u003C/em>\u003C/span> is the URL to perform the initial device credential exchange.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>name\u003C/em>\u003C/span> is the user name to login to the image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span> is a password of your choice.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>groups\u003C/em>\u003C/span> are any user groups, such as \"widget\".\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPush (import) the blueprint to the RHEL image builder server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name.toml\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image using RHEL image builder command-line\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo create a RHEL for Edge Simplified image by using RHEL image builder command-line interface, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint for the RHEL for Edge Simplified image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou served an OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the bootable ISO image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree \\\n\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \\\nedge-simplified-installer \\\n--ref rhel/9/x86_64/edge \\\n--url \u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> \\\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhere,\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">blueprint-name\u003C/code> is the RHEL for Edge blueprint name.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> is the image type .\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--ref\u003C/code> is the reference for where your commit is going to be created.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--url\u003C/code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. You can either start a RHEL for Edge Container or set up a web server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Creating a RHEL for Edge Container image for non-network-based deployments\u003C/a> and \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe image creation processes can take up to ten minutes to complete.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo interrupt the image creation process, run:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose cancel \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo delete an existing image, run:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose delete \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image using RHEL image builder command-line\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.4. Downloading a simplified RHEL for Edge image using the image builder command-line interface\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo download a RHEL for Edge image by using RHEL image builder command line interface, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a RHEL for Edge image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReview the RHEL for Edge image status.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe output must display the following:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> FINISHED date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDownload the image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image &lt;UUID&gt;\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL image builder downloads the image as an \u003Ccode class=\"literal\">.iso\u003C/code> file at the current directory path where you run the command.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe UUID number and the image size is displayed alongside.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-simplified-installer.iso: \u003Cspan class=\"emphasis\">\u003Cem>size\u003C/em>\u003C/span> MB\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAs a result, you downloaded a RHEL for Edge Simplified Installer ISO image. You can use it directly as a boot ISO to install a RHEL for Edge system.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.5. Creating a blueprint for a Simplified image RHEL using image builder GUI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo create a RHEL for Edge Simplified Installer image, you must create a blueprint and ensure that you customize it with:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA device node location to enable an unattended installation to your device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA URL to perform the initial device credential exchange.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA user or user group.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can also add any other customizations that your image requires.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tTo create a blueprint for a simplified RHEL for Edge image in the RHEL image builder GUI, complete the following steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have opened the image builder app from the web console in a browser. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface\">Accessing the RHEL image builder GUI in the RHEL web console\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick Create Blueprint in the upper-right corner of the RHEL image builder app.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tA dialog wizard with fields for the blueprint name and description opens.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Details\u003C/code> page:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the name of the blueprint and, optionally, its description. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the Packages page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">Available packages\u003C/code> search, enter the package name and click the \u003Cspan class=\"guibutton\">&gt;\u003C/span> button to move it to the Chosen packages field. Search and include as many packages as you want. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThe customizations are all optional unless otherwise specified.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">Kernel\u003C/code> page, enter a kernel name and the command-line arguments.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">File system\u003C/code> page, select \u003Ccode class=\"literal\">Use automatic partitioning\u003C/code>.The filesystem customization is not supported for OSTree systems, because OSTree images have their own mount rule, such as read-only. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">Services\u003C/code> page, you can enable or disable services:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the service names you want to enable or disable, separating them by a comma, by space, or by pressing the \u003Cspan class=\"guibutton\">Enter\u003C/span> key. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">Firewall\u003C/code> page, set up your firewall setting:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the \u003Ccode class=\"literal\">Ports\u003C/code>, and the firewall services you want to enable or disable.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Add zone\u003C/span> button to manage your firewall rules for each zone independently. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Users\u003C/code> page, add a users by following the steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Add user\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnter a \u003Ccode class=\"literal\">Username\u003C/code>, a \u003Ccode class=\"literal\">password\u003C/code>, and a \u003Ccode class=\"literal\">SSH key\u003C/code>. You can also mark the user as a privileged user, by clicking the \u003Ccode class=\"literal\">Server administrator\u003C/code> checkbox.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tWhen you specify the user in the blueprint customization and then create an image from that blueprint, the blueprint creates the user under the \u003Ccode class=\"literal\">/usr/lib/passwd\u003C/code> directory and the password under the \u003Ccode class=\"literal\">/usr/etc/shadow\u003C/code> during installation time. You can log in to the device with the username and password you created for the blueprint. After you access the system, you must create users, for example, using the \u003Ccode class=\"literal\">useradd\u003C/code> command.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">Groups\u003C/code> page, add groups by completing the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Add groups\u003C/span> button:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter a \u003Ccode class=\"literal\">Group name\u003C/code> and a \u003Ccode class=\"literal\">Group ID\u003C/code>. You can add more groups. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">SSH keys\u003C/code> page, add a key:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"guibutton\">Add key\u003C/span> button.\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter the SSH key.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter a \u003Ccode class=\"literal\">User\u003C/code>. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">Timezone\u003C/code> page, set your timezone settings:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Timezone\u003C/code> field, enter the timezone you want to add to your system image. For example, add the following timezone format: \"US/Eastern\".\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you do not set a timezone, the system uses Universal Time, Coordinated (UTC) as default.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tEnter the \u003Ccode class=\"literal\">NTP\u003C/code> servers. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">Locale\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Keyboard\u003C/code> search field, enter the package name you want to add to your system image. For example: [\"en_US.UTF-8\"].\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Languages\u003C/code> search field, enter the package name you want to add to your system image. For example: \"us\". Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMandatory: On the \u003Ccode class=\"literal\">Others\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">Hostname\u003C/code> field, enter the hostname you want to add to your system image. If you do not add a hostname, the operating system determines the hostname.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tMandatory: In the \u003Ccode class=\"literal\">Installation Devices\u003C/code> field, enter a valid node for your system image to enable an unattended installation to your device. For example: \u003Ccode class=\"literal\">dev/sda1\u003C/code>. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: On the \u003Ccode class=\"literal\">FIDO device onboarding\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Manufacturing server URL\u003C/code> field, enter the \u003Ccode class=\"literal\">manufacturing server URL\u003C/code> to perform the initial device credential exchange, for example: \"http://10.0.0.2:8080\". The FDO customization in the blueprints is optional, and you can build your RHEL for Edge Simplified Installer image with no errors.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">DIUN public key insecure\u003C/code> field, enter the certification public key hash to perform the initial device credential exchange. This field accepts \"true\" as value, which means this is an insecure connection to the manufacturing server. For example: \u003Ccode class=\"literal\">manufacturing_server_url=\"http://${FDO_SERVER}:8080\" diun_pub_key_insecure=\"true\"\u003C/code>. You must use only one of these three options: \"key insecure\", \"key hash\" and \"key root certs\".\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">DIUN public key hash\u003C/code> field, enter the hashed version of your public key. For example: \u003Ccode class=\"literal\">17BD05952222C421D6F1BB1256E0C925310CED4CE1C4FFD6E5CB968F4B73BF73\u003C/code>. You can get the key hash by generating it based on the certificate of the manufacturing server. To generate the key hash, run the command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># openssl x509 -fingerprint -sha256 -noout -in /etc/fdo/aio/keys/diun_cert.pem | cut -d\"=\" -f2 | sed 's/://g'\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/etc/fdo/aio/keys/diun_cert.pem\u003C/code> is the certificate that is stored in the manufacturing server.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">DIUN public key root certs\u003C/code> field, enter the public key root certs. This field accepts the content of the certification file that is stored in the manufacturing server. To get the content of certificate file, run the command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /etc/fdo/aio/keys/diun_cert.pem.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Review\u003C/code> page, review the details about the blueprint. Click \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe RHEL image builder view opens, listing existing blueprints.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.6. Creating a RHEL for Edge Simplified Installer image using image builder GUI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo create a RHEL for Edge Simplified image by using RHEL image builder GUI, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou opened the RHEL image builder app from the web console in a browser.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint for the RHEL for Edge Simplified image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou served an OSTree repository of the commit to embed in the image, for example, \u003Ccode class=\"literal\">http://10.0.2.2:8080/repo\u003C/code>. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe FDO manufacturing server is up and running.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess mage builder dashboard.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the blueprint table, find the blueprint you want to build an image for.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">Images\u003C/code> tab and click \u003Ccode class=\"literal\">Create Image\u003C/code>. The \u003Ccode class=\"literal\">Create image\u003C/code> wizard opens.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Image output\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Ccode class=\"literal\">Select a blueprint\u003C/code> list, select the blueprint you created for the RHEL for Edge Simplified image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tFrom the \u003Ccode class=\"literal\">Image output type\u003C/code> list, select \u003Ccode class=\"literal\">RHEL for Edge Simplified Installer (.iso)\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">Image Size\u003C/code> field, enter the image size. Minimum image size required for Simplified Installer image is:\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">OSTree settings\u003C/code> page, complete the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">Repository URL\u003C/code> field, enter the repository URL to where the parent OSTree commit will be pulled from.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">Ref\u003C/code> field, enter the \u003Ccode class=\"literal\">ref\u003C/code> branch name path. If you do not enter a \u003Ccode class=\"literal\">ref\u003C/code>, the default \u003Ccode class=\"literal\">ref\u003C/code> for the distro is used.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Review\u003C/code> page, review the image customization and click \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe image build starts and takes up to 20 minutes to complete. To stop the building, click \u003Cspan class=\"guibutton\">Stop build\u003C/span>.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.7. Downloading a simplified RHEL for Edge image using the image builder GUI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tTo download a RHEL for Edge image by using RHEL image builder GUI, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have successfully created a RHEL for Edge image. See link.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess the RHEL image builder dashboard. The blueprint list dashboard opens.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the blueprint table, find the blueprint you built your RHEL for Edge Simplified Installer image for.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNavigate to the \u003Ccode class=\"literal\">Images\u003C/code> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tChoose one of the options:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tDownload the image.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tDownload the logs of the image to inspect the elements and verify if any issue is found.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can use the RHEL for Edge Simplified Installer ISO image that you downloaded directly as a boot ISO to install a RHEL for Edge system.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.8. Setting up an UEFI HTTP Boot server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo set up an \u003Cspan class=\"strong strong\">\u003Cstrong>UEFI HTTP Boot\u003C/strong>\u003C/span> server, so that you can start to provision a RHEL for Edge Virtual Machine over network by connecting to this UEFI HTTP Boot server, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created the ISO simplified installer image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn http server that serves the ISO content.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMount the ISO image to the directory of your choice:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkdir /mnt/rhel9-install/\n# mount -o loop,ro -t iso9660 /path_directory/installer.iso /mnt/rhel9-install/\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace \u003Ccode class=\"literal\">/path_directory/installer.iso\u003C/code> with the path to the RHEL for Edge bootable ISO image.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCopy the files from the mounted image to the HTTP server root. This command creates the \u003Ccode class=\"literal\">/var/www/html/rhel9-install/\u003C/code> directory with the contents of the image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># mkdir /var/www/html/httpboot/\n# cp -R /mnt/rhel9-install/* /var/www/html/httpboot/\n# chmod -R +r /var/www/html/httpboot/*\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tSome copying methods can skip the \u003Ccode class=\"literal\">.treeinfo\u003C/code> file which is required for a valid installation source. Running the \u003Ccode class=\"literal\">cp\u003C/code> command for whole directories as shown in this procedure will copy \u003Ccode class=\"literal\">.treeinfo\u003C/code> correctly.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpdate the \u003Ccode class=\"literal\">/var/www/html/EFI/BOOT/grub.cfg\u003C/code> file, by replacing:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">coreos.inst.install_dev=/dev/sda\u003C/code> with \u003Ccode class=\"literal\">coreos.inst.install_dev=/dev/vda\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">linux /images/pxeboot/vmlinuz\u003C/code> with \u003Ccode class=\"literal\">linuxefi /images/pxeboot/vmlinuz\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">initrd /images/pxeboot/initrd.img\u003C/code> with \u003Ccode class=\"literal\">initrdefi /images/pxeboot/initrd.img\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">coreos.inst.image_file=/run/media/iso/disk.img.xz\u003C/code> with \u003Ccode class=\"literal\">coreos.inst.image_url=http://{IP-ADDRESS}/disk.img.xz\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Cspan class=\"emphasis\">\u003Cem>IP-ADDRESS\u003C/em>\u003C/span> is the ip address of this machine, which will serve as a http boot server.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the httpd service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl start httpd.service\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAs a result, after you set up an \u003Cspan class=\"strong strong\">\u003Cstrong>UEFI HTTP Boot\u003C/strong>\u003C/span> server, you can install your RHEL for Edge devices by using \u003Cspan class=\"strong strong\">\u003Cstrong>UEFI HTTP\u003C/strong>\u003C/span> boot.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.9. Deploying the Simplified ISO image in a Virtual Machine\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tDeploy the RHEL for Edge ISO image you generated by creating a RHEL for Edge Simplified image by using any the following installation sources:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>UEFI HTTP Boot\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>virt-install\u003C/strong>\u003C/span>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThis example shows how to create a \u003Cspan class=\"strong strong\">\u003Cstrong>virt-install\u003C/strong>\u003C/span> installation source from your ISO image for a \u003Cspan class=\"strong strong\">\u003Cstrong>network-based\u003C/strong>\u003C/span> installation .\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created an ISO image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou set up a network configuration to support UEFI HTTP boot.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSet up a network configuration to support \u003Cspan class=\"strong strong\">\u003Cstrong>UEFI HTTP\u003C/strong>\u003C/span> boot. See \u003Ca class=\"link\" href=\"https://www.redhat.com/sysadmin/uefi-http-boot-libvirt\">Setting up UEFI HTTP boot with libvirt\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">virt-install\u003C/code> command to create a RHEL for Edge Virtual Machine from the UEFI HTTP Boot.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># virt-install \\\n    --name edge-install-image \\\n    --disk path=”  “, ,format=qcow2\n    --ram 3072 \\\n    --memory 4096 \\\n    --vcpus 2 \\\n    --network network=integration,mac=mac_address \\\n    --os-type linux\n    --os-variant rhel9 \\\n    --cdrom \"/var/lib/libvirt/images/”ISO_FILENAME\"\n    --boot uefi,loader_ro=yes,loader_type=pflash,nvram_template=/usr/share/edk2/ovmf/OVMF_VARS.fd,loader_secure=no\n    --virt-type kvm \\\n    --graphics none \\\n     --wait=-1\n     --noreboot\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAfter you run the command, the Virtual Machine installation starts.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the created Virtual Machine.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.10. Deploying the Simplified ISO image from a USB flash drive\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tDeploy the RHEL for Edge ISO image you generated by creating a RHEL for Edge Simplified image by using an \u003Cspan class=\"strong strong\">\u003Cstrong>USB installation\u003C/strong>\u003C/span>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis example shows how to create a \u003Cspan class=\"strong strong\">\u003Cstrong>USB installation\u003C/strong>\u003C/span> source from your ISO image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a simplified installer image, which is an ISO image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a 8 GB USB flash drive.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCopy the ISO image file to a USB flash drive.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConnect the USB flash drive to the port of the computer you want to boot.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoot the ISO image from the USB flash drive.The boot menu shows you the following options:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Install Red Hat Enterprise Linux 9\nTest this media &amp; install Red Hat Enterprise Linux 9\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tChoose Install Red Hat Enterprise Linux 9. This starts the system installation.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#booting-the-installer-from-local-media_rhel-installer\">Booting the installation\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-and-booting-a-rhel-for-edge-image-in-fips-mode_building-and-provisioning-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">6.11. Creating and booting a RHEL for Edge image in FIPS mode\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can create and boot a FIPS enabled RHEL for Edge image. You can specify in your blueprint whether you want to enable FIPS mode in the resulting image. The default value is \u003Ccode class=\"literal\">false\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can build the following image types in FIPS mode:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-installer\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-simplified-installer\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-raw-image\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-ami\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">edge-vsphere\u003C/code>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can enable FIPS mode only during the image provisioning process. You cannot change to FIPS mode after the non-FIPS image build starts. If the host that builds the FIPS enabled image is not FIPS enabled, any keys generated by this host are not FIPS compliant, but the resulting image is FIPS compliant as expected.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created and downloaded a RHEL for Edge Container OSTree commit.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed Podman on your system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3650231\">How to install Podman in RHEL\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a plain text file in the Tom’s Obvious, Minimal Language (TOML) format with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"system-fips-mode-enabled\"\ndescription = \"blueprint with FIPS enabled \"\nversion = \"0.0.1\"\n\n[ostree]\nref= \"example/edge\"\nurl= \"http://example.com/repo\"\n\n[customizations]\ninstallation_device = \"/dev/vda\"\nfips = true\n\n[[customizations.user]]\nname = \"admin\"\npassword = \"admin\"\ngroups = [\"users\", \"wheel\"]\n\n[customizations.fdo]\nmanufacturing_server_url = \"https://fdo.example.com\"\ndiun_pub_key_insecure = true\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the blueprint to the RHEL image builder server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push blueprint-name.toml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully imported and exists:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show blueprint-name\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve blueprint-name\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tServe an OSTree repository of the commit to embed in the image, for example, \u003Ca class=\"link\" href=\"http://10.0.2.2:8080/repo\">http://10.0.2.2:8080/repo\u003C/a>. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images\">Setting up an UEFI HTTP Boot server\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the bootable ISO image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree \\\nblueprint-name \\\nedge-simplified-installer \\\n--ref rhel/8/x86_64/edge \\\n--url URL-OSTree-repository \\\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReview the RHEL for Edge image status:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\n…\n$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> FINISHED date blueprint-name blueprint-version image-type\n…\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDownload the image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL image builder downloads the image as an \u003Ccode class=\"literal\">.iso\u003C/code> file at the current directory path where you run the command. The UUID number and the image size is displayed alongside:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-simplified-installer.iso: size MB\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a RHEL for Edge Virtual Machine from the UEFI HTTP Boot, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># virt-install \\\n    --name edge-device\n    --disk path=\"/var/lib/libvirt/images/edge-device.qcow2\",size=5,format=qcow2 \\\n    --memory 4096 \\\n    --vcpus 2 \\\n    --network network=default \\\n    --os-type linux \\\n    --os-variant rhel8.9 \\\n    --cdrom /var/lib/libvirt/images/\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-simplified-installer.iso \\\n    --boot uefi,loader.secure=false \\\n    --virt-type kvm \\\n    --graphics none \\\n    --wait=-1 \\\n    --noreboot\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAfter you run the command, the Virtual Machine installation starts.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the created Virtual Machine with the username and password that you configured in your blueprint.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the FIPS setup is enabled:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ fips-mode-setup –check\n…\nFIPS mode is enabled\n…\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 7. Building and provisioning a minimal raw image\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThe \u003Ccode class=\"literal\">minimal-raw\u003C/code> image is a pre-packaged, bootable, minimal RPM image, compressed in the \u003Ccode class=\"literal\">xz\u003C/code> format. The image consists of a file containing a partition layout with an existing deployed OSTree commit in it. You can build a RHEL for Edge Minimal Raw image type by using RHEL image builder and deploy the Minimal Raw image to the \u003Ccode class=\"literal\">aarch64\u003C/code> and \u003Ccode class=\"literal\">x86\u003C/code> architectures.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"the-minimal-raw-image-build-and-deployment_building-and-provisioning-a-minimal-raw-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.1. The minimal raw image build and deployment\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBuild a RHEL for Edge Minimal Raw image by using the \u003Ccode class=\"literal\">minimal-raw\u003C/code> image type. To boot the image, you must decompress it and copy to any bootable device, such as an SD card or a USB flash drive. You can log in to the deployed system with the user name and password that you specified in the blueprint that you used to create the RHEL for Edge Minimal Raw image.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tComposing and deploying a RHEL for Edge Minimal Raw image involves the following high-level steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall and register a RHEL system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing RHEL image builder, create a blueprint with your customizations for RHEL for Edge Minimal Raw image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImport the RHEL for Edge blueprint in RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL for Edge Minimal Raw image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDownload and decompress the RHEL for Edge Minimal Raw image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a bootable USB drive from the decompressed Raw image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDeploy the RHEL for Edge Minimal Raw image\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-the-blueprint-for-a-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.2. Creating the blueprint for a Minimal Raw image by using RHEL image builder CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a blueprint, and customize it with a username and a password. You can use the resulting blueprint to create a Minimal Raw image and log in to it by using the credentials that you configured in the blueprint.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a plain text file in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"minimal-raw-blueprint\"\ndescription = \"blueprint for the Minimal Raw image\"\nversion = \"0.0.1\"\npackages = []\nmodules = []\ngroups = []\ndistro = \"\"\n\n[[customizations.user]]\nname = \"admin\"\npassword = \"admin\"\ngroups = [\"users\", \"wheel\"]\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tname is the name and description is the description for your blueprint.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t0.0.1 is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tModules describe the package name and matching version glob to be installed into the image, for example, the package name = \"tmux\" and the matching version glob is version = \"2.9a\". Currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tGroups are packages groups to be installed into the image, for example the anaconda-tools group package. If you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUnder \u003Ccode class=\"literal\">customizations.user\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">name\u003C/code> is the username to login to the image\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">password\u003C/code> is a password of your choice\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">groups\u003C/code> are any user groups, such as \"widget\"\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the blueprint to the RHEL image builder server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_name&gt;\u003C/em>\u003C/span>.toml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the blueprint is available on the system:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints list\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the validity of components, versions, and their dependencies in the blueprint:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_name&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image by using RHEL image builder command-line\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.3. Creating a Minimal Raw image by using RHEL image builder CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a RHEL for Edge Minimal Raw image with the RHEL image builder command-line interface.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint for the RHEL for Edge Minimal Raw image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild the image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_name&gt;\u003C/em>\u003C/span> minimal-raw\u003C/pre>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_name&gt;\u003C/em>\u003C/span>\u003C/code> is the RHEL for Edge blueprint name\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">minimal-raw\u003C/code> is the image type\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_name&gt;\u003C/em>\u003C/span> blueprint-version minimal-raw\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images\">Composing a RHEL for Edge image using image builder command-line\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"downloading-and-decompressing-the-minimal-raw-image_building-and-provisioning-a-minimal-raw-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.4. Downloading and decompressing the Minimal Raw image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tDownload the RHEL for Edge Minimal Raw image by using RHEL image builder command line interface, and then decompress the image to be able to boot it.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a RHEL for Edge Minimal Raw image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReview the RHEL for Edge Minimal Raw image compose status.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe output must display the following details:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> FINISHED date \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_name&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint_version&gt;\u003C/em>\u003C/span> minimal-raw\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDownload the image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImage builder downloads the image into your working directory. The following output is an example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">3f9223c1-6ddb-4915-92fe-9e0869b8e209-raw.img.xz\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDecompress the image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ xz -d \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-raw.img.xz\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Next\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tUse the decompressed bootable RHEL for Edge Minimal Raw image to create a bootable installation medium and use it as a boot device. The following documentation describes the procedure of creating an USB bootable device from an ISO image. However, the same steps apply to the RAW images, because the RAW image is equivalent to the ISO image.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cp>\n\t\t\t\tSee \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/interactively_installing_rhel_from_installation_media/assembly_creating-a-bootable-installation-medium_rhel-installer#create-bootable-usb-linux_assembly_creating-a-bootable-installation-medium\">Creating a bootable USB device on Linux\u003C/a> for more details.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"deploying-the-minimal-raw-image-from-a-usb-flash-drive_building-and-provisioning-a-minimal-raw-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.5. Deploying the Minimal Raw image from a USB flash drive\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter you created a bootable USB installation medium from the customized RHEL for Edge Minimal Raw image, you can continue the installation process by deploying the Minimal Raw image from the USB flash drive and booting your customized image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a 8 GB USB flash drive.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a bootable installation medium from the RHEL for Edge Minimal Raw image to the USB drive.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tConnect the USB flash drive to the computer where you want to boot your customized image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPower on the system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoot the RHEL for Edge Minimal Raw image from the USB flash drive. The boot menu shows you the following options:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Install Red Hat Enterprise Linux 9\nTest this media &amp; install Red Hat Enterprise Linux 9\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tChoose \u003Cspan class=\"strong strong\">\u003Cstrong>Install Red Hat Enterprise Linux 9\u003C/strong>\u003C/span>. This starts the system installation.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBoot into the image by using the username and password you configured in the blueprint.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCheck the release:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /etc/os-release\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tList the block devices in the system:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ lsblk\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 8. Using the Ignition tool for the RHEL for Edge Simplified Installer images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tRHEL for Edge uses the Ignition tool to inject the user configuration into the images at an early stage of the boot process. The user configuration that the Ignition tool injects includes:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tThe user configuration.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tWriting files, such as regular files, and \u003Ccode class=\"literal\">systemd\u003C/code> units.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tOn the first boot, Ignition reads its configuration either from a remote URL or a file embedded in the simplified installer ISO. Then, Ignition applies that configuration into the image.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.1. Creating an Ignition configuration file\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">Butane\u003C/code> tool is the preferred option to create an Ignition configuration file. \u003Ccode class=\"literal\">Butane\u003C/code> consumes a \u003Ccode class=\"literal\">Butane Config YAML\u003C/code> file and produces an \u003Ccode class=\"literal\">Ignition Config\u003C/code> in the JSON format. The JSON file is used by a system on its first boot. The \u003Ccode class=\"literal\">Ignition Config\u003C/code> applies the configuration in the image, such as user creation, and \u003Ccode class=\"literal\">systemd\u003C/code> units installation.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have installed the Butane tool version v0.17.0:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo dnf/yum install -y butane\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">Butane Config\u003C/code> file and save it in the \u003Ccode class=\"literal\">.bu\u003C/code> format. You must specify the \u003Ccode class=\"literal\">variant\u003C/code> entry as \u003Ccode class=\"literal\">r4e\u003C/code>, and the \u003Ccode class=\"literal\">version\u003C/code> entry as \u003Ccode class=\"literal\">1.0.0\u003C/code>, for RHEL for Edge images. The butane \u003Ccode class=\"literal\">r4e\u003C/code> variant on version 1.0.0 targets Ignition spec version \u003Ccode class=\"literal\">3.3.0\u003C/code>. The following is a Butane Config YAML file example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">variant: r4e\nversion: 1.0.0\nignition:\n  config:\n    merge:\n      - source: http://192.168.122.1:8000/sample.ign\npasswd:\n  users:\n    - name: core\n      groups:\n        - wheel\n      password_hash: password_hash_here\n      ssh_authorized_keys:\n        - ssh-ed25519 some-ssh-key-here\nstorage:\n  files:\n    - path: /etc/NetworkManager/system-connections/enp1s0.nmconnection\n      contents:\n        inline: |\n          [connection]\n          id=enp1s0\n          type=ethernet\n          interface-name=enp1s0\n          [ipv4]\n          address1=192.168.122.42/24,192.168.122.1\n          dns=8.8.8.8;\n          dns-search=\n          may-fail=false\n          method=manual\n      mode: 0600\n    - path: /usr/local/bin/startup.sh\n      contents:\n        inline: |\n          #!/bin/bash\n          echo \"Hello, World!\"\n      mode: 0755\nsystemd:\n  units:\n    - name: hello.service\n      contents: |\n        [Unit]\n        Description=A hello world\n        [Install]\n        WantedBy=multi-user.target\n      enabled: true\n    - name: fdo-client-linuxapp.service\n      dropins:\n        - name: log_trace.conf\n          contents: |\n            [Service]\n            Environment=LOG_LEVEL=trace\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the following command to consume the \u003Ccode class=\"literal\">Butane Config YAML\u003C/code> file and generate an Ignition Config in the JSON format:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ ./path/butane example.bu\n{\"ignition\":{\"config\":{\"merge\":[{\"source\":\"http://192.168.122.1:8000/sample.ign\"}]},\"timeouts\":{\"httpTotal\":30},\"version\":\"3.3.0\"},\"passwd\":{\"users\":[{\"groups\":[\"wheel\"],\"name\":\"core\",\"passwordHash\":\"password_hash_here\",\"sshAuthorizedKeys\":[\"ssh-ed25519 some-ssh-key-here\"]}]},\"storage\":{\"files\":[{\"path\":\"/etc/NetworkManager/system-connections/enp1s0.nmconnection\",\"contents\":{\"compression\":\"gzip\",\"source\":\"data:;base64,H4sIAAAAAAAC/0yKUcrCMBAG3/csf/ObUKQie5LShyX5SgPNNiSr0NuLgiDzNMPM8VBFtHzoQjkxtPp+ITsrGLahKYyyGtoqEYNKwfeZc32OC0lKDb179rfg/HVyPgQ3hv8w/v0WT0k7T+7D/S1Dh7S4MRU5h1XyzqvsHVRg25G4iD5kp1cAAAD//6Cvq2ihAAAA\"},\"mode\":384},{\"path\":\"/usr/local/bin/startup.sh\",\"contents\":{\"source\":\"data:;base64,IyEvYmluL2Jhc2gKZWNobyAiSGVsbG8sIFdvcmxkISIK\"},\"mode\":493}]},\"systemd\":{\"units\":[{\"contents\":\"[Unit]\\nDescription=A hello world\\n[Install]\\nWantedBy=multi-user.target\",\"enabled\":true,\"name\":\"hello.service\"},{\"dropins\":[{\"contents\":\"[Service]\\nEnvironment=LOG_LEVEL=trace\\n\",\"name\":\"log_trace.conf\"}],\"name\":\"fdo-client-linuxapp.service\"}]}}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter you run the \u003Ccode class=\"literal\">Butane Config YAML\u003C/code> file to check and generate the \u003Ccode class=\"literal\">Ignition Config JSON\u003C/code> file, you might get warnings when using unsupported fields, like partitions, for example. You can fix those fields and rerun the check.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tYou have now an Ignition JSON configuration file that you can use to customize your blueprint.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://coreos.github.io/butane/config-r4e-v1_0/\">RHEL for Edge Specification v1.0.0\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.2. Creating a blueprint in the GUI with support to Ignition\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWhen building a Simplified Installer image, you can customize your blueprint by entering the following details in the Ignition page of the blueprint:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">Firstboot URL\u003C/code> - You must enter a URL that points to the Ignition configuration that will be fetched during the first boot. It can be used for both the raw image and simplified installer image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">Embedded Data\u003C/code> - You must provide the \u003Ccode class=\"literal\">base64\u003C/code> encoded \u003Ccode class=\"literal\">Ignition Configuration\u003C/code> file. It can be used only for the Simplified Installer image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo customize your blueprint for a simplified RHEL for Edge image with support to Ignition configuration using the Ignition blueprint customization, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have opened the image builder app from web console in a browser. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_a_customized_rhel_system_image/index#accessing-composer-gui-in-the-rhel-8-web-console_creating-system-images-with-composer-web-console-interface\">Accessing the image builder GUI in the RHEL web console\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTo fully support the embedded section, \u003Ccode class=\"literal\">coreos-installer-dracut\u003C/code> has to be able to define \u003Ccode class=\"literal\">-ignition-url\u003C/code>|\u003Ccode class=\"literal\">-ignition-file\u003C/code> based on the presence of the OSBuild’s file.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Create Blueprint\u003C/span> in the upper-right corner.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tA dialog wizard with fields for the blueprint name and description opens.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Details\u003C/code> page:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tEnter the name of the blueprint and, optionally, its description. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Ignition\u003C/code> page, complete the following steps:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Firstboot URL\u003C/code> field, enter the URL that points to the Ignition configuration to be fetched during the first boot.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tOn the \u003Ccode class=\"literal\">Embedded Data\u003C/code> field, drag or upload the \u003Ccode class=\"literal\">base64\u003C/code> encoded \u003Ccode class=\"literal\">Ignition Configuration\u003C/code> file. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tReview the image details and click \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe image builder dashboard view opens, listing the existing blueprints.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can use the blueprint you created to build your Simplified Installer image. See \u003Ca class=\"link\" href=\"#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images\" title=\"6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI\">Creating a RHEL for Edge Simplified Installer image using image builder CLI\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.3. Creating a blueprint with support to Ignition using the CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWhen building a simplified installer image, you can customize your blueprint by adding the \u003Ccode class=\"literal\">customizations.ignition\u003C/code> section to it. With that, you can create either a simplified installer image or a raw image that you can use for the bare metal platforms. The \u003Ccode class=\"literal\">customizations.ignition\u003C/code> customization in the blueprint enables the configuration files to be used in \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> ISO and \u003Ccode class=\"literal\">edge-raw-image\u003C/code> images.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor the \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> ISO image, you can customize the blueprint to embed an Ignition configuration file that will be included in the ISO image. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.ignition.embedded]\nconfig = \"eyJ --- BASE64 STRING TRIMMED --- 19fQo=\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou must provide a \u003Ccode class=\"literal\">base64\u003C/code> encoded Ignition configuration file.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor both the \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> ISO image and also the \u003Ccode class=\"literal\">edge-raw-image\u003C/code>, you can customize the blueprint, by defining a URL that will be fetched to obtain the Ignition configuration at the first boot. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[customizations.ignition.firstboot]\nurl = \"http://your_server/ignition_configuration.ig\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou must enter a URL that points to the Ignition configuration that will be fetched during the first boot.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo customize your blueprint for a Simplified RHEL for Edge image with support to Ignition configuration, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf using the \u003Ccode class=\"literal\">[customizations.ignition.embedded]\u003C/code> customization, you must create an Ignition configuration file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf using the \u003Ccode class=\"literal\">[customizations.ignition.firstboot]\u003C/code> customization, you must have created a container whose URL points to the Ignition configuration that will be fetched during the first boot.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe blueprint customization \u003Ccode class=\"literal\">[customizations.ignition.embedded]\u003C/code> section enables \u003Ccode class=\"literal\">coreos-installer-dracut\u003C/code> to define \u003Ccode class=\"literal\">-ignition-url\u003C/code>|\u003Ccode class=\"literal\">-ignition-file\u003C/code> based on the presence of the osbuild’s file.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a plain text file in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"simplified-installer-blueprint\"\ndescription = \"Blueprint with Ignition for the simplified installer image\"\nversion = \"0.0.1\"\npackages = []\nmodules = []\ngroups = []\ndistro = \"\"\n\n[customizations.ignition.embedded]\nconfig = \"eyJ --- BASE64 STRING TRIMMED --- 19fQo=\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhere:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">name\u003C/code> is the name and \u003Ccode class=\"literal\">description\u003C/code> is the description for your blueprint.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">version\u003C/code> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">modules\u003C/code> and \u003Ccode class=\"literal\">packages\u003C/code> describe the package name and matching version glob to be installed into the image. For example, the package \u003Ccode class=\"literal\">name = \"tmux\"\u003C/code> and the matching version glob is \u003Ccode class=\"literal\">version = \"3.3a\"\u003C/code>. Notice that currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">groups\u003C/code> are packages groups to be installed into the image. For example \u003Ccode class=\"literal\">groups = \"anaconda-tools\"\u003C/code> group package. If you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tIf you want to create a user with Ignition, you cannot use the FDO customizations to create a user at the same time. You can create users using Ignition and copy configuration files using FDO. But if you are creating users, create them using Ignition or FDO, but not both at the same time.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPush (import) the blueprint to the image builder server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>.toml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can use the blueprint you created to build your Simplified Installer image. See \u003Ca class=\"link\" href=\"#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images\" title=\"6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI\">Creating a RHEL for Edge Simplified Installer image using image builder CLI\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://coreos.github.io/butane/config-r4e-v1_0/\">RHEL for Edge Specification v1.0.0\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 9. Creating VMDK images for RHEL for Edge\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can create a \u003Ccode class=\"literal\">.vmdk\u003C/code> image for RHEL for Edge by using the RHEL image builder. You can create an \u003Ccode class=\"literal\">edge-vsphere\u003C/code> image type with Ignition support, to inject the user configuration into the image at an early stage of the boot process. Then, you can load the image on vSphere and boot the image in a vSphere VM. The image is compatible with ESXi 7.0 U2, ESXi 8.0 and later. The vSphere VM is compatible with version 19 and 20.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"creating-a-blueprint-with-the-ignition-configuration_creating-vmdk-images-for-rhel-for-edge\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.1. Creating a blueprint with the Ignition configuration\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a blueprint for the \u003Ccode class=\"literal\">.vmdk\u003C/code> image and customize it with the \u003Ccode class=\"literal\">customizations.ignition\u003C/code> section. With that, you can create your image and, at boot time, the operating system will inject the user configuration to the image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have created an Ignition configuration file. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">{\n   \"ignition\":{\n      \"version\":\"3.3.0\"\n   },\n   \"passwd\":{\n      \"users\":[\n         {\n            \"groups\":[\n               \"wheel\"\n            ],\n            \"name\":\"core\",\n            \"passwordHash\":\"$6$jfuNnO9t1Bv7N\"\n         }\n      ]\n   }\n}\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a blueprint in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"vmdk-image\"\ndescription = \"Blueprint with Ignition for the vmdk image\"\nversion = \"0.0.1\"\npackages = [\"open-vm-tools\"]\nmodules = []\ngroups = []\ndistro = \"\"\n\n[[customizations.user]]\nname = \"admin\"\npassword = \"admin\"\ngroups = [\"wheel\"]\n\n[customizations.ignition.firstboot]\nurl = http://\u003Cspan class=\"emphasis\">\u003Cem>&lt;IP_address&gt;\u003C/em>\u003C/span>:8080/\u003Cspan class=\"emphasis\">\u003Cem>config.ig\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhere:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">name\u003C/code> is the name and \u003Ccode class=\"literal\">description\u003C/code> is the description for your blueprint.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">version\u003C/code> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">modules\u003C/code> and \u003Ccode class=\"literal\">packages\u003C/code> describe the package name and matching version glob to be installed into the image. For example, the package \u003Ccode class=\"literal\">name = \"open-vm-tools\"\u003C/code>. Notice that currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">groups\u003C/code> are packages groups to be installed into the image. For example \u003Ccode class=\"literal\">groups = \"anaconda-tools\"\u003C/code> group package. If you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">customizations.user\u003C/code> creates a username and password to log in to the VM.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">customizations.ignition.firstboot\u003C/code> contains the URL where the Ignition configuration file is being served.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">open-vm-tools\u003C/code> package is not included in the \u003Ccode class=\"literal\">edge-vsphere\u003C/code> image. If you need this package, you must include it in the blueprint customization.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the blueprint to the image builder server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>.toml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the blueprint you created to build your \u003Ccode class=\"literal\">.vmdk\u003C/code> image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-vmdk-image-for-rhel-for-edge_creating-vmdk-images-for-rhel-for-edge\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.2. Creating a VMDK image for RHEL for Edge\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo create a RHEL for Edge \u003Ccode class=\"literal\">.vmdk\u003C/code> image, use the 'edge-vsphere' image type in the RHEL image builder command-line interface.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint for the \u003Ccode class=\"literal\">.vmdk\u003C/code> image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou served an OSTree repository of the commit to embed it in the image. For example, \u003Ccode class=\"literal\">http://10.0.2.2:8080/repo\u003C/code>. For more details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the compose of a \u003Ccode class=\"literal\">.vmdk\u003C/code> image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start start-ostree \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span> edge-vsphere --\u003Cspan class=\"emphasis\">\u003Cem>&lt;url&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe --\u003Cspan class=\"emphasis\">\u003Cem>&lt;url&gt;\u003C/em>\u003C/span> is the URL of your repo, for example: \u003Ccode class=\"literal\">http://10.88.0.1:8080/repo\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also, keep the UUID number handy for further tasks.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the image compose status:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>  \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-version&gt;\u003C/em>\u003C/span> edge-vsphere\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter the compose process finishes, download the resulting image file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUpload the \u003Ccode class=\"literal\">.vmdk\u003C/code> image to vSphere.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"uploading-vmdk-images-and-creating-a-rhel-virtual-machine-in-vsphere_creating-vmdk-images-for-rhel-for-edge\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.3. Uploading VMDK images and creating a RHEL virtual machine in vSphere\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUpload the \u003Ccode class=\"literal\">.vmdk\u003C/code> image to VMware vSphere by using the \u003Ccode class=\"literal\">govc import.vmdk\u003C/code> CLI tool and boot the image in a VM.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created an \u003Ccode class=\"literal\">.vmdk\u003C/code> image by using RHEL image builder and downloaded it to your host system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">govc import.vmdk\u003C/code> CLI tool.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou configured the \u003Ccode class=\"literal\">govc import.vmdk\u003C/code> CLI tool client.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou must set the following values in the environment:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">GOVC_URL\nGOVC_DATACENTER\nGOVC_FOLDER\nGOVC_DATASTORE\nGOVC_RESOURCE_POOL\nGOVC_NETWORK\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNavigate to the directory where you downloaded your \u003Ccode class=\"literal\">.vmdk\u003C/code> image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLaunch the image on vSphere by executing the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tImport the \u003Ccode class=\"literal\">.vmdk\u003C/code> image in to vSphere:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ govc import.vmdk ./composer-api.vmdk \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">foldername\u003C/span>\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate the VM in vSphere without powering it on:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">govc vm.create \\\n-net=\"VM Network\" -net.adapter=vmxnet3 \\\n-disk.controller=pvscsi -on=false \\\n-m=4096 -c=2 -g=rhel9_64Guest \\\n-firmware=efi vm_name govc vm.disk.attach \\\n-disk=”\u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">foldername\u003C/span>\u003C/em>\u003C/span>/composer-api.vmdk” govc vm.power -on\\\n-vm vm_name -link=false \\\n vm_name\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tPower-on the VM:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">govc vm.power -on \u003Cspan class=\"emphasis\">\u003Cem>vmname\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRetrieve the VM IP address:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">HOST=$(govc vm.ip \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">vmname\u003C/span>\u003C/em>\u003C/span>)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse SSH to log in to the VM, using the username and password you specified in your blueprint:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ ssh \u003Cspan class=\"emphasis\">\u003Cem>admin@HOST\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 10. Creating RHEL for Edge AMI images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can create a RHEL for Edge \u003Ccode class=\"literal\">edge-ami\u003C/code> customized image by using RHEL image builder. The RHEL for Edge \u003Ccode class=\"literal\">edge-ami\u003C/code> has Ignition support to inject the user configuration into the images at an early stage of the boot process. Then, you can upload the image to AWS cloud and launch an EC2 instance in AWS. You can use the AMI image type on AMD or Intel 64-bit architectures.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"creating-a-blueprint-for-edge-ami-images_creating-rhel-for-edge-ami-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.1. Creating a blueprint for Edge AMI images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a blueprint for the \u003Ccode class=\"literal\">edge-ami\u003C/code> image and customize it with the \u003Ccode class=\"literal\">customizations.ignition\u003C/code> section. With that, you can create your image and when booting the image, inject the user configuration.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have created an Ignition configuration file. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">{\n   \"ignition\":{\n      \"version\":\"3.3.0\"\n   },\n   \"passwd\":{\n      \"users\":[\n         {\n            \"groups\":[\n               \"wheel\"\n            ],\n            \"name\":\"core\",\n            \"passwordHash\":\"$6$jfuNnO9t1Bv7N\"\n         }\n      ]\n   }\n}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFor more details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images\">Creating an Ignition configuration file\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a blueprint in the Tom’s Obvious, Minimal Language (TOML) format, with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"ami-edge-image\"\ndescription = \"Blueprint for Edge AMI image\"\nversion = \"0.0.1\"\npackages = [\"cloud-init\"]\nmodules = []\ngroups = []\ndistro = \"\"\n\n[[customizations.user]]\nname = \"admin\"\npassword = \"admin\"\ngroups = [\"wheel\"]\n\n[customizations.ignition.firstboot]\nurl = http://\u003Cspan class=\"emphasis\">\u003Cem>&lt;IP_address&gt;\u003C/em>\u003C/span>:8080/\u003Cspan class=\"emphasis\">\u003Cem>config.ig\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhere:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">name\u003C/code> is the name and \u003Ccode class=\"literal\">description\u003C/code> is the description for your blueprint.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">version\u003C/code> is the version number according to the Semantic Versioning scheme.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">modules\u003C/code> and \u003Ccode class=\"literal\">packages\u003C/code> describe the package name and matching version glob to be installed into the image. For example, the package \u003Ccode class=\"literal\">name = \"open-vm-tools\"\u003C/code>. Notice that currently there are no differences between packages and modules.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">groups\u003C/code> are packages groups to be installed into the image. For example \u003Ccode class=\"literal\">groups = \"wheel\"\u003C/code>. If you do not know the modules and groups, leave them empty.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">customizations.user\u003C/code> creates a username and password to log in to the VM.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">customizations.ignition.firstboot\u003C/code> contains the URL where the Ignition configuration file is being served.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tBy default, the \u003Ccode class=\"literal\">open-vm-tools\u003C/code> package is not included in the \u003Ccode class=\"literal\">edge-vsphere\u003C/code> image. If you need this package, you must include it in the blueprint customization.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the blueprint to the image builder server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>.toml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the existing blueprints to check whether the created blueprint is successfully pushed and exists:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the blueprint you created to build your \u003Ccode class=\"literal\">edge-ami\u003C/code> image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-rhel-for-edge-ami-image_creating-rhel-for-edge-ami-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.2. Creating a RHEL for Edge AMI image\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tCreate a RHEL for Edge \u003Ccode class=\"literal\">edge-ami\u003C/code> image in the RHEL image builder command-line interface.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint for the \u003Ccode class=\"literal\">edge-ami\u003C/code> image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou served an OSTree repository of the commit to embed it in the image. For example, \u003Ccode class=\"literal\">http://10.0.2.2:8080/repo\u003C/code>. For more details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the compose of a \u003Ccode class=\"literal\">edge-ami\u003C/code> image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span> edge-ami –ref rhel/9/x86_64/edge --url \u003Cspan class=\"emphasis\">\u003Cem>&lt;ostree repo url&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--\u003Cspan class=\"emphasis\">\u003Cem>&lt;ostree repo url&gt;\u003C/em>\u003C/span>\u003C/code> is the URL of your repo, for example: \u003Ccode class=\"literal\">http://10.88.0.1:8080/{\u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span>}/repo\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also, keep the UUID number handy for further tasks.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the image compose status:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe output displays the status in the following format:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-version&gt;\u003C/em>\u003C/span> edge-ami\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter the compose process finishes, download the resulting image file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUpload the \u003Ccode class=\"literal\">edge-ami\u003C/code> image to AWS\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"uploading-a-rhel-edge-ami-image-to-aws_creating-rhel-for-edge-ami-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.3. Uploading a RHEL Edge AMI image to AWS\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUpload the \u003Ccode class=\"literal\">edge-ami\u003C/code> image to Amazon AWS Cloud service provider by using the CLI.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have an \u003Ccode class=\"literal\">Access Key ID\u003C/code> configured in the \u003Ca class=\"link\" href=\"https://aws.amazon.com/iam/\">AWS IAM\u003C/a> account manager.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a writable S3 bucket prepared.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created the \u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/vm-import/latest/userguide/required-permissions.html#vmimport-role\">required roles\u003C/a> for your AWS bucket.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the \u003Ccode class=\"literal\">aws-cli\u003C/code> tool installed .\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the \u003Ccode class=\"literal\">aws-cli\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>aws configure\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tConfigure your profile. Run the command and enter your Access key ID credential, Secret access key, Default region name, and default output name:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>aws configure --profile\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the existing buckets:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>aws s3 ls\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpload your image to S3:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>aws s3 cp \u003Cspan class=\"emphasis\">\u003Cem>&lt;path_to_image/image&gt;\u003C/em>\u003C/span> s3://\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_bucket_name&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the image in the S3 bucket:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>aws s3 ls s3://\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_bucket_name&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">container-simple.json\u003C/code> file. Replace the \"URL\" content with the S3 bucket. For example: \u003Ccode class=\"literal\">s3://rhel-edge-ami-us-west-2/2ba3c125-cc58-4cc0-861a-4cc78e892df6-image.raw\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">{\n  \"Description\": \"RHEL for Edge image\",\n  \"Format\": \"edge-ami\",\n  \"Url\": \"s3://rhel-edge-ami-us-west-2/UUID-image.raw\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the \u003Ccode class=\"literal\">edge.ami\u003C/code> image to the S3 bucket as an EC2 snapshot.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe EC2 image must be in the same region that you have created the S3 bucket.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>aws ec2 import-snapshot --description \"RHEL edge\" \\ --disk-container file://container-simple.json --region us-west-2\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe following .\u003Ccode class=\"literal\">json\u003C/code>: is an example of the command output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">{\n  \"Description\": \"RHEL for Edge image\",\n  \"Format\": \"edge-ami\",\n  \"Url\": \"s3://rhel-edge-ami-us-west-2/UUID-image.raw\"\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTake note of \"ImportTaskId\" value from the \u003Ccode class=\"literal\">.json\u003C/code> file. Use it to check the import status. In this example, the \"ImportTaskId\" is \u003Ccode class=\"literal\">import-snap-0f3055c4b7a454c85\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the import status of the snapshot, by using the \"ImportTaskId\" value from the output \u003Ccode class=\"literal\">.json\u003C/code> file from the previous step:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ aws ec2 describe-import-snapshot-tasks \\\n--import-task-ids import-snap-0f3055c4b7a454c85\n{\n    \"ImportSnapshotTasks\": [\n        {\n            \"Description\": \"RHEL edge\",\n            \"ImportTaskId\": \"import-snap-0f3055c4b7a454c85\",\n            \"SnapshotTaskDetail\": {\n                \"Description\": \"RHEL edge\",\n                \"DiskImageSize\": 10737418240.0,\n                \"Format\": \"RAW\",\n                \"SnapshotId\": \"snap-001b267e752039eab\",\n                \"Status\": \"completed\",\n                \"Url\": \"s3://rhel-edge-ami-us-west-2/2ba3c125-cc58-4cc0-861a-4cc78e892df6-image.raw\",\n                \"UserBucket\": {\n                    \"S3Bucket\": \"rhel-edge-ami-us-west-2\",\n                    \"S3Key\": \"2ba3c125-cc58-4cc0-861a-4cc78e892df6-image.raw\"\n                }\n            },\n            \"Tags\": []\n        }\n    ]\n}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun this command until the \"Status\" is marked as \"completed\". After that, you can access EC2 to create the AMI image from the snapshot, and launch it.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tTo confirm that the image upload was successful:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess EC2 in the menu and select the correct region in the AWS console. The image must have the available status, to indicate that it was successfully uploaded.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the dashboard, select your image and click Launch.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhen launching the new instance, you must select UEFI as the boot mode, and choose at least 4GB of RAM for the EC2 image.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can log in into the \u003Ccode class=\"literal\">edge-ami\u003C/code> on AWS by using the username and password you created with the Ignition configuration.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.aws.amazon.com/vm-import/latest/userguide/vmie_prereqs.html#vmimport-role\">Required service role to import a VM\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 11. Automatically provisioning and onboarding RHEL for Edge devices with FDO\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can build a RHEL for Edge Simplified Installer image, and provision it to a RHEL for Edge image. The FIDO Device Onboarding (FDO) process automatically provisions and onboards your Edge devices, and exchanges data with other devices and systems connected on the networks.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tRed Hat provides the \u003Ccode class=\"literal\">FDO\u003C/code> process as a Technology Preview feature and should run on secure networks. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. See \u003Ca class=\"link\" href=\"https://access.redhat.com/support/offerings/techpreview\">Technology Preview Features Support Scope\u003C/a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.1. The FIDO Device Onboarding (FDO) process\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe FIDO Device Onboarding (FDO) is the process that:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tProvisions and onboards a device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAutomatically configures credentials for this device. The FDO process is an automatic onboarding mechanism that is triggered by the installation of a new device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnables this device to securely connect and interact on the network.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWith FIDO Device Onboarding (FDO), you can perform a secure device onboarding by adding new devices into your IoT architecture. This includes the specified device configuration that needs to be trusted and integrated with the rest of the running systems. The FDO process is an automatic onboarding mechanism that is triggered by the installation of a new device.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe FDO protocol performs the following tasks:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSolves the trust and chain of ownership along with the automation needed to securely onboard a device at scale.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPerforms device initialization at the manufacturing stage and late device binding for its actual use. This means that actual binding of the device to a management system happens on the first boot of the device without requiring manual configuration on the device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSupports automated secure devices onboarding, that is, zero touch installation and onboarding that does not need any specialized person at the edge location. After the device is onboarded, the management platform can connect to it and apply patches, updates, and rollbacks.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWith FDO, you can benefit from the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFDO is a secure and simple way to enroll a device to a management platform. Instead of embedding a Kickstart configuration to the image, FDO applies the device credentials during the device first boot directly to the ISO image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFDO solves the issue of late binding to a device, enabling any sensitive data to be shared over a secure FDO channel.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFDO cryptographically identifies the system identity and ownership before enrolling and passing the configuration and other secrets to the system. That enables non-technical users to power-on the system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo build a RHEL for Edge Simplified Installer image and automatically onboard it, provide an existing OSTree commit. The resulting simplified image contains a raw image that has the OSTree commit deployed. After you boot the Simplified installer ISO image, it provisions a RHEL for Edge system that you can use on a hard disk or as a boot image in a virtual machine.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe RHEL for Edge Simplified Installer image is optimized for unattended installation to a device and supports both network-based deployment and non-network-based deployments. However, for network-based deployment, it supports only UEFI HTTP boot.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe FDO protocol is based on the following servers:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Manufacturing server\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tGenerates the device credentials.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCreates an Ownership voucher that is used to set the ownership of the device, later in the process.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tBinds the device to a specific management platform.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Owner management system\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tReceives the Ownership voucher from the Manufacturing server and becomes the owner of the associated device.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tLater in the process, it creates a secure channel between the device and the Owner onboarding server after the device authentication.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUses the secure channel to send the required information, such as files and scripts for the onboarding automation to the device.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Service-info API server\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tBased on Service-info API server’s configuration and modules available on the client, it performs the final steps of onboarding on target client devices, such as copying SSH keys and files, executing commands, creating users, encrypting disks and so on\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Rendezvous server\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tGets the Ownership voucher from the Owner management system and makes a mapping of the device UUID to the Owner server IP. Then, the Rendezvous server matches the device UUID with a target platform and informs the device about which Owner onboarding server endpoint this device must use.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDuring the first boot, the Rendezvous server will be the contact point for the device and it will direct the device to the owner, so that the device and the owner can establish a secure channel.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Device client\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis is installed on the device. The Device client performs the following actions:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tStarts the queries to the multiple servers where the onboarding automation will be executed.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUses TCP/IP protocols to communicate with the servers.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tThe following diagram represents the FIDO device onboarding workflow:\n\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"non-network-based_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cp class=\"title\">\u003Cstrong>Figure 11.1. Deploying RHEL for Edge in non-network environment\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/3ae9c1b1c569e2a1ab2ce772f489fc10/356_RHEL_FDO_process_0823.png\" alt=\"FDO device onboarding\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAt the \u003Cspan class=\"strong strong\">\u003Cstrong>Device Initialization\u003C/strong>\u003C/span>, the device contacts the Manufacturing server to get the FDO credentials, a set of certificates and keys to be installed on the operating system with the Rendezvous server endpoint (URL). It also gets the Ownership Voucher, that is maintained separately in case you need to change the owner assignment.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Device contacts the Manufacturing server\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Manufacturing server generates an Ownership Voucher and the Device Credentials for the Device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Ownership Voucher is transferred to the Owner onboarding server.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAt the \u003Cspan class=\"strong strong\">\u003Cstrong>On-site onboarding\u003C/strong>\u003C/span>, the Device gets the Rendezvous server endpoint (URL) from its device credentials and contacts Rendezvous server endpoint to start the onboarding process, which will redirect it to the Owner management system, that is formed by the Owner onboarding server and the Service Info API server.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" start=\"4\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Owner onboarding server transfers the Ownership Voucher to the Rendezvous server, which makes a mapping of the Ownership Voucher to the Owner.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe device client reads device credentials.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe device client connects to the network.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter connecting to the network, the Device client contacts the Rendezvous server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Rendezvous server sends the owner endpoint URL to the Device Client, and registers the device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Device client connects to the Owner onboarding server shared by the Rendezvous server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Device proves that it is the correct device by signing a statement with a device key.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Owner onboarding server proves itself correct by signing a statement with the last key of the Owner Voucher.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Owner onboarding server transfers the information of the Device to the Service Info API server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Service info API server sends the configuration for the Device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Device is onboarded.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.2. Automatically provisioning and onboarding RHEL for Edge devices\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo build a RHEL for Edge Simplified Installer image and automatically onboard it, provide an existing OSTree commit. The resulting simplified image contains a raw image that has the OSTree commit deployed. After you boot the Simplified installer ISO image, it provisions a RHEL for Edge system that you can use on a hard disk or as a boot image in a virtual machine.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe RHEL for Edge Simplified Installer image is optimized for unattended installation to a device and supports both network-based deployment and non-network-based deployments. However, for network-based deployment, it supports only UEFI HTTP boot.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAutomatically provisioning and onboarding a RHEL for Edge device involves the following high-level steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall and register a RHEL system\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy using RHEL image builder, create a blueprint with customizations for RHEL for a \u003Ccode class=\"literal\">rhel-edge-container\u003C/code> image type.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"rhel-edge-container\"\ndescription = \"Minimal RHEL for Edge Container blueprint\"\nversion = \"0.0.1\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImport the RHEL for Edge Container blueprint in RHEL image builder\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a RHEL for Edge Container image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the RHEL for Edge Container image to serve the OSTree commit, which will be later used when building the RHEL for Edge Simplified Installer image type\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a blueprint for and \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> image type with customizations for storage device path and FDO customizations\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"rhel-edge-simplified-installer-with-fdo\"\ndescription = \"Minimal RHEL for Edge Simplified Installer with FDO blueprint\"\nversion = \"0.0.1\"\npackages = []\nmodules = []\ngroups = []\ndistro = \"\"\n\n[customizations]\ninstallation_device = \"/dev/vda\"\n\n[customizations.fdo]\nmanufacturing_server_url = \"http://10.0.0.2:8080\"\ndiun_pub_key_insecure = \"true\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBuild a simplified installer RHEL for Edge image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDownload the RHEL for Edge simplified installer image\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAt this point, the FDO server infrastructure should be up and running, and the specific onboarding details handled by the \u003Ccode class=\"literal\">service-info API\u003C/code> server, that is part of the owner’s infrastructure, are configured\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall the simplified installer ISO image to a device. The FDO client runs on the Simplified Installer ISO and the UEFI directory structure makes the image bootable.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe network configuration enables the device to reach out to the manufacturing server to perform the initial device credential exchange.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAfter the system reaches the endpoint, the device credentials are created for the device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe device uses the device credentials to reach the Rendezvous server, where it checks the cryptographic credentials based on the vouchers that the Rendezvous server has, and then the Rendezvous server redirects the device to the Owner server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe device contacts the Owner server. They establish a mutual trust and the final steps of onboarding happen based on the configuration of the Service-info API server. For example, it installs the SSH keys in the device, transfer the files, create the users, run the commands, encrypt the filesystem, and so on.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands\">FDO automatic onboarding technologies\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.3. Generating key and certificates\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo run the FIDO Device Onboarding (FDO) infrastructure, you need to generate keys and certificates. FDO generates these keys and certificates to configure the manufacturing server. FDO automatically generates the certificates and \u003Ccode class=\"literal\">.yaml\u003C/code> configuration files when you install the services, and re-creating them is optional. After you install and start the services, it runs with the default settings.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRed Hat provides the \u003Ccode class=\"literal\">fdo-admin-tool\u003C/code> tool as a Technology Preview feature and should run on secure networks. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. See \u003Ca class=\"link\" href=\"https://access.redhat.com/support/offerings/techpreview\">Technology Preview Features Support Scope\u003C/a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">fdo-admin-cli\u003C/code> RPM package\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGenerate the keys and certificates in the \u003Ccode class=\"literal\">/etc/fdo\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ for i in \"diun\" \"manufacturer\" \"device-ca\" \"owner\"; do fdo-admin-tool generate-key-and-cert $i; done\n$ ls keys\ndevice_ca_cert.pem device_ca_key.der diun_cert.pem diun_key.der manufacturer_cert.pem manufacturer_key.der owner_cert.pem owner_key.der\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the key and certificates that were created in the \u003Ccode class=\"literal\">/etc/fdo/keys\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ tree keys\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can see the following output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">– device_ca_cert.pem\n– device_ca_key.der\n– diun_cert.pem\n– diun_key.dre\n– manufacturer_cert.pem\n– manufacturer_key.der\n– owner_cert.pem\n– owner_key.pem\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSee the \u003Ccode class=\"literal\">fdo-admin-tool generate-key-and-cert –-help\u003C/code> manual page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.4. Installing and running the manufacturing server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">fdo-manufacturing-server\u003C/code> RPM package enables you to run the Manufacturing Server component of the FDO protocol. It also stores other components, such as the owner vouchers, the manufacturer keys, and information about the manufacturing sessions. During the device installation, the Manufacturing server generates the device credentials for the specific device, including its GUID, rendezvous information and other metadata. Later on in the process, the device uses this rendezvous information to contact the Rendezvous server.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRed Hat provides the \u003Ccode class=\"literal\">fdo-manufacturing-server\u003C/code> tool as a Technology Preview feature and should run on secure networks because Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. See \u003Ca class=\"link\" href=\"https://access.redhat.com/support/offerings/techpreview\">Technology Preview Features Support Scope\u003C/a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tTo install the \u003Ccode class=\"literal\">manufacturing server\u003C/code> RPM package, complete the following steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">fdo-admin-cli\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install -y fdo-admin-cli\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the \u003Ccode class=\"literal\">fdo-manufacturing-server\u003C/code> RPM package is installed:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm -qa | grep fdo-manufacturing-server --refresh\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck if the files were correctly installed:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ ls /usr/share/doc/fdo\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can see the following output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Output:\nmanufacturing-server.yml\nowner-onboarding-server.yml\nrendezvous-info.yml\nrendezvous-server.yml\nserviceinfo-api-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Check the content of each file, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat /usr/share/doc/fdo/manufacturing-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the Manufacturing server. You must provide the following information:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe Manufacturing server URL\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe IP address or DNS name for the Rendezvous server\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe path to the keys and certificates you generated. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">Generating key and certificates\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can find an example of a Manufacturing server configuration file in the \u003Ccode class=\"literal\">/usr/share/doc/fdo/manufacturing-server.yml\u003C/code> directory. The following is a \u003Ccode class=\"literal\">manufacturing server.yml\u003C/code> example that is created and saved in the \u003Ccode class=\"literal\">/etc/fdo\u003C/code> directory. It contains paths to the directories, certificates, keys that you created, the Rendezvous server IP address and the default port.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">session_store_driver:\n  Directory:\n    path: /etc/fdo/stores/manufacturing_sessions/\nownership_voucher_store_driver:\n  Directory:\n    path: /etc/fdo/stores/owner_vouchers\npublic_key_store_driver:\n  Directory:\n    path: /etc/fdo/stores/manufacturer_keys\nbind: \"0.0.0.0:8080\"\nprotocols:\n  plain_di: false\n  diun:\n    mfg_string_type: SerialNumber\n    key_type: SECP384R1\n    allowed_key_storage_types:\n      - Tpm\n      - FileSystem\n    key_path: /etc/fdo/keys/diun_key.der\n    cert_path: /etc/fdo/keys/diun_cert.pem\nrendezvous_info:\n  - deviceport: 8082\n    ip_address: 192.168.122.99\n    ownerport: 8082\n    protocol: http\nmanufacturing:\n  manufacturer_cert_path: /etc/fdo/keys/manufacturer_cert.pem\n  device_cert_ca_private_key: /etc/fdo/keys/device_ca_key.der\n  device_cert_ca_chain: /etc/fdo/keys/device_ca_cert.pem\n  owner_cert_path: /etc/fdo/keys/owner_cert.pem\n  manufacturer_private_key: /etc/fdo/keys/manufacturer_key.der\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the Manufacturing server.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCheck if the systemd unit file are in the server:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl list-unit-files | grep fdo | grep manufacturing\nfdo-manufacturing-server.service disabled disabled\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnable and start the manufacturing server.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable --now fdo-manufacturing-server.service\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOpen the default ports in your firewall:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># firewall-cmd --add-port=8080/tcp --permanent\n# systemctl restart firewalld\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tEnsure that the service is listening on the port 8080:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># ss -ltn\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstall RHEL for Edge onto your system using the simplified installer. See \u003Ca class=\"link\" href=\"#building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images\" title=\"Chapter 6. Building simplified installer images to provision a RHEL for Edge image\">Building simplified installer images to provision a RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ca class=\"link\" href=\"https://github.com/fedora-iot/fido-device-onboard-rs/blob/main/examples/config/manufacturing-server.yml\">manufacturing-server.yml example\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#ref_fdo-terminology_edge-terminology-and-commands\">FDO automatic onboarding terminology\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.5. Installing, configuring, and running the Rendezvous server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tInstall the \u003Ccode class=\"literal\">fdo-rendezvous-server\u003C/code> RPM package to enable the systems to receive the voucher generated by the Manufacturing server during the first device boot. The Rendezvous server then matches the device UUID with the target platform or cloud and informs the device about which Owner server endpoint the device must use.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a \u003Ccode class=\"literal\">manufacturer_cert.pem\u003C/code> certificate. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">Generating key and certificates\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou copied the \u003Ccode class=\"literal\">manufacturer_cert.pem\u003C/code> certificate to the \u003Ccode class=\"literal\">/etc/fdo/keys\u003C/code> directory in the Rendezvous server.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">fdo-rendezvous-server\u003C/code> RPM packages:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install -y fdo-rendezvous-server\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">rendezvous-server.yml\u003C/code> configuration file, including the path to the manufacturer certificate. You can find an example in \u003Ccode class=\"literal\">/usr/share/doc/fdo/rendezvous-server.yml\u003C/code>. The following example shows a configuration file that is saved in \u003Ccode class=\"literal\">/etc/fdo/rendezvous-server.yml\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">storage_driver:\n  Directory:\n    path: /etc/fdo/stores/rendezvous_registered\nsession_store_driver:\n  Directory:\n    path: /etc/fdo/stores/rendezvous_sessions\ntrusted_manufacturer_keys_path: /etc/fdo/keys/manufacturer_cert.pem\nmax_wait_seconds: ~\nbind: \"0.0.0.0:8082\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the Rendezvous server service status:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl list-unit-files | grep fdo | grep rende\nfdo-rendezvous-server.service disabled disabled\u003C/pre>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the service is stopped and disabled, enable and start it:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable --now fdo-rendezvous-server.service\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck that the server is listening on the default configured port 8082:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># ss -ltn\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the port if you have a firewall configured on this server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># firewall-cmd --add-port=8082/tcp --permanent\n# systemctl restart firewalld\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.6. Installing, configuring, and running the Owner server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tInstall the \u003Ccode class=\"literal\">fdo-owner-cli\u003C/code> and \u003Ccode class=\"literal\">fdo-owner-onboarding-server\u003C/code> RPM package to enable the systems to receive the voucher generated by the Manufacturing server during the first device boot. The Rendezvous server then matches the device UUID with the target platform or cloud and informs the device about which Owner server endpoint the device must use.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe device where the server will be deployed has a Trusted Platform Module (TPM) device to encrypt the disk. If not, you will get an error when booting the RHEL for Edge device.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created the \u003Ccode class=\"literal\">device_ca_cert.pem\u003C/code>, \u003Ccode class=\"literal\">owner_key.der\u003C/code>, and \u003Ccode class=\"literal\">owner_cert.pem\u003C/code> with keys and certificates and copied them into the \u003Ccode class=\"literal\">/etc/fdo/keys\u003C/code> directory.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the required RPMs in this server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># dnf install -y fdo-owner-cli fdo-owner-onboarding-server\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPrepare the \u003Ccode class=\"literal\">owner-onboarding-server.yml\u003C/code> configuration file and save it to the \u003Ccode class=\"literal\">/etc/fdo/\u003C/code> directory. Include the path to the certificates you already copied and information about where to publish the Owner server service in this file.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe following is an example available in \u003Ccode class=\"literal\">/usr/share/doc/fdo/owner-onboarding-server.yml\u003C/code>. You can find references to the Service Info API, such as the URL or the authentication token.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">---\nownership_voucher_store_driver:\n  Directory:\n    path: /etc/fdo/stores/owner_vouchers\nsession_store_driver:\n  Directory:\n    path: /etc/fdo/stores/owner_onboarding_sessions\ntrusted_device_keys_path: /etc/fdo/keys/device_ca_cert.pem\nowner_private_key_path: /etc/fdo/keys/owner_key.der\nowner_public_key_path: /etc/fdo/keys/owner_cert.pem\nbind: \"0.0.0.0:8081\"\nservice_info_api_url: \"http://localhost:8083/device_info\"\nservice_info_api_authentication:\n  BearerToken:\n    token: Kpt5P/5flBkaiNSvDYS3cEdBQXJn2Zv9n1D50431/lo=\nowner_addresses:\n  - transport: http\n    addresses:\n      - ip_address: 192.168.122.149\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate and configure the Service Info API.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAdd the automated information for onboarding, such as user creation, files to be copied or created, commands to be executed, disk to be encrypted, and so on. Use the Service Info API configuration file example in \u003Ccode class=\"literal\">/usr/share/doc/fdo/serviceinfo-api-server.yml\u003C/code> as a template to create the configuration file under \u003Ccode class=\"literal\">/etc/fdo/\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">---\nservice_info:\n  initial_user:\n    username: admin\n    sshkeys:\n    - \"ssh-rsa AAAA....\"\n  files:\n  - path: /root/resolv.conf\n    source_path: /etc/resolv.conf\n  commands:\n  - command: touch\n    args:\n    - /root/test\n    return_stdout: true\n    return_stderr: true\n  diskencryption_clevis:\n  - disk_label: /dev/vda4\n    binding:\n      pin: tpm2\n      config: \"{}\"\n    reencrypt: true\n  additional_serviceinfo: ~\nbind: \"0.0.0.0:8083\"\ndevice_specific_store_driver:\n  Directory:\n    path: /etc/fdo/stores/serviceinfo_api_devices\nservice_info_auth_token: Kpt5P/5flBkaiNSvDYS3cEdBQXJn2Zv9n1D50431/lo=\nadmin_auth_token: zJNoErq7aa0RusJ1w0tkTjdITdMCWYkndzVv7F0V42Q=\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the status of the systemd units:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl list-unit-files | grep fdo\nfdo-owner-onboarding-server.service        disabled        disabled\nfdo-serviceinfo-api-server.service         disabled        disabled\u003C/pre>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the service is stopped and disabled, enable and start it:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable --now fdo-owner-onboarding-server.service\n# systemctl enable --now fdo-serviceinfo-api-server.service\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tYou must restart the \u003Ccode class=\"literal\">systemd\u003C/code> services every time you change the configuration files.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck that the server is listening on the default configured port 8083:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># ss -ltn\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the port if you have a firewall configured on this server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># firewall-cmd --add-port=8081/tcp --permanent\n# firewall-cmd --add-port=8083/tcp --permanent\n# systemctl restart firewalld\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.7. Automatically onboarding a RHEL for Edge device by using FDO authentication\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo prepare your device to automatically onboard a RHEL for Edge device and provision it as part of the installation process, complete the following steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou built an OSTree commit for RHEL for Edge and used that to generate an \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> artifact.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYour device is assembled.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">fdo-manufacturing-server\u003C/code> RPM package. See \u003Ca class=\"link\" href=\"#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\" title=\"11.4. Installing and running the manufacturing server\">Installing the manufacturing server package\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tStart the installation process by booting the RHEL for Edge simplified installer image on your device. You can install it from a CD-ROM or from a USB flash drive, for example.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify through the terminal that the device has reached the manufacturing service to perform the initial device credential exchange and has produced an ownership voucher.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou can find the ownership voucher at the storage location configured by the \u003Ccode class=\"literal\">ownership_voucher_store_driver:\u003C/code> parameter at the \u003Ccode class=\"literal\">manufacturing-sever.yml\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe directory should have an \u003Ccode class=\"literal\">ownership_voucher\u003C/code> file with a name in the GUID format which indicates that the correct device credentials were added to the device.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe onboarding server uses the device credential to authenticate against the onboarding server. It then passes the configuration to the device. After the device receives the configuration from the onboarding server, it receives an SSH key and installs the operating system on the device. Finally, the system automatically reboots, encrypts it with a strong key stored at TPM.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tAfter the device automatically reboots, you can log in to the device with the credentials that you created as part of the FDO process.\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the device by providing the username and password you created in the Service Info API.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images#deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images\">Deploying the Simplified ISO image from a USB flash drive\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 12. Using FDO to onboard RHEL for Edge devices with a database backend\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can use the FDO servers - \u003Ccode class=\"literal\">manufacturer-server\u003C/code>, \u003Ccode class=\"literal\">onboarding-server\u003C/code>, and \u003Ccode class=\"literal\">rendezvous\u003C/code>- to support storing and querying Owner Vouchers from an SQL backend such as the SQLite or the PostgreSQL databases, instead of a file. This way, you can select an SQL datastore in the FDO server options, along with credentials and other parameters, to store the Owner Vouchers in the SQL database and thus onboard a RHEL for Edge device. The SQL files are packaged in the RPMs.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThe SQL backend does not support all FDO features at this point.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"onboarding-devices-with-an-fdo-database_using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">12.1. Onboarding devices with an FDO database\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tUse an SQL database to onboard your Edge device. The following example uses the \u003Ccode class=\"literal\">diesel\u003C/code> tool, but you can also use the SQLite or the PostgreSQL databases.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can use different database storages in some servers with filesystem storage in other servers, for example, using the filesystem storage onboarding for the Manufacturing server and Postgres for Rendezvous and Owner servers.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou used FDO to generate the key and certificates to configure the manufacturing server. See link to [Generating key and certificates]\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed and configured the manufacturing server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">Installing and running the manufacturing server\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed and configured the rendezvous server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">Installing, configuring, and running the Rendezvous server\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed and configured the owner server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/composing_installing_and_managing_rhel_for_edge_images/index#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices\">Installing, configuring, and running the Owner server\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have your server configuration files in \u003Ccode class=\"literal\">/etc/fdo\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou built an OSTree commit for RHEL for Edge and used that to generate an \u003Ccode class=\"literal\">edge-simplified-installer\u003C/code> artifact\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYour device is assembled\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">diesel\u003C/code> tool or a SQL database to your host.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have configured your database system and have permissions to create tables.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the following packages:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ dnf  install -y sqlite sqlite-devel libpq libpq-devel\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess the \u003Ccode class=\"literal\">/usr/share/doc/fdo/migrations/*\u003C/code> directory. It contains \u003Ccode class=\"literal\">.sql\u003C/code> files that you need to create the database for each of the server and type combinations, after you have installed the manufacturing, rendezvous, and owner server’s RPMs.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInitialize the database content. You can use either an SQL database, such as SQLite or PostgreSQL, or the \u003Ccode class=\"literal\">diesel\u003C/code> tool to run the SQL for you.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you are using an SQL database, configure the database server with, for example, user creation, access management, for example. After you configure the database server, you can run the database.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tIf you do not want to run the \u003Ccode class=\"literal\">.sql\u003C/code> files in your database system, you can use the \u003Ccode class=\"literal\">diesel\u003C/code> tool to run the sql for you. If you are using the \u003Ccode class=\"literal\">diesel\u003C/code> tool, after you have configured the database, use the \u003Ccode class=\"literal\">diesel migration run\u003C/code> command to create the database:\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter you configure the DB system, you can use the .sql files installed at \u003Ccode class=\"literal\">/usr/share/doc/fdo/migrations/*\u003C/code> to create the database for each server type.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou must use the \u003Ccode class=\"literal\">.sql\u003C/code> file that matches the server type and database type that you are initializing. For example, when initializing the Owner Onboarding Server in a PostgreSQL database, you must use the \u003Ccode class=\"literal\">/usr/share/doc/fdo/migrations/migrations_owner_onboarding_server_postgres/up.sql\u003C/code> folder. The \u003Ccode class=\"literal\">up.sql\u003C/code> file in the migration folder creates the database, and the \u003Ccode class=\"literal\">down.sql\u003C/code> file destroys it.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter you create the database, change the configuration file of the specific server to make it use the database.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEach server has a storage configuration section.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tManufacturer server: \u003Ccode class=\"literal\">ownership_voucher_store_driver\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOwner server: \u003Ccode class=\"literal\">ownership_voucher_store_driver\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tRendezvous server: \u003Ccode class=\"literal\">storage_driver\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tFor the \u003Ccode class=\"literal\">manufacturing-server.yml\u003C/code> file, open it in your editor and change the store database:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo \u003Cspan class=\"emphasis\">\u003Cem>editor\u003C/em>\u003C/span> manufacturing-server.yml\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tChange the \u003Ccode class=\"literal\">ownership_voucher_store_driver\u003C/code> configuration under the Directory section:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ /home/rhel/fido-device-onboard-rs/aio-dir/stores/owner_vouchers\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tSpecify the following details:\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe database type that you are using: SQLite or PostgreSQL\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe server type: for example, when using PostgreSQL, set the following configuration:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">ownership_voucher_store_driver:\n  Postgres:\n    Manufacturer\u003C/pre>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tRepeat the steps to configure the Owner server and Rendezvous server.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the FDO onboarding service. See Automatically provisioning and onboarding RHEL for Edge devices with FDO for more details. Start the FDO onboarding process device initialization by running the manufacturing server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo LOG-LEVEL=debug SQLITE_MANUFACTURER-DATABASE_URL=./manufacturer-db.sqlite ./usr/libexec/fdo/fdo-manufacturing-server\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe onboarding process happens in two phases:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe device initialization phase that usually happens in the manufacturing site.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe device onboarding process that happens at the final destination of the device.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAs a result, the Ownership Vouchers stored in the Manufacturing Server’s Database must be exported and transferred to the final Owner Database.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo export the Ownership Vouchers, from the manufacturing-vouchers database file, copy the Owner Voucher to the owner to continue the FDO onboarding protocol.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCreate a folder \u003Ccode class=\"literal\">export\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ mkdir export\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tExport the Owner Voucher present in the Manufacturing Database by providing all the variables required for the command.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ fdo-owner-tool export-manufacturer-vouchers DB_TYPE DB_URL PATH [GUID]\u003C/pre>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">DB_TYPE \u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\t\tThe type of the Manufacturing DB holding the Owner Vouchers: sqlite, postgres\n\t\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">DB_URL\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\t\tThe database connection URL, or path to the database file\n\t\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">PATH\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\t\tThe path to the directory where the Owner Vouchers will be exported\n\t\t\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">GUID\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\t\t\tGUID of the owner voucher to be exported. If you do not provide a GUID, all the Owner Vouchers will be exported.\n\t\t\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe OVs must be delivered to the final Owner’s database. For that, use the \u003Ccode class=\"literal\">fdo-owner-tool\u003C/code> to import the Owner vouchers. Change to owner database. Import the Ownership Vouchers by running the following command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ fdo-owner-tool import-ownership-vouchers DB_TYPE DB_URL SOURCE_PATH\u003C/pre>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">DB_TYPE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tType of the Owner DB to import the OVs. Possible values: sqlite, postgres\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">DB_URL\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tDB connection URL or path to DB file\n\t\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">SOURCE_PATH\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\t\tPath to the OV to be imported, or path to a directory where all the OVs to be imported are located\n\t\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe command reads each OV that is specified in the &lt;SOURCE_PATH&gt; once, one by one, and tries to import them into the database. If the command finds errors, it returns an output with the GUIDs of the OVs that are faulty and specified with information about what caused the error. The non-faulty OVs are imported into the database. The device receives the configuration from the onboarding server. Then, the device receives an SSH key and starts to install the operating system on the device. Finally, the operating system automatically reboots in the device, and encrypts the device with a strong key stored at TPM.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 13. Deploying a RHEL for Edge image in a network-based environment\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can deploy a RHEL for Edge image using the RHEL installer graphical user interface or a Kickstart file. The overall process for deploying a RHEL for Edge image depends on whether your deployment environment is network-based or non-network-based.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tTo deploy the images on bare metal, use a Kickstart file.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Network-based deployments\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\tDeploying a RHEL for Edge image in a network-based environment involves the following high-level steps:\n\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\tExtract the image file contents.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSet up a web server\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tInstall the image\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Csection class=\"section\" id=\"extracting-the-tar-file-commit_installing-rpm-ostree-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.1. Extracting the RHEL for Edge image commit\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter you download the commit, extract the \u003Ccode class=\"literal\">.tar\u003C/code> file and note the ref name and the commit ID.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe downloaded commit file consists of a \u003Ccode class=\"literal\">.tar\u003C/code> file with an \u003Ccode class=\"literal\">OSTree\u003C/code> repository. The \u003Ccode class=\"literal\">OSTree\u003C/code> repository has a commit and a \u003Ccode class=\"literal\">compose.json\u003C/code> file.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">compose.json\u003C/code> file has information metadata about the commit with information such as the \"Ref\", the reference ID and the commit ID. The commit ID has the RPM packages.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo extract the package contents, perform the following the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a Kickstart file or use an existing one.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tExtract the downloaded image \u003Ccode class=\"literal\">.tar\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># tar xvf \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>-commit.tar\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tGo to the directory where you have extracted the \u003Ccode class=\"literal\">.tar\u003C/code> file.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIt has a \u003Ccode class=\"literal\">compose.json\u003C/code> file and an OSTree directory. The \u003Ccode class=\"literal\">compose.json\u003C/code> file has the commit number and the \u003Ccode class=\"literal\">OSTree\u003C/code> directory has the RPM packages.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">compose.json\u003C/code> file and note the commit ID number. You need this number handy when you proceed to set up a web server.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you have the \u003Ccode class=\"literal\">jq\u003C/code> JSON processor installed, you can also retrieve the commit ID by using the \u003Ccode class=\"literal\">jq\u003C/code> tool:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># jq '.[\"ostree-commit\"]' &lt; compose.json\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList the RPM packages in the commit.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rpm-ostree db list rhel/9/x86_64/edge --repo=repo\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse a Kickstart file to run the RHEL installer. Optionally, you can use any existing file or can create one by using the Kickstart Generator tool.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the Kickstart file, ensure that you include the details about how to provision the file system, create a user, and how to fetch and deploy the RHEL for Edge image. The RHEL installer uses this information during the installation process.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe following is a Kickstart file example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">lang en_US.UTF-8\nkeyboard us\ntimezone Etc/UTC --isUtc\ntext\nzerombr\nclearpart --all --initlabel\nautopart\nreboot\nuser --name=core --group=wheel\nsshkey --username=core \"ssh-rsa AAAA3Nza…​.\"\nrootpw --lock\nnetwork --bootproto=dhcp\n\nostreesetup --nogpg --osname=rhel --remote=edge --url=https://mirror.example.com/repo/ --ref=rhel/9/x86_64/edge\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe OStree-based installation uses the \u003Ccode class=\"literal\">ostreesetup\u003C/code> command to set up the configuration. It fetches the OSTree commit, by using the following flags:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--nogpg\u003C/code> - Disable GNU Privacy Guard (GPG) key verification.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--osname\u003C/code> - Management root for the operating system installation.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--remote\u003C/code> - Management root for the operating system installation\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--url\u003C/code> - URL of the repository to install from.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--ref\u003C/code> - Name of the branch from the repository that the installation uses.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--url=http://mirror.example.com/repo/\u003C/code> - is the address of the host system where you extracted the edge commit and served it over \u003Ccode class=\"literal\">nginx\u003C/code>. You can use the address to reach the host system from the guest computer.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor example, if you extract the commit image in the \u003Ccode class=\"literal\">/var/www/html\u003C/code> directory and serve the commit over \u003Ccode class=\"literal\">nginx\u003C/code> on a computer whose hostname is \u003Ccode class=\"literal\">www.example.com\u003C/code>, the value of the \u003Ccode class=\"literal\">--url\u003C/code> parameter is \u003Ccode class=\"literal\">http://www.example.com/repo\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tUse the http protocol to start a service to serve the commit, because https is not enabled on the Apache HTTP Server.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">Downloading a RHEL for Edge image\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/automatically_installing_rhel/index#creating-kickstart-files_rhel-installer\">Creating Kickstart files\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.2. Setting up a web server to install RHEL for Edge images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter you have extracted the RHEL for Edge image contents, set up a web server to provide the image commit details to the RHEL installer by using HTTP.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following example provides the steps to set up a web server by using a container.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed Podman on your system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3650231\">How do I install Podman in RHEL\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">nginx\u003C/code> configuration file with the following instructions:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">events {\n\n}\n\nhttp {\n    server{\n        listen 8080;\n        root /usr/share/nginx/html;\n                }\n         }\n\npid /run/nginx.pid;\ndaemon off;\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a Dockerfile with the following instructions:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">FROM registry.access.redhat.com/ubi8/ubi\nRUN dnf -y install nginx &amp;&amp; dnf clean all\nCOPY kickstart.ks /usr/share/nginx/html/\nCOPY repo /usr/share/nginx/html/\nCOPY nginx /etc/nginx.conf\nEXPOSE 8080\nCMD [\"/usr/sbin/nginx\", \"-c\", \"/etc/nginx.conf\"]\nARG commit\nADD ${commit} /usr/share/nginx/html/\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhere,\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>kickstart.ks\u003C/em>\u003C/span>\u003C/code> is the name of the Kickstart file from the RHEL for Edge image. The Kickstart file includes directive information. To help you manage the images later, it is advisable to include the checks and settings for greenboot checks. For that, you can update the Kickstart file to include the following settings:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">lang en_US.UTF-8\nkeyboard us\ntimezone Etc/UTC --isUtc\ntext\nzerombr\nclearpart --all --initlabel\nautopart\nreboot\nuser --name=core --group=wheel\nsshkey --username=core \"ssh-rsa AAAA3Nza…​.\"\n\nostreesetup --nogpg --osname=rhel --remote=edge\n--url=https://mirror.example.com/repo/\n--ref=rhel/9/x86_64/edge\n\n%post\ncat &lt;&lt; EOF &gt; /etc/greenboot/check/required.d/check-dns.sh\n#!/bin/bash\n\nDNS_SERVER=$(grep nameserver /etc/resolv.conf | cut -f2 -d\" \")\nCOUNT=0\n\n# check DNS server is available\nping -c1 $DNS_SERVER\nwhile [ $? != '0' ] &amp;&amp; [ $COUNT -lt 10 ]; do\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\u003Ca id=\"idm140247633082336\" class=\"indexterm\">\u003C!--Empty-->\u003C/a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tCOUNT++\necho \"Checking for DNS: Attempt $COUNT .\"\nsleep 10\nping -c 1 $DNS_SERVER\ndone\nEOF\n%end\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAny HTTP service can host the OSTree repository, and the example, which uses a container, is just an option for how to do this. The Dockerfile performs the following tasks:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tUses the latest Universal Base Image (UBI)\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tInstalls the web server (nginx)\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAdds the Kickstart file to the server\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAdds the RHEL for Edge image commit to the server\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild a Docker container\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># podman build -t \u003Cspan class=\"emphasis\">\u003Cem>name-of-container-image\u003C/em>\u003C/span> --build-arg commit=\u003Cspan class=\"emphasis\">\u003Cem>uuid\u003C/em>\u003C/span>-commit.tar .\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the container\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># podman run --rm -d -p \u003Cspan class=\"emphasis\">\u003Cem>port\u003C/em>\u003C/span>:8080 localhost/\u003Cspan class=\"emphasis\">\u003Cem>name-of-container-image\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAs a result, the server is set up and ready to start the RHEL Installer by using the \u003Ccode class=\"literal\">commit.tar\u003C/code> repository and the Kickstart file.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.3. Performing an attended installation to an edge device by using Kickstart\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFor an attended installation in a network-based environment, you can install the RHEL for Edge image to a device by using the RHEL Installer ISO, a Kickstart file, and a web server. The web server serves the RHEL for Edge Commit and the Kickstart file to boot the \u003Ca class=\"link\" href=\"https://developers.redhat.com/products/rhel/download\">RHEL Installer ISO\u003C/a> image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have made the RHEL for Edge Commit available by running a web server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge images\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a \u003Ccode class=\"literal\">.qcow2\u003C/code> disk image to be used as the target of the attended installation. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_virtualization/index#creating-a-virtual-disk-image_managing-virtual-disk-images-by-using-the-cli\">Creating a virtual disk image by using qemu-img\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a Kickstart file. The following is an example in which the \u003Ccode class=\"literal\">ostreesetup\u003C/code> directive instructs the Anaconda Installer to fetch and deploy the commit. Additionally, it creates a user and a password.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">lang en_US.UTF-8\nkeyboard us\ntimezone UTC\nzerombr\nclearpart --all --initlabel\nautopart --type=plain --fstype=xfs --nohome\nreboot\ntext\nnetwork --bootproto=dhcp\nuser --name=core --groups=wheel --password=edge\nservices --enabled=ostree-remount\nostreesetup --nogpg --url=http://edge_device_ip:port/repo/ --osname=rhel --remote=edge --ref=rhel/9/x86_64/edge\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the RHEL Anaconda Installer by using the \u003Ccode class=\"literal\">libvirt virt-install\u003C/code> utility to create a virtual machine (VM) with a RHEL operating system. Use the \u003Ccode class=\"literal\">.qcow2\u003C/code> disk image as the target disk in the attended installation:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">virt-install \\\n--name rhel-edge-test-1 \\\n--memory 2048 \\\n--vcpus 2 \\\n--disk path=prepared_disk_image.qcow2,format=qcow2,size=8 \\\n--os-variant rhel9 \\\n--cdrom /home/username/Downloads/rhel-9-x86_64-boot.iso\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the installation screen:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"non-network-based_installing-rpm-ostree-images\">\u003Cp class=\"title\">\u003Cstrong>Figure 13.1. Red Hat Enterprise Linux boot menu\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/8f5c464e3fdb798e591185beecd98379/rhel-8.6-boot.png\" alt=\"The Red Hat Enterprise Linux boot menu\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tPress the \u003Cspan class=\"guibutton\">e\u003C/span> key to add an additional kernel parameter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">inst.ks=http://web-server_device_ip:port/kickstart.ks\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe kernel parameter specifies that you want to install RHEL by using the Kickstart file and not the RHEL image contained in the RHEL Installer.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter adding the kernel parameters, press \u003Ckbd class=\"keycap\">Ctrl\u003C/kbd>+\u003Ckbd class=\"keycap\">X\u003C/kbd> to boot the RHEL installation by using the Kickstart file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe RHEL Installer starts, fetches the Kickstart file from the server (HTTP) endpoint and executes the commands, including the command to install the RHEL for Edge image commit from the HTTP endpoint. After the installation completes, the RHEL Installer prompts you for login details.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the Login screen, enter your user account credentials and click \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify whether the RHEL for Edge image is successfully installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen white-space-pre white-space-pre\">$ rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command output provides the image commit ID and shows that the installation is successful.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFollowing is a sample output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">State: idle\nDeployments:\n* ostree://edge:rhel/9/x86_64/edge\n\t\t  Timestamp: 2020-09-18T20:06:54Z\n\t\t\tCommit: 836e637095554e0b634a0a48ea05c75280519dd6576a392635e6fa7d4d5e96\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/60959\">How to embed a Kickstart file into an ISO image\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#booting-the-installer-from-local-media_rhel-installer\">Booting the installation\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"performing-an-unattended-installation-to-an-edge-device-by-using-kickstart_installing-rpm-ostree-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">13.4. Performing an unattended installation to an edge device by using Kickstart\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFor an unattended installation in a network-based environment, you can install the RHEL for Edge image to an Edge device by using a Kickstart file and a web server. The web server serves the RHEL for Edge Commit and the Kickstart file, and both artifacts are used to start the \u003Ca class=\"link\" href=\"https://developers.redhat.com/products/rhel/download\">RHEL Installer ISO\u003C/a> image.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have the \u003Ccode class=\"literal\">qemu-img\u003C/code> utility installed on your host system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have created a \u003Ccode class=\"literal\">.qcow2\u003C/code> disk image to install the commit you created. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index#creating-a-system-image-with-composer-in-the-command-line-interface_creating-system-images-with-composer-command-line-interface\">Creating a system image with RHEL image builder in the CLI\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have a running web server. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Creating a RHEL for Edge Container image for non-network-based deployments\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRun a RHEL for Edge Container image to start a web server. The server fetches the commit in the RHEL for Edge Container image and becomes available and running.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the RHEL Anaconda Installer, passing the customized \u003Ccode class=\"literal\">.qcow2\u003C/code> disk image, by using \u003Ccode class=\"literal\">libvirt virt-install\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">virt-install \\\n--name rhel-edge-test-1 \\\n--memory 2048 \\\n--vcpus 2 \\\n--disk path=prepared_disk_image.qcow2,format=qcow2,size=8 \\\n--os-variant rhel9 \\\n--cdrom /home/username/Downloads/rhel-9-x86_64-boot.iso\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the installation screen:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"figure\" id=\"idm140247635294528\">\u003Cp class=\"title\">\u003Cstrong>Figure 13.2. Red Hat Enterprise Linux boot menu\u003C/strong>\u003C/p>\u003Cdiv class=\"figure-contents\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/8f5c464e3fdb798e591185beecd98379/rhel-8.6-boot.png\" alt=\"The Red Hat Enterprise Linux boot menu\"/>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tPress the \u003Cspan class=\"guibutton\">TAB\u003C/span> key and add the Kickstart kernel argument:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">inst.ks=http://web-server_device_ip:port/kickstart.ks\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe kernel parameter specifies that you want to install RHEL by using the Kickstart file and not the RHEL image contained in the RHEL Installer.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAfter adding the kernel parameters, press \u003Ckbd class=\"keycap\">Ctrl\u003C/kbd>+\u003Ckbd class=\"keycap\">X\u003C/kbd> to boot the RHEL installation by using the Kickstart file.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe RHEL Installer starts, fetches the Kickstart file from the server (HTTP) endpoint, and executes the commands, including the command to install the RHEL for Edge image commit from the HTTP endpoint. After the installation completes, the RHEL Installer prompts you for login details.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the Login screen, enter your user account credentials and click \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify whether the RHEL for Edge image is successfully installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command output provides the image commit ID and shows that the installation is successful.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe following is a sample output:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">State: idle\nDeployments:\n* ostree://edge:rhel/9/x86_64/edge\n\t\t  Timestamp: 2020-09-18T20:06:54Z\n\t\t\tCommit: 836e637095554e0b634a0a48ea05c75280519dd6576a392635e6fa7d4d5e96\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/60959\">How to embed a Kickstart file into an ISO image\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/interactively_installing_rhel_from_installation_media/index#booting-the-installer-from-local-media_rhel-installer\">Booting the installation\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 14. Deploying a RHEL for Edge image in a non-network-based environment\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThe RHEL for Edge Container (\u003Ccode class=\"literal\">.tar\u003C/code>) in combination with the RHEL for Edge Installer (\u003Ccode class=\"literal\">.iso\u003C/code>) image type result in a ISO image. The ISO image can be used in disconnected environments during the image deployment to a device. However, network access might require network access to build the different artifacts.\n\t\t\u003C/p>\u003Cp>\n\t\t\tDeploying a RHEL for Edge image in a non-network-based environment involves the following high-level steps:\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tDownload the RHEL for Edge Container. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\">Downloading a RHEL for Edge image\u003C/a> for information about how to download the RHEL for Edge image.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tLoad the RHEL for Edge Container image into Podman\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tRun the RHEL for Edge Container image into Podman\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tLoad the RHEL for Edge Installer blueprint\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tBuild the RHEL for Edge Installer image\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tPrepare a \u003Ccode class=\"literal\">.qcow2\u003C/code> disk\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tBoot the Virtual Machine (VM)\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tInstall the image\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Csection class=\"section\" id=\"building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">14.1. Creating a RHEL for Edge Container image for non-network-based deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can build a running container by loading the downloaded RHEL for Edge Container OSTree commit into Podman. For that, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created and downloaded a RHEL for Edge Container OSTree commit.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have installed \u003Ccode class=\"literal\">Podman\u003C/code> on your system. See \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/3650231\">How do I install Podman in RHEL\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNavigate to the directory where you have downloaded the RHEL for Edge Container OSTree commit.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad the RHEL for Edge Container OSTree commit into \u003Ccode class=\"literal\">Podman\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo podman load -i \u003Cspan class=\"emphasis\">\u003Cem>UUID\u003C/em>\u003C/span>-container.tar\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command output provides the image ID, for example: \u003Ccode class=\"literal\">@8e0d51f061ff1a51d157804362bc875b649b27f2ae1e66566a15e7e6530cec63\u003C/code>\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTag the new RHEL for Edge Container image, using the image ID generated by the previous step.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo podman tag \u003Cspan class=\"emphasis\">\u003Cem>image-ID\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>localhost/edge-container\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">podman tag\u003C/code> command assigns an additional name to the local image.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the container named \u003Ccode class=\"literal\">edge-container\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo podman run -d --name=\u003Cspan class=\"emphasis\">\u003Cem>edge-container\u003C/em>\u003C/span> -p 8080:8080 \u003Cspan class=\"emphasis\">\u003Cem>localhost/edge-container\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">podman run -d --name=edge-container\u003C/code> command assigns a name to your container-based on the \u003Ccode class=\"literal\">localhost/edge-container\u003C/code> image.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tList containers:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo podman ps -a\nCONTAINER ID  IMAGE                               \tCOMMAND\tCREATED    \tSTATUS                \tPORTS   NAMES\n2988198c4c4b  …./localhost/edge-container   /bin/bash  3 seconds ago  Up 2 seconds ago      \tedge-container\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tAs a result, \u003Ccode class=\"literal\">Podman\u003C/code> runs a container that serves an OSTree repository with the RHEL for Edge Container commit.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">14.2. Creating a RHEL for Edge Installer image for non-network-based deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter you have built a running container to serve a repository with the \u003Ccode class=\"literal\">RHEL for Edge Container\u003C/code> commit, create an \u003Ccode class=\"literal\">RHEL for Edge Installer (.iso)\u003C/code> image. The \u003Ccode class=\"literal\">RHEL for Edge Installer (.iso)\u003C/code> pulls the commit served by \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code>. After the \u003Ccode class=\"literal\">RHEL for Edge Container\u003C/code> commit is loaded in Podman, it exposes the \u003Ccode class=\"literal\">OSTree\u003C/code> in the URL format.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo create the RHEL for Edge Installer image in the CLI, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a blueprint for RHEL for Edge image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a RHEL for Edge Container image and deployed it using a web server.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBegin to create the RHEL for Edge Installer image.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>rhel/9/x86_64/edge\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWhere,\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>ref\u003C/em>\u003C/span> is the same value that customer used to build OSTree repository\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Creating a RHEL for Edge Container image for non-network-based deployments\u003C/a>.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> is the RHEL for Edge Installer blueprint name.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span> is \u003Ccode class=\"literal\">edge-installer\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tA confirmation that the composer process has been added to the queue appears. It also shows a Universally Unique Identifier (UUID) number for the image created. Use the UUID number to track your build. Also keep the UUID number handy for further tasks.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck the image compose status.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command output displays the status in the following format:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">\u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span> RUNNING date \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-version\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe image creation process takes a few minutes to complete.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo interrupt the image creation process, run:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose cancel \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo delete an existing image, run:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose delete \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRHEL image builder pulls the commit that is being served by the running container during the image build.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter the image build is complete, you can download the resulting ISO image.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDownload the image. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line\">Downloading a RHEL for Edge image.\u003C/a>\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAfter the image is ready, you can use it for \u003Cspan class=\"strong strong\">\u003Cstrong>non-network deployments\u003C/strong>\u003C/span>. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">Installing the RHEL for Edge image for non-network-based deployments\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images#creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line\">Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">14.3. Installing the RHEL for Edge image for non-network-based deployments\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo install the RHEL for Edge image, follow the steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a RHEL for Edge Installer ISO image.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou stopped the running container.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA disk image to install the commit you created.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">edk2-ovmf\u003C/code> package.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">virt-viewer\u003C/code> package.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou customized your blueprint with a user account. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images#creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console\"> Creating a blueprint for a RHEL for Edge image using RHEL image builder in RHEL web console\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you do not define a user account customization in your blueprint, you will not be able to login to the ISO image.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">qcow\u003C/code> VM disk file to install the (\u003Ccode class=\"literal\">.iso\u003C/code>) image. That is an image of a hard disk drive for the virtual machine (VM). For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ qemu-img create -f qcow2 \u003Cspan class=\"emphasis\">\u003Cem>diskfile\u003C/em>\u003C/span>.qcow2 20G\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">virt-install\u003C/code> command to boot the VM using the disk as a drive and the installer ISO image as a CD-ROM. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ virt-install \\\n--boot uefi \\\n--name \u003Cspan class=\"emphasis\">\u003Cem>VM_NAME\u003C/em>\u003C/span>\n--memory 2048 \\\n--vcpus 2 \\\n--disk path=\u003Cspan class=\"emphasis\">\u003Cem>diskfile.qcow2\u003C/em>\u003C/span>\n--cdrom /var/lib/libvirt/images/\u003Cspan class=\"emphasis\">\u003Cem>UUID\u003C/em>\u003C/span>-installer.iso \\\n--os-variant rhel9.0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis command instructs \u003Ccode class=\"literal\">virt-install\u003C/code> to:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tInstructs the VM to use UEFI to boot, instead of the BIOS.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tMount the installation ISO.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse the hard disk drive image created in the first step.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIt gives you an Anaconda Installer. The RHEL Installer starts, loads the Kickstart file from the ISO and executes the commands, including the command to install the RHEL for Edge image commit. Once the installation is complete, the RHEL installer prompts for login details.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tAnaconda is preconfigured to use the Container commit during the installation. However, you need to set up system configurations, such as disk partition, timezone, between others.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConnect to Anaconda GUI with \u003Ccode class=\"literal\">virt-viewer\u003C/code> to setup the system configuration:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ virt-viewer --connect qemu:///system --wait VM_NAME\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tReboot the system to finish the installation.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn the login screen, specify your user account credentials and click \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify whether the RHEL for Edge image is successfully installed.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$  rpm-ostree status\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe command output provides the image commit ID and shows that the installation is successful.\n\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 15. Managing RHEL for Edge images\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tTo manage the RHEL for Edge images, you can perform any of the following administrative tasks:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tEdit the RHEL for Edge image blueprint by using image builder in RHEL web console or in the command-line\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tBuild a commit update by using image builder command-line\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tUpdate the RHEL for Edge images\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tConfigure \u003Ccode class=\"literal\">rpm-ostree\u003C/code> remotes on nodes, to update node policy\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tRestore RHEL for Edge images manually or automatically by using greenboot\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"editing_a_rhel_for_edge_image_blueprint_by_using_image_builder\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.1. Editing a RHEL for Edge image blueprint by using image builder\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can edit the RHEL for Edge image blueprint to:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdd additional components that you might require\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tModify the version of any existing component\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRemove any existing component\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.1.1. Adding a component to RHEL for Edge blueprint using image builder in RHEL web console\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo add a component to a RHEL for Edge image blueprint, ensure that you have met the following prerequisites and then follow the procedure to edit the corresponding blueprint.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn a RHEL system, you have accessed the RHEL image builder dashboard.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a blueprint for RHEL for Edge image.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the RHEL image builder dashboard, click the blueprint that you want to edit.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo search for a specific blueprint, enter the blueprint name in the filter text box, and click \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the upper right side of the blueprint, click \u003Cspan class=\"guibutton\">Edit Packages\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Edit blueprints\u003C/strong>\u003C/span> wizard opens.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Details\u003C/strong>\u003C/span> page, update the blueprint name and click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Packages\u003C/strong>\u003C/span> page, follow the steps:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Available Packages\u003C/strong>\u003C/span>, enter the package name that you want to add in the filter text box, and click \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tA list with the component name appears.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">&gt;\u003C/span> to add the component to the blueprint.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, click \u003Cspan class=\"guibutton\">Save\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe blueprint is now updated with the new package.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.1.2. Removing a component from a blueprint using RHEL image builder in the web console\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo remove one or more unwanted components from a blueprint that you created by using RHEL image builder, ensure that you have met the following prerequisites and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn a RHEL system, you have accessed the RHEL image builder dashboard.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a blueprint for RHEL for Edge image.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have added at least one component to the RHEL for Edge blueprint.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the RHEL image builder dashboard, click the blueprint that you want to edit.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo search for a specific blueprint, enter the blueprint name in the filter text box, and click \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the upper right side of the blueprint, click \u003Cspan class=\"guibutton\">Edit Packages\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Edit blueprints\u003C/strong>\u003C/span> wizard opens.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Details\u003C/strong>\u003C/span> page, update the blueprint name and click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Packages\u003C/strong>\u003C/span> page, follow the steps:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Chosen packages\u003C/strong>\u003C/span>, click \u003Cspan class=\"guibutton\">&lt;\u003C/span> to remove the chosen component. You can also click \u003Cspan class=\"guibutton\">&lt;&lt;\u003C/span> to remove all the packages at once.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, click \u003Cspan class=\"guibutton\">Save\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe blueprint is now updated.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.1.3. Editing a RHEL for Edge image blueprint using command-line interface\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can change the specifications for your RHEL for Edge image blueprint by using RHEL image builder command-line. To do so, ensure that you have met the following prerequisites and then follow the procedure to edit the corresponding blueprint.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have access to the RHEL image builder command-line.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a RHEL for Edge image blueprint.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSave (export) the blueprint to a local text file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints save BLUEPRINT-NAME\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">BLUEPRINT-NAME.toml\u003C/code> file with a text editor of your choice and make your changes.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBefore finishing with the edits, verify that the file is a valid blueprint:\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIncrease the version number.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnsure that you use a Semantic Versioning scheme.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tif you do not change the version, the patch component of the version is increased automatically.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck if the contents are valid TOML specifications. See the TOML documentation for more information.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tTOML documentation is a community product and is not supported by Red Hat. You can report any issues with the tool at \u003Ca class=\"link\" href=\"https://github.com/toml-lang/toml/issues\">https://github.com/toml-lang/toml/issues\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSave the file and close the editor.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPush (import) the blueprint back into RHEL image builder server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints push BLUEPRINT-NAME.toml\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tWhen pushing the blueprint back into the RHEL image builder server, provide the file name including the \u003Ccode class=\"literal\">.toml\u003C/code> extension.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify that the contents uploaded to RHEL image builder match your edits:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints show BLUEPRINT-NAME\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck whether the components and versions listed in the blueprint and their dependencies are valid:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli blueprints depsolve BLUEPRINT-NAME\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"updating_rhel_for_edge_images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.2. Updating RHEL for Edge images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.2.1. How RHEL for Edge image updates are deployed\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWith RHEL for Edge images, you can either deploy the updates manually or can automate the deployment process. The updates are applied in an atomic manner, where the state of each update is known, and the updates are staged and applied only upon reboot. Because no changes are seen until you reboot the device, you can schedule a reboot to ensure the highest possible uptime.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tDuring the image update, only the updated operating system content is transferred over the network. This makes the deployment process more efficient compared to transferring the entire image. The operating system binaries and libraries in \u003Ccode class=\"literal\">/usr\u003C/code> are \u003Ccode class=\"literal\">read-only\u003C/code>, and the \u003Ccode class=\"literal\">read and write\u003C/code> state is maintained in \u003Ccode class=\"literal\">/var\u003C/code> and \u003Ccode class=\"literal\">/etc\u003C/code> directories.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tWhen moving to a new deployment, the \u003Ccode class=\"literal\">/etc\u003C/code> and the \u003Ccode class=\"literal\">/var\u003C/code> directories are copied to the new deployment with \u003Ccode class=\"literal\">read and write\u003C/code> permissions. The \u003Ccode class=\"literal\">/usr\u003C/code> directory is copied as a soft link to the new deployment directory, with \u003Ccode class=\"literal\">read-only\u003C/code> permissions.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following diagram illustrates the RHEL for Edge image update deployment process:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/fce86ffb0e9c5a01ceed74d72d223153/edge-os-upgrade.png\" alt=\"Image Deployment\"/>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tBy default, the new system is booted using a procedure similar to a \u003Ccode class=\"literal\">chroot\u003C/code> operation, that is, the system enables control access to a filesystem while controlling the exposure to the underlying server environment. The new \u003Ccode class=\"literal\">/sysroot\u003C/code> directory mainly has the following parts:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRepository database at the \u003Ccode class=\"literal\">/sysroot/ostree/repo\u003C/code> directory.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFile system revisions at the \u003Ccode class=\"literal\">/sysroot/ostree/deploy/rhel/deploy\u003C/code> directory, which are created by each operation in the system update.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/sysroot/ostree/boot\u003C/code> directory, which links to deployments on the previous point. Note that \u003Ccode class=\"literal\">/ostree\u003C/code> is a soft link to \u003Ccode class=\"literal\">/sysroot/ostree\u003C/code>. The files from the \u003Ccode class=\"literal\">/sysroot/ostree/boot\u003C/code> directory are not duplicated. The same file is used if it is not changed during the deployment. The files are hard-links to another file stored in the \u003Ccode class=\"literal\">/sysroot/ostree/repo/objects\u003C/code> directory.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe operating system selects the deployment in the following way:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">dracut\u003C/code> tool parses the \u003Ccode class=\"literal\">ostree\u003C/code> kernel argument in the \u003Ccode class=\"literal\">initramfs root\u003C/code> file system and sets up the \u003Ccode class=\"literal\">/usr\u003C/code> directory as a \u003Ccode class=\"literal\">read-only\u003C/code> bind mount.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tBind the deployment directory in \u003Ccode class=\"literal\">/sysroot\u003C/code> to \u003Ccode class=\"literal\">/\u003C/code> directory.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRe-mount the operating system already mounted \u003Ccode class=\"literal\">dirs\u003C/code> using the \u003Ccode class=\"literal\">MS_MOVE\u003C/code> mount flag\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tIf anything goes wrong, you can perform a deployment rollback by removing the old deployments with the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> cleanup command. Each client machine contains an \u003Ccode class=\"literal\">OSTree\u003C/code> repository stored in \u003Ccode class=\"literal\">/ostree/repo\u003C/code>, and a set of deployments stored in \u003Ccode class=\"literal\">/ostree/deploy/$STATEROOT/$CHECKSUM\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tWith the deployment updates in RHEL for Edge image, you can benefit from a better system consistency across multiple devices, easier reproducibility, and better isolation between the pre and post system states change.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_building-a-commit-update_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.2.2. Building a commit update\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can build a commit update after making a change in the blueprint, such as:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAdding an additional package that your system requires\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tModifying the package version of any existing component\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRemoving any existing package.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have updated a system which is running RHEL image builder.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou created a blueprint update.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have previously created an OSTree repository and served it through HTTP. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge images\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStart the compose of the new commit image, with the following arguments: \u003Ccode class=\"literal\">--url\u003C/code>, \u003Ccode class=\"literal\">--ref\u003C/code>, \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span>\u003C/code>, \u003Ccode class=\"literal\">edge-commit\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose start-ostree --ref rhel/9/x86_64/edge --url http://localhost:8080/repo \u003Cspan class=\"emphasis\">\u003Cem>&lt;blueprint-name&gt;\u003C/em>\u003C/span> edge-commit\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command instructs the compose process to fetch the metadata from the OStree repo before starting the compose. The resulting new OSTree commit contains a reference of the original OSTree commit as a parent image.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter the compose process finishes, fetch the \u003Ccode class=\"literal\">.tar\u003C/code> file.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># composer-cli compose image \u003Cspan class=\"emphasis\">\u003Cem>&lt;UUID&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tExtract the commit to a temporary directory, so that you can store the commit history in the OSTree repo.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ tar -xf \u003Cspan class=\"emphasis\">\u003Cem>UUID\u003C/em>\u003C/span>.tar -C /var/tmp\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInspect the resulting OSTree repo commit, by using the \u003Ccode class=\"literal\">tar -xf\u003C/code> command. It extracts the tar file to disk so you can inspect the resulting OSTree repo:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ ostree --repo=/var/tmp/repo log rhel/9/x86_64/edge\ncommit d523ef801e8b1df69ddbf73ce810521b5c44e9127a379a4e3bba5889829546fa\nParent:  f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91\nContentChecksum:  f0f6703696331b661fa22d97358db48ba5f8b62711d9db83a00a79b3ae0dfe16\nDate:  2023-06-04 20:22:28 /+0000\nVersion: 9\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the output example, there is a single OSTree commit in the repo that references a parent commit. The parent commit is the same checksum from the original OSTree commit that you previously made.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMerge the two commits by using the \u003Ccode class=\"literal\">ostree pull-local\u003C/code> command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ sudo ostree --repo=/var/srv/httpd/repo pull-local /var/tmp/repo\n20 metadata, 22 content objects imported; 0 bytes content written\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis command copies any new metadata and content from the location on the disk, for example, \u003Ccode class=\"literal\">/var/tmp\u003C/code>, to a destination OSTree repo in \u003Ccode class=\"literal\">/var/srv/httpd\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInspect the target OSTree repo:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ ostree --repo=/var/srv/httpd/repo log rhel/9/x86_64/edge\ncommit d523ef801e8b1df69ddbf73ce810521b5c44e9127a379a4e3bba5889829546fa\nParent:  f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91\nContentChecksum:  f0f6703696331b661fa22d97358db48ba5f8b62711d9db83a00a79b3ae0dfe16\nDate:  2023-06-04 20:22:28 /+0000\nVersion: 9\n(no subject)\n\ncommit f47842de7e6859cee07d743d3c67949420874727883fa9dbbaeb5824ad949d91\nContentChecksum:  9054de3fe5f1210e3e52b38955bea0510915f89971e3b1ba121e15559d5f3a63\nDate:  2023-06-04 20:01:08 /+0000\nVersion: 9\n(no subject)\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can see that the target OSTree repo now contains two commits in the repository, in a logical order. After successful verification, you can update your RHEL for Edge system.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.2.3. Deploying RHEL for Edge image updates manually\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAfter you have edited a RHEL for Edge blueprint, you can update the image commit. RHEL image builder generates a new commit for the updated RHEL for Edge image. Use this new commit to deploy the image with latest package versions or with additional packages.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo deploy RHEL for Edge images updates, ensure that you meet the prerequisites and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn a RHEL system, you have accessed the RHEL image builder dashboard.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have created a RHEL for Edge image blueprint.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have edited the RHEL for Edge image blueprint.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn the RHEL image builder dashboard click \u003Cspan class=\"guibutton\">Create Image\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create Image\u003C/strong>\u003C/span> window, perform the following steps:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the Image output page:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Select a blueprint\u003C/strong>\u003C/span> dropdown list, select the blueprint that you edited.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output type\u003C/strong>\u003C/span> dropdown list, select \u003Ccode class=\"literal\">RHEL for Edge Commit (.tar)\u003C/code>. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>OSTree settings\u003C/strong>\u003C/span> page, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Repository URL\u003C/strong>\u003C/span> field, enter the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Parent commit\u003C/strong>\u003C/span> field, specify the parent commit ID that was previously generated. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images\">Extracting RHEL for Edge image commit\u003C/a>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Ref\u003C/strong>\u003C/span> field, you can either specify a name for your commit or leave it empty. By default, the web console specifies the \u003Ccode class=\"literal\">Ref\u003C/code> as \u003Ccode class=\"literal\">rhel/9/arch_name/edge\u003C/code>. Click \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, check the customizations and click \u003Cspan class=\"guibutton\">Create image\u003C/span>. RHEL image builder starts to create a RHEL for Edge image for the updated blueprint. The image creation process takes a few minutes to complete.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo view the RHEL for Edge image creation progress, click the blueprint name from the breadcrumbs, and then click the \u003Cspan class=\"strong strong\">\u003Cstrong>Images\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe resulting image includes the latest packages that you have added, if any, and have the original \u003Ccode class=\"literal\">commit ID\u003C/code> as a parent.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDownload the resulting RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Images\u003C/strong>\u003C/span> tab, click \u003Cspan class=\"guibutton\">Download\u003C/span> to save the RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image to your system.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tExtract the OSTree commit (\u003Ccode class=\"literal\">.tar\u003C/code>) file.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>tar -xf \u003Cspan class=\"emphasis\">\u003Cem>UUID-commit.tar\u003C/em>\u003C/span> -C \u003Cspan class=\"emphasis\">\u003Cem>UPGRADE_FOLDER\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUpgrade the OSTree repo:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo pull-local \u003Cspan class=\"emphasis\">\u003Cem>UPGRADE_FOLDER\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo summary -u\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the RHEL system provisioned, from the original edge image, verify the current status.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf there is no new commit ID, run the following command to verify if there is any upgrade available:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree upgrade --check\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output provides the current active OSTree commit ID.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUpdate OSTree to make the new OSTree commit ID available.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree upgrade\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOSTree verifies if there is an update on the repository. If yes, it fetches the update and requests you to reboot your system so that you can activate the deployment of this new commit update.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the current status again:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can now see that there are 2 commits available:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe active parent commit.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tA new commit that is not active and contains 1 added difference.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo activate the new deployment and to make the new commit active, reboot your system.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl reboot\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Anaconda Installer reboots into the new deployment. On the login screen, you can see a new deployment available for you to boot.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIf you want to boot into the newest deployment (commit), the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> upgrade command automatically orders the boot entries so that the new deployment is first in the list. Optionally, you can use the arrow key on your keyboard to select the GRUB menu entry and press \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tProvide your login user account credentials.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the OSTree status:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output provides the active commit ID.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo view the changed packages, if any, run a diff between the parent commit and the new commit:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree db diff \u003Cspan class=\"emphasis\">\u003Cem>parent_commit\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>new_commit\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe update shows that the package you have installed is available and ready for use.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.2.4. Deploying RHEL for Edge image updates manually using the command-line\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAfter you have edited a RHEL for Edge blueprint, you can update the image commit. RHEL image builder generates a new commit for the updated RHEL for Edge image. Use the new commit to deploy the image with latest package versions or with additional packages using the CLI.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo deploy RHEL for Edge image updates using the CLI, ensure that you meet the prerequisites, and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou created the RHEL for Edge image blueprint.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou edited the RHEL for Edge image blueprint. See \u003Ca class=\"link\" href=\"#editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images\" title=\"15.1.3. Editing a RHEL for Edge image blueprint using command-line interface\">Editing a RHEL for Edge image blueprint using command-line interface\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image with the following arguments:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>ostree_ref\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span> -blueprint_name_ \u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\twhere\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>ref\u003C/em>\u003C/span>\u003C/code> is the reference you provided during the creation of the RHEL for Edge Container commit. For example, \u003Ccode class=\"literal\">rhel/9/x86_64/edge\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>URL-OSTree-repository\u003C/em>\u003C/span>\u003C/code> is the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>image-type\u003C/em>\u003C/span>\u003C/code> is \u003Ccode class=\"literal\">edge-commit\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRHEL image builder creates a RHEL for Edge image for the updated blueprint.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the RHEL for Edge image creation progress:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose status\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThe image creation processes can take up to ten to thirty minutes to complete.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe resulting image includes the latest packages that you have added, if any, and has the original \u003Ccode class=\"literal\">commit ID\u003C/code> as a parent.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tDownload the resulting RHEL for Edge image. For more information, see \u003Ca class=\"link\" href=\"#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line\" title=\"5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface\">Downloading a RHEL for Edge image using the RHEL image builder command-line interface\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tExtract the OSTree commit.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>tar -xf \u003Cspan class=\"emphasis\">\u003Cem>UUID-commit.tar\u003C/em>\u003C/span> -C \u003Cspan class=\"emphasis\">\u003Cem>upgrade_folder\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tServe the OSTree commit by using httpd. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUpgrade the OSTree repo:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/var/www/html/repo pull-local /tmp/ostree-commit/repo\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/var/www/html/repo summary -u\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the RHEL system provisioned from the original edge image, verify the current status:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf there is no new commit ID, run the following command to verify if there is any upgrade available:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree upgrade --check\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output provides the current active OSTree commit ID.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUpdate OSTree to make the new OSTree commit ID available:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree upgrade\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOSTree verifies if there is an update on the repository. If yes, it fetches the update and requests you to reboot your system so that you can activate the deployment of the new commit update.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the current status again:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou should now see that there are 2 commits available:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe active parent commit\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tA new commit that is not active and contains 1 added difference\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo activate the new deployment and make the new commit active, reboot your system:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl reboot\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe Anaconda Installer reboots into the new deployment. On the login screen, you can see a new deployment available for you to boot.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIf you want to boot into the newest deployment, the \u003Ccode class=\"literal\">rpm-ostree upgrade\u003C/code> command automatically orders the boot entries so that the new deployment is first in the list. Optionally, you can use the arrow key on your keyboard to select the GRUB menu entry and press \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tLog in using your account credentials.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the OSTree status:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output provides the active commit ID.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo view the changed packages, if any, run a diff between the parent commit and the new commit:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree db diff \u003Cspan class=\"emphasis\">\u003Cem>parent_commit\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>new_commit\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe update shows that the package you have installed is available and ready for use.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.2.5. Deploying RHEL for Edge image updates manually for non-network-base deployments\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAfter editing a RHEL for Edge blueprint, you can update your RHEL for Edge Commit image with those updates. Use RHEL image builder to generate a new commit to update your RHEL for Edge image that is already deployed in a VM, for example. Use this new commit to deploy the image with latest package versions or with additional packages.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo deploy RHEL for Edge images updates, ensure that you meet the prerequisites and then follow the procedure.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn your host, you have opened the RHEL image builder app from the web console in a browser.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have a RHEL for Edge system provisioned that is up and running.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have an OSTree repository that is being served over HTTP.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have edited a previously created RHEL for Edge image blueprint.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOn your system host, on the RHEL image builder dashboard, click \u003Cspan class=\"guibutton\">Create Image\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the \u003Cspan class=\"strong strong\">\u003Cstrong>Create Image\u003C/strong>\u003C/span> window, perform the following steps:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output\u003C/strong>\u003C/span> page:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Select a blueprint\u003C/strong>\u003C/span> dropdown list, select the blueprint that you edited.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Image output type\u003C/strong>\u003C/span> dropdown list, select \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>OSTree settings\u003C/strong>\u003C/span> page, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Repository URL\u003C/strong>\u003C/span> field, enter the URL to the OSTree repository of the commit to embed in the image. For example, http://10.0.2.2:8080/repo/. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images\">Setting up a web server to install RHEL for Edge image\u003C/a>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Parent commit\u003C/strong>\u003C/span> field, specify the parent commit ID that was previously generated. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images#extracting-the-tar-file-commit_installing-rpm-ostree-images\">Extracting RHEL for Edge image commit\u003C/a>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Ref\u003C/strong>\u003C/span> field, you can either specify a name for your commit or leave it empty. By default, the web console specifies the \u003Ccode class=\"literal\">Ref\u003C/code> as \u003Ccode class=\"literal\">rhel/9/arch_name/edge\u003C/code>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">Next\u003C/span>.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Review\u003C/strong>\u003C/span> page, check the customizations and click \u003Cspan class=\"guibutton\">Create\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRHEL image builder creates a RHEL for Edge image for the updated blueprint.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>Images\u003C/strong>\u003C/span> tab to view the progress of RHEL for Edge image creation.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThe image creation process takes a few minutes to complete.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe resulting image includes the latest packages that you have added, if any, and has the original \u003Ccode class=\"literal\">commit ID\u003C/code> as a parent.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDownload the resulting RHEL for Edge image on your host:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Images\u003C/strong>\u003C/span> tab, click \u003Cspan class=\"guibutton\">Download\u003C/span> to save the RHEL for Edge Container (\u003Ccode class=\"literal\">.tar\u003C/code>) image to your host system.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the RHEL system provisioned from the original edge image, perform the following steps:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tLoad the RHEL for Edge Container image into Podman, serving the child commit ID this time.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ cat ./child-commit_ID-container.tar | sudo podman load\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRun \u003Ccode class=\"literal\">Podman\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">#  sudo podman run -p 8080:8080 localhost/edge-test\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUpgrade the OSTree repo:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># ostree --repo=/var/www/html/repo pull-local /tmp/ostree-commit/repo\n# ostree --repo=/var/www/html/repo summary -u\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOn the RHEL system provisioned, from the original edge image, verify the current status.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf there is no new commit ID, run the following command to verify if there is any upgrade available:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree upgrade --check\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf there are updates available, the command output provides information about the available updates in the OSTree repository, such as the current active OSTree commit ID. Else, it prompts a message informing that there are no updates available.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tUpdate OSTree to make the new OSTree commit ID available.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree upgrade\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOSTree verifies if there is an update on the repository. If yes, it fetches the update and requests you to reboot your system so that you can activate the deployment of this new commit update.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCheck the current system status:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tYou can now see that there are 2 commits available:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tThe active parent commit.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tA new commit that is not active and contains 1 added difference.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo activate the new deployment and to make the new commit active, reboot your system.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl reboot\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe Anaconda Installer reboots into the new deployment. On the login screen, you can see a new deployment available for you to boot.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo boot into the newest commit, run the following command to automatically order the boot entries so that the new deployment is first in the list:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree upgrade\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOptionally, you can use the arrow key on your keyboard to select the GRUB menu entry and press \u003Cspan class=\"guibutton\">Enter\u003C/span>.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tProvide your login user account credentials.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the OSTree status:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output provides the active commit ID.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo view the changed packages, if any, run a diff between the parent commit and the new commit:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ rpm-ostree db diff \u003Cspan class=\"emphasis\">\u003Cem>parent_commit\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>new_commit\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe update shows that the package you have installed is available and ready for use.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"upgrading_rhel_for_edge_systems\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.3. Upgrading RHEL for Edge systems\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Csection class=\"section\" id=\"proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.3.1. Upgrading your RHEL 8 system to RHEL 9\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can upgrade your RHEL 8 system to RHEL 9 by using the \u003Ccode class=\"literal\">rpm-ostree rebase\u003C/code> command. The command fully supports the default package set of RHEL for Edge upgrades from the most recent updates of RHEL 8 to the most recent updates of RHEL 9. The upgrade downloads and installs the RHEL 9 image in the background. After the upgrade finishes, you must reboot your system to use the new RHEL 9 image.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe upgrade does not support every possible \u003Ccode class=\"literal\">rpm\u003C/code> package version and inclusions. You must test your package additions to ensure that these packages works as expected.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have a running RHEL for Edge 8 system\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have an OSTree repository server by HTTP\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou created a blueprint for RHEL for Edge 9 image that you will upgrade\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the system where RHEL image builder runs, create a RHEL for Edge 9 image:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tStart the image compose:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo composer-cli compose start \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>edge-commit\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOptionally, you can also create the new RHEL for Edge 9 image by using a pre-existing OSTree repository, by using the following command:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo composer-cli compose start-ostree --ref \u003Cspan class=\"emphasis\">\u003Cem>rhel/8/x86_64/edge\u003C/em>\u003C/span> --parent \u003Cspan class=\"emphasis\">\u003Cem>parent-OSTree-REF\u003C/em>\u003C/span> --url \u003Cspan class=\"emphasis\">\u003Cem>URL\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>blueprint-name\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>edge-commit\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAfter the compose finishes, download the image.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tExtract the downloaded image to \u003Ccode class=\"literal\">/var/www/html/\u003C/code> folder:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo tar -xf \u003Cspan class=\"emphasis\">\u003Cem>image_file\u003C/em>\u003C/span> -C /var/www/html\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">httpd\u003C/code> service:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl start httpd.service\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the RHEL for Edge device, check the current remote repository configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo cat /etc/ostree/remotes.d/edge.conf\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tDepending on how your Kickstart file is configured, the \u003Ccode class=\"literal\">/etc/ostree/remotes.d\u003C/code> repository can be empty. If you configured your remote repository, you can see its configuration. For the \u003Ccode class=\"literal\">edge-installer\u003C/code>, \u003Ccode class=\"literal\">raw-image\u003C/code>, and \u003Ccode class=\"literal\">simplified-installer\u003C/code> images, the remote is configured by default.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the current URL repository:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo ostree remote show-url \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">edge\u003C/span>\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>edge\u003C/em>\u003C/span> is the of the Ostree repository.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the remote reference branches:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ostree remote refs \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">edge\u003C/span>\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can see the following output:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">Error: Remote refs not available; server has no summary file\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo add the new repository:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tConfigure the URL key to add a remote repository. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo ostree remote add \\ --no-gpg-verify rhel9 http://192.168.122.1/repo/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tConfigure the URL key to point to the RHEL 9 commit for the upgrade. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo cat /etc/ostree/remotes.d/\u003Cspan class=\"emphasis\">\u003Cem>edge\u003C/em>\u003C/span>.conf\u003C/strong>\u003C/span>\n\n[remote \"edge\"]\nurl=http://192.168.122.1/ostree/repo/\ngpg-verify=false\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tConfirm if the URL has been set to the new remote repository:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo cat /etc/ostree/remotes.d/\u003Cspan class=\"emphasis\">\u003Cem>rhel9\u003C/em>\u003C/span>.conf\u003C/strong>\u003C/span>\n\n[remote \"edge\"]\nurl=http://192.168.122.1/repo/\ngpg-verify=false\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSee the new URL repository:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo ostree remote show-url rhel9 http://192.168.122.1/ostree-rhel9/repo/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tList the current remote list options:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo ostree remote list\u003C/strong>\u003C/span>\n\noutput:\nedge\nrhel9\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRebase your system to the RHEL version, providing the reference path for the RHEL 9 version:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree rebase rhel9:rhel/9/x86_64/edge\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReboot your system.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl reboot\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEnter your username and password.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the current system status:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the current status of the currently running deployment:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree status\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: List the processor and tasks managed by the kernel in real-time.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>top\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf the upgrade does not support your requirements, you have the option to manually rollback to the previous stable deployment RHEL 8 version:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo rpm-ostree rollback\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReboot your system. Enter your username and password:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl reboot\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter rebooting, your system runs RHEL 9 successfully.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tIf your upgrade succeeds and you do not want to use the previous deployment RHEL 8 version, you can delete the old repository:\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>sudo ostree remote delete \u003Cspan class=\"emphasis\">\u003Cem>\u003Cspan class=\"replaceable replaceable\">edge\u003C/span>\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/7033165\">rpm-ostree update and rebase fails with failed to find kernel error\u003C/a> (Red Hat Knowledgebase)\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"deploying_rhel_for_edge_automatic_image_updates\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.4. Deploying RHEL for Edge automatic image updates\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAfter you install a RHEL for Edge image on an Edge device, you can check for image updates available, if any, and can auto-apply them.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">rpm-ostreed-automatic.service\u003C/code> (systemd service) and \u003Ccode class=\"literal\">rpm-ostreed-automatic.timer\u003C/code> (systemd timer) control the frequency of checks and upgrades. The available updates, if any, appear as staged deployments.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tDeploying automatic image updates involves the following high-level steps:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUpdate the image update policy\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnable automatic download and staging of updates\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.4.1. Updating the RHEL for Edge image update policy\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo update the image update policy, use the \u003Ccode class=\"literal\">AutomaticUpdatePolicy\u003C/code> and an \u003Ccode class=\"literal\">IdleExitTimeout\u003C/code> setting from the \u003Ccode class=\"literal\">rpm-ostreed.conf\u003C/code> file at \u003Ccode class=\"literal\">/etc/rpm-ostreed.conf\u003C/code> location on an Edge device.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">AutomaticUpdatePolicy\u003C/code> settings controls the automatic update policy and has the following update checks options:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">none\u003C/code>: Disables automatic updates. By default, the \u003Ccode class=\"literal\">AutomaticUpdatePolicy\u003C/code> setting is set to \u003Ccode class=\"literal\">none\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">check\u003C/code>: Downloads enough metadata to display available updates with \u003Ccode class=\"literal\">rpm-ostree\u003C/code> status.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">stage\u003C/code>: Downloads and unpacks the updates that are applied on a reboot.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">IdleExitTimeout\u003C/code> setting controls the time in seconds of inactivity before the daemon exit and has the following options:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t0: Disables auto-exit.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t60: By default, the \u003Ccode class=\"literal\">IdleExitTimeout\u003C/code> setting is set to \u003Ccode class=\"literal\">60\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tTo enable automatic updates, perform the following steps:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">/etc/rpm-ostreed.conf\u003C/code> file, update the following:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tChange the value of \u003Ccode class=\"literal\">AutomaticUpdatePolicy\u003C/code> to \u003Ccode class=\"literal\">check\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tTo run the update checks, specify a value in seconds for \u003Ccode class=\"literal\">IdleExitTimeout\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the \u003Ccode class=\"literal\">rpm-ostreed\u003C/code> service and enable the \u003Ccode class=\"literal\">systemd\u003C/code> timer.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl reload rpm-ostreed\n# systemctl enable rpm-ostreed-automatic.timer --now\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> status to ensure the automatic update policy is configured and time is active.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output shows the following:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">State: idle; auto updates enabled (check; last run &lt;minutes&gt; ago)\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdditionally, the output also displays information about the available updates.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.4.2. Enabling RHEL for Edge automatic download and staging of updates\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAfter you update the image update policy to check for image updates, the updates if any are displayed along with the update details. If you decide to apply the updates, enable the policy to automatically download and stage the updates. The available image updates are then downloaded and staged for deployment. The updates are applied and take effect when you reboot the Edge device.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo enable the policy for automatic download and staging of updates, perform the following updates:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">/etc/rpm-ostreed.conf\u003C/code> file, update \"AutomaticUpdatePolicy\" to \u003Ccode class=\"literal\">stage\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the \u003Ccode class=\"literal\">rpm-ostreed\u003C/code> service.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl enable rpm-ostreed-automatic.timer --now\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> status\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rpm-ostree status\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output shows the following:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">State: idle\nAutomaticUpdates: stage; rpm-ostreed-automatic.timer: last run &lt;time&gt; ago\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo initiate the updates, you can either wait for the timer to initiate the updates, or can manually start the service.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl start rpm-ostreed-automatic.service\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter the updates are initiated, the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> status shows the following:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rpm-ostree status\nState: busy\nAutomaticUpdates: stage; rpm-ostreed-automatic.service: running\nTransaction: automatic (stage)\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWhen the update is complete, a new deployment is staged in the list of deployments, and the original booted deployment is left untouched. You can decide if you want to boot the system using the new deployment or can wait for the next update.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo view the list of deployments, run the \u003Ccode class=\"literal command\">rpm-ostree status\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFollowing is a sample output.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rpm-ostree status\nState: idle\nAutomaticUpdates: stage; rpm-ostreed-automatic.timer: last run &lt;time&gt; ago\nDeployments:\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo view the list of deployments with the updated package details, run the \u003Ccode class=\"literal command\">rpm-ostree status -v\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"rolling_back_rhel_for_edge_images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">15.5. Rolling back RHEL for Edge images\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tBecause RHEL for Edge applies transactional updates to the operating system, you can either manually or automatically roll back the unsuccessful updates to the last known good state, which prevents system failure during updates. You can automate the verification and rollback process by using the \u003Ccode class=\"literal\">greenboot\u003C/code> framework.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">greenboot\u003C/code> health check framework leverages \u003Ccode class=\"literal\">rpm-ostree\u003C/code> to run custom health checks on system startup. In case of an issue, the system rolls back to the last working state. When you deploy a \u003Ccode class=\"literal\">rpm-ostree\u003C/code> update, it runs scripts to check that critical services can still work after the update. If the system does not work, for example, due to some failed package, you can roll back the system to a previous stable version of the system. This process ensures that your RHEL for Edge device is in an operational state.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAfter you update an image, it creates a new image deployment while preserving the previous image deployment. You can verify whether the update was successful. If the update is unsuccessful, for example, due to a failed package, you can roll back the system to a previous stable version.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"introducing-the-greenboot-checks_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.5.1. Introducing the greenboot checks\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">Greenboot\u003C/code> is a Generic Health Check Framework for \u003Ccode class=\"literal\">systemd\u003C/code> available on \u003Ccode class=\"literal\">rpm-ostree\u003C/code> based systems. It contains the following RPM packages that you can install on your system:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">greenboot\u003C/code> - a package that contains the following functionalities:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tChecking provided scripts\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tReboot the system if the check fails\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRollback to a previous deployment the reboot did not solve the issue.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">greenboot-default-health-checks\u003C/code> - a set of optional and selected health checks provided by your \u003Ccode class=\"literal\">greenboot\u003C/code> system maintainers.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">Greenboot\u003C/code> works in a RHEL for Edge system by using health check scripts that run on the system to assess the system health and automate a rollback to the last healthy state in case of some software fails. These health checks scripts are available in the \u003Ccode class=\"literal\">/etc/greenboot/check/required.d\u003C/code> directory. \u003Ccode class=\"literal\">Greenboot\u003C/code> supports shell scripts for the health checks. Having a health check framework is especially useful when you need to check for software problems and perform system rollbacks on edge devices where direct serviceability is either limited or non-existent. When you install and configure health check scripts, it triggers the health checks to run every time the system starts.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou can create your own health check scripts to assess the health of your workloads and applications. These additional health check scripts are useful components of software problem checks and automatic system rollbacks.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tYou cannot use rollback in case of any health check failure on a system that is not using OSTree.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.5.2. RHEL for Edge images roll back with greenboot\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWith RHEL for Edge images, only transactional updates are applied to the operating system. The transactional updates are atomic, which means that the updates are applied only if all the updates are successful, and there is support for rollbacks. With the transactional updates, you can easily rollback the unsuccessful updates to the last known good state, preventing system failure during updates.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tPerforming health checks is especially useful when you need to check for software problems and perform system rollbacks on edge devices where direct serviceability is limited or non-existent.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tYou cannot use rollback in case of an update failure on a system that is not using OSTree, even if health checks might run.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tYou can use intelligent rollbacks with the \u003Ccode class=\"literal\">greenboot\u003C/code> health check framework to automatically assess system health every time the system starts. You can obtain pre-configured health from the \u003Ccode class=\"literal\">greenboot-default-health-checks\u003C/code> subpackage. These checks are located in the \u003Ccode class=\"literal\">/usr/lib/greenboot/check\u003C/code> read-only directory in \u003Ccode class=\"literal\">rpm-ostree\u003C/code> systems.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">Greenboot\u003C/code> leverages \u003Ccode class=\"literal\">rpm-ostree\u003C/code> and runs custom health checks that run on system startup. In case of an issue, the system rolls back the changes and preserves the last working state. When you deploy an \u003Ccode class=\"literal\">rpm-ostree\u003C/code> update, it runs scripts to check that critical services can still work after the update. If the system does not work, the update rolls back to the last known working version of the system. This process ensures that your RHEL for Edge device is in an operational state.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou can obtain pre-configured health from the \u003Ccode class=\"literal\">greenboot-default-health-checks`subpackage. These checks are located in the `/usr/lib/greenboot/check\u003C/code> read-only directory in \u003Ccode class=\"literal\">rpm-ostree\u003C/code> systems. You can also configure shell scripts as the following types of checks:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140247632524720\">\u003Cp class=\"title\">\u003Cstrong>Example 15.1. The greenboot directory structure\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"literallayout\">etc\n└─ greenboot\n   ├─ check\n   |   └─ required.d\n   |   └─ \u003Cspan class=\"emphasis\">\u003Cem>init\u003C/em>\u003C/span>.py\n   └─ green.d\n   └─ red.d\u003C/pre>\u003C/div>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Required\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tContains the health checks that must not fail. Place required shell scripts in the \u003Ccode class=\"literal\">/etc/greenboot/check/required.d\u003C/code> directory. If the scripts fail, greenboot retries them three times by default. You can configure the number of retries in the \u003Ccode class=\"literal\">/etc/greenboot/greenboot.conf\u003C/code> file by setting the \u003Ccode class=\"literal\">GREENBOOT_MAX_BOOTS\u003C/code> parameter to the number of retries you want.\n\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter all retries fail, \u003Ccode class=\"literal\">greenboot\u003C/code> automatically initiates a rollback if one is available. If a rollback is not available, the system log output shows that you need to perform a manual intervention.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Wanted\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tContains the health checks that might fail without causing the system to roll back. Place wanted shell scripts in the \u003Ccode class=\"literal\">/etc/greenboot/check/wanted.d\u003C/code> directory. \u003Ccode class=\"literal\">Greenboot\u003C/code> informs that the script fails, the system health status remains unaffected and it does not perform a rollback neither a reboot.\n\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can also specify shell scripts that will run after a check:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Green\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tContains the scripts to run after a successful boot. Place these scripts into the \u003Ccode class=\"literal\">/etc/greenboot/green.d`directory\u003C/code>. \u003Ccode class=\"literal\">Greenboot\u003C/code> informs that the boot was successful.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Red\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tContains the scripts to run after a failed boot. Place these scripts into the \u003Ccode class=\"literal\">/etc/greenboot/red.d\u003C/code> directory. The system attempts to boot three times and in case of failure, it executes the scripts. \u003Ccode class=\"literal\">Greenboot\u003C/code> informs that the boot failed.\n\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\t\tThe following diagram illustrates the RHEL for Edge image roll back process.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US/images/fc6f14d57259a680af9bb97d41772c62/edge-image-restore.png\" alt=\"Image restoration process\"/>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter booting the updated operating system, \u003Ccode class=\"literal\">greenboot\u003C/code> runs the scripts in the \u003Ccode class=\"literal\">required.d\u003C/code> and \u003Ccode class=\"literal\">wanted.d\u003C/code> directories. If any of the scripts fail in the \u003Ccode class=\"literal\">required.d\u003C/code> directory, \u003Ccode class=\"literal\">greenboot\u003C/code> runs any scripts in the \u003Ccode class=\"literal\">red.d\u003C/code> directory, and then reboots the system.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">Greenboot\u003C/code> makes 2 more attempts to boot on the upgraded system. If during the third boot attempt the scripts in \u003Cspan class=\"strong strong\">\u003Cstrong>required.d\u003C/strong>\u003C/span> are still failing, \u003Ccode class=\"literal\">greenboot\u003C/code> runs the \u003Cspan class=\"strong strong\">\u003Cstrong>red.d\u003C/strong>\u003C/span> scripts one last time, to ensure that the script in the \u003Cspan class=\"strong strong\">\u003Cstrong>red.d\u003C/strong>\u003C/span> directory tried to make a corrective action to fix the issue and this was not successful. Then, \u003Ccode class=\"literal\">greenboot\u003C/code> rollbacks the system from the current \u003Ccode class=\"literal\">rpm-ostree\u003C/code> deployment to the previous stable deployment.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"greenboot-health-check-status_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.5.3. Greenboot health check status\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWhen deploying your updated system, wait until the greenboot health checks have finished before making the changes to ensure that those changes are not lost if greenboot rolls the system back to an earlier state. If you want to make configuration changes or deploy applications you must wait until the greenboot health checks have finished. This ensures that your changes are not lost if greenboot rolls your \u003Ccode class=\"literal\">rpm-ostree\u003C/code> system back to an earlier state.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">greenboot-healthcheck\u003C/code> service runs once and then exits. You can check the status of the service to know if it is done, and to know the outcome, by using the following commands:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">systemctl is-active greenboot-healthcheck.service\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tThis command reports \u003Ccode class=\"literal\">active\u003C/code> when the service has exited. If it the service did not even run it shows \u003Ccode class=\"literal\">inactive\u003C/code>.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">systemctl show --property=SubState --value greenboot-healthcheck.service\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tReports \u003Ccode class=\"literal\">exited\u003C/code> when done, \u003Ccode class=\"literal\">running\u003C/code> while still running.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">systemctl show --property=Result --value greenboot-healthcheck.service\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tReports \u003Ccode class=\"literal\">success\u003C/code> when the checks passed.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">systemctl show --property=ExecMainStatus --value greenboot-healthcheck.service\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tReports the numerical exit code of the service, 0 means success and nonzero values mean a failure occurred.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">cat /run/motd.d/boot-status\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tShows a message, such as \"Boot Status is GREEN - Health Check SUCCESS\".\n\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"checking-greenboot-health-checks-statuses_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.5.4. Checking greenboot health checks statuses\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tCheck the status of greenboot health checks before making changes to the system or during troubleshooting. You can use any of the following commands to help you ensure that greenboot scripts have finished running.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse one of the following options to check the statuses:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo see a report of health check status, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-terminal\">$ systemctl show --property=SubState --value greenboot-healthcheck.service\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe following outputs are possible:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"square\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">start\u003C/code> means that greenboot checks are still running.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">exited\u003C/code> means that checks have passed and greenboot has exited. Greenboot runs the scripts in the \u003Ccode class=\"literal\">green.d\u003C/code> directory when the system is in a healthy state.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">failed\u003C/code> means that checks have not passed. Greenboot runs the scripts in \u003Ccode class=\"literal\">red.d\u003C/code> directory when the system is in this state and might restart the system.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo see a report showing the numerical exit code of the service, where \u003Ccode class=\"literal\">0\u003C/code> means success and nonzero values mean a failure occurred, use the following command:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-terminal\">$ systemctl show --property=ExecMainStatus --value greenboot-healthcheck.service\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo see a report showing a message about boot status, such as \u003Ccode class=\"literal\">Boot Status is GREEN - Health Check SUCCESS\u003C/code>, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-terminal\">$ cat /run/motd.d/boot-status\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.5.5. Manually rolling back RHEL for Edge images\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWhen you upgrade your operating system, a new deployment is created, and the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> package also keeps the previous deployment. If there are issues on the updated version of the operating system, you can manually roll back to the previous deployment with a single \u003Ccode class=\"literal\">rpm-ostree\u003C/code> command, or by selecting the previous deployment in the GRUB boot loader.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo manually roll back to a previous version, perform the following steps.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisite\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou updated your system and it failed.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Check for the fail error message:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ journalctl -u greenboot-healthcheck.service.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the \u003Ccode class=\"literal\">rollback\u003C/code> command:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># rpm-ostree rollback\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output provides details about the commit ID that is being moved and indicates a completed transaction with the details of the package being removed.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReboot the system.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># systemctl reboot\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command activates the previous commit with the stable content. The changes are applied and the previous version is restored.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">15.5.6. Rolling back RHEL for Edge images using an automated process\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\t\u003Ccode class=\"literal\">Greenboot\u003C/code> checks provides a framework that is integrated into the boot process and can trigger \u003Ccode class=\"literal\">rpm-ostree\u003C/code> rollbacks when a health check fails. For the health checks, you can create a custom script that indicates whether a health check passed or failed. Based on the result, you can decide when a rollback should be triggered. The following procedure shows how to create an health check script example:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a script that returns a standard exit code \u003Ccode class=\"literal\">0\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, the following script ensures that the configured DNS server is available:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalexample\">\u003Cpre class=\"screen\">#!/bin/bash\n\nDNS_SERVER=$(grep ^nameserver /etc/resolv.conf | head -n 1 | cut -f2 -d\" \")\nCOUNT=0\n# check DNS server is available\nping -c1 $DNS_SERVER\nwhile [ $? != '0' ] &amp;&amp; [ $COUNT -lt 10 ]; do\n((COUNT++))\necho \"Checking for DNS: Attempt $COUNT .\"\nsleep 10\nping -c 1 $DNS_SERVER\ndone\u003C/pre>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInclude an executable file for the health checks at \u003Ccode class=\"literal\">/etc/greenboot/check/required.d/\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">chmod +x check-dns.sh\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDuring the next reboot, the script is executed as part of the boot process, before the system enters the \u003Ccode class=\"literal\">boot-complete.target\u003C/code> unit. If the health checks are successful, no action is taken. If the health checks fail, the system will reboot several times, before marking the update as failed and rolling back to the previous update.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tTo check if the default gateway is reachable, run the following health check script:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a script that returns a standard exit code \u003Ccode class=\"literal\">0\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalexample\">\u003Cpre class=\"screen\">#!/bin/bash\n\nDEF_GW=$(ip r | awk '/^default/ {print $3}')\nSCRIPT=$(basename $0)\n\ncount=10\nconnected=0\nping_timeout=5\ninterval=5\n\nwhile [ $count -gt 0 -a $connected -eq 0 ]; do\n  echo \"$SCRIPT: Pinging default gateway $DEF_GW\"\n  ping -c 1 -q -W $ping_timeout $DEF_GW &gt; /dev/null 2&gt;&amp;1 &amp;&amp; connected=1 || sleep $interval\n  ((--count))\ndone\n\nif [ $connected -eq 1 ]; then\n  echo \"$SCRIPT: Default gateway $DEF_GW is reachable.\"\n  exit 0\nelse\n  echo \"$SCRIPT: Failed to ping default gateway $DEF_GW!\" 1&gt;&amp;2\n  exit 1\nfi\u003C/pre>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInclude an executable file for the health checks at \u003Ccode class=\"literal\">/etc/greenboot/check/required.d/\u003C/code> directory.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalexample\">\u003Cpre class=\"screen\">chmod +x check-gw.sh\u003C/pre>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 16. Creating and managing OSTree image updates\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tYou can easily create and manage OStree image updates for your RHEL for Edge systems and make them immediately available to RHEL for Edge devices. With OSTree, you can use image builder to create RHEL for Edge Commit or RHEL for Edge Container images as \u003Ccode class=\"literal\">.tar\u003C/code> files that contain OSTree commits. The OSTree update versioning system works as a “Git repository” that stores and versions the OSTree commits. The \u003Ccode class=\"literal\">rpm-ostree\u003C/code> image and package system then assembles the commits on the client device. When you create a new image with RHEL image builder to perform an update, RHEL image builder pulls updates from these repositories.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"basic-concepts-for-ostree-mirrors_creating-and-managing-ostree-image-updates\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.1. Basic concepts for OSTree\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tBasic terms that OSTree and \u003Ccode class=\"literal\">rpm-ostree\u003C/code> use during image updates.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">rpm-ostree\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe technology on the edge device that handles how the OSTree commits are assembled on the device. It works as a hybrid between an image and a package system. With the \u003Ccode class=\"literal\">rpm-ostree\u003C/code> technology, you can make atomic upgrades and rollbacks to your system.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">OSTree\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tOSTree is a technology that enables you to create commits and download bootable file system trees. You can also use it to deploy the trees and manage the bootloader configuration.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Commit\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAn OSTree commit contains a full operating system that is not directly bootable. To boot the system, you must deploy it, for example, with a RHEL Installable image.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Reference\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIt is also known as \u003Ccode class=\"literal\">ref\u003C/code>. An OSTree ref is similar to a Git branch and it is a name. The following reference names examples are valid:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rhel/9/x86_64/edge\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ref-name\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">app/org.gnome.Calculator/x86_64/stable\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ref-name-2\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tBy default, image builder specifies \u003Ccode class=\"literal\">rhel/9/$ARCH/edge\u003C/code> as a path. The \"$ARCH\" value is determined by the host machine.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Parent\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">parent\u003C/code> argument is an OSTree commit that you can provide to build a new commit with image builder. You can use the \u003Ccode class=\"literal\">parent\u003C/code> argument to specify an existing \u003Ccode class=\"literal\">ref\u003C/code> that retrieves a parent commit for the new commit that you are building. You must specify the parent commit as a ref value to be resolved and pulled, for example \u003Ccode class=\"literal\">rhel/9/x86_64/edge\u003C/code>. You can use the \u003Ccode class=\"literal\">--parent\u003C/code> commit for the RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) and RHEL for Edge Container (\u003Ccode class=\"literal\">.tar\u003C/code>) image types.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Remote\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe http or https endpoint that hosts the OSTree content. This is analogous to the baseurl for a yum repository.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Static delta\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tStatic deltas are a collection of updates generated between two OSTree commits. This enables the system client to fetch a smaller amount of files, which are larger in size. The static deltas updates are more network efficient because, when updating an ostree-based host, the system client will only fetch the objects from the new OSTree commit which do not exist on the system. Typically, the new OSTree commit contains many small files, which requires multiple TCP connections.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Summary\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe summary file is a concise way of enumerating refs, checksums, and available static deltas in an OSTree repo. You can check the state of all the refs and static deltas available in an Ostree repo. However, you must generate the summary file every time a new ref, commit, or static-delta is added to the OSTree repo.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-ostree-repositories_creating-and-managing-ostree-image-updates\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.2. Creating OSTree repositories\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can create OSTree repos with RHEL image builder by using either \u003Ccode class=\"literal\">RHEL for Edge Commit (.tar)\u003C/code> or \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code> image types. These image types contain an OSTree repo that contains a single OSTree commit.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou can extract the \u003Ccode class=\"literal\">RHEL for Edge Commit (.tar)\u003C/code> on a web server and it is ready to be served.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou must import the \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code> to a local container image storage or push the image to a container registry. After you start the container, it serves the commit over an integrated \u003Ccode class=\"literal\">nginx\u003C/code> web server.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tUse the \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code> on a RHEL server with Podman to create an OSTree repo:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisite\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou created a \u003Ccode class=\"literal\">RHEL for Edge Container (.tar)\u003C/code> image.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDownload the container image from image builder:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose image _&lt;UUID&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tImport the container into Podman:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>skopeo copy oci-archive:_&lt;UUID&gt;_-container.tar containers-storage:localhost/ostree\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the container and make it available by using the port \u003Ccode class=\"literal\">8080\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman run -rm -p 8080:8080 ostree\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCheck that the container is running:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>podman ps -a\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"managing-a-centralized-ostree-mirror_creating-and-managing-ostree-image-updates\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">16.3. Managing a centralized OSTree mirror\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tFor production environments, having a central OSTree mirror that serves all the commits has several advantages, including:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDeduplicating and minimizing disk storage\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptimizing the updates to clients by using static delta updates\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPointing to a single OSTree mirror for their deployment life.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo manage a centralized OSTree mirror, you must pull each commit from image builder into the centralized repository where it will be available to your users.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can also automate managing an OSTree mirror by using the \u003Ccode class=\"literal\">infra.osbuild\u003C/code> Ansible collection. See \u003Ca class=\"link\" href=\"https://www.ansible.com/blog/ansible-validated-content-introduction-to-infra.osbuild-collection\">osbuild.infra Ansible\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tTo create a centralized repository you can run the following commands directly on a web server:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate an empty blueprint, customizing it to use \"rhel-92\" as the distro:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"minimal-rhel92\"\ndescription = \"minimal blueprint for ostree commit\"\nversion = \"1.0.0\"\nmodules = []\ngroups = []\ndistro = \"rhel-92\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPush the blueprint to the server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli blueprints push minimal-rhel92.toml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBuild a RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image from the blueprint you created:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose start-ostree minimal-rhel92 edge-commit\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRetrieve the \u003Ccode class=\"literal\">.tar ﬁle\u003C/code> and decompress it to the disk:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose image _&lt;rhel-92-uuid&gt;\u003C/strong>\u003C/span>\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>tar -xf &lt;rhel-92-uuid&gt;.tar -C /usr/share/nginx/html/\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/usr/share/nginx/html/repo\u003C/code> location on disk will become the single OSTree repo for all refs and commits.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate another empty blueprint, customizing it to use \"rhel-87\" as the distro:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"minimal-rhel87\"\ndescription = \"minimal blueprint for ostree commit\"\nversion = \"1.0.0\"\nmodules = []\ngroups = []\ndistro = \"rhel-87\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPush the blueprint and create another RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli blueprints push minimal-rhel87.toml\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose start-ostree minimal-rhel87 edge-commit\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRetrieve the \u003Ccode class=\"literal\">.tar ﬁle\u003C/code> and decompress it to the disk:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose image &lt;rhel-87-uuid&gt;\u003C/strong>\u003C/span>\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>tar -xf &lt;rhel-87-uuid&gt;.tar\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPull the commit to the local repo. By using \u003Ccode class=\"literal\">ostree pull-local\u003C/code>, you can copy the commit data from one local repo to another local repo.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo pull-local repo\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Inspect the status of the OSTree repo. The following is an output example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo refs\u003C/strong>\u003C/span>\n\nrhel/8/x86_64/edge\nrhel/9/x86_64/edge\n\n$ ostree --repo=/usr/share/nginx/html/repo show rhel/8/x86_64/edge\ncommit f7d4d95465fbd875f6358141f39d0c573df6a321627bafde68c73850667e5443\nContentChecksum:  41bf2f8b442a770e9bf03e096a46a286f5836e0a0702b7c3516ef4e0acec2dea\nDate:  2023-09-15 16:17:04 +0000\nVersion: 8.7\n(no subject)\n\n$ ostree --repo=/usr/share/nginx/html/repo show rhel/9/x86_64/edge\ncommit 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9\nContentChecksum:  70235bfb9cae82c53f856183750e809becf0b9b076122b19c40fec92fc6d74c1\nDate:  2023-09-15 15:30:24 +0000\nVersion: 9.2\n(no subject)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpdate the RHEL 9.2 blueprint to include a new package and build a new commit, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">name = \"minimal-rhel92\"\ndescription = \"minimal blueprint for ostree commit\"\nversion = \"1.1.0\"\nmodules = []\ngroups = []\ndistro = \"rhel-92\"\n\n[[packages]]\nname = \"strace\"\nversion = \"*\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPush the updated blueprint and create a new RHEL for Edge Commit (\u003Ccode class=\"literal\">.tar\u003C/code>) image, pointing the compose to the existing OSTree repo:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli blueprints push minimal-rhel92.toml\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose start-ostree minimal-rhel92 edge-commit --url http://localhost/repo --ref rhel/9/x86_64/edge\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRetrieve the \u003Ccode class=\"literal\">.tar\u003C/code> ﬁle and decompress it to the disk:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rm -rf repo\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>composer-cli compose image &lt;rhel-92-uuid&gt;\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>tar -xf &lt;rhel-92-uuid&gt;.tar\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPull the commit to repo:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo pull-local repo\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Inspect the OSTree repo status again:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo refs\u003C/strong>\u003C/span>\nrhel/8/x86_64/edge\nrhel/9/x86_64/edge\n\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo show rhel/8/x86_64/edge\u003C/strong>\u003C/span>\ncommit f7d4d95465fbd875f6358141f39d0c573df6a321627bafde68c73850667e5443\nContentChecksum:  41bf2f8b442a770e9bf03e096a46a286f5836e0a0702b7c3516ef4e0acec2dea\nDate:  2023-09-15 16:17:04 +0000\nVersion: 8.7\n(no subject)\n\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo show rhel/9/x86_64/edge\u003C/strong>\u003C/span>\ncommit a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9\nParent:  89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9\nContentChecksum:  2335930df6551bf7808e49f8b35c45e3aa2a11a6c84d988623fd3f36df42a1f1\nDate:  2023-09-15 18:21:31 +0000\nVersion: 9.2\n(no subject)\n\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>ostree --repo=/usr/share/nginx/html/repo log rhel/9/x86_64/edge\u003C/strong>\u003C/span>\ncommit a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9\nParent:  89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9\nContentChecksum:  2335930df6551bf7808e49f8b35c45e3aa2a11a6c84d988623fd3f36df42a1f1\nDate:  2023-09-15 18:21:31 +0000\nVersion: 9.2\n(no subject)\n\ncommit 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9\nContentChecksum:  70235bfb9cae82c53f856183750e809becf0b9b076122b19c40fec92fc6d74c1\nDate:  2023-09-15 15:30:24 +0000\nVersion: 9.2\n(no subject)\n\n$ \u003Cspan class=\"strong strong\">\u003Cstrong>rpm-ostree db diff --repo=/usr/share/nginx/html/repo 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9\u003C/strong>\u003C/span> a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9\nostree diff commit from: 89290dbfd6f749700c77cbc434c121432defb0c1c367532368eee170d9e53ea9\nostree diff commit to:   a35c3b1a9e731622f32396bb1aa84c73b16bd9b9b423e09d72efaca11b0411c9\nAdded:\n  elfutils-default-yama-scope-0.188-3.el9.noarch\n  elfutils-libs-0.188-3.el9.x86_64\n  strace-5.18-2.el9.x86_64\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"appendix\" id=\"edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Appendix A. Terminology and commands\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tLearn more about the \u003Ccode class=\"literal\">rpm ostree\u003C/code> terminology and commands.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"edge-rpmostree-terminology_edge-terminology-and-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">A.1. OSTree and \u003Ccode class=\"literal\">rpm-ostree\u003C/code> terminology\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollowing are some helpful terms that are used in context to OSTree and \u003Ccode class=\"literal\">rpm-ostree\u003C/code> images.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140247635585088\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table A.1. OSTree and rpm-ostree terminology\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247635579776\" scope=\"col\">Term\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247635578688\" scope=\"col\">Definition\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OSTree\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tA tool used for managing Linux-based operating system versions. The OSTree tree view is similar to Git and is based on similar concepts.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpm-ostree\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tA hybrid image or system package that hosts operating system updates.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Commit\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tA release or image version of the operating system. RHEL image builder generates an OSTree commit for RHEL for Edge images. You can use these images to install or update RHEL on Edge servers.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Refs\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tRepresents a branch in OSTree. Refs always resolve to the latest commit. For example, \u003Ccode class=\"literal\">rhel/9/x86_64/edge\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Revision (Rev)\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tSHA-256 for a specific commit.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Remote\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe http or https endpoint that hosts the OSTree content. This is analogous to the baseurl for a dnf repository.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635579776\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">static-delta\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635578688\"> \u003Cp>\n\t\t\t\t\t\t\t\tUpdates to OSTree images are always delta updates. In case of RHEL for Edge images, the TCP overhead can be higher than expected due to the updates to number of files. To avoid TCP overhead, you can generate static-delta between specific commits, and send the update in a single connection. This optimization helps large deployments with constrained connectivity.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"edge-ostree-commands_edge-terminology-and-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">A.2. OSTree commands\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following table provides a few OSTree commands that you can use when installing or managing OSTree images.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140247631185536\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table A.2. ostree commands\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tostree pull\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree pull-local --repo [path] src\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree pull-local &lt;path&gt; &lt;rev&gt; --repo=&lt;repo-path&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree pull &lt;URL&gt; &lt;rev&gt; --repo=&lt;repo-path&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tostree summary\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree summary -u --repo=&lt;repo-path&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tView refs\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree refs --repo ~/Code/src/osbuild-iot/build/repo/ --list\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tView commits in repo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree log --repo=/home/gicmo/Code/src/osbuild-iot/build/repo/ &lt;REV&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tInspect a commit\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree show --repo build/repo &lt;REV&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tList remotes of a repo\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree remote list --repo &lt;repo-path&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tResolve a REV\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree rev-parse --repo ~/Code/src/osbuild-iot/build/repo fedora/x86_64/osbuild-demo\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree rev-parse --repo ~/Code/src/osbuild-iot/build/repo b3a008eceeddd0cfd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tCreate static-delta\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree static-delta generate --repo=[path] --from=REV --to=REV\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\tSign an \u003Ccode class=\"literal\">existing\u003C/code> ostree commit with a GPG key\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">ostree gpg-sign --repo=&lt;repo-path&gt; --gpg-homedir &lt;gpg_home&gt; COMMIT KEY-ID…\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"rpm-ostree-commands_edge-terminology-and-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">A.3. \u003Ccode class=\"literal\">rpm-ostree\u003C/code> commands\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following table provides a few \u003Ccode class=\"literal commands\">rpm-ostree\u003C/code> commands that you can use when installing or managing OSTree images.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140247632587808\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table A.3. rpm-ostree commands\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 35%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 65%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247635996160\" scope=\"col\">Commands\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247635995072\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635996160\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">rpm-ostree --repo=/home/gicmo/Code/src/osbuild-iot/build/repo/ db list &lt;REV&gt;\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635995072\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis command lists the packages existing in the &lt;REV&gt; commit into the repository.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635996160\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">rpm-ostree rollback\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635995072\"> \u003Cp>\n\t\t\t\t\t\t\t\tOSTree manages an ordered list of boot loader entries, called \u003Ccode class=\"literal\">deployments\u003C/code>. The entry at index 0 is the default boot loader entry. Each entry has a separate \u003Ccode class=\"literal\">/etc\u003C/code> directory, but all the entries share a single \u003Ccode class=\"literal\">/var\u003C/code> directory. You can use the boot loader to choose between entries by pressing Tab to interrupt startup. This rolls back to the previous state, that is, the default deployment changes places with the non-default one.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635996160\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">rpm-ostree status\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635995072\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis command gives information about the current deployment in use. Lists the names and \u003Ccode class=\"literal\">refspecs\u003C/code> of all possible deployments in order, such that the first deployment in the list is the default upon boot. The deployment marked with * is the current booted deployment, and marking with 'r' indicates the most recent upgrade.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635996160\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">rpm-ostree db list\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635995072\"> \u003Cp>\n\t\t\t\t\t\t\t\tUse this command to see which packages are within the commit or commits. You must specify at least one commit, but more than one or a range of commits also work.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635996160\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">rpm-ostree db diff\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635995072\"> \u003Cp>\n\t\t\t\t\t\t\t\tUse this command to show how the packages are different between the trees in two revs (revisions). If no revs are provided, the booted commit is compared to the pending commit. If only a single rev is provided, the booted commit is compared to that rev.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635996160\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal command\">rpm-ostree upgrade\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635995072\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis command downloads the latest version of the current tree, and deploys it, setting up the current tree as the default for the next boot. This has no effect on your running filesystem tree. You must reboot for any changes to take effect.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">rpm-ostree\u003C/code> man page on your system\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_fdo-terminology_edge-terminology-and-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">A.4. FDO automatic onboarding terminology\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLearn more about the FDO terminology.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140247635957952\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table A.4. FDO terminology\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247635408000\" scope=\"col\">Commands\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247635406912\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tFDO\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tFIDO Device Onboarding.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tDevice\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tAny hardware, device, or computer.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tOwner\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe final owner of the device - a company or an IT department.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tManufacturer\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe device manufacturer.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tManufacturer server\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tCreates the device credentials for the device.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tManufacturer client\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tInforms the location of the manufacturing server.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tOwnership Voucher (OV)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tRecord of ownership of an individual device.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tContains the following information:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* Owner (\u003Ccode class=\"literal\">fdo-owner-onboarding-service\u003C/code>)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* Rendezvous Server - FIDO server (\u003Ccode class=\"literal\">fdo-rendezvous-server\u003C/code>)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* Device (at least one combination) (\u003Ccode class=\"literal\">fdo-manufacturing-service\u003C/code>)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tDevice Credential (DC)\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tKey credential and rendezvous stored in the device at manufacture.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tKeys\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tKeys to configure the manufacturing server\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* key_path\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* cert_path\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* key_type\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* mfg_string_type: device serial number\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\t* allowed_key_storage_types: Filesystem and Trusted Platform Module (TPM) that protects the data used to authenticate the device you are using.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635408000\"> \u003Cp>\n\t\t\t\t\t\t\t\tRendezvous server\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247635406912\"> \u003Cp>\n\t\t\t\t\t\t\t\tLink to a server used by the device and later on, used on the process to find out who is the owner of the device\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://fidoalliance.org/specs/fidoiot/FIDO-IoT-spec-v1.0-wd-20200730.html#OV\">FIDO IoT spec\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">A.5. FDO automatic onboarding technologies\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollowing are the technologies used in context to FDO automatic onboarding.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140247632060912\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table A.5. OSTree and rpm-ostree terminology\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247632055600\" scope=\"col\">Technology\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140247632054512\" scope=\"col\">Definition\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tUEFI\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tUnified Extensible Firmware Interface.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tRHEL\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tRed Hat® Enterprise Linux® operating system\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpm-ostree\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tBackground image-based upgrades.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tGreenboot\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Healthcheck\u003C/code> framework for systemd on \u003Ccode class=\"literal\">rpm-ostree\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tOsbuild\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tPipeline-based build system for operating system artifacts.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tContainer\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tA Linux® container is a set of 1 or more processes that are isolated from the rest of the system.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tCoreos-installer\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tAssists installation of RHEL images, boots systems with UEFI.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632055600\"> \u003Cp>\n\t\t\t\t\t\t\t\tFIDO FDO\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140247632054512\"> \u003Cp>\n\t\t\t\t\t\t\t\tSpecification protocol to provision configuration and onboarding devices.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm140247648582624\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[16,23,28,56,69,109,142,264,313,338,355,372,389,423,433,455,473,572,590,616],{"title":13,"visible":17,"weight":18,"urlFragment":19,"anchor":20,"singlePageAnchor":20,"docTitle":21,"url":22},true,1,"index",null,"composing_installing_and_managing_rhel_for_edge_images","#",{"title":24,"visible":17,"weight":25,"urlFragment":26,"anchor":20,"singlePageAnchor":26,"docTitle":21,"url":27},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images","#proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images",{"title":29,"visible":17,"weight":30,"urlFragment":31,"anchor":20,"singlePageAnchor":31,"sections":32,"docTitle":21,"url":55},"1. Introduction to RHEL for Edge images",3,"introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images",[33,37,41,45,50],{"title":34,"visible":17,"weight":18,"urlFragment":31,"anchor":35,"singlePageAnchor":35,"docTitle":21,"url":36},"1.1. RHEL for Edge—supported architecture","edge-supported-architecture_introducing-rhel-for-edge-images","#edge-supported-architecture_introducing-rhel-for-edge-images",{"title":38,"visible":17,"weight":25,"urlFragment":31,"anchor":39,"singlePageAnchor":39,"docTitle":21,"url":40},"1.2. RHEL for Edge image types and their deployments","edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images","#edge-how-to-compose-and-deploy-a-rhel-for-edge-image_introducing-rhel-for-edge-images",{"title":42,"visible":17,"weight":30,"urlFragment":31,"anchor":43,"singlePageAnchor":43,"docTitle":21,"url":44},"1.3. Non-network-based deployments","con_non-network-based-deployments_introducing-rhel-for-edge-images","#con_non-network-based-deployments_introducing-rhel-for-edge-images",{"title":46,"visible":17,"weight":47,"urlFragment":31,"anchor":48,"singlePageAnchor":48,"docTitle":21,"url":49},"1.4. Network-based deployments",4,"con_network-based-deployments_introducing-rhel-for-edge-images","#con_network-based-deployments_introducing-rhel-for-edge-images",{"title":51,"visible":17,"weight":52,"urlFragment":31,"anchor":53,"singlePageAnchor":53,"docTitle":21,"url":54},"1.5. Difference between RHEL RPM images and RHEL for Edge images",5,"edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images","#edge-difference-between-rhel-rpm-images-and-rhel-for-edge-images_introducing-rhel-for-edge-images","#introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images",{"title":57,"visible":17,"weight":47,"urlFragment":58,"anchor":20,"singlePageAnchor":58,"sections":59,"docTitle":21,"url":68},"2. Setting up RHEL image builder","setting-up-image-builder_composing-installing-managing-rhel-for-edge-images",[60,64],{"title":61,"visible":17,"weight":18,"urlFragment":58,"anchor":62,"singlePageAnchor":62,"docTitle":21,"url":63},"2.1. Image builder system requirements","edge-image-builder-system-requirements_setting-up-image-builder","#edge-image-builder-system-requirements_setting-up-image-builder",{"title":65,"visible":17,"weight":25,"urlFragment":58,"anchor":66,"singlePageAnchor":66,"docTitle":21,"url":67},"2.2. Installing RHEL image builder","edge-installing-image-builder_setting-up-image-builder","#edge-installing-image-builder_setting-up-image-builder","#setting-up-image-builder_composing-installing-managing-rhel-for-edge-images",{"title":70,"visible":17,"weight":52,"urlFragment":71,"anchor":20,"singlePageAnchor":71,"sections":72,"docTitle":21,"url":108},"3. Configuring RHEL image builder repositories","managing-repositories_composing-installing-managing-rhel-for-edge-images",[73,77,81,85,89,93,98,103],{"title":74,"visible":17,"weight":18,"urlFragment":71,"anchor":75,"singlePageAnchor":75,"docTitle":21,"url":76},"3.1. Adding custom third-party repositories to RHEL image builder","proc_adding-custom-third-party-repositories_managing-repositories","#proc_adding-custom-third-party-repositories_managing-repositories",{"title":78,"visible":17,"weight":25,"urlFragment":71,"anchor":79,"singlePageAnchor":79,"docTitle":21,"url":80},"3.2. Adding third-party repositories with specific distributions to RHEL image builder","proc_adding-third-party-repositories-with-specific-distributions_managing-repositories","#proc_adding-third-party-repositories-with-specific-distributions_managing-repositories",{"title":82,"visible":17,"weight":30,"urlFragment":71,"anchor":83,"singlePageAnchor":83,"docTitle":21,"url":84},"3.3. Checking repositories metadata with GPG","proc_checking-repositories-metadata-with-gpg_managing-repositories","#proc_checking-repositories-metadata-with-gpg_managing-repositories",{"title":86,"visible":17,"weight":47,"urlFragment":71,"anchor":87,"singlePageAnchor":87,"docTitle":21,"url":88},"3.4. RHEL image builder official repository overrides","image-builder-default-system-repositories_managing-repositories","#image-builder-default-system-repositories_managing-repositories",{"title":90,"visible":17,"weight":52,"urlFragment":71,"anchor":91,"singlePageAnchor":91,"docTitle":21,"url":92},"3.5. Overriding a system repository","overriding-a-system-repository_managing-repositories","#overriding-a-system-repository_managing-repositories",{"title":94,"visible":17,"weight":95,"urlFragment":71,"anchor":96,"singlePageAnchor":96,"docTitle":21,"url":97},"3.6. Overriding a system repository that requires subscriptions",6,"overriding-a-system-repository-with-support-for-subscriptions_managing-repositories","#overriding-a-system-repository-with-support-for-subscriptions_managing-repositories",{"title":99,"visible":17,"weight":100,"urlFragment":71,"anchor":101,"singlePageAnchor":101,"docTitle":21,"url":102},"3.7. Configuring and using Satellite CV as a content source",7,"configuring-and-using-satellite-cv-as-a-content-source_managing-repositories","#configuring-and-using-satellite-cv-as-a-content-source_managing-repositories",{"title":104,"visible":17,"weight":105,"urlFragment":71,"anchor":106,"singlePageAnchor":106,"docTitle":21,"url":107},"3.8. Using Satellite CV as repositories to build images in RHEL image builder",8,"using-satellite-cv-as-repositories-to-build-images-in-rhel-image-builder_managing-repositories","#using-satellite-cv-as-repositories-to-build-images-in-rhel-image-builder_managing-repositories","#managing-repositories_composing-installing-managing-rhel-for-edge-images",{"title":110,"visible":17,"weight":95,"urlFragment":111,"anchor":20,"singlePageAnchor":111,"sections":112,"docTitle":21,"url":141},"4. Composing a RHEL for Edge image using image builder in RHEL web console","composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images",[113,117,121,125,129,133,137],{"title":114,"visible":17,"weight":18,"urlFragment":111,"anchor":115,"singlePageAnchor":115,"docTitle":21,"url":116},"4.1. Accessing RHEL image builder in the RHEL web console","accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console","#accessing-image-builder-in-the-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console",{"title":118,"visible":17,"weight":25,"urlFragment":111,"anchor":119,"singlePageAnchor":119,"docTitle":21,"url":120},"4.2. Creating a blueprint for a RHEL for Edge image using image builder in the web console","creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console","#creating-a-blueprint-for-rhel-for-edge-images-using-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console",{"title":122,"visible":17,"weight":30,"urlFragment":111,"anchor":123,"singlePageAnchor":123,"docTitle":21,"url":124},"4.3. Creating a RHEL for Edge Commit image by using image builder in web console","creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console","#creating-a-rhel-for-edge-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console",{"title":126,"visible":17,"weight":47,"urlFragment":111,"anchor":127,"singlePageAnchor":127,"docTitle":21,"url":128},"4.4. Creating a RHEL for Edge Container image by using RHEL image builder in RHEL web console","proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console","#proc_creating-a-rhel-for-edge-container-image-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console",{"title":130,"visible":17,"weight":52,"urlFragment":111,"anchor":131,"singlePageAnchor":131,"docTitle":21,"url":132},"4.5. Creating a RHEL for Edge Installer image by using image builder in RHEL web console","proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console","#proc_creating-a-rhel-for-edge-installer-image-using-image-builder-in-rhel-web-console_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console",{"title":134,"visible":17,"weight":95,"urlFragment":111,"anchor":135,"singlePageAnchor":135,"docTitle":21,"url":136},"4.6. Downloading a RHEL for Edge image","downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console","#downloading-a-rhel-for-edge-image_composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console",{"title":138,"visible":17,"weight":100,"urlFragment":111,"anchor":139,"singlePageAnchor":139,"docTitle":21,"url":140},"4.7. Additional resources","additional_resources","#additional_resources","#composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images",{"title":143,"visible":17,"weight":100,"urlFragment":144,"anchor":20,"singlePageAnchor":144,"sections":145,"docTitle":21,"url":263},"5. Composing a RHEL for Edge image using image builder command-line","composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images",[146,167,192,259],{"title":147,"visible":17,"weight":18,"urlFragment":144,"anchor":148,"singlePageAnchor":148,"sections":149,"docTitle":21,"url":166},"5.1. Network-based deployments workflow","network_based_deployments_workflow",[150,154,158,162],{"title":151,"visible":17,"weight":18,"urlFragment":144,"anchor":152,"singlePageAnchor":152,"docTitle":21,"url":153},"5.1.1. Creating a RHEL for Edge Commit image blueprint using image builder command-line interface","creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line","#creating-an-image-builder-blueprint-for-a-rhel-for-edge-image-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":155,"visible":17,"weight":25,"urlFragment":144,"anchor":156,"singlePageAnchor":156,"docTitle":21,"url":157},"5.1.2. Creating a RHEL for Edge Commit image using image builder command-line interface","creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line","#creating-a-rhel-for-edge-image-with-image-builder-using-the-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":159,"visible":17,"weight":30,"urlFragment":144,"anchor":160,"singlePageAnchor":160,"docTitle":21,"url":161},"5.1.3. Creating a RHEL for Edge image update with a ref commit by using RHEL image builder CLI","creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line","#creating-a-rhel-for-edge-image-with-a-parent-ref-using-image-builder-command-line-interface_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":163,"visible":17,"weight":47,"urlFragment":144,"anchor":164,"singlePageAnchor":164,"docTitle":21,"url":165},"5.1.4. Downloading a RHEL for Edge image using the image builder command-line interface","downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line","#downloading-a-rhel-for-edge-image-using-the-command-line_composing-a-rhel-for-edge-image-using-image-builder-command-line","#network_based_deployments_workflow",{"title":168,"visible":17,"weight":25,"urlFragment":144,"anchor":169,"singlePageAnchor":169,"sections":170,"docTitle":21,"url":191},"5.2. Non-network-based deployments workflow","non_network_based_deployments_workflow",[171,175,179,183,187],{"title":172,"visible":17,"weight":18,"urlFragment":144,"anchor":173,"singlePageAnchor":173,"docTitle":21,"url":174},"5.2.1. Creating a RHEL for Edge Container blueprint by using image builder CLI","proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line","#proc_creating-a-rhel-for-edge-container-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":176,"visible":17,"weight":25,"urlFragment":144,"anchor":177,"singlePageAnchor":177,"docTitle":21,"url":178},"5.2.2. Creating a RHEL for Edge Installer blueprint using image builder CLI","proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line","#proc_creating-a-rhel-for-edge-installer-image-blueprint-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":180,"visible":17,"weight":30,"urlFragment":144,"anchor":181,"singlePageAnchor":181,"docTitle":21,"url":182},"5.2.3. Creating a RHEL for Edge Container image by using image builder CLI","proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line","#proc_creating-a-rhel-for-edge-commit-image-using-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":184,"visible":17,"weight":47,"urlFragment":144,"anchor":185,"singlePageAnchor":185,"docTitle":21,"url":186},"5.2.4. Creating a RHEL for Edge Installer image using command-line interface for non-network-based deployments","creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line","#creating-a-rhel-for-edge-installer-image-using-command-line-interface-for-non-network-based-deployments_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":188,"visible":17,"weight":52,"urlFragment":144,"anchor":189,"singlePageAnchor":189,"docTitle":21,"url":190},"5.2.5. Downloading a RHEL for Edge Installer image using the image builder CLI","proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line","#proc_downloading-a-rhel-for-edge-installer-image-using-the-image-builder-cli_composing-a-rhel-for-edge-image-using-image-builder-command-line","#non_network_based_deployments_workflow",{"title":193,"visible":17,"weight":30,"urlFragment":144,"anchor":194,"singlePageAnchor":194,"sections":195,"docTitle":21,"url":258},"5.3. Supported image customizations","image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line",[196,200,204,208,212,216,220,224,228,233,238,243],{"title":197,"visible":17,"weight":18,"urlFragment":144,"anchor":198,"singlePageAnchor":198,"docTitle":21,"url":199},"5.3.1. Selecting a distribution","selecting-a-distribution_composing-a-rhel-for-edge-image-using-image-builder-command-line","#selecting-a-distribution_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":201,"visible":17,"weight":25,"urlFragment":144,"anchor":202,"singlePageAnchor":202,"docTitle":21,"url":203},"5.3.2. Selecting a package group","selecting-a-package-group_composing-a-rhel-for-edge-image-using-image-builder-command-line","#selecting-a-package-group_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":205,"visible":17,"weight":30,"urlFragment":144,"anchor":206,"singlePageAnchor":206,"docTitle":21,"url":207},"5.3.3. Setting the image hostname","setting-the-image-hostname_composing-a-rhel-for-edge-image-using-image-builder-command-line","#setting-the-image-hostname_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":209,"visible":17,"weight":47,"urlFragment":144,"anchor":210,"singlePageAnchor":210,"docTitle":21,"url":211},"5.3.4. Specifying additional users","specifying-additional-users_composing-a-rhel-for-edge-image-using-image-builder-command-line","#specifying-additional-users_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":213,"visible":17,"weight":52,"urlFragment":144,"anchor":214,"singlePageAnchor":214,"docTitle":21,"url":215},"5.3.5. Specifying additional groups","specifying-additional-groups_composing-a-rhel-for-edge-image-using-image-builder-command-line","#specifying-additional-groups_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":217,"visible":17,"weight":95,"urlFragment":144,"anchor":218,"singlePageAnchor":218,"docTitle":21,"url":219},"5.3.6. Setting SSH key for existing users","setting-ssh-key-for-existing-users_composing-a-rhel-for-edge-image-using-image-builder-command-line","#setting-ssh-key-for-existing-users_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":221,"visible":17,"weight":100,"urlFragment":144,"anchor":222,"singlePageAnchor":222,"docTitle":21,"url":223},"5.3.7. Appending a kernel argument","appending-a-kernel_composing-a-rhel-for-edge-image-using-image-builder-command-line","#appending-a-kernel_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":225,"visible":17,"weight":105,"urlFragment":144,"anchor":226,"singlePageAnchor":226,"docTitle":21,"url":227},"5.3.8. Setting time zone and NTP","setting-timezone-and-ntp_composing-a-rhel-for-edge-image-using-image-builder-command-line","#setting-timezone-and-ntp_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":229,"visible":17,"weight":230,"urlFragment":144,"anchor":231,"singlePageAnchor":231,"docTitle":21,"url":232},"5.3.9. Customizing the locale settings",9,"customizing-the-locale-settings_composing-a-rhel-for-edge-image-using-image-builder-command-line","#customizing-the-locale-settings_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":234,"visible":17,"weight":235,"urlFragment":144,"anchor":236,"singlePageAnchor":236,"docTitle":21,"url":237},"5.3.10. Customizing firewall",10,"customizing-firewall_composing-a-rhel-for-edge-image-using-image-builder-command-line","#customizing-firewall_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":239,"visible":17,"weight":240,"urlFragment":144,"anchor":241,"singlePageAnchor":241,"docTitle":21,"url":242},"5.3.11. Enabling or disabling services",11,"enabling-or-disabling-services_composing-a-rhel-for-edge-image-using-image-builder-command-line","#enabling-or-disabling-services_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":244,"visible":17,"weight":245,"urlFragment":144,"anchor":246,"singlePageAnchor":246,"sections":247,"docTitle":21,"url":257},"5.3.12. Specifying a custom file system configuration",12,"specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line",[248,253],{"title":249,"visible":250,"weight":18,"urlFragment":144,"anchor":251,"singlePageAnchor":251,"docTitle":21,"url":252},"5.3.12.1. Specifying customized files in the blueprint",false,"specifying_customized_files_in_the_blueprint","#specifying_customized_files_in_the_blueprint",{"title":254,"visible":250,"weight":25,"urlFragment":144,"anchor":255,"singlePageAnchor":255,"docTitle":21,"url":256},"5.3.12.2. Specifying customized directories in the blueprint","specifying_customized_directories_in_the_blueprint","#specifying_customized_directories_in_the_blueprint","#specifying-a-custom-filesystem-configuration_composing-a-rhel-for-edge-image-using-image-builder-command-line","#image-customizations_composing-a-rhel-for-edge-image-using-image-builder-command-line",{"title":260,"visible":17,"weight":47,"urlFragment":144,"anchor":261,"singlePageAnchor":261,"docTitle":21,"url":262},"5.4. Packages installed by RHEL image builder","packages-installed-by-default_composing-a-rhel-for-edge-image-using-image-builder-command-line","#packages-installed-by-default_composing-a-rhel-for-edge-image-using-image-builder-command-line","#composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images",{"title":265,"visible":17,"weight":105,"urlFragment":266,"anchor":20,"singlePageAnchor":266,"sections":267,"docTitle":21,"url":312},"6. Building simplified installer images to provision a RHEL for Edge image","building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images",[268,272,276,280,284,288,292,296,300,304,308],{"title":269,"visible":17,"weight":18,"urlFragment":266,"anchor":270,"singlePageAnchor":270,"docTitle":21,"url":271},"6.1. Simplified installer image build and deployment","simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images","#simplified-installer-image-build-and-deployment_building-and-provisioning-simplified-installer-images",{"title":273,"visible":17,"weight":25,"urlFragment":266,"anchor":274,"singlePageAnchor":274,"docTitle":21,"url":275},"6.2. Creating a blueprint for a Simplified image using RHEL image builder CLI","creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images","#creating-a-blueprint-for-a-simplified-image-using-image-builder_building-and-provisioning-simplified-installer-images",{"title":277,"visible":17,"weight":30,"urlFragment":266,"anchor":278,"singlePageAnchor":278,"docTitle":21,"url":279},"6.3. Creating a RHEL for Edge Simplified Installer image using image builder CLI","creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images","#creating-a-rhel-for-edge-simplified-installer-image-using-image-builder_building-and-provisioning-simplified-installer-images",{"title":281,"visible":17,"weight":47,"urlFragment":266,"anchor":282,"singlePageAnchor":282,"docTitle":21,"url":283},"6.4. Downloading a simplified RHEL for Edge image using the image builder command-line interface","downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images","#downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-command-line-interface_building-and-provisioning-simplified-installer-images",{"title":285,"visible":17,"weight":52,"urlFragment":266,"anchor":286,"singlePageAnchor":286,"docTitle":21,"url":287},"6.5. Creating a blueprint for a Simplified image RHEL using image builder GUI","proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images","#proc_creating-a-blueprint-for-a-simplified-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images",{"title":289,"visible":17,"weight":95,"urlFragment":266,"anchor":290,"singlePageAnchor":290,"docTitle":21,"url":291},"6.6. Creating a RHEL for Edge Simplified Installer image using image builder GUI","proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images","#proc_creating-a-rhel-for-edge-simplified-installer-image-using-image-builder-gui_building-and-provisioning-simplified-installer-images",{"title":293,"visible":17,"weight":100,"urlFragment":266,"anchor":294,"singlePageAnchor":294,"docTitle":21,"url":295},"6.7. Downloading a simplified RHEL for Edge image using the image builder GUI","proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images","#proc_downloading-a-simplified-rhel-for-edge-image-using-the-image-builder-gui_building-and-provisioning-simplified-installer-images",{"title":297,"visible":17,"weight":105,"urlFragment":266,"anchor":298,"singlePageAnchor":298,"docTitle":21,"url":299},"6.8. Setting up an UEFI HTTP Boot server","setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images","#setting-up-an-uefi-http-boot-server_building-and-provisioning-simplified-installer-images",{"title":301,"visible":17,"weight":230,"urlFragment":266,"anchor":302,"singlePageAnchor":302,"docTitle":21,"url":303},"6.9. Deploying the Simplified ISO image in a Virtual Machine","deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images","#deplyoing-the-simplified-iso-image-in-a-virtual-machine_building-and-provisioning-simplified-installer-images",{"title":305,"visible":17,"weight":235,"urlFragment":266,"anchor":306,"singlePageAnchor":306,"docTitle":21,"url":307},"6.10. Deploying the Simplified ISO image from a USB flash drive","deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images","#deploying-the-simplified-iso-image-from-a-usb-flash-drive_building-and-provisioning-simplified-installer-images",{"title":309,"visible":17,"weight":240,"urlFragment":266,"anchor":310,"singlePageAnchor":310,"docTitle":21,"url":311},"6.11. Creating and booting a RHEL for Edge image in FIPS mode","creating-and-booting-a-rhel-for-edge-image-in-fips-mode_building-and-provisioning-simplified-installer-images","#creating-and-booting-a-rhel-for-edge-image-in-fips-mode_building-and-provisioning-simplified-installer-images","#building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images",{"title":314,"visible":17,"weight":230,"urlFragment":315,"anchor":20,"singlePageAnchor":315,"sections":316,"docTitle":21,"url":337},"7. Building and provisioning a minimal raw image","building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images",[317,321,325,329,333],{"title":318,"visible":17,"weight":18,"urlFragment":315,"anchor":319,"singlePageAnchor":319,"docTitle":21,"url":320},"7.1. The minimal raw image build and deployment","the-minimal-raw-image-build-and-deployment_building-and-provisioning-a-minimal-raw-image","#the-minimal-raw-image-build-and-deployment_building-and-provisioning-a-minimal-raw-image",{"title":322,"visible":17,"weight":25,"urlFragment":315,"anchor":323,"singlePageAnchor":323,"docTitle":21,"url":324},"7.2. Creating the blueprint for a Minimal Raw image by using RHEL image builder CLI","creating-the-blueprint-for-a-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image","#creating-the-blueprint-for-a-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image",{"title":326,"visible":17,"weight":30,"urlFragment":315,"anchor":327,"singlePageAnchor":327,"docTitle":21,"url":328},"7.3. Creating a Minimal Raw image by using RHEL image builder CLI","creating-a-rhel-for-edge-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image","#creating-a-rhel-for-edge-minimal-raw-image-using-image-builder-cli_building-and-provisioning-a-minimal-raw-image",{"title":330,"visible":17,"weight":47,"urlFragment":315,"anchor":331,"singlePageAnchor":331,"docTitle":21,"url":332},"7.4. Downloading and decompressing the Minimal Raw image","downloading-and-decompressing-the-minimal-raw-image_building-and-provisioning-a-minimal-raw-image","#downloading-and-decompressing-the-minimal-raw-image_building-and-provisioning-a-minimal-raw-image",{"title":334,"visible":17,"weight":52,"urlFragment":315,"anchor":335,"singlePageAnchor":335,"docTitle":21,"url":336},"7.5. Deploying the Minimal Raw image from a USB flash drive","deploying-the-minimal-raw-image-from-a-usb-flash-drive_building-and-provisioning-a-minimal-raw-image","#deploying-the-minimal-raw-image-from-a-usb-flash-drive_building-and-provisioning-a-minimal-raw-image","#building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images",{"title":339,"visible":17,"weight":235,"urlFragment":340,"anchor":20,"singlePageAnchor":340,"sections":341,"docTitle":21,"url":354},"8. Using the Ignition tool for the RHEL for Edge Simplified Installer images","assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images",[342,346,350],{"title":343,"visible":17,"weight":18,"urlFragment":340,"anchor":344,"singlePageAnchor":344,"docTitle":21,"url":345},"8.1. Creating an Ignition configuration file","proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images","#proc_creating-an-ignition-configuration-file_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images",{"title":347,"visible":17,"weight":25,"urlFragment":340,"anchor":348,"singlePageAnchor":348,"docTitle":21,"url":349},"8.2. Creating a blueprint in the GUI with support to Ignition","proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images","#proc_creating-a-blueprint-in-the-gui-with-support-to-ignition_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images",{"title":351,"visible":17,"weight":30,"urlFragment":340,"anchor":352,"singlePageAnchor":352,"docTitle":21,"url":353},"8.3. Creating a blueprint with support to Ignition using the CLI","proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images","#proc_creating-a-blueprint-with-support-to-ignition-using-the-cli_assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images","#assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images",{"title":356,"visible":17,"weight":240,"urlFragment":357,"anchor":20,"singlePageAnchor":357,"sections":358,"docTitle":21,"url":371},"9. Creating VMDK images for RHEL for Edge","creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images",[359,363,367],{"title":360,"visible":17,"weight":18,"urlFragment":357,"anchor":361,"singlePageAnchor":361,"docTitle":21,"url":362},"9.1. Creating a blueprint with the Ignition configuration","creating-a-blueprint-with-the-ignition-configuration_creating-vmdk-images-for-rhel-for-edge","#creating-a-blueprint-with-the-ignition-configuration_creating-vmdk-images-for-rhel-for-edge",{"title":364,"visible":17,"weight":25,"urlFragment":357,"anchor":365,"singlePageAnchor":365,"docTitle":21,"url":366},"9.2. Creating a VMDK image for RHEL for Edge","creating-a-vmdk-image-for-rhel-for-edge_creating-vmdk-images-for-rhel-for-edge","#creating-a-vmdk-image-for-rhel-for-edge_creating-vmdk-images-for-rhel-for-edge",{"title":368,"visible":17,"weight":30,"urlFragment":357,"anchor":369,"singlePageAnchor":369,"docTitle":21,"url":370},"9.3. Uploading VMDK images and creating a RHEL virtual machine in vSphere","uploading-vmdk-images-and-creating-a-rhel-virtual-machine-in-vsphere_creating-vmdk-images-for-rhel-for-edge","#uploading-vmdk-images-and-creating-a-rhel-virtual-machine-in-vsphere_creating-vmdk-images-for-rhel-for-edge","#creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images",{"title":373,"visible":17,"weight":245,"urlFragment":374,"anchor":20,"singlePageAnchor":374,"sections":375,"docTitle":21,"url":388},"10. Creating RHEL for Edge AMI images","creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images",[376,380,384],{"title":377,"visible":17,"weight":18,"urlFragment":374,"anchor":378,"singlePageAnchor":378,"docTitle":21,"url":379},"10.1. Creating a blueprint for Edge AMI images","creating-a-blueprint-for-edge-ami-images_creating-rhel-for-edge-ami-images","#creating-a-blueprint-for-edge-ami-images_creating-rhel-for-edge-ami-images",{"title":381,"visible":17,"weight":25,"urlFragment":374,"anchor":382,"singlePageAnchor":382,"docTitle":21,"url":383},"10.2. Creating a RHEL for Edge AMI image","creating-a-rhel-for-edge-ami-image_creating-rhel-for-edge-ami-images","#creating-a-rhel-for-edge-ami-image_creating-rhel-for-edge-ami-images",{"title":385,"visible":17,"weight":30,"urlFragment":374,"anchor":386,"singlePageAnchor":386,"docTitle":21,"url":387},"10.3. Uploading a RHEL Edge AMI image to AWS","uploading-a-rhel-edge-ami-image-to-aws_creating-rhel-for-edge-ami-images","#uploading-a-rhel-edge-ami-image-to-aws_creating-rhel-for-edge-ami-images","#creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images",{"title":390,"visible":17,"weight":391,"urlFragment":392,"anchor":20,"singlePageAnchor":392,"sections":393,"docTitle":21,"url":422},"11. Automatically provisioning and onboarding RHEL for Edge devices with FDO",13,"assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images",[394,398,402,406,410,414,418],{"title":395,"visible":17,"weight":18,"urlFragment":392,"anchor":396,"singlePageAnchor":396,"docTitle":21,"url":397},"11.1. The FIDO Device Onboarding (FDO) process","con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#con_the-fdo-process-of-device-onboarding_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices",{"title":399,"visible":17,"weight":25,"urlFragment":392,"anchor":400,"singlePageAnchor":400,"docTitle":21,"url":401},"11.2. Automatically provisioning and onboarding RHEL for Edge devices","con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#con_automatically-provisioning-and-onboarding-rhel-for-edge-devices_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices",{"title":403,"visible":17,"weight":30,"urlFragment":392,"anchor":404,"singlePageAnchor":404,"docTitle":21,"url":405},"11.3. Generating key and certificates","proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#proc_generating-key-and-certificates_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices",{"title":407,"visible":17,"weight":47,"urlFragment":392,"anchor":408,"singlePageAnchor":408,"docTitle":21,"url":409},"11.4. Installing and running the manufacturing server","proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#proc_installing-the-manufacturing-server-package_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices",{"title":411,"visible":17,"weight":52,"urlFragment":392,"anchor":412,"singlePageAnchor":412,"docTitle":21,"url":413},"11.5. Installing, configuring, and running the Rendezvous server","proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#proc_installing-configuring-and-running-the-rendezvous-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices",{"title":415,"visible":17,"weight":95,"urlFragment":392,"anchor":416,"singlePageAnchor":416,"docTitle":21,"url":417},"11.6. Installing, configuring, and running the Owner server","proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#proc_installing-configuring-and-running-the-owner-server_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices",{"title":419,"visible":17,"weight":100,"urlFragment":392,"anchor":420,"singlePageAnchor":420,"docTitle":21,"url":421},"11.7. Automatically onboarding a RHEL for Edge device by using FDO authentication","proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#proc_automatically-onboarding-an-rhel-for-edge-device-by-using-fdo-authentication_assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices","#assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images",{"title":424,"visible":17,"weight":425,"urlFragment":426,"anchor":20,"singlePageAnchor":426,"sections":427,"docTitle":21,"url":432},"12. Using FDO to onboard RHEL for Edge devices with a database backend",14,"using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images",[428],{"title":429,"visible":17,"weight":18,"urlFragment":426,"anchor":430,"singlePageAnchor":430,"docTitle":21,"url":431},"12.1. Onboarding devices with an FDO database","onboarding-devices-with-an-fdo-database_using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend","#onboarding-devices-with-an-fdo-database_using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend","#using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images",{"title":434,"visible":17,"weight":435,"urlFragment":436,"anchor":20,"singlePageAnchor":436,"sections":437,"docTitle":21,"url":454},"13. Deploying a RHEL for Edge image in a network-based environment",15,"installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images",[438,442,446,450],{"title":439,"visible":17,"weight":18,"urlFragment":436,"anchor":440,"singlePageAnchor":440,"docTitle":21,"url":441},"13.1. Extracting the RHEL for Edge image commit","extracting-the-tar-file-commit_installing-rpm-ostree-images","#extracting-the-tar-file-commit_installing-rpm-ostree-images",{"title":443,"visible":17,"weight":25,"urlFragment":436,"anchor":444,"singlePageAnchor":444,"docTitle":21,"url":445},"13.2. Setting up a web server to install RHEL for Edge images","setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images","#setting-up-a-web-server-to-install-rhel-for-edge-image_installing-rpm-ostree-images",{"title":447,"visible":17,"weight":30,"urlFragment":436,"anchor":448,"singlePageAnchor":448,"docTitle":21,"url":449},"13.3. Performing an attended installation to an edge device by using Kickstart","installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images","#installing-the-rhel-for-edge-image-using-a-kickstart-file_installing-rpm-ostree-images",{"title":451,"visible":17,"weight":47,"urlFragment":436,"anchor":452,"singlePageAnchor":452,"docTitle":21,"url":453},"13.4. Performing an unattended installation to an edge device by using Kickstart","performing-an-unattended-installation-to-an-edge-device-by-using-kickstart_installing-rpm-ostree-images","#performing-an-unattended-installation-to-an-edge-device-by-using-kickstart_installing-rpm-ostree-images","#installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images",{"title":456,"visible":17,"weight":457,"urlFragment":458,"anchor":20,"singlePageAnchor":458,"sections":459,"docTitle":21,"url":472},"14. Deploying a RHEL for Edge image in a non-network-based environment",16,"assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images",[460,464,468],{"title":461,"visible":17,"weight":18,"urlFragment":458,"anchor":462,"singlePageAnchor":462,"docTitle":21,"url":463},"14.1. Creating a RHEL for Edge Container image for non-network-based deployments","building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image","#building-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image",{"title":465,"visible":17,"weight":25,"urlFragment":458,"anchor":466,"singlePageAnchor":466,"docTitle":21,"url":467},"14.2. Creating a RHEL for Edge Installer image for non-network-based deployments","deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image","#deploying-an-os-with-a-rhel-for-edge-container-commit-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image",{"title":469,"visible":17,"weight":30,"urlFragment":458,"anchor":470,"singlePageAnchor":470,"docTitle":21,"url":471},"14.3. Installing the RHEL for Edge image for non-network-based deployments","installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image","#installing-the-rhel-for-edge-image-for-non-network-based-deployments_assembly_deploying-a-non-network-rhel-for-edge-image","#assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images",{"title":474,"visible":17,"weight":475,"urlFragment":476,"anchor":20,"singlePageAnchor":476,"sections":477,"docTitle":21,"url":571},"15. Managing RHEL for Edge images",17,"managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images",[478,495,520,529,542],{"title":479,"visible":17,"weight":18,"urlFragment":476,"anchor":480,"singlePageAnchor":480,"sections":481,"docTitle":21,"url":494},"15.1. Editing a RHEL for Edge image blueprint by using image builder","editing_a_rhel_for_edge_image_blueprint_by_using_image_builder",[482,486,490],{"title":483,"visible":17,"weight":18,"urlFragment":476,"anchor":484,"singlePageAnchor":484,"docTitle":21,"url":485},"15.1.1. Adding a component to RHEL for Edge blueprint using image builder in RHEL web console","adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images","#adding-a-component-to-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images",{"title":487,"visible":17,"weight":25,"urlFragment":476,"anchor":488,"singlePageAnchor":488,"docTitle":21,"url":489},"15.1.2. Removing a component from a blueprint using RHEL image builder in the web console","removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images","#removing-a-component-from-rhel-for-edge-image-blueprint-using-image-builder-in-rhel-web-console_managing-rhel-for-edge-images",{"title":491,"visible":17,"weight":30,"urlFragment":476,"anchor":492,"singlePageAnchor":492,"docTitle":21,"url":493},"15.1.3. Editing a RHEL for Edge image blueprint using command-line interface","editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images","#editing-a-rhel-for-edge-image-blueprint-using-command-line-interface_managing-rhel-for-edge-images","#editing_a_rhel_for_edge_image_blueprint_by_using_image_builder",{"title":496,"visible":17,"weight":25,"urlFragment":476,"anchor":497,"singlePageAnchor":497,"sections":498,"docTitle":21,"url":519},"15.2. Updating RHEL for Edge images","updating_rhel_for_edge_images",[499,503,507,511,515],{"title":500,"visible":17,"weight":18,"urlFragment":476,"anchor":501,"singlePageAnchor":501,"docTitle":21,"url":502},"15.2.1. How RHEL for Edge image updates are deployed","how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images","#how-are-rhel-for-edge-image-updates-deployed_managing-rhel-for-edge-images",{"title":504,"visible":17,"weight":25,"urlFragment":476,"anchor":505,"singlePageAnchor":505,"docTitle":21,"url":506},"15.2.2. Building a commit update","proc_building-a-commit-update_managing-rhel-for-edge-images","#proc_building-a-commit-update_managing-rhel-for-edge-images",{"title":508,"visible":17,"weight":30,"urlFragment":476,"anchor":509,"singlePageAnchor":509,"docTitle":21,"url":510},"15.2.3. Deploying RHEL for Edge image updates manually","deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images","#deploying-rhel-for-edge-image-updates_managing-rhel-for-edge-images",{"title":512,"visible":17,"weight":47,"urlFragment":476,"anchor":513,"singlePageAnchor":513,"docTitle":21,"url":514},"15.2.4. Deploying RHEL for Edge image updates manually using the command-line","proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images","#proc_deploying-rhel-for-edge-image-updates-manually-by-using-the-command-line_managing-rhel-for-edge-images",{"title":516,"visible":17,"weight":52,"urlFragment":476,"anchor":517,"singlePageAnchor":517,"docTitle":21,"url":518},"15.2.5. Deploying RHEL for Edge image updates manually for non-network-base deployments","deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images","#deploying-rhel-for-edge-image-updates-manually-for-non-network-base-deployments_managing-rhel-for-edge-images","#updating_rhel_for_edge_images",{"title":521,"visible":17,"weight":30,"urlFragment":476,"anchor":522,"singlePageAnchor":522,"sections":523,"docTitle":21,"url":528},"15.3. Upgrading RHEL for Edge systems","upgrading_rhel_for_edge_systems",[524],{"title":525,"visible":17,"weight":18,"urlFragment":476,"anchor":526,"singlePageAnchor":526,"docTitle":21,"url":527},"15.3.1. Upgrading your RHEL 8 system to RHEL 9","proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images","#proc_upgrading-your-rhel-8-system-to-rhel-9_managing-rhel-for-edge-images","#upgrading_rhel_for_edge_systems",{"title":530,"visible":17,"weight":47,"urlFragment":476,"anchor":531,"singlePageAnchor":531,"sections":532,"docTitle":21,"url":541},"15.4. Deploying RHEL for Edge automatic image updates","deploying_rhel_for_edge_automatic_image_updates",[533,537],{"title":534,"visible":17,"weight":18,"urlFragment":476,"anchor":535,"singlePageAnchor":535,"docTitle":21,"url":536},"15.4.1. Updating the RHEL for Edge image update policy","updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images","#updating-the-rhel-for-edge-image-update-policy_managing-rhel-for-edge-images",{"title":538,"visible":17,"weight":25,"urlFragment":476,"anchor":539,"singlePageAnchor":539,"docTitle":21,"url":540},"15.4.2. Enabling RHEL for Edge automatic download and staging of updates","enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images","#enabling-rhel-for-edge-automatic-download-and-staging-of-updates_managing-rhel-for-edge-images","#deploying_rhel_for_edge_automatic_image_updates",{"title":543,"visible":17,"weight":52,"urlFragment":476,"anchor":544,"singlePageAnchor":544,"sections":545,"docTitle":21,"url":570},"15.5. Rolling back RHEL for Edge images","rolling_back_rhel_for_edge_images",[546,550,554,558,562,566],{"title":547,"visible":17,"weight":18,"urlFragment":476,"anchor":548,"singlePageAnchor":548,"docTitle":21,"url":549},"15.5.1. Introducing the greenboot checks","introducing-the-greenboot-checks_managing-rhel-for-edge-images","#introducing-the-greenboot-checks_managing-rhel-for-edge-images",{"title":551,"visible":17,"weight":25,"urlFragment":476,"anchor":552,"singlePageAnchor":552,"docTitle":21,"url":553},"15.5.2. RHEL for Edge images roll back with greenboot","how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images","#how-are-rhel-for-edge-images-restored_managing-rhel-for-edge-images",{"title":555,"visible":17,"weight":30,"urlFragment":476,"anchor":556,"singlePageAnchor":556,"docTitle":21,"url":557},"15.5.3. Greenboot health check status","greenboot-health-check-status_managing-rhel-for-edge-images","#greenboot-health-check-status_managing-rhel-for-edge-images",{"title":559,"visible":17,"weight":47,"urlFragment":476,"anchor":560,"singlePageAnchor":560,"docTitle":21,"url":561},"15.5.4. Checking greenboot health checks statuses","checking-greenboot-health-checks-statuses_managing-rhel-for-edge-images","#checking-greenboot-health-checks-statuses_managing-rhel-for-edge-images",{"title":563,"visible":17,"weight":52,"urlFragment":476,"anchor":564,"singlePageAnchor":564,"docTitle":21,"url":565},"15.5.5. Manually rolling back RHEL for Edge images","restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images","#restoring-rhel-for-edge-images-manually_managing-rhel-for-edge-images",{"title":567,"visible":17,"weight":95,"urlFragment":476,"anchor":568,"singlePageAnchor":568,"docTitle":21,"url":569},"15.5.6. Rolling back RHEL for Edge images using an automated process","restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images","#restoring-rhel-for-edge-images-using-an-automated-process_managing-rhel-for-edge-images","#rolling_back_rhel_for_edge_images","#managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images",{"title":573,"visible":17,"weight":574,"urlFragment":575,"anchor":20,"singlePageAnchor":575,"sections":576,"docTitle":21,"url":589},"16. Creating and managing OSTree image updates",18,"creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images",[577,581,585],{"title":578,"visible":17,"weight":18,"urlFragment":575,"anchor":579,"singlePageAnchor":579,"docTitle":21,"url":580},"16.1. Basic concepts for OSTree","basic-concepts-for-ostree-mirrors_creating-and-managing-ostree-image-updates","#basic-concepts-for-ostree-mirrors_creating-and-managing-ostree-image-updates",{"title":582,"visible":17,"weight":25,"urlFragment":575,"anchor":583,"singlePageAnchor":583,"docTitle":21,"url":584},"16.2. Creating OSTree repositories","creating-ostree-repositories_creating-and-managing-ostree-image-updates","#creating-ostree-repositories_creating-and-managing-ostree-image-updates",{"title":586,"visible":17,"weight":30,"urlFragment":575,"anchor":587,"singlePageAnchor":587,"docTitle":21,"url":588},"16.3. Managing a centralized OSTree mirror","managing-a-centralized-ostree-mirror_creating-and-managing-ostree-image-updates","#managing-a-centralized-ostree-mirror_creating-and-managing-ostree-image-updates","#creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images",{"title":591,"visible":17,"weight":592,"urlFragment":593,"anchor":20,"singlePageAnchor":593,"sections":594,"docTitle":21,"url":615},"A. Terminology and commands",19,"edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images",[595,599,603,607,611],{"title":596,"visible":17,"weight":18,"urlFragment":593,"anchor":597,"singlePageAnchor":597,"docTitle":21,"url":598},"A.1. OSTree and rpm-ostree terminology","edge-rpmostree-terminology_edge-terminology-and-commands","#edge-rpmostree-terminology_edge-terminology-and-commands",{"title":600,"visible":17,"weight":25,"urlFragment":593,"anchor":601,"singlePageAnchor":601,"docTitle":21,"url":602},"A.2. OSTree commands","edge-ostree-commands_edge-terminology-and-commands","#edge-ostree-commands_edge-terminology-and-commands",{"title":604,"visible":17,"weight":30,"urlFragment":593,"anchor":605,"singlePageAnchor":605,"docTitle":21,"url":606},"A.3. rpm-ostree commands","rpm-ostree-commands_edge-terminology-and-commands","#rpm-ostree-commands_edge-terminology-and-commands",{"title":608,"visible":17,"weight":47,"urlFragment":593,"anchor":609,"singlePageAnchor":609,"docTitle":21,"url":610},"A.4. FDO automatic onboarding terminology","ref_fdo-terminology_edge-terminology-and-commands","#ref_fdo-terminology_edge-terminology-and-commands",{"title":612,"visible":17,"weight":52,"urlFragment":593,"anchor":613,"singlePageAnchor":613,"docTitle":21,"url":614},"A.5. FDO automatic onboarding technologies","ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands","#ref_fdo-automatic-onboarding-technologies_edge-terminology-and-commands","#edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images",{"title":617,"visible":17,"weight":618,"urlFragment":619,"anchor":20,"singlePageAnchor":620,"docTitle":21,"url":621},"Legal Notice",20,"legal-notice","idm140247648582624","#idm140247648582624",[623,625,628],{"text":11,"link":624},"/documentation/red_hat_enterprise_linux/",{"text":626,"link":627},"9","/documentation/red_hat_enterprise_linux/9/",{"text":13},{"name":13,"translations":630,"productVersion":631,"singlePage":632,"pdf":635,"publishingStatus":637},[5,6,7,8,9],{"name":626},{"contentUrl":633,"name":13,"new":634,"url":21},"https://d2bhdhkti9t3uj.cloudfront.net/html/7cee07f1-01ed-4042-941a-97d6f421cb35/ed078b644781f04d3c2f2f12f1b954c6.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index",{"url":636},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/composing_installing_and_managing_rhel_for_edge_images/Red_Hat_Enterprise_Linux-9-Composing_installing_and_managing_RHEL_for_Edge_images-en-US.pdf","PUBLISHED",[639,644,647,651,655,659,663],{"name":640,"new":641,"url":642,"urlAliases":643},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":626,"new":645,"url":626,"urlAliases":646},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":648,"new":649,"url":648,"urlAliases":650},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":652,"new":653,"url":652,"urlAliases":654},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":656,"new":657,"url":656,"urlAliases":658},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":660,"new":661,"url":660,"urlAliases":662},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":664,"new":665,"url":664,"urlAliases":666},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"composing_installing_and_managing_rhel_for_edge_images/index":668,"composing_installing_and_managing_rhel_for_edge_images/proc_providing-feedback-on-red-hat-documentation_composing-installing-managing-rhel-for-edge-images":669,"composing_installing_and_managing_rhel_for_edge_images/introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images":670,"composing_installing_and_managing_rhel_for_edge_images/setting-up-image-builder_composing-installing-managing-rhel-for-edge-images":671,"composing_installing_and_managing_rhel_for_edge_images/managing-repositories_composing-installing-managing-rhel-for-edge-images":672,"composing_installing_and_managing_rhel_for_edge_images/composing-rhel-for-edge-images-using-image-builder-in-rhel-web-console_composing-installing-managing-rhel-for-edge-images":673,"composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images":674,"composing_installing_and_managing_rhel_for_edge_images/building-and-provisioning-simplified-installer-images_composing-installing-managing-rhel-for-edge-images":675,"composing_installing_and_managing_rhel_for_edge_images/building-and-provisioning-a-minimal-raw-image_composing-installing-managing-rhel-for-edge-images":676,"composing_installing_and_managing_rhel_for_edge_images/assembly_using-the-ignition-tool-for-the-rhel-for-edge-simplified-installer-images_composing-installing-managing-rhel-for-edge-images":677,"composing_installing_and_managing_rhel_for_edge_images/creating-vmdk-images-for-rhel-for-edge_composing-installing-managing-rhel-for-edge-images":678,"composing_installing_and_managing_rhel_for_edge_images/creating-rhel-for-edge-ami-images_composing-installing-managing-rhel-for-edge-images":679,"composing_installing_and_managing_rhel_for_edge_images/assembly_automatically-provisioning-and-onboarding-rhel-for-edge-devices_composing-installing-managing-rhel-for-edge-images":680,"composing_installing_and_managing_rhel_for_edge_images/using-fdo-to-onboard-rhel-for-edge-devices-with-a-database-backend_composing-installing-managing-rhel-for-edge-images":681,"composing_installing_and_managing_rhel_for_edge_images/installing-rpm-ostree-images_composing-installing-managing-rhel-for-edge-images":682,"composing_installing_and_managing_rhel_for_edge_images/assembly_deploying-a-non-network-rhel-for-edge-image_composing-installing-managing-rhel-for-edge-images":683,"composing_installing_and_managing_rhel_for_edge_images/managing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images":684,"composing_installing_and_managing_rhel_for_edge_images/creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images":685,"composing_installing_and_managing_rhel_for_edge_images/edge-terminology-and-commands_composing-installing-managing-rhel-for-edge-images":686,"composing_installing_and_managing_rhel_for_edge_images/legal-notice":687},{"prevt":20,"next":26},{"prevt":19,"next":31},{"prevt":20,"next":31},{"prevt":20,"next":58},{"prevt":20,"next":71},{"prevt":20,"next":111},{"prevt":20,"next":144},{"prevt":20,"next":266},{"prevt":20,"next":315},{"prevt":20,"next":340},{"prevt":20,"next":357},{"prevt":20,"next":374},{"prevt":20,"next":392},{"prevt":20,"next":20},{"prevt":20,"next":436},{"prevt":20,"next":458},{"prevt":20,"next":476},{"prevt":20,"next":575},{"prevt":20,"next":593},{"prevt":593,"next":20},{"product":20,"version":20},{"composing_installing_and_managing_rhel_for_edge_images":690},[634],{"products":692},[693,694,695,696,697,698,699,700,701,702,703,704,705],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":708},[709,718,724,733,741,749,756,764,771],{"nid":710,"type":711,"langcode":712,"Published":18,"title":713,"Created":714,"Updated":715,"body_value":20,"field_documentation banner_text_value":20,"field_documentation banner_text_format":20,"field_paths_value":716,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":717},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":719,"type":711,"langcode":712,"Published":18,"title":713,"Created":720,"Updated":721,"body_value":20,"field_documentation banner_text_value":20,"field_documentation banner_text_format":20,"field_paths_value":722,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":723},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":725,"type":726,"langcode":712,"Published":18,"title":727,"Created":728,"Updated":729,"body_value":20,"field_documentation banner_text_value":730,"field_documentation banner_text_format":731,"field_paths_value":732,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":734,"type":735,"langcode":712,"Published":18,"title":736,"Created":737,"Updated":738,"body_value":20,"field_documentation banner_text_value":739,"field_documentation banner_text_format":731,"field_paths_value":740,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":742,"type":743,"langcode":712,"Published":18,"title":744,"Created":745,"Updated":746,"body_value":20,"field_documentation banner_text_value":747,"field_documentation banner_text_format":731,"field_paths_value":748,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":750,"type":743,"langcode":712,"Published":18,"title":751,"Created":752,"Updated":753,"body_value":20,"field_documentation banner_text_value":754,"field_documentation banner_text_format":731,"field_paths_value":755,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":757,"type":758,"langcode":712,"Published":18,"title":759,"Created":760,"Updated":761,"body_value":20,"field_documentation banner_text_value":762,"field_documentation banner_text_format":731,"field_paths_value":763,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":765,"type":758,"langcode":712,"Published":18,"title":766,"Created":767,"Updated":768,"body_value":20,"field_documentation banner_text_value":769,"field_documentation banner_text_format":731,"field_paths_value":770,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":772,"alertType":773,"type":774,"langcode":712,"Published":18,"title":775,"Created":770,"Updated":770,"body_value":20,"field_documentation banner_text_value":776,"field_documentation banner_text_format":731,"field_paths_value":777,"field_documentation_training_url_uri":20,"field_title_title_id":20,"field_rebrand banner_link_uri":20},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",["Reactive",779],{"$snuxt-i18n-meta":780,"$sisLoading":250,"$sisSinglePage":17,"$sisInFocusMode":250,"$smobileTocOpen":250,"$sisLargeTOC":250,"$scurrentChapter":19,"$scurrentSection":19,"$scurrentSubSection":770},{},["Set"],["ShallowReactive",783],{"s8LoCEfG4A":20,"rFVLKcOK8e":20,"uUstF4AIyn":20,"MdHNSZP4nR":20,"Pn02PlJOas":20},"/en/documentation/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
