<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Configuring firewalls and packet filters | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_firewalls_and_packet_filters/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Configuring firewalls and packet filters | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Configuring firewalls and packet filters<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Configuring firewalls and packet filters</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters" id="chapter-landing--configuring_firewalls_and_packet_filters-proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--using-and-configuring-firewalld_firewall-packet-filters" data-v-fa0dae77><summary class="heading chapter-title" id="using-and-configuring-firewalld_firewall-packet-filters--summary" data-v-fa0dae77>1. Using and configuring firewalld</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#using-and-configuring-firewalld_firewall-packet-filters" id="chapter-landing--configuring_firewalls_and_packet_filters-using-and-configuring-firewalld_firewall-packet-filters" data-v-fa0dae77>Using and configuring firewalld</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#when-to-use-firewalld-nftables-or-iptables_using-and-configuring-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-when-to-use-firewalld-nftables-or-iptables_using-and-configuring-firewalld" data-v-b883c74f>1.1. When to use firewalld, nftables, or iptables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#firewalld-zones_using-and-configuring-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-firewalld-zones_using-and-configuring-firewalld" data-v-b883c74f>1.2. Firewall zones</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#firewall-policies_using-and-configuring-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-firewall-policies_using-and-configuring-firewalld" data-v-b883c74f>1.3. Firewall policies</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#firewall-rules_using-and-configuring-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-firewall-rules_using-and-configuring-firewalld" data-v-b883c74f>1.4. Firewall rules</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#zone-configuration-files_using-and-configuring-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-zone-configuration-files_using-and-configuring-firewalld" data-v-b883c74f>1.5. Zone configuration files</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#predefined-firewalld-services_using-and-configuring-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-predefined-firewalld-services_using-and-configuring-firewalld" data-v-b883c74f>1.6. Predefined firewalld services</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--working-with-firewalld-zones_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="working-with-firewalld-zones_using-and-configuring-firewalld--summary" data-v-b883c74f>1.7. Working with firewalld zones</summary><ol id="sub-nav--working-with-firewalld-zones_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#working-with-firewalld-zones_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-working-with-firewalld-zones_using-and-configuring-firewalld" data-v-b883c74f>Working with firewalld zones</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#customizing-firewall-settings-for-a-specific-zone-to-enhance-security_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-customizing-firewall-settings-for-a-specific-zone-to-enhance-security_working-with-firewalld-zones" data-v-b883c74f>1.7.1. Customizing firewall settings for a specific zone to enhance security</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#changing-the-default-zone_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-changing-the-default-zone_working-with-firewalld-zones" data-v-b883c74f>1.7.2. Changing the default zone</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#assigning-a-network-interface-to-a-zone_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-assigning-a-network-interface-to-a-zone_working-with-firewalld-zones" data-v-b883c74f>1.7.3. Assigning a network interface to a zone</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#assigning-a-zone-to-a-connection-using-nmcli_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-assigning-a-zone-to-a-connection-using-nmcli_working-with-firewalld-zones" data-v-b883c74f>1.7.4. Assigning a zone to a connection using nmcli</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#manually-assigning-a-zone-to-a-network-connection-in-a-connection-profile-file_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-manually-assigning-a-zone-to-a-network-connection-in-a-connection-profile-file_working-with-firewalld-zones" data-v-b883c74f>1.7.5. Manually assigning a zone to a network connection in a connection profile file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-new-zone_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-creating-a-new-zone_working-with-firewalld-zones" data-v-b883c74f>1.7.6. Creating a new zone</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-zones-using-the-web-console_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-enabling-zones-using-the-web-console_working-with-firewalld-zones" data-v-b883c74f>1.7.7. Enabling zones by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#disabling-zones-using-the-web-console_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-disabling-zones-using-the-web-console_working-with-firewalld-zones" data-v-b883c74f>1.7.8. Disabling zones by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones" data-v-b883c74f>1.7.9. Using zone targets to set default behavior for incoming traffic</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--controlling-network-traffic-using-firewalld_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="controlling-network-traffic-using-firewalld_using-and-configuring-firewalld--summary" data-v-b883c74f>1.8. Controlling network traffic using firewalld</summary><ol id="sub-nav--controlling-network-traffic-using-firewalld_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#controlling-network-traffic-using-firewalld_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-controlling-network-traffic-using-firewalld_using-and-configuring-firewalld" data-v-b883c74f>Controlling network traffic using firewalld</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#controlling-traffic-with-predefined-services-using-the-cli_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-controlling-traffic-with-predefined-services-using-the-cli_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.1. Controlling traffic with predefined services using the CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#controlling-traffic-with-predefined-services-using-the-gui_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-controlling-traffic-with-predefined-services-using-the-gui_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.2. Controlling traffic with predefined services using the GUI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-services-on-firewall-using-the-web-console_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-enabling-services-on-firewall-using-the-web-console_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.3. Enabling services on the firewall by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-custom-ports-using-the-web-console_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-custom-ports-using-the-web-console_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.4. Configuring custom ports by using the web console</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-firewalld-to-allow-hosting-a-secure-web-server_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-firewalld-to-allow-hosting-a-secure-web-server_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.5. Configuring firewalld to allow hosting a secure web server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#closing-unused-or-unnecessary-ports-to-enhance-network-security_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-closing-unused-or-unnecessary-ports-to-enhance-network-security_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.6. Closing unused or unnecessary ports to enhance network security</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#controlling-traffic-through-the-cli_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-controlling-traffic-through-the-cli_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.7. Controlling traffic through the CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_controlling-traffic-with-protocols-using-gui_controlling-network-traffic-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_controlling-traffic-with-protocols-using-gui_controlling-network-traffic-using-firewalld" data-v-b883c74f>1.8.8. Controlling traffic with protocols using GUI</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld--summary" data-v-b883c74f>1.9. Using zones to manage incoming traffic depending on a source</summary><ol id="sub-nav--using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld" data-v-b883c74f>Using zones to manage incoming traffic depending on a source</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source" id="sub-link-to-configuring_firewalls_and_packet_filters-adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source" data-v-b883c74f>1.9.1. Adding a source</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source" id="sub-link-to-configuring_firewalls_and_packet_filters-removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source" data-v-b883c74f>1.9.2. Removing a source</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source" id="sub-link-to-configuring_firewalls_and_packet_filters-removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source" data-v-b883c74f>1.9.3. Removing a source port</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source" id="sub-link-to-configuring_firewalls_and_packet_filters-using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source" data-v-b883c74f>1.9.4. Using zones and sources to allow a service for only a specific domain</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld--summary" data-v-b883c74f>1.10. Filtering forwarded traffic between zones</summary><ol id="sub-nav--assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld" data-v-b883c74f>Filtering forwarded traffic between zones</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_relationship-between-policy-objects-and-zones_assembly_filtering-forwarded-traffic-between-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-con_relationship-between-policy-objects-and-zones_assembly_filtering-forwarded-traffic-between-zones" data-v-b883c74f>1.10.1. The relationship between policy objects and zones</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-priorities-to-sort-policies_assembly_filtering-forwarded-traffic-between-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_using-priorities-to-sort-policies_assembly_filtering-forwarded-traffic-between-zones" data-v-b883c74f>1.10.2. Using priorities to sort policies</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-policy-objects-to-filter-traffic-between-locally-hosted-containers-and-a-network-physically-connected-to-the-host_assembly_filtering-forwarded-traffic-between-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_using-policy-objects-to-filter-traffic-between-locally-hosted-containers-and-a-network-physically-connected-to-the-host_assembly_filtering-forwarded-traffic-between-zones" data-v-b883c74f>1.10.3. Using policy objects to filter traffic between locally hosted containers and a network physically connected to the host</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-the-default-target-of-policy-objects_assembly_filtering-forwarded-traffic-between-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_setting-the-default-target-of-policy-objects_assembly_filtering-forwarded-traffic-between-zones" data-v-b883c74f>1.10.4. Setting the default target of policy objects</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-dnat-to-forward-https-traffic-to-a-different-host_assembly_filtering-forwarded-traffic-between-zones" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_using-dnat-to-forward-https-traffic-to-a-different-host_assembly_filtering-forwarded-traffic-between-zones" data-v-b883c74f>1.10.5. Using DNAT to forward HTTPS traffic to a different host</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld--summary" data-v-b883c74f>1.11. Configuring NAT using firewalld</summary><ol id="sub-nav--assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld" data-v-b883c74f>Configuring NAT using firewalld</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#network-address-translation-types_assembly_configuring-nat-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-network-address-translation-types_assembly_configuring-nat-using-firewalld" data-v-b883c74f>1.11.1. Network address translation types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-ip-address-masquerading_assembly_configuring-nat-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-ip-address-masquerading_assembly_configuring-nat-using-firewalld" data-v-b883c74f>1.11.2. Configuring IP address masquerading</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-dnat-to-forward-incoming-http-traffic_assembly_configuring-nat-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-using-dnat-to-forward-incoming-http-traffic_assembly_configuring-nat-using-firewalld" data-v-b883c74f>1.11.3. Using DNAT to forward incoming HTTP traffic</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#redirecting-traffic-from-a-non-standard-port-to-make-the-web-service-accessible-on-a-standard-port_assembly_configuring-nat-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-redirecting-traffic-from-a-non-standard-port-to-make-the-web-service-accessible-on-a-standard-port_assembly_configuring-nat-using-firewalld" data-v-b883c74f>1.11.4. Redirecting traffic from a non-standard port to make the web service accessible on a standard port</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--managing-icmp-requests_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="managing-icmp-requests_using-and-configuring-firewalld--summary" data-v-b883c74f>1.12. Managing ICMP requests</summary><ol id="sub-nav--managing-icmp-requests_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#managing-icmp-requests_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-managing-icmp-requests_using-and-configuring-firewalld" data-v-b883c74f>Managing ICMP requests</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-icmp-filtering_managing-icmp-requests" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-icmp-filtering_managing-icmp-requests" data-v-b883c74f>1.12.1. Configuring ICMP filtering</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld--summary" data-v-b883c74f>1.13. Setting and controlling IP sets using firewalld</summary><ol id="sub-nav--setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld" data-v-b883c74f>Setting and controlling IP sets using firewalld</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-dynamic-updates-for-allowlisting-with-ip-sets_setting-and-controlling-ip-sets-using-firewalld" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-dynamic-updates-for-allowlisting-with-ip-sets_setting-and-controlling-ip-sets-using-firewalld" data-v-b883c74f>1.13.1. Configuring dynamic updates for allowlisting with IP sets</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--prioritizing-rich-rules_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="prioritizing-rich-rules_using-and-configuring-firewalld--summary" data-v-b883c74f>1.14. Prioritizing rich rules</summary><ol id="sub-nav--prioritizing-rich-rules_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#prioritizing-rich-rules_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-prioritizing-rich-rules_using-and-configuring-firewalld" data-v-b883c74f>Prioritizing rich rules</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules" data-v-b883c74f>1.14.1. How the priority parameter organizes rules into different chains</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-the-priority-of-a-rich-rule_prioritizing-rich-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-setting-the-priority-of-a-rich-rule_prioritizing-rich-rules" data-v-b883c74f>1.14.2. Setting the priority of a rich rule</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--configuring-firewall-lockdown_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="configuring-firewall-lockdown_using-and-configuring-firewalld--summary" data-v-b883c74f>1.15. Configuring firewall lockdown</summary><ol id="sub-nav--configuring-firewall-lockdown_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#configuring-firewall-lockdown_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-configuring-firewall-lockdown_using-and-configuring-firewalld" data-v-b883c74f>Configuring firewall lockdown</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-lockdown-using-CLI_configuring-firewall-lockdown" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-lockdown-using-CLI_configuring-firewall-lockdown" data-v-b883c74f>1.15.1. Configuring lockdown using CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#overview-of-lockdown-allowlist-configuration-files_configuring-firewall-lockdown" id="sub-link-to-configuring_firewalls_and_packet_filters-overview-of-lockdown-allowlist-configuration-files_configuring-firewall-lockdown" data-v-b883c74f>1.15.2. Overview of lockdown allowlist configuration files</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld--summary" data-v-b883c74f>1.16. Enabling traffic forwarding between different interfaces or sources within a firewalld zone</summary><ol id="sub-nav--assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld" data-v-b883c74f>Enabling traffic forwarding between different interfaces or sources within a firewalld zone</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_the-difference-between-intra-zone-forwarding-and-zones-with-the-default-target-set-to-accept_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone" id="sub-link-to-configuring_firewalls_and_packet_filters-con_the-difference-between-intra-zone-forwarding-and-zones-with-the-default-target-set-to-accept_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone" data-v-b883c74f>1.16.1. The difference between intra-zone forwarding and zones with the default target set to ACCEPT</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-intra-zone-forwarding-to-forward-traffic-between-an-ethernet-and-wi-fi-network_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_using-intra-zone-forwarding-to-forward-traffic-between-an-ethernet-and-wi-fi-network_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone" data-v-b883c74f>1.16.2. Using intra-zone forwarding to forward traffic between an Ethernet and Wi-Fi network</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld--summary" data-v-b883c74f>1.17. Configuring firewalld by using the RHEL system role</summary><ol id="sub-nav--assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld" data-v-b883c74f>Configuring firewalld by using the RHEL system role</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_introduction-to-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles" id="sub-link-to-configuring_firewalls_and_packet_filters-con_introduction-to-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles" data-v-b883c74f>1.17.1. Introduction to the firewall RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_resetting-the-firewalld-settings-using-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_resetting-the-firewalld-settings-using-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles" data-v-b883c74f>1.17.2. Resetting the firewalld settings by using the firewall RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_forwarding-incoming-traffic-from-one-local-port-to-a-different-local-port_assembly_configuring-firewalld-using-system-roles" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_forwarding-incoming-traffic-from-one-local-port-to-a-different-local-port_assembly_configuring-firewalld-using-system-roles" data-v-b883c74f>1.17.3. Forwarding incoming traffic in firewalld from one local port to a different local port by using the firewall RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-ports-using-system-roles_assembly_configuring-firewalld-using-system-roles" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-ports-using-system-roles_assembly_configuring-firewalld-using-system-roles" data-v-b883c74f>1.17.4. Managing ports in firewalld by using the firewall RHEL system role</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-a-dmz-firewalld-zone-by-using-the-firewalld-rhel-system-role_assembly_configuring-firewalld-using-system-roles" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-a-dmz-firewalld-zone-by-using-the-firewalld-rhel-system-role_assembly_configuring-firewalld-using-system-roles" data-v-b883c74f>1.17.5. Configuring a firewalld DMZ zone by using the firewall RHEL system role</a></li><!--]--><!--]--></ol></details></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--getting-started-with-nftables_firewall-packet-filters" data-v-fa0dae77><summary class="heading chapter-title" id="getting-started-with-nftables_firewall-packet-filters--summary" data-v-fa0dae77>2. Getting started with nftables</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#getting-started-with-nftables_firewall-packet-filters" id="chapter-landing--configuring_firewalls_and_packet_filters-getting-started-with-nftables_firewall-packet-filters" data-v-fa0dae77>Getting started with nftables</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables--summary" data-v-b883c74f>2.1. Migrating from iptables to nftables</summary><ol id="sub-nav--assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables" data-v-b883c74f>Migrating from iptables to nftables</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#when-to-use-firewalld-nftables-or-iptables_assembly_migrating-from-iptables-to-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-when-to-use-firewalld-nftables-or-iptables_assembly_migrating-from-iptables-to-nftables" data-v-b883c74f>2.1.1. When to use firewalld, nftables, or iptables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_converting-iptables-and-ip6tables-rule-sets-to-nftables_assembly_migrating-from-iptables-to-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_converting-iptables-and-ip6tables-rule-sets-to-nftables_assembly_migrating-from-iptables-to-nftables" data-v-b883c74f>2.1.2. Converting iptables and ip6tables rule sets to nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_converting-single-iptables-and-ip6tables-rules-to-nftables_assembly_migrating-from-iptables-to-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_converting-single-iptables-and-ip6tables-rules-to-nftables_assembly_migrating-from-iptables-to-nftables" data-v-b883c74f>2.1.3. Converting single iptables and ip6tables rules to nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_comparison-of-common-iptables-and-nftables-commands_assembly_migrating-from-iptables-to-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-ref_comparison-of-common-iptables-and-nftables-commands_assembly_migrating-from-iptables-to-nftables" data-v-b883c74f>2.1.4. Comparison of common iptables and nftables commands</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--writing-and-executing-nftables-scripts_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="writing-and-executing-nftables-scripts_getting-started-with-nftables--summary" data-v-b883c74f>2.2. Writing and executing nftables scripts</summary><ol id="sub-nav--writing-and-executing-nftables-scripts_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#writing-and-executing-nftables-scripts_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-writing-and-executing-nftables-scripts_getting-started-with-nftables" data-v-b883c74f>Writing and executing nftables scripts</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#supported-nftables-script-formats_writing-and-executing-nftables-scripts" id="sub-link-to-configuring_firewalls_and_packet_filters-supported-nftables-script-formats_writing-and-executing-nftables-scripts" data-v-b883c74f>2.2.1. Supported nftables script formats</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#running-nftables-scripts_writing-and-executing-nftables-scripts" id="sub-link-to-configuring_firewalls_and_packet_filters-running-nftables-scripts_writing-and-executing-nftables-scripts" data-v-b883c74f>2.2.2. Running nftables scripts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts" id="sub-link-to-configuring_firewalls_and_packet_filters-using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts" data-v-b883c74f>2.2.3. Using comments in nftables scripts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-variables-in-nftables-script_writing-and-executing-nftables-scripts" id="sub-link-to-configuring_firewalls_and_packet_filters-using-variables-in-nftables-script_writing-and-executing-nftables-scripts" data-v-b883c74f>2.2.4. Using variables in nftables script</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#including-files-in-nftables-scripts_writing-and-executing-nftables-scripts" id="sub-link-to-configuring_firewalls_and_packet_filters-including-files-in-nftables-scripts_writing-and-executing-nftables-scripts" data-v-b883c74f>2.2.5. Including files in nftables scripts</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts" id="sub-link-to-configuring_firewalls_and_packet_filters-automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts" data-v-b883c74f>2.2.6. Automatically loading nftables rules when the system boots</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables--summary" data-v-b883c74f>2.3. Creating and managing nftables tables, chains, and rules</summary><ol id="sub-nav--assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables" data-v-b883c74f>Creating and managing nftables tables, chains, and rules</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_basics-of-nftables-tables_assembly_creating-and-managing-nftables-tables-chains-and-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-con_basics-of-nftables-tables_assembly_creating-and-managing-nftables-tables-chains-and-rules" data-v-b883c74f>2.3.1. Basics of nftables tables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_basics-of-nftables-chains_assembly_creating-and-managing-nftables-tables-chains-and-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-con_basics-of-nftables-chains_assembly_creating-and-managing-nftables-tables-chains-and-rules" data-v-b883c74f>2.3.2. Basics of nftables chains</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_basics-of-nftables-rules_assembly_creating-and-managing-nftables-tables-chains-and-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-con_basics-of-nftables-rules_assembly_creating-and-managing-nftables-tables-chains-and-rules" data-v-b883c74f>2.3.3. Basics of nftables rules</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_managing-tables-chains-and-rules-using-nft-commands_assembly_creating-and-managing-nftables-tables-chains-and-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_managing-tables-chains-and-rules-using-nft-commands_assembly_creating-and-managing-nftables-tables-chains-and-rules" data-v-b883c74f>2.3.4. Managing tables, chains, and rules using nft commands</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--configuring-nat-using-nftables_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="configuring-nat-using-nftables_getting-started-with-nftables--summary" data-v-b883c74f>2.4. Configuring NAT using nftables</summary><ol id="sub-nav--configuring-nat-using-nftables_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#configuring-nat-using-nftables_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-configuring-nat-using-nftables_getting-started-with-nftables" data-v-b883c74f>Configuring NAT using nftables</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#nat-types_configuring-nat-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-nat-types_configuring-nat-using-nftables" data-v-b883c74f>2.4.1. NAT types</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-masquerading-using-nftables_configuring-nat-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-masquerading-using-nftables_configuring-nat-using-nftables" data-v-b883c74f>2.4.2. Configuring masquerading using nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-source-nat-using-nftables_configuring-nat-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-source-nat-using-nftables_configuring-nat-using-nftables" data-v-b883c74f>2.4.3. Configuring source NAT using nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-destination-nat-using-nftables_configuring-nat-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-configuring-destination-nat-using-nftables_configuring-nat-using-nftables" data-v-b883c74f>2.4.4. Configuring destination NAT using nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-a-redirect-using-nftables_configuring-nat-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_configuring-a-redirect-using-nftables_configuring-nat-using-nftables" data-v-b883c74f>2.4.5. Configuring a redirect using nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-flowtable-by-using-nftables_configuring-nat-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_configuring-flowtable-by-using-nftables_configuring-nat-using-nftables" data-v-b883c74f>2.4.6. Configuring flowtable by using nftables</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--using-sets-in-nftables-commands_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="using-sets-in-nftables-commands_getting-started-with-nftables--summary" data-v-b883c74f>2.5. Using sets in nftables commands</summary><ol id="sub-nav--using-sets-in-nftables-commands_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#using-sets-in-nftables-commands_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-using-sets-in-nftables-commands_getting-started-with-nftables" data-v-b883c74f>Using sets in nftables commands</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-anonymous-sets-in-nftables_using-sets-in-nftables-commands" id="sub-link-to-configuring_firewalls_and_packet_filters-using-anonymous-sets-in-nftables_using-sets-in-nftables-commands" data-v-b883c74f>2.5.1. Using anonymous sets in nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-named-sets-in-nftables_using-sets-in-nftables-commands" id="sub-link-to-configuring_firewalls_and_packet_filters-using-named-sets-in-nftables_using-sets-in-nftables-commands" data-v-b883c74f>2.5.2. Using named sets in nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-configuring_firewalls_and_packet_filters-additional_resources" data-v-b883c74f>2.5.3. Additional resources</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--using-verdict-maps-in-nftables-commands_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="using-verdict-maps-in-nftables-commands_getting-started-with-nftables--summary" data-v-b883c74f>2.6. Using verdict maps in nftables commands</summary><ol id="sub-nav--using-verdict-maps-in-nftables-commands_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#using-verdict-maps-in-nftables-commands_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-using-verdict-maps-in-nftables-commands_getting-started-with-nftables" data-v-b883c74f>Using verdict maps in nftables commands</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-anonymous-maps-in-nftables_using-verdict-maps-in-nftables-commands" id="sub-link-to-configuring_firewalls_and_packet_filters-using-anonymous-maps-in-nftables_using-verdict-maps-in-nftables-commands" data-v-b883c74f>2.6.1. Using anonymous maps in nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands" id="sub-link-to-configuring_firewalls_and_packet_filters-using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands" data-v-b883c74f>2.6.2. Using named maps in nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_2" id="sub-link-to-configuring_firewalls_and_packet_filters-additional_resources_2" data-v-b883c74f>2.6.3. Additional resources</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables--summary" data-v-b883c74f>2.7. Example: Protecting a LAN and DMZ using an nftables script</summary><ol id="sub-nav--assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables" data-v-b883c74f>Example: Protecting a LAN and DMZ using an nftables script</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" id="sub-link-to-configuring_firewalls_and_packet_filters-con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" data-v-b883c74f>2.7.1. Network conditions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" id="sub-link-to-configuring_firewalls_and_packet_filters-con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" data-v-b883c74f>2.7.2. Security requirements to the firewall script</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-logging-of-dropped-packets-to-a-file_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_configuring-logging-of-dropped-packets-to-a-file_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" data-v-b883c74f>2.7.3. Configuring logging of dropped packets to a file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_writing-and-activating-the-nftables-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" id="sub-link-to-configuring_firewalls_and_packet_filters-proc_writing-and-activating-the-nftables-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" data-v-b883c74f>2.7.4. Writing and activating the nftables script</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--configuring-port-forwarding-using-nftables_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="configuring-port-forwarding-using-nftables_getting-started-with-nftables--summary" data-v-b883c74f>2.8. Configuring port forwarding using nftables</summary><ol id="sub-nav--configuring-port-forwarding-using-nftables_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#configuring-port-forwarding-using-nftables_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-configuring-port-forwarding-using-nftables_getting-started-with-nftables" data-v-b883c74f>Configuring port forwarding using nftables</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables" data-v-b883c74f>2.8.1. Forwarding incoming packets to a different local port</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables" id="sub-link-to-configuring_firewalls_and_packet_filters-forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables" data-v-b883c74f>2.8.2. Forwarding incoming packets on a specific local port to a different host</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables--summary" data-v-b883c74f>2.9. Using nftables to limit the amount of connections</summary><ol id="sub-nav--assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables" data-v-b883c74f>Using nftables to limit the amount of connections</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#limiting-the-number-of-connections-using-nftables_assembly_using-nftables-to-limit-the-amount-of-connections" id="sub-link-to-configuring_firewalls_and_packet_filters-limiting-the-number-of-connections-using-nftables_assembly_using-nftables-to-limit-the-amount-of-connections" data-v-b883c74f>2.9.1. Limiting the number of connections by using nftables</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_assembly_using-nftables-to-limit-the-amount-of-connections" id="sub-link-to-configuring_firewalls_and_packet_filters-blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_assembly_using-nftables-to-limit-the-amount-of-connections" data-v-b883c74f>2.9.2. Blocking IP addresses that attempt more than ten new incoming TCP connections within one minute</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--debugging-nftables-rules_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="debugging-nftables-rules_getting-started-with-nftables--summary" data-v-b883c74f>2.10. Debugging nftables rules</summary><ol id="sub-nav--debugging-nftables-rules_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#debugging-nftables-rules_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-debugging-nftables-rules_getting-started-with-nftables" data-v-b883c74f>Debugging nftables rules</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#creating-a-rule-with-a-counter_debugging-nftables-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-creating-a-rule-with-a-counter_debugging-nftables-rules" data-v-b883c74f>2.10.1. Creating a rule with a counter</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#adding-a-counter-to-an-existing-rule_debugging-nftables-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-adding-a-counter-to-an-existing-rule_debugging-nftables-rules" data-v-b883c74f>2.10.2. Adding a counter to an existing rule</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules" id="sub-link-to-configuring_firewalls_and_packet_filters-monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules" data-v-b883c74f>2.10.3. Monitoring packets that match an existing rule</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables" data-v-b883c74f><summary class="heading sub-chapter-title" id="backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables--summary" data-v-b883c74f>2.11. Backing up and restoring the nftables rule set</summary><ol id="sub-nav--backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables" id="chapter-landing--configuring_firewalls_and_packet_filters-backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables" data-v-b883c74f>Backing up and restoring the nftables rule set</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#backing-up-the-nftables-rule-set-to-a-file_backing-up-and-restoring-the-nftables-rule-set" id="sub-link-to-configuring_firewalls_and_packet_filters-backing-up-the-nftables-rule-set-to-a-file_backing-up-and-restoring-the-nftables-rule-set" data-v-b883c74f>2.11.1. Backing up the nftables rule set to a file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#restoring-the-nftables-rule-set-from-a-file_backing-up-and-restoring-the-nftables-rule-set" id="sub-link-to-configuring_firewalls_and_packet_filters-restoring-the-nftables-rule-set-from-a-file_backing-up-and-restoring-the-nftables-rule-set" data-v-b883c74f>2.11.2. Restoring the nftables rule set from a file</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_3" id="sub-link-to-configuring_firewalls_and_packet_filters-additional_resources_3" data-v-b883c74f>2.12. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters" data-v-fa0dae77><summary class="heading chapter-title" id="using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters--summary" data-v-fa0dae77>3. Using xdp-filter for high-performance traffic filtering to prevent DDoS attacks</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters" id="chapter-landing--configuring_firewalls_and_packet_filters-using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters" data-v-fa0dae77>Using xdp-filter for high-performance traffic filtering to prevent DDoS attacks</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#dropping-network-packets-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks" id="sub-link-to-configuring_firewalls_and_packet_filters-dropping-network-packets-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks" data-v-b883c74f>3.1. Dropping network packets that match an xdp-filter rule</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#dropping-all-network-packets-except-the-ones-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks" id="sub-link-to-configuring_firewalls_and_packet_filters-dropping-all-network-packets-except-the-ones-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks" data-v-b883c74f>3.2. Dropping all network packets except the ones that match an xdp-filter rule</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm140107951911088" id="chapter-landing--configuring_firewalls_and_packet_filters-idm140107951911088" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Configuring firewalls and packet filters</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm140107963835712"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Managing the firewalld service, the nftables framework, and XDP packet filtering features</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140107951911088">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Packet filters, such as firewalls, use rules to control incoming, outgoing, and forwarded network traffic. In Red Hat Enterprise Linux (RHEL), you can use the <code class="literal">firewalld</code> service and the <code class="literal">nftables</code> framework to filter network traffic and build performance-critical firewalls. You can also use the Express Data Path (XDP) feature of the kernel to process or drop network packets at the network interface at a very high rate.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="using-and-configuring-firewalld_firewall-packet-filters"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Using and configuring firewalld</h2></div></div></div><p class="_abstract _abstract">
			A <span class="emphasis"><em>firewall</em></span> is a way to protect machines from any unwanted traffic from outside. It enables users to control incoming network traffic on host machines by defining a set of <span class="emphasis"><em>firewall rules</em></span>. These rules are used to sort the incoming traffic and either block it or allow through.
		</p><p>
			<code class="literal">firewalld</code> is a firewall service daemon that provides a dynamic customizable host-based firewall with a D-Bus interface. Being dynamic, it enables creating, changing, and deleting the rules without the necessity to restart the firewall daemon each time the rules are changed.
		</p><p>
			<code class="literal">firewalld</code> uses the concepts of zones and services, that simplify the traffic management. Zones are predefined sets of rules. Network interfaces and sources can be assigned to a zone. The traffic allowed depends on the network your computer is connected to and the security level this network is assigned. Firewall services are predefined rules that cover all necessary settings to allow incoming traffic for a specific service and they apply within a zone.
		</p><p>
			Services use one or more ports or addresses for network communication. Firewalls filter communication based on ports. To allow network traffic for a service, its ports must be open. <code class="literal">firewalld</code> blocks all traffic on ports that are not explicitly set as open. Some zones, such as trusted, allow all traffic by default.
		</p><p>
			Note that <code class="literal systemitem">firewalld</code> with <code class="literal systemitem">nftables</code> backend does not support passing custom <code class="literal systemitem">nftables</code> rules to <code class="literal systemitem">firewalld</code>, using the <code class="literal option">--direct</code> option.
		</p><section class="section" id="when-to-use-firewalld-nftables-or-iptables_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.1. When to use firewalld, nftables, or iptables</h3></div></div></div><p class="_abstract _abstract">
				The following is a brief overview in which scenario you should use one of the following utilities:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">firewalld</code>: Use the <code class="literal">firewalld</code> utility for simple firewall use cases. The utility is easy to use and covers the typical use cases for these scenarios.
					</li><li class="listitem">
						<code class="literal">nftables</code>: Use the <code class="literal">nftables</code> utility to set up complex and performance-critical firewalls, such as for a whole network.
					</li><li class="listitem">
						<code class="literal">iptables</code>: The <code class="literal">iptables</code> utility on Red Hat Enterprise Linux uses the <code class="literal">nf_tables</code> kernel API instead of the <code class="literal">legacy</code> back end. The <code class="literal">nf_tables</code> API provides backward compatibility so that scripts that use <code class="literal">iptables</code> commands still work on Red Hat Enterprise Linux. For new firewall scripts, Red Hat recommends to use <code class="literal">nftables</code>.
					</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					To prevent the different firewall-related services (<code class="literal">firewalld</code>, <code class="literal">nftables</code>, or <code class="literal">iptables</code>) from influencing each other, run only one of them on a RHEL host, and disable the other services.
				</p></div></rh-alert></section><section class="section" id="firewalld-zones_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.2. Firewall zones</h3></div></div></div><p class="_abstract _abstract">
				You can use the ⁠<code class="literal">firewalld</code> utility to separate networks into different zones according to the level of trust that you have with the interfaces and traffic within that network. A connection can only be part of one zone, but you can use that zone for many network connections.
			</p><p>
				<code class="literal">firewalld</code> follows strict principles in regards to zones:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Traffic ingresses only one zone.
					</li><li class="listitem">
						Traffic egresses only one zone.
					</li><li class="listitem">
						A zone defines a level of trust.
					</li><li class="listitem">
						Intrazone traffic (within the same zone) is allowed by default.
					</li><li class="listitem">
						Interzone traffic (from zone to zone) is denied by default.
					</li></ol></div><p>
				Principles 4 and 5 are a consequence of principle 3.
			</p><p>
				Principle 4 is configurable through the zone option <code class="literal">--remove-forward</code>. Principle 5 is configurable by adding new policies.
			</p><p>
				<code class="literal">NetworkManager</code> notifies <code class="literal">firewalld</code> of the zone of an interface. You can assign zones to interfaces with the following utilities:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">NetworkManager</code>
					</li><li class="listitem">
						<code class="literal">firewall-config</code> utility
					</li><li class="listitem">
						<code class="literal">firewall-cmd</code> utility
					</li><li class="listitem">
						The RHEL web console
					</li></ul></div><p>
				The RHEL web console, <code class="literal">firewall-config</code>, and <code class="literal">firewall-cmd</code> can only edit the appropriate <code class="literal">NetworkManager</code> configuration files. If you change the zone of the interface using the web console, <code class="literal">firewall-cmd</code>, or <code class="literal">firewall-config</code>, the request is forwarded to <code class="literal">NetworkManager</code> and is not handled by ⁠<code class="literal">firewalld</code>.
			</p><p>
				The <code class="literal">/usr/lib/firewalld/zones/</code> directory stores the predefined zones, and you can instantly apply them to any available network interface. These files are copied to the <code class="literal">/etc/firewalld/zones/</code> directory only after they are modified. The default settings of the predefined zones are as follows:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">block</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Suitable for: Any incoming network connections are rejected with an icmp-host-prohibited message for <code class="literal">IPv4</code> and icmp6-adm-prohibited for <code class="literal">IPv6</code>.
								</li><li class="listitem">
									Accepts: Only network connections initiated from within the system.
								</li></ul></div></dd><dt><span class="term"><code class="literal">dmz</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Suitable for: Computers in your DMZ that are publicly-accessible with limited access to your internal network.
								</li><li class="listitem">
									Accepts: Only selected incoming connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">drop</code></span></dt><dd><p class="simpara">
							Suitable for: Any incoming network packets are dropped without any notification.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Accepts: Only outgoing network connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">external</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Suitable for: External networks with masquerading enabled, especially for routers. Situations when you do not trust the other computers on the network.
								</li><li class="listitem">
									Accepts: Only selected incoming connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">home</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Suitable for: Home environment where you mostly trust the other computers on the network.
								</li><li class="listitem">
									Accepts: Only selected incoming connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">internal</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Suitable for: Internal networks where you mostly trust the other computers on the network.
								</li><li class="listitem">
									Accepts: Only selected incoming connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">public</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Suitable for: Public areas where you do not trust other computers on the network.
								</li><li class="listitem">
									Accepts: Only selected incoming connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">trusted</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Accepts: All network connections.
								</li></ul></div></dd><dt><span class="term"><code class="literal">work</code></span></dt><dd><p class="simpara">
							Suitable for: Work environment where you mostly trust the other computers on the network.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Accepts: Only selected incoming connections.
								</li></ul></div></dd></dl></div><p>
				One of these zones is set as the <span class="emphasis"><em>default</em></span> zone. When interface connections are added to <code class="literal">NetworkManager</code>, they are assigned to the default zone. On installation, the default zone in <code class="literal">firewalld</code> is the <code class="literal">public</code> zone. You can change the default zone.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Make network zone names self-explanatory to help users understand them quickly.
				</p></div></rh-alert><p>
				To avoid any security problems, review the default zone configuration and disable any unnecessary services according to your needs and risk assessments.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">firewalld.zone(5)</code> man page
					</li></ul></div></section><section class="section" id="firewall-policies_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.3. Firewall policies</h3></div></div></div><p>
				The firewall policies specify the desired security state of your network. They outline rules and actions to take for different types of traffic. Typically, the policies contain rules for the following types of traffic:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Incoming traffic
					</li><li class="listitem">
						Outgoing traffic
					</li><li class="listitem">
						Forward traffic
					</li><li class="listitem">
						Specific services and applications
					</li><li class="listitem">
						Network address translations (NAT)
					</li></ul></div><p>
				Firewall policies use the concept of firewall zones. Each zone is associated with a specific set of firewall rules that determine the traffic allowed. Policies apply firewall rules in a stateful, unidirectional manner. This means you only consider one direction of the traffic. The traffic return path is implicitly allowed due to stateful filtering of <code class="literal">firewalld</code>.
			</p><p>
				Policies are associated with an ingress zone and an egress zone. The ingress zone is where the traffic originated (received). The egress zone is where the traffic leaves (sent).
			</p><p>
				The firewall rules defined in a policy can reference the firewall zones to apply consistent configurations across multiple network interfaces.
			</p></section><section class="section" id="firewall-rules_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.4. Firewall rules</h3></div></div></div><p>
				You can use the firewall rules to implement specific configurations for allowing or blocking network traffic. As a result, you can control the flow of network traffic to protect your system from security threats.
			</p><p>
				Firewall rules typically define certain criteria based on various attributes. The attributes can be as:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Source IP addresses
					</li><li class="listitem">
						Destination IP addresses
					</li><li class="listitem">
						Transfer Protocols (TCP, UDP, …​)
					</li><li class="listitem">
						Ports
					</li><li class="listitem">
						Network interfaces
					</li></ul></div><p>
				The <code class="literal">firewalld</code> utility organizes the firewall rules into zones (such as <code class="literal">public</code>, <code class="literal">internal</code>, and others) and policies. Each zone has its own set of rules that determine the level of traffic freedom for network interfaces associated with a particular zone.
			</p></section><section class="section" id="zone-configuration-files_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.5. Zone configuration files</h3></div></div></div><p class="_abstract _abstract">
				A <code class="literal">firewalld</code> zone configuration file contains the information for a zone. These are the zone description, services, ports, protocols, icmp-blocks, masquerade, forward-ports and rich language rules in an XML file format. The file name has to be <code class="literal"><span class="emphasis"><em>zone-name</em></span>.xml</code> where the length of <span class="emphasis"><em>zone-name</em></span> is currently limited to 17 chars. The zone configuration files are located in the <code class="literal">/usr/lib/firewalld/zones/</code> and <code class="literal">/etc/firewalld/zones/</code> directories.
			</p><p>
				The following example shows a configuration that allows one service (<code class="literal">SSH</code>) and one port range, for both the <code class="literal">TCP</code> and <code class="literal">UDP</code> protocols:
			</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;zone&gt;
  &lt;short&gt;My Zone&lt;/short&gt;
  &lt;description&gt;Here you can describe the characteristic features of the zone.&lt;/description&gt;
  &lt;service name="ssh"/&gt;
  &lt;port protocol="udp" port="1025-65535"/&gt;
  &lt;port protocol="tcp" port="1025-65535"/&gt;
&lt;/zone&gt;</pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">firewalld.zone</code> manual page
					</li></ul></div></section><section class="section" id="predefined-firewalld-services_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.6. Predefined firewalld services</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">firewalld</code> service is a predefined set of firewall rules that define access to a specific application or network service. Each service represents a combination of the following elements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Local port
					</li><li class="listitem">
						Network protocol
					</li><li class="listitem">
						Associated firewall rules
					</li><li class="listitem">
						Source ports and destinations
					</li><li class="listitem">
						Firewall helper modules that load automatically if a service is enabled
					</li></ul></div><p>
				A service simplifies packet filtering and saves you time because it achieves several tasks at once. For example, <code class="literal">firewalld</code> can perform the following tasks at once:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Open a port
					</li><li class="listitem">
						Define network protocol
					</li><li class="listitem">
						Enable packet forwarding
					</li></ul></div><p>
				Service configuration options and generic file information are described in the <code class="literal">firewalld.service(5)</code> man page. The services are specified by means of individual XML configuration files, which are named in the following format: <code class="literal"><span class="emphasis"><em>service-name</em></span>.xml</code>. Protocol names are preferred over service or application names in <code class="literal">firewalld</code>.
			</p><p>
				You can configure <code class="literal">firewalld</code> in the following ways:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use utilities:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">firewall-config</code> - graphical utility
							</li><li class="listitem">
								<code class="literal">firewall-cmd</code> - command-line utility
							</li><li class="listitem">
								<code class="literal">firewall-offline-cmd</code> - command-line utility
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Edit the XML files in the <code class="literal">/etc/firewalld/services/</code> directory.
					</p><p class="simpara">
						If you do not add or change the service, no corresponding XML file exists in <code class="literal">/etc/firewalld/services/</code>. You can use the files in <code class="literal">/usr/lib/firewalld/services/</code> as templates.
					</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						The <code class="literal">firewalld.service(5)</code> man page
					</li></ul></div></section><section class="section" id="working-with-firewalld-zones_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.7. Working with firewalld zones</h3></div></div></div><p class="_abstract _abstract">
				Zones represent a concept to manage incoming traffic more transparently. The zones are connected to networking interfaces or assigned a range of source addresses. You manage firewall rules for each zone independently, which enables you to define complex firewall settings and apply them to the traffic.
			</p><section class="section" id="customizing-firewall-settings-for-a-specific-zone-to-enhance-security_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.1. Customizing firewall settings for a specific zone to enhance security</h4></div></div></div><p>
					You can strengthen your network security by modifying the firewall settings and associating a specific network interface or connection with a particular firewall zone. By defining granular rules and restrictions for a zone, you can control inbound and outbound traffic based on your intended security levels.
				</p><p>
					For example, you can achieve the following benefits:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Protection of sensitive data
						</li><li class="listitem">
							Prevention of unauthorized access
						</li><li class="listitem">
							Mitigation of potential network threats
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the available firewall zones:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-zones</strong></span></pre><p class="simpara">
							The <code class="literal">firewall-cmd --get-zones</code> command displays all zones that are available on the system, but it does not show any details for particular zones. To see more detailed information for all zones, use the <code class="literal">firewall-cmd --list-all-zones</code> command.
						</p></li><li class="listitem">
							Choose the zone you want to use for this configuration.
						</li><li class="listitem"><p class="simpara">
							Modify firewall settings for the chosen zone. For example, to allow the <code class="literal">SSH</code> service and remove the <code class="literal">ftp</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --add-service=ssh --zone=<span class="emphasis"><em>&lt;your_chosen_zone&gt;</em></span></strong></span>
# <span class="strong strong"><strong>firewall-cmd --remove-service=ftp --zone=<span class="emphasis"><em>&lt;same_chosen_zone&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Assign a network interface to the firewall zone:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									List the available network interfaces:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span></pre><p class="simpara">
									Activity of a zone is determined by the presence of network interfaces or source address ranges that match its configuration. The default zone is active for unclassified traffic but is not always active if no traffic matches its rules.
								</p></li><li class="listitem"><p class="simpara">
									Assign a network interface to the chosen zone:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;your_chosen_zone&gt;</em></span> --change-interface=&lt;<span class="emphasis"><em>interface_name</em></span>&gt; --permanent</strong></span></pre><p class="simpara">
									Assigning a network interface to a zone is more suitable for applying consistent firewall settings to all traffic on a particular interface (physical or virtual).
								</p><p class="simpara">
									The <code class="literal">firewall-cmd</code> command, when used with the <code class="literal">--permanent</code> option, often involves updating NetworkManager connection profiles to make changes to the firewall configuration permanent. This integration between <code class="literal">firewalld</code> and NetworkManager ensures consistent network and firewall settings.
								</p></li></ol></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the updated settings for your chosen zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;your_chosen_zone&gt;</em></span> --list-all</strong></span></pre><p class="simpara">
							The command output displays all zone settings including the assigned services, network interface, and network connections (sources).
						</p></li></ol></div></section><section class="section" id="changing-the-default-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.2. Changing the default zone</h4></div></div></div><p class="_abstract _abstract">
					System administrators assign a zone to a networking interface in its configuration files. If an interface is not assigned to a specific zone, it is assigned to the default zone. After each restart of the <code class="literal">firewalld</code> service, <code class="literal">firewalld</code> loads the settings for the default zone and makes it active. Note that settings for all other zones are preserved and ready to be used.
				</p><p>
					Typically, zones are assigned to interfaces by NetworkManager according to the <code class="literal">connection.zone</code> setting in NetworkManager connection profiles. Also, after a reboot NetworkManager manages assignments for "activating" those zones.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To set up the default zone:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the current default zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-default-zone</strong></span></pre></li><li class="listitem"><p class="simpara">
							Set the new default zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --set-default-zone <span class="emphasis"><em>&lt;zone_name</em></span>&gt;</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Following this procedure, the setting is a permanent setting, even without the <code class="literal">--permanent</code> option.
							</p></div></rh-alert></li></ol></div></section><section class="section" id="assigning-a-network-interface-to-a-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.3. Assigning a network interface to a zone</h4></div></div></div><p class="_abstract _abstract">
					It is possible to define different sets of rules for different zones and then change the settings quickly by changing the zone for the interface that is being used. With multiple interfaces, a specific zone can be set for each of them to distinguish traffic that is coming through them.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To assign the zone to a specific interface:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the active zones and the interfaces assigned to them:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span></pre></li><li class="listitem"><p class="simpara">
							Assign the interface to a different zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>zone_name</em></span> --change-interface=<span class="emphasis"><em>interface_name</em></span> --permanent</strong></span></pre></li></ol></div></section><section class="section" id="assigning-a-zone-to-a-connection-using-nmcli_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.4. Assigning a zone to a connection using nmcli</h4></div></div></div><p class="_abstract _abstract">
					You can add a <code class="literal">firewalld</code> zone to a <code class="literal">NetworkManager</code> connection using the <code class="literal">nmcli</code> utility.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Assign the zone to the <code class="literal">NetworkManager</code> connection profile:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nmcli connection modify <span class="emphasis"><em>profile</em></span> connection.zone <span class="emphasis"><em>zone_name</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Activate the connection:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nmcli connection up <span class="emphasis"><em>profile</em></span></strong></span></pre></li></ol></div></section><section class="section" id="manually-assigning-a-zone-to-a-network-connection-in-a-connection-profile-file_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.5. Manually assigning a zone to a network connection in a connection profile file</h4></div></div></div><p class="_abstract _abstract">
					If you cannot use the <code class="literal">nmcli</code> utility to modify a connection profile, you can manually edit the corresponding file of the profile to assign a <code class="literal">firewalld</code> zone.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Modifying the connection profile with the <code class="literal">nmcli</code> utility to assign a <code class="literal">firewalld</code> zone is more efficient. For details, see <a class="link" href="#assigning-a-network-interface-to-a-zone_working-with-firewalld-zones" title="1.7.3. Assigning a network interface to a zone">Assigning a network interface to a zone</a>.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Determine the path to the connection profile and its format:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nmcli -f NAME,FILENAME connection</strong></span>
NAME    FILENAME
enp1s0  /etc/NetworkManager/system-connections/enp1s0.nmconnection
enp7s0  /etc/sysconfig/network-scripts/ifcfg-enp7s0</pre><p class="simpara">
							NetworkManager uses separate directories and file names for the different connection profile formats:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Profiles in <code class="literal">/etc/NetworkManager/system-connections/<span class="emphasis"><em>&lt;connection_name&gt;</em></span>.nmconnection</code> files use the keyfile format.
								</li><li class="listitem">
									Profiles in <code class="literal">/etc/sysconfig/network-scripts/ifcfg-<span class="emphasis"><em>&lt;interface_name&gt;</em></span></code> files use the ifcfg format.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Depending on the format, update the corresponding file:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If the file uses the keyfile format, append <code class="literal">zone=<span class="emphasis"><em>&lt;name&gt;</em></span></code> to the <code class="literal">[connection]</code> section of the <code class="literal">/etc/NetworkManager/system-connections/<span class="emphasis"><em>&lt;connection_name&gt;</em></span>.nmconnection</code> file:
								</p><pre class="literallayout">[connection]
...
<span class="strong strong"><strong>zone=internal</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the file uses the ifcfg format, append <code class="literal">ZONE=<span class="emphasis"><em>&lt;name&gt;</em></span></code> to the <code class="literal">/etc/sysconfig/network-scripts/ifcfg-<span class="emphasis"><em>&lt;interface_name&gt;</em></span></code> file:
								</p><pre class="literallayout"><span class="strong strong"><strong>ZONE=internal</strong></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Reload the connection profiles:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nmcli connection reload</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reactivate the connection profiles
						</p><pre class="literallayout"># <span class="strong strong"><strong>nmcli connection up <span class="emphasis"><em>&lt;profile_name&gt;</em></span></strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Display the zone of the interface, for example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-zone-of-interface enp1s0</strong></span>
internal</pre></li></ul></div></section><section class="section" id="creating-a-new-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.6. Creating a new zone</h4></div></div></div><p class="_abstract _abstract">
					To use custom zones, create a new zone and use it just like a predefined zone. New zones require the <code class="literal">--permanent</code> option, otherwise the command does not work.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --new-zone=<span class="emphasis"><em>zone-name</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Make the new zone usable:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre><p class="simpara">
							The command applies recent changes to the firewall configuration without interrupting network services that are already running.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Check if the new zone is added to your permanent settings:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-zones --permanent</strong></span></pre></li></ul></div></section><section class="section" id="enabling-zones-using-the-web-console_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.7. Enabling zones by using the web console</h4></div></div></div><p>
					You can apply predefined and existing firewall zones on a particular interface or a range of IP addresses through the RHEL web console.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You have installed the RHEL 9 web console.
						</p><p class="simpara">
							For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Log in to the RHEL 9 web console.
						</p><p class="simpara">
							For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Networking</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Click on the <span class="guibutton">Edit rules and zones</span> button.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png" alt="Edit firewall rules and zones in the web console"></span>

						</p><p class="simpara">
							If you do not see the <span class="guibutton">Edit rules and zones</span> button, log in to the web console with the administrator privileges.
						</p></li><li class="listitem">
							In the <span class="strong strong"><strong>Firewall</strong></span> section, click <span class="strong strong"><strong>Add new zone</strong></span>.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Add zone</strong></span> dialog box, select a zone from the <span class="strong strong"><strong>Trust level</strong></span> options.
						</p><p class="simpara">
							The web console displays all zones predefined in the <code class="literal">firewalld</code> service.
						</p></li><li class="listitem">
							In the <span class="strong strong"><strong>Interfaces</strong></span> part, select an interface or interfaces on which the selected zone is applied.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Allowed Addresses</strong></span> part, you can select whether the zone is applied on:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									the whole subnet
								</li><li class="listitem"><p class="simpara">
									or a range of IP addresses in the following format:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											192.168.1.0
										</li><li class="listitem">
											192.168.1.0/24
										</li><li class="listitem">
											192.168.1.0/24, 192.168.1.0
										</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Click on the <span class="guibutton">Add zone</span> button.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/f83e21d20ef3cce3db3034a1512f4a99/cockpit_add-zone.png" alt="Add a firewall zone"></span>

						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Check the configuration in the <span class="strong strong"><strong>Firewall</strong></span> section:
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/52573e07bd7271caaba32b93744d139e/cockpit_active-zones.png" alt="Active zones"></span>

						</p></li></ul></div></section><section class="section" id="disabling-zones-using-the-web-console_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.8. Disabling zones by using the web console</h4></div></div></div><p class="_abstract _abstract">
					You can disable a firewall zone in your firewall configuration by using the web console.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You have installed the RHEL 9 web console.
						</p><p class="simpara">
							For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Log in to the RHEL 9 web console.
						</p><p class="simpara">
							For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Networking</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Click on the <span class="guibutton">Edit rules and zones</span> button.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png" alt="cockpit edit rules and zones"></span>

						</p><p class="simpara">
							If you do not see the <span class="guibutton">Edit rules and zones</span> button, log in to the web console with the administrator privileges.
						</p></li><li class="listitem"><p class="simpara">
							Click on the <span class="strong strong"><strong>Options</strong></span> icon at the zone you want to remove.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/32c4cc4561732a522bebeb5c055e987a/cockpit_delete-zone.png" alt="cockpit delete zone"></span>

						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Delete</strong></span>.
						</li></ol></div><p>
					The zone is now disabled and the interface does not include opened services and ports which were configured in the zone.
				</p></section><section class="section" id="using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones"><div class="titlepage"><div><div><h4 class="title">1.7.9. Using zone targets to set default behavior for incoming traffic</h4></div></div></div><p class="_abstract _abstract">
					For every zone, you can set a default behavior that handles incoming traffic that is not further specified. Such behavior is defined by setting the target of the zone. There are four options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ACCEPT</code>: Accepts all incoming packets except those disallowed by specific rules.
						</li><li class="listitem">
							<code class="literal">REJECT</code>: Rejects all incoming packets except those allowed by specific rules. When <code class="literal">firewalld</code> rejects packets, the source machine is informed about the rejection.
						</li><li class="listitem">
							<code class="literal">DROP</code>: Drops all incoming packets except those allowed by specific rules. When <code class="literal">firewalld</code> drops packets, the source machine is not informed about the packet drop.
						</li><li class="listitem">
							<code class="literal">default</code>: Similar behavior as for <code class="literal">REJECT</code>, but with special meanings in certain scenarios.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To set a target for a zone:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the information for the specific zone to see the default target:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>zone-name</em></span> --list-all</strong></span></pre></li><li class="listitem"><p class="simpara">
							Set a new target in the zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --zone=zone-name --set-target=&lt;default|ACCEPT|REJECT|DROP&gt;</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">firewall-cmd(1)</code> man page
						</li></ul></div></section></section><section class="section" id="controlling-network-traffic-using-firewalld_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.8. Controlling network traffic using <code class="literal">firewalld</code></h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">firewalld</code> package installs a large number of predefined service files and you can add more or customize them. You can then use these service definitions to open or close ports for services without knowing the protocol and port numbers they use.
			</p><section class="section" id="controlling-traffic-with-predefined-services-using-the-cli_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.1. Controlling traffic with predefined services using the CLI</h4></div></div></div><p class="_abstract _abstract">
					The most straightforward method to control traffic is to add a predefined service to <code class="literal">firewalld</code>. This opens all necessary ports and modifies other settings according to the <span class="emphasis"><em>service definition file</em></span>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check that the service in <code class="literal">firewalld</code> is not already allowed:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-services</strong></span>
ssh dhcpv6-client</pre><p class="simpara">
							The command lists the services that are enabled in the default zone.
						</p></li><li class="listitem"><p class="simpara">
							List all predefined services in <code class="literal">firewalld</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-services</strong></span>
RH-Satellite-6 amanda-client amanda-k5-client bacula bacula-client bitcoin bitcoin-rpc bitcoin-testnet bitcoin-testnet-rpc ceph ceph-mon cfengine condor-collector ctdb dhcp dhcpv6 dhcpv6-client dns docker-registry ...</pre><p class="simpara">
							The command displays a list of available services for the default zone.
						</p></li><li class="listitem"><p class="simpara">
							Add the service to the list of services that <code class="literal">firewalld</code> allows:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --add-service=<span class="emphasis"><em>&lt;service_name&gt;</em></span></strong></span></pre><p class="simpara">
							The command adds the specified service to the default zone.
						</p></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre><p class="simpara">
							The command applies these runtime changes to the permanent configuration of the firewall. By default, it applies these changes to the configuration of the default zone.
						</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all permanent firewall rules:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-all --permanent</strong></span>
public
  target: default
  icmp-block-inversion: no
  interfaces:
  sources:
  services: cockpit dhcpv6-client ssh
  ports:
  protocols:
  forward: no
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:</pre><p class="simpara">
							The command displays complete configuration with the permanent firewall rules of the default firewall zone (<code class="literal">public</code>).
						</p></li><li class="listitem"><p class="simpara">
							Check the validity of the permanent configuration of the <code class="literal">firewalld</code> service.
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --check-config</strong></span>
success</pre><p class="simpara">
							If the permanent configuration is invalid, the command returns an error with further details:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --check-config</strong></span>
Error: INVALID_PROTOCOL: 'public.xml': 'tcpx' not from {'tcp'|'udp'|'sctp'|'dccp'}</pre><p class="simpara">
							You can also manually inspect the permanent configuration files to verify the settings. The main configuration file is <code class="literal">/etc/firewalld/firewalld.conf</code>. The zone-specific configuration files are in the <code class="literal">/etc/firewalld/zones/</code> directory and the policies are in the <code class="literal">/etc/firewalld/policies/</code> directory.
						</p></li></ol></div></section><section class="section" id="controlling-traffic-with-predefined-services-using-the-gui_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.2. Controlling traffic with predefined services using the GUI</h4></div></div></div><p class="_abstract _abstract">
					You can control the network traffic with predefined services using a graphical user interface. The Firewall Configuration application provides an accessible and user-friendly alternative to the command-line utilities.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You installed the <code class="literal">firewall-config</code> package.
						</li><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To enable or disable a predefined or custom service:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Start the <span class="strong strong"><strong>firewall-config</strong></span> utility and select the network zone whose services are to be configured.
								</li><li class="listitem">
									Select the <code class="literal">Zones</code> tab and then the <code class="literal">Services</code> tab below.
								</li><li class="listitem">
									Select the checkbox for each type of service you want to trust or clear the checkbox to block a service in the selected zone.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							To edit a service:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Start the <span class="strong strong"><strong>firewall-config</strong></span> utility.
								</li><li class="listitem">
									Select <code class="literal">Permanent</code> from the menu labeled <code class="literal">Configuration</code>. Additional icons and menu buttons appear at the bottom of the <span class="guibutton">Services</span> window.
								</li><li class="listitem">
									Select the service you want to configure.
								</li></ol></div></li></ol></div><p>
					The <code class="literal">Ports</code>, <code class="literal">Protocols</code>, and <code class="literal">Source Port</code> tabs enable adding, changing, and removing of ports, protocols, and source port for the selected service. The modules tab is for configuring <span class="strong strong"><strong>Netfilter</strong></span> helper modules. The <code class="literal">Destination</code> tab enables limiting traffic to a particular destination address and Internet Protocol (<code class="literal">IPv4</code> or <code class="literal">IPv6</code>).
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						It is not possible to alter service settings in the <code class="literal">Runtime</code> mode.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Press the <kbd class="keycap">Super</kbd> key to enter the Activities overview.
						</li><li class="listitem"><p class="simpara">
							Select the Firewall Configuration utility.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									You can also start the graphical firewall configuration utility using the command-line, by entering the <code class="literal">firewall-config</code> command.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							View the list of configurations of your firewall:
						</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/88d32460d4432eae055b37efbb85c465/firewall-configuration.png" alt="firewall configuration"></div></div></li></ul></div><p>
					The <code class="literal">Firewall Configuration</code> window opens. Note that this command can be run as a normal user, but you are prompted for an administrator password occasionally.
				</p></section><section class="section" id="enabling-services-on-firewall-using-the-web-console_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.3. Enabling services on the firewall by using the web console</h4></div></div></div><p class="_abstract _abstract">
					By default, services are added to the default firewall zone. If you use more firewall zones on more network interfaces, you must select a zone first and then add the service with port.
				</p><p>
					The RHEL 9 web console displays predefined <code class="literal">firewalld</code> services and you can add them to active firewall zones.
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						The RHEL 9 web console configures the <span class="strong strong"><strong>firewalld</strong></span> service.
					</p><p>
						The web console does not allow generic <code class="literal">firewalld</code> rules which are not listed in the web console.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You have installed the RHEL 9 web console.
						</p><p class="simpara">
							For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Log in to the RHEL 9 web console.
						</p><p class="simpara">
							For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Networking</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Click on the <span class="guibutton">Edit rules and zones</span> button.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png" alt="cockpit edit rules and zones"></span>

						</p><p class="simpara">
							If you do not see the <span class="guibutton">Edit rules and zones</span> button, log in to the web console with the administrator privileges.
						</p></li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Firewall</strong></span> section, select a zone for which you want to add the service and click <span class="strong strong"><strong>Add Services</strong></span>.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/be466ba1b73aee638c1afbdf3f183a48/cockpit_add-services.png" alt="cockpit add services"></span>

						</p></li><li class="listitem">
							In the <span class="strong strong"><strong>Add Services</strong></span> dialog box, find the service you want to enable on the firewall.
						</li><li class="listitem"><p class="simpara">
							Enable services according to your scenario:
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/934b2f09b17e4fbc3bcf17ae2b1874a7/cockpit_add-service.png" alt="cockpit add service"></span>

						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Add Services</strong></span>.
						</li></ol></div><p>
					At this point, the RHEL 9 web console displays the service in the zone’s list of <span class="strong strong"><strong>Services</strong></span>.
				</p></section><section class="section" id="configuring-custom-ports-using-the-web-console_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.4. Configuring custom ports by using the web console</h4></div></div></div><p>
					You can add configure custom ports for services through the RHEL web console.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You have installed the RHEL 9 web console.
						</p><p class="simpara">
							For instructions, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console">Installing and enabling the web console</a>.
						</p></li><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Log in to the RHEL 9 web console.
						</p><p class="simpara">
							For details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console">Logging in to the web console</a>.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Networking</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Click on the <span class="guibutton">Edit rules and zones</span> button.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png" alt="cockpit edit rules and zones"></span>

						</p><p class="simpara">
							If you do not see the <span class="guibutton">Edit rules and zones</span> button, log in to the web console with the administrative privileges.
						</p></li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Firewall</strong></span> section, select a zone for which you want to configure a custom port and click <span class="strong strong"><strong>Add Services</strong></span>.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/be466ba1b73aee638c1afbdf3f183a48/cockpit_add-services.png" alt="RHEL web console: Add services"></span>

						</p></li><li class="listitem">
							In the <span class="strong strong"><strong>Add services</strong></span> dialog box, click on the <span class="guibutton">Custom Ports</span> radio button.
						</li><li class="listitem"><p class="simpara">
							In the TCP and UDP fields, add ports according to examples. You can add ports in the following formats:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Port numbers such as 22
								</li><li class="listitem">
									Range of port numbers such as 5900-5910
								</li><li class="listitem">
									Aliases such as nfs, rsync
								</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								You can add multiple values into each field. Values must be separated with the comma and without the space, for example: 8080,8081,http
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							After adding the port number in the <span class="strong strong"><strong>TCP</strong></span> filed, the <span class="strong strong"><strong>UDP</strong></span> filed, or both, verify the service name in the <span class="strong strong"><strong>Name</strong></span> field.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Name</strong></span> field displays the name of the service for which is this port reserved. You can rewrite the name if you are sure that this port is free to use and no server needs to communicate on this port.
						</p></li><li class="listitem">
							In the <span class="strong strong"><strong>Name</strong></span> field, add a name for the service including defined ports.
						</li><li class="listitem"><p class="simpara">
							Click on the <span class="guibutton">Add Ports</span> button.
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/4a27ff9eaf871424cbd95afbfbd4a2da/cockpit_add-ports.png" alt="RHEL web console: Add ports"></span>

						</p></li></ol></div><p>
					To verify the settings, go to the <span class="strong strong"><strong>Firewall</strong></span> page and find the service in the list of zone’s <span class="strong strong"><strong>Services</strong></span>.
				</p><p>
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/52573e07bd7271caaba32b93744d139e/cockpit_active-zones.png" alt="RHEL web console: Active zones"></span>

				</p></section><section class="section" id="configuring-firewalld-to-allow-hosting-a-secure-web-server_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.5. Configuring firewalld to allow hosting a secure web server</h4></div></div></div><p>
					Ports are logical services that enable an operating system to receive and distinguish network traffic and forward it to system services. The system services are represented by a daemon that listens on the port and waits for any traffic coming to this port.
				</p><p>
					Normally, system services listen on standard ports that are reserved for them. The <code class="literal systemitem">httpd</code> daemon, for example, listens on port 80. However, system administrators can directly specify the port number instead of the service name.
				</p><p>
					You can use the <code class="literal">firewalld</code> service to configure access to a secure web server for hosting your data.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check the currently active firewall zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the HTTPS service to the appropriate zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;zone_name&gt;</em></span> --add-service=https --permanent</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the firewall configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check if the port is open in <code class="literal">firewalld</code>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If you opened the port by specifying the port number, enter:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;zone_name&gt;</em></span> --list-all</strong></span></pre></li><li class="listitem"><p class="simpara">
									If you opened the port by specifying a service definition, enter:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;zone_name&gt;</em></span> --list-services</strong></span></pre></li></ul></div></li></ol></div></section><section class="section" id="closing-unused-or-unnecessary-ports-to-enhance-network-security_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.6. Closing unused or unnecessary ports to enhance network security</h4></div></div></div><p class="_abstract _abstract">
					When an open port is no longer needed, you can use the <code class="literal">firewalld</code> utility to close it.
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						Close all unnecessary ports to reduce the potential attack surface and minimize the risk of unauthorized access or exploitation of vulnerabilities.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all allowed ports:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-ports</strong></span></pre><p class="simpara">
							By default, this command lists the ports that are enabled in the default zone.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								This command will only give you a list of ports that are opened as ports. You will not be able to see any open ports that are opened as a service. For that case, consider using the <code class="literal">--list-all</code> option instead of <code class="literal">--list-ports</code>.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Remove the port from the list of allowed ports to close it for the incoming traffic:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --remove-port=port-number/port-type</strong></span></pre><p class="simpara">
							This command removes a port from a zone. If you do not specify a zone, it will remove the port from the default zone.
						</p></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre><p class="simpara">
							Without specifying a zone, this command applies runtime changes to the permanent configuration of the default zone.
						</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the active zones and choose the zone you want to inspect:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span></pre></li><li class="listitem"><p class="simpara">
							List the currently open ports in the selected zone to check if the unused or unnecessary ports are closed:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;zone_to_inspect&gt;</em></span> --list-ports</strong></span></pre></li></ol></div></section><section class="section" id="controlling-traffic-through-the-cli_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.7. Controlling traffic through the CLI</h4></div></div></div><p class="_abstract _abstract">
					You can use the <code class="literal">firewall-cmd</code> command to:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							disable networking traffic
						</li><li class="listitem">
							enable networking traffic
						</li></ul></div><p>
					As a result, you can for example enhance your system defenses, ensure data privacy or optimize network resources.
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						Enabling panic mode stops all networking traffic. For this reason, it should be used only when you have the physical access to the machine or if you are logged in using a serial console.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To immediately disable networking traffic, switch panic mode on:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --panic-on</strong></span></pre></li><li class="listitem"><p class="simpara">
							Switching off panic mode reverts the firewall to its permanent settings. To switch panic mode off, enter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --panic-off</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To see whether panic mode is switched on or off, use:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --query-panic</strong></span></pre></li></ul></div></section><section class="section" id="proc_controlling-traffic-with-protocols-using-gui_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.8.8. Controlling traffic with protocols using GUI</h4></div></div></div><p class="_abstract _abstract">
					To permit traffic through the firewall using a certain protocol, you can use the GUI.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You installed the <code class="literal">firewall-config</code> package
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Start the <span class="strong strong"><strong>firewall-config</strong></span> tool and select the network zone whose settings you want to change.
						</li><li class="listitem">
							Select the <code class="literal">Protocols</code> tab and click the <code class="literal">Add</code> button on the right-hand side. The <code class="literal">Protocol</code> window opens.
						</li><li class="listitem">
							Either select a protocol from the list or select the <code class="literal">Other Protocol</code> check box and enter the protocol in the field.
						</li></ol></div></section></section><section class="section" id="using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.9. Using zones to manage incoming traffic depending on a source</h3></div></div></div><p class="_abstract _abstract">
				You can use zones to manage incoming traffic based on its source. Incoming traffic in this context is any data that is destined for your system, or passes through the host running <code class="literal">firewalld</code>. The source typically refers to the IP address or network range from which the traffic originates. As a result, you can sort incoming traffic and assign it to different zones to allow or disallow services that can be reached by that traffic.
			</p><p>
				Matching by source address takes precedence over matching by interface name. When you add a source to a zone, the firewall will prioritize the source-based rules for incoming traffic over interface-based rules. This means that if incoming traffic matches a source address specified for a particular zone, the zone associated with that source address will determine how the traffic is handled, regardless of the interface through which it arrives. On the other hand, interface-based rules are generally a fallback for traffic that does not match specific source-based rules. These rules apply to traffic, for which the source is not explicitly associated with a zone. This allows you to define a default behavior for traffic that does not have a specific source-defined zone.
			</p><section class="section" id="adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h4 class="title">1.9.1. Adding a source</h4></div></div></div><p class="_abstract _abstract">
					To route incoming traffic into a specific zone, add the source to that zone. The source can be an IP address or an IP mask in the classless inter-domain routing (CIDR) notation.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						In case you add multiple zones with an overlapping network range, they are ordered alphanumerically by zone name and only the first one is considered.
					</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To set the source in the current zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --add-source=&lt;source&gt;</strong></span></pre></li><li class="listitem"><p class="simpara">
							To set the source IP address for a specific zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=zone-name --add-source=&lt;source&gt;</strong></span></pre></li></ul></div><p>
					The following procedure allows all incoming traffic from <span class="emphasis"><em>192.168.2.15</em></span> in the <code class="literal">trusted</code> zone:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all available zones:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-zones</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the source IP to the trusted zone in the permanent mode:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=trusted --add-source=192.168.2.15</strong></span></pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre></li></ol></div></section><section class="section" id="removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h4 class="title">1.9.2. Removing a source</h4></div></div></div><p class="_abstract _abstract">
					When you remove a source from a zone, the traffic which originates from the source is no longer directed through the rules specified for that source. Instead, the traffic falls back to the rules and settings of the zone associated with the interface from which it originates, or goes to the default zone.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List allowed sources for the required zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=zone-name --list-sources</strong></span></pre></li><li class="listitem"><p class="simpara">
							Remove the source from the zone permanently:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=zone-name --remove-source=&lt;source&gt;</strong></span></pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre></li></ol></div></section><section class="section" id="removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h4 class="title">1.9.3. Removing a source port</h4></div></div></div><p class="_abstract _abstract">
					By removing a source port you disable sorting the traffic based on a port of origin.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To remove a source port:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=zone-name --remove-source-port=&lt;port-name&gt;/&lt;tcp|udp|sctp|dccp&gt;</strong></span></pre></li></ul></div></section><section class="section" id="using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h4 class="title">1.9.4. Using zones and sources to allow a service for only a specific domain</h4></div></div></div><p class="_abstract _abstract">
					To allow traffic from a specific network to use a service on a machine, use zones and source. The following procedure allows only HTTP traffic from the <code class="literal">192.0.2.0/24</code> network while any other traffic is blocked.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						When you configure this scenario, use a zone that has the <code class="literal">default</code> target. Using a zone that has the target set to <code class="literal">ACCEPT</code> is a security risk, because for traffic from <code class="literal">192.0.2.0/24</code>, all network connections would be accepted.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all available zones:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-zones</strong></span>
block dmz drop external home internal public trusted work</pre></li><li class="listitem"><p class="simpara">
							Add the IP range to the <code class="literal">internal</code> zone to route the traffic originating from the source through the zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=internal --add-source=192.0.2.0/24</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">http</code> service to the <code class="literal">internal</code> zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=internal --add-service=http</strong></span></pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Check that the <code class="literal">internal</code> zone is active and that the service is allowed in it:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=internal --list-all</strong></span>
internal (active)
  target: default
  icmp-block-inversion: no
  interfaces:
  sources: <span class="strong strong"><strong>192.0.2.0/24</strong></span>
  services: cockpit dhcpv6-client mdns samba-client ssh <span class="strong strong"><strong>http</strong></span>
  ...</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">firewalld.zones(5)</code> man page
						</li></ul></div></section></section><section class="section" id="assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.10. Filtering forwarded traffic between zones</h3></div></div></div><p class="_abstract _abstract">
				<code class="literal">firewalld</code> enables you to control the flow of network data between different <code class="literal">firewalld</code> zones. By defining rules and policies, you can manage how traffic is allowed or blocked when it moves between these zones.
			</p><p>
				The policy objects feature provides forward and output filtering in <code class="literal">firewalld</code>. You can use <code class="literal">firewalld</code> to filter traffic between different zones to allow access to locally hosted VMs to connect the host.
			</p><section class="section" id="con_relationship-between-policy-objects-and-zones_assembly_filtering-forwarded-traffic-between-zones"><div class="titlepage"><div><div><h4 class="title">1.10.1. The relationship between policy objects and zones</h4></div></div></div><p class="_abstract _abstract">
					Policy objects allow the user to attach firewalld’s primitives such as services, ports, and rich rules to the policy. You can apply the policy objects to traffic that passes between zones in a stateful and unidirectional manner.
				</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --new-policy <span class="emphasis"><em>myOutputPolicy</em></span></strong></span>

# <span class="strong strong"><strong>firewall-cmd --permanent --policy <span class="emphasis"><em>myOutputPolicy</em></span> --add-ingress-zone HOST</strong></span>

# <span class="strong strong"><strong>firewall-cmd --permanent --policy <span class="emphasis"><em>myOutputPolicy</em></span> --add-egress-zone ANY</strong></span></pre><p>
					<code class="literal">HOST</code> and <code class="literal">ANY</code> are the symbolic zones used in the ingress and egress zone lists.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">HOST</code> symbolic zone allows policies for the traffic originating from or has a destination to the host running firewalld.
						</li><li class="listitem">
							The <code class="literal">ANY</code> symbolic zone applies policy to all the current and future zones. <code class="literal">ANY</code> symbolic zone acts as a wildcard for all zones.
						</li></ul></div></section><section class="section" id="proc_using-priorities-to-sort-policies_assembly_filtering-forwarded-traffic-between-zones"><div class="titlepage"><div><div><h4 class="title">1.10.2. Using priorities to sort policies</h4></div></div></div><p class="_abstract _abstract">
					Multiple policies can apply to the same set of traffic, therefore, priorities should be used to create an order of precedence for the policies that may be applied.
				</p><p>
					To set a priority to sort the policies:
				</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy <span class="emphasis"><em>mypolicy</em></span> --set-priority <span class="emphasis"><em>-500</em></span></strong></span></pre><p>
					In the above example <span class="emphasis"><em>-500</em></span> is a lower priority value but has higher precedence. Thus, -500 will execute before -100.
				</p><p>
					Lower numerical priority values have higher precedence and are applied first.
				</p></section><section class="section" id="proc_using-policy-objects-to-filter-traffic-between-locally-hosted-containers-and-a-network-physically-connected-to-the-host_assembly_filtering-forwarded-traffic-between-zones"><div class="titlepage"><div><div><h4 class="title">1.10.3. Using policy objects to filter traffic between locally hosted containers and a network physically connected to the host</h4></div></div></div><p>
					The policy objects feature allows users to filter traffic between Podman and firewalld zones.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Red Hat recommends blocking all traffic by default and opening the selective services needed for the Podman utility.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new firewall policy:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --new-policy podmanToAny</strong></span></pre></li><li class="listitem"><p class="simpara">
							Block all traffic from Podman to other zones and allow only necessary services on Podman:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy podmanToAny --set-target REJECT</strong></span>
# <span class="strong strong"><strong>firewall-cmd --permanent --policy podmanToAny --add-service dhcp</strong></span>
# <span class="strong strong"><strong>firewall-cmd --permanent --policy podmanToAny --add-service dns</strong></span>
# <span class="strong strong"><strong>firewall-cmd --permanent --policy podmanToAny --add-service https</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create a new Podman zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --new-zone=podman</strong></span></pre></li><li class="listitem"><p class="simpara">
							Define the ingress zone for the policy:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy podmanToHost --add-ingress-zone podman</strong></span></pre></li><li class="listitem"><p class="simpara">
							Define the egress zone for all other zones:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy podmanToHost --add-egress-zone ANY</strong></span></pre><p class="simpara">
							Setting the egress zone to ANY means that you filter from Podman to other zones. If you want to filter to the host, then set the egress zone to HOST.
						</p></li><li class="listitem"><p class="simpara">
							Restart the firewalld service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart firewalld</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify the Podman firewall policy to other zones:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --info-policy podmanToAny</strong></span>
podmanToAny (active)
  ...
  target: REJECT
  ingress-zones: podman
  egress-zones: ANY
  services: dhcp dns https
  ...</pre></li></ul></div></section><section class="section" id="proc_setting-the-default-target-of-policy-objects_assembly_filtering-forwarded-traffic-between-zones"><div class="titlepage"><div><div><h4 class="title">1.10.4. Setting the default target of policy objects</h4></div></div></div><p class="_abstract _abstract">
					You can specify --set-target options for policies. The following targets are available:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ACCEPT</code> - accepts the packet
						</li><li class="listitem">
							<code class="literal">DROP</code> - drops the unwanted packets
						</li><li class="listitem">
							<code class="literal">REJECT</code> - rejects unwanted packets with an ICMP reply
						</li><li class="listitem"><p class="simpara">
							<code class="literal">CONTINUE</code> (default) - packets will be subject to rules in following policies and zones.
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy <span class="emphasis"><em>mypolicy</em></span> --set-target CONTINUE</strong></span></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify information about the policy
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --info-policy <span class="emphasis"><em>mypolicy</em></span></strong></span></pre></li></ul></div></section><section class="section" id="proc_using-dnat-to-forward-https-traffic-to-a-different-host_assembly_filtering-forwarded-traffic-between-zones"><div class="titlepage"><div><div><h4 class="title">1.10.5. Using DNAT to forward HTTPS traffic to a different host</h4></div></div></div><p>
					If your web server runs in a DMZ with private IP addresses, you can configure destination network address translation (DNAT) to enable clients on the internet to connect to this web server. In this case, the host name of the web server resolves to the public IP address of the router. When a client establishes a connection to a defined port on the router, the router forwards the packets to the internal web server.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The DNS server resolves the host name of the web server to the router’s IP address.
						</li><li class="listitem"><p class="simpara">
							You know the following settings:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									The private IP address and port number that you want to forward
								</li><li class="listitem">
									The IP protocol to be used
								</li><li class="listitem">
									The destination IP address and port of the web server where you want to redirect the packets
								</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a firewall policy:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --new-policy <span class="emphasis"><em>&lt;example_policy&gt;</em></span></strong></span></pre><p class="simpara">
							The policies, as opposed to zones, allow packet filtering for input, output, and forwarded traffic. This is important, because forwarding traffic to endpoints on locally run web servers, containers, or virtual machines requires such capability.
						</p></li><li class="listitem"><p class="simpara">
							Configure symbolic zones for the ingress and egress traffic to also enable the router itself to connect to its local IP address and forward this traffic:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy=<span class="emphasis"><em>&lt;example_policy&gt;</em></span> --add-ingress-zone=HOST</strong></span>
# <span class="strong strong"><strong>firewall-cmd --permanent --policy=<span class="emphasis"><em>&lt;example_policy&gt;</em></span> --add-egress-zone=ANY</strong></span></pre><p class="simpara">
							The <code class="literal">--add-ingress-zone=HOST</code> option refers to packets generated locally and transmitted out of the local host. The <code class="literal">--add-egress-zone=ANY</code> option refers to traffic moving to any zone.
						</p></li><li class="listitem"><p class="simpara">
							Add a rich rule that forwards traffic to the web server:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --policy=<span class="emphasis"><em>&lt;example_policy&gt;</em></span> --add-rich-rule='rule family="ipv4" destination address="<span class="emphasis"><em>192.0.2.1</em></span>" forward-port port="<span class="emphasis"><em>443</em></span>" protocol="tcp" to-port="<span class="emphasis"><em>443</em></span>" to-addr="<span class="emphasis"><em>192.51.100.20</em></span>"'</strong></span></pre><p class="simpara">
							The rich rule forwards TCP traffic from port 443 on the IP address of the router (192.0.2.1) to port 443 of the IP address of the web server (192.51.100.20).
						</p></li><li class="listitem"><p class="simpara">
							Reload the firewall configuration files:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span>
success</pre></li><li class="listitem"><p class="simpara">
							Activate routing of 127.0.0.0/8 in the kernel:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									For persistent changes, run:
								</p><pre class="literallayout"># <span class="strong strong"><strong>echo "net.ipv4.conf.all.route_localnet=1" &gt; /etc/sysctl.d/90-enable-route-localnet.conf</strong></span></pre><p class="simpara">
									The command persistently configures the <code class="literal">route_localnet</code> kernel parameter and ensures that the setting is preserved after the system reboots.
								</p></li><li class="listitem"><p class="simpara">
									For applying the settings immediately without a system reboot, run:
								</p><pre class="literallayout"># <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/90-enable-route-localnet.conf</strong></span></pre><p class="simpara">
									The <code class="literal">sysctl</code> command is useful for applying on-the-fly changes, however the configuration will not persist across system reboots.
								</p></li></ul></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Connect to the IP address of the router and to the port that you have forwarded to the web server:
						</p><pre class="literallayout"># <span class="strong strong"><strong>curl https://192.0.2.1:443</strong></span></pre></li><li class="listitem"><p class="simpara">
							Optional: Verify that the <code class="literal">net.ipv4.conf.all.route_localnet</code> kernel parameter is active:
						</p><pre class="literallayout"># <span class="strong strong"><strong>sysctl net.ipv4.conf.all.route_localnet</strong></span>
net.ipv4.conf.all.route_localnet = 1</pre></li><li class="listitem"><p class="simpara">
							Verify that <code class="literal">&lt;example_policy&gt;</code> is active and contains the settings you need, especially the source IP address and port, protocol to be used, and the destination IP address and port:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --info-policy=<span class="emphasis"><em>&lt;example_policy&gt;</em></span></strong></span>
example_policy (active)
  priority: -1
  target: CONTINUE
  ingress-zones: HOST
  egress-zones: ANY
  services:
  ports:
  protocols:
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:
	rule family="ipv4" destination address="192.0.2.1" forward-port port="443" protocol="tcp" to-port="443" to-addr="192.51.100.20"</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">firewall-cmd(1)</code>, <code class="literal">firewalld.policies(5)</code>, <code class="literal">firewalld.richlanguage(5)</code>, <code class="literal">sysctl(8)</code>, and <code class="literal">sysctl.conf(5)</code> man pages
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_configuring-kernel-parameters-at-runtime">Using configuration files in /etc/sysctl.d/ to adjust kernel parameters</a>
						</li></ul></div></section></section><section class="section" id="assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.11. Configuring NAT using firewalld</h3></div></div></div><p class="_abstract _abstract">
				With <code class="literal systemitem">firewalld</code>, you can configure the following network address translation (NAT) types:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Masquerading
					</li><li class="listitem">
						Destination NAT (DNAT)
					</li><li class="listitem">
						Redirect
					</li></ul></div><section class="section" id="network-address-translation-types_assembly_configuring-nat-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.11.1. Network address translation types</h4></div></div></div><p class="_abstract _abstract">
					These are the different network address translation (NAT) types:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Masquerading</span></dt><dd><p class="simpara">
								Use one of these NAT types to change the source IP address of packets. For example, Internet Service Providers (ISPs) do not route private IP ranges, such as <code class="literal">10.0.0.0/8</code>. If you use private IP ranges in your network and users should be able to reach servers on the internet, map the source IP address of packets from these ranges to a public IP address.
							</p><p class="simpara">
								Masquerading automatically uses the IP address of the outgoing interface. Therefore, use masquerading if the outgoing interface uses a dynamic IP address.
							</p></dd><dt><span class="term">Destination NAT (DNAT)</span></dt><dd>
								Use this NAT type to rewrite the destination address and port of incoming packets. For example, if your web server uses an IP address from a private IP range and is, therefore, not directly accessible from the internet, you can set a DNAT rule on the router to redirect incoming traffic to this server.
							</dd><dt><span class="term">Redirect</span></dt><dd>
								This type is a special case of DNAT that redirects packets to a different port on the local machine. For example, if a service runs on a different port than its standard port, you can redirect incoming traffic from the standard port to this specific port.
							</dd></dl></div></section><section class="section" id="configuring-ip-address-masquerading_assembly_configuring-nat-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.11.2. Configuring IP address masquerading</h4></div></div></div><p class="_abstract _abstract">
					You can enable IP masquerading on your system. IP masquerading hides individual machines behind a gateway when accessing the internet.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To check if IP masquerading is enabled (for example, for the <code class="literal">external</code> zone), enter the following command as <code class="literal">root</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>external</em></span> --query-masquerade</strong></span></pre><p class="simpara">
							The command prints <code class="literal">yes</code> with exit status <code class="literal">0</code> if enabled. It prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise. If <code class="literal">zone</code> is omitted, the default zone will be used.
						</p></li><li class="listitem"><p class="simpara">
							To enable IP masquerading, enter the following command as <code class="literal">root</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>external</em></span> --add-masquerade</strong></span></pre></li><li class="listitem">
							To make this setting persistent, pass the <code class="literal">--permanent</code> option to the command.
						</li><li class="listitem"><p class="simpara">
							To disable IP masquerading, enter the following command as <code class="literal">root</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>external</em></span> --remove-masquerade</strong></span></pre><p class="simpara">
							To make this setting permanent, pass the <code class="literal">--permanent</code> option to the command.
						</p></li></ol></div></section><section class="section" id="using-dnat-to-forward-incoming-http-traffic_assembly_configuring-nat-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.11.3. Using DNAT to forward incoming HTTP traffic</h4></div></div></div><p class="_abstract _abstract">
					You can use destination network address translation (DNAT) to direct incoming traffic from one destination address and port to another. Typically, this is useful for redirecting incoming requests from an external network interface to specific internal servers or services.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">/etc/sysctl.d/90-enable-IP-forwarding.conf</code> file with the following content:
						</p><pre class="literallayout">net.ipv4.ip_forward=1</pre><p class="simpara">
							This setting enables IP forwarding in the kernel. It makes the internal RHEL server act as a router and forward packets from network to network.
						</p></li><li class="listitem"><p class="simpara">
							Load the setting from the <code class="literal">/etc/sysctl.d/90-enable-IP-forwarding.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/90-enable-IP-forwarding.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
							Forward incoming HTTP traffic:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=public --add-forward-port=port=80:proto=tcp:toaddr=198.51.100.10:toport=8080 --permanent</strong></span></pre><p class="simpara">
							The previous command defines a DNAT rule with the following settings:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">--zone=public</code> - The firewall zone for which you configure the DNAT rule. You can adjust this to whatever zone you need.
								</li><li class="listitem">
									<code class="literal">--add-forward-port</code> - The option that indicates you are adding a port-forwarding rule.
								</li><li class="listitem">
									<code class="literal">port=80</code> - The external destination port.
								</li><li class="listitem">
									<code class="literal">proto=tcp</code> - The protocol indicating that you forward TCP traffic.
								</li><li class="listitem">
									<code class="literal">toaddr=198.51.100.10</code> - The destination IP address.
								</li><li class="listitem">
									<code class="literal">toport=8080</code> - The destination port of the internal server.
								</li><li class="listitem">
									<code class="literal">--permanent</code> - The option that makes the DNAT rule persistent across reboots.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Reload the firewall configuration to apply the changes:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify the DNAT rule for the firewall zone that you used:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-forward-ports --zone=public</strong></span>
port=80:proto=tcp:toport=8080:toaddr=198.51.100.10</pre><p class="simpara">
							Alternatively, view the corresponding XML configuration file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>cat /etc/firewalld/zones/public.xml</strong></span>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;zone&gt;
  &lt;short&gt;Public&lt;/short&gt;
  &lt;description&gt;For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.&lt;/description&gt;
  &lt;service name="ssh"/&gt;
  &lt;service name="dhcpv6-client"/&gt;
  &lt;service name="cockpit"/&gt;
  <span class="strong strong"><strong>&lt;forward-port port="80" protocol="tcp" to-port="8080" to-addr="198.51.100.10"/&gt;</strong></span>
  &lt;forward/&gt;
&lt;/zone&gt;</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#doc-wrapper">Configuring kernel parameters at runtime</a>
						</li><li class="listitem">
							<code class="literal">firewall-cmd(1)</code> manual page
						</li></ul></div></section><section class="section" id="redirecting-traffic-from-a-non-standard-port-to-make-the-web-service-accessible-on-a-standard-port_assembly_configuring-nat-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.11.4. Redirecting traffic from a non-standard port to make the web service accessible on a standard port</h4></div></div></div><p class="_abstract _abstract">
					You can use the redirect mechanism to make the web service that internally runs on a non-standard port accessible without requiring users to specify the port in the URL. As a result, the URLs are simpler and provide better browsing experience, while a non-standard port is still used internally or for specific requirements.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">/etc/sysctl.d/90-enable-IP-forwarding.conf</code> file with the following content:
						</p><pre class="literallayout">net.ipv4.ip_forward=1</pre><p class="simpara">
							This setting enables IP forwarding in the kernel.
						</p></li><li class="listitem"><p class="simpara">
							Load the setting from the <code class="literal">/etc/sysctl.d/90-enable-IP-forwarding.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/90-enable-IP-forwarding.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create the NAT redirect rule:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=public --add-forward-port=port=<span class="emphasis"><em>&lt;standard_port&gt;</em></span>:proto=tcp:toport=<span class="emphasis"><em>&lt;non_standard_port&gt;</em></span> --permanent</strong></span></pre><p class="simpara">
							The previous command defines the NAT redirect rule with the following settings:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">--zone=public</code> - The firewall zone, for which you configure the rule. You can adjust this to whatever zone you need.
								</li><li class="listitem">
									<code class="literal">--add-forward-port=port=<span class="emphasis"><em>&lt;non_standard_port&gt;</em></span></code> - The option that indicates you are adding a port-forwarding (redirecting) rule with source port on which you initially receive the incoming traffic.
								</li><li class="listitem">
									<code class="literal">proto=tcp</code> - The protocol indicating that you redirect TCP traffic.
								</li><li class="listitem">
									<code class="literal">toport=<span class="emphasis"><em>&lt;standard_port&gt;</em></span></code> - The destination port, to which the incoming traffic should be redirected after being received on the source port.
								</li><li class="listitem">
									<code class="literal">--permanent</code> - The option that makes the rule persist across reboots.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Reload the firewall configuration to apply the changes:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify the redirect rule for the firewall zone that you used:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-forward-ports</strong></span>
port=8080:proto=tcp:toport=80:toaddr=</pre><p class="simpara">
							Alternatively, view the corresponding XML configuration file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>cat /etc/firewalld/zones/public.xml</strong></span>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;zone&gt;
  &lt;short&gt;Public&lt;/short&gt;
  &lt;description&gt;For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.&lt;/description&gt;
  &lt;service name="ssh"/&gt;
  &lt;service name="dhcpv6-client"/&gt;
  &lt;service name="cockpit"/&gt;
  <span class="strong strong"><strong>&lt;forward-port port="8080" protocol="tcp" to-port="80"/&gt;</strong></span>
  &lt;forward/&gt;
&lt;/zone&gt;</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#doc-wrapper">Configuring kernel parameters at runtime</a>
						</li><li class="listitem">
							<code class="literal">firewall-cmd(1)</code> manual page
						</li></ul></div></section></section><section class="section" id="managing-icmp-requests_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.12. Managing ICMP requests</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">Internet Control Message Protocol</code> (<code class="literal">ICMP</code>) is a supporting protocol that is used by various network devices for testing, troubleshooting, and diagnostics. <code class="literal">ICMP</code> differs from transport protocols such as TCP and UDP because it is not used to exchange data between systems.
			</p><p>
				You can use the <code class="literal systemitem">ICMP</code> messages, especially <code class="literal systemitem">echo-request</code> and <code class="literal systemitem">echo-reply</code>, to reveal information about a network and misuse such information for various kinds of fraudulent activities. Therefore, <code class="literal systemitem">firewalld</code> enables controlling the <code class="literal systemitem">ICMP</code> requests to protect your network information.
			</p><section class="section" id="configuring-icmp-filtering_managing-icmp-requests"><div class="titlepage"><div><div><h4 class="title">1.12.1. Configuring ICMP filtering</h4></div></div></div><p class="_abstract _abstract">
					You can use ICMP filtering to define which ICMP types and codes you want the firewall to permit or deny from reaching your system. ICMP types and codes are specific categories and subcategories of ICMP messages.
				</p><p>
					ICMP filtering helps, for example, in the following areas:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Security enhancement - Block potentially harmful ICMP types and codes to reduce your attack surface.
						</li><li class="listitem">
							Network performance - Permit only necessary ICMP types to optimize network performance and prevent potential network congestion caused by excessive ICMP traffic.
						</li><li class="listitem">
							Troubleshooting control - Maintain essential ICMP functionality for network troubleshooting and block ICMP types that represent potential security risk.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List available ICMP types and codes:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-icmptypes</strong></span>
address-unreachable bad-header beyond-scope communication-prohibited destination-unreachable echo-reply echo-request failed-policy fragmentation-needed host-precedence-violation host-prohibited host-redirect host-unknown host-unreachable
...</pre><p class="simpara">
							From this predefined list, select which ICMP types and codes to allow or block.
						</p></li><li class="listitem"><p class="simpara">
							Filter specific ICMP types by:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Allowing ICMP types:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;target-zone&gt;</em></span> --remove-icmp-block=<span class="emphasis"><em>echo-request</em></span> --permanent</strong></span></pre><p class="simpara">
									The command removes any existing blocking rules for the echo requests ICMP type.
								</p></li><li class="listitem"><p class="simpara">
									Blocking ICMP types:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=<span class="emphasis"><em>&lt;target-zone&gt;</em></span> --add-icmp-block=<span class="emphasis"><em>redirect</em></span> --permanent</strong></span></pre><p class="simpara">
									The command ensures that the redirect messages ICMP type is blocked by the firewall.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Reload the firewall configuration to apply the changes:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify your filtering rules are in effect:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-icmp-blocks</strong></span>
redirect</pre><p class="simpara">
							The command output displays the ICMP types and codes that you allowed or blocked.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">firewall-cmd(1)</code> manual page
						</li></ul></div></section></section><section class="section" id="setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.13. Setting and controlling IP sets using <code class="literal">firewalld</code></h3></div></div></div><p class="_abstract _abstract">
				IP sets are a RHEL feature for grouping of IP addresses and networks into sets to achieve more flexible and efficient firewall rule management.
			</p><p>
				The IP sets are valuable in scenarios when you need to for example:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Handle large lists of IP addresses
					</li><li class="listitem">
						Implement dynamic updates to those large lists of IP addresses
					</li><li class="listitem">
						Create custom IP-based policies to enhance network security and control
					</li></ul></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Red Hat recommends using the <code class="literal">firewall-cmd</code> command to create and manage IP sets.
				</p></div></rh-alert><section class="section" id="configuring-dynamic-updates-for-allowlisting-with-ip-sets_setting-and-controlling-ip-sets-using-firewalld"><div class="titlepage"><div><div><h4 class="title">1.13.1. Configuring dynamic updates for allowlisting with IP sets</h4></div></div></div><p class="_abstract _abstract">
					You can make near real-time updates to flexibly allow specific IP addresses or ranges in the IP sets even in unpredictable conditions. These updates can be triggered by various events, such as detection of security threats or changes in the network behavior. Typically, such a solution leverages automation to reduce manual effort and improve security by responding quickly to the situation.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">firewalld</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create an IP set with a meaningful name:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --new-ipset=<span class="emphasis"><em>allowlist</em></span> --type=hash:ip</strong></span></pre><p class="simpara">
							The new IP set called <code class="literal">allowlist</code> contains IP addresses that you want your firewall to allow.
						</p></li><li class="listitem"><p class="simpara">
							Add a dynamic update to the IP set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --ipset=<span class="emphasis"><em>allowlist</em></span> --add-entry=<span class="emphasis"><em>198.51.100.10</em></span></strong></span></pre><p class="simpara">
							This configuration updates the <code class="literal">allowlist</code> IP set with a newly added IP address that is allowed to pass network traffic by your firewall.
						</p></li><li class="listitem"><p class="simpara">
							Create a firewall rule that references the previously created IP set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --zone=public --add-source=ipset:<span class="emphasis"><em>allowlist</em></span></strong></span></pre><p class="simpara">
							Without this rule, the IP set would not have any impact on network traffic. The default firewall policy would prevail.
						</p></li><li class="listitem"><p class="simpara">
							Reload the firewall configuration to apply the changes:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all IP sets:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-ipsets</strong></span>
allowlist</pre></li><li class="listitem"><p class="simpara">
							List the active rules:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-all</strong></span>
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: enp0s1
  <span class="strong strong"><strong>sources: ipset:allowlist</strong></span>
  services: cockpit dhcpv6-client ssh
  ports:
  protocols:
  ...</pre><p class="simpara">
							The <code class="literal">sources</code> section of the command-line output provides insights to what origins of traffic (hostnames, interfaces, IP sets, subnets, and others) are permitted or denied access to a particular firewall zone. In this case, the IP addresses contained in the <code class="literal">allowlist</code> IP set are allowed to pass traffic through the firewall for the <code class="literal">public</code> zone.
						</p></li><li class="listitem"><p class="simpara">
							Explore the contents of your IP set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>cat /etc/firewalld/ipsets/allowlist.xml</strong></span>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ipset type="hash:ip"&gt;
  &lt;entry&gt;198.51.100.10&lt;/entry&gt;
&lt;/ipset&gt;</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Use a script or a security utility to fetch your threat intelligence feeds and update <code class="literal">allowlist</code> accordingly in an automated fashion.
						</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">firewall-cmd(1)</code> manual page
						</li></ul></div></section></section><section class="section" id="prioritizing-rich-rules_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.14. Prioritizing rich rules</h3></div></div></div><p class="_abstract _abstract">
				By default, rich rules are organized based on their rule action. For example, <code class="literal command">deny</code> rules have precedence over <code class="literal command">allow</code> rules. The <code class="literal parameter">priority</code> parameter in rich rules provides administrators fine-grained control over rich rules and their execution order. When using the <code class="literal">priority</code> parameter, rules are sorted first by their priority values in ascending order. When more rules have the same <code class="literal">priority</code>, their order is determined by the rule action, and if the action is also the same, the order may be undefined.
			</p><section class="section" id="how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules"><div class="titlepage"><div><div><h4 class="title">1.14.1. How the priority parameter organizes rules into different chains</h4></div></div></div><p class="_abstract _abstract">
					You can set the <code class="literal">priority</code> parameter in a rich rule to any number between <code class="literal">-32768</code> and <code class="literal">32767</code>, and lower numerical values have higher precedence.
				</p><p>
					The <code class="literal">firewalld</code> service organizes rules based on their priority value into different chains:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Priority lower than 0: the rule is redirected into a chain with the <code class="literal">_pre</code> suffix.
						</li><li class="listitem">
							Priority higher than 0: the rule is redirected into a chain with the <code class="literal">_post</code> suffix.
						</li><li class="listitem">
							Priority equals 0: based on the action, the rule is redirected into a chain with the <code class="literal">_log</code>, <code class="literal">_deny</code>, or <code class="literal">_allow</code> the action.
						</li></ul></div><p>
					Inside these sub-chains, <code class="literal">firewalld</code> sorts the rules based on their priority value.
				</p></section><section class="section" id="setting-the-priority-of-a-rich-rule_prioritizing-rich-rules"><div class="titlepage"><div><div><h4 class="title">1.14.2. Setting the priority of a rich rule</h4></div></div></div><p class="_abstract _abstract">
					The following is an example of how to create a rich rule that uses the <code class="literal">priority</code> parameter to log all traffic that is not allowed or denied by other rules. You can use this rule to flag unexpected traffic.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Add a rich rule with a very low precedence to log all traffic that has not been matched by other rules:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --add-rich-rule='rule priority=32767 log prefix="UNEXPECTED: " limit value="5/m"'</strong></span></pre><p class="simpara">
							The command additionally limits the number of log entries to <code class="literal">5</code> per minute.
						</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Display the <code class="literal">nftables</code> rule that the command in the previous step created:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list chain inet firewalld filter_IN_public_post</strong></span>
table inet firewalld {
  chain filter_IN_public_post {
    log prefix "UNEXPECTED: " limit rate 5/minute
  }
}</pre></li></ul></div></section></section><section class="section" id="configuring-firewall-lockdown_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.15. Configuring firewall lockdown</h3></div></div></div><p class="_abstract _abstract">
				Local applications or services are able to change the firewall configuration if they are running as <code class="literal systemitem">root</code> (for example, <span class="strong strong"><strong><span class="application application">libvirt</span></strong></span>). With this feature, the administrator can lock the firewall configuration so that either no applications or only applications that are added to the lockdown allow list are able to request firewall changes. The lockdown settings default to disabled. If enabled, the user can be sure that there are no unwanted configuration changes made to the firewall by local applications or services.
			</p><section class="section" id="configuring-lockdown-using-CLI_configuring-firewall-lockdown"><div class="titlepage"><div><div><h4 class="title">1.15.1. Configuring lockdown using CLI</h4></div></div></div><p class="_abstract _abstract">
					You can enable or disable the lockdown feature using the command line.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To query whether lockdown is enabled:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --query-lockdown</strong></span></pre></li><li class="listitem"><p class="simpara">
							Manage lockdown configuration by either:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Enabling lockdown:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --lockdown-on</strong></span></pre></li><li class="listitem"><p class="simpara">
									Disabling lockdown:
								</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --lockdown-off</strong></span></pre></li></ul></div></li></ol></div></section><section class="section" id="overview-of-lockdown-allowlist-configuration-files_configuring-firewall-lockdown"><div class="titlepage"><div><div><h4 class="title">1.15.2. Overview of lockdown allowlist configuration files</h4></div></div></div><p class="_abstract _abstract">
					The default allowlist configuration file contains the <code class="literal">NetworkManager</code> context and the default context of <code class="literal">libvirt</code>. The user ID 0 is also on the list.
				</p><p>
					The allowlist configuration files are stored in the <code class="literal">/etc/firewalld/</code> directory.
				</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
	&lt;whitelist&gt;
		&lt;command name="/usr/bin/python3 -s /usr/bin/firewall-config"/&gt;
	  &lt;selinux context="system_u:system_r:NetworkManager_t:s0"/&gt;
	  &lt;selinux context="system_u:system_r:virtd_t:s0-s0:c0.c1023"/&gt;
	  &lt;user id="0"/&gt;
	&lt;/whitelist&gt;</pre><p>
					Following is an example allowlist configuration file enabling all commands for the <code class="literal">firewall-cmd</code> utility, for a user called <span class="emphasis"><em>user</em></span> whose user ID is <code class="literal">815</code>:
				</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
	&lt;whitelist&gt;
	  &lt;command name="/usr/libexec/platform-python -s /bin/firewall-cmd*"/&gt;
	  &lt;selinux context="system_u:system_r:NetworkManager_t:s0"/&gt;
	  &lt;user id="815"/&gt;
	  &lt;user name="user"/&gt;
	&lt;/whitelist&gt;</pre><p>
					This example shows both <code class="literal">user id</code> and <code class="literal">user name</code>, but only one option is required. Python is the interpreter and is prepended to the command line.
				</p><p>
					In Red Hat Enterprise Linux, all utilities are placed in the <code class="literal">/usr/bin/</code> directory and the <code class="literal">/bin/</code> directory is sym-linked to the <code class="literal">/usr/bin/</code> directory. In other words, although the path for <code class="literal">firewall-cmd</code> when entered as <code class="literal">root</code> might resolve to <code class="literal">/bin/firewall-cmd</code>, <code class="literal">/usr/bin/firewall-cmd</code> can now be used. All new scripts should use the new location. But be aware that if scripts that run as <code class="literal">root</code> are written to use the <code class="literal">/bin/firewall-cmd</code> path, then that command path must be added in the allowlist in addition to the <code class="literal">/usr/bin/firewall-cmd</code> path traditionally used only for non-<code class="literal">root</code> users.
				</p><p>
					The <code class="literal">*</code> at the end of the name attribute of a command means that all commands that start with this string match. If the <code class="literal">*</code> is not there then the absolute command including arguments must match.
				</p></section></section><section class="section" id="assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.16. Enabling traffic forwarding between different interfaces or sources within a firewalld zone</h3></div></div></div><p class="_abstract _abstract">
				Intra-zone forwarding is a <code class="literal systemitem">firewalld</code> feature that enables traffic forwarding between interfaces or sources within a <code class="literal systemitem">firewalld</code> zone.
			</p><section class="section" id="con_the-difference-between-intra-zone-forwarding-and-zones-with-the-default-target-set-to-accept_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone"><div class="titlepage"><div><div><h4 class="title">1.16.1. The difference between intra-zone forwarding and zones with the default target set to ACCEPT</h4></div></div></div><p class="_abstract _abstract">
					With intra-zone forwarding enabled, the traffic within a single <code class="literal">firewalld</code> zone can flow from one interface or source to another interface or source. The zone specifies the trust level of interfaces and sources. If the trust level is the same, the traffic stays inside the same zone.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Enabling intra-zone forwarding in the default zone of <code class="literal">firewalld</code>, applies only to the interfaces and sources added to the current default zone.
					</p></div></rh-alert><p>
					<code class="literal">firewalld</code> uses different zones to manage incoming and outgoing traffic. Each zone has its own set of rules and behaviors. For example, the <code class="literal">trusted</code> zone, allows all forwarded traffic by default.
				</p><p>
					Other zones can have different default behaviors. In standard zones, forwarded traffic is typically dropped by default when the target of the zone is set to <code class="literal">default</code>.
				</p><p>
					To control how the traffic is forwarded between different interfaces or sources within a zone, make sure you understand and configure the target of the zone accordingly.
				</p></section><section class="section" id="proc_using-intra-zone-forwarding-to-forward-traffic-between-an-ethernet-and-wi-fi-network_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone"><div class="titlepage"><div><div><h4 class="title">1.16.2. Using intra-zone forwarding to forward traffic between an Ethernet and Wi-Fi network</h4></div></div></div><p class="_abstract _abstract">
					You can use intra-zone forwarding to forward traffic between interfaces and sources within the same <code class="literal">firewalld</code> zone. This feature brings the following benefits:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Seamless connectivity between wired and wireless devices (you can forward traffic between an Ethernet network connected to <code class="literal">enp1s0</code> and a Wi-Fi network connected to <code class="literal">wlp0s20</code>)
						</li><li class="listitem">
							Support for flexible work environments
						</li><li class="listitem">
							Shared resources that are accessible and used by multiple devices or users within a network (such as printers, databases, network-attached storage, and others)
						</li><li class="listitem">
							Efficient internal networking (such as smooth communication, reduced latency, resource accessibility, and others)
						</li></ul></div><p>
					You can enable this functionality for individual <code class="literal">firewalld</code> zones.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable packet forwarding in the kernel:
						</p><pre class="literallayout"># <span class="strong strong"><strong>echo "net.ipv4.ip_forward=1" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span>
# <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
							Ensure that interfaces between which you want to enable intra-zone forwarding are assigned only to the <code class="literal">internal</code> zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --get-active-zones</strong></span></pre></li><li class="listitem"><p class="simpara">
							If the interface is currently assigned to a zone other than <code class="literal">internal</code>, reassign it:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=internal --change-interface=<span class="emphasis"><em>interface_name</em></span> --permanent</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">enp1s0</code> and <code class="literal">wlp0s20</code> interfaces to the <code class="literal">internal</code> zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=internal --add-interface=enp1s0 --add-interface=wlp0s20</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable intra-zone forwarding:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=internal --add-forward</strong></span></pre></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
						The following Verification require that the <code class="literal">nmap-ncat</code> package is installed on both hosts.
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Log in to a host that is on the same network as the <code class="literal">enp1s0</code> interface of the host on which you enabled zone forwarding.
						</li><li class="listitem"><p class="simpara">
							Start an echo service with <code class="literal">ncat</code> to test connectivity:
						</p><pre class="literallayout"># <span class="strong strong"><strong>ncat -e /usr/bin/cat -l 12345</strong></span></pre></li><li class="listitem">
							Log in to a host that is in the same network as the <code class="literal">wlp0s20</code> interface.
						</li><li class="listitem"><p class="simpara">
							Connect to the echo server running on the host that is in the same network as the <code class="literal">enp1s0</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>ncat <span class="emphasis"><em>&lt;other_host&gt;</em></span> 12345</strong></span></pre></li><li class="listitem">
							Type something and press <span class="guibutton">Enter</span>. Verify the text is sent back.
						</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">firewalld.zones(5)</code> man page
						</li></ul></div></section></section><section class="section" id="assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld"><div class="titlepage"><div><div><h3 class="title">1.17. Configuring <code class="literal">firewalld</code> by using the RHEL system role</h3></div></div></div><p>
				You can use the <code class="literal">firewall</code> RHEL system role to configure settings of the <code class="literal">firewalld</code> service on multiple clients at once. This solution:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Provides an interface with efficient input settings.
					</li><li class="listitem">
						Keeps all intended <code class="literal">firewalld</code> parameters in one place.
					</li></ul></div><p>
				After you run the <code class="literal">firewall</code> role on the control node, the RHEL system role applies the <code class="literal">firewalld</code> parameters to the managed node immediately and makes them persistent across reboots.
			</p><section class="section" id="con_introduction-to-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles"><div class="titlepage"><div><div><h4 class="title">1.17.1. Introduction to the <code class="literal">firewall</code> RHEL system role</h4></div></div></div><p>
					RHEL system roles is a set of contents for the Ansible automation utility. This content together with the Ansible automation utility provides a consistent configuration interface to remotely manage multiple systems.
				</p><p>
					The <code class="literal">rhel-system-roles.firewall</code> role from the RHEL system roles was introduced for automated configurations of the <code class="literal">firewalld</code> service. The <code class="literal">rhel-system-roles</code> package contains this RHEL system role, and also the reference documentation.
				</p><p>
					To apply the <code class="literal">firewalld</code> parameters on one or more systems in an automated fashion, use the <code class="literal">firewall</code> RHEL system role variable in a playbook. A playbook is a list of one or more plays that is written in the text-based YAML format.
				</p><p>
					You can use an inventory file to define a set of systems that you want Ansible to configure.
				</p><p>
					With the <code class="literal">firewall</code> role you can configure many different <code class="literal">firewalld</code> parameters, for example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Zones.
						</li><li class="listitem">
							The services for which packets should be allowed.
						</li><li class="listitem">
							Granting, rejection, or dropping of traffic access to ports.
						</li><li class="listitem">
							Forwarding of ports or port ranges for a zone.
						</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md</code> file
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/rhel-system-roles/firewall/</code> directory
						</li><li class="listitem">
							<a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks.html">Working with playbooks</a>
						</li><li class="listitem">
							<a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html">How to build your inventory</a>
						</li></ul></div></section><section class="section" id="proc_resetting-the-firewalld-settings-using-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles"><div class="titlepage"><div><div><h4 class="title">1.17.2. Resetting the <code class="literal">firewalld</code> settings by using the <code class="literal">firewall</code> RHEL system role</h4></div></div></div><p class="_abstract _abstract">
					With the <code class="literal">firewall</code> RHEL system role, you can reset the <code class="literal">firewalld</code> settings to their default state. If you add the <code class="literal">previous:replaced</code> parameter to the variable list, the RHEL system role removes all existing user-defined settings and resets <code class="literal">firewalld</code> to the defaults. If you combine the <code class="literal">previous:replaced</code> parameter with other settings, the <code class="literal">firewall</code> role removes all existing settings before applying new ones.
				</p><p>
					Perform this procedure on the Ansible control node.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
						</li><li class="listitem">
							You are logged in to the control node as a user who can run playbooks on the managed nodes.
						</li><li class="listitem">
							The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
						</p><pre class="programlisting language-yaml">---
- name: Reset firewalld example
  hosts: managed-node-01.example.com
  tasks:
    - name: Reset firewalld
      ansible.builtin.include_role:
        name: rhel-system-roles.firewall
      vars:
        firewall:
          - previous: replaced</pre></li><li class="listitem"><p class="simpara">
							Validate the playbook syntax:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
							Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
						</p></li><li class="listitem"><p class="simpara">
							Run the playbook:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Run this command as <code class="literal">root</code> on the managed node to check all the zones:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-all-zones</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md</code> file
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/rhel-system-roles/firewall/</code> directory
						</li></ul></div></section><section class="section" id="proc_forwarding-incoming-traffic-from-one-local-port-to-a-different-local-port_assembly_configuring-firewalld-using-system-roles"><div class="titlepage"><div><div><h4 class="title">1.17.3. Forwarding incoming traffic in <code class="literal">firewalld</code> from one local port to a different local port by using the <code class="literal">firewall</code> RHEL system role</h4></div></div></div><p>
					With the <code class="literal">firewall</code> role you can remotely configure <code class="literal">firewalld</code> parameters with persisting effect on multiple managed hosts.
				</p><p>
					Perform this procedure on the Ansible control node.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
						</li><li class="listitem">
							You are logged in to the control node as a user who can run playbooks on the managed nodes.
						</li><li class="listitem">
							The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
						</p><pre class="programlisting language-yaml">---
- name: Configure firewalld
  hosts: managed-node-01.example.com
  tasks:
    - name: Forward incoming traffic on port 8080 to 443
      ansible.builtin.include_role:
        name: rhel-system-roles.firewall
      vars:
        firewall:
          - { forward_port: 8080/tcp;443;, state: enabled, runtime: true, permanent: true }</pre></li><li class="listitem"><p class="simpara">
							Validate the playbook syntax:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
							Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
						</p></li><li class="listitem"><p class="simpara">
							Run the playbook:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							On the managed host, display the <code class="literal">firewalld</code> settings:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-forward-ports</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md</code> file
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/rhel-system-roles/firewall/</code> directory
						</li></ul></div></section><section class="section" id="configuring-ports-using-system-roles_assembly_configuring-firewalld-using-system-roles"><div class="titlepage"><div><div><h4 class="title">1.17.4. Managing ports in <code class="literal">firewalld</code> by using the <code class="literal">firewall</code> RHEL system role</h4></div></div></div><p class="_abstract _abstract">
					You can use the <code class="literal">firewall</code> RHEL system role to open or close ports in the local firewall for incoming traffic and make the new configuration persist across reboots. For example you can configure the default zone to permit incoming traffic for the HTTPS service.
				</p><p>
					Perform this procedure on the Ansible control node.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
						</li><li class="listitem">
							You are logged in to the control node as a user who can run playbooks on the managed nodes.
						</li><li class="listitem">
							The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
						</p><pre class="programlisting language-yaml">---
- name: Configure firewalld
  hosts: managed-node-01.example.com
  tasks:
    - name: Allow incoming HTTPS traffic to the local host
      ansible.builtin.include_role:
        name: rhel-system-roles.firewall
      vars:
        firewall:
          - port: 443/tcp
            service: http
            state: enabled
            runtime: true
            permanent: true</pre><p class="simpara">
							The <code class="literal">permanent: true</code> option makes the new settings persistent across reboots.
						</p></li><li class="listitem"><p class="simpara">
							Validate the playbook syntax:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
							Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
						</p></li><li class="listitem"><p class="simpara">
							Run the playbook:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							On the managed node, verify that the <code class="literal">443/tcp</code> port associated with the <code class="literal">HTTPS</code> service is open:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --list-ports</strong></span>
443/tcp</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md</code> file
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/rhel-system-roles/firewall/</code> directory
						</li></ul></div></section><section class="section" id="configuring-a-dmz-firewalld-zone-by-using-the-firewalld-rhel-system-role_assembly_configuring-firewalld-using-system-roles"><div class="titlepage"><div><div><h4 class="title">1.17.5. Configuring a <code class="literal">firewalld</code> DMZ zone by using the <code class="literal">firewall</code> RHEL system role</h4></div></div></div><p>
					As a system administrator, you can use the <code class="literal">firewall</code> RHEL system role to configure a <code class="literal">dmz</code> zone on the <span class="strong strong"><strong>enp1s0</strong></span> interface to permit <code class="literal">HTTPS</code> traffic to the zone. In this way, you enable external users to access your web servers.
				</p><p>
					Perform this procedure on the Ansible control node.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles">You have prepared the control node and the managed nodes</a>
						</li><li class="listitem">
							You are logged in to the control node as a user who can run playbooks on the managed nodes.
						</li><li class="listitem">
							The account you use to connect to the managed nodes has <code class="literal">sudo</code> permissions on them.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a playbook file, for example <code class="literal">~/playbook.yml</code>, with the following content:
						</p><pre class="programlisting language-yaml">---
- name: Configure firewalld
  hosts: managed-node-01.example.com
  tasks:
    - name: Creating a DMZ with access to HTTPS port and masquerading for hosts in DMZ
      ansible.builtin.include_role:
        name: rhel-system-roles.firewall
      vars:
        firewall:
          - zone: dmz
            interface: enp1s0
            service: https
            state: enabled
            runtime: true
            permanent: true</pre></li><li class="listitem"><p class="simpara">
							Validate the playbook syntax:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --syntax-check ~/playbook.yml</strong></span></pre><p class="simpara">
							Note that this command only validates the syntax and does not protect against a wrong but valid configuration.
						</p></li><li class="listitem"><p class="simpara">
							Run the playbook:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook ~/playbook.yml</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							On the managed node, view detailed information about the <code class="literal">dmz</code> zone:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --zone=dmz --list-all</strong></span>
dmz (active)
  target: default
  icmp-block-inversion: no
  <span class="strong strong"><strong>interfaces: enp1s0</strong></span>
  sources:
  <span class="strong strong"><strong>services: https</strong></span> ssh
  ports:
  protocols:
  forward: no
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md</code> file
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/rhel-system-roles/firewall/</code> directory
						</li></ul></div></section></section></section><section class="chapter" id="getting-started-with-nftables_firewall-packet-filters"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Getting started with nftables</h2></div></div></div><p class="_abstract _abstract">
			The <code class="literal">nftables</code> framework classifies packets and it is the successor to the <code class="literal">iptables</code>, <code class="literal">ip6tables</code>, <code class="literal">arptables</code>, <code class="literal">ebtables</code>, and <code class="literal">ipset</code> utilities. It offers numerous improvements in convenience, features, and performance over previous packet-filtering tools, most notably:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Built-in lookup tables instead of linear processing
				</li><li class="listitem">
					A single framework for both the <code class="literal">IPv4</code> and <code class="literal">IPv6</code> protocols
				</li><li class="listitem">
					All rules applied atomically instead of fetching, updating, and storing a complete rule set
				</li><li class="listitem">
					Support for debugging and tracing in the rule set (<code class="literal">nftrace</code>) and monitoring trace events (in the <code class="literal">nft</code> tool)
				</li><li class="listitem">
					More consistent and compact syntax, no protocol-specific extensions
				</li><li class="listitem">
					A Netlink API for third-party applications
				</li></ul></div><p>
			The <code class="literal">nftables</code> framework uses tables to store chains. The chains contain individual rules for performing actions. The <code class="literal">nft</code> utility replaces all tools from the previous packet-filtering frameworks. You can use the <code class="literal">libnftnl</code> library for low-level interaction with <code class="literal">nftables</code> Netlink API through the <code class="literal">libmnl</code> library.
		</p><p>
			To display the effect of rule set changes, use the <code class="literal">nft list ruleset</code> command. Because these utilities add tables, chains, rules, sets, and other objects to the <code class="literal">nftables</code> rule set, be aware that <code class="literal">nftables</code> rule-set operations, such as the <code class="literal">nft flush ruleset</code> command, might affect rule sets installed using the <code class="literal">iptables</code> command.
		</p><section class="section" id="assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.1. Migrating from iptables to nftables</h3></div></div></div><p class="_abstract _abstract">
				If your firewall configuration still uses <code class="literal">iptables</code> rules, you can migrate your <code class="literal">iptables</code> rules to <code class="literal">nftables</code>.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					The <code class="literal">ipset</code> and <code class="literal">iptables-nft</code> packages have been deprecated in Red Hat Enterprise Linux 9. This includes deprecation of <code class="literal">nft-variants</code> such as <code class="literal">iptables</code>, <code class="literal">ip6tables</code>, <code class="literal">arptables</code>, and <code class="literal">ebtables</code> utilities. If you are using any of these tools, for example, because you upgraded from an earlier RHEL version, Red Hat recommends migrating to the <code class="literal">nft</code> command line tool provided by the <code class="literal">nftables</code> package.
				</p></div></rh-alert><section class="section" id="when-to-use-firewalld-nftables-or-iptables_assembly_migrating-from-iptables-to-nftables"><div class="titlepage"><div><div><h4 class="title">2.1.1. When to use firewalld, nftables, or iptables</h4></div></div></div><p class="_abstract _abstract">
					The following is a brief overview in which scenario you should use one of the following utilities:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">firewalld</code>: Use the <code class="literal">firewalld</code> utility for simple firewall use cases. The utility is easy to use and covers the typical use cases for these scenarios.
						</li><li class="listitem">
							<code class="literal">nftables</code>: Use the <code class="literal">nftables</code> utility to set up complex and performance-critical firewalls, such as for a whole network.
						</li><li class="listitem">
							<code class="literal">iptables</code>: The <code class="literal">iptables</code> utility on Red Hat Enterprise Linux uses the <code class="literal">nf_tables</code> kernel API instead of the <code class="literal">legacy</code> back end. The <code class="literal">nf_tables</code> API provides backward compatibility so that scripts that use <code class="literal">iptables</code> commands still work on Red Hat Enterprise Linux. For new firewall scripts, Red Hat recommends to use <code class="literal">nftables</code>.
						</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						To prevent the different firewall-related services (<code class="literal">firewalld</code>, <code class="literal">nftables</code>, or <code class="literal">iptables</code>) from influencing each other, run only one of them on a RHEL host, and disable the other services.
					</p></div></rh-alert></section><section class="section" id="proc_converting-iptables-and-ip6tables-rule-sets-to-nftables_assembly_migrating-from-iptables-to-nftables"><div class="titlepage"><div><div><h4 class="title">2.1.2. Converting iptables and ip6tables rule sets to nftables</h4></div></div></div><p>
					Use the <code class="literal">iptables-restore-translate</code> and <code class="literal">ip6tables-restore-translate</code> utilities to translate <code class="literal">iptables</code> and <code class="literal">ip6tables</code> rule sets to <code class="literal">nftables</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">nftables</code> and <code class="literal">iptables</code> packages are installed.
						</li><li class="listitem">
							The system has <code class="literal">iptables</code> and <code class="literal">ip6tables</code> rules configured.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Write the <code class="literal">iptables</code> and <code class="literal">ip6tables</code> rules to a file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>iptables-save &gt;/root/iptables.dump</strong></span>
# <span class="strong strong"><strong>ip6tables-save &gt;/root/ip6tables.dump</strong></span></pre></li><li class="listitem"><p class="simpara">
							Convert the dump files to <code class="literal">nftables</code> instructions:
						</p><pre class="literallayout"># <span class="strong strong"><strong>iptables-restore-translate -f /root/iptables.dump &gt; /etc/nftables/ruleset-migrated-from-iptables.nft</strong></span>
# <span class="strong strong"><strong>ip6tables-restore-translate -f /root/ip6tables.dump &gt; /etc/nftables/ruleset-migrated-from-ip6tables.nft</strong></span></pre></li><li class="listitem">
							Review and, if needed, manually update the generated <code class="literal">nftables</code> rules.
						</li><li class="listitem"><p class="simpara">
							To enable the <code class="literal">nftables</code> service to load the generated files, add the following to the <code class="literal">/etc/sysconfig/nftables.conf</code> file:
						</p><pre class="literallayout"><span class="strong strong"><strong>include "/etc/nftables/ruleset-migrated-from-iptables.nft"</strong></span>
<span class="strong strong"><strong>include "/etc/nftables/ruleset-migrated-from-ip6tables.nft"</strong></span></pre></li><li class="listitem"><p class="simpara">
							Stop and disable the <code class="literal">iptables</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl disable --now iptables</strong></span></pre><p class="simpara">
							If you used a custom script to load the <code class="literal">iptables</code> rules, ensure that the script no longer starts automatically and reboot to flush all tables.
						</p></li><li class="listitem"><p class="simpara">
							Enable and start the <code class="literal">nftables</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now nftables</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Display the <code class="literal">nftables</code> rule set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list ruleset</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts" title="2.2.6. Automatically loading nftables rules when the system boots">Automatically loading nftables rules when the system boots</a>
						</li></ul></div></section><section class="section" id="proc_converting-single-iptables-and-ip6tables-rules-to-nftables_assembly_migrating-from-iptables-to-nftables"><div class="titlepage"><div><div><h4 class="title">2.1.3. Converting single iptables and ip6tables rules to nftables</h4></div></div></div><p>
					Red Hat Enterprise Linux provides the <code class="literal">iptables-translate</code> and <code class="literal">ip6tables-translate</code> utilities to convert an <code class="literal">iptables</code> or <code class="literal">ip6tables</code> rule into the equivalent one for <code class="literal">nftables</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">nftables</code> package is installed.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Use the <code class="literal">iptables-translate</code> or <code class="literal">ip6tables-translate</code> utility instead of <code class="literal">iptables</code> or <code class="literal">ip6tables</code> to display the corresponding <code class="literal">nftables</code> rule, for example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>iptables-translate <span class="emphasis"><em>-A INPUT -s 192.0.2.0/24 -j ACCEPT</em></span></strong></span>
<span class="emphasis"><em>nft add rule ip filter INPUT ip saddr 192.0.2.0/24 counter accept</em></span></pre><p class="simpara">
							Note that some extensions lack translation support. In these cases, the utility prints the untranslated rule prefixed with the <code class="literal">#</code> sign, for example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>iptables-translate <span class="emphasis"><em>-A INPUT -j CHECKSUM --checksum-fill</em></span></strong></span>
nft # <span class="emphasis"><em>-A INPUT -j CHECKSUM --checksum-fill</em></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">iptables-translate --help</code>
						</li></ul></div></section><section class="section" id="ref_comparison-of-common-iptables-and-nftables-commands_assembly_migrating-from-iptables-to-nftables"><div class="titlepage"><div><div><h4 class="title">2.1.4. Comparison of common iptables and nftables commands</h4></div></div></div><p class="_abstract _abstract">
					The following is a comparison of common <code class="literal">iptables</code> and <code class="literal">nftables</code> commands:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Listing all rules:
						</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140107956273296" scope="col">iptables</th><th align="left" valign="top" id="idm140107956272208" scope="col">nftables</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140107956273296"> <p>
											<code class="literal">iptables-save</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140107956272208"> <p>
											<code class="literal">nft list ruleset</code>
										</p>
										 </td></tr></tbody></table></rh-table></li><li class="listitem"><p class="simpara">
							Listing a certain table and chain:
						</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--><col style="width: 50%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140107956681840" scope="col">iptables</th><th align="left" valign="top" id="idm140107956680752" scope="col">nftables</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140107956681840"> <p>
											<code class="literal">iptables -L</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140107956680752"> <p>
											<code class="literal">nft list table ip filter</code>
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140107956681840"> <p>
											<code class="literal">iptables -L INPUT</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140107956680752"> <p>
											<code class="literal">nft list chain ip filter INPUT</code>
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140107956681840"> <p>
											<code class="literal">iptables -t nat -L PREROUTING</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140107956680752"> <p>
											<code class="literal">nft list chain ip nat PREROUTING</code>
										</p>
										 </td></tr></tbody></table></rh-table><p class="simpara">
							The <code class="literal">nft</code> command does not pre-create tables and chains. They exist only if a user created them manually.
						</p><p class="simpara">
							Listing rules generated by firewalld:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list table inet firewalld</strong></span>
# <span class="strong strong"><strong>nft list table ip firewalld</strong></span>
# <span class="strong strong"><strong>nft list table ip6 firewalld</strong></span></pre></li></ul></div></section></section><section class="section" id="writing-and-executing-nftables-scripts_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.2. Writing and executing nftables scripts</h3></div></div></div><p class="_abstract _abstract">
				The major benefit of using the <code class="literal">nftables</code> framework is that the execution of scripts is atomic. This means that the system either applies the whole script or prevents the execution if an error occurs. This guarantees that the firewall is always in a consistent state.
			</p><p>
				Additionally, with the <code class="literal">nftables</code> script environment, you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Add comments
					</li><li class="listitem">
						Define variables
					</li><li class="listitem">
						Include other rule-set files
					</li></ul></div><p>
				When you install the <code class="literal">nftables</code> package, Red Hat Enterprise Linux automatically creates <code class="literal">*.nft</code> scripts in the <code class="literal">/etc/nftables/</code> directory. These scripts contain commands that create tables and empty chains for different purposes.
			</p><section class="section" id="supported-nftables-script-formats_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h4 class="title">2.2.1. Supported nftables script formats</h4></div></div></div><p class="_abstract _abstract">
					You can write scripts in the <code class="literal">nftables</code> scripting environment in the following formats:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The same format as the <code class="literal">nft list ruleset</code> command displays the rule set:
						</p><pre class="programlisting language-bash">#!/usr/sbin/nft -f

# Flush the rule set
flush ruleset

table inet example_table {
  chain example_chain {
    # Chain for incoming packets that drops all packets that
    # are not explicitly allowed by any rule in this chain
    type filter hook input priority 0; policy drop;

    # Accept connections to port 22 (ssh)
    tcp dport ssh accept
  }
}</pre></li><li class="listitem"><p class="simpara">
							The same syntax as for <code class="literal">nft</code> commands:
						</p><pre class="programlisting language-bash">#!/usr/sbin/nft -f

# Flush the rule set
flush ruleset

# Create a table
add table inet example_table

# Create a chain for incoming packets that drops all packets
# that are not explicitly allowed by any rule in this chain
add chain inet example_table example_chain { type filter hook input priority 0 ; policy drop ; }

# Add a rule that accepts connections to port 22 (ssh)
add rule inet example_table example_chain tcp dport ssh accept</pre></li></ul></div></section><section class="section" id="running-nftables-scripts_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h4 class="title">2.2.2. Running nftables scripts</h4></div></div></div><p class="_abstract _abstract">
					You can run an <code class="literal">nftables</code> script either by passing it to the <code class="literal">nft</code> utility or by executing the script directly.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To run an <code class="literal">nftables</code> script by passing it to the <code class="literal">nft</code> utility, enter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -f <span class="emphasis"><em>/etc/nftables/&lt;example_firewall_script&gt;.nft</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							To run an <code class="literal">nftables</code> script directly:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									For the single time that you perform this:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
											Ensure that the script starts with the following shebang sequence:
										</p><pre class="programlisting language-bash">#!/usr/sbin/nft -f</pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
												If you omit the <code class="literal">-f</code> parameter, the <code class="literal">nft</code> utility does not read the script and displays: <code class="literal">Error: syntax error, unexpected newline, expecting string</code>.
											</p></div></rh-alert></li><li class="listitem"><p class="simpara">
											Optional: Set the owner of the script to <code class="literal">root</code>:
										</p><pre class="literallayout"># <span class="strong strong"><strong>chown root <span class="emphasis"><em>/etc/nftables/&lt;example_firewall_script&gt;.nft</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
											Make the script executable for the owner:
										</p><pre class="literallayout"># <span class="strong strong"><strong>chmod u+x <span class="emphasis"><em>/etc/nftables/&lt;example_firewall_script&gt;.nft</em></span></strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
									Run the script:
								</p><pre class="literallayout"># <span class="strong strong"><strong><span class="emphasis"><em>/etc/nftables/&lt;example_firewall_script&gt;.nft</em></span></strong></span></pre><p class="simpara">
									If no output is displayed, the system executed the script successfully.
								</p></li></ol></div></li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						Even if <code class="literal">nft</code> executes the script successfully, incorrectly placed rules, missing parameters, or other problems in the script can cause that the firewall behaves not as expected.
					</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">chown(1)</code> man page
						</li><li class="listitem">
							<code class="literal">chmod(1)</code> man page
						</li><li class="listitem">
							<a class="link" href="#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts" title="2.2.6. Automatically loading nftables rules when the system boots">Automatically loading nftables rules when the system boots</a>
						</li></ul></div></section><section class="section" id="using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h4 class="title">2.2.3. Using comments in nftables scripts</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">nftables</code> scripting environment interprets everything to the right of a <code class="literal">#</code> character to the end of a line as a comment.
				</p><p>
					Comments can start at the beginning of a line, or next to a command:
				</p><pre class="programlisting language-bash">...
# Flush the rule set
flush ruleset

add table inet example_table  # Create a table
...</pre></section><section class="section" id="using-variables-in-nftables-script_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h4 class="title">2.2.4. Using variables in nftables script</h4></div></div></div><p class="_abstract _abstract">
					To define a variable in an <code class="literal">nftables</code> script, use the <code class="literal">define</code> keyword. You can store single values and anonymous sets in a variable. For more complex scenarios, use sets or verdict maps.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Variables with a single value</span></dt><dd><p class="simpara">
								The following example defines a variable named <code class="literal">INET_DEV</code> with the value <code class="literal">enp1s0</code>:
							</p><pre class="screen">define INET_DEV = <span class="emphasis"><em>enp1s0</em></span></pre><p class="simpara">
								You can use the variable in the script by entering the <code class="literal">$</code> sign followed by the variable name:
							</p><pre class="screen">...
add rule inet example_table example_chain iifname $INET_DEV tcp dport ssh accept
...</pre></dd><dt><span class="term">Variables that contain an anonymous set</span></dt><dd><p class="simpara">
								The following example defines a variable that contains an anonymous set:
							</p><pre class="screen">define DNS_SERVERS = { <span class="emphasis"><em>192.0.2.1</em></span>, <span class="emphasis"><em>192.0.2.2</em></span> }</pre><p class="simpara">
								You can use the variable in the script by writing the <code class="literal">$</code> sign followed by the variable name:
							</p><pre class="screen">add rule inet example_table example_chain ip daddr $DNS_SERVERS accept</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									Curly braces have special semantics when you use them in a rule because they indicate that the variable represents a set.
								</p></div></rh-alert></dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_firewalls_and_packet_filters/getting-started-with-nftables_firewall-packet-filters#using-sets-in-nftables-commands_getting-started-with-nftables">Using sets in nftables commands</a>
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_firewalls_and_packet_filters/getting-started-with-nftables_firewall-packet-filters#using-verdict-maps-in-nftables-commands_getting-started-with-nftables">Using verdict maps in nftables commands</a>
						</li></ul></div></section><section class="section" id="including-files-in-nftables-scripts_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h4 class="title">2.2.5. Including files in nftables scripts</h4></div></div></div><p class="_abstract _abstract">
					In the <code class="literal">nftables</code> scripting environment, you can include other scripts by using the <code class="literal">include</code> statement.
				</p><p>
					If you specify only a file name without an absolute or relative path, <code class="literal">nftables</code> includes files from the default search path, which is set to <code class="literal">/etc</code> on Red Hat Enterprise Linux.
				</p><div class="example" id="idm140107956256224"><p class="title"><strong>Example 2.1. Including files from the default search directory</strong></p><div class="example-contents"><p>
						To include a file from the default search directory:
					</p><pre class="screen">include "example.nft"</pre></div></div><div class="example" id="idm140107956254368"><p class="title"><strong>Example 2.2. Including all *.nft files from a directory</strong></p><div class="example-contents"><p>
						To include all files ending with <code class="literal">*.nft</code> that are stored in the <code class="literal">/etc/nftables/rulesets/</code> directory:
					</p><pre class="screen">include "/etc/nftables/rulesets/*.nft"</pre><p>
						Note that the <code class="literal">include</code> statement does not match files beginning with a dot.
					</p></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							The <code class="literal">Include files</code> section in the <code class="literal">nft(8)</code> man page
						</li></ul></div></section><section class="section" id="automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h4 class="title">2.2.6. Automatically loading nftables rules when the system boots</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">nftables</code> systemd service loads firewall scripts that are included in the <code class="literal">/etc/sysconfig/nftables.conf</code> file.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">nftables</code> scripts are stored in the <code class="literal">/etc/nftables/</code> directory.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal">/etc/sysconfig/nftables.conf</code> file.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If you modified the <code class="literal">*.nft</code> scripts that were created in <code class="literal">/etc/nftables/</code> with the installation of the <code class="literal">nftables</code> package, uncomment the <code class="literal">include</code> statement for these scripts.
								</li><li class="listitem"><p class="simpara">
									If you wrote new scripts, add <code class="literal">include</code> statements to include these scripts. For example, to load the <code class="literal">/etc/nftables/<span class="emphasis"><em>example</em></span>.nft</code> script when the <code class="literal">nftables</code> service starts, add:
								</p><pre class="screen">include "/etc/nftables/_example_.nft"</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Optional: Start the <code class="literal">nftables</code> service to load the firewall rules without rebooting the system:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl start nftables</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable the <code class="literal">nftables</code> service.
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable nftables</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#supported-nftables-script-formats_writing-and-executing-nftables-scripts" title="2.2.1. Supported nftables script formats">Supported nftables script formats</a>
						</li></ul></div></section></section><section class="section" id="assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.3. Creating and managing nftables tables, chains, and rules</h3></div></div></div><p class="_abstract _abstract">
				You can display <code class="literal">nftables</code> rule sets and manage them.
			</p><section class="section" id="con_basics-of-nftables-tables_assembly_creating-and-managing-nftables-tables-chains-and-rules"><div class="titlepage"><div><div><h4 class="title">2.3.1. Basics of nftables tables</h4></div></div></div><p>
					A table in <code class="literal">nftables</code> is a namespace that contains a collection of chains, rules, sets, and other objects.
				</p><p>
					Each table must have an address family assigned. The address family defines the packet types that this table processes. You can set one of the following address families when you create a table:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ip</code>: Matches only IPv4 packets. This is the default if you do not specify an address family.
						</li><li class="listitem">
							<code class="literal">ip6</code>: Matches only IPv6 packets.
						</li><li class="listitem">
							<code class="literal">inet</code>: Matches both IPv4 and IPv6 packets.
						</li><li class="listitem">
							<code class="literal">arp</code>: Matches IPv4 address resolution protocol (ARP) packets.
						</li><li class="listitem">
							<code class="literal">bridge</code>: Matches packets that pass through a bridge device.
						</li><li class="listitem">
							<code class="literal">netdev</code>: Matches packets from ingress.
						</li></ul></div><p>
					If you want to add a table, the format to use depends on your firewall script:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							In scripts in native syntax, use:
						</p><pre class="literallayout"><span class="strong strong"><strong>table <span class="emphasis"><em>&lt;table_address_family&gt;</em></span> <span class="emphasis"><em>&lt;table_name&gt;</em></span> {</strong></span>
<span class="strong strong"><strong>}</strong></span></pre></li><li class="listitem"><p class="simpara">
							In shell scripts, use:
						</p><pre class="literallayout"><span class="strong strong"><strong>nft add table <span class="emphasis"><em>&lt;table_address_family&gt;</em></span> <span class="emphasis"><em>&lt;table_name&gt;</em></span></strong></span></pre></li></ul></div></section><section class="section" id="con_basics-of-nftables-chains_assembly_creating-and-managing-nftables-tables-chains-and-rules"><div class="titlepage"><div><div><h4 class="title">2.3.2. Basics of nftables chains</h4></div></div></div><p>
					Tables consist of chains which in turn are containers for rules. The following two rule types exists:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Base chain</strong></span>: You can use base chains as an entry point for packets from the networking stack.
						</li><li class="listitem">
							<span class="strong strong"><strong>Regular chain</strong></span>: You can use regular chains as a <code class="literal">jump</code> target to better organize rules.
						</li></ul></div><p>
					If you want to add a base chain to a table, the format to use depends on your firewall script:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							In scripts in native syntax, use:
						</p><pre class="literallayout">table <span class="emphasis"><em>&lt;table_address_family&gt;</em></span> <span class="emphasis"><em>&lt;table_name&gt;</em></span> {
  <span class="strong strong"><strong>chain <span class="emphasis"><em>&lt;chain_name&gt;</em></span> {</strong></span>
    <span class="strong strong"><strong>type <span class="emphasis"><em>&lt;type&gt;</em></span> hook <span class="emphasis"><em>&lt;hook&gt;</em></span> priority <span class="emphasis"><em>&lt;priority&gt;</em></span></strong></span>
    <span class="strong strong"><strong>policy <span class="emphasis"><em>&lt;policy&gt;</em></span> ;</strong></span>
  <span class="strong strong"><strong>}</strong></span>
}</pre></li><li class="listitem"><p class="simpara">
							In shell scripts, use:
						</p><pre class="literallayout"><span class="strong strong"><strong>nft add chain <span class="emphasis"><em>&lt;table_address_family&gt;</em></span> <span class="emphasis"><em>&lt;table_name&gt;</em></span> <span class="emphasis"><em>&lt;chain_name&gt;</em></span> { type <span class="emphasis"><em>&lt;type&gt;</em></span> hook <span class="emphasis"><em>&lt;hook&gt;</em></span> priority <span class="emphasis"><em>&lt;priority&gt;</em></span> \; policy <span class="emphasis"><em>&lt;policy&gt;</em></span> \; }</strong></span></pre><p class="simpara">
							To avoid that the shell interprets the semicolons as the end of the command, place the <code class="literal">\</code> escape character in front of the semicolons.
						</p></li></ul></div><p>
					Both examples create <span class="strong strong"><strong>base chains</strong></span>. To create a <span class="strong strong"><strong>regular chain</strong></span>, do not set any parameters in the curly brackets.
				</p><h5 id="chain_types">Chain types</h5><p>
					The following are the chain types and an overview with which address families and hooks you can use them:
				</p><rh-table><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 11%; " class="col_1"><!--Empty--><col style="width: 22%; " class="col_2"><!--Empty--><col style="width: 22%; " class="col_3"><!--Empty--><col style="width: 44%; " class="col_4"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140107965565584" scope="col">Type</th><th align="left" valign="top" id="idm140107965564496" scope="col">Address families</th><th align="left" valign="top" id="idm140107965563408" scope="col">Hooks</th><th align="left" valign="top" id="idm140107965562320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140107965565584"> <p>
									<code class="literal">filter</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965564496"> <p>
									all
								</p>
								 </td><td align="left" valign="top" headers="idm140107965563408"> <p>
									all
								</p>
								 </td><td align="left" valign="top" headers="idm140107965562320"> <p>
									Standard chain type
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107965565584"> <p>
									<code class="literal">nat</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965564496"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965563408"> <p>
									<code class="literal">prerouting</code>, <code class="literal">input</code>, <code class="literal">output</code>, <code class="literal">postrouting</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965562320"> <p>
									Chains of this type perform native address translation based on connection tracking entries. Only the first packet traverses this chain type.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107965565584"> <p>
									<code class="literal">route</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965564496"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965563408"> <p>
									<code class="literal">output</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107965562320"> <p>
									Accepted packets that traverse this chain type cause a new route lookup if relevant parts of the IP header have changed.
								</p>
								 </td></tr></tbody></table></rh-table><h5 id="chain_priorities">Chain priorities</h5><p>
					The priority parameter specifies the order in which packets traverse chains with the same hook value. You can set this parameter to an integer value or use a standard priority name.
				</p><p>
					The following matrix is an overview of the standard priority names and their numeric values, and with which address families and hooks you can use them:
				</p><rh-table><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 20%; " class="col_2"><!--Empty--><col style="width: 30%; " class="col_3"><!--Empty--><col style="width: 30%; " class="col_4"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140107955214304" scope="col">Textual value</th><th align="left" valign="top" id="idm140107955213216" scope="col">Numeric value</th><th align="left" valign="top" id="idm140107955212128" scope="col">Address families</th><th align="left" valign="top" id="idm140107955211040" scope="col">Hooks</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">raw</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">-300</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									all
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">mangle</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">-150</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									all
								</p>
								 </td></tr><tr><td rowspan="2" align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">dstnat</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">-100</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									<code class="literal">prerouting</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">-300</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">bridge</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									<code class="literal">prerouting</code>
								</p>
								 </td></tr><tr><td rowspan="2" align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">filter</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">0</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>, <code class="literal">arp</code>, <code class="literal">netdev</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									all
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">-200</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">bridge</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									all
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">security</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">50</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									all
								</p>
								 </td></tr><tr><td rowspan="2" align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">srcnat</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">100</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">ip</code>, <code class="literal">ip6</code>, <code class="literal">inet</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									<code class="literal">postrouting</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">300</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">bridge</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									<code class="literal">postrouting</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140107955214304"> <p>
									<code class="literal">out</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955213216"> <p>
									<code class="literal">100</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955212128"> <p>
									<code class="literal">bridge</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140107955211040"> <p>
									<code class="literal">output</code>
								</p>
								 </td></tr></tbody></table></rh-table><h5 id="chain_policies">Chain policies</h5><p>
					The chain policy defines whether <code class="literal">nftables</code> should accept or drop packets if rules in this chain do not specify any action. You can set one of the following policies in a chain:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">accept</code> (default)
						</li><li class="listitem">
							<code class="literal">drop</code>
						</li></ul></div></section><section class="section" id="con_basics-of-nftables-rules_assembly_creating-and-managing-nftables-tables-chains-and-rules"><div class="titlepage"><div><div><h4 class="title">2.3.3. Basics of nftables rules</h4></div></div></div><p>
					Rules define actions to perform on packets that pass a chain that contains this rule. If the rule also contains matching expressions, <code class="literal">nftables</code> performs the actions only if all previous expressions apply.
				</p><p>
					If you want to add a rule to a chain, the format to use depends on your firewall script:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							In scripts in native syntax, use:
						</p><pre class="literallayout">table <span class="emphasis"><em>&lt;table_address_family&gt;</em></span> <span class="emphasis"><em>&lt;table_name&gt;</em></span> {
  chain <span class="emphasis"><em>&lt;chain_name&gt;</em></span> {
    type <span class="emphasis"><em>&lt;type&gt;</em></span> hook <span class="emphasis"><em>&lt;hook&gt;</em></span> priority <span class="emphasis"><em>&lt;priority&gt;</em></span> ; policy <span class="emphasis"><em>&lt;policy&gt;</em></span> ;
      <span class="strong strong"><strong><span class="emphasis"><em>&lt;rule&gt;</em></span></strong></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							In shell scripts, use:
						</p><pre class="literallayout"><span class="strong strong"><strong>nft add rule <span class="emphasis"><em>&lt;table_address_family&gt;</em></span> <span class="emphasis"><em>&lt;table_name&gt;</em></span> <span class="emphasis"><em>&lt;chain_name&gt;</em></span> <span class="emphasis"><em>&lt;rule&gt;</em></span></strong></span></pre><p class="simpara">
							This shell command appends the new rule at the end of the chain. If you prefer to add a rule at the beginning of the chain, use the <code class="literal">nft insert</code> command instead of <code class="literal">nft add</code>.
						</p></li></ul></div></section><section class="section" id="proc_managing-tables-chains-and-rules-using-nft-commands_assembly_creating-and-managing-nftables-tables-chains-and-rules"><div class="titlepage"><div><div><h4 class="title">2.3.4. Managing tables, chains, and rules using nft commands</h4></div></div></div><p>
					To manage an <code class="literal">nftables</code> firewall on the command line or in shell scripts, use the <code class="literal">nft</code> utility.
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						The commands in this procedure do not represent a typical workflow and are not optimized. This procedure only demonstrates how to use <code class="literal">nft</code> commands to manage tables, chains, and rules in general.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table named <code class="literal">nftables_svc</code> with the <code class="literal">inet</code> address family so that the table can process both IPv4 and IPv6 packets:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a base chain named <code class="literal">INPUT</code>, that processes incoming network traffic, to the <code class="literal">inet nftables_svc</code> table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> { type <span class="emphasis"><em>filter</em></span> hook <span class="emphasis"><em>input</em></span> priority <span class="emphasis"><em>filter</em></span> \; policy <span class="emphasis"><em>accept</em></span> \; }</strong></span></pre><p class="simpara">
							To avoid that the shell interprets the semicolons as the end of the command, escape the semicolons using the <code class="literal">\</code> character.
						</p></li><li class="listitem"><p class="simpara">
							Add rules to the <code class="literal">INPUT</code> chain. For example, allow incoming TCP traffic on port 22 and 443, and, as the last rule of the <code class="literal">INPUT</code> chain, reject other incoming traffic with an Internet Control Message Protocol (ICMP) port unreachable message:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> tcp dport 22 accept</strong></span>
# <span class="strong strong"><strong>nft add rule inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> tcp dport 443 accept</strong></span>
# <span class="strong strong"><strong>nft add rule inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> reject with icmpx type port-unreachable</strong></span></pre><p class="simpara">
							If you enter the <code class="literal">nft add rule</code> commands as shown, <code class="literal">nft</code> adds the rules in the same order to the chain as you run the commands.
						</p></li><li class="listitem"><p class="simpara">
							Display the current rule set including handles:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -a list table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span>
table inet <span class="emphasis"><em>nftables_svc</em></span> { # handle <span class="emphasis"><em>13</em></span>
  chain <span class="emphasis"><em>INPUT</em></span> { # handle <span class="emphasis"><em>1</em></span>
    type <span class="emphasis"><em>filter</em></span> hook <span class="emphasis"><em>input</em></span> priority <span class="emphasis"><em>filter</em></span>; policy <span class="emphasis"><em>accept</em></span>;
    tcp dport 22 accept # handle <span class="emphasis"><em>2</em></span>
    tcp dport 443 accept # handle <span class="emphasis"><em>3</em></span>
    reject # handle <span class="emphasis"><em>4</em></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Insert a rule before the existing rule with handle 3. For example, to insert a rule that allows TCP traffic on port 636, enter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft insert rule inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> position 3 tcp dport 636 accept</strong></span></pre></li><li class="listitem"><p class="simpara">
							Append a rule after the existing rule with handle 3. For example, to insert a rule that allows TCP traffic on port 80, enter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> position <span class="emphasis"><em>3</em></span> tcp dport 80 accept</strong></span></pre></li><li class="listitem"><p class="simpara">
							Display the rule set again with handles. Verify that the later added rules have been added to the specified positions:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -a list table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span>
table inet <span class="emphasis"><em>nftables_svc</em></span> { # handle <span class="emphasis"><em>13</em></span>
  chain <span class="emphasis"><em>INPUT</em></span> { # handle <span class="emphasis"><em>1</em></span>
    type <span class="emphasis"><em>filter</em></span> hook <span class="emphasis"><em>input</em></span> priority <span class="emphasis"><em>filter</em></span>; policy <span class="emphasis"><em>accept</em></span>;
    tcp dport 22 accept # handle <span class="emphasis"><em>2</em></span>
    tcp dport 636 accept # handle <span class="emphasis"><em>5</em></span>
    tcp dport 443 accept # handle <span class="emphasis"><em>3</em></span>
    tcp dport 80 accept # handle <span class="emphasis"><em>6</em></span>
    reject # handle <span class="emphasis"><em>4</em></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Remove the rule with handle 6:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft delete rule inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span> handle 6</strong></span></pre><p class="simpara">
							To remove a rule, you must specify the handle.
						</p></li><li class="listitem"><p class="simpara">
							Display the rule set, and verify that the removed rule is no longer present:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -a list table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span>
table inet <span class="emphasis"><em>nftables_svc</em></span> { # handle <span class="emphasis"><em>13</em></span>
  chain <span class="emphasis"><em>INPUT</em></span> { # handle <span class="emphasis"><em>1</em></span>
    type <span class="emphasis"><em>filter</em></span> hook <span class="emphasis"><em>input</em></span> priority <span class="emphasis"><em>filter</em></span>; policy <span class="emphasis"><em>accept</em></span>;
    tcp dport 22 accept # handle <span class="emphasis"><em>2</em></span>
    tcp dport 636 accept # handle <span class="emphasis"><em>5</em></span>
    tcp dport 443 accept # handle <span class="emphasis"><em>3</em></span>
    reject # handle <span class="emphasis"><em>4</em></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Remove all remaining rules from the <code class="literal">INPUT</code> chain:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft flush chain inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Display the rule set, and verify that the <code class="literal">INPUT</code> chain is empty:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span>
table inet <span class="emphasis"><em>nftables_svc</em></span> {
  chain INPUT {
    type filter hook input priority filter; policy accept
  }
}</pre></li><li class="listitem"><p class="simpara">
							Delete the <code class="literal">INPUT</code> chain:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft delete chain inet <span class="emphasis"><em>nftables_svc</em></span> <span class="emphasis"><em>INPUT</em></span></strong></span></pre><p class="simpara">
							You can also use this command to delete chains that still contain rules.
						</p></li><li class="listitem"><p class="simpara">
							Display the rule set, and verify that the <code class="literal">INPUT</code> chain has been deleted:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span>
table inet <span class="emphasis"><em>nftables_svc</em></span> {
}</pre></li><li class="listitem"><p class="simpara">
							Delete the <code class="literal">nftables_svc</code> table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft delete table inet <span class="emphasis"><em>nftables_svc</em></span></strong></span></pre><p class="simpara">
							You can also use this command to delete tables that still contain chains.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								To delete the entire rule set, use the <code class="literal">nft flush ruleset</code> command instead of manually deleting all rules, chains, and tables in separate commands.
							</p></div></rh-alert></li></ol></div><div class="_additional-resources _additional-resources"><p class="title"><strong>Additional resources</strong></p><p>
						<code class="literal">nft(8)</code> man page
					</p></div></section></section><section class="section" id="configuring-nat-using-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.4. Configuring NAT using nftables</h3></div></div></div><p class="_abstract _abstract">
				With <code class="literal">nftables</code>, you can configure the following network address translation (NAT) types:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Masquerading
					</li><li class="listitem">
						Source NAT (SNAT)
					</li><li class="listitem">
						Destination NAT (DNAT)
					</li><li class="listitem">
						Redirect
					</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					You can only use real interface names in <code class="literal">iifname</code> and <code class="literal">oifname</code> parameters, and alternative names (<code class="literal">altname</code>) are not supported.
				</p></div></rh-alert><section class="section" id="nat-types_configuring-nat-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.4.1. NAT types</h4></div></div></div><p class="_abstract _abstract">
					These are the different network address translation (NAT) types:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Masquerading and source NAT (SNAT)</span></dt><dd><p class="simpara">
								Use one of these NAT types to change the source IP address of packets. For example, Internet Service Providers (ISPs) do not route private IP ranges, such as <code class="literal">10.0.0.0/8</code>. If you use private IP ranges in your network and users should be able to reach servers on the internet, map the source IP address of packets from these ranges to a public IP address.
							</p><p class="simpara">
								Masquerading and SNAT are very similar to one another. The differences are:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Masquerading automatically uses the IP address of the outgoing interface. Therefore, use masquerading if the outgoing interface uses a dynamic IP address.
									</li><li class="listitem">
										SNAT sets the source IP address of packets to a specified IP and does not dynamically look up the IP of the outgoing interface. Therefore, SNAT is faster than masquerading. Use SNAT if the outgoing interface uses a fixed IP address.
									</li></ul></div></dd><dt><span class="term">Destination NAT (DNAT)</span></dt><dd>
								Use this NAT type to rewrite the destination address and port of incoming packets. For example, if your web server uses an IP address from a private IP range and is, therefore, not directly accessible from the internet, you can set a DNAT rule on the router to redirect incoming traffic to this server.
							</dd><dt><span class="term">Redirect</span></dt><dd>
								This type is a special case of DNAT that redirects packets to the local machine depending on the chain hook. For example, if a service runs on a different port than its standard port, you can redirect incoming traffic from the standard port to this specific port.
							</dd></dl></div></section><section class="section" id="configuring-masquerading-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.4.2. Configuring masquerading using nftables</h4></div></div></div><p class="_abstract _abstract">
					Masquerading enables a router to dynamically change the source IP of packets sent through an interface to the IP address of the interface. This means that if the interface gets a new IP assigned, <code class="literal">nftables</code> automatically uses the new IP when replacing the source IP.
				</p><p>
					Replace the source IP of packets leaving the host through the <code class="literal">ens3</code> interface to the IP set on <code class="literal">ens3</code>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table nat</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">prerouting</code> and <code class="literal">postrouting</code> chains to the table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain nat postrouting { type nat hook postrouting priority 100 \; }</strong></span></pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								Even if you do not add a rule to the <code class="literal">prerouting</code> chain, the <code class="literal">nftables</code> framework requires this chain to match incoming packet replies.
							</p></div></rh-alert><p class="simpara">
							Note that you must pass the <code class="literal">--</code> option to the <code class="literal">nft</code> command to prevent the shell from interpreting the negative priority value as an option of the <code class="literal">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">postrouting</code> chain that matches outgoing packets on the <code class="literal">ens3</code> interface:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule nat postrouting oifname "<span class="emphasis"><em>ens3</em></span>" masquerade</strong></span></pre></li></ol></div></section><section class="section" id="configuring-source-nat-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.4.3. Configuring source NAT using nftables</h4></div></div></div><p class="_abstract _abstract">
					On a router, Source NAT (SNAT) enables you to change the IP of packets sent through an interface to a specific IP address. The router then replaces the source IP of outgoing packets.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table nat</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">prerouting</code> and <code class="literal">postrouting</code> chains to the table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain nat postrouting { type nat hook postrouting priority 100 \; }</strong></span></pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								Even if you do not add a rule to the <code class="literal">postrouting</code> chain, the <code class="literal">nftables</code> framework requires this chain to match outgoing packet replies.
							</p></div></rh-alert><p class="simpara">
							Note that you must pass the <code class="literal">--</code> option to the <code class="literal">nft</code> command to prevent the shell from interpreting the negative priority value as an option of the <code class="literal">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">postrouting</code> chain that replaces the source IP of outgoing packets through <code class="literal">ens3</code> with <code class="literal">192.0.2.1</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule nat postrouting oifname "<span class="emphasis"><em>ens3</em></span>" snat to <span class="emphasis"><em>192.0.2.1</em></span></strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables" title="2.8.2. Forwarding incoming packets on a specific local port to a different host">Forwarding incoming packets on a specific local port to a different host</a>
						</li></ul></div></section><section class="section" id="configuring-destination-nat-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.4.4. Configuring destination NAT using nftables</h4></div></div></div><p class="_abstract _abstract">
					Destination NAT (DNAT) enables you to redirect traffic on a router to a host that is not directly accessible from the internet.
				</p><p>
					For example, with DNAT the router redirects incoming traffic sent to port <code class="literal">80</code> and <code class="literal">443</code> to a web server with the IP address <code class="literal">192.0.2.1</code>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table nat</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">prerouting</code> and <code class="literal">postrouting</code> chains to the table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -- add chain nat prerouting { type nat hook prerouting priority -100 \; }</strong></span>
# <span class="strong strong"><strong>nft add chain nat postrouting { type nat hook postrouting priority 100 \; }</strong></span></pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								Even if you do not add a rule to the <code class="literal">postrouting</code> chain, the <code class="literal">nftables</code> framework requires this chain to match outgoing packet replies.
							</p></div></rh-alert><p class="simpara">
							Note that you must pass the <code class="literal">--</code> option to the <code class="literal">nft</code> command to prevent the shell from interpreting the negative priority value as an option of the <code class="literal">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">prerouting</code> chain that redirects incoming traffic to port <code class="literal">80</code> and <code class="literal">443</code> on the <code class="literal">ens3</code> interface of the router to the web server with the IP address <code class="literal">192.0.2.1</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule nat prerouting iifname <span class="emphasis"><em>ens3</em></span> tcp dport { 80, 443 } dnat to 192.0.2.1</strong></span></pre></li><li class="listitem"><p class="simpara">
							Depending on your environment, add either a SNAT or masquerading rule to change the source address for packets returning from the web server to the sender:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									If the <code class="literal">ens3</code> interface uses a dynamic IP addresses, add a masquerading rule:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule nat postrouting oifname "ens3" masquerade</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal">ens3</code> interface uses a static IP address, add a SNAT rule. For example, if the <code class="literal">ens3</code> uses the <code class="literal">198.51.100.1</code> IP address:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule nat postrouting oifname "ens3" snat to 198.51.100.1</strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Enable packet forwarding:
						</p><pre class="literallayout"># <span class="strong strong"><strong>echo "net.ipv4.ip_forward=1" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span>
# <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#nat-types_configuring-nat-using-nftables" title="2.4.1. NAT types">NAT types</a>
						</li></ul></div></section><section class="section" id="proc_configuring-a-redirect-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.4.5. Configuring a redirect using nftables</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">redirect</code> feature is a special case of destination network address translation (DNAT) that redirects packets to the local machine depending on the chain hook.
				</p><p>
					For example, you can redirect incoming and forwarded traffic sent to port <code class="literal">22</code> of the local host to port <code class="literal">2222</code>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table nat</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">prerouting</code> chain to the table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -- add chain nat prerouting { type nat hook prerouting priority -100 \; }</strong></span></pre><p class="simpara">
							Note that you must pass the <code class="literal">--</code> option to the <code class="literal">nft</code> command to prevent the shell from interpreting the negative priority value as an option of the <code class="literal">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">prerouting</code> chain that redirects incoming traffic on port <code class="literal">22</code> to port <code class="literal">2222</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule nat prerouting tcp dport 22 redirect to 2222</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#nat-types_configuring-nat-using-nftables" title="2.4.1. NAT types">NAT types</a>
						</li></ul></div></section><section class="section" id="proc_configuring-flowtable-by-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.4.6. Configuring flowtable by using nftables</h4></div></div></div><p>
					The <code class="literal">nftables</code> utility uses the <code class="literal">netfilter</code> framework to provide network address translation (NAT) for network traffic and provides the fastpath feature-based <code class="literal">flowtable</code> mechanism to accelerate packet forwarding.
				</p><p>
					The flowtable mechanism has the following features:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Uses connection tracking to bypass the classic packet forwarding path.
						</li><li class="listitem">
							Avoids revisiting the routing table by bypassing the classic packet processing.
						</li><li class="listitem">
							Works only with TCP and UDP protocols.
						</li><li class="listitem">
							Hardware independent software fast path.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add an <code class="literal">example-table</code> table of <code class="literal">inet</code> family:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table inet <span class="emphasis"><em>&lt;example-table&gt;</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Add an <code class="literal">example-flowtable</code> flowtable with <code class="literal">ingress</code> hook and <code class="literal">filter</code> as a priority type:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add flowtable inet <span class="emphasis"><em>&lt;example-table&gt;</em></span> <span class="emphasis"><em>&lt;example-flowtable&gt;</em></span> { hook ingress priority filter \; devices = { enp1s0, enp7s0 } \; }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add an <code class="literal">example-forwardchain</code> flow to the flowtable from a packet processing table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain inet <span class="emphasis"><em>&lt;example-table&gt;</em></span> <span class="emphasis"><em>&lt;example-forwardchain&gt;</em></span> { type filter hook forward priority filter \; }</strong></span></pre><p class="simpara">
							This command adds a flowtable of <code class="literal">filter</code> type with <code class="literal">forward</code> hook and <code class="literal">filter</code> priority.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule with <code class="literal">established</code> connection tracking state to offload <code class="literal">example-flowtable</code> flow:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet <span class="emphasis"><em>&lt;example-table&gt;</em></span> <span class="emphasis"><em>&lt;example-forwardchain&gt;</em></span> ct state established flow add @<span class="emphasis"><em>&lt;example-flowtable&gt;</em></span></strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify the properties of <code class="literal">example-table</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list table inet <span class="emphasis"><em>&lt;example-table&gt;</em></span></strong></span>
table inet example-table {
    	flowtable example-flowtable {
     		hook ingress priority filter
           devices = { enp1s0, enp7s0 }
    	}

    	chain example-forwardchain {
type filter hook forward priority filter; policy accept;
ct state established flow add @example-flowtable
    }
}</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">nft(8)</code> man page
						</li></ul></div></section></section><section class="section" id="using-sets-in-nftables-commands_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.5. Using sets in nftables commands</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">nftables</code> framework natively supports sets. You can use sets, for example, if a rule should match multiple IP addresses, port numbers, interfaces, or any other match criteria.
			</p><section class="section" id="using-anonymous-sets-in-nftables_using-sets-in-nftables-commands"><div class="titlepage"><div><div><h4 class="title">2.5.1. Using anonymous sets in nftables</h4></div></div></div><p class="_abstract _abstract">
					An anonymous set contains comma-separated values enclosed in curly brackets, such as <code class="literal">{ 22, 80, 443 }</code>, that you use directly in a rule. You can use anonymous sets also for IP addresses and any other match criteria.
				</p><p>
					The drawback of anonymous sets is that if you want to change the set, you must replace the rule. For a dynamic solution, use named sets as described in <a class="link" href="#using-named-sets-in-nftables_using-sets-in-nftables-commands" title="2.5.2. Using named sets in nftables">Using named sets in nftables</a>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">example_chain</code> chain and the <code class="literal">example_table</code> table in the <code class="literal">inet</code> family exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							For example, to add a rule to <code class="literal">example_chain</code> in <code class="literal">example_table</code> that allows incoming traffic to port <code class="literal">22</code>, <code class="literal">80</code>, and <code class="literal">443</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> tcp dport { 22, 80, 443 } accept</strong></span></pre></li><li class="listitem"><p class="simpara">
							Optional: Display all chains and their rules in <code class="literal">example_table</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list table inet example_table</strong></span>
table inet example_table {
  chain example_chain {
    type filter hook input priority filter; policy accept;
    tcp dport { ssh, http, https } accept
  }
}</pre></li></ol></div></section><section class="section" id="using-named-sets-in-nftables_using-sets-in-nftables-commands"><div class="titlepage"><div><div><h4 class="title">2.5.2. Using named sets in nftables</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">nftables</code> framework supports mutable named sets. A named set is a list or range of elements that you can use in multiple rules within a table. Another benefit over anonymous sets is that you can update a named set without replacing the rules that use the set.
				</p><p>
					When you create a named set, you must specify the type of elements the set contains. You can set the following types:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ipv4_addr</code> for a set that contains IPv4 addresses or ranges, such as <code class="literal">192.0.2.1</code> or <code class="literal">192.0.2.0/24</code>.
						</li><li class="listitem">
							<code class="literal">ipv6_addr</code> for a set that contains IPv6 addresses or ranges, such as <code class="literal">2001:db8:1::1</code> or <code class="literal">2001:db8:1::1/64</code>.
						</li><li class="listitem">
							<code class="literal">ether_addr</code> for a set that contains a list of media access control (MAC) addresses, such as <code class="literal">52:54:00:6b:66:42</code>.
						</li><li class="listitem">
							<code class="literal">inet_proto</code> for a set that contains a list of internet protocol types, such as <code class="literal">tcp</code>.
						</li><li class="listitem">
							<code class="literal">inet_service</code> for a set that contains a list of internet services, such as <code class="literal">ssh</code>.
						</li><li class="listitem">
							<code class="literal">mark</code> for a set that contains a list of packet marks. Packet marks can be any positive 32-bit integer value (<code class="literal">0</code> to <code class="literal">2147483647</code>).
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">example_chain</code> chain and the <code class="literal">example_table</code> table exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create an empty set. The following examples create a set for IPv4 addresses:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To create a set that can store multiple individual IPv4 addresses:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft add set <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { type ipv4_addr \; }</strong></span></pre></li><li class="listitem"><p class="simpara">
									To create a set that can store IPv4 address ranges:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft add set <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { type ipv4_addr \; flags interval \; }</strong></span></pre></li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								To prevent the shell from interpreting the semicolons as the end of the command, you must escape the semicolons with a backslash.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Optional: Create rules that use the set. For example, the following command adds a rule to the <code class="literal">example_chain</code> in the <code class="literal">example_table</code> that will drop all packets from IPv4 addresses in <code class="literal">example_set</code>.
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> ip saddr @<span class="emphasis"><em>example_set</em></span> drop</strong></span></pre><p class="simpara">
							Because <code class="literal">example_set</code> is still empty, the rule has currently no effect.
						</p></li><li class="listitem"><p class="simpara">
							Add IPv4 addresses to <code class="literal">example_set</code>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If you create a set that stores individual IPv4 addresses, enter:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft add element <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { <span class="emphasis"><em>192.0.2.1, 192.0.2.2</em></span> }</strong></span></pre></li><li class="listitem"><p class="simpara">
									If you create a set that stores IPv4 ranges, enter:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft add element <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { <span class="emphasis"><em>192.0.2.0-192.0.2.255</em></span> }</strong></span></pre><p class="simpara">
									When you specify an IP address range, you can alternatively use the Classless Inter-Domain Routing (CIDR) notation, such as <code class="literal">192.0.2.0/24</code> in the above example.
								</p></li></ul></div></li></ol></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h4 class="title">2.5.3. Additional resources</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">Sets</code> section in the <code class="literal">nft(8)</code> man page
						</li></ul></div></section></section><section class="section" id="using-verdict-maps-in-nftables-commands_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.6. Using verdict maps in nftables commands</h3></div></div></div><p class="_abstract _abstract">
				Verdict maps, which are also known as dictionaries, enable <code class="literal">nft</code> to perform an action based on packet information by mapping match criteria to an action.
			</p><section class="section" id="using-anonymous-maps-in-nftables_using-verdict-maps-in-nftables-commands"><div class="titlepage"><div><div><h4 class="title">2.6.1. Using anonymous maps in nftables</h4></div></div></div><p class="_abstract _abstract">
					An anonymous map is a <code class="literal">{ <span class="emphasis"><em>match_criteria</em></span> : <span class="emphasis"><em>action</em></span> }</code> statement that you use directly in a rule. The statement can contain multiple comma-separated mappings.
				</p><p>
					The drawback of an anonymous map is that if you want to change the map, you must replace the rule. For a dynamic solution, use named maps as described in <a class="link" href="#using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands" title="2.6.2. Using named maps in nftables">Using named maps in nftables</a>.
				</p><p>
					For example, you can use an anonymous map to route both TCP and UDP packets of the IPv4 and IPv6 protocol to different chains to count incoming TCP and UDP packets separately.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table inet example_table</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">tcp_packets</code> chain in <code class="literal">example_table</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain inet example_table tcp_packets</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a rule to <code class="literal">tcp_packets</code> that counts the traffic in this chain:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet example_table tcp_packets counter</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">udp_packets</code> chain in <code class="literal">example_table</code>
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain inet example_table udp_packets</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a rule to <code class="literal">udp_packets</code> that counts the traffic in this chain:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet example_table udp_packets counter</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create a chain for incoming traffic. For example, to create a chain named <code class="literal">incoming_traffic</code> in <code class="literal">example_table</code> that filters incoming traffic:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain inet example_table incoming_traffic { type filter hook input priority 0 \; }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a rule with an anonymous map to <code class="literal">incoming_traffic</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet example_table incoming_traffic ip protocol vmap { tcp : jump tcp_packets, udp : jump udp_packets }</strong></span></pre><p class="simpara">
							The anonymous map distinguishes the packets and sends them to the different counter chains based on their protocol.
						</p></li><li class="listitem"><p class="simpara">
							To list the traffic counters, display <code class="literal">example_table</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list table inet example_table</strong></span>
table inet example_table {
  chain tcp_packets {
    <span class="strong strong"><strong>counter packets 36379 bytes 2103816</strong></span>
  }

  chain udp_packets {
    <span class="strong strong"><strong>counter packets 10 bytes 1559</strong></span>
  }

  chain incoming_traffic {
    type filter hook input priority filter; policy accept;
    ip protocol vmap { tcp : jump tcp_packets, udp : jump udp_packets }
  }
}</pre><p class="simpara">
							The counters in the <code class="literal">tcp_packets</code> and <code class="literal">udp_packets</code> chain display both the number of received packets and bytes.
						</p></li></ol></div></section><section class="section" id="using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands"><div class="titlepage"><div><div><h4 class="title">2.6.2. Using named maps in nftables</h4></div></div></div><p class="_abstract _abstract">
					The <code class="literal">nftables</code> framework supports named maps. You can use these maps in multiple rules within a table. Another benefit over anonymous maps is that you can update a named map without replacing the rules that use it.
				</p><p>
					When you create a named map, you must specify the type of elements:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ipv4_addr</code> for a map whose match part contains an IPv4 address, such as <code class="literal">192.0.2.1</code>.
						</li><li class="listitem">
							<code class="literal">ipv6_addr</code> for a map whose match part contains an IPv6 address, such as <code class="literal">2001:db8:1::1</code>.
						</li><li class="listitem">
							<code class="literal">ether_addr</code> for a map whose match part contains a media access control (MAC) address, such as <code class="literal">52:54:00:6b:66:42</code>.
						</li><li class="listitem">
							<code class="literal">inet_proto</code> for a map whose match part contains an internet protocol type, such as <code class="literal">tcp</code>.
						</li><li class="listitem">
							<code class="literal">inet_service</code> for a map whose match part contains an internet services name port number, such as <code class="literal">ssh</code> or <code class="literal">22</code>.
						</li><li class="listitem">
							<code class="literal">mark</code> for a map whose match part contains a packet mark. A packet mark can be any positive 32-bit integer value (<code class="literal">0</code> to <code class="literal">2147483647</code>).
						</li><li class="listitem">
							<code class="literal">counter</code> for a map whose match part contains a counter value. The counter value can be any positive 64-bit integer value.
						</li><li class="listitem">
							<code class="literal">quota</code> for a map whose match part contains a quota value. The quota value can be any positive 64-bit integer value.
						</li></ul></div><p>
					For example, you can allow or drop incoming packets based on their source IP address. Using a named map, you require only a single rule to configure this scenario while the IP addresses and actions are dynamically stored in the map.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table. For example, to create a table named <code class="literal">example_table</code> that processes IPv4 packets:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table ip <span class="emphasis"><em>example_table</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Create a chain. For example, to create a chain named <code class="literal">example_chain</code> in <code class="literal">example_table</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> { type filter hook <span class="emphasis"><em>input</em></span> priority 0 \; }</strong></span></pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								To prevent the shell from interpreting the semicolons as the end of the command, you must escape the semicolons with a backslash.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Create an empty map. For example, to create a map for IPv4 addresses:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add map ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { type ipv4_addr : verdict \; }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create rules that use the map. For example, the following command adds a rule to <code class="literal">example_chain</code> in <code class="literal">example_table</code> that applies actions to IPv4 addresses which are both defined in <code class="literal">example_map</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> ip saddr vmap @<span class="emphasis"><em>example_map</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Add IPv4 addresses and corresponding actions to <code class="literal">example_map</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add element ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { 192.0.2.1 : accept, 192.0.2.2 : drop }</strong></span></pre><p class="simpara">
							This example defines the mappings of IPv4 addresses to actions. In combination with the rule created above, the firewall accepts packet from <code class="literal">192.0.2.1</code> and drops packets from <code class="literal">192.0.2.2</code>.
						</p></li><li class="listitem"><p class="simpara">
							Optional: Enhance the map by adding another IP address and action statement:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add element ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { 192.0.2.3 : accept }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Optional: Remove an entry from the map:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft delete element ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { 192.0.2.1 }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Optional: Display the rule set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list ruleset</strong></span>
table ip example_table {
  map example_map {
    type ipv4_addr : verdict
    elements = { 192.0.2.2 : drop, 192.0.2.3 : accept }
  }

  chain example_chain {
    type filter hook input priority filter; policy accept;
    ip saddr vmap @example_map
  }
}</pre></li></ol></div></section><section class="section _additional-resources" id="additional_resources_2"><div class="titlepage"><div><div><h4 class="title">2.6.3. Additional resources</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">Maps</code> section in the <code class="literal">nft(8)</code> man page
						</li></ul></div></section></section><section class="section" id="assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.7. Example: Protecting a LAN and DMZ using an nftables script</h3></div></div></div><p>
				Use the <code class="literal">nftables</code> framework on a RHEL router to write and install a firewall script that protects the network clients in an internal LAN and a web server in a DMZ from unauthorized access from the internet and from other networks.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					This example is only for demonstration purposes and describes a scenario with specific requirements.
				</p><p>
					Firewall scripts highly depend on the network infrastructure and security requirements. Use this example to learn the concepts of <code class="literal">nftables</code> firewalls when you write scripts for your own environment.
				</p></div></rh-alert><section class="section" id="con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script"><div class="titlepage"><div><div><h4 class="title">2.7.1. Network conditions</h4></div></div></div><p>
					The network in this example has the following conditions:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The router is connected to the following networks:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									The internet through interface <code class="literal">enp1s0</code>
								</li><li class="listitem">
									The internal LAN through interface <code class="literal">enp7s0</code>
								</li><li class="listitem">
									The DMZ through <code class="literal">enp8s0</code>
								</li></ul></div></li><li class="listitem">
							The internet interface of the router has both a static IPv4 address (<code class="literal">203.0.113.1</code>) and IPv6 address (<code class="literal">2001:db8:a::1</code>) assigned.
						</li><li class="listitem">
							The clients in the internal LAN use only private IPv4 addresses from the range <code class="literal">10.0.0.0/24</code>. Consequently, traffic from the LAN to the internet requires source network address translation (SNAT).
						</li><li class="listitem">
							The administrator PCs in the internal LAN use the IP addresses <code class="literal">10.0.0.100</code> and <code class="literal">10.0.0.200</code>.
						</li><li class="listitem">
							The DMZ uses public IP addresses from the ranges <code class="literal">198.51.100.0/24</code> and <code class="literal">2001:db8:b::/56</code>.
						</li><li class="listitem">
							The web server in the DMZ uses the IP addresses <code class="literal">198.51.100.5</code> and <code class="literal">2001:db8:b::5</code>.
						</li><li class="listitem">
							The router acts as a caching DNS server for hosts in the LAN and DMZ.
						</li></ul></div></section><section class="section" id="con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script"><div class="titlepage"><div><div><h4 class="title">2.7.2. Security requirements to the firewall script</h4></div></div></div><p>
					The following are the requirements to the <code class="literal">nftables</code> firewall in the example network:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The router must be able to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Recursively resolve DNS queries.
								</li><li class="listitem">
									Perform all connections on the loopback interface.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Clients in the internal LAN must be able to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Query the caching DNS server running on the router.
								</li><li class="listitem">
									Access the HTTPS server in the DMZ.
								</li><li class="listitem">
									Access any HTTPS server on the internet.
								</li></ul></div></li><li class="listitem">
							The PCs of the administrators must be able to access the router and every server in the DMZ using SSH.
						</li><li class="listitem"><p class="simpara">
							The web server in the DMZ must be able to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Query the caching DNS server running on the router.
								</li><li class="listitem">
									Access HTTPS servers on the internet to download updates.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Hosts on the internet must be able to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Access the HTTPS servers in the DMZ.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Additionally, the following security requirements exists:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Connection attempts that are not explicitly allowed should be dropped.
								</li><li class="listitem">
									Dropped packets should be logged.
								</li></ul></div></li></ul></div></section><section class="section" id="proc_configuring-logging-of-dropped-packets-to-a-file_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script"><div class="titlepage"><div><div><h4 class="title">2.7.3. Configuring logging of dropped packets to a file</h4></div></div></div><p>
					By default, <code class="literal">systemd</code> logs kernel messages, such as for dropped packets, to the journal. Additionally, you can configure the <code class="literal">rsyslog</code> service to log such entries to a separate file. To ensure that the log file does not grow infinitely, configure a rotation policy.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">rsyslog</code> package is installed.
						</li><li class="listitem">
							The <code class="literal">rsyslog</code> service is running.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">/etc/rsyslog.d/nftables.conf</code> file with the following content:
						</p><pre class="programlisting language-bash">:msg, startswith, "nft drop" -/var/log/nftables.log
&amp; stop</pre><p class="simpara">
							Using this configuration, the <code class="literal">rsyslog</code> service logs dropped packets to the <code class="literal">/var/log/nftables.log</code> file instead of <code class="literal">/var/log/messages</code>.
						</p></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">rsyslog</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart rsyslog</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">/etc/logrotate.d/nftables</code> file with the following content to rotate <code class="literal">/var/log/nftables.log</code> if the size exceeds 10 MB:
						</p><pre class="programlisting language-bash">/var/log/nftables.log {
  size +10M
  maxage 30
  sharedscripts
  postrotate
    /usr/bin/systemctl kill -s HUP rsyslog.service &gt;/dev/null 2&gt;&amp;1 || true
  endscript
}</pre><p class="simpara">
							The <code class="literal">maxage 30</code> setting defines that <code class="literal">logrotate</code> removes rotated logs older than 30 days during the next rotation operation.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">rsyslog.conf(5)</code> man page
						</li><li class="listitem">
							<code class="literal">logrotate(8)</code> man page
						</li></ul></div></section><section class="section" id="proc_writing-and-activating-the-nftables-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script"><div class="titlepage"><div><div><h4 class="title">2.7.4. Writing and activating the nftables script</h4></div></div></div><p>
					This example is an <code class="literal">nftables</code> firewall script that runs on a RHEL router and protects the clients in an internal LAN and a web server in a DMZ. For details about the network and the requirements for the firewall used in the example, see <a class="link" href="#con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" title="2.7.1. Network conditions">Network conditions</a> and <a class="link" href="#con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" title="2.7.2. Security requirements to the firewall script">Security requirements to the firewall script</a>.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						This <code class="literal">nftables</code> firewall script is only for demonstration purposes. Do not use it without adapting it to your environments and security requirements.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The network is configured as described in <a class="link" href="#con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script" title="2.7.1. Network conditions">Network conditions</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">/etc/nftables/firewall.nft</code> script with the following content:
						</p><pre class="programlisting language-bash"># Remove all rules
flush ruleset


# Table for both IPv4 and IPv6 rules
table inet nftables_svc {

  # Define variables for the interface name
  define INET_DEV = enp1s0
  define LAN_DEV  = enp7s0
  define DMZ_DEV  = enp8s0


  # Set with the IPv4 addresses of admin PCs
  set admin_pc_ipv4 {
    type ipv4_addr
    elements = { 10.0.0.100, 10.0.0.200 }
  }


  # Chain for incoming trafic. Default policy: drop
  chain INPUT {
    type filter hook input priority filter
    policy drop

    # Accept packets in established and related state, drop invalid packets
    ct state vmap { established:accept, related:accept, invalid:drop }

    # Accept incoming traffic on loopback interface
    iifname lo accept

    # Allow request from LAN and DMZ to local DNS server
    iifname { $LAN_DEV, $DMZ_DEV } meta l4proto { tcp, udp } th dport 53 accept

    # Allow admins PCs to access the router using SSH
    iifname $LAN_DEV ip saddr @admin_pc_ipv4 tcp dport 22 accept

    # Last action: Log blocked packets
    # (packets that were not accepted in previous rules in this chain)
    log prefix "nft drop IN : "
  }


  # Chain for outgoing traffic. Default policy: drop
  chain OUTPUT {
    type filter hook output priority filter
    policy drop

    # Accept packets in established and related state, drop invalid packets
    ct state vmap { established:accept, related:accept, invalid:drop }

    # Accept outgoing traffic on loopback interface
    oifname lo accept

    # Allow local DNS server to recursively resolve queries
    oifname $INET_DEV meta l4proto { tcp, udp } th dport 53 accept

    # Last action: Log blocked packets
    log prefix "nft drop OUT: "
  }


  # Chain for forwarding traffic. Default policy: drop
  chain FORWARD {
    type filter hook forward priority filter
    policy drop

    # Accept packets in established and related state, drop invalid packets
    ct state vmap { established:accept, related:accept, invalid:drop }

    # IPv4 access from LAN and internet to the HTTPS server in the DMZ
    iifname { $LAN_DEV, $INET_DEV } oifname $DMZ_DEV ip daddr 198.51.100.5 tcp dport 443 accept

    # IPv6 access from internet to the HTTPS server in the DMZ
    iifname $INET_DEV oifname $DMZ_DEV ip6 daddr 2001:db8:b::5 tcp dport 443 accept

    # Access from LAN and DMZ to HTTPS servers on the internet
    iifname { $LAN_DEV, $DMZ_DEV } oifname $INET_DEV tcp dport 443 accept

    # Last action: Log blocked packets
    log prefix "nft drop FWD: "
  }


  # Postrouting chain to handle SNAT
  chain postrouting {
    type nat hook postrouting priority srcnat; policy accept;

    # SNAT for IPv4 traffic from LAN to internet
    iifname $LAN_DEV oifname $INET_DEV snat ip to 203.0.113.1
  }
}</pre></li><li class="listitem"><p class="simpara">
							Include the <code class="literal">/etc/nftables/firewall.nft</code> script in the <code class="literal">/etc/sysconfig/nftables.conf</code> file:
						</p><pre class="screen">include "/etc/nftables/firewall.nft"</pre></li><li class="listitem"><p class="simpara">
							Enable IPv4 forwarding:
						</p><pre class="literallayout"># <span class="strong strong"><strong>echo "net.ipv4.ip_forward=1" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span>
# <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable and start the <code class="literal">nftables</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now nftables</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optional: Verify the <code class="literal">nftables</code> rule set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list ruleset</strong></span>
...</pre></li><li class="listitem"><p class="simpara">
							Try to perform an access that the firewall prevents. For example, try to access the router using SSH from the DMZ:
						</p><pre class="literallayout"># <span class="strong strong"><strong>ssh router.example.com</strong></span>
ssh: connect to host <span class="emphasis"><em>router.example.com</em></span> port <span class="emphasis"><em>22</em></span>: Network is unreachable</pre></li><li class="listitem"><p class="simpara">
							Depending on your logging settings, search:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									The <code class="literal">systemd</code> journal for the blocked packets:
								</p><pre class="literallayout"># <span class="strong strong"><strong>journalctl -k -g "nft drop"</strong></span>
<span class="emphasis"><em>Oct 14 17:27:18 router kernel: nft drop IN : IN=enp8s0 OUT= MAC=... SRC=198.51.100.5 DST=198.51.100.1 ... PROTO=TCP SPT=40464 DPT=22 ... SYN ...</em></span></pre></li><li class="listitem"><p class="simpara">
									The <code class="literal">/var/log/nftables.log</code> file for the blocked packets:
								</p><pre class="literallayout"><span class="emphasis"><em>Oct 14 17:27:18 router kernel: nft drop IN : IN=enp8s0 OUT= MAC=... SRC=198.51.100.5 DST=198.51.100.1 ... PROTO=TCP SPT=40464 DPT=22 ... SYN ...</em></span></pre></li></ul></div></li></ol></div></section></section><section class="section" id="configuring-port-forwarding-using-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.8. Configuring port forwarding using nftables</h3></div></div></div><p class="_abstract _abstract">
				Port forwarding enables administrators to forward packets sent to a specific destination port to a different local or remote port.
			</p><p>
				For example, if your web server does not have a public IP address, you can set a port forwarding rule on your firewall that forwards incoming packets on port <code class="literal">80</code> and <code class="literal">443</code> on the firewall to the web server. With this firewall rule, users on the internet can access the web server using the IP or host name of the firewall.
			</p><section class="section" id="forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.8.1. Forwarding incoming packets to a different local port</h4></div></div></div><p class="_abstract _abstract">
					You can use <code class="literal">nftables</code> to forward packets. For example, you can forward incoming IPv4 packets on port <code class="literal">8022</code> to port <code class="literal">22</code> on the local system.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table named <code class="literal">nat</code> with the <code class="literal">ip</code> address family:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table ip <span class="emphasis"><em>nat</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">prerouting</code> and <code class="literal">postrouting</code> chains to the table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -- add chain ip nat prerouting { type nat hook prerouting priority -100 \; }</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Pass the <code class="literal">--</code> option to the <code class="literal">nft</code> command to prevent the shell from interpreting the negative priority value as an option of the <code class="literal">nft</code> command.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">prerouting</code> chain that redirects incoming packets on port <code class="literal">8022</code> to the local port <code class="literal">22</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule ip nat prerouting tcp dport 8022 redirect to :22</strong></span></pre></li></ol></div></section><section class="section" id="forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables"><div class="titlepage"><div><div><h4 class="title">2.8.2. Forwarding incoming packets on a specific local port to a different host</h4></div></div></div><p class="_abstract _abstract">
					You can use a destination network address translation (DNAT) rule to forward incoming packets on a local port to a remote host. This enables users on the internet to access a service that runs on a host with a private IP address.
				</p><p>
					For example, you can forward incoming IPv4 packets on the local port <code class="literal">443</code> to the same port number on the remote system with the <code class="literal">192.0.2.1</code> IP address.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You are logged in as the <code class="literal">root</code> user on the system that should forward the packets.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table named <code class="literal">nat</code> with the <code class="literal">ip</code> address family:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table ip <span class="emphasis"><em>nat</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">prerouting</code> and <code class="literal">postrouting</code> chains to the table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft -- add chain ip nat prerouting { type nat hook prerouting priority -100 \; }</strong></span>
# <span class="strong strong"><strong>nft add chain ip nat postrouting { type nat hook postrouting priority 100 \; }</strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Pass the <code class="literal">--</code> option to the <code class="literal">nft</code> command to prevent the shell from interpreting the negative priority value as an option of the <code class="literal">nft</code> command.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">prerouting</code> chain that redirects incoming packets on port <code class="literal">443</code> to the same port on <code class="literal">192.0.2.1</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule ip nat prerouting tcp dport 443 dnat to 192.0.2.1</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">postrouting</code> chain to masquerade outgoing traffic:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule ip nat postrouting daddr 192.0.2.1 masquerade</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable packet forwarding:
						</p><pre class="literallayout"># <span class="strong strong"><strong>echo "net.ipv4.ip_forward=1" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span>
# <span class="strong strong"><strong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf</strong></span></pre></li></ol></div></section></section><section class="section" id="assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.9. Using nftables to limit the amount of connections</h3></div></div></div><p class="_abstract _abstract">
				You can use <code class="literal">nftables</code> to limit the number of connections or to block IP addresses that attempt to establish a given amount of connections to prevent them from using too many system resources.
			</p><section class="section" id="limiting-the-number-of-connections-using-nftables_assembly_using-nftables-to-limit-the-amount-of-connections"><div class="titlepage"><div><div><h4 class="title">2.9.1. Limiting the number of connections by using nftables</h4></div></div></div><p class="_abstract _abstract">
					By using the <code class="literal">ct count</code> parameter of the <code class="literal">nft</code> utility, you can limit the number of simultaneous connections per IP address. For example, you can use this feature to configure that each source IP address can only establish two parallel SSH connections to a host.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">filter</code> table with the <code class="literal">inet</code> address family:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table inet filter</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">input</code> chain to the <code class="literal">inet filter</code> table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain inet filter input { type filter hook input priority 0 \; }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create a dynamic set for IPv4 addresses:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add set inet filter limit-ssh { type ipv4_addr\; flags dynamic \;}</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal">input</code> chain that allows only two simultaneous incoming connections to the SSH port (22) from an IPv4 address and rejects all further connections from the same IP:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule inet filter input tcp dport ssh ct state new add @limit-ssh { ip saddr ct count over 2 } counter reject</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Establish more than two new simultaneous SSH connections from the same IP address to the host. Nftables refuses connections to the SSH port if two connections are already established.
						</li><li class="listitem"><p class="simpara">
							Display the <code class="literal">limit-ssh</code> meter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list set inet filter limit-ssh</strong></span>
table inet filter {
  set limit-ssh {
    type ipv4_addr
    size 65535
    flags dynamic
    elements = { <span class="strong strong"><strong>192.0.2.1</strong></span> ct count over 2 , <span class="strong strong"><strong>192.0.2.2</strong></span> ct count over 2 }
  }
}</pre><p class="simpara">
							The <code class="literal">elements</code> entry displays addresses that currently match the rule. In this example, <code class="literal">elements</code> lists IP addresses that have active connections to the SSH port. Note that the output does not display the number of active connections or if connections were rejected.
						</p></li></ol></div></section><section class="section" id="blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_assembly_using-nftables-to-limit-the-amount-of-connections"><div class="titlepage"><div><div><h4 class="title">2.9.2. Blocking IP addresses that attempt more than ten new incoming TCP connections within one minute</h4></div></div></div><p class="_abstract _abstract">
					You can temporarily block hosts that are establishing more than ten IPv4 TCP connections within one minute.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">filter</code> table with the <code class="literal">ip</code> address family:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add table ip <span class="emphasis"><em>filter</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal">input</code> chain to the <code class="literal">filter</code> table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add chain ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>input</em></span> { type filter hook input priority 0 \; }</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add a set named <code class="literal">denylist</code> to the <code class="literal">filter</code> table:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add set ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>denylist</em></span> { type ipv4_addr \; flags dynamic, timeout \; timeout <span class="emphasis"><em>5m</em></span> \; }</strong></span></pre><p class="simpara">
							This command creates a dynamic set for IPv4 addresses. The <code class="literal">timeout 5m</code> parameter defines that <code class="literal">nftables</code> automatically removes entries after five minutes to prevent that the set fills up with stale entries.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule that automatically adds the source IP address of hosts that attempt to establish more than ten new TCP connections within one minute to the <code class="literal">denylist</code> set:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>input</em></span> ip protocol tcp ct state new, untracked add <span class="emphasis"><em>@denylist</em></span> { ip saddr limit rate over <span class="emphasis"><em>10/minute</em></span> } drop</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#using-named-sets-in-nftables_using-sets-in-nftables-commands" title="2.5.2. Using named sets in nftables">Using named sets in nftables</a>
						</li></ul></div></section></section><section class="section" id="debugging-nftables-rules_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.10. Debugging nftables rules</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">nftables</code> framework provides different options for administrators to debug rules and if packets match them.
			</p><section class="section" id="creating-a-rule-with-a-counter_debugging-nftables-rules"><div class="titlepage"><div><div><h4 class="title">2.10.1. Creating a rule with a counter</h4></div></div></div><p class="_abstract _abstract">
					To identify if a rule is matched, you can use a counter.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about a procedure that adds a counter to an existing rule, see <a class="link" href="#adding-a-counter-to-an-existing-rule_debugging-nftables-rules" title="2.10.2. Adding a counter to an existing rule">Adding a counter to an existing rule</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The chain to which you want to add the rule exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a new rule with the <code class="literal">counter</code> parameter to the chain. The following example adds a rule with a counter that allows TCP traffic on port 22 and counts the packets and traffic that match this rule:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> counter <span class="emphasis"><em>accept</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							To display the counter values:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list ruleset</strong></span>
table inet example_table {
  chain example_chain {
    type filter hook input priority filter; policy accept;
    tcp dport ssh <span class="strong strong"><strong>counter packets <span class="emphasis"><em>6872</em></span> bytes <span class="emphasis"><em>105448565</em></span></strong></span> accept
  }
}</pre></li></ol></div></section><section class="section" id="adding-a-counter-to-an-existing-rule_debugging-nftables-rules"><div class="titlepage"><div><div><h4 class="title">2.10.2. Adding a counter to an existing rule</h4></div></div></div><p class="_abstract _abstract">
					To identify if a rule is matched, you can use a counter.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about a procedure that adds a new rule with a counter, see <a class="link" href="#creating-a-rule-with-a-counter_debugging-nftables-rules" title="2.10.1. Creating a rule with a counter">Creating a rule with the counter</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The rule to which you want to add the counter exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the rules in the chain including their handles:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft --handle list chain <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span></strong></span>
table inet <span class="emphasis"><em>example_table</em></span> {
  chain <span class="emphasis"><em>example_chain</em></span> { # handle 1
    type filter hook input priority filter; policy accept;
    tcp dport ssh accept # <span class="strong strong"><strong>handle 4</strong></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Add the counter by replacing the rule but with the <code class="literal">counter</code> parameter. The following example replaces the rule displayed in the previous step and adds a counter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft replace rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> handle <span class="emphasis"><em>4</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> counter <span class="emphasis"><em>accept</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							To display the counter values:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft list ruleset</strong></span>
table <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> {
  chain <span class="emphasis"><em>example_chain</em></span> {
    type filter hook input priority filter; policy accept;
    tcp dport ssh <span class="strong strong"><strong>counter packets <span class="emphasis"><em>6872</em></span> bytes <span class="emphasis"><em>105448565</em></span></strong></span> accept
  }
}</pre></li></ol></div></section><section class="section" id="monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules"><div class="titlepage"><div><div><h4 class="title">2.10.3. Monitoring packets that match an existing rule</h4></div></div></div><p class="_abstract _abstract">
					The tracing feature in <code class="literal">nftables</code> in combination with the <code class="literal">nft monitor</code> command enables administrators to display packets that match a rule. You can enable tracing for a rule an use it to monitoring packets that match this rule.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The rule to which you want to add the counter exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the rules in the chain including their handles:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft --handle list chain <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span></strong></span>
table inet example_table {
  chain example_chain { # handle 1
    type filter hook input priority filter; policy accept;
    tcp dport ssh accept # <span class="strong strong"><strong>handle 4</strong></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Add the tracing feature by replacing the rule but with the <code class="literal">meta nftrace set 1</code> parameters. The following example replaces the rule displayed in the previous step and enables tracing:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft replace rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> handle <span class="emphasis"><em>4</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> meta nftrace set 1 <span class="emphasis"><em>accept</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal">nft monitor</code> command to display the tracing. The following example filters the output of the command to display only entries that contain <code class="literal">inet example_table example_chain</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>nft monitor | grep "inet example_table example_chain"</strong></span>
trace id 3c5eb15e inet example_table example_chain packet: iif "enp1s0" ether saddr 52:54:00:17:ff:e4 ether daddr 52:54:00:72:2f:6e ip saddr 192.0.2.1 ip daddr 192.0.2.2 ip dscp cs0 ip ecn not-ect ip ttl 64 ip id 49710 ip protocol tcp ip length 60 tcp sport 56728 tcp dport ssh tcp flags == syn tcp window 64240
trace id 3c5eb15e inet example_table example_chain rule tcp dport ssh nftrace set 1 accept (verdict accept)
...</pre><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
								Depending on the number of rules with tracing enabled and the amount of matching traffic, the <code class="literal">nft monitor</code> command can display a lot of output. Use <code class="literal">grep</code> or other utilities to filter the output.
							</p></div></rh-alert></li></ol></div></section></section><section class="section" id="backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables"><div class="titlepage"><div><div><h3 class="title">2.11. Backing up and restoring the nftables rule set</h3></div></div></div><p class="_abstract _abstract">
				You can backup <code class="literal">nftables</code> rules to a file and later restoring them. Also, administrators can use a file with the rules to, for example, transfer the rules to a different server.
			</p><section class="section" id="backing-up-the-nftables-rule-set-to-a-file_backing-up-and-restoring-the-nftables-rule-set"><div class="titlepage"><div><div><h4 class="title">2.11.1. Backing up the nftables rule set to a file</h4></div></div></div><p class="_abstract _abstract">
					You can use the <code class="literal">nft</code> utility to back up the <code class="literal">nftables</code> rule set to a file.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To backup <code class="literal">nftables</code> rules:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									In a format produced by <code class="literal">nft list ruleset</code> format:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft list ruleset &gt; <span class="emphasis"><em>file</em></span>.nft</strong></span></pre></li><li class="listitem"><p class="simpara">
									In JSON format:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft -j list ruleset &gt; <span class="emphasis"><em>file</em></span>.json</strong></span></pre></li></ul></div></li></ul></div></section><section class="section" id="restoring-the-nftables-rule-set-from-a-file_backing-up-and-restoring-the-nftables-rule-set"><div class="titlepage"><div><div><h4 class="title">2.11.2. Restoring the nftables rule set from a file</h4></div></div></div><p class="_abstract _abstract">
					You can restore the <code class="literal">nftables</code> rule set from a file.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To restore <code class="literal">nftables</code> rules:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									If the file to restore is in the format produced by <code class="literal">nft list ruleset</code> or contains <code class="literal">nft</code> commands directly:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft -f <span class="emphasis"><em>file</em></span>.nft</strong></span></pre></li><li class="listitem"><p class="simpara">
									If the file to restore is in JSON format:
								</p><pre class="literallayout"># <span class="strong strong"><strong>nft -j -f <span class="emphasis"><em>file</em></span>.json</strong></span></pre></li></ul></div></li></ul></div></section></section><section class="section _additional-resources" id="additional_resources_3"><div class="titlepage"><div><div><h3 class="title">2.12. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/en/blog/using-nftables-red-hat-enterprise-linux-8">Using nftables in Red Hat Enterprise Linux 8</a>
					</li><li class="listitem">
						<a class="link" href="https://developers.redhat.com/blog/2016/10/28/what-comes-after-iptables-its-successor-of-course-nftables/">What comes after iptables? Its successor, of course: nftables</a>
					</li><li class="listitem">
						<a class="link" href="https://developers.redhat.com/blog/2018/08/10/firewalld-the-future-is-nftables/">Firewalld: The Future is nftables</a>
					</li></ul></div></section></section><section class="chapter" id="using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Using xdp-filter for high-performance traffic filtering to prevent DDoS attacks</h2></div></div></div><p class="_abstract _abstract">
			Compared to packet filters, such as <code class="literal systemitem">nftables</code>, Express Data Path (XDP) processes and drops network packets right at the network interface. Therefore, XDP determines the next step for the package before it reaches a firewall or other applications. As a result, XDP filters require less resources and can process network packets at a much higher rate than conventional packet filters to defend against distributed denial of service (DDoS) attacks. For example, during testing, Red Hat dropped 26 million network packets per second on a single core, which is significantly higher than the drop rate of <code class="literal systemitem">nftables</code> on the same hardware.
		</p><p>
			The <code class="literal systemitem">xdp-filter</code> utility allows or drops incoming network packets using XDP. You can create rules to filter traffic to or from specific:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					IP addresses
				</li><li class="listitem">
					MAC addresses
				</li><li class="listitem">
					Ports
				</li></ul></div><p>
			Note that, even if <code class="literal systemitem">xdp-filter</code> has a significantly higher packet-processing rate, it does not have the same capabilities as, for example, <code class="literal systemitem">nftables</code>. Consider <code class="literal systemitem">xdp-filter</code> a conceptual utility to demonstrate packet filtering using XDP. Additionally, you can use the code of the utility for a better understanding of how to write your own XDP applications.
		</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
				On other architectures than AMD and Intel 64-bit, the <code class="literal systemitem">xdp-filter</code> utility is provided as a Technology Preview only. Technology Preview features are not supported with Red Hat production Service Level Agreements (SLAs), might not be functionally complete, and Red Hat does not recommend using them for production. These previews provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
			</p><p>
				See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
			</p></div></rh-alert><section class="section" id="dropping-network-packets-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks"><div class="titlepage"><div><div><h3 class="title">3.1. Dropping network packets that match an xdp-filter rule</h3></div></div></div><p class="_abstract _abstract">
				You can use <code class="literal">xdp-filter</code> to drop network packets:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						To a specific destination port
					</li><li class="listitem">
						From a specific IP address
					</li><li class="listitem">
						From a specific MAC address
					</li></ul></div><p>
				The <code class="literal">allow</code> policy of <code class="literal">xdp-filter</code> defines that all traffic is allowed and the filter drops only network packets that match a particular rule. For example, use this method if you know the source IP addresses of packets you want to drop.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">xdp-tools</code> package is installed.
					</li><li class="listitem">
						A network driver that supports XDP programs.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Load <code class="literal">xdp-filter</code> to process incoming packets on a certain interface, such as <code class="literal">enp1s0</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter load <span class="emphasis"><em>enp1s0</em></span></strong></span></pre><p class="simpara">
						By default, <code class="literal">xdp-filter</code> uses the <code class="literal">allow</code> policy, and the utility drops only traffic that matches any rule.
					</p><p class="simpara">
						Optionally, use the <code class="literal">-f <span class="emphasis"><em>feature</em></span></code> option to enable only particular features, such as <code class="literal">tcp</code>, <code class="literal">ipv4</code>, or <code class="literal">ethernet</code>. Loading only the required features instead of all of them increases the speed of packet processing. To enable multiple features, separate them with a comma.
					</p><p class="simpara">
						If the command fails with an error, the network driver does not support XDP programs.
					</p></li><li class="listitem"><p class="simpara">
						Add rules to drop packets that match them. For example:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To drop incoming packets to port <code class="literal">22</code>, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter port <span class="emphasis"><em>22</em></span></strong></span></pre><p class="simpara">
								This command adds a rule that matches TCP and UDP traffic. To match only a particular protocol, use the <code class="literal">-p <span class="emphasis"><em>protocol</em></span></code> option.
							</p></li><li class="listitem"><p class="simpara">
								To drop incoming packets from <code class="literal">192.0.2.1</code>, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter ip <span class="emphasis"><em>192.0.2.1</em></span> -m <span class="emphasis"><em>src</em></span></strong></span></pre><p class="simpara">
								Note that <code class="literal">xdp-filter</code> does not support IP ranges.
							</p></li><li class="listitem"><p class="simpara">
								To drop incoming packets from MAC address <code class="literal">00:53:00:AA:07:BE</code>, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter ether <span class="emphasis"><em>00:53:00:AA:07:BE</em></span> -m <span class="emphasis"><em>src</em></span></strong></span></pre></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the following command to display statistics about dropped and allowed packets:
					</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter status</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">xdp-filter(8)</code> man page
					</li><li class="listitem">
						If you are a developer and interested in the code of <code class="literal">xdp-filter</code>, download and install the corresponding source RPM (SRPM) from the Red Hat Customer Portal.
					</li></ul></div></section><section class="section" id="dropping-all-network-packets-except-the-ones-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks"><div class="titlepage"><div><div><h3 class="title">3.2. Dropping all network packets except the ones that match an xdp-filter rule</h3></div></div></div><p class="_abstract _abstract">
				You can use <code class="literal">xdp-filter</code> to allow only network packets:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						From and to a specific destination port
					</li><li class="listitem">
						From and to a specific IP address
					</li><li class="listitem">
						From and to specific MAC address
					</li></ul></div><p>
				To do so, use the <code class="literal">deny</code> policy of <code class="literal">xdp-filter</code> which defines that the filter drops all network packets except the ones that match a particular rule. For example, use this method if you do not know the source IP addresses of packets you want to drop.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					If you set the default policy to <code class="literal">deny</code> when you load <code class="literal">xdp-filter</code> on an interface, the kernel immediately drops all packets from this interface until you create rules that allow certain traffic. To avoid being locked out from the system, enter the commands locally or connect through a different network interface to the host.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">xdp-tools</code> package is installed.
					</li><li class="listitem">
						You are logged in to the host either locally or using a network interface for which you do not plan to filter the traffic.
					</li><li class="listitem">
						A network driver that supports XDP programs.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Load <code class="literal">xdp-filter</code> to process packets on a certain interface, such as <code class="literal">enp1s0</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter load <span class="emphasis"><em>enp1s0</em></span> -p deny</strong></span></pre><p class="simpara">
						Optionally, use the <code class="literal">-f <span class="emphasis"><em>feature</em></span></code> option to enable only particular features, such as <code class="literal">tcp</code>, <code class="literal">ipv4</code>, or <code class="literal">ethernet</code>. Loading only the required features instead of all of them increases the speed of packet processing. To enable multiple features, separate them with a comma.
					</p><p class="simpara">
						If the command fails with an error, the network driver does not support XDP programs.
					</p></li><li class="listitem"><p class="simpara">
						Add rules to allow packets that match them. For example:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To allow packets to port <code class="literal">22</code>, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter port <span class="emphasis"><em>22</em></span></strong></span></pre><p class="simpara">
								This command adds a rule that matches TCP and UDP traffic. To match only a particular protocol, pass the <code class="literal">-p <span class="emphasis"><em>protocol</em></span></code> option to the command.
							</p></li><li class="listitem"><p class="simpara">
								To allow packets to <code class="literal">192.0.2.1</code>, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter ip <span class="emphasis"><em>192.0.2.1</em></span></strong></span></pre><p class="simpara">
								Note that <code class="literal">xdp-filter</code> does not support IP ranges.
							</p></li><li class="listitem"><p class="simpara">
								To allow packets to MAC address <code class="literal">00:53:00:AA:07:BE</code>, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter ether <span class="emphasis"><em>00:53:00:AA:07:BE</em></span></strong></span></pre></li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
							The <code class="literal">xdp-filter</code> utility does not support stateful packet inspection. This requires that you either do not set a mode using the <code class="literal">-m <span class="emphasis"><em>mode</em></span></code> option or you add explicit rules to allow incoming traffic that the machine receives in reply to outgoing traffic.
						</p></div></rh-alert></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the following command to display statistics about dropped and allowed packets:
					</p><pre class="literallayout"># <span class="strong strong"><strong>xdp-filter status</strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">xdp-filter(8)</code> man page.
					</li><li class="listitem">
						If you are a developer and you are interested in the code of <code class="literal">xdp-filter</code>, download and install the corresponding source RPM (SRPM) from the Red Hat Customer Portal.
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140107951911088"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":679,"once":683,"_errors":684,"serverRendered":15,"path":686},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":10,"Pn02PlJOas":607,"rFVLKcOK8e":678},[5,6,7,8,9],"fr-fr","en-us","zh-cn","ja-jp","ko-kr",{"name":11,"html":12,"type":-1,"toc":13,"breadcrumbs":535,"error":18,"title":543,"productName":537,"productVersions":552,"pagination":581,"redirect":588,"canonicalLinks":589,"openShiftProducts":591,"tocFromVolume":-1,"jumpLinks":606},"Configuring firewalls and packet filters","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm140107963835712\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Managing the firewalld service, the nftables framework, and XDP packet filtering features\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm140107951911088\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tPacket filters, such as firewalls, use rules to control incoming, outgoing, and forwarded network traffic. In Red Hat Enterprise Linux (RHEL), you can use the \u003Ccode class=\"literal\">firewalld\u003C/code> service and the \u003Ccode class=\"literal\">nftables\u003C/code> framework to filter network traffic and build performance-critical firewalls. You can also use the Express Data Path (XDP) feature of the kernel to process or drop network packets at the network interface at a very high rate.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"using-and-configuring-firewalld_firewall-packet-filters\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Using and configuring firewalld\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tA \u003Cspan class=\"emphasis\">\u003Cem>firewall\u003C/em>\u003C/span> is a way to protect machines from any unwanted traffic from outside. It enables users to control incoming network traffic on host machines by defining a set of \u003Cspan class=\"emphasis\">\u003Cem>firewall rules\u003C/em>\u003C/span>. These rules are used to sort the incoming traffic and either block it or allow through.\n\t\t\u003C/p>\u003Cp>\n\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code> is a firewall service daemon that provides a dynamic customizable host-based firewall with a D-Bus interface. Being dynamic, it enables creating, changing, and deleting the rules without the necessity to restart the firewall daemon each time the rules are changed.\n\t\t\u003C/p>\u003Cp>\n\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code> uses the concepts of zones and services, that simplify the traffic management. Zones are predefined sets of rules. Network interfaces and sources can be assigned to a zone. The traffic allowed depends on the network your computer is connected to and the security level this network is assigned. Firewall services are predefined rules that cover all necessary settings to allow incoming traffic for a specific service and they apply within a zone.\n\t\t\u003C/p>\u003Cp>\n\t\t\tServices use one or more ports or addresses for network communication. Firewalls filter communication based on ports. To allow network traffic for a service, its ports must be open. \u003Ccode class=\"literal\">firewalld\u003C/code> blocks all traffic on ports that are not explicitly set as open. Some zones, such as trusted, allow all traffic by default.\n\t\t\u003C/p>\u003Cp>\n\t\t\tNote that \u003Ccode class=\"literal systemitem\">firewalld\u003C/code> with \u003Ccode class=\"literal systemitem\">nftables\u003C/code> backend does not support passing custom \u003Ccode class=\"literal systemitem\">nftables\u003C/code> rules to \u003Ccode class=\"literal systemitem\">firewalld\u003C/code>, using the \u003Ccode class=\"literal option\">--direct\u003C/code> option.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"when-to-use-firewalld-nftables-or-iptables_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. When to use firewalld, nftables, or iptables\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following is a brief overview in which scenario you should use one of the following utilities:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code>: Use the \u003Ccode class=\"literal\">firewalld\u003C/code> utility for simple firewall use cases. The utility is easy to use and covers the typical use cases for these scenarios.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nftables\u003C/code>: Use the \u003Ccode class=\"literal\">nftables\u003C/code> utility to set up complex and performance-critical firewalls, such as for a whole network.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables\u003C/code>: The \u003Ccode class=\"literal\">iptables\u003C/code> utility on Red Hat Enterprise Linux uses the \u003Ccode class=\"literal\">nf_tables\u003C/code> kernel API instead of the \u003Ccode class=\"literal\">legacy\u003C/code> back end. The \u003Ccode class=\"literal\">nf_tables\u003C/code> API provides backward compatibility so that scripts that use \u003Ccode class=\"literal\">iptables\u003C/code> commands still work on Red Hat Enterprise Linux. For new firewall scripts, Red Hat recommends to use \u003Ccode class=\"literal\">nftables\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tTo prevent the different firewall-related services (\u003Ccode class=\"literal\">firewalld\u003C/code>, \u003Ccode class=\"literal\">nftables\u003C/code>, or \u003Ccode class=\"literal\">iptables\u003C/code>) from influencing each other, run only one of them on a RHEL host, and disable the other services.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"firewalld-zones_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. Firewall zones\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use the ⁠\u003Ccode class=\"literal\">firewalld\u003C/code> utility to separate networks into different zones according to the level of trust that you have with the interfaces and traffic within that network. A connection can only be part of one zone, but you can use that zone for many network connections.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code> follows strict principles in regards to zones:\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTraffic ingresses only one zone.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTraffic egresses only one zone.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA zone defines a level of trust.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIntrazone traffic (within the same zone) is allowed by default.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInterzone traffic (from zone to zone) is denied by default.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tPrinciples 4 and 5 are a consequence of principle 3.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tPrinciple 4 is configurable through the zone option \u003Ccode class=\"literal\">--remove-forward\u003C/code>. Principle 5 is configurable by adding new policies.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Ccode class=\"literal\">NetworkManager\u003C/code> notifies \u003Ccode class=\"literal\">firewalld\u003C/code> of the zone of an interface. You can assign zones to interfaces with the following utilities:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">NetworkManager\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-config\u003C/code> utility\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd\u003C/code> utility\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe RHEL web console\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe RHEL web console, \u003Ccode class=\"literal\">firewall-config\u003C/code>, and \u003Ccode class=\"literal\">firewall-cmd\u003C/code> can only edit the appropriate \u003Ccode class=\"literal\">NetworkManager\u003C/code> configuration files. If you change the zone of the interface using the web console, \u003Ccode class=\"literal\">firewall-cmd\u003C/code>, or \u003Ccode class=\"literal\">firewall-config\u003C/code>, the request is forwarded to \u003Ccode class=\"literal\">NetworkManager\u003C/code> and is not handled by ⁠\u003Ccode class=\"literal\">firewalld\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">/usr/lib/firewalld/zones/\u003C/code> directory stores the predefined zones, and you can instantly apply them to any available network interface. These files are copied to the \u003Ccode class=\"literal\">/etc/firewalld/zones/\u003C/code> directory only after they are modified. The default settings of the predefined zones are as follows:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">block\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSuitable for: Any incoming network connections are rejected with an icmp-host-prohibited message for \u003Ccode class=\"literal\">IPv4\u003C/code> and icmp6-adm-prohibited for \u003Ccode class=\"literal\">IPv6\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only network connections initiated from within the system.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">dmz\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSuitable for: Computers in your DMZ that are publicly-accessible with limited access to your internal network.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only selected incoming connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">drop\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSuitable for: Any incoming network packets are dropped without any notification.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only outgoing network connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">external\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSuitable for: External networks with masquerading enabled, especially for routers. Situations when you do not trust the other computers on the network.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only selected incoming connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">home\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSuitable for: Home environment where you mostly trust the other computers on the network.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only selected incoming connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">internal\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSuitable for: Internal networks where you mostly trust the other computers on the network.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only selected incoming connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">public\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSuitable for: Public areas where you do not trust other computers on the network.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only selected incoming connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">trusted\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: All network connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">work\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSuitable for: Work environment where you mostly trust the other computers on the network.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccepts: Only selected incoming connections.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tOne of these zones is set as the \u003Cspan class=\"emphasis\">\u003Cem>default\u003C/em>\u003C/span> zone. When interface connections are added to \u003Ccode class=\"literal\">NetworkManager\u003C/code>, they are assigned to the default zone. On installation, the default zone in \u003Ccode class=\"literal\">firewalld\u003C/code> is the \u003Ccode class=\"literal\">public\u003C/code> zone. You can change the default zone.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tMake network zone names self-explanatory to help users understand them quickly.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tTo avoid any security problems, review the default zone configuration and disable any unnecessary services according to your needs and risk assessments.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">firewalld.zone(5)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"firewall-policies_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.3. Firewall policies\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe firewall policies specify the desired security state of your network. They outline rules and actions to take for different types of traffic. Typically, the policies contain rules for the following types of traffic:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIncoming traffic\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOutgoing traffic\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tForward traffic\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSpecific services and applications\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNetwork address translations (NAT)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tFirewall policies use the concept of firewall zones. Each zone is associated with a specific set of firewall rules that determine the traffic allowed. Policies apply firewall rules in a stateful, unidirectional manner. This means you only consider one direction of the traffic. The traffic return path is implicitly allowed due to stateful filtering of \u003Ccode class=\"literal\">firewalld\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tPolicies are associated with an ingress zone and an egress zone. The ingress zone is where the traffic originated (received). The egress zone is where the traffic leaves (sent).\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe firewall rules defined in a policy can reference the firewall zones to apply consistent configurations across multiple network interfaces.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"firewall-rules_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.4. Firewall rules\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use the firewall rules to implement specific configurations for allowing or blocking network traffic. As a result, you can control the flow of network traffic to protect your system from security threats.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFirewall rules typically define certain criteria based on various attributes. The attributes can be as:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSource IP addresses\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDestination IP addresses\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTransfer Protocols (TCP, UDP, …​)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tPorts\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNetwork interfaces\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> utility organizes the firewall rules into zones (such as \u003Ccode class=\"literal\">public\u003C/code>, \u003Ccode class=\"literal\">internal\u003C/code>, and others) and policies. Each zone has its own set of rules that determine the level of traffic freedom for network interfaces associated with a particular zone.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"zone-configuration-files_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.5. Zone configuration files\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tA \u003Ccode class=\"literal\">firewalld\u003C/code> zone configuration file contains the information for a zone. These are the zone description, services, ports, protocols, icmp-blocks, masquerade, forward-ports and rich language rules in an XML file format. The file name has to be \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>zone-name\u003C/em>\u003C/span>.xml\u003C/code> where the length of \u003Cspan class=\"emphasis\">\u003Cem>zone-name\u003C/em>\u003C/span> is currently limited to 17 chars. The zone configuration files are located in the \u003Ccode class=\"literal\">/usr/lib/firewalld/zones/\u003C/code> and \u003Ccode class=\"literal\">/etc/firewalld/zones/\u003C/code> directories.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe following example shows a configuration that allows one service (\u003Ccode class=\"literal\">SSH\u003C/code>) and one port range, for both the \u003Ccode class=\"literal\">TCP\u003C/code> and \u003Ccode class=\"literal\">UDP\u003C/code> protocols:\n\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-xml\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;zone&gt;\n  &lt;short&gt;My Zone&lt;/short&gt;\n  &lt;description&gt;Here you can describe the characteristic features of the zone.&lt;/description&gt;\n  &lt;service name=\"ssh\"/&gt;\n  &lt;port protocol=\"udp\" port=\"1025-65535\"/&gt;\n  &lt;port protocol=\"tcp\" port=\"1025-65535\"/&gt;\n&lt;/zone&gt;\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">firewalld.zone\u003C/code> manual page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"predefined-firewalld-services_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.6. Predefined firewalld services\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is a predefined set of firewall rules that define access to a specific application or network service. Each service represents a combination of the following elements:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLocal port\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNetwork protocol\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAssociated firewall rules\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSource ports and destinations\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFirewall helper modules that load automatically if a service is enabled\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tA service simplifies packet filtering and saves you time because it achieves several tasks at once. For example, \u003Ccode class=\"literal\">firewalld\u003C/code> can perform the following tasks at once:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen a port\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDefine network protocol\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEnable packet forwarding\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tService configuration options and generic file information are described in the \u003Ccode class=\"literal\">firewalld.service(5)\u003C/code> man page. The services are specified by means of individual XML configuration files, which are named in the following format: \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>service-name\u003C/em>\u003C/span>.xml\u003C/code>. Protocol names are preferred over service or application names in \u003Ccode class=\"literal\">firewalld\u003C/code>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can configure \u003Ccode class=\"literal\">firewalld\u003C/code> in the following ways:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse utilities:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-config\u003C/code> - graphical utility\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd\u003C/code> - command-line utility\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-offline-cmd\u003C/code> - command-line utility\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEdit the XML files in the \u003Ccode class=\"literal\">/etc/firewalld/services/\u003C/code> directory.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you do not add or change the service, no corresponding XML file exists in \u003Ccode class=\"literal\">/etc/firewalld/services/\u003C/code>. You can use the files in \u003Ccode class=\"literal\">/usr/lib/firewalld/services/\u003C/code> as templates.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld.service(5)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"working-with-firewalld-zones_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.7. Working with firewalld zones\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tZones represent a concept to manage incoming traffic more transparently. The zones are connected to networking interfaces or assigned a range of source addresses. You manage firewall rules for each zone independently, which enables you to define complex firewall settings and apply them to the traffic.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"customizing-firewall-settings-for-a-specific-zone-to-enhance-security_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.1. Customizing firewall settings for a specific zone to enhance security\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can strengthen your network security by modifying the firewall settings and associating a specific network interface or connection with a particular firewall zone. By defining granular rules and restrictions for a zone, you can control inbound and outbound traffic based on your intended security levels.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, you can achieve the following benefits:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tProtection of sensitive data\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPrevention of unauthorized access\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tMitigation of potential network threats\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the available firewall zones:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-zones\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewall-cmd --get-zones\u003C/code> command displays all zones that are available on the system, but it does not show any details for particular zones. To see more detailed information for all zones, use the \u003Ccode class=\"literal\">firewall-cmd --list-all-zones\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tChoose the zone you want to use for this configuration.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tModify firewall settings for the chosen zone. For example, to allow the \u003Ccode class=\"literal\">SSH\u003C/code> service and remove the \u003Ccode class=\"literal\">ftp\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-service=ssh --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_chosen_zone&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --remove-service=ftp --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;same_chosen_zone&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAssign a network interface to the firewall zone:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tList the available network interfaces:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tActivity of a zone is determined by the presence of network interfaces or source address ranges that match its configuration. The default zone is active for unclassified traffic but is not always active if no traffic matches its rules.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAssign a network interface to the chosen zone:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_chosen_zone&gt;\u003C/em>\u003C/span> --change-interface=&lt;\u003Cspan class=\"emphasis\">\u003Cem>interface_name\u003C/em>\u003C/span>&gt; --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAssigning a network interface to a zone is more suitable for applying consistent firewall settings to all traffic on a particular interface (physical or virtual).\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewall-cmd\u003C/code> command, when used with the \u003Ccode class=\"literal\">--permanent\u003C/code> option, often involves updating NetworkManager connection profiles to make changes to the firewall configuration permanent. This integration between \u003Ccode class=\"literal\">firewalld\u003C/code> and NetworkManager ensures consistent network and firewall settings.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the updated settings for your chosen zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;your_chosen_zone&gt;\u003C/em>\u003C/span> --list-all\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output displays all zone settings including the assigned services, network interface, and network connections (sources).\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"changing-the-default-zone_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.2. Changing the default zone\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tSystem administrators assign a zone to a networking interface in its configuration files. If an interface is not assigned to a specific zone, it is assigned to the default zone. After each restart of the \u003Ccode class=\"literal\">firewalld\u003C/code> service, \u003Ccode class=\"literal\">firewalld\u003C/code> loads the settings for the default zone and makes it active. Note that settings for all other zones are preserved and ready to be used.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTypically, zones are assigned to interfaces by NetworkManager according to the \u003Ccode class=\"literal\">connection.zone\u003C/code> setting in NetworkManager connection profiles. Also, after a reboot NetworkManager manages assignments for \"activating\" those zones.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tTo set up the default zone:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the current default zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-default-zone\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet the new default zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --set-default-zone \u003Cspan class=\"emphasis\">\u003Cem>&lt;zone_name\u003C/em>\u003C/span>&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tFollowing this procedure, the setting is a permanent setting, even without the \u003Ccode class=\"literal\">--permanent\u003C/code> option.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"assigning-a-network-interface-to-a-zone_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.3. Assigning a network interface to a zone\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tIt is possible to define different sets of rules for different zones and then change the settings quickly by changing the zone for the interface that is being used. With multiple interfaces, a specific zone can be set for each of them to distinguish traffic that is coming through them.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tTo assign the zone to a specific interface:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the active zones and the interfaces assigned to them:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAssign the interface to a different zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>zone_name\u003C/em>\u003C/span> --change-interface=\u003Cspan class=\"emphasis\">\u003Cem>interface_name\u003C/em>\u003C/span> --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"assigning-a-zone-to-a-connection-using-nmcli_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.4. Assigning a zone to a connection using nmcli\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can add a \u003Ccode class=\"literal\">firewalld\u003C/code> zone to a \u003Ccode class=\"literal\">NetworkManager\u003C/code> connection using the \u003Ccode class=\"literal\">nmcli\u003C/code> utility.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAssign the zone to the \u003Ccode class=\"literal\">NetworkManager\u003C/code> connection profile:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nmcli connection modify \u003Cspan class=\"emphasis\">\u003Cem>profile\u003C/em>\u003C/span> connection.zone \u003Cspan class=\"emphasis\">\u003Cem>zone_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tActivate the connection:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nmcli connection up \u003Cspan class=\"emphasis\">\u003Cem>profile\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"manually-assigning-a-zone-to-a-network-connection-in-a-connection-profile-file_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.5. Manually assigning a zone to a network connection in a connection profile file\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tIf you cannot use the \u003Ccode class=\"literal\">nmcli\u003C/code> utility to modify a connection profile, you can manually edit the corresponding file of the profile to assign a \u003Ccode class=\"literal\">firewalld\u003C/code> zone.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tModifying the connection profile with the \u003Ccode class=\"literal\">nmcli\u003C/code> utility to assign a \u003Ccode class=\"literal\">firewalld\u003C/code> zone is more efficient. For details, see \u003Ca class=\"link\" href=\"#assigning-a-network-interface-to-a-zone_working-with-firewalld-zones\" title=\"1.7.3. Assigning a network interface to a zone\">Assigning a network interface to a zone\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDetermine the path to the connection profile and its format:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nmcli -f NAME,FILENAME connection\u003C/strong>\u003C/span>\nNAME    FILENAME\nenp1s0  /etc/NetworkManager/system-connections/enp1s0.nmconnection\nenp7s0  /etc/sysconfig/network-scripts/ifcfg-enp7s0\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNetworkManager uses separate directories and file names for the different connection profile formats:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tProfiles in \u003Ccode class=\"literal\">/etc/NetworkManager/system-connections/\u003Cspan class=\"emphasis\">\u003Cem>&lt;connection_name&gt;\u003C/em>\u003C/span>.nmconnection\u003C/code> files use the keyfile format.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tProfiles in \u003Ccode class=\"literal\">/etc/sysconfig/network-scripts/ifcfg-\u003Cspan class=\"emphasis\">\u003Cem>&lt;interface_name&gt;\u003C/em>\u003C/span>\u003C/code> files use the ifcfg format.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDepending on the format, update the corresponding file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the file uses the keyfile format, append \u003Ccode class=\"literal\">zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;name&gt;\u003C/em>\u003C/span>\u003C/code> to the \u003Ccode class=\"literal\">[connection]\u003C/code> section of the \u003Ccode class=\"literal\">/etc/NetworkManager/system-connections/\u003Cspan class=\"emphasis\">\u003Cem>&lt;connection_name&gt;\u003C/em>\u003C/span>.nmconnection\u003C/code> file:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[connection]\n...\n\u003Cspan class=\"strong strong\">\u003Cstrong>zone=internal\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the file uses the ifcfg format, append \u003Ccode class=\"literal\">ZONE=\u003Cspan class=\"emphasis\">\u003Cem>&lt;name&gt;\u003C/em>\u003C/span>\u003C/code> to the \u003Ccode class=\"literal\">/etc/sysconfig/network-scripts/ifcfg-\u003Cspan class=\"emphasis\">\u003Cem>&lt;interface_name&gt;\u003C/em>\u003C/span>\u003C/code> file:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>ZONE=internal\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the connection profiles:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nmcli connection reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReactivate the connection profiles\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nmcli connection up \u003Cspan class=\"emphasis\">\u003Cem>&lt;profile_name&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the zone of the interface, for example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-zone-of-interface enp1s0\u003C/strong>\u003C/span>\ninternal\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"creating-a-new-zone_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.6. Creating a new zone\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo use custom zones, create a new zone and use it just like a predefined zone. New zones require the \u003Ccode class=\"literal\">--permanent\u003C/code> option, otherwise the command does not work.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a new zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --new-zone=\u003Cspan class=\"emphasis\">\u003Cem>zone-name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake the new zone usable:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command applies recent changes to the firewall configuration without interrupting network services that are already running.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck if the new zone is added to your permanent settings:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-zones --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-zones-using-the-web-console_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.7. Enabling zones by using the web console\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can apply predefined and existing firewall zones on a particular interface or a range of IP addresses through the RHEL web console.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Networking\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png\" alt=\"Edit firewall rules and zones in the web console\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you do not see the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button, log in to the web console with the administrator privileges.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Firewall\u003C/strong>\u003C/span> section, click \u003Cspan class=\"strong strong\">\u003Cstrong>Add new zone\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Add zone\u003C/strong>\u003C/span> dialog box, select a zone from the \u003Cspan class=\"strong strong\">\u003Cstrong>Trust level\u003C/strong>\u003C/span> options.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe web console displays all zones predefined in the \u003Ccode class=\"literal\">firewalld\u003C/code> service.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Interfaces\u003C/strong>\u003C/span> part, select an interface or interfaces on which the selected zone is applied.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Allowed Addresses\u003C/strong>\u003C/span> part, you can select whether the zone is applied on:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tthe whole subnet\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tor a range of IP addresses in the following format:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t192.168.1.0\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t192.168.1.0/24\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t192.168.1.0/24, 192.168.1.0\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"guibutton\">Add zone\u003C/span> button.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/f83e21d20ef3cce3db3034a1512f4a99/cockpit_add-zone.png\" alt=\"Add a firewall zone\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the configuration in the \u003Cspan class=\"strong strong\">\u003Cstrong>Firewall\u003C/strong>\u003C/span> section:\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/52573e07bd7271caaba32b93744d139e/cockpit_active-zones.png\" alt=\"Active zones\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"disabling-zones-using-the-web-console_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.8. Disabling zones by using the web console\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can disable a firewall zone in your firewall configuration by using the web console.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Networking\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png\" alt=\"cockpit edit rules and zones\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you do not see the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button, log in to the web console with the administrator privileges.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"strong strong\">\u003Cstrong>Options\u003C/strong>\u003C/span> icon at the zone you want to remove.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/32c4cc4561732a522bebeb5c055e987a/cockpit_delete-zone.png\" alt=\"cockpit delete zone\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Delete\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tThe zone is now disabled and the interface does not include opened services and ports which were configured in the zone.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.9. Using zone targets to set default behavior for incoming traffic\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tFor every zone, you can set a default behavior that handles incoming traffic that is not further specified. Such behavior is defined by setting the target of the zone. There are four options:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ACCEPT\u003C/code>: Accepts all incoming packets except those disallowed by specific rules.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">REJECT\u003C/code>: Rejects all incoming packets except those allowed by specific rules. When \u003Ccode class=\"literal\">firewalld\u003C/code> rejects packets, the source machine is informed about the rejection.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">DROP\u003C/code>: Drops all incoming packets except those allowed by specific rules. When \u003Ccode class=\"literal\">firewalld\u003C/code> drops packets, the source machine is not informed about the packet drop.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">default\u003C/code>: Similar behavior as for \u003Ccode class=\"literal\">REJECT\u003C/code>, but with special meanings in certain scenarios.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tTo set a target for a zone:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the information for the specific zone to see the default target:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>zone-name\u003C/em>\u003C/span> --list-all\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet a new target in the zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --zone=zone-name --set-target=&lt;default|ACCEPT|REJECT|DROP&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"controlling-network-traffic-using-firewalld_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.8. Controlling network traffic using \u003Ccode class=\"literal\">firewalld\u003C/code>\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> package installs a large number of predefined service files and you can add more or customize them. You can then use these service definitions to open or close ports for services without knowing the protocol and port numbers they use.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"controlling-traffic-with-predefined-services-using-the-cli_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.1. Controlling traffic with predefined services using the CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe most straightforward method to control traffic is to add a predefined service to \u003Ccode class=\"literal\">firewalld\u003C/code>. This opens all necessary ports and modifies other settings according to the \u003Cspan class=\"emphasis\">\u003Cem>service definition file\u003C/em>\u003C/span>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck that the service in \u003Ccode class=\"literal\">firewalld\u003C/code> is not already allowed:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-services\u003C/strong>\u003C/span>\nssh dhcpv6-client\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command lists the services that are enabled in the default zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all predefined services in \u003Ccode class=\"literal\">firewalld\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-services\u003C/strong>\u003C/span>\nRH-Satellite-6 amanda-client amanda-k5-client bacula bacula-client bitcoin bitcoin-rpc bitcoin-testnet bitcoin-testnet-rpc ceph ceph-mon cfengine condor-collector ctdb dhcp dhcpv6 dhcpv6-client dns docker-registry ...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command displays a list of available services for the default zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the service to the list of services that \u003Ccode class=\"literal\">firewalld\u003C/code> allows:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-service=\u003Cspan class=\"emphasis\">\u003Cem>&lt;service_name&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command adds the specified service to the default zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake the new settings persistent:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command applies these runtime changes to the permanent configuration of the firewall. By default, it applies these changes to the configuration of the default zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all permanent firewall rules:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-all --permanent\u003C/strong>\u003C/span>\npublic\n  target: default\n  icmp-block-inversion: no\n  interfaces:\n  sources:\n  services: cockpit dhcpv6-client ssh\n  ports:\n  protocols:\n  forward: no\n  masquerade: no\n  forward-ports:\n  source-ports:\n  icmp-blocks:\n  rich rules:\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command displays complete configuration with the permanent firewall rules of the default firewall zone (\u003Ccode class=\"literal\">public\u003C/code>).\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the validity of the permanent configuration of the \u003Ccode class=\"literal\">firewalld\u003C/code> service.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --check-config\u003C/strong>\u003C/span>\nsuccess\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf the permanent configuration is invalid, the command returns an error with further details:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --check-config\u003C/strong>\u003C/span>\nError: INVALID_PROTOCOL: 'public.xml': 'tcpx' not from {'tcp'|'udp'|'sctp'|'dccp'}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can also manually inspect the permanent configuration files to verify the settings. The main configuration file is \u003Ccode class=\"literal\">/etc/firewalld/firewalld.conf\u003C/code>. The zone-specific configuration files are in the \u003Ccode class=\"literal\">/etc/firewalld/zones/\u003C/code> directory and the policies are in the \u003Ccode class=\"literal\">/etc/firewalld/policies/\u003C/code> directory.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"controlling-traffic-with-predefined-services-using-the-gui_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.2. Controlling traffic with predefined services using the GUI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can control the network traffic with predefined services using a graphical user interface. The Firewall Configuration application provides an accessible and user-friendly alternative to the command-line utilities.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">firewall-config\u003C/code> package.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo enable or disable a predefined or custom service:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tStart the \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-config\u003C/strong>\u003C/span> utility and select the network zone whose services are to be configured.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSelect the \u003Ccode class=\"literal\">Zones\u003C/code> tab and then the \u003Ccode class=\"literal\">Services\u003C/code> tab below.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSelect the checkbox for each type of service you want to trust or clear the checkbox to block a service in the selected zone.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo edit a service:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tStart the \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-config\u003C/strong>\u003C/span> utility.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSelect \u003Ccode class=\"literal\">Permanent\u003C/code> from the menu labeled \u003Ccode class=\"literal\">Configuration\u003C/code>. Additional icons and menu buttons appear at the bottom of the \u003Cspan class=\"guibutton\">Services\u003C/span> window.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSelect the service you want to configure.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">Ports\u003C/code>, \u003Ccode class=\"literal\">Protocols\u003C/code>, and \u003Ccode class=\"literal\">Source Port\u003C/code> tabs enable adding, changing, and removing of ports, protocols, and source port for the selected service. The modules tab is for configuring \u003Cspan class=\"strong strong\">\u003Cstrong>Netfilter\u003C/strong>\u003C/span> helper modules. The \u003Ccode class=\"literal\">Destination\u003C/code> tab enables limiting traffic to a particular destination address and Internet Protocol (\u003Ccode class=\"literal\">IPv4\u003C/code> or \u003Ccode class=\"literal\">IPv6\u003C/code>).\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIt is not possible to alter service settings in the \u003Ccode class=\"literal\">Runtime\u003C/code> mode.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPress the \u003Ckbd class=\"keycap\">Super\u003C/kbd> key to enter the Activities overview.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSelect the Firewall Configuration utility.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tYou can also start the graphical firewall configuration utility using the command-line, by entering the \u003Ccode class=\"literal\">firewall-config\u003C/code> command.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tView the list of configurations of your firewall:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/88d32460d4432eae055b37efbb85c465/firewall-configuration.png\" alt=\"firewall configuration\"/>\u003C/div>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">Firewall Configuration\u003C/code> window opens. Note that this command can be run as a normal user, but you are prompted for an administrator password occasionally.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"enabling-services-on-firewall-using-the-web-console_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.3. Enabling services on the firewall by using the web console\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tBy default, services are added to the default firewall zone. If you use more firewall zones on more network interfaces, you must select a zone first and then add the service with port.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe RHEL 9 web console displays predefined \u003Ccode class=\"literal\">firewalld\u003C/code> services and you can add them to active firewall zones.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe RHEL 9 web console configures the \u003Cspan class=\"strong strong\">\u003Cstrong>firewalld\u003C/strong>\u003C/span> service.\n\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\tThe web console does not allow generic \u003Ccode class=\"literal\">firewalld\u003C/code> rules which are not listed in the web console.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Networking\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png\" alt=\"cockpit edit rules and zones\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you do not see the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button, log in to the web console with the administrator privileges.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Firewall\u003C/strong>\u003C/span> section, select a zone for which you want to add the service and click \u003Cspan class=\"strong strong\">\u003Cstrong>Add Services\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/be466ba1b73aee638c1afbdf3f183a48/cockpit_add-services.png\" alt=\"cockpit add services\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Add Services\u003C/strong>\u003C/span> dialog box, find the service you want to enable on the firewall.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable services according to your scenario:\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/934b2f09b17e4fbc3bcf17ae2b1874a7/cockpit_add-service.png\" alt=\"cockpit add service\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Add Services\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tAt this point, the RHEL 9 web console displays the service in the zone’s list of \u003Cspan class=\"strong strong\">\u003Cstrong>Services\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"configuring-custom-ports-using-the-web-console_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.4. Configuring custom ports by using the web console\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can add configure custom ports for services through the RHEL web console.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou have installed the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor instructions, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#installing-the-web-console_getting-started-with-the-rhel-9-web-console\">Installing and enabling the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLog in to the RHEL 9 web console.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/getting-started-with-the-rhel-9-web-console_system-management-using-the-rhel-9-web-console#logging-in-to-the-web-console_getting-started-with-the-rhel-9-web-console\">Logging in to the web console\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Networking\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/d27aacd3d967e45ae56180ca6ac5ae2e/cockpit_edit-rules-and-zones.png\" alt=\"cockpit edit rules and zones\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you do not see the \u003Cspan class=\"guibutton\">Edit rules and zones\u003C/span> button, log in to the web console with the administrative privileges.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Firewall\u003C/strong>\u003C/span> section, select a zone for which you want to configure a custom port and click \u003Cspan class=\"strong strong\">\u003Cstrong>Add Services\u003C/strong>\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/be466ba1b73aee638c1afbdf3f183a48/cockpit_add-services.png\" alt=\"RHEL web console: Add services\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Add services\u003C/strong>\u003C/span> dialog box, click on the \u003Cspan class=\"guibutton\">Custom Ports\u003C/span> radio button.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn the TCP and UDP fields, add ports according to examples. You can add ports in the following formats:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tPort numbers such as 22\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRange of port numbers such as 5900-5910\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAliases such as nfs, rsync\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tYou can add multiple values into each field. Values must be separated with the comma and without the space, for example: 8080,8081,http\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter adding the port number in the \u003Cspan class=\"strong strong\">\u003Cstrong>TCP\u003C/strong>\u003C/span> filed, the \u003Cspan class=\"strong strong\">\u003Cstrong>UDP\u003C/strong>\u003C/span> filed, or both, verify the service name in the \u003Cspan class=\"strong strong\">\u003Cstrong>Name\u003C/strong>\u003C/span> field.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Cspan class=\"strong strong\">\u003Cstrong>Name\u003C/strong>\u003C/span> field displays the name of the service for which is this port reserved. You can rewrite the name if you are sure that this port is free to use and no server needs to communicate on this port.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Name\u003C/strong>\u003C/span> field, add a name for the service including defined ports.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClick on the \u003Cspan class=\"guibutton\">Add Ports\u003C/span> button.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/4a27ff9eaf871424cbd95afbfbd4a2da/cockpit_add-ports.png\" alt=\"RHEL web console: Add ports\"/>\u003C/span>\n\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tTo verify the settings, go to the \u003Cspan class=\"strong strong\">\u003Cstrong>Firewall\u003C/strong>\u003C/span> page and find the service in the list of zone’s \u003Cspan class=\"strong strong\">\u003Cstrong>Services\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US/images/52573e07bd7271caaba32b93744d139e/cockpit_active-zones.png\" alt=\"RHEL web console: Active zones\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"configuring-firewalld-to-allow-hosting-a-secure-web-server_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.5. Configuring firewalld to allow hosting a secure web server\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tPorts are logical services that enable an operating system to receive and distinguish network traffic and forward it to system services. The system services are represented by a daemon that listens on the port and waits for any traffic coming to this port.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tNormally, system services listen on standard ports that are reserved for them. The \u003Ccode class=\"literal systemitem\">httpd\u003C/code> daemon, for example, listens on port 80. However, system administrators can directly specify the port number instead of the service name.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">firewalld\u003C/code> service to configure access to a secure web server for hosting your data.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck the currently active firewall zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the HTTPS service to the appropriate zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;zone_name&gt;\u003C/em>\u003C/span> --add-service=https --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the firewall configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck if the port is open in \u003Ccode class=\"literal\">firewalld\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you opened the port by specifying the port number, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;zone_name&gt;\u003C/em>\u003C/span> --list-all\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you opened the port by specifying a service definition, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;zone_name&gt;\u003C/em>\u003C/span> --list-services\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"closing-unused-or-unnecessary-ports-to-enhance-network-security_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.6. Closing unused or unnecessary ports to enhance network security\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWhen an open port is no longer needed, you can use the \u003Ccode class=\"literal\">firewalld\u003C/code> utility to close it.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tClose all unnecessary ports to reduce the potential attack surface and minimize the risk of unauthorized access or exploitation of vulnerabilities.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all allowed ports:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-ports\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy default, this command lists the ports that are enabled in the default zone.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tThis command will only give you a list of ports that are opened as ports. You will not be able to see any open ports that are opened as a service. For that case, consider using the \u003Ccode class=\"literal\">--list-all\u003C/code> option instead of \u003Ccode class=\"literal\">--list-ports\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRemove the port from the list of allowed ports to close it for the incoming traffic:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --remove-port=port-number/port-type\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis command removes a port from a zone. If you do not specify a zone, it will remove the port from the default zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake the new settings persistent:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWithout specifying a zone, this command applies runtime changes to the permanent configuration of the default zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the active zones and choose the zone you want to inspect:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the currently open ports in the selected zone to check if the unused or unnecessary ports are closed:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;zone_to_inspect&gt;\u003C/em>\u003C/span> --list-ports\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"controlling-traffic-through-the-cli_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.7. Controlling traffic through the CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> command to:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tdisable networking traffic\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tenable networking traffic\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tAs a result, you can for example enhance your system defenses, ensure data privacy or optimize network resources.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tEnabling panic mode stops all networking traffic. For this reason, it should be used only when you have the physical access to the machine or if you are logged in using a serial console.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo immediately disable networking traffic, switch panic mode on:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --panic-on\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSwitching off panic mode reverts the firewall to its permanent settings. To switch panic mode off, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --panic-off\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo see whether panic mode is switched on or off, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --query-panic\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_controlling-traffic-with-protocols-using-gui_controlling-network-traffic-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.8. Controlling traffic with protocols using GUI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo permit traffic through the firewall using a certain protocol, you can use the GUI.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou installed the \u003Ccode class=\"literal\">firewall-config\u003C/code> package\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tStart the \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-config\u003C/strong>\u003C/span> tool and select the network zone whose settings you want to change.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSelect the \u003Ccode class=\"literal\">Protocols\u003C/code> tab and click the \u003Ccode class=\"literal\">Add\u003C/code> button on the right-hand side. The \u003Ccode class=\"literal\">Protocol\u003C/code> window opens.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEither select a protocol from the list or select the \u003Ccode class=\"literal\">Other Protocol\u003C/code> check box and enter the protocol in the field.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.9. Using zones to manage incoming traffic depending on a source\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use zones to manage incoming traffic based on its source. Incoming traffic in this context is any data that is destined for your system, or passes through the host running \u003Ccode class=\"literal\">firewalld\u003C/code>. The source typically refers to the IP address or network range from which the traffic originates. As a result, you can sort incoming traffic and assign it to different zones to allow or disallow services that can be reached by that traffic.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tMatching by source address takes precedence over matching by interface name. When you add a source to a zone, the firewall will prioritize the source-based rules for incoming traffic over interface-based rules. This means that if incoming traffic matches a source address specified for a particular zone, the zone associated with that source address will determine how the traffic is handled, regardless of the interface through which it arrives. On the other hand, interface-based rules are generally a fallback for traffic that does not match specific source-based rules. These rules apply to traffic, for which the source is not explicitly associated with a zone. This allows you to define a default behavior for traffic that does not have a specific source-defined zone.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.1. Adding a source\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo route incoming traffic into a specific zone, add the source to that zone. The source can be an IP address or an IP mask in the classless inter-domain routing (CIDR) notation.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIn case you add multiple zones with an overlapping network range, they are ordered alphanumerically by zone name and only the first one is considered.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo set the source in the current zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-source=&lt;source&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo set the source IP address for a specific zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=zone-name --add-source=&lt;source&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe following procedure allows all incoming traffic from \u003Cspan class=\"emphasis\">\u003Cem>192.168.2.15\u003C/em>\u003C/span> in the \u003Ccode class=\"literal\">trusted\u003C/code> zone:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all available zones:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-zones\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the source IP to the trusted zone in the permanent mode:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=trusted --add-source=192.168.2.15\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake the new settings persistent:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.2. Removing a source\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWhen you remove a source from a zone, the traffic which originates from the source is no longer directed through the rules specified for that source. Instead, the traffic falls back to the rules and settings of the zone associated with the interface from which it originates, or goes to the default zone.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList allowed sources for the required zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=zone-name --list-sources\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRemove the source from the zone permanently:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=zone-name --remove-source=&lt;source&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake the new settings persistent:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.3. Removing a source port\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tBy removing a source port you disable sorting the traffic based on a port of origin.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo remove a source port:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=zone-name --remove-source-port=&lt;port-name&gt;/&lt;tcp|udp|sctp|dccp&gt;\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.4. Using zones and sources to allow a service for only a specific domain\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo allow traffic from a specific network to use a service on a machine, use zones and source. The following procedure allows only HTTP traffic from the \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code> network while any other traffic is blocked.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tWhen you configure this scenario, use a zone that has the \u003Ccode class=\"literal\">default\u003C/code> target. Using a zone that has the target set to \u003Ccode class=\"literal\">ACCEPT\u003C/code> is a security risk, because for traffic from \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code>, all network connections would be accepted.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all available zones:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-zones\u003C/strong>\u003C/span>\nblock dmz drop external home internal public trusted work\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the IP range to the \u003Ccode class=\"literal\">internal\u003C/code> zone to route the traffic originating from the source through the zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=internal --add-source=192.0.2.0/24\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">http\u003C/code> service to the \u003Ccode class=\"literal\">internal\u003C/code> zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=internal --add-service=http\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tMake the new settings persistent:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCheck that the \u003Ccode class=\"literal\">internal\u003C/code> zone is active and that the service is allowed in it:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=internal --list-all\u003C/strong>\u003C/span>\ninternal (active)\n  target: default\n  icmp-block-inversion: no\n  interfaces:\n  sources: \u003Cspan class=\"strong strong\">\u003Cstrong>192.0.2.0/24\u003C/strong>\u003C/span>\n  services: cockpit dhcpv6-client mdns samba-client ssh \u003Cspan class=\"strong strong\">\u003Cstrong>http\u003C/strong>\u003C/span>\n  ...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewalld.zones(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.10. Filtering forwarded traffic between zones\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code> enables you to control the flow of network data between different \u003Ccode class=\"literal\">firewalld\u003C/code> zones. By defining rules and policies, you can manage how traffic is allowed or blocked when it moves between these zones.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe policy objects feature provides forward and output filtering in \u003Ccode class=\"literal\">firewalld\u003C/code>. You can use \u003Ccode class=\"literal\">firewalld\u003C/code> to filter traffic between different zones to allow access to locally hosted VMs to connect the host.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"con_relationship-between-policy-objects-and-zones_assembly_filtering-forwarded-traffic-between-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.1. The relationship between policy objects and zones\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tPolicy objects allow the user to attach firewalld’s primitives such as services, ports, and rich rules to the policy. You can apply the policy objects to traffic that passes between zones in a stateful and unidirectional manner.\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --new-policy \u003Cspan class=\"emphasis\">\u003Cem>myOutputPolicy\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy \u003Cspan class=\"emphasis\">\u003Cem>myOutputPolicy\u003C/em>\u003C/span> --add-ingress-zone HOST\u003C/strong>\u003C/span>\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy \u003Cspan class=\"emphasis\">\u003Cem>myOutputPolicy\u003C/em>\u003C/span> --add-egress-zone ANY\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">HOST\u003C/code> and \u003Ccode class=\"literal\">ANY\u003C/code> are the symbolic zones used in the ingress and egress zone lists.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">HOST\u003C/code> symbolic zone allows policies for the traffic originating from or has a destination to the host running firewalld.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ANY\u003C/code> symbolic zone applies policy to all the current and future zones. \u003Ccode class=\"literal\">ANY\u003C/code> symbolic zone acts as a wildcard for all zones.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-priorities-to-sort-policies_assembly_filtering-forwarded-traffic-between-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.2. Using priorities to sort policies\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tMultiple policies can apply to the same set of traffic, therefore, priorities should be used to create an order of precedence for the policies that may be applied.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo set a priority to sort the policies:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy \u003Cspan class=\"emphasis\">\u003Cem>mypolicy\u003C/em>\u003C/span> --set-priority \u003Cspan class=\"emphasis\">\u003Cem>-500\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\tIn the above example \u003Cspan class=\"emphasis\">\u003Cem>-500\u003C/em>\u003C/span> is a lower priority value but has higher precedence. Thus, -500 will execute before -100.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tLower numerical priority values have higher precedence and are applied first.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-policy-objects-to-filter-traffic-between-locally-hosted-containers-and-a-network-physically-connected-to-the-host_assembly_filtering-forwarded-traffic-between-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.3. Using policy objects to filter traffic between locally hosted containers and a network physically connected to the host\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe policy objects feature allows users to filter traffic between Podman and firewalld zones.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tRed Hat recommends blocking all traffic by default and opening the selective services needed for the Podman utility.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a new firewall policy:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --new-policy podmanToAny\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBlock all traffic from Podman to other zones and allow only necessary services on Podman:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy podmanToAny --set-target REJECT\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy podmanToAny --add-service dhcp\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy podmanToAny --add-service dns\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy podmanToAny --add-service https\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a new Podman zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --new-zone=podman\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDefine the ingress zone for the policy:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy podmanToHost --add-ingress-zone podman\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDefine the egress zone for all other zones:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy podmanToHost --add-egress-zone ANY\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSetting the egress zone to ANY means that you filter from Podman to other zones. If you want to filter to the host, then set the egress zone to HOST.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the firewalld service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart firewalld\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the Podman firewall policy to other zones:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --info-policy podmanToAny\u003C/strong>\u003C/span>\npodmanToAny (active)\n  ...\n  target: REJECT\n  ingress-zones: podman\n  egress-zones: ANY\n  services: dhcp dns https\n  ...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-the-default-target-of-policy-objects_assembly_filtering-forwarded-traffic-between-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.4. Setting the default target of policy objects\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can specify --set-target options for policies. The following targets are available:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ACCEPT\u003C/code> - accepts the packet\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">DROP\u003C/code> - drops the unwanted packets\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">REJECT\u003C/code> - rejects unwanted packets with an ICMP reply\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CONTINUE\u003C/code> (default) - packets will be subject to rules in following policies and zones.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy \u003Cspan class=\"emphasis\">\u003Cem>mypolicy\u003C/em>\u003C/span> --set-target CONTINUE\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify information about the policy\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --info-policy \u003Cspan class=\"emphasis\">\u003Cem>mypolicy\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-dnat-to-forward-https-traffic-to-a-different-host_assembly_filtering-forwarded-traffic-between-zones\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.5. Using DNAT to forward HTTPS traffic to a different host\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf your web server runs in a DMZ with private IP addresses, you can configure destination network address translation (DNAT) to enable clients on the internet to connect to this web server. In this case, the host name of the web server resolves to the public IP address of the router. When a client establishes a connection to a defined port on the router, the router forwards the packets to the internal web server.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe DNS server resolves the host name of the web server to the router’s IP address.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou know the following settings:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe private IP address and port number that you want to forward\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe IP protocol to be used\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe destination IP address and port of the web server where you want to redirect the packets\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a firewall policy:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --new-policy \u003Cspan class=\"emphasis\">\u003Cem>&lt;example_policy&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe policies, as opposed to zones, allow packet filtering for input, output, and forwarded traffic. This is important, because forwarding traffic to endpoints on locally run web servers, containers, or virtual machines requires such capability.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConfigure symbolic zones for the ingress and egress traffic to also enable the router itself to connect to its local IP address and forward this traffic:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy=\u003Cspan class=\"emphasis\">\u003Cem>&lt;example_policy&gt;\u003C/em>\u003C/span> --add-ingress-zone=HOST\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy=\u003Cspan class=\"emphasis\">\u003Cem>&lt;example_policy&gt;\u003C/em>\u003C/span> --add-egress-zone=ANY\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">--add-ingress-zone=HOST\u003C/code> option refers to packets generated locally and transmitted out of the local host. The \u003Ccode class=\"literal\">--add-egress-zone=ANY\u003C/code> option refers to traffic moving to any zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rich rule that forwards traffic to the web server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --policy=\u003Cspan class=\"emphasis\">\u003Cem>&lt;example_policy&gt;\u003C/em>\u003C/span> --add-rich-rule='rule family=\"ipv4\" destination address=\"\u003Cspan class=\"emphasis\">\u003Cem>192.0.2.1\u003C/em>\u003C/span>\" forward-port port=\"\u003Cspan class=\"emphasis\">\u003Cem>443\u003C/em>\u003C/span>\" protocol=\"tcp\" to-port=\"\u003Cspan class=\"emphasis\">\u003Cem>443\u003C/em>\u003C/span>\" to-addr=\"\u003Cspan class=\"emphasis\">\u003Cem>192.51.100.20\u003C/em>\u003C/span>\"'\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe rich rule forwards TCP traffic from port 443 on the IP address of the router (192.0.2.1) to port 443 of the IP address of the web server (192.51.100.20).\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the firewall configuration files:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\nsuccess\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tActivate routing of 127.0.0.0/8 in the kernel:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor persistent changes, run:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"net.ipv4.conf.all.route_localnet=1\" &gt; /etc/sysctl.d/90-enable-route-localnet.conf\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe command persistently configures the \u003Ccode class=\"literal\">route_localnet\u003C/code> kernel parameter and ensures that the setting is preserved after the system reboots.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor applying the settings immediately without a system reboot, run:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/90-enable-route-localnet.conf\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">sysctl\u003C/code> command is useful for applying on-the-fly changes, however the configuration will not persist across system reboots.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConnect to the IP address of the router and to the port that you have forwarded to the web server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>curl https://192.0.2.1:443\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Verify that the \u003Ccode class=\"literal\">net.ipv4.conf.all.route_localnet\u003C/code> kernel parameter is active:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl net.ipv4.conf.all.route_localnet\u003C/strong>\u003C/span>\nnet.ipv4.conf.all.route_localnet = 1\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify that \u003Ccode class=\"literal\">&lt;example_policy&gt;\u003C/code> is active and contains the settings you need, especially the source IP address and port, protocol to be used, and the destination IP address and port:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --info-policy=\u003Cspan class=\"emphasis\">\u003Cem>&lt;example_policy&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nexample_policy (active)\n  priority: -1\n  target: CONTINUE\n  ingress-zones: HOST\n  egress-zones: ANY\n  services:\n  ports:\n  protocols:\n  masquerade: no\n  forward-ports:\n  source-ports:\n  icmp-blocks:\n  rich rules:\n\trule family=\"ipv4\" destination address=\"192.0.2.1\" forward-port port=\"443\" protocol=\"tcp\" to-port=\"443\" to-addr=\"192.51.100.20\"\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd(1)\u003C/code>, \u003Ccode class=\"literal\">firewalld.policies(5)\u003C/code>, \u003Ccode class=\"literal\">firewalld.richlanguage(5)\u003C/code>, \u003Ccode class=\"literal\">sysctl(8)\u003C/code>, and \u003Ccode class=\"literal\">sysctl.conf(5)\u003C/code> man pages\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_configuring-kernel-parameters-at-runtime\">Using configuration files in /etc/sysctl.d/ to adjust kernel parameters\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.11. Configuring NAT using firewalld\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWith \u003Ccode class=\"literal systemitem\">firewalld\u003C/code>, you can configure the following network address translation (NAT) types:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMasquerading\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDestination NAT (DNAT)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRedirect\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"network-address-translation-types_assembly_configuring-nat-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.1. Network address translation types\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThese are the different network address translation (NAT) types:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Masquerading\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse one of these NAT types to change the source IP address of packets. For example, Internet Service Providers (ISPs) do not route private IP ranges, such as \u003Ccode class=\"literal\">10.0.0.0/8\u003C/code>. If you use private IP ranges in your network and users should be able to reach servers on the internet, map the source IP address of packets from these ranges to a public IP address.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMasquerading automatically uses the IP address of the outgoing interface. Therefore, use masquerading if the outgoing interface uses a dynamic IP address.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Destination NAT (DNAT)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tUse this NAT type to rewrite the destination address and port of incoming packets. For example, if your web server uses an IP address from a private IP range and is, therefore, not directly accessible from the internet, you can set a DNAT rule on the router to redirect incoming traffic to this server.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Redirect\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tThis type is a special case of DNAT that redirects packets to a different port on the local machine. For example, if a service runs on a different port than its standard port, you can redirect incoming traffic from the standard port to this specific port.\n\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-ip-address-masquerading_assembly_configuring-nat-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.2. Configuring IP address masquerading\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can enable IP masquerading on your system. IP masquerading hides individual machines behind a gateway when accessing the internet.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo check if IP masquerading is enabled (for example, for the \u003Ccode class=\"literal\">external\u003C/code> zone), enter the following command as \u003Ccode class=\"literal\">root\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>external\u003C/em>\u003C/span> --query-masquerade\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command prints \u003Ccode class=\"literal\">yes\u003C/code> with exit status \u003Ccode class=\"literal\">0\u003C/code> if enabled. It prints \u003Ccode class=\"literal\">no\u003C/code> with exit status \u003Ccode class=\"literal\">1\u003C/code> otherwise. If \u003Ccode class=\"literal\">zone\u003C/code> is omitted, the default zone will be used.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo enable IP masquerading, enter the following command as \u003Ccode class=\"literal\">root\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>external\u003C/em>\u003C/span> --add-masquerade\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tTo make this setting persistent, pass the \u003Ccode class=\"literal\">--permanent\u003C/code> option to the command.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo disable IP masquerading, enter the following command as \u003Ccode class=\"literal\">root\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>external\u003C/em>\u003C/span> --remove-masquerade\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo make this setting permanent, pass the \u003Ccode class=\"literal\">--permanent\u003C/code> option to the command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-dnat-to-forward-incoming-http-traffic_assembly_configuring-nat-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.3. Using DNAT to forward incoming HTTP traffic\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use destination network address translation (DNAT) to direct incoming traffic from one destination address and port to another. Typically, this is useful for redirecting incoming requests from an external network interface to specific internal servers or services.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/sysctl.d/90-enable-IP-forwarding.conf\u003C/code> file with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">net.ipv4.ip_forward=1\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis setting enables IP forwarding in the kernel. It makes the internal RHEL server act as a router and forward packets from network to network.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLoad the setting from the \u003Ccode class=\"literal\">/etc/sysctl.d/90-enable-IP-forwarding.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/90-enable-IP-forwarding.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tForward incoming HTTP traffic:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=public --add-forward-port=port=80:proto=tcp:toaddr=198.51.100.10:toport=8080 --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe previous command defines a DNAT rule with the following settings:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--zone=public\u003C/code> - The firewall zone for which you configure the DNAT rule. You can adjust this to whatever zone you need.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--add-forward-port\u003C/code> - The option that indicates you are adding a port-forwarding rule.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">port=80\u003C/code> - The external destination port.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">proto=tcp\u003C/code> - The protocol indicating that you forward TCP traffic.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">toaddr=198.51.100.10\u003C/code> - The destination IP address.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">toport=8080\u003C/code> - The destination port of the internal server.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--permanent\u003C/code> - The option that makes the DNAT rule persistent across reboots.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the firewall configuration to apply the changes:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the DNAT rule for the firewall zone that you used:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-forward-ports --zone=public\u003C/strong>\u003C/span>\nport=80:proto=tcp:toport=8080:toaddr=198.51.100.10\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAlternatively, view the corresponding XML configuration file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /etc/firewalld/zones/public.xml\u003C/strong>\u003C/span>\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;zone&gt;\n  &lt;short&gt;Public&lt;/short&gt;\n  &lt;description&gt;For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.&lt;/description&gt;\n  &lt;service name=\"ssh\"/&gt;\n  &lt;service name=\"dhcpv6-client\"/&gt;\n  &lt;service name=\"cockpit\"/&gt;\n  \u003Cspan class=\"strong strong\">\u003Cstrong>&lt;forward-port port=\"80\" protocol=\"tcp\" to-port=\"8080\" to-addr=\"198.51.100.10\"/&gt;\u003C/strong>\u003C/span>\n  &lt;forward/&gt;\n&lt;/zone&gt;\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#doc-wrapper\">Configuring kernel parameters at runtime\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd(1)\u003C/code> manual page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"redirecting-traffic-from-a-non-standard-port-to-make-the-web-service-accessible-on-a-standard-port_assembly_configuring-nat-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.4. Redirecting traffic from a non-standard port to make the web service accessible on a standard port\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use the redirect mechanism to make the web service that internally runs on a non-standard port accessible without requiring users to specify the port in the URL. As a result, the URLs are simpler and provide better browsing experience, while a non-standard port is still used internally or for specific requirements.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/sysctl.d/90-enable-IP-forwarding.conf\u003C/code> file with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">net.ipv4.ip_forward=1\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis setting enables IP forwarding in the kernel.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tLoad the setting from the \u003Ccode class=\"literal\">/etc/sysctl.d/90-enable-IP-forwarding.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/90-enable-IP-forwarding.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the NAT redirect rule:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=public --add-forward-port=port=\u003Cspan class=\"emphasis\">\u003Cem>&lt;standard_port&gt;\u003C/em>\u003C/span>:proto=tcp:toport=\u003Cspan class=\"emphasis\">\u003Cem>&lt;non_standard_port&gt;\u003C/em>\u003C/span> --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe previous command defines the NAT redirect rule with the following settings:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--zone=public\u003C/code> - The firewall zone, for which you configure the rule. You can adjust this to whatever zone you need.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--add-forward-port=port=\u003Cspan class=\"emphasis\">\u003Cem>&lt;non_standard_port&gt;\u003C/em>\u003C/span>\u003C/code> - The option that indicates you are adding a port-forwarding (redirecting) rule with source port on which you initially receive the incoming traffic.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">proto=tcp\u003C/code> - The protocol indicating that you redirect TCP traffic.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">toport=\u003Cspan class=\"emphasis\">\u003Cem>&lt;standard_port&gt;\u003C/em>\u003C/span>\u003C/code> - The destination port, to which the incoming traffic should be redirected after being received on the source port.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">--permanent\u003C/code> - The option that makes the rule persist across reboots.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the firewall configuration to apply the changes:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the redirect rule for the firewall zone that you used:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-forward-ports\u003C/strong>\u003C/span>\nport=8080:proto=tcp:toport=80:toaddr=\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAlternatively, view the corresponding XML configuration file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /etc/firewalld/zones/public.xml\u003C/strong>\u003C/span>\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;zone&gt;\n  &lt;short&gt;Public&lt;/short&gt;\n  &lt;description&gt;For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.&lt;/description&gt;\n  &lt;service name=\"ssh\"/&gt;\n  &lt;service name=\"dhcpv6-client\"/&gt;\n  &lt;service name=\"cockpit\"/&gt;\n  \u003Cspan class=\"strong strong\">\u003Cstrong>&lt;forward-port port=\"8080\" protocol=\"tcp\" to-port=\"80\"/&gt;\u003C/strong>\u003C/span>\n  &lt;forward/&gt;\n&lt;/zone&gt;\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#doc-wrapper\">Configuring kernel parameters at runtime\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd(1)\u003C/code> manual page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"managing-icmp-requests_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.12. Managing ICMP requests\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">Internet Control Message Protocol\u003C/code> (\u003Ccode class=\"literal\">ICMP\u003C/code>) is a supporting protocol that is used by various network devices for testing, troubleshooting, and diagnostics. \u003Ccode class=\"literal\">ICMP\u003C/code> differs from transport protocols such as TCP and UDP because it is not used to exchange data between systems.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tYou can use the \u003Ccode class=\"literal systemitem\">ICMP\u003C/code> messages, especially \u003Ccode class=\"literal systemitem\">echo-request\u003C/code> and \u003Ccode class=\"literal systemitem\">echo-reply\u003C/code>, to reveal information about a network and misuse such information for various kinds of fraudulent activities. Therefore, \u003Ccode class=\"literal systemitem\">firewalld\u003C/code> enables controlling the \u003Ccode class=\"literal systemitem\">ICMP\u003C/code> requests to protect your network information.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"configuring-icmp-filtering_managing-icmp-requests\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.12.1. Configuring ICMP filtering\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use ICMP filtering to define which ICMP types and codes you want the firewall to permit or deny from reaching your system. ICMP types and codes are specific categories and subcategories of ICMP messages.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tICMP filtering helps, for example, in the following areas:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSecurity enhancement - Block potentially harmful ICMP types and codes to reduce your attack surface.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNetwork performance - Permit only necessary ICMP types to optimize network performance and prevent potential network congestion caused by excessive ICMP traffic.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tTroubleshooting control - Maintain essential ICMP functionality for network troubleshooting and block ICMP types that represent potential security risk.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList available ICMP types and codes:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-icmptypes\u003C/strong>\u003C/span>\naddress-unreachable bad-header beyond-scope communication-prohibited destination-unreachable echo-reply echo-request failed-policy fragmentation-needed host-precedence-violation host-prohibited host-redirect host-unknown host-unreachable\n...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFrom this predefined list, select which ICMP types and codes to allow or block.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFilter specific ICMP types by:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAllowing ICMP types:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;target-zone&gt;\u003C/em>\u003C/span> --remove-icmp-block=\u003Cspan class=\"emphasis\">\u003Cem>echo-request\u003C/em>\u003C/span> --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe command removes any existing blocking rules for the echo requests ICMP type.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tBlocking ICMP types:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=\u003Cspan class=\"emphasis\">\u003Cem>&lt;target-zone&gt;\u003C/em>\u003C/span> --add-icmp-block=\u003Cspan class=\"emphasis\">\u003Cem>redirect\u003C/em>\u003C/span> --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe command ensures that the redirect messages ICMP type is blocked by the firewall.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the firewall configuration to apply the changes:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify your filtering rules are in effect:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-icmp-blocks\u003C/strong>\u003C/span>\nredirect\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command output displays the ICMP types and codes that you allowed or blocked.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd(1)\u003C/code> manual page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.13. Setting and controlling IP sets using \u003Ccode class=\"literal\">firewalld\u003C/code>\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIP sets are a RHEL feature for grouping of IP addresses and networks into sets to achieve more flexible and efficient firewall rule management.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe IP sets are valuable in scenarios when you need to for example:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tHandle large lists of IP addresses\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tImplement dynamic updates to those large lists of IP addresses\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate custom IP-based policies to enhance network security and control\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRed Hat recommends using the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> command to create and manage IP sets.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"configuring-dynamic-updates-for-allowlisting-with-ip-sets_setting-and-controlling-ip-sets-using-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.13.1. Configuring dynamic updates for allowlisting with IP sets\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can make near real-time updates to flexibly allow specific IP addresses or ranges in the IP sets even in unpredictable conditions. These updates can be triggered by various events, such as detection of security threats or changes in the network behavior. Typically, such a solution leverages automation to reduce manual effort and improve security by responding quickly to the situation.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate an IP set with a meaningful name:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --new-ipset=\u003Cspan class=\"emphasis\">\u003Cem>allowlist\u003C/em>\u003C/span> --type=hash:ip\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe new IP set called \u003Ccode class=\"literal\">allowlist\u003C/code> contains IP addresses that you want your firewall to allow.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a dynamic update to the IP set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --ipset=\u003Cspan class=\"emphasis\">\u003Cem>allowlist\u003C/em>\u003C/span> --add-entry=\u003Cspan class=\"emphasis\">\u003Cem>198.51.100.10\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis configuration updates the \u003Ccode class=\"literal\">allowlist\u003C/code> IP set with a newly added IP address that is allowed to pass network traffic by your firewall.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a firewall rule that references the previously created IP set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --zone=public --add-source=ipset:\u003Cspan class=\"emphasis\">\u003Cem>allowlist\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWithout this rule, the IP set would not have any impact on network traffic. The default firewall policy would prevail.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the firewall configuration to apply the changes:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList all IP sets:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-ipsets\u003C/strong>\u003C/span>\nallowlist\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the active rules:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-all\u003C/strong>\u003C/span>\npublic (active)\n  target: default\n  icmp-block-inversion: no\n  interfaces: enp0s1\n  \u003Cspan class=\"strong strong\">\u003Cstrong>sources: ipset:allowlist\u003C/strong>\u003C/span>\n  services: cockpit dhcpv6-client ssh\n  ports:\n  protocols:\n  ...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">sources\u003C/code> section of the command-line output provides insights to what origins of traffic (hostnames, interfaces, IP sets, subnets, and others) are permitted or denied access to a particular firewall zone. In this case, the IP addresses contained in the \u003Ccode class=\"literal\">allowlist\u003C/code> IP set are allowed to pass traffic through the firewall for the \u003Ccode class=\"literal\">public\u003C/code> zone.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tExplore the contents of your IP set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /etc/firewalld/ipsets/allowlist.xml\u003C/strong>\u003C/span>\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ipset type=\"hash:ip\"&gt;\n  &lt;entry&gt;198.51.100.10&lt;/entry&gt;\n&lt;/ipset&gt;\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Next steps\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUse a script or a security utility to fetch your threat intelligence feeds and update \u003Ccode class=\"literal\">allowlist\u003C/code> accordingly in an automated fashion.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewall-cmd(1)\u003C/code> manual page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"prioritizing-rich-rules_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.14. Prioritizing rich rules\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, rich rules are organized based on their rule action. For example, \u003Ccode class=\"literal command\">deny\u003C/code> rules have precedence over \u003Ccode class=\"literal command\">allow\u003C/code> rules. The \u003Ccode class=\"literal parameter\">priority\u003C/code> parameter in rich rules provides administrators fine-grained control over rich rules and their execution order. When using the \u003Ccode class=\"literal\">priority\u003C/code> parameter, rules are sorted first by their priority values in ascending order. When more rules have the same \u003Ccode class=\"literal\">priority\u003C/code>, their order is determined by the rule action, and if the action is also the same, the order may be undefined.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.14.1. How the priority parameter organizes rules into different chains\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can set the \u003Ccode class=\"literal\">priority\u003C/code> parameter in a rich rule to any number between \u003Ccode class=\"literal\">-32768\u003C/code> and \u003Ccode class=\"literal\">32767\u003C/code>, and lower numerical values have higher precedence.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">firewalld\u003C/code> service organizes rules based on their priority value into different chains:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPriority lower than 0: the rule is redirected into a chain with the \u003Ccode class=\"literal\">_pre\u003C/code> suffix.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPriority higher than 0: the rule is redirected into a chain with the \u003Ccode class=\"literal\">_post\u003C/code> suffix.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPriority equals 0: based on the action, the rule is redirected into a chain with the \u003Ccode class=\"literal\">_log\u003C/code>, \u003Ccode class=\"literal\">_deny\u003C/code>, or \u003Ccode class=\"literal\">_allow\u003C/code> the action.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tInside these sub-chains, \u003Ccode class=\"literal\">firewalld\u003C/code> sorts the rules based on their priority value.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"setting-the-priority-of-a-rich-rule_prioritizing-rich-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.14.2. Setting the priority of a rich rule\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe following is an example of how to create a rich rule that uses the \u003Ccode class=\"literal\">priority\u003C/code> parameter to log all traffic that is not allowed or denied by other rules. You can use this rule to flag unexpected traffic.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rich rule with a very low precedence to log all traffic that has not been matched by other rules:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-rich-rule='rule priority=32767 log prefix=\"UNEXPECTED: \" limit value=\"5/m\"'\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe command additionally limits the number of log entries to \u003Ccode class=\"literal\">5\u003C/code> per minute.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the \u003Ccode class=\"literal\">nftables\u003C/code> rule that the command in the previous step created:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list chain inet firewalld filter_IN_public_post\u003C/strong>\u003C/span>\ntable inet firewalld {\n  chain filter_IN_public_post {\n    log prefix \"UNEXPECTED: \" limit rate 5/minute\n  }\n}\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"configuring-firewall-lockdown_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.15. Configuring firewall lockdown\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLocal applications or services are able to change the firewall configuration if they are running as \u003Ccode class=\"literal systemitem\">root\u003C/code> (for example, \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"application application\">libvirt\u003C/span>\u003C/strong>\u003C/span>). With this feature, the administrator can lock the firewall configuration so that either no applications or only applications that are added to the lockdown allow list are able to request firewall changes. The lockdown settings default to disabled. If enabled, the user can be sure that there are no unwanted configuration changes made to the firewall by local applications or services.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"configuring-lockdown-using-CLI_configuring-firewall-lockdown\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.15.1. Configuring lockdown using CLI\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can enable or disable the lockdown feature using the command line.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo query whether lockdown is enabled:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --query-lockdown\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tManage lockdown configuration by either:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnabling lockdown:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --lockdown-on\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tDisabling lockdown:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --lockdown-off\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"overview-of-lockdown-allowlist-configuration-files_configuring-firewall-lockdown\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.15.2. Overview of lockdown allowlist configuration files\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe default allowlist configuration file contains the \u003Ccode class=\"literal\">NetworkManager\u003C/code> context and the default context of \u003Ccode class=\"literal\">libvirt\u003C/code>. The user ID 0 is also on the list.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe allowlist configuration files are stored in the \u003Ccode class=\"literal\">/etc/firewalld/\u003C/code> directory.\n\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-xml\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\t&lt;whitelist&gt;\n\t\t&lt;command name=\"/usr/bin/python3 -s /usr/bin/firewall-config\"/&gt;\n\t  &lt;selinux context=\"system_u:system_r:NetworkManager_t:s0\"/&gt;\n\t  &lt;selinux context=\"system_u:system_r:virtd_t:s0-s0:c0.c1023\"/&gt;\n\t  &lt;user id=\"0\"/&gt;\n\t&lt;/whitelist&gt;\u003C/pre>\u003Cp>\n\t\t\t\t\tFollowing is an example allowlist configuration file enabling all commands for the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> utility, for a user called \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> whose user ID is \u003Ccode class=\"literal\">815\u003C/code>:\n\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-xml\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\t&lt;whitelist&gt;\n\t  &lt;command name=\"/usr/libexec/platform-python -s /bin/firewall-cmd*\"/&gt;\n\t  &lt;selinux context=\"system_u:system_r:NetworkManager_t:s0\"/&gt;\n\t  &lt;user id=\"815\"/&gt;\n\t  &lt;user name=\"user\"/&gt;\n\t&lt;/whitelist&gt;\u003C/pre>\u003Cp>\n\t\t\t\t\tThis example shows both \u003Ccode class=\"literal\">user id\u003C/code> and \u003Ccode class=\"literal\">user name\u003C/code>, but only one option is required. Python is the interpreter and is prepended to the command line.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIn Red Hat Enterprise Linux, all utilities are placed in the \u003Ccode class=\"literal\">/usr/bin/\u003C/code> directory and the \u003Ccode class=\"literal\">/bin/\u003C/code> directory is sym-linked to the \u003Ccode class=\"literal\">/usr/bin/\u003C/code> directory. In other words, although the path for \u003Ccode class=\"literal\">firewall-cmd\u003C/code> when entered as \u003Ccode class=\"literal\">root\u003C/code> might resolve to \u003Ccode class=\"literal\">/bin/firewall-cmd\u003C/code>, \u003Ccode class=\"literal\">/usr/bin/firewall-cmd\u003C/code> can now be used. All new scripts should use the new location. But be aware that if scripts that run as \u003Ccode class=\"literal\">root\u003C/code> are written to use the \u003Ccode class=\"literal\">/bin/firewall-cmd\u003C/code> path, then that command path must be added in the allowlist in addition to the \u003Ccode class=\"literal\">/usr/bin/firewall-cmd\u003C/code> path traditionally used only for non-\u003Ccode class=\"literal\">root\u003C/code> users.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">*\u003C/code> at the end of the name attribute of a command means that all commands that start with this string match. If the \u003Ccode class=\"literal\">*\u003C/code> is not there then the absolute command including arguments must match.\n\t\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.16. Enabling traffic forwarding between different interfaces or sources within a firewalld zone\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIntra-zone forwarding is a \u003Ccode class=\"literal systemitem\">firewalld\u003C/code> feature that enables traffic forwarding between interfaces or sources within a \u003Ccode class=\"literal systemitem\">firewalld\u003C/code> zone.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"con_the-difference-between-intra-zone-forwarding-and-zones-with-the-default-target-set-to-accept_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.1. The difference between intra-zone forwarding and zones with the default target set to ACCEPT\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWith intra-zone forwarding enabled, the traffic within a single \u003Ccode class=\"literal\">firewalld\u003C/code> zone can flow from one interface or source to another interface or source. The zone specifies the trust level of interfaces and sources. If the trust level is the same, the traffic stays inside the same zone.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tEnabling intra-zone forwarding in the default zone of \u003Ccode class=\"literal\">firewalld\u003C/code>, applies only to the interfaces and sources added to the current default zone.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code> uses different zones to manage incoming and outgoing traffic. Each zone has its own set of rules and behaviors. For example, the \u003Ccode class=\"literal\">trusted\u003C/code> zone, allows all forwarded traffic by default.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tOther zones can have different default behaviors. In standard zones, forwarded traffic is typically dropped by default when the target of the zone is set to \u003Ccode class=\"literal\">default\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo control how the traffic is forwarded between different interfaces or sources within a zone, make sure you understand and configure the target of the zone accordingly.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-intra-zone-forwarding-to-forward-traffic-between-an-ethernet-and-wi-fi-network_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.2. Using intra-zone forwarding to forward traffic between an Ethernet and Wi-Fi network\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use intra-zone forwarding to forward traffic between interfaces and sources within the same \u003Ccode class=\"literal\">firewalld\u003C/code> zone. This feature brings the following benefits:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSeamless connectivity between wired and wireless devices (you can forward traffic between an Ethernet network connected to \u003Ccode class=\"literal\">enp1s0\u003C/code> and a Wi-Fi network connected to \u003Ccode class=\"literal\">wlp0s20\u003C/code>)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSupport for flexible work environments\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tShared resources that are accessible and used by multiple devices or users within a network (such as printers, databases, network-attached storage, and others)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEfficient internal networking (such as smooth communication, reduced latency, resource accessibility, and others)\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can enable this functionality for individual \u003Ccode class=\"literal\">firewalld\u003C/code> zones.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable packet forwarding in the kernel:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"net.ipv4.ip_forward=1\" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnsure that interfaces between which you want to enable intra-zone forwarding are assigned only to the \u003Ccode class=\"literal\">internal\u003C/code> zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --get-active-zones\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf the interface is currently assigned to a zone other than \u003Ccode class=\"literal\">internal\u003C/code>, reassign it:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=internal --change-interface=\u003Cspan class=\"emphasis\">\u003Cem>interface_name\u003C/em>\u003C/span> --permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">enp1s0\u003C/code> and \u003Ccode class=\"literal\">wlp0s20\u003C/code> interfaces to the \u003Ccode class=\"literal\">internal\u003C/code> zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=internal --add-interface=enp1s0 --add-interface=wlp0s20\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable intra-zone forwarding:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=internal --add-forward\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tThe following Verification require that the \u003Ccode class=\"literal\">nmap-ncat\u003C/code> package is installed on both hosts.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tLog in to a host that is on the same network as the \u003Ccode class=\"literal\">enp1s0\u003C/code> interface of the host on which you enabled zone forwarding.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStart an echo service with \u003Ccode class=\"literal\">ncat\u003C/code> to test connectivity:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ncat -e /usr/bin/cat -l 12345\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tLog in to a host that is in the same network as the \u003Ccode class=\"literal\">wlp0s20\u003C/code> interface.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConnect to the echo server running on the host that is in the same network as the \u003Ccode class=\"literal\">enp1s0\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ncat \u003Cspan class=\"emphasis\">\u003Cem>&lt;other_host&gt;\u003C/em>\u003C/span> 12345\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tType something and press \u003Cspan class=\"guibutton\">Enter\u003C/span>. Verify the text is sent back.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewalld.zones(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.17. Configuring \u003Ccode class=\"literal\">firewalld\u003C/code> by using the RHEL system role\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role to configure settings of the \u003Ccode class=\"literal\">firewalld\u003C/code> service on multiple clients at once. This solution:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tProvides an interface with efficient input settings.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tKeeps all intended \u003Ccode class=\"literal\">firewalld\u003C/code> parameters in one place.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tAfter you run the \u003Ccode class=\"literal\">firewall\u003C/code> role on the control node, the RHEL system role applies the \u003Ccode class=\"literal\">firewalld\u003C/code> parameters to the managed node immediately and makes them persistent across reboots.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"con_introduction-to-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.1. Introduction to the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tRHEL system roles is a set of contents for the Ansible automation utility. This content together with the Ansible automation utility provides a consistent configuration interface to remotely manage multiple systems.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">rhel-system-roles.firewall\u003C/code> role from the RHEL system roles was introduced for automated configurations of the \u003Ccode class=\"literal\">firewalld\u003C/code> service. The \u003Ccode class=\"literal\">rhel-system-roles\u003C/code> package contains this RHEL system role, and also the reference documentation.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo apply the \u003Ccode class=\"literal\">firewalld\u003C/code> parameters on one or more systems in an automated fashion, use the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role variable in a playbook. A playbook is a list of one or more plays that is written in the text-based YAML format.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou can use an inventory file to define a set of systems that you want Ansible to configure.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tWith the \u003Ccode class=\"literal\">firewall\u003C/code> role you can configure many different \u003Ccode class=\"literal\">firewalld\u003C/code> parameters, for example:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tZones.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe services for which packets should be allowed.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tGranting, rejection, or dropping of traffic access to ports.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tForwarding of ports or port ranges for a zone.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md\u003C/code> file\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/firewall/\u003C/code> directory\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html\">Working with playbooks\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html\">How to build your inventory\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_resetting-the-firewalld-settings-using-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.2. Resetting the \u003Ccode class=\"literal\">firewalld\u003C/code> settings by using the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tWith the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role, you can reset the \u003Ccode class=\"literal\">firewalld\u003C/code> settings to their default state. If you add the \u003Ccode class=\"literal\">previous:replaced\u003C/code> parameter to the variable list, the RHEL system role removes all existing user-defined settings and resets \u003Ccode class=\"literal\">firewalld\u003C/code> to the defaults. If you combine the \u003Ccode class=\"literal\">previous:replaced\u003C/code> parameter with other settings, the \u003Ccode class=\"literal\">firewall\u003C/code> role removes all existing settings before applying new ones.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tPerform this procedure on the Ansible control node.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Reset firewalld example\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Reset firewalld\n      ansible.builtin.include_role:\n        name: rhel-system-roles.firewall\n      vars:\n        firewall:\n          - previous: replaced\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun this command as \u003Ccode class=\"literal\">root\u003C/code> on the managed node to check all the zones:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-all-zones\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md\u003C/code> file\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/firewall/\u003C/code> directory\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_forwarding-incoming-traffic-from-one-local-port-to-a-different-local-port_assembly_configuring-firewalld-using-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.3. Forwarding incoming traffic in \u003Ccode class=\"literal\">firewalld\u003C/code> from one local port to a different local port by using the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tWith the \u003Ccode class=\"literal\">firewall\u003C/code> role you can remotely configure \u003Ccode class=\"literal\">firewalld\u003C/code> parameters with persisting effect on multiple managed hosts.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tPerform this procedure on the Ansible control node.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Configure firewalld\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Forward incoming traffic on port 8080 to 443\n      ansible.builtin.include_role:\n        name: rhel-system-roles.firewall\n      vars:\n        firewall:\n          - { forward_port: 8080/tcp;443;, state: enabled, runtime: true, permanent: true }\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the managed host, display the \u003Ccode class=\"literal\">firewalld\u003C/code> settings:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-forward-ports\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md\u003C/code> file\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/firewall/\u003C/code> directory\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-ports-using-system-roles_assembly_configuring-firewalld-using-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.4. Managing ports in \u003Ccode class=\"literal\">firewalld\u003C/code> by using the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role to open or close ports in the local firewall for incoming traffic and make the new configuration persist across reboots. For example you can configure the default zone to permit incoming traffic for the HTTPS service.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tPerform this procedure on the Ansible control node.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Configure firewalld\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Allow incoming HTTPS traffic to the local host\n      ansible.builtin.include_role:\n        name: rhel-system-roles.firewall\n      vars:\n        firewall:\n          - port: 443/tcp\n            service: http\n            state: enabled\n            runtime: true\n            permanent: true\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">permanent: true\u003C/code> option makes the new settings persistent across reboots.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the managed node, verify that the \u003Ccode class=\"literal\">443/tcp\u003C/code> port associated with the \u003Ccode class=\"literal\">HTTPS\u003C/code> service is open:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --list-ports\u003C/strong>\u003C/span>\n443/tcp\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md\u003C/code> file\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/firewall/\u003C/code> directory\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-a-dmz-firewalld-zone-by-using-the-firewalld-rhel-system-role_assembly_configuring-firewalld-using-system-roles\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.5. Configuring a \u003Ccode class=\"literal\">firewalld\u003C/code> DMZ zone by using the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tAs a system administrator, you can use the \u003Ccode class=\"literal\">firewall\u003C/code> RHEL system role to configure a \u003Ccode class=\"literal\">dmz\u003C/code> zone on the \u003Cspan class=\"strong strong\">\u003Cstrong>enp1s0\u003C/strong>\u003C/span> interface to permit \u003Ccode class=\"literal\">HTTPS\u003C/code> traffic to the zone. In this way, you enable external users to access your web servers.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tPerform this procedure on the Ansible control node.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/automating_system_administration_by_using_rhel_system_roles/assembly_preparing-a-control-node-and-managed-nodes-to-use-rhel-system-roles_automating-system-administration-by-using-rhel-system-roles\">You have prepared the control node and the managed nodes\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are logged in to the control node as a user who can run playbooks on the managed nodes.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe account you use to connect to the managed nodes has \u003Ccode class=\"literal\">sudo\u003C/code> permissions on them.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a playbook file, for example \u003Ccode class=\"literal\">~/playbook.yml\u003C/code>, with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-yaml\">---\n- name: Configure firewalld\n  hosts: managed-node-01.example.com\n  tasks:\n    - name: Creating a DMZ with access to HTTPS port and masquerading for hosts in DMZ\n      ansible.builtin.include_role:\n        name: rhel-system-roles.firewall\n      vars:\n        firewall:\n          - zone: dmz\n            interface: enp1s0\n            service: https\n            state: enabled\n            runtime: true\n            permanent: true\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tValidate the playbook syntax:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --syntax-check ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that this command only validates the syntax and does not protect against a wrong but valid configuration.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the playbook:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook ~/playbook.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the managed node, view detailed information about the \u003Ccode class=\"literal\">dmz\u003C/code> zone:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --zone=dmz --list-all\u003C/strong>\u003C/span>\ndmz (active)\n  target: default\n  icmp-block-inversion: no\n  \u003Cspan class=\"strong strong\">\u003Cstrong>interfaces: enp1s0\u003C/strong>\u003C/span>\n  sources:\n  \u003Cspan class=\"strong strong\">\u003Cstrong>services: https\u003C/strong>\u003C/span> ssh\n  ports:\n  protocols:\n  forward: no\n  masquerade: no\n  forward-ports:\n  source-ports:\n  icmp-blocks:\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/ansible/roles/rhel-system-roles.firewall/README.md\u003C/code> file\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/doc/rhel-system-roles/firewall/\u003C/code> directory\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"getting-started-with-nftables_firewall-packet-filters\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Getting started with nftables\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> framework classifies packets and it is the successor to the \u003Ccode class=\"literal\">iptables\u003C/code>, \u003Ccode class=\"literal\">ip6tables\u003C/code>, \u003Ccode class=\"literal\">arptables\u003C/code>, \u003Ccode class=\"literal\">ebtables\u003C/code>, and \u003Ccode class=\"literal\">ipset\u003C/code> utilities. It offers numerous improvements in convenience, features, and performance over previous packet-filtering tools, most notably:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tBuilt-in lookup tables instead of linear processing\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tA single framework for both the \u003Ccode class=\"literal\">IPv4\u003C/code> and \u003Ccode class=\"literal\">IPv6\u003C/code> protocols\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAll rules applied atomically instead of fetching, updating, and storing a complete rule set\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSupport for debugging and tracing in the rule set (\u003Ccode class=\"literal\">nftrace\u003C/code>) and monitoring trace events (in the \u003Ccode class=\"literal\">nft\u003C/code> tool)\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tMore consistent and compact syntax, no protocol-specific extensions\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tA Netlink API for third-party applications\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> framework uses tables to store chains. The chains contain individual rules for performing actions. The \u003Ccode class=\"literal\">nft\u003C/code> utility replaces all tools from the previous packet-filtering frameworks. You can use the \u003Ccode class=\"literal\">libnftnl\u003C/code> library for low-level interaction with \u003Ccode class=\"literal\">nftables\u003C/code> Netlink API through the \u003Ccode class=\"literal\">libmnl\u003C/code> library.\n\t\t\u003C/p>\u003Cp>\n\t\t\tTo display the effect of rule set changes, use the \u003Ccode class=\"literal\">nft list ruleset\u003C/code> command. Because these utilities add tables, chains, rules, sets, and other objects to the \u003Ccode class=\"literal\">nftables\u003C/code> rule set, be aware that \u003Ccode class=\"literal\">nftables\u003C/code> rule-set operations, such as the \u003Ccode class=\"literal\">nft flush ruleset\u003C/code> command, might affect rule sets installed using the \u003Ccode class=\"literal\">iptables\u003C/code> command.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.1. Migrating from iptables to nftables\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf your firewall configuration still uses \u003Ccode class=\"literal\">iptables\u003C/code> rules, you can migrate your \u003Ccode class=\"literal\">iptables\u003C/code> rules to \u003Ccode class=\"literal\">nftables\u003C/code>.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">ipset\u003C/code> and \u003Ccode class=\"literal\">iptables-nft\u003C/code> packages have been deprecated in Red Hat Enterprise Linux 9. This includes deprecation of \u003Ccode class=\"literal\">nft-variants\u003C/code> such as \u003Ccode class=\"literal\">iptables\u003C/code>, \u003Ccode class=\"literal\">ip6tables\u003C/code>, \u003Ccode class=\"literal\">arptables\u003C/code>, and \u003Ccode class=\"literal\">ebtables\u003C/code> utilities. If you are using any of these tools, for example, because you upgraded from an earlier RHEL version, Red Hat recommends migrating to the \u003Ccode class=\"literal\">nft\u003C/code> command line tool provided by the \u003Ccode class=\"literal\">nftables\u003C/code> package.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"when-to-use-firewalld-nftables-or-iptables_assembly_migrating-from-iptables-to-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.1.1. When to use firewalld, nftables, or iptables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe following is a brief overview in which scenario you should use one of the following utilities:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code>: Use the \u003Ccode class=\"literal\">firewalld\u003C/code> utility for simple firewall use cases. The utility is easy to use and covers the typical use cases for these scenarios.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nftables\u003C/code>: Use the \u003Ccode class=\"literal\">nftables\u003C/code> utility to set up complex and performance-critical firewalls, such as for a whole network.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables\u003C/code>: The \u003Ccode class=\"literal\">iptables\u003C/code> utility on Red Hat Enterprise Linux uses the \u003Ccode class=\"literal\">nf_tables\u003C/code> kernel API instead of the \u003Ccode class=\"literal\">legacy\u003C/code> back end. The \u003Ccode class=\"literal\">nf_tables\u003C/code> API provides backward compatibility so that scripts that use \u003Ccode class=\"literal\">iptables\u003C/code> commands still work on Red Hat Enterprise Linux. For new firewall scripts, Red Hat recommends to use \u003Ccode class=\"literal\">nftables\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tTo prevent the different firewall-related services (\u003Ccode class=\"literal\">firewalld\u003C/code>, \u003Ccode class=\"literal\">nftables\u003C/code>, or \u003Ccode class=\"literal\">iptables\u003C/code>) from influencing each other, run only one of them on a RHEL host, and disable the other services.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"proc_converting-iptables-and-ip6tables-rule-sets-to-nftables_assembly_migrating-from-iptables-to-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.1.2. Converting iptables and ip6tables rule sets to nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tUse the \u003Ccode class=\"literal\">iptables-restore-translate\u003C/code> and \u003Ccode class=\"literal\">ip6tables-restore-translate\u003C/code> utilities to translate \u003Ccode class=\"literal\">iptables\u003C/code> and \u003Ccode class=\"literal\">ip6tables\u003C/code> rule sets to \u003Ccode class=\"literal\">nftables\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> and \u003Ccode class=\"literal\">iptables\u003C/code> packages are installed.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe system has \u003Ccode class=\"literal\">iptables\u003C/code> and \u003Ccode class=\"literal\">ip6tables\u003C/code> rules configured.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWrite the \u003Ccode class=\"literal\">iptables\u003C/code> and \u003Ccode class=\"literal\">ip6tables\u003C/code> rules to a file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>iptables-save &gt;/root/iptables.dump\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>ip6tables-save &gt;/root/ip6tables.dump\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConvert the dump files to \u003Ccode class=\"literal\">nftables\u003C/code> instructions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>iptables-restore-translate -f /root/iptables.dump &gt; /etc/nftables/ruleset-migrated-from-iptables.nft\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>ip6tables-restore-translate -f /root/ip6tables.dump &gt; /etc/nftables/ruleset-migrated-from-ip6tables.nft\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tReview and, if needed, manually update the generated \u003Ccode class=\"literal\">nftables\u003C/code> rules.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo enable the \u003Ccode class=\"literal\">nftables\u003C/code> service to load the generated files, add the following to the \u003Ccode class=\"literal\">/etc/sysconfig/nftables.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>include \"/etc/nftables/ruleset-migrated-from-iptables.nft\"\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>include \"/etc/nftables/ruleset-migrated-from-ip6tables.nft\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tStop and disable the \u003Ccode class=\"literal\">iptables\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl disable --now iptables\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you used a custom script to load the \u003Ccode class=\"literal\">iptables\u003C/code> rules, ensure that the script no longer starts automatically and reboot to flush all tables.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">nftables\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now nftables\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the \u003Ccode class=\"literal\">nftables\u003C/code> rule set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list ruleset\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts\" title=\"2.2.6. Automatically loading nftables rules when the system boots\">Automatically loading nftables rules when the system boots\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_converting-single-iptables-and-ip6tables-rules-to-nftables_assembly_migrating-from-iptables-to-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.1.3. Converting single iptables and ip6tables rules to nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tRed Hat Enterprise Linux provides the \u003Ccode class=\"literal\">iptables-translate\u003C/code> and \u003Ccode class=\"literal\">ip6tables-translate\u003C/code> utilities to convert an \u003Ccode class=\"literal\">iptables\u003C/code> or \u003Ccode class=\"literal\">ip6tables\u003C/code> rule into the equivalent one for \u003Ccode class=\"literal\">nftables\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">iptables-translate\u003C/code> or \u003Ccode class=\"literal\">ip6tables-translate\u003C/code> utility instead of \u003Ccode class=\"literal\">iptables\u003C/code> or \u003Ccode class=\"literal\">ip6tables\u003C/code> to display the corresponding \u003Ccode class=\"literal\">nftables\u003C/code> rule, for example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>iptables-translate \u003Cspan class=\"emphasis\">\u003Cem>-A INPUT -s 192.0.2.0/24 -j ACCEPT\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>nft add rule ip filter INPUT ip saddr 192.0.2.0/24 counter accept\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that some extensions lack translation support. In these cases, the utility prints the untranslated rule prefixed with the \u003Ccode class=\"literal\">#\u003C/code> sign, for example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>iptables-translate \u003Cspan class=\"emphasis\">\u003Cem>-A INPUT -j CHECKSUM --checksum-fill\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nnft # \u003Cspan class=\"emphasis\">\u003Cem>-A INPUT -j CHECKSUM --checksum-fill\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables-translate --help\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_comparison-of-common-iptables-and-nftables-commands_assembly_migrating-from-iptables-to-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.1.4. Comparison of common iptables and nftables commands\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe following is a comparison of common \u003Ccode class=\"literal\">iptables\u003C/code> and \u003Ccode class=\"literal\">nftables\u003C/code> commands:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tListing all rules:\n\t\t\t\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107956273296\" scope=\"col\">iptables\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107956272208\" scope=\"col\">nftables\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956273296\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables-save\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956272208\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nft list ruleset\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tListing a certain table and chain:\n\t\t\t\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 50%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107956681840\" scope=\"col\">iptables\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107956680752\" scope=\"col\">nftables\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956681840\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables -L\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956680752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nft list table ip filter\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956681840\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables -L INPUT\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956680752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nft list chain ip filter INPUT\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956681840\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">iptables -t nat -L PREROUTING\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107956680752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nft list chain ip nat PREROUTING\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">nft\u003C/code> command does not pre-create tables and chains. They exist only if a user created them manually.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tListing rules generated by firewalld:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table inet firewalld\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table ip firewalld\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table ip6 firewalld\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"writing-and-executing-nftables-scripts_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.2. Writing and executing nftables scripts\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe major benefit of using the \u003Ccode class=\"literal\">nftables\u003C/code> framework is that the execution of scripts is atomic. This means that the system either applies the whole script or prevents the execution if an error occurs. This guarantees that the firewall is always in a consistent state.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tAdditionally, with the \u003Ccode class=\"literal\">nftables\u003C/code> script environment, you can:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAdd comments\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDefine variables\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInclude other rule-set files\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tWhen you install the \u003Ccode class=\"literal\">nftables\u003C/code> package, Red Hat Enterprise Linux automatically creates \u003Ccode class=\"literal\">*.nft\u003C/code> scripts in the \u003Ccode class=\"literal\">/etc/nftables/\u003C/code> directory. These scripts contain commands that create tables and empty chains for different purposes.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"supported-nftables-script-formats_writing-and-executing-nftables-scripts\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.2.1. Supported nftables script formats\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can write scripts in the \u003Ccode class=\"literal\">nftables\u003C/code> scripting environment in the following formats:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe same format as the \u003Ccode class=\"literal\">nft list ruleset\u003C/code> command displays the rule set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\">#!/usr/sbin/nft -f\n\n# Flush the rule set\nflush ruleset\n\ntable inet example_table {\n  chain example_chain {\n    # Chain for incoming packets that drops all packets that\n    # are not explicitly allowed by any rule in this chain\n    type filter hook input priority 0; policy drop;\n\n    # Accept connections to port 22 (ssh)\n    tcp dport ssh accept\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe same syntax as for \u003Ccode class=\"literal\">nft\u003C/code> commands:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\">#!/usr/sbin/nft -f\n\n# Flush the rule set\nflush ruleset\n\n# Create a table\nadd table inet example_table\n\n# Create a chain for incoming packets that drops all packets\n# that are not explicitly allowed by any rule in this chain\nadd chain inet example_table example_chain { type filter hook input priority 0 ; policy drop ; }\n\n# Add a rule that accepts connections to port 22 (ssh)\nadd rule inet example_table example_chain tcp dport ssh accept\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"running-nftables-scripts_writing-and-executing-nftables-scripts\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.2.2. Running nftables scripts\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can run an \u003Ccode class=\"literal\">nftables\u003C/code> script either by passing it to the \u003Ccode class=\"literal\">nft\u003C/code> utility or by executing the script directly.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo run an \u003Ccode class=\"literal\">nftables\u003C/code> script by passing it to the \u003Ccode class=\"literal\">nft\u003C/code> utility, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -f \u003Cspan class=\"emphasis\">\u003Cem>/etc/nftables/&lt;example_firewall_script&gt;.nft\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo run an \u003Ccode class=\"literal\">nftables\u003C/code> script directly:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor the single time that you perform this:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tEnsure that the script starts with the following shebang sequence:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\">#!/usr/sbin/nft -f\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tIf you omit the \u003Ccode class=\"literal\">-f\u003C/code> parameter, the \u003Ccode class=\"literal\">nft\u003C/code> utility does not read the script and displays: \u003Ccode class=\"literal\">Error: syntax error, unexpected newline, expecting string\u003C/code>.\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tOptional: Set the owner of the script to \u003Ccode class=\"literal\">root\u003C/code>:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chown root \u003Cspan class=\"emphasis\">\u003Cem>/etc/nftables/&lt;example_firewall_script&gt;.nft\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tMake the script executable for the owner:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chmod u+x \u003Cspan class=\"emphasis\">\u003Cem>/etc/nftables/&lt;example_firewall_script&gt;.nft\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tRun the script:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>/etc/nftables/&lt;example_firewall_script&gt;.nft\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf no output is displayed, the system executed the script successfully.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tEven if \u003Ccode class=\"literal\">nft\u003C/code> executes the script successfully, incorrectly placed rules, missing parameters, or other problems in the script can cause that the firewall behaves not as expected.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">chown(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">chmod(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts\" title=\"2.2.6. Automatically loading nftables rules when the system boots\">Automatically loading nftables rules when the system boots\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.2.3. Using comments in nftables scripts\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> scripting environment interprets everything to the right of a \u003Ccode class=\"literal\">#\u003C/code> character to the end of a line as a comment.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tComments can start at the beginning of a line, or next to a command:\n\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\">...\n# Flush the rule set\nflush ruleset\n\nadd table inet example_table  # Create a table\n...\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"using-variables-in-nftables-script_writing-and-executing-nftables-scripts\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.2.4. Using variables in nftables script\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo define a variable in an \u003Ccode class=\"literal\">nftables\u003C/code> script, use the \u003Ccode class=\"literal\">define\u003C/code> keyword. You can store single values and anonymous sets in a variable. For more complex scenarios, use sets or verdict maps.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Variables with a single value\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following example defines a variable named \u003Ccode class=\"literal\">INET_DEV\u003C/code> with the value \u003Ccode class=\"literal\">enp1s0\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">define INET_DEV = \u003Cspan class=\"emphasis\">\u003Cem>enp1s0\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can use the variable in the script by entering the \u003Ccode class=\"literal\">$\u003C/code> sign followed by the variable name:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">...\nadd rule inet example_table example_chain iifname $INET_DEV tcp dport ssh accept\n...\u003C/pre>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Variables that contain an anonymous set\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following example defines a variable that contains an anonymous set:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">define DNS_SERVERS = { \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.1\u003C/em>\u003C/span>, \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.2\u003C/em>\u003C/span> }\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tYou can use the variable in the script by writing the \u003Ccode class=\"literal\">$\u003C/code> sign followed by the variable name:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">add rule inet example_table example_chain ip daddr $DNS_SERVERS accept\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tCurly braces have special semantics when you use them in a rule because they indicate that the variable represents a set.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_firewalls_and_packet_filters/getting-started-with-nftables_firewall-packet-filters#using-sets-in-nftables-commands_getting-started-with-nftables\">Using sets in nftables commands\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_firewalls_and_packet_filters/getting-started-with-nftables_firewall-packet-filters#using-verdict-maps-in-nftables-commands_getting-started-with-nftables\">Using verdict maps in nftables commands\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"including-files-in-nftables-scripts_writing-and-executing-nftables-scripts\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.2.5. Including files in nftables scripts\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tIn the \u003Ccode class=\"literal\">nftables\u003C/code> scripting environment, you can include other scripts by using the \u003Ccode class=\"literal\">include\u003C/code> statement.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf you specify only a file name without an absolute or relative path, \u003Ccode class=\"literal\">nftables\u003C/code> includes files from the default search path, which is set to \u003Ccode class=\"literal\">/etc\u003C/code> on Red Hat Enterprise Linux.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140107956256224\">\u003Cp class=\"title\">\u003Cstrong>Example 2.1. Including files from the default search directory\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tTo include a file from the default search directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">include \"example.nft\"\u003C/pre>\u003C/div>\u003C/div>\u003Cdiv class=\"example\" id=\"idm140107956254368\">\u003Cp class=\"title\">\u003Cstrong>Example 2.2. Including all *.nft files from a directory\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tTo include all files ending with \u003Ccode class=\"literal\">*.nft\u003C/code> that are stored in the \u003Ccode class=\"literal\">/etc/nftables/rulesets/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">include \"/etc/nftables/rulesets/*.nft\"\u003C/pre>\u003Cp>\n\t\t\t\t\t\tNote that the \u003Ccode class=\"literal\">include\u003C/code> statement does not match files beginning with a dot.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">Include files\u003C/code> section in the \u003Ccode class=\"literal\">nft(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.2.6. Automatically loading nftables rules when the system boots\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> systemd service loads firewall scripts that are included in the \u003Ccode class=\"literal\">/etc/sysconfig/nftables.conf\u003C/code> file.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> scripts are stored in the \u003Ccode class=\"literal\">/etc/nftables/\u003C/code> directory.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">/etc/sysconfig/nftables.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIf you modified the \u003Ccode class=\"literal\">*.nft\u003C/code> scripts that were created in \u003Ccode class=\"literal\">/etc/nftables/\u003C/code> with the installation of the \u003Ccode class=\"literal\">nftables\u003C/code> package, uncomment the \u003Ccode class=\"literal\">include\u003C/code> statement for these scripts.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you wrote new scripts, add \u003Ccode class=\"literal\">include\u003C/code> statements to include these scripts. For example, to load the \u003Ccode class=\"literal\">/etc/nftables/\u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span>.nft\u003C/code> script when the \u003Ccode class=\"literal\">nftables\u003C/code> service starts, add:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">include \"/etc/nftables/_example_.nft\"\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Start the \u003Ccode class=\"literal\">nftables\u003C/code> service to load the firewall rules without rebooting the system:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl start nftables\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">nftables\u003C/code> service.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable nftables\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#supported-nftables-script-formats_writing-and-executing-nftables-scripts\" title=\"2.2.1. Supported nftables script formats\">Supported nftables script formats\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.3. Creating and managing nftables tables, chains, and rules\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can display \u003Ccode class=\"literal\">nftables\u003C/code> rule sets and manage them.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"con_basics-of-nftables-tables_assembly_creating-and-managing-nftables-tables-chains-and-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.3.1. Basics of nftables tables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tA table in \u003Ccode class=\"literal\">nftables\u003C/code> is a namespace that contains a collection of chains, rules, sets, and other objects.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tEach table must have an address family assigned. The address family defines the packet types that this table processes. You can set one of the following address families when you create a table:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>: Matches only IPv4 packets. This is the default if you do not specify an address family.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip6\u003C/code>: Matches only IPv6 packets.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">inet\u003C/code>: Matches both IPv4 and IPv6 packets.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">arp\u003C/code>: Matches IPv4 address resolution protocol (ARP) packets.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">bridge\u003C/code>: Matches packets that pass through a bridge device.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">netdev\u003C/code>: Matches packets from ingress.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you want to add a table, the format to use depends on your firewall script:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn scripts in native syntax, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>table \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_address_family&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_name&gt;\u003C/em>\u003C/span> {\u003C/strong>\u003C/span>\n\u003Cspan class=\"strong strong\">\u003Cstrong>}\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn shell scripts, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>nft add table \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_address_family&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_name&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_basics-of-nftables-chains_assembly_creating-and-managing-nftables-tables-chains-and-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.3.2. Basics of nftables chains\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTables consist of chains which in turn are containers for rules. The following two rule types exists:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Base chain\u003C/strong>\u003C/span>: You can use base chains as an entry point for packets from the networking stack.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Regular chain\u003C/strong>\u003C/span>: You can use regular chains as a \u003Ccode class=\"literal\">jump\u003C/code> target to better organize rules.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you want to add a base chain to a table, the format to use depends on your firewall script:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn scripts in native syntax, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">table \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_address_family&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_name&gt;\u003C/em>\u003C/span> {\n  \u003Cspan class=\"strong strong\">\u003Cstrong>chain \u003Cspan class=\"emphasis\">\u003Cem>&lt;chain_name&gt;\u003C/em>\u003C/span> {\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>type \u003Cspan class=\"emphasis\">\u003Cem>&lt;type&gt;\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>&lt;hook&gt;\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>&lt;priority&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n    \u003Cspan class=\"strong strong\">\u003Cstrong>policy \u003Cspan class=\"emphasis\">\u003Cem>&lt;policy&gt;\u003C/em>\u003C/span> ;\u003C/strong>\u003C/span>\n  \u003Cspan class=\"strong strong\">\u003Cstrong>}\u003C/strong>\u003C/span>\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn shell scripts, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_address_family&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_name&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;chain_name&gt;\u003C/em>\u003C/span> { type \u003Cspan class=\"emphasis\">\u003Cem>&lt;type&gt;\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>&lt;hook&gt;\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>&lt;priority&gt;\u003C/em>\u003C/span> \\; policy \u003Cspan class=\"emphasis\">\u003Cem>&lt;policy&gt;\u003C/em>\u003C/span> \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo avoid that the shell interprets the semicolons as the end of the command, place the \u003Ccode class=\"literal\">\\\u003C/code> escape character in front of the semicolons.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tBoth examples create \u003Cspan class=\"strong strong\">\u003Cstrong>base chains\u003C/strong>\u003C/span>. To create a \u003Cspan class=\"strong strong\">\u003Cstrong>regular chain\u003C/strong>\u003C/span>, do not set any parameters in the curly brackets.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"chain_types\">Chain types\u003C/h5>\u003Cp>\n\t\t\t\t\tThe following are the chain types and an overview with which address families and hooks you can use them:\n\t\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"gt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 11%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 22%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 22%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 44%; \" class=\"col_4\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107965565584\" scope=\"col\">Type\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107965564496\" scope=\"col\">Address families\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107965563408\" scope=\"col\">Hooks\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107965562320\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965565584\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">filter\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965564496\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965563408\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965562320\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tStandard chain type\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965565584\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nat\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965564496\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965563408\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">prerouting\u003C/code>, \u003Ccode class=\"literal\">input\u003C/code>, \u003Ccode class=\"literal\">output\u003C/code>, \u003Ccode class=\"literal\">postrouting\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965562320\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tChains of this type perform native address translation based on connection tracking entries. Only the first packet traverses this chain type.\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965565584\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">route\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965564496\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965563408\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">output\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107965562320\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tAccepted packets that traverse this chain type cause a new route lookup if relevant parts of the IP header have changed.\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Ch5 id=\"chain_priorities\">Chain priorities\u003C/h5>\u003Cp>\n\t\t\t\t\tThe priority parameter specifies the order in which packets traverse chains with the same hook value. You can set this parameter to an integer value or use a standard priority name.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following matrix is an overview of the standard priority names and their numeric values, and with which address families and hooks you can use them:\n\t\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"gt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 20%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 30%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 30%; \" class=\"col_4\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107955214304\" scope=\"col\">Textual value\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107955213216\" scope=\"col\">Numeric value\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107955212128\" scope=\"col\">Address families\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140107955211040\" scope=\"col\">Hooks\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">raw\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-300\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mangle\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-150\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd rowspan=\"2\" align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">dstnat\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-100\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">prerouting\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-300\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">bridge\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">prerouting\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd rowspan=\"2\" align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">filter\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>, \u003Ccode class=\"literal\">arp\u003C/code>, \u003Ccode class=\"literal\">netdev\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">-200\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">bridge\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">security\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">50\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tall\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd rowspan=\"2\" align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">srcnat\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">100\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ip\u003C/code>, \u003Ccode class=\"literal\">ip6\u003C/code>, \u003Ccode class=\"literal\">inet\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">postrouting\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">300\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">bridge\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">postrouting\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955214304\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">out\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955213216\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">100\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955212128\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">bridge\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140107955211040\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">output\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Ch5 id=\"chain_policies\">Chain policies\u003C/h5>\u003Cp>\n\t\t\t\t\tThe chain policy defines whether \u003Ccode class=\"literal\">nftables\u003C/code> should accept or drop packets if rules in this chain do not specify any action. You can set one of the following policies in a chain:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">accept\u003C/code> (default)\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">drop\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_basics-of-nftables-rules_assembly_creating-and-managing-nftables-tables-chains-and-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.3.3. Basics of nftables rules\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tRules define actions to perform on packets that pass a chain that contains this rule. If the rule also contains matching expressions, \u003Ccode class=\"literal\">nftables\u003C/code> performs the actions only if all previous expressions apply.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf you want to add a rule to a chain, the format to use depends on your firewall script:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn scripts in native syntax, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">table \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_address_family&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_name&gt;\u003C/em>\u003C/span> {\n  chain \u003Cspan class=\"emphasis\">\u003Cem>&lt;chain_name&gt;\u003C/em>\u003C/span> {\n    type \u003Cspan class=\"emphasis\">\u003Cem>&lt;type&gt;\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>&lt;hook&gt;\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>&lt;priority&gt;\u003C/em>\u003C/span> ; policy \u003Cspan class=\"emphasis\">\u003Cem>&lt;policy&gt;\u003C/em>\u003C/span> ;\n      \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Cspan class=\"emphasis\">\u003Cem>&lt;rule&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIn shell scripts, use:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_address_family&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;table_name&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;chain_name&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;rule&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis shell command appends the new rule at the end of the chain. If you prefer to add a rule at the beginning of the chain, use the \u003Ccode class=\"literal\">nft insert\u003C/code> command instead of \u003Ccode class=\"literal\">nft add\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_managing-tables-chains-and-rules-using-nft-commands_assembly_creating-and-managing-nftables-tables-chains-and-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.3.4. Managing tables, chains, and rules using nft commands\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo manage an \u003Ccode class=\"literal\">nftables\u003C/code> firewall on the command line or in shell scripts, use the \u003Ccode class=\"literal\">nft\u003C/code> utility.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe commands in this procedure do not represent a typical workflow and are not optimized. This procedure only demonstrates how to use \u003Ccode class=\"literal\">nft\u003C/code> commands to manage tables, chains, and rules in general.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table named \u003Ccode class=\"literal\">nftables_svc\u003C/code> with the \u003Ccode class=\"literal\">inet\u003C/code> address family so that the table can process both IPv4 and IPv6 packets:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a base chain named \u003Ccode class=\"literal\">INPUT\u003C/code>, that processes incoming network traffic, to the \u003Ccode class=\"literal\">inet nftables_svc\u003C/code> table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> { type \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> \\; policy \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span> \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo avoid that the shell interprets the semicolons as the end of the command, escape the semicolons using the \u003Ccode class=\"literal\">\\\u003C/code> character.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd rules to the \u003Ccode class=\"literal\">INPUT\u003C/code> chain. For example, allow incoming TCP traffic on port 22 and 443, and, as the last rule of the \u003Ccode class=\"literal\">INPUT\u003C/code> chain, reject other incoming traffic with an Internet Control Message Protocol (ICMP) port unreachable message:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> tcp dport 22 accept\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> tcp dport 443 accept\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> reject with icmpx type port-unreachable\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you enter the \u003Ccode class=\"literal\">nft add rule\u003C/code> commands as shown, \u003Ccode class=\"literal\">nft\u003C/code> adds the rules in the same order to the chain as you run the commands.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the current rule set including handles:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -a list table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> { # handle \u003Cspan class=\"emphasis\">\u003Cem>13\u003C/em>\u003C/span>\n  chain \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> { # handle \u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span>\n    type \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span>; policy \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span>;\n    tcp dport 22 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>2\u003C/em>\u003C/span>\n    tcp dport 443 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>3\u003C/em>\u003C/span>\n    reject # handle \u003Cspan class=\"emphasis\">\u003Cem>4\u003C/em>\u003C/span>\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInsert a rule before the existing rule with handle 3. For example, to insert a rule that allows TCP traffic on port 636, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft insert rule inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> position 3 tcp dport 636 accept\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAppend a rule after the existing rule with handle 3. For example, to insert a rule that allows TCP traffic on port 80, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> position \u003Cspan class=\"emphasis\">\u003Cem>3\u003C/em>\u003C/span> tcp dport 80 accept\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the rule set again with handles. Verify that the later added rules have been added to the specified positions:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -a list table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> { # handle \u003Cspan class=\"emphasis\">\u003Cem>13\u003C/em>\u003C/span>\n  chain \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> { # handle \u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span>\n    type \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span>; policy \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span>;\n    tcp dport 22 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>2\u003C/em>\u003C/span>\n    tcp dport 636 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>5\u003C/em>\u003C/span>\n    tcp dport 443 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>3\u003C/em>\u003C/span>\n    tcp dport 80 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>6\u003C/em>\u003C/span>\n    reject # handle \u003Cspan class=\"emphasis\">\u003Cem>4\u003C/em>\u003C/span>\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRemove the rule with handle 6:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft delete rule inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> handle 6\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo remove a rule, you must specify the handle.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the rule set, and verify that the removed rule is no longer present:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -a list table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> { # handle \u003Cspan class=\"emphasis\">\u003Cem>13\u003C/em>\u003C/span>\n  chain \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span> { # handle \u003Cspan class=\"emphasis\">\u003Cem>1\u003C/em>\u003C/span>\n    type \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> hook \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> priority \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span>; policy \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span>;\n    tcp dport 22 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>2\u003C/em>\u003C/span>\n    tcp dport 636 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>5\u003C/em>\u003C/span>\n    tcp dport 443 accept # handle \u003Cspan class=\"emphasis\">\u003Cem>3\u003C/em>\u003C/span>\n    reject # handle \u003Cspan class=\"emphasis\">\u003Cem>4\u003C/em>\u003C/span>\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRemove all remaining rules from the \u003Ccode class=\"literal\">INPUT\u003C/code> chain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft flush chain inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the rule set, and verify that the \u003Ccode class=\"literal\">INPUT\u003C/code> chain is empty:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> {\n  chain INPUT {\n    type filter hook input priority filter; policy accept\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDelete the \u003Ccode class=\"literal\">INPUT\u003C/code> chain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft delete chain inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>INPUT\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can also use this command to delete chains that still contain rules.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the rule set, and verify that the \u003Ccode class=\"literal\">INPUT\u003C/code> chain has been deleted:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span> {\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDelete the \u003Ccode class=\"literal\">nftables_svc\u003C/code> table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft delete table inet \u003Cspan class=\"emphasis\">\u003Cem>nftables_svc\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou can also use this command to delete tables that still contain chains.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tTo delete the entire rule set, use the \u003Ccode class=\"literal\">nft flush ruleset\u003C/code> command instead of manually deleting all rules, chains, and tables in separate commands.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"_additional-resources _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\t\u003Ccode class=\"literal\">nft(8)\u003C/code> man page\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"configuring-nat-using-nftables_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.4. Configuring NAT using nftables\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tWith \u003Ccode class=\"literal\">nftables\u003C/code>, you can configure the following network address translation (NAT) types:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tMasquerading\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSource NAT (SNAT)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDestination NAT (DNAT)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRedirect\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou can only use real interface names in \u003Ccode class=\"literal\">iifname\u003C/code> and \u003Ccode class=\"literal\">oifname\u003C/code> parameters, and alternative names (\u003Ccode class=\"literal\">altname\u003C/code>) are not supported.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"nat-types_configuring-nat-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.4.1. NAT types\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThese are the different network address translation (NAT) types:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Masquerading and source NAT (SNAT)\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUse one of these NAT types to change the source IP address of packets. For example, Internet Service Providers (ISPs) do not route private IP ranges, such as \u003Ccode class=\"literal\">10.0.0.0/8\u003C/code>. If you use private IP ranges in your network and users should be able to reach servers on the internet, map the source IP address of packets from these ranges to a public IP address.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMasquerading and SNAT are very similar to one another. The differences are:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tMasquerading automatically uses the IP address of the outgoing interface. Therefore, use masquerading if the outgoing interface uses a dynamic IP address.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tSNAT sets the source IP address of packets to a specified IP and does not dynamically look up the IP of the outgoing interface. Therefore, SNAT is faster than masquerading. Use SNAT if the outgoing interface uses a fixed IP address.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Destination NAT (DNAT)\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tUse this NAT type to rewrite the destination address and port of incoming packets. For example, if your web server uses an IP address from a private IP range and is, therefore, not directly accessible from the internet, you can set a DNAT rule on the router to redirect incoming traffic to this server.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Redirect\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tThis type is a special case of DNAT that redirects packets to the local machine depending on the chain hook. For example, if a service runs on a different port than its standard port, you can redirect incoming traffic from the standard port to this specific port.\n\t\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-masquerading-using-nftables_configuring-nat-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.4.2. Configuring masquerading using nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tMasquerading enables a router to dynamically change the source IP of packets sent through an interface to the IP address of the interface. This means that if the interface gets a new IP assigned, \u003Ccode class=\"literal\">nftables\u003C/code> automatically uses the new IP when replacing the source IP.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tReplace the source IP of packets leaving the host through the \u003Ccode class=\"literal\">ens3\u003C/code> interface to the IP set on \u003Ccode class=\"literal\">ens3\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table nat\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">prerouting\u003C/code> and \u003Ccode class=\"literal\">postrouting\u003C/code> chains to the table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain nat postrouting { type nat hook postrouting priority 100 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tEven if you do not add a rule to the \u003Ccode class=\"literal\">prerouting\u003C/code> chain, the \u003Ccode class=\"literal\">nftables\u003C/code> framework requires this chain to match incoming packet replies.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that you must pass the \u003Ccode class=\"literal\">--\u003C/code> option to the \u003Ccode class=\"literal\">nft\u003C/code> command to prevent the shell from interpreting the negative priority value as an option of the \u003Ccode class=\"literal\">nft\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">postrouting\u003C/code> chain that matches outgoing packets on the \u003Ccode class=\"literal\">ens3\u003C/code> interface:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule nat postrouting oifname \"\u003Cspan class=\"emphasis\">\u003Cem>ens3\u003C/em>\u003C/span>\" masquerade\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-source-nat-using-nftables_configuring-nat-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.4.3. Configuring source NAT using nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tOn a router, Source NAT (SNAT) enables you to change the IP of packets sent through an interface to a specific IP address. The router then replaces the source IP of outgoing packets.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table nat\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">prerouting\u003C/code> and \u003Ccode class=\"literal\">postrouting\u003C/code> chains to the table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain nat postrouting { type nat hook postrouting priority 100 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tEven if you do not add a rule to the \u003Ccode class=\"literal\">postrouting\u003C/code> chain, the \u003Ccode class=\"literal\">nftables\u003C/code> framework requires this chain to match outgoing packet replies.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that you must pass the \u003Ccode class=\"literal\">--\u003C/code> option to the \u003Ccode class=\"literal\">nft\u003C/code> command to prevent the shell from interpreting the negative priority value as an option of the \u003Ccode class=\"literal\">nft\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">postrouting\u003C/code> chain that replaces the source IP of outgoing packets through \u003Ccode class=\"literal\">ens3\u003C/code> with \u003Ccode class=\"literal\">192.0.2.1\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule nat postrouting oifname \"\u003Cspan class=\"emphasis\">\u003Cem>ens3\u003C/em>\u003C/span>\" snat to \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables\" title=\"2.8.2. Forwarding incoming packets on a specific local port to a different host\">Forwarding incoming packets on a specific local port to a different host\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-destination-nat-using-nftables_configuring-nat-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.4.4. Configuring destination NAT using nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tDestination NAT (DNAT) enables you to redirect traffic on a router to a host that is not directly accessible from the internet.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, with DNAT the router redirects incoming traffic sent to port \u003Ccode class=\"literal\">80\u003C/code> and \u003Ccode class=\"literal\">443\u003C/code> to a web server with the IP address \u003Ccode class=\"literal\">192.0.2.1\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table nat\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">prerouting\u003C/code> and \u003Ccode class=\"literal\">postrouting\u003C/code> chains to the table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -- add chain nat prerouting { type nat hook prerouting priority -100 \\; }\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain nat postrouting { type nat hook postrouting priority 100 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tEven if you do not add a rule to the \u003Ccode class=\"literal\">postrouting\u003C/code> chain, the \u003Ccode class=\"literal\">nftables\u003C/code> framework requires this chain to match outgoing packet replies.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that you must pass the \u003Ccode class=\"literal\">--\u003C/code> option to the \u003Ccode class=\"literal\">nft\u003C/code> command to prevent the shell from interpreting the negative priority value as an option of the \u003Ccode class=\"literal\">nft\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">prerouting\u003C/code> chain that redirects incoming traffic to port \u003Ccode class=\"literal\">80\u003C/code> and \u003Ccode class=\"literal\">443\u003C/code> on the \u003Ccode class=\"literal\">ens3\u003C/code> interface of the router to the web server with the IP address \u003Ccode class=\"literal\">192.0.2.1\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule nat prerouting iifname \u003Cspan class=\"emphasis\">\u003Cem>ens3\u003C/em>\u003C/span> tcp dport { 80, 443 } dnat to 192.0.2.1\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDepending on your environment, add either a SNAT or masquerading rule to change the source address for packets returning from the web server to the sender:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">ens3\u003C/code> interface uses a dynamic IP addresses, add a masquerading rule:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule nat postrouting oifname \"ens3\" masquerade\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">ens3\u003C/code> interface uses a static IP address, add a SNAT rule. For example, if the \u003Ccode class=\"literal\">ens3\u003C/code> uses the \u003Ccode class=\"literal\">198.51.100.1\u003C/code> IP address:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule nat postrouting oifname \"ens3\" snat to 198.51.100.1\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable packet forwarding:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"net.ipv4.ip_forward=1\" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#nat-types_configuring-nat-using-nftables\" title=\"2.4.1. NAT types\">NAT types\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_configuring-a-redirect-using-nftables_configuring-nat-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.4.5. Configuring a redirect using nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">redirect\u003C/code> feature is a special case of destination network address translation (DNAT) that redirects packets to the local machine depending on the chain hook.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, you can redirect incoming and forwarded traffic sent to port \u003Ccode class=\"literal\">22\u003C/code> of the local host to port \u003Ccode class=\"literal\">2222\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table nat\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">prerouting\u003C/code> chain to the table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -- add chain nat prerouting { type nat hook prerouting priority -100 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNote that you must pass the \u003Ccode class=\"literal\">--\u003C/code> option to the \u003Ccode class=\"literal\">nft\u003C/code> command to prevent the shell from interpreting the negative priority value as an option of the \u003Ccode class=\"literal\">nft\u003C/code> command.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">prerouting\u003C/code> chain that redirects incoming traffic on port \u003Ccode class=\"literal\">22\u003C/code> to port \u003Ccode class=\"literal\">2222\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule nat prerouting tcp dport 22 redirect to 2222\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#nat-types_configuring-nat-using-nftables\" title=\"2.4.1. NAT types\">NAT types\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_configuring-flowtable-by-using-nftables_configuring-nat-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.4.6. Configuring flowtable by using nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> utility uses the \u003Ccode class=\"literal\">netfilter\u003C/code> framework to provide network address translation (NAT) for network traffic and provides the fastpath feature-based \u003Ccode class=\"literal\">flowtable\u003C/code> mechanism to accelerate packet forwarding.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe flowtable mechanism has the following features:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUses connection tracking to bypass the classic packet forwarding path.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAvoids revisiting the routing table by bypassing the classic packet processing.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tWorks only with TCP and UDP protocols.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tHardware independent software fast path.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd an \u003Ccode class=\"literal\">example-table\u003C/code> table of \u003Ccode class=\"literal\">inet\u003C/code> family:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table inet \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-table&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd an \u003Ccode class=\"literal\">example-flowtable\u003C/code> flowtable with \u003Ccode class=\"literal\">ingress\u003C/code> hook and \u003Ccode class=\"literal\">filter\u003C/code> as a priority type:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add flowtable inet \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-table&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-flowtable&gt;\u003C/em>\u003C/span> { hook ingress priority filter \\; devices = { enp1s0, enp7s0 } \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd an \u003Ccode class=\"literal\">example-forwardchain\u003C/code> flow to the flowtable from a packet processing table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain inet \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-table&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-forwardchain&gt;\u003C/em>\u003C/span> { type filter hook forward priority filter \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis command adds a flowtable of \u003Ccode class=\"literal\">filter\u003C/code> type with \u003Ccode class=\"literal\">forward\u003C/code> hook and \u003Ccode class=\"literal\">filter\u003C/code> priority.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule with \u003Ccode class=\"literal\">established\u003C/code> connection tracking state to offload \u003Ccode class=\"literal\">example-flowtable\u003C/code> flow:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-table&gt;\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-forwardchain&gt;\u003C/em>\u003C/span> ct state established flow add @\u003Cspan class=\"emphasis\">\u003Cem>&lt;example-flowtable&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the properties of \u003Ccode class=\"literal\">example-table\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table inet \u003Cspan class=\"emphasis\">\u003Cem>&lt;example-table&gt;\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet example-table {\n    \tflowtable example-flowtable {\n     \t\thook ingress priority filter\n           devices = { enp1s0, enp7s0 }\n    \t}\n\n    \tchain example-forwardchain {\ntype filter hook forward priority filter; policy accept;\nct state established flow add @example-flowtable\n    }\n}\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nft(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"using-sets-in-nftables-commands_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.5. Using sets in nftables commands\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> framework natively supports sets. You can use sets, for example, if a rule should match multiple IP addresses, port numbers, interfaces, or any other match criteria.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"using-anonymous-sets-in-nftables_using-sets-in-nftables-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.5.1. Using anonymous sets in nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAn anonymous set contains comma-separated values enclosed in curly brackets, such as \u003Ccode class=\"literal\">{ 22, 80, 443 }\u003C/code>, that you use directly in a rule. You can use anonymous sets also for IP addresses and any other match criteria.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe drawback of anonymous sets is that if you want to change the set, you must replace the rule. For a dynamic solution, use named sets as described in \u003Ca class=\"link\" href=\"#using-named-sets-in-nftables_using-sets-in-nftables-commands\" title=\"2.5.2. Using named sets in nftables\">Using named sets in nftables\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">example_chain\u003C/code> chain and the \u003Ccode class=\"literal\">example_table\u003C/code> table in the \u003Ccode class=\"literal\">inet\u003C/code> family exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, to add a rule to \u003Ccode class=\"literal\">example_chain\u003C/code> in \u003Ccode class=\"literal\">example_table\u003C/code> that allows incoming traffic to port \u003Ccode class=\"literal\">22\u003C/code>, \u003Ccode class=\"literal\">80\u003C/code>, and \u003Ccode class=\"literal\">443\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> tcp dport { 22, 80, 443 } accept\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Display all chains and their rules in \u003Ccode class=\"literal\">example_table\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table inet example_table\u003C/strong>\u003C/span>\ntable inet example_table {\n  chain example_chain {\n    type filter hook input priority filter; policy accept;\n    tcp dport { ssh, http, https } accept\n  }\n}\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-named-sets-in-nftables_using-sets-in-nftables-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.5.2. Using named sets in nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> framework supports mutable named sets. A named set is a list or range of elements that you can use in multiple rules within a table. Another benefit over anonymous sets is that you can update a named set without replacing the rules that use the set.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tWhen you create a named set, you must specify the type of elements the set contains. You can set the following types:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ipv4_addr\u003C/code> for a set that contains IPv4 addresses or ranges, such as \u003Ccode class=\"literal\">192.0.2.1\u003C/code> or \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ipv6_addr\u003C/code> for a set that contains IPv6 addresses or ranges, such as \u003Ccode class=\"literal\">2001:db8:1::1\u003C/code> or \u003Ccode class=\"literal\">2001:db8:1::1/64\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ether_addr\u003C/code> for a set that contains a list of media access control (MAC) addresses, such as \u003Ccode class=\"literal\">52:54:00:6b:66:42\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">inet_proto\u003C/code> for a set that contains a list of internet protocol types, such as \u003Ccode class=\"literal\">tcp\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">inet_service\u003C/code> for a set that contains a list of internet services, such as \u003Ccode class=\"literal\">ssh\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mark\u003C/code> for a set that contains a list of packet marks. Packet marks can be any positive 32-bit integer value (\u003Ccode class=\"literal\">0\u003C/code> to \u003Ccode class=\"literal\">2147483647\u003C/code>).\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">example_chain\u003C/code> chain and the \u003Ccode class=\"literal\">example_table\u003C/code> table exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate an empty set. The following examples create a set for IPv4 addresses:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo create a set that can store multiple individual IPv4 addresses:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add set \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_set\u003C/em>\u003C/span> { type ipv4_addr \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo create a set that can store IPv4 address ranges:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add set \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_set\u003C/em>\u003C/span> { type ipv4_addr \\; flags interval \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tTo prevent the shell from interpreting the semicolons as the end of the command, you must escape the semicolons with a backslash.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Create rules that use the set. For example, the following command adds a rule to the \u003Ccode class=\"literal\">example_chain\u003C/code> in the \u003Ccode class=\"literal\">example_table\u003C/code> that will drop all packets from IPv4 addresses in \u003Ccode class=\"literal\">example_set\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> ip saddr @\u003Cspan class=\"emphasis\">\u003Cem>example_set\u003C/em>\u003C/span> drop\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBecause \u003Ccode class=\"literal\">example_set\u003C/code> is still empty, the rule has currently no effect.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd IPv4 addresses to \u003Ccode class=\"literal\">example_set\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you create a set that stores individual IPv4 addresses, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add element \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_set\u003C/em>\u003C/span> { \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.1, 192.0.2.2\u003C/em>\u003C/span> }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you create a set that stores IPv4 ranges, enter:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add element \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_set\u003C/em>\u003C/span> { \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.0-192.0.2.255\u003C/em>\u003C/span> }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWhen you specify an IP address range, you can alternatively use the Classless Inter-Domain Routing (CIDR) notation, such as \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code> in the above example.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.5.3. Additional resources\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">Sets\u003C/code> section in the \u003Ccode class=\"literal\">nft(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"using-verdict-maps-in-nftables-commands_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.6. Using verdict maps in nftables commands\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tVerdict maps, which are also known as dictionaries, enable \u003Ccode class=\"literal\">nft\u003C/code> to perform an action based on packet information by mapping match criteria to an action.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"using-anonymous-maps-in-nftables_using-verdict-maps-in-nftables-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.6.1. Using anonymous maps in nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tAn anonymous map is a \u003Ccode class=\"literal\">{ \u003Cspan class=\"emphasis\">\u003Cem>match_criteria\u003C/em>\u003C/span> : \u003Cspan class=\"emphasis\">\u003Cem>action\u003C/em>\u003C/span> }\u003C/code> statement that you use directly in a rule. The statement can contain multiple comma-separated mappings.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe drawback of an anonymous map is that if you want to change the map, you must replace the rule. For a dynamic solution, use named maps as described in \u003Ca class=\"link\" href=\"#using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands\" title=\"2.6.2. Using named maps in nftables\">Using named maps in nftables\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, you can use an anonymous map to route both TCP and UDP packets of the IPv4 and IPv6 protocol to different chains to count incoming TCP and UDP packets separately.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a new table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table inet example_table\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">tcp_packets\u003C/code> chain in \u003Ccode class=\"literal\">example_table\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain inet example_table tcp_packets\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to \u003Ccode class=\"literal\">tcp_packets\u003C/code> that counts the traffic in this chain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet example_table tcp_packets counter\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">udp_packets\u003C/code> chain in \u003Ccode class=\"literal\">example_table\u003C/code>\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain inet example_table udp_packets\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to \u003Ccode class=\"literal\">udp_packets\u003C/code> that counts the traffic in this chain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet example_table udp_packets counter\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a chain for incoming traffic. For example, to create a chain named \u003Ccode class=\"literal\">incoming_traffic\u003C/code> in \u003Ccode class=\"literal\">example_table\u003C/code> that filters incoming traffic:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain inet example_table incoming_traffic { type filter hook input priority 0 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule with an anonymous map to \u003Ccode class=\"literal\">incoming_traffic\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet example_table incoming_traffic ip protocol vmap { tcp : jump tcp_packets, udp : jump udp_packets }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe anonymous map distinguishes the packets and sends them to the different counter chains based on their protocol.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list the traffic counters, display \u003Ccode class=\"literal\">example_table\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list table inet example_table\u003C/strong>\u003C/span>\ntable inet example_table {\n  chain tcp_packets {\n    \u003Cspan class=\"strong strong\">\u003Cstrong>counter packets 36379 bytes 2103816\u003C/strong>\u003C/span>\n  }\n\n  chain udp_packets {\n    \u003Cspan class=\"strong strong\">\u003Cstrong>counter packets 10 bytes 1559\u003C/strong>\u003C/span>\n  }\n\n  chain incoming_traffic {\n    type filter hook input priority filter; policy accept;\n    ip protocol vmap { tcp : jump tcp_packets, udp : jump udp_packets }\n  }\n}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe counters in the \u003Ccode class=\"literal\">tcp_packets\u003C/code> and \u003Ccode class=\"literal\">udp_packets\u003C/code> chain display both the number of received packets and bytes.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.6.2. Using named maps in nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> framework supports named maps. You can use these maps in multiple rules within a table. Another benefit over anonymous maps is that you can update a named map without replacing the rules that use it.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tWhen you create a named map, you must specify the type of elements:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ipv4_addr\u003C/code> for a map whose match part contains an IPv4 address, such as \u003Ccode class=\"literal\">192.0.2.1\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ipv6_addr\u003C/code> for a map whose match part contains an IPv6 address, such as \u003Ccode class=\"literal\">2001:db8:1::1\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ether_addr\u003C/code> for a map whose match part contains a media access control (MAC) address, such as \u003Ccode class=\"literal\">52:54:00:6b:66:42\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">inet_proto\u003C/code> for a map whose match part contains an internet protocol type, such as \u003Ccode class=\"literal\">tcp\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">inet_service\u003C/code> for a map whose match part contains an internet services name port number, such as \u003Ccode class=\"literal\">ssh\u003C/code> or \u003Ccode class=\"literal\">22\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">mark\u003C/code> for a map whose match part contains a packet mark. A packet mark can be any positive 32-bit integer value (\u003Ccode class=\"literal\">0\u003C/code> to \u003Ccode class=\"literal\">2147483647\u003C/code>).\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">counter\u003C/code> for a map whose match part contains a counter value. The counter value can be any positive 64-bit integer value.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">quota\u003C/code> for a map whose match part contains a quota value. The quota value can be any positive 64-bit integer value.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tFor example, you can allow or drop incoming packets based on their source IP address. Using a named map, you require only a single rule to configure this scenario while the IP addresses and actions are dynamically stored in the map.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table. For example, to create a table named \u003Ccode class=\"literal\">example_table\u003C/code> that processes IPv4 packets:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table ip \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a chain. For example, to create a chain named \u003Ccode class=\"literal\">example_chain\u003C/code> in \u003Ccode class=\"literal\">example_table\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain ip \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> { type filter hook \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> priority 0 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tTo prevent the shell from interpreting the semicolons as the end of the command, you must escape the semicolons with a backslash.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate an empty map. For example, to create a map for IPv4 addresses:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add map ip \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_map\u003C/em>\u003C/span> { type ipv4_addr : verdict \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate rules that use the map. For example, the following command adds a rule to \u003Ccode class=\"literal\">example_chain\u003C/code> in \u003Ccode class=\"literal\">example_table\u003C/code> that applies actions to IPv4 addresses which are both defined in \u003Ccode class=\"literal\">example_map\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> ip saddr vmap @\u003Cspan class=\"emphasis\">\u003Cem>example_map\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd IPv4 addresses and corresponding actions to \u003Ccode class=\"literal\">example_map\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add element ip \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_map\u003C/em>\u003C/span> { 192.0.2.1 : accept, 192.0.2.2 : drop }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis example defines the mappings of IPv4 addresses to actions. In combination with the rule created above, the firewall accepts packet from \u003Ccode class=\"literal\">192.0.2.1\u003C/code> and drops packets from \u003Ccode class=\"literal\">192.0.2.2\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Enhance the map by adding another IP address and action statement:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add element ip \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_map\u003C/em>\u003C/span> { 192.0.2.3 : accept }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Remove an entry from the map:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft delete element ip \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_map\u003C/em>\u003C/span> { 192.0.2.1 }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Display the rule set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list ruleset\u003C/strong>\u003C/span>\ntable ip example_table {\n  map example_map {\n    type ipv4_addr : verdict\n    elements = { 192.0.2.2 : drop, 192.0.2.3 : accept }\n  }\n\n  chain example_chain {\n    type filter hook input priority filter; policy accept;\n    ip saddr vmap @example_map\n  }\n}\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_2\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.6.3. Additional resources\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">Maps\u003C/code> section in the \u003Ccode class=\"literal\">nft(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.7. Example: Protecting a LAN and DMZ using an nftables script\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tUse the \u003Ccode class=\"literal\">nftables\u003C/code> framework on a RHEL router to write and install a firewall script that protects the network clients in an internal LAN and a web server in a DMZ from unauthorized access from the internet and from other networks.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThis example is only for demonstration purposes and describes a scenario with specific requirements.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFirewall scripts highly depend on the network infrastructure and security requirements. Use this example to learn the concepts of \u003Ccode class=\"literal\">nftables\u003C/code> firewalls when you write scripts for your own environment.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.7.1. Network conditions\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe network in this example has the following conditions:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe router is connected to the following networks:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe internet through interface \u003Ccode class=\"literal\">enp1s0\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe internal LAN through interface \u003Ccode class=\"literal\">enp7s0\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe DMZ through \u003Ccode class=\"literal\">enp8s0\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe internet interface of the router has both a static IPv4 address (\u003Ccode class=\"literal\">203.0.113.1\u003C/code>) and IPv6 address (\u003Ccode class=\"literal\">2001:db8:a::1\u003C/code>) assigned.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe clients in the internal LAN use only private IPv4 addresses from the range \u003Ccode class=\"literal\">10.0.0.0/24\u003C/code>. Consequently, traffic from the LAN to the internet requires source network address translation (SNAT).\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe administrator PCs in the internal LAN use the IP addresses \u003Ccode class=\"literal\">10.0.0.100\u003C/code> and \u003Ccode class=\"literal\">10.0.0.200\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe DMZ uses public IP addresses from the ranges \u003Ccode class=\"literal\">198.51.100.0/24\u003C/code> and \u003Ccode class=\"literal\">2001:db8:b::/56\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe web server in the DMZ uses the IP addresses \u003Ccode class=\"literal\">198.51.100.5\u003C/code> and \u003Ccode class=\"literal\">2001:db8:b::5\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe router acts as a caching DNS server for hosts in the LAN and DMZ.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.7.2. Security requirements to the firewall script\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe following are the requirements to the \u003Ccode class=\"literal\">nftables\u003C/code> firewall in the example network:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe router must be able to:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRecursively resolve DNS queries.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tPerform all connections on the loopback interface.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tClients in the internal LAN must be able to:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tQuery the caching DNS server running on the router.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccess the HTTPS server in the DMZ.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccess any HTTPS server on the internet.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe PCs of the administrators must be able to access the router and every server in the DMZ using SSH.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe web server in the DMZ must be able to:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tQuery the caching DNS server running on the router.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccess HTTPS servers on the internet to download updates.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tHosts on the internet must be able to:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAccess the HTTPS servers in the DMZ.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdditionally, the following security requirements exists:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tConnection attempts that are not explicitly allowed should be dropped.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tDropped packets should be logged.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_configuring-logging-of-dropped-packets-to-a-file_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.7.3. Configuring logging of dropped packets to a file\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tBy default, \u003Ccode class=\"literal\">systemd\u003C/code> logs kernel messages, such as for dropped packets, to the journal. Additionally, you can configure the \u003Ccode class=\"literal\">rsyslog\u003C/code> service to log such entries to a separate file. To ensure that the log file does not grow infinitely, configure a rotation policy.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">rsyslog\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">rsyslog\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/rsyslog.d/nftables.conf\u003C/code> file with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\">:msg, startswith, \"nft drop\" -/var/log/nftables.log\n&amp; stop\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsing this configuration, the \u003Ccode class=\"literal\">rsyslog\u003C/code> service logs dropped packets to the \u003Ccode class=\"literal\">/var/log/nftables.log\u003C/code> file instead of \u003Ccode class=\"literal\">/var/log/messages\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">rsyslog\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart rsyslog\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/logrotate.d/nftables\u003C/code> file with the following content to rotate \u003Ccode class=\"literal\">/var/log/nftables.log\u003C/code> if the size exceeds 10 MB:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\">/var/log/nftables.log {\n  size +10M\n  maxage 30\n  sharedscripts\n  postrotate\n    /usr/bin/systemctl kill -s HUP rsyslog.service &gt;/dev/null 2&gt;&amp;1 || true\n  endscript\n}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">maxage 30\u003C/code> setting defines that \u003Ccode class=\"literal\">logrotate\u003C/code> removes rotated logs older than 30 days during the next rotation operation.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rsyslog.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">logrotate(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_writing-and-activating-the-nftables-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.7.4. Writing and activating the nftables script\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThis example is an \u003Ccode class=\"literal\">nftables\u003C/code> firewall script that runs on a RHEL router and protects the clients in an internal LAN and a web server in a DMZ. For details about the network and the requirements for the firewall used in the example, see \u003Ca class=\"link\" href=\"#con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\" title=\"2.7.1. Network conditions\">Network conditions\u003C/a> and \u003Ca class=\"link\" href=\"#con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\" title=\"2.7.2. Security requirements to the firewall script\">Security requirements to the firewall script\u003C/a>.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThis \u003Ccode class=\"literal\">nftables\u003C/code> firewall script is only for demonstration purposes. Do not use it without adapting it to your environments and security requirements.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe network is configured as described in \u003Ca class=\"link\" href=\"#con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script\" title=\"2.7.1. Network conditions\">Network conditions\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">/etc/nftables/firewall.nft\u003C/code> script with the following content:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"programlisting language-bash\"># Remove all rules\nflush ruleset\n\n\n# Table for both IPv4 and IPv6 rules\ntable inet nftables_svc {\n\n  # Define variables for the interface name\n  define INET_DEV = enp1s0\n  define LAN_DEV  = enp7s0\n  define DMZ_DEV  = enp8s0\n\n\n  # Set with the IPv4 addresses of admin PCs\n  set admin_pc_ipv4 {\n    type ipv4_addr\n    elements = { 10.0.0.100, 10.0.0.200 }\n  }\n\n\n  # Chain for incoming trafic. Default policy: drop\n  chain INPUT {\n    type filter hook input priority filter\n    policy drop\n\n    # Accept packets in established and related state, drop invalid packets\n    ct state vmap { established:accept, related:accept, invalid:drop }\n\n    # Accept incoming traffic on loopback interface\n    iifname lo accept\n\n    # Allow request from LAN and DMZ to local DNS server\n    iifname { $LAN_DEV, $DMZ_DEV } meta l4proto { tcp, udp } th dport 53 accept\n\n    # Allow admins PCs to access the router using SSH\n    iifname $LAN_DEV ip saddr @admin_pc_ipv4 tcp dport 22 accept\n\n    # Last action: Log blocked packets\n    # (packets that were not accepted in previous rules in this chain)\n    log prefix \"nft drop IN : \"\n  }\n\n\n  # Chain for outgoing traffic. Default policy: drop\n  chain OUTPUT {\n    type filter hook output priority filter\n    policy drop\n\n    # Accept packets in established and related state, drop invalid packets\n    ct state vmap { established:accept, related:accept, invalid:drop }\n\n    # Accept outgoing traffic on loopback interface\n    oifname lo accept\n\n    # Allow local DNS server to recursively resolve queries\n    oifname $INET_DEV meta l4proto { tcp, udp } th dport 53 accept\n\n    # Last action: Log blocked packets\n    log prefix \"nft drop OUT: \"\n  }\n\n\n  # Chain for forwarding traffic. Default policy: drop\n  chain FORWARD {\n    type filter hook forward priority filter\n    policy drop\n\n    # Accept packets in established and related state, drop invalid packets\n    ct state vmap { established:accept, related:accept, invalid:drop }\n\n    # IPv4 access from LAN and internet to the HTTPS server in the DMZ\n    iifname { $LAN_DEV, $INET_DEV } oifname $DMZ_DEV ip daddr 198.51.100.5 tcp dport 443 accept\n\n    # IPv6 access from internet to the HTTPS server in the DMZ\n    iifname $INET_DEV oifname $DMZ_DEV ip6 daddr 2001:db8:b::5 tcp dport 443 accept\n\n    # Access from LAN and DMZ to HTTPS servers on the internet\n    iifname { $LAN_DEV, $DMZ_DEV } oifname $INET_DEV tcp dport 443 accept\n\n    # Last action: Log blocked packets\n    log prefix \"nft drop FWD: \"\n  }\n\n\n  # Postrouting chain to handle SNAT\n  chain postrouting {\n    type nat hook postrouting priority srcnat; policy accept;\n\n    # SNAT for IPv4 traffic from LAN to internet\n    iifname $LAN_DEV oifname $INET_DEV snat ip to 203.0.113.1\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInclude the \u003Ccode class=\"literal\">/etc/nftables/firewall.nft\u003C/code> script in the \u003Ccode class=\"literal\">/etc/sysconfig/nftables.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">include \"/etc/nftables/firewall.nft\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable IPv4 forwarding:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"net.ipv4.ip_forward=1\" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">nftables\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now nftables\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptional: Verify the \u003Ccode class=\"literal\">nftables\u003C/code> rule set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list ruleset\u003C/strong>\u003C/span>\n...\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTry to perform an access that the firewall prevents. For example, try to access the router using SSH from the DMZ:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ssh router.example.com\u003C/strong>\u003C/span>\nssh: connect to host \u003Cspan class=\"emphasis\">\u003Cem>router.example.com\u003C/em>\u003C/span> port \u003Cspan class=\"emphasis\">\u003Cem>22\u003C/em>\u003C/span>: Network is unreachable\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDepending on your logging settings, search:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">systemd\u003C/code> journal for the blocked packets:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>journalctl -k -g \"nft drop\"\u003C/strong>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>Oct 14 17:27:18 router kernel: nft drop IN : IN=enp8s0 OUT= MAC=... SRC=198.51.100.5 DST=198.51.100.1 ... PROTO=TCP SPT=40464 DPT=22 ... SYN ...\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">/var/log/nftables.log\u003C/code> file for the blocked packets:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"emphasis\">\u003Cem>Oct 14 17:27:18 router kernel: nft drop IN : IN=enp8s0 OUT= MAC=... SRC=198.51.100.5 DST=198.51.100.1 ... PROTO=TCP SPT=40464 DPT=22 ... SYN ...\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"configuring-port-forwarding-using-nftables_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.8. Configuring port forwarding using nftables\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tPort forwarding enables administrators to forward packets sent to a specific destination port to a different local or remote port.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor example, if your web server does not have a public IP address, you can set a port forwarding rule on your firewall that forwards incoming packets on port \u003Ccode class=\"literal\">80\u003C/code> and \u003Ccode class=\"literal\">443\u003C/code> on the firewall to the web server. With this firewall rule, users on the internet can access the web server using the IP or host name of the firewall.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.8.1. Forwarding incoming packets to a different local port\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use \u003Ccode class=\"literal\">nftables\u003C/code> to forward packets. For example, you can forward incoming IPv4 packets on port \u003Ccode class=\"literal\">8022\u003C/code> to port \u003Ccode class=\"literal\">22\u003C/code> on the local system.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table named \u003Ccode class=\"literal\">nat\u003C/code> with the \u003Ccode class=\"literal\">ip\u003C/code> address family:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table ip \u003Cspan class=\"emphasis\">\u003Cem>nat\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">prerouting\u003C/code> and \u003Ccode class=\"literal\">postrouting\u003C/code> chains to the table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -- add chain ip nat prerouting { type nat hook prerouting priority -100 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tPass the \u003Ccode class=\"literal\">--\u003C/code> option to the \u003Ccode class=\"literal\">nft\u003C/code> command to prevent the shell from interpreting the negative priority value as an option of the \u003Ccode class=\"literal\">nft\u003C/code> command.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">prerouting\u003C/code> chain that redirects incoming packets on port \u003Ccode class=\"literal\">8022\u003C/code> to the local port \u003Ccode class=\"literal\">22\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule ip nat prerouting tcp dport 8022 redirect to :22\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.8.2. Forwarding incoming packets on a specific local port to a different host\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use a destination network address translation (DNAT) rule to forward incoming packets on a local port to a remote host. This enables users on the internet to access a service that runs on a host with a private IP address.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, you can forward incoming IPv4 packets on the local port \u003Ccode class=\"literal\">443\u003C/code> to the same port number on the remote system with the \u003Ccode class=\"literal\">192.0.2.1\u003C/code> IP address.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are logged in as the \u003Ccode class=\"literal\">root\u003C/code> user on the system that should forward the packets.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a table named \u003Ccode class=\"literal\">nat\u003C/code> with the \u003Ccode class=\"literal\">ip\u003C/code> address family:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table ip \u003Cspan class=\"emphasis\">\u003Cem>nat\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">prerouting\u003C/code> and \u003Ccode class=\"literal\">postrouting\u003C/code> chains to the table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -- add chain ip nat prerouting { type nat hook prerouting priority -100 \\; }\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain ip nat postrouting { type nat hook postrouting priority 100 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tPass the \u003Ccode class=\"literal\">--\u003C/code> option to the \u003Ccode class=\"literal\">nft\u003C/code> command to prevent the shell from interpreting the negative priority value as an option of the \u003Ccode class=\"literal\">nft\u003C/code> command.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">prerouting\u003C/code> chain that redirects incoming packets on port \u003Ccode class=\"literal\">443\u003C/code> to the same port on \u003Ccode class=\"literal\">192.0.2.1\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule ip nat prerouting tcp dport 443 dnat to 192.0.2.1\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">postrouting\u003C/code> chain to masquerade outgoing traffic:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule ip nat postrouting daddr 192.0.2.1 masquerade\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable packet forwarding:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo \"net.ipv4.ip_forward=1\" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.9. Using nftables to limit the amount of connections\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use \u003Ccode class=\"literal\">nftables\u003C/code> to limit the number of connections or to block IP addresses that attempt to establish a given amount of connections to prevent them from using too many system resources.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"limiting-the-number-of-connections-using-nftables_assembly_using-nftables-to-limit-the-amount-of-connections\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.9.1. Limiting the number of connections by using nftables\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tBy using the \u003Ccode class=\"literal\">ct count\u003C/code> parameter of the \u003Ccode class=\"literal\">nft\u003C/code> utility, you can limit the number of simultaneous connections per IP address. For example, you can use this feature to configure that each source IP address can only establish two parallel SSH connections to a host.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">filter\u003C/code> table with the \u003Ccode class=\"literal\">inet\u003C/code> address family:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table inet filter\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">input\u003C/code> chain to the \u003Ccode class=\"literal\">inet filter\u003C/code> table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain inet filter input { type filter hook input priority 0 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a dynamic set for IPv4 addresses:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add set inet filter limit-ssh { type ipv4_addr\\; flags dynamic \\;}\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule to the \u003Ccode class=\"literal\">input\u003C/code> chain that allows only two simultaneous incoming connections to the SSH port (22) from an IPv4 address and rejects all further connections from the same IP:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule inet filter input tcp dport ssh ct state new add @limit-ssh { ip saddr ct count over 2 } counter reject\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEstablish more than two new simultaneous SSH connections from the same IP address to the host. Nftables refuses connections to the SSH port if two connections are already established.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the \u003Ccode class=\"literal\">limit-ssh\u003C/code> meter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list set inet filter limit-ssh\u003C/strong>\u003C/span>\ntable inet filter {\n  set limit-ssh {\n    type ipv4_addr\n    size 65535\n    flags dynamic\n    elements = { \u003Cspan class=\"strong strong\">\u003Cstrong>192.0.2.1\u003C/strong>\u003C/span> ct count over 2 , \u003Cspan class=\"strong strong\">\u003Cstrong>192.0.2.2\u003C/strong>\u003C/span> ct count over 2 }\n  }\n}\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">elements\u003C/code> entry displays addresses that currently match the rule. In this example, \u003Ccode class=\"literal\">elements\u003C/code> lists IP addresses that have active connections to the SSH port. Note that the output does not display the number of active connections or if connections were rejected.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_assembly_using-nftables-to-limit-the-amount-of-connections\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.9.2. Blocking IP addresses that attempt more than ten new incoming TCP connections within one minute\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can temporarily block hosts that are establishing more than ten IPv4 TCP connections within one minute.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">filter\u003C/code> table with the \u003Ccode class=\"literal\">ip\u003C/code> address family:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add table ip \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">input\u003C/code> chain to the \u003Ccode class=\"literal\">filter\u003C/code> table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add chain ip \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> { type filter hook input priority 0 \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a set named \u003Ccode class=\"literal\">denylist\u003C/code> to the \u003Ccode class=\"literal\">filter\u003C/code> table:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add set ip \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>denylist\u003C/em>\u003C/span> { type ipv4_addr \\; flags dynamic, timeout \\; timeout \u003Cspan class=\"emphasis\">\u003Cem>5m\u003C/em>\u003C/span> \\; }\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis command creates a dynamic set for IPv4 addresses. The \u003Ccode class=\"literal\">timeout 5m\u003C/code> parameter defines that \u003Ccode class=\"literal\">nftables\u003C/code> automatically removes entries after five minutes to prevent that the set fills up with stale entries.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a rule that automatically adds the source IP address of hosts that attempt to establish more than ten new TCP connections within one minute to the \u003Ccode class=\"literal\">denylist\u003C/code> set:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule ip \u003Cspan class=\"emphasis\">\u003Cem>filter\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>input\u003C/em>\u003C/span> ip protocol tcp ct state new, untracked add \u003Cspan class=\"emphasis\">\u003Cem>@denylist\u003C/em>\u003C/span> { ip saddr limit rate over \u003Cspan class=\"emphasis\">\u003Cem>10/minute\u003C/em>\u003C/span> } drop\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#using-named-sets-in-nftables_using-sets-in-nftables-commands\" title=\"2.5.2. Using named sets in nftables\">Using named sets in nftables\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"debugging-nftables-rules_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.10. Debugging nftables rules\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">nftables\u003C/code> framework provides different options for administrators to debug rules and if packets match them.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"creating-a-rule-with-a-counter_debugging-nftables-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.10.1. Creating a rule with a counter\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo identify if a rule is matched, you can use a counter.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFor more information about a procedure that adds a counter to an existing rule, see \u003Ca class=\"link\" href=\"#adding-a-counter-to-an-existing-rule_debugging-nftables-rules\" title=\"2.10.2. Adding a counter to an existing rule\">Adding a counter to an existing rule\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe chain to which you want to add the rule exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd a new rule with the \u003Ccode class=\"literal\">counter\u003C/code> parameter to the chain. The following example adds a rule with a counter that allows TCP traffic on port 22 and counts the packets and traffic that match this rule:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft add rule \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>tcp\u003C/em>\u003C/span> dport \u003Cspan class=\"emphasis\">\u003Cem>22\u003C/em>\u003C/span> counter \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo display the counter values:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list ruleset\u003C/strong>\u003C/span>\ntable inet example_table {\n  chain example_chain {\n    type filter hook input priority filter; policy accept;\n    tcp dport ssh \u003Cspan class=\"strong strong\">\u003Cstrong>counter packets \u003Cspan class=\"emphasis\">\u003Cem>6872\u003C/em>\u003C/span> bytes \u003Cspan class=\"emphasis\">\u003Cem>105448565\u003C/em>\u003C/span>\u003C/strong>\u003C/span> accept\n  }\n}\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"adding-a-counter-to-an-existing-rule_debugging-nftables-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.10.2. Adding a counter to an existing rule\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tTo identify if a rule is matched, you can use a counter.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFor more information about a procedure that adds a new rule with a counter, see \u003Ca class=\"link\" href=\"#creating-a-rule-with-a-counter_debugging-nftables-rules\" title=\"2.10.1. Creating a rule with a counter\">Creating a rule with the counter\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe rule to which you want to add the counter exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the rules in the chain including their handles:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft --handle list chain \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> {\n  chain \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> { # handle 1\n    type filter hook input priority filter; policy accept;\n    tcp dport ssh accept # \u003Cspan class=\"strong strong\">\u003Cstrong>handle 4\u003C/strong>\u003C/span>\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the counter by replacing the rule but with the \u003Ccode class=\"literal\">counter\u003C/code> parameter. The following example replaces the rule displayed in the previous step and adds a counter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft replace rule \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> handle \u003Cspan class=\"emphasis\">\u003Cem>4\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>tcp\u003C/em>\u003C/span> dport \u003Cspan class=\"emphasis\">\u003Cem>22\u003C/em>\u003C/span> counter \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo display the counter values:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list ruleset\u003C/strong>\u003C/span>\ntable \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> {\n  chain \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> {\n    type filter hook input priority filter; policy accept;\n    tcp dport ssh \u003Cspan class=\"strong strong\">\u003Cstrong>counter packets \u003Cspan class=\"emphasis\">\u003Cem>6872\u003C/em>\u003C/span> bytes \u003Cspan class=\"emphasis\">\u003Cem>105448565\u003C/em>\u003C/span>\u003C/strong>\u003C/span> accept\n  }\n}\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.10.3. Monitoring packets that match an existing rule\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe tracing feature in \u003Ccode class=\"literal\">nftables\u003C/code> in combination with the \u003Ccode class=\"literal\">nft monitor\u003C/code> command enables administrators to display packets that match a rule. You can enable tracing for a rule an use it to monitoring packets that match this rule.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe rule to which you want to add the counter exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the rules in the chain including their handles:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft --handle list chain \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntable inet example_table {\n  chain example_chain { # handle 1\n    type filter hook input priority filter; policy accept;\n    tcp dport ssh accept # \u003Cspan class=\"strong strong\">\u003Cstrong>handle 4\u003C/strong>\u003C/span>\n  }\n}\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the tracing feature by replacing the rule but with the \u003Ccode class=\"literal\">meta nftrace set 1\u003C/code> parameters. The following example replaces the rule displayed in the previous step and enables tracing:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft replace rule \u003Cspan class=\"emphasis\">\u003Cem>inet\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_table\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>example_chain\u003C/em>\u003C/span> handle \u003Cspan class=\"emphasis\">\u003Cem>4\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>tcp\u003C/em>\u003C/span> dport \u003Cspan class=\"emphasis\">\u003Cem>22\u003C/em>\u003C/span> meta nftrace set 1 \u003Cspan class=\"emphasis\">\u003Cem>accept\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">nft monitor\u003C/code> command to display the tracing. The following example filters the output of the command to display only entries that contain \u003Ccode class=\"literal\">inet example_table example_chain\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft monitor | grep \"inet example_table example_chain\"\u003C/strong>\u003C/span>\ntrace id 3c5eb15e inet example_table example_chain packet: iif \"enp1s0\" ether saddr 52:54:00:17:ff:e4 ether daddr 52:54:00:72:2f:6e ip saddr 192.0.2.1 ip daddr 192.0.2.2 ip dscp cs0 ip ecn not-ect ip ttl 64 ip id 49710 ip protocol tcp ip length 60 tcp sport 56728 tcp dport ssh tcp flags == syn tcp window 64240\ntrace id 3c5eb15e inet example_table example_chain rule tcp dport ssh nftrace set 1 accept (verdict accept)\n...\u003C/pre>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tDepending on the number of rules with tracing enabled and the amount of matching traffic, the \u003Ccode class=\"literal\">nft monitor\u003C/code> command can display a lot of output. Use \u003Ccode class=\"literal\">grep\u003C/code> or other utilities to filter the output.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.11. Backing up and restoring the nftables rule set\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can backup \u003Ccode class=\"literal\">nftables\u003C/code> rules to a file and later restoring them. Also, administrators can use a file with the rules to, for example, transfer the rules to a different server.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"backing-up-the-nftables-rule-set-to-a-file_backing-up-and-restoring-the-nftables-rule-set\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.11.1. Backing up the nftables rule set to a file\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can use the \u003Ccode class=\"literal\">nft\u003C/code> utility to back up the \u003Ccode class=\"literal\">nftables\u003C/code> rule set to a file.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo backup \u003Ccode class=\"literal\">nftables\u003C/code> rules:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn a format produced by \u003Ccode class=\"literal\">nft list ruleset\u003C/code> format:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft list ruleset &gt; \u003Cspan class=\"emphasis\">\u003Cem>file\u003C/em>\u003C/span>.nft\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn JSON format:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -j list ruleset &gt; \u003Cspan class=\"emphasis\">\u003Cem>file\u003C/em>\u003C/span>.json\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"restoring-the-nftables-rule-set-from-a-file_backing-up-and-restoring-the-nftables-rule-set\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">2.11.2. Restoring the nftables rule set from a file\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can restore the \u003Ccode class=\"literal\">nftables\u003C/code> rule set from a file.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo restore \u003Ccode class=\"literal\">nftables\u003C/code> rules:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the file to restore is in the format produced by \u003Ccode class=\"literal\">nft list ruleset\u003C/code> or contains \u003Ccode class=\"literal\">nft\u003C/code> commands directly:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -f \u003Cspan class=\"emphasis\">\u003Cem>file\u003C/em>\u003C/span>.nft\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the file to restore is in JSON format:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>nft -j -f \u003Cspan class=\"emphasis\">\u003Cem>file\u003C/em>\u003C/span>.json\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_3\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.12. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://www.redhat.com/en/blog/using-nftables-red-hat-enterprise-linux-8\">Using nftables in Red Hat Enterprise Linux 8\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://developers.redhat.com/blog/2016/10/28/what-comes-after-iptables-its-successor-of-course-nftables/\">What comes after iptables? Its successor, of course: nftables\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://developers.redhat.com/blog/2018/08/10/firewalld-the-future-is-nftables/\">Firewalld: The Future is nftables\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. Using xdp-filter for high-performance traffic filtering to prevent DDoS attacks\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tCompared to packet filters, such as \u003Ccode class=\"literal systemitem\">nftables\u003C/code>, Express Data Path (XDP) processes and drops network packets right at the network interface. Therefore, XDP determines the next step for the package before it reaches a firewall or other applications. As a result, XDP filters require less resources and can process network packets at a much higher rate than conventional packet filters to defend against distributed denial of service (DDoS) attacks. For example, during testing, Red Hat dropped 26 million network packets per second on a single core, which is significantly higher than the drop rate of \u003Ccode class=\"literal systemitem\">nftables\u003C/code> on the same hardware.\n\t\t\u003C/p>\u003Cp>\n\t\t\tThe \u003Ccode class=\"literal systemitem\">xdp-filter\u003C/code> utility allows or drops incoming network packets using XDP. You can create rules to filter traffic to or from specific:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tIP addresses\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tMAC addresses\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tPorts\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tNote that, even if \u003Ccode class=\"literal systemitem\">xdp-filter\u003C/code> has a significantly higher packet-processing rate, it does not have the same capabilities as, for example, \u003Ccode class=\"literal systemitem\">nftables\u003C/code>. Consider \u003Ccode class=\"literal systemitem\">xdp-filter\u003C/code> a conceptual utility to demonstrate packet filtering using XDP. Additionally, you can use the code of the utility for a better understanding of how to write your own XDP applications.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tOn other architectures than AMD and Intel 64-bit, the \u003Ccode class=\"literal systemitem\">xdp-filter\u003C/code> utility is provided as a Technology Preview only. Technology Preview features are not supported with Red Hat production Service Level Agreements (SLAs), might not be functionally complete, and Red Hat does not recommend using them for production. These previews provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/support/offerings/techpreview\">Technology Preview Features Support Scope\u003C/a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"dropping-network-packets-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.1. Dropping network packets that match an xdp-filter rule\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use \u003Ccode class=\"literal\">xdp-filter\u003C/code> to drop network packets:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tTo a specific destination port\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom a specific IP address\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom a specific MAC address\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">allow\u003C/code> policy of \u003Ccode class=\"literal\">xdp-filter\u003C/code> defines that all traffic is allowed and the filter drops only network packets that match a particular rule. For example, use this method if you know the source IP addresses of packets you want to drop.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">xdp-tools\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA network driver that supports XDP programs.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad \u003Ccode class=\"literal\">xdp-filter\u003C/code> to process incoming packets on a certain interface, such as \u003Ccode class=\"literal\">enp1s0\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter load \u003Cspan class=\"emphasis\">\u003Cem>enp1s0\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy default, \u003Ccode class=\"literal\">xdp-filter\u003C/code> uses the \u003Ccode class=\"literal\">allow\u003C/code> policy, and the utility drops only traffic that matches any rule.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptionally, use the \u003Ccode class=\"literal\">-f \u003Cspan class=\"emphasis\">\u003Cem>feature\u003C/em>\u003C/span>\u003C/code> option to enable only particular features, such as \u003Ccode class=\"literal\">tcp\u003C/code>, \u003Ccode class=\"literal\">ipv4\u003C/code>, or \u003Ccode class=\"literal\">ethernet\u003C/code>. Loading only the required features instead of all of them increases the speed of packet processing. To enable multiple features, separate them with a comma.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the command fails with an error, the network driver does not support XDP programs.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd rules to drop packets that match them. For example:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo drop incoming packets to port \u003Ccode class=\"literal\">22\u003C/code>, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter port \u003Cspan class=\"emphasis\">\u003Cem>22\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis command adds a rule that matches TCP and UDP traffic. To match only a particular protocol, use the \u003Ccode class=\"literal\">-p \u003Cspan class=\"emphasis\">\u003Cem>protocol\u003C/em>\u003C/span>\u003C/code> option.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo drop incoming packets from \u003Ccode class=\"literal\">192.0.2.1\u003C/code>, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter ip \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.1\u003C/em>\u003C/span> -m \u003Cspan class=\"emphasis\">\u003Cem>src\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tNote that \u003Ccode class=\"literal\">xdp-filter\u003C/code> does not support IP ranges.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo drop incoming packets from MAC address \u003Ccode class=\"literal\">00:53:00:AA:07:BE\u003C/code>, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter ether \u003Cspan class=\"emphasis\">\u003Cem>00:53:00:AA:07:BE\u003C/em>\u003C/span> -m \u003Cspan class=\"emphasis\">\u003Cem>src\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to display statistics about dropped and allowed packets:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter status\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">xdp-filter(8)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf you are a developer and interested in the code of \u003Ccode class=\"literal\">xdp-filter\u003C/code>, download and install the corresponding source RPM (SRPM) from the Red Hat Customer Portal.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"dropping-all-network-packets-except-the-ones-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">3.2. Dropping all network packets except the ones that match an xdp-filter rule\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can use \u003Ccode class=\"literal\">xdp-filter\u003C/code> to allow only network packets:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom and to a specific destination port\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom and to a specific IP address\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFrom and to specific MAC address\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tTo do so, use the \u003Ccode class=\"literal\">deny\u003C/code> policy of \u003Ccode class=\"literal\">xdp-filter\u003C/code> which defines that the filter drops all network packets except the ones that match a particular rule. For example, use this method if you do not know the source IP addresses of packets you want to drop.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you set the default policy to \u003Ccode class=\"literal\">deny\u003C/code> when you load \u003Ccode class=\"literal\">xdp-filter\u003C/code> on an interface, the kernel immediately drops all packets from this interface until you create rules that allow certain traffic. To avoid being locked out from the system, enter the commands locally or connect through a different network interface to the host.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">xdp-tools\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged in to the host either locally or using a network interface for which you do not plan to filter the traffic.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA network driver that supports XDP programs.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tLoad \u003Ccode class=\"literal\">xdp-filter\u003C/code> to process packets on a certain interface, such as \u003Ccode class=\"literal\">enp1s0\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter load \u003Cspan class=\"emphasis\">\u003Cem>enp1s0\u003C/em>\u003C/span> -p deny\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptionally, use the \u003Ccode class=\"literal\">-f \u003Cspan class=\"emphasis\">\u003Cem>feature\u003C/em>\u003C/span>\u003C/code> option to enable only particular features, such as \u003Ccode class=\"literal\">tcp\u003C/code>, \u003Ccode class=\"literal\">ipv4\u003C/code>, or \u003Ccode class=\"literal\">ethernet\u003C/code>. Loading only the required features instead of all of them increases the speed of packet processing. To enable multiple features, separate them with a comma.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the command fails with an error, the network driver does not support XDP programs.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd rules to allow packets that match them. For example:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo allow packets to port \u003Ccode class=\"literal\">22\u003C/code>, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter port \u003Cspan class=\"emphasis\">\u003Cem>22\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis command adds a rule that matches TCP and UDP traffic. To match only a particular protocol, pass the \u003Ccode class=\"literal\">-p \u003Cspan class=\"emphasis\">\u003Cem>protocol\u003C/em>\u003C/span>\u003C/code> option to the command.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo allow packets to \u003Ccode class=\"literal\">192.0.2.1\u003C/code>, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter ip \u003Cspan class=\"emphasis\">\u003Cem>192.0.2.1\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tNote that \u003Ccode class=\"literal\">xdp-filter\u003C/code> does not support IP ranges.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo allow packets to MAC address \u003Ccode class=\"literal\">00:53:00:AA:07:BE\u003C/code>, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter ether \u003Cspan class=\"emphasis\">\u003Cem>00:53:00:AA:07:BE\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">xdp-filter\u003C/code> utility does not support stateful packet inspection. This requires that you either do not set a mode using the \u003Ccode class=\"literal\">-m \u003Cspan class=\"emphasis\">\u003Cem>mode\u003C/em>\u003C/span>\u003C/code> option or you add explicit rules to allow incoming traffic that the machine receives in reply to outgoing traffic.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the following command to display statistics about dropped and allowed packets:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xdp-filter status\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">xdp-filter(8)\u003C/code> man page.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf you are a developer and you are interested in the code of \u003Ccode class=\"literal\">xdp-filter\u003C/code>, download and install the corresponding source RPM (SRPM) from the Red Hat Customer Portal.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm140107951911088\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[14,21,26,297,517,530],{"title":11,"visible":15,"weight":16,"urlFragment":17,"anchor":18,"singlePageAnchor":18,"docTitle":19,"url":20},true,1,"index",null,"configuring_firewalls_and_packet_filters","#",{"title":22,"visible":15,"weight":23,"urlFragment":24,"anchor":18,"singlePageAnchor":24,"docTitle":19,"url":25},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters","#proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters",{"title":27,"visible":15,"weight":28,"urlFragment":29,"anchor":18,"singlePageAnchor":29,"sections":30,"docTitle":19,"url":296},"1. Using and configuring firewalld",3,"using-and-configuring-firewalld_firewall-packet-filters",[31,35,39,43,48,53,58,102,139,160,186,208,218,228,242,256,270],{"title":32,"visible":15,"weight":16,"urlFragment":29,"anchor":33,"singlePageAnchor":33,"docTitle":19,"url":34},"1.1. When to use firewalld, nftables, or iptables","when-to-use-firewalld-nftables-or-iptables_using-and-configuring-firewalld","#when-to-use-firewalld-nftables-or-iptables_using-and-configuring-firewalld",{"title":36,"visible":15,"weight":23,"urlFragment":29,"anchor":37,"singlePageAnchor":37,"docTitle":19,"url":38},"1.2. Firewall zones","firewalld-zones_using-and-configuring-firewalld","#firewalld-zones_using-and-configuring-firewalld",{"title":40,"visible":15,"weight":28,"urlFragment":29,"anchor":41,"singlePageAnchor":41,"docTitle":19,"url":42},"1.3. Firewall policies","firewall-policies_using-and-configuring-firewalld","#firewall-policies_using-and-configuring-firewalld",{"title":44,"visible":15,"weight":45,"urlFragment":29,"anchor":46,"singlePageAnchor":46,"docTitle":19,"url":47},"1.4. Firewall rules",4,"firewall-rules_using-and-configuring-firewalld","#firewall-rules_using-and-configuring-firewalld",{"title":49,"visible":15,"weight":50,"urlFragment":29,"anchor":51,"singlePageAnchor":51,"docTitle":19,"url":52},"1.5. Zone configuration files",5,"zone-configuration-files_using-and-configuring-firewalld","#zone-configuration-files_using-and-configuring-firewalld",{"title":54,"visible":15,"weight":55,"urlFragment":29,"anchor":56,"singlePageAnchor":56,"docTitle":19,"url":57},"1.6. Predefined firewalld services",6,"predefined-firewalld-services_using-and-configuring-firewalld","#predefined-firewalld-services_using-and-configuring-firewalld",{"title":59,"visible":15,"weight":60,"urlFragment":29,"anchor":61,"singlePageAnchor":61,"sections":62,"docTitle":19,"url":101},"1.7. Working with firewalld zones",7,"working-with-firewalld-zones_using-and-configuring-firewalld",[63,67,71,75,79,83,87,91,96],{"title":64,"visible":15,"weight":16,"urlFragment":29,"anchor":65,"singlePageAnchor":65,"docTitle":19,"url":66},"1.7.1. Customizing firewall settings for a specific zone to enhance security","customizing-firewall-settings-for-a-specific-zone-to-enhance-security_working-with-firewalld-zones","#customizing-firewall-settings-for-a-specific-zone-to-enhance-security_working-with-firewalld-zones",{"title":68,"visible":15,"weight":23,"urlFragment":29,"anchor":69,"singlePageAnchor":69,"docTitle":19,"url":70},"1.7.2. Changing the default zone","changing-the-default-zone_working-with-firewalld-zones","#changing-the-default-zone_working-with-firewalld-zones",{"title":72,"visible":15,"weight":28,"urlFragment":29,"anchor":73,"singlePageAnchor":73,"docTitle":19,"url":74},"1.7.3. Assigning a network interface to a zone","assigning-a-network-interface-to-a-zone_working-with-firewalld-zones","#assigning-a-network-interface-to-a-zone_working-with-firewalld-zones",{"title":76,"visible":15,"weight":45,"urlFragment":29,"anchor":77,"singlePageAnchor":77,"docTitle":19,"url":78},"1.7.4. Assigning a zone to a connection using nmcli","assigning-a-zone-to-a-connection-using-nmcli_working-with-firewalld-zones","#assigning-a-zone-to-a-connection-using-nmcli_working-with-firewalld-zones",{"title":80,"visible":15,"weight":50,"urlFragment":29,"anchor":81,"singlePageAnchor":81,"docTitle":19,"url":82},"1.7.5. Manually assigning a zone to a network connection in a connection profile file","manually-assigning-a-zone-to-a-network-connection-in-a-connection-profile-file_working-with-firewalld-zones","#manually-assigning-a-zone-to-a-network-connection-in-a-connection-profile-file_working-with-firewalld-zones",{"title":84,"visible":15,"weight":55,"urlFragment":29,"anchor":85,"singlePageAnchor":85,"docTitle":19,"url":86},"1.7.6. Creating a new zone","creating-a-new-zone_working-with-firewalld-zones","#creating-a-new-zone_working-with-firewalld-zones",{"title":88,"visible":15,"weight":60,"urlFragment":29,"anchor":89,"singlePageAnchor":89,"docTitle":19,"url":90},"1.7.7. Enabling zones by using the web console","enabling-zones-using-the-web-console_working-with-firewalld-zones","#enabling-zones-using-the-web-console_working-with-firewalld-zones",{"title":92,"visible":15,"weight":93,"urlFragment":29,"anchor":94,"singlePageAnchor":94,"docTitle":19,"url":95},"1.7.8. Disabling zones by using the web console",8,"disabling-zones-using-the-web-console_working-with-firewalld-zones","#disabling-zones-using-the-web-console_working-with-firewalld-zones",{"title":97,"visible":15,"weight":98,"urlFragment":29,"anchor":99,"singlePageAnchor":99,"docTitle":19,"url":100},"1.7.9. Using zone targets to set default behavior for incoming traffic",9,"using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones","#using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones","#working-with-firewalld-zones_using-and-configuring-firewalld",{"title":103,"visible":15,"weight":93,"urlFragment":29,"anchor":104,"singlePageAnchor":104,"sections":105,"docTitle":19,"url":138},"1.8. Controlling network traffic using firewalld","controlling-network-traffic-using-firewalld_using-and-configuring-firewalld",[106,110,114,118,122,126,130,134],{"title":107,"visible":15,"weight":16,"urlFragment":29,"anchor":108,"singlePageAnchor":108,"docTitle":19,"url":109},"1.8.1. Controlling traffic with predefined services using the CLI","controlling-traffic-with-predefined-services-using-the-cli_controlling-network-traffic-using-firewalld","#controlling-traffic-with-predefined-services-using-the-cli_controlling-network-traffic-using-firewalld",{"title":111,"visible":15,"weight":23,"urlFragment":29,"anchor":112,"singlePageAnchor":112,"docTitle":19,"url":113},"1.8.2. Controlling traffic with predefined services using the GUI","controlling-traffic-with-predefined-services-using-the-gui_controlling-network-traffic-using-firewalld","#controlling-traffic-with-predefined-services-using-the-gui_controlling-network-traffic-using-firewalld",{"title":115,"visible":15,"weight":28,"urlFragment":29,"anchor":116,"singlePageAnchor":116,"docTitle":19,"url":117},"1.8.3. Enabling services on the firewall by using the web console","enabling-services-on-firewall-using-the-web-console_controlling-network-traffic-using-firewalld","#enabling-services-on-firewall-using-the-web-console_controlling-network-traffic-using-firewalld",{"title":119,"visible":15,"weight":45,"urlFragment":29,"anchor":120,"singlePageAnchor":120,"docTitle":19,"url":121},"1.8.4. Configuring custom ports by using the web console","configuring-custom-ports-using-the-web-console_controlling-network-traffic-using-firewalld","#configuring-custom-ports-using-the-web-console_controlling-network-traffic-using-firewalld",{"title":123,"visible":15,"weight":50,"urlFragment":29,"anchor":124,"singlePageAnchor":124,"docTitle":19,"url":125},"1.8.5. Configuring firewalld to allow hosting a secure web server","configuring-firewalld-to-allow-hosting-a-secure-web-server_controlling-network-traffic-using-firewalld","#configuring-firewalld-to-allow-hosting-a-secure-web-server_controlling-network-traffic-using-firewalld",{"title":127,"visible":15,"weight":55,"urlFragment":29,"anchor":128,"singlePageAnchor":128,"docTitle":19,"url":129},"1.8.6. Closing unused or unnecessary ports to enhance network security","closing-unused-or-unnecessary-ports-to-enhance-network-security_controlling-network-traffic-using-firewalld","#closing-unused-or-unnecessary-ports-to-enhance-network-security_controlling-network-traffic-using-firewalld",{"title":131,"visible":15,"weight":60,"urlFragment":29,"anchor":132,"singlePageAnchor":132,"docTitle":19,"url":133},"1.8.7. Controlling traffic through the CLI","controlling-traffic-through-the-cli_controlling-network-traffic-using-firewalld","#controlling-traffic-through-the-cli_controlling-network-traffic-using-firewalld",{"title":135,"visible":15,"weight":93,"urlFragment":29,"anchor":136,"singlePageAnchor":136,"docTitle":19,"url":137},"1.8.8. Controlling traffic with protocols using GUI","proc_controlling-traffic-with-protocols-using-gui_controlling-network-traffic-using-firewalld","#proc_controlling-traffic-with-protocols-using-gui_controlling-network-traffic-using-firewalld","#controlling-network-traffic-using-firewalld_using-and-configuring-firewalld",{"title":140,"visible":15,"weight":98,"urlFragment":29,"anchor":141,"singlePageAnchor":141,"sections":142,"docTitle":19,"url":159},"1.9. Using zones to manage incoming traffic depending on a source","using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld",[143,147,151,155],{"title":144,"visible":15,"weight":16,"urlFragment":29,"anchor":145,"singlePageAnchor":145,"docTitle":19,"url":146},"1.9.1. Adding a source","adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source","#adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source",{"title":148,"visible":15,"weight":23,"urlFragment":29,"anchor":149,"singlePageAnchor":149,"docTitle":19,"url":150},"1.9.2. Removing a source","removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source","#removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source",{"title":152,"visible":15,"weight":28,"urlFragment":29,"anchor":153,"singlePageAnchor":153,"docTitle":19,"url":154},"1.9.3. Removing a source port","removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source","#removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source",{"title":156,"visible":15,"weight":45,"urlFragment":29,"anchor":157,"singlePageAnchor":157,"docTitle":19,"url":158},"1.9.4. Using zones and sources to allow a service for only a specific domain","using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source","#using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source","#using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalld",{"title":161,"visible":15,"weight":162,"urlFragment":29,"anchor":163,"singlePageAnchor":163,"sections":164,"docTitle":19,"url":185},"1.10. Filtering forwarded traffic between zones",10,"assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld",[165,169,173,177,181],{"title":166,"visible":15,"weight":16,"urlFragment":29,"anchor":167,"singlePageAnchor":167,"docTitle":19,"url":168},"1.10.1. The relationship between policy objects and zones","con_relationship-between-policy-objects-and-zones_assembly_filtering-forwarded-traffic-between-zones","#con_relationship-between-policy-objects-and-zones_assembly_filtering-forwarded-traffic-between-zones",{"title":170,"visible":15,"weight":23,"urlFragment":29,"anchor":171,"singlePageAnchor":171,"docTitle":19,"url":172},"1.10.2. Using priorities to sort policies","proc_using-priorities-to-sort-policies_assembly_filtering-forwarded-traffic-between-zones","#proc_using-priorities-to-sort-policies_assembly_filtering-forwarded-traffic-between-zones",{"title":174,"visible":15,"weight":28,"urlFragment":29,"anchor":175,"singlePageAnchor":175,"docTitle":19,"url":176},"1.10.3. Using policy objects to filter traffic between locally hosted containers and a network physically connected to the host","proc_using-policy-objects-to-filter-traffic-between-locally-hosted-containers-and-a-network-physically-connected-to-the-host_assembly_filtering-forwarded-traffic-between-zones","#proc_using-policy-objects-to-filter-traffic-between-locally-hosted-containers-and-a-network-physically-connected-to-the-host_assembly_filtering-forwarded-traffic-between-zones",{"title":178,"visible":15,"weight":45,"urlFragment":29,"anchor":179,"singlePageAnchor":179,"docTitle":19,"url":180},"1.10.4. Setting the default target of policy objects","proc_setting-the-default-target-of-policy-objects_assembly_filtering-forwarded-traffic-between-zones","#proc_setting-the-default-target-of-policy-objects_assembly_filtering-forwarded-traffic-between-zones",{"title":182,"visible":15,"weight":50,"urlFragment":29,"anchor":183,"singlePageAnchor":183,"docTitle":19,"url":184},"1.10.5. Using DNAT to forward HTTPS traffic to a different host","proc_using-dnat-to-forward-https-traffic-to-a-different-host_assembly_filtering-forwarded-traffic-between-zones","#proc_using-dnat-to-forward-https-traffic-to-a-different-host_assembly_filtering-forwarded-traffic-between-zones","#assembly_filtering-forwarded-traffic-between-zones_using-and-configuring-firewalld",{"title":187,"visible":15,"weight":188,"urlFragment":29,"anchor":189,"singlePageAnchor":189,"sections":190,"docTitle":19,"url":207},"1.11. Configuring NAT using firewalld",11,"assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld",[191,195,199,203],{"title":192,"visible":15,"weight":16,"urlFragment":29,"anchor":193,"singlePageAnchor":193,"docTitle":19,"url":194},"1.11.1. Network address translation types","network-address-translation-types_assembly_configuring-nat-using-firewalld","#network-address-translation-types_assembly_configuring-nat-using-firewalld",{"title":196,"visible":15,"weight":23,"urlFragment":29,"anchor":197,"singlePageAnchor":197,"docTitle":19,"url":198},"1.11.2. Configuring IP address masquerading","configuring-ip-address-masquerading_assembly_configuring-nat-using-firewalld","#configuring-ip-address-masquerading_assembly_configuring-nat-using-firewalld",{"title":200,"visible":15,"weight":28,"urlFragment":29,"anchor":201,"singlePageAnchor":201,"docTitle":19,"url":202},"1.11.3. Using DNAT to forward incoming HTTP traffic","using-dnat-to-forward-incoming-http-traffic_assembly_configuring-nat-using-firewalld","#using-dnat-to-forward-incoming-http-traffic_assembly_configuring-nat-using-firewalld",{"title":204,"visible":15,"weight":45,"urlFragment":29,"anchor":205,"singlePageAnchor":205,"docTitle":19,"url":206},"1.11.4. Redirecting traffic from a non-standard port to make the web service accessible on a standard port","redirecting-traffic-from-a-non-standard-port-to-make-the-web-service-accessible-on-a-standard-port_assembly_configuring-nat-using-firewalld","#redirecting-traffic-from-a-non-standard-port-to-make-the-web-service-accessible-on-a-standard-port_assembly_configuring-nat-using-firewalld","#assembly_configuring-nat-using-firewalld_using-and-configuring-firewalld",{"title":209,"visible":15,"weight":210,"urlFragment":29,"anchor":211,"singlePageAnchor":211,"sections":212,"docTitle":19,"url":217},"1.12. Managing ICMP requests",12,"managing-icmp-requests_using-and-configuring-firewalld",[213],{"title":214,"visible":15,"weight":16,"urlFragment":29,"anchor":215,"singlePageAnchor":215,"docTitle":19,"url":216},"1.12.1. Configuring ICMP filtering","configuring-icmp-filtering_managing-icmp-requests","#configuring-icmp-filtering_managing-icmp-requests","#managing-icmp-requests_using-and-configuring-firewalld",{"title":219,"visible":15,"weight":220,"urlFragment":29,"anchor":221,"singlePageAnchor":221,"sections":222,"docTitle":19,"url":227},"1.13. Setting and controlling IP sets using firewalld",13,"setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld",[223],{"title":224,"visible":15,"weight":16,"urlFragment":29,"anchor":225,"singlePageAnchor":225,"docTitle":19,"url":226},"1.13.1. Configuring dynamic updates for allowlisting with IP sets","configuring-dynamic-updates-for-allowlisting-with-ip-sets_setting-and-controlling-ip-sets-using-firewalld","#configuring-dynamic-updates-for-allowlisting-with-ip-sets_setting-and-controlling-ip-sets-using-firewalld","#setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalld",{"title":229,"visible":15,"weight":230,"urlFragment":29,"anchor":231,"singlePageAnchor":231,"sections":232,"docTitle":19,"url":241},"1.14. Prioritizing rich rules",14,"prioritizing-rich-rules_using-and-configuring-firewalld",[233,237],{"title":234,"visible":15,"weight":16,"urlFragment":29,"anchor":235,"singlePageAnchor":235,"docTitle":19,"url":236},"1.14.1. How the priority parameter organizes rules into different chains","how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules","#how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules",{"title":238,"visible":15,"weight":23,"urlFragment":29,"anchor":239,"singlePageAnchor":239,"docTitle":19,"url":240},"1.14.2. Setting the priority of a rich rule","setting-the-priority-of-a-rich-rule_prioritizing-rich-rules","#setting-the-priority-of-a-rich-rule_prioritizing-rich-rules","#prioritizing-rich-rules_using-and-configuring-firewalld",{"title":243,"visible":15,"weight":244,"urlFragment":29,"anchor":245,"singlePageAnchor":245,"sections":246,"docTitle":19,"url":255},"1.15. Configuring firewall lockdown",15,"configuring-firewall-lockdown_using-and-configuring-firewalld",[247,251],{"title":248,"visible":15,"weight":16,"urlFragment":29,"anchor":249,"singlePageAnchor":249,"docTitle":19,"url":250},"1.15.1. Configuring lockdown using CLI","configuring-lockdown-using-CLI_configuring-firewall-lockdown","#configuring-lockdown-using-CLI_configuring-firewall-lockdown",{"title":252,"visible":15,"weight":23,"urlFragment":29,"anchor":253,"singlePageAnchor":253,"docTitle":19,"url":254},"1.15.2. Overview of lockdown allowlist configuration files","overview-of-lockdown-allowlist-configuration-files_configuring-firewall-lockdown","#overview-of-lockdown-allowlist-configuration-files_configuring-firewall-lockdown","#configuring-firewall-lockdown_using-and-configuring-firewalld",{"title":257,"visible":15,"weight":258,"urlFragment":29,"anchor":259,"singlePageAnchor":259,"sections":260,"docTitle":19,"url":269},"1.16. Enabling traffic forwarding between different interfaces or sources within a firewalld zone",16,"assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld",[261,265],{"title":262,"visible":15,"weight":16,"urlFragment":29,"anchor":263,"singlePageAnchor":263,"docTitle":19,"url":264},"1.16.1. The difference between intra-zone forwarding and zones with the default target set to ACCEPT","con_the-difference-between-intra-zone-forwarding-and-zones-with-the-default-target-set-to-accept_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone","#con_the-difference-between-intra-zone-forwarding-and-zones-with-the-default-target-set-to-accept_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone",{"title":266,"visible":15,"weight":23,"urlFragment":29,"anchor":267,"singlePageAnchor":267,"docTitle":19,"url":268},"1.16.2. Using intra-zone forwarding to forward traffic between an Ethernet and Wi-Fi network","proc_using-intra-zone-forwarding-to-forward-traffic-between-an-ethernet-and-wi-fi-network_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone","#proc_using-intra-zone-forwarding-to-forward-traffic-between-an-ethernet-and-wi-fi-network_assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone","#assembly_enabling-traffic-forwarding-between-different-interfaces-or-sources-within-a-firewalld-zone_using-and-configuring-firewalld",{"title":271,"visible":15,"weight":272,"urlFragment":29,"anchor":273,"singlePageAnchor":273,"sections":274,"docTitle":19,"url":295},"1.17. Configuring firewalld by using the RHEL system role",17,"assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld",[275,279,283,287,291],{"title":276,"visible":15,"weight":16,"urlFragment":29,"anchor":277,"singlePageAnchor":277,"docTitle":19,"url":278},"1.17.1. Introduction to the firewall RHEL system role","con_introduction-to-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles","#con_introduction-to-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles",{"title":280,"visible":15,"weight":23,"urlFragment":29,"anchor":281,"singlePageAnchor":281,"docTitle":19,"url":282},"1.17.2. Resetting the firewalld settings by using the firewall RHEL system role","proc_resetting-the-firewalld-settings-using-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles","#proc_resetting-the-firewalld-settings-using-the-firewall-rhel-system-role_assembly_configuring-firewalld-using-system-roles",{"title":284,"visible":15,"weight":28,"urlFragment":29,"anchor":285,"singlePageAnchor":285,"docTitle":19,"url":286},"1.17.3. Forwarding incoming traffic in firewalld from one local port to a different local port by using the firewall RHEL system role","proc_forwarding-incoming-traffic-from-one-local-port-to-a-different-local-port_assembly_configuring-firewalld-using-system-roles","#proc_forwarding-incoming-traffic-from-one-local-port-to-a-different-local-port_assembly_configuring-firewalld-using-system-roles",{"title":288,"visible":15,"weight":45,"urlFragment":29,"anchor":289,"singlePageAnchor":289,"docTitle":19,"url":290},"1.17.4. Managing ports in firewalld by using the firewall RHEL system role","configuring-ports-using-system-roles_assembly_configuring-firewalld-using-system-roles","#configuring-ports-using-system-roles_assembly_configuring-firewalld-using-system-roles",{"title":292,"visible":15,"weight":50,"urlFragment":29,"anchor":293,"singlePageAnchor":293,"docTitle":19,"url":294},"1.17.5. Configuring a firewalld DMZ zone by using the firewall RHEL system role","configuring-a-dmz-firewalld-zone-by-using-the-firewalld-rhel-system-role_assembly_configuring-firewalld-using-system-roles","#configuring-a-dmz-firewalld-zone-by-using-the-firewalld-rhel-system-role_assembly_configuring-firewalld-using-system-roles","#assembly_configuring-firewalld-using-system-roles_using-and-configuring-firewalld","#using-and-configuring-firewalld_firewall-packet-filters",{"title":298,"visible":15,"weight":45,"urlFragment":299,"anchor":18,"singlePageAnchor":299,"sections":300,"docTitle":19,"url":516},"2. Getting started with nftables","getting-started-with-nftables_firewall-packet-filters",[301,322,351,372,401,418,435,456,469,482,499,512],{"title":302,"visible":15,"weight":16,"urlFragment":299,"anchor":303,"singlePageAnchor":303,"sections":304,"docTitle":19,"url":321},"2.1. Migrating from iptables to nftables","assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables",[305,309,313,317],{"title":306,"visible":15,"weight":16,"urlFragment":299,"anchor":307,"singlePageAnchor":307,"docTitle":19,"url":308},"2.1.1. When to use firewalld, nftables, or iptables","when-to-use-firewalld-nftables-or-iptables_assembly_migrating-from-iptables-to-nftables","#when-to-use-firewalld-nftables-or-iptables_assembly_migrating-from-iptables-to-nftables",{"title":310,"visible":15,"weight":23,"urlFragment":299,"anchor":311,"singlePageAnchor":311,"docTitle":19,"url":312},"2.1.2. Converting iptables and ip6tables rule sets to nftables","proc_converting-iptables-and-ip6tables-rule-sets-to-nftables_assembly_migrating-from-iptables-to-nftables","#proc_converting-iptables-and-ip6tables-rule-sets-to-nftables_assembly_migrating-from-iptables-to-nftables",{"title":314,"visible":15,"weight":28,"urlFragment":299,"anchor":315,"singlePageAnchor":315,"docTitle":19,"url":316},"2.1.3. Converting single iptables and ip6tables rules to nftables","proc_converting-single-iptables-and-ip6tables-rules-to-nftables_assembly_migrating-from-iptables-to-nftables","#proc_converting-single-iptables-and-ip6tables-rules-to-nftables_assembly_migrating-from-iptables-to-nftables",{"title":318,"visible":15,"weight":45,"urlFragment":299,"anchor":319,"singlePageAnchor":319,"docTitle":19,"url":320},"2.1.4. Comparison of common iptables and nftables commands","ref_comparison-of-common-iptables-and-nftables-commands_assembly_migrating-from-iptables-to-nftables","#ref_comparison-of-common-iptables-and-nftables-commands_assembly_migrating-from-iptables-to-nftables","#assembly_migrating-from-iptables-to-nftables_getting-started-with-nftables",{"title":323,"visible":15,"weight":23,"urlFragment":299,"anchor":324,"singlePageAnchor":324,"sections":325,"docTitle":19,"url":350},"2.2. Writing and executing nftables scripts","writing-and-executing-nftables-scripts_getting-started-with-nftables",[326,330,334,338,342,346],{"title":327,"visible":15,"weight":16,"urlFragment":299,"anchor":328,"singlePageAnchor":328,"docTitle":19,"url":329},"2.2.1. Supported nftables script formats","supported-nftables-script-formats_writing-and-executing-nftables-scripts","#supported-nftables-script-formats_writing-and-executing-nftables-scripts",{"title":331,"visible":15,"weight":23,"urlFragment":299,"anchor":332,"singlePageAnchor":332,"docTitle":19,"url":333},"2.2.2. Running nftables scripts","running-nftables-scripts_writing-and-executing-nftables-scripts","#running-nftables-scripts_writing-and-executing-nftables-scripts",{"title":335,"visible":15,"weight":28,"urlFragment":299,"anchor":336,"singlePageAnchor":336,"docTitle":19,"url":337},"2.2.3. Using comments in nftables scripts","using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts","#using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts",{"title":339,"visible":15,"weight":45,"urlFragment":299,"anchor":340,"singlePageAnchor":340,"docTitle":19,"url":341},"2.2.4. Using variables in nftables script","using-variables-in-nftables-script_writing-and-executing-nftables-scripts","#using-variables-in-nftables-script_writing-and-executing-nftables-scripts",{"title":343,"visible":15,"weight":50,"urlFragment":299,"anchor":344,"singlePageAnchor":344,"docTitle":19,"url":345},"2.2.5. Including files in nftables scripts","including-files-in-nftables-scripts_writing-and-executing-nftables-scripts","#including-files-in-nftables-scripts_writing-and-executing-nftables-scripts",{"title":347,"visible":15,"weight":55,"urlFragment":299,"anchor":348,"singlePageAnchor":348,"docTitle":19,"url":349},"2.2.6. Automatically loading nftables rules when the system boots","automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts","#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts","#writing-and-executing-nftables-scripts_getting-started-with-nftables",{"title":352,"visible":15,"weight":28,"urlFragment":299,"anchor":353,"singlePageAnchor":353,"sections":354,"docTitle":19,"url":371},"2.3. Creating and managing nftables tables, chains, and rules","assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables",[355,359,363,367],{"title":356,"visible":15,"weight":16,"urlFragment":299,"anchor":357,"singlePageAnchor":357,"docTitle":19,"url":358},"2.3.1. Basics of nftables tables","con_basics-of-nftables-tables_assembly_creating-and-managing-nftables-tables-chains-and-rules","#con_basics-of-nftables-tables_assembly_creating-and-managing-nftables-tables-chains-and-rules",{"title":360,"visible":15,"weight":23,"urlFragment":299,"anchor":361,"singlePageAnchor":361,"docTitle":19,"url":362},"2.3.2. Basics of nftables chains","con_basics-of-nftables-chains_assembly_creating-and-managing-nftables-tables-chains-and-rules","#con_basics-of-nftables-chains_assembly_creating-and-managing-nftables-tables-chains-and-rules",{"title":364,"visible":15,"weight":28,"urlFragment":299,"anchor":365,"singlePageAnchor":365,"docTitle":19,"url":366},"2.3.3. Basics of nftables rules","con_basics-of-nftables-rules_assembly_creating-and-managing-nftables-tables-chains-and-rules","#con_basics-of-nftables-rules_assembly_creating-and-managing-nftables-tables-chains-and-rules",{"title":368,"visible":15,"weight":45,"urlFragment":299,"anchor":369,"singlePageAnchor":369,"docTitle":19,"url":370},"2.3.4. Managing tables, chains, and rules using nft commands","proc_managing-tables-chains-and-rules-using-nft-commands_assembly_creating-and-managing-nftables-tables-chains-and-rules","#proc_managing-tables-chains-and-rules-using-nft-commands_assembly_creating-and-managing-nftables-tables-chains-and-rules","#assembly_creating-and-managing-nftables-tables-chains-and-rules_getting-started-with-nftables",{"title":373,"visible":15,"weight":45,"urlFragment":299,"anchor":374,"singlePageAnchor":374,"sections":375,"docTitle":19,"url":400},"2.4. Configuring NAT using nftables","configuring-nat-using-nftables_getting-started-with-nftables",[376,380,384,388,392,396],{"title":377,"visible":15,"weight":16,"urlFragment":299,"anchor":378,"singlePageAnchor":378,"docTitle":19,"url":379},"2.4.1. NAT types","nat-types_configuring-nat-using-nftables","#nat-types_configuring-nat-using-nftables",{"title":381,"visible":15,"weight":23,"urlFragment":299,"anchor":382,"singlePageAnchor":382,"docTitle":19,"url":383},"2.4.2. Configuring masquerading using nftables","configuring-masquerading-using-nftables_configuring-nat-using-nftables","#configuring-masquerading-using-nftables_configuring-nat-using-nftables",{"title":385,"visible":15,"weight":28,"urlFragment":299,"anchor":386,"singlePageAnchor":386,"docTitle":19,"url":387},"2.4.3. Configuring source NAT using nftables","configuring-source-nat-using-nftables_configuring-nat-using-nftables","#configuring-source-nat-using-nftables_configuring-nat-using-nftables",{"title":389,"visible":15,"weight":45,"urlFragment":299,"anchor":390,"singlePageAnchor":390,"docTitle":19,"url":391},"2.4.4. Configuring destination NAT using nftables","configuring-destination-nat-using-nftables_configuring-nat-using-nftables","#configuring-destination-nat-using-nftables_configuring-nat-using-nftables",{"title":393,"visible":15,"weight":50,"urlFragment":299,"anchor":394,"singlePageAnchor":394,"docTitle":19,"url":395},"2.4.5. Configuring a redirect using nftables","proc_configuring-a-redirect-using-nftables_configuring-nat-using-nftables","#proc_configuring-a-redirect-using-nftables_configuring-nat-using-nftables",{"title":397,"visible":15,"weight":55,"urlFragment":299,"anchor":398,"singlePageAnchor":398,"docTitle":19,"url":399},"2.4.6. Configuring flowtable by using nftables","proc_configuring-flowtable-by-using-nftables_configuring-nat-using-nftables","#proc_configuring-flowtable-by-using-nftables_configuring-nat-using-nftables","#configuring-nat-using-nftables_getting-started-with-nftables",{"title":402,"visible":15,"weight":50,"urlFragment":299,"anchor":403,"singlePageAnchor":403,"sections":404,"docTitle":19,"url":417},"2.5. Using sets in nftables commands","using-sets-in-nftables-commands_getting-started-with-nftables",[405,409,413],{"title":406,"visible":15,"weight":16,"urlFragment":299,"anchor":407,"singlePageAnchor":407,"docTitle":19,"url":408},"2.5.1. Using anonymous sets in nftables","using-anonymous-sets-in-nftables_using-sets-in-nftables-commands","#using-anonymous-sets-in-nftables_using-sets-in-nftables-commands",{"title":410,"visible":15,"weight":23,"urlFragment":299,"anchor":411,"singlePageAnchor":411,"docTitle":19,"url":412},"2.5.2. Using named sets in nftables","using-named-sets-in-nftables_using-sets-in-nftables-commands","#using-named-sets-in-nftables_using-sets-in-nftables-commands",{"title":414,"visible":15,"weight":28,"urlFragment":299,"anchor":415,"singlePageAnchor":415,"docTitle":19,"url":416},"2.5.3. Additional resources","additional_resources","#additional_resources","#using-sets-in-nftables-commands_getting-started-with-nftables",{"title":419,"visible":15,"weight":55,"urlFragment":299,"anchor":420,"singlePageAnchor":420,"sections":421,"docTitle":19,"url":434},"2.6. Using verdict maps in nftables commands","using-verdict-maps-in-nftables-commands_getting-started-with-nftables",[422,426,430],{"title":423,"visible":15,"weight":16,"urlFragment":299,"anchor":424,"singlePageAnchor":424,"docTitle":19,"url":425},"2.6.1. Using anonymous maps in nftables","using-anonymous-maps-in-nftables_using-verdict-maps-in-nftables-commands","#using-anonymous-maps-in-nftables_using-verdict-maps-in-nftables-commands",{"title":427,"visible":15,"weight":23,"urlFragment":299,"anchor":428,"singlePageAnchor":428,"docTitle":19,"url":429},"2.6.2. Using named maps in nftables","using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands","#using-named-maps-in-nftables_using-verdict-maps-in-nftables-commands",{"title":431,"visible":15,"weight":28,"urlFragment":299,"anchor":432,"singlePageAnchor":432,"docTitle":19,"url":433},"2.6.3. Additional resources","additional_resources_2","#additional_resources_2","#using-verdict-maps-in-nftables-commands_getting-started-with-nftables",{"title":436,"visible":15,"weight":60,"urlFragment":299,"anchor":437,"singlePageAnchor":437,"sections":438,"docTitle":19,"url":455},"2.7. Example: Protecting a LAN and DMZ using an nftables script","assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables",[439,443,447,451],{"title":440,"visible":15,"weight":16,"urlFragment":299,"anchor":441,"singlePageAnchor":441,"docTitle":19,"url":442},"2.7.1. Network conditions","con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script","#con_network-conditions_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script",{"title":444,"visible":15,"weight":23,"urlFragment":299,"anchor":445,"singlePageAnchor":445,"docTitle":19,"url":446},"2.7.2. Security requirements to the firewall script","con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script","#con_security-requirements-to-the-firewall-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script",{"title":448,"visible":15,"weight":28,"urlFragment":299,"anchor":449,"singlePageAnchor":449,"docTitle":19,"url":450},"2.7.3. Configuring logging of dropped packets to a file","proc_configuring-logging-of-dropped-packets-to-a-file_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script","#proc_configuring-logging-of-dropped-packets-to-a-file_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script",{"title":452,"visible":15,"weight":45,"urlFragment":299,"anchor":453,"singlePageAnchor":453,"docTitle":19,"url":454},"2.7.4. Writing and activating the nftables script","proc_writing-and-activating-the-nftables-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script","#proc_writing-and-activating-the-nftables-script_assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script","#assembly_example-protecting-a-lan-and-dmz-using-an-nftables-script_getting-started-with-nftables",{"title":457,"visible":15,"weight":93,"urlFragment":299,"anchor":458,"singlePageAnchor":458,"sections":459,"docTitle":19,"url":468},"2.8. Configuring port forwarding using nftables","configuring-port-forwarding-using-nftables_getting-started-with-nftables",[460,464],{"title":461,"visible":15,"weight":16,"urlFragment":299,"anchor":462,"singlePageAnchor":462,"docTitle":19,"url":463},"2.8.1. Forwarding incoming packets to a different local port","forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables","#forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables",{"title":465,"visible":15,"weight":23,"urlFragment":299,"anchor":466,"singlePageAnchor":466,"docTitle":19,"url":467},"2.8.2. Forwarding incoming packets on a specific local port to a different host","forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables","#forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables","#configuring-port-forwarding-using-nftables_getting-started-with-nftables",{"title":470,"visible":15,"weight":98,"urlFragment":299,"anchor":471,"singlePageAnchor":471,"sections":472,"docTitle":19,"url":481},"2.9. Using nftables to limit the amount of connections","assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables",[473,477],{"title":474,"visible":15,"weight":16,"urlFragment":299,"anchor":475,"singlePageAnchor":475,"docTitle":19,"url":476},"2.9.1. Limiting the number of connections by using nftables","limiting-the-number-of-connections-using-nftables_assembly_using-nftables-to-limit-the-amount-of-connections","#limiting-the-number-of-connections-using-nftables_assembly_using-nftables-to-limit-the-amount-of-connections",{"title":478,"visible":15,"weight":23,"urlFragment":299,"anchor":479,"singlePageAnchor":479,"docTitle":19,"url":480},"2.9.2. Blocking IP addresses that attempt more than ten new incoming TCP connections within one minute","blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_assembly_using-nftables-to-limit-the-amount-of-connections","#blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_assembly_using-nftables-to-limit-the-amount-of-connections","#assembly_using-nftables-to-limit-the-amount-of-connections_getting-started-with-nftables",{"title":483,"visible":15,"weight":162,"urlFragment":299,"anchor":484,"singlePageAnchor":484,"sections":485,"docTitle":19,"url":498},"2.10. Debugging nftables rules","debugging-nftables-rules_getting-started-with-nftables",[486,490,494],{"title":487,"visible":15,"weight":16,"urlFragment":299,"anchor":488,"singlePageAnchor":488,"docTitle":19,"url":489},"2.10.1. Creating a rule with a counter","creating-a-rule-with-a-counter_debugging-nftables-rules","#creating-a-rule-with-a-counter_debugging-nftables-rules",{"title":491,"visible":15,"weight":23,"urlFragment":299,"anchor":492,"singlePageAnchor":492,"docTitle":19,"url":493},"2.10.2. Adding a counter to an existing rule","adding-a-counter-to-an-existing-rule_debugging-nftables-rules","#adding-a-counter-to-an-existing-rule_debugging-nftables-rules",{"title":495,"visible":15,"weight":28,"urlFragment":299,"anchor":496,"singlePageAnchor":496,"docTitle":19,"url":497},"2.10.3. Monitoring packets that match an existing rule","monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules","#monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules","#debugging-nftables-rules_getting-started-with-nftables",{"title":500,"visible":15,"weight":188,"urlFragment":299,"anchor":501,"singlePageAnchor":501,"sections":502,"docTitle":19,"url":511},"2.11. Backing up and restoring the nftables rule set","backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables",[503,507],{"title":504,"visible":15,"weight":16,"urlFragment":299,"anchor":505,"singlePageAnchor":505,"docTitle":19,"url":506},"2.11.1. Backing up the nftables rule set to a file","backing-up-the-nftables-rule-set-to-a-file_backing-up-and-restoring-the-nftables-rule-set","#backing-up-the-nftables-rule-set-to-a-file_backing-up-and-restoring-the-nftables-rule-set",{"title":508,"visible":15,"weight":23,"urlFragment":299,"anchor":509,"singlePageAnchor":509,"docTitle":19,"url":510},"2.11.2. Restoring the nftables rule set from a file","restoring-the-nftables-rule-set-from-a-file_backing-up-and-restoring-the-nftables-rule-set","#restoring-the-nftables-rule-set-from-a-file_backing-up-and-restoring-the-nftables-rule-set","#backing-up-and-restoring-the-nftables-rule-set_getting-started-with-nftables",{"title":513,"visible":15,"weight":210,"urlFragment":299,"anchor":514,"singlePageAnchor":514,"docTitle":19,"url":515},"2.12. Additional resources","additional_resources_3","#additional_resources_3","#getting-started-with-nftables_firewall-packet-filters",{"title":518,"visible":15,"weight":50,"urlFragment":519,"anchor":18,"singlePageAnchor":519,"sections":520,"docTitle":19,"url":529},"3. Using xdp-filter for high-performance traffic filtering to prevent DDoS attacks","using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters",[521,525],{"title":522,"visible":15,"weight":16,"urlFragment":519,"anchor":523,"singlePageAnchor":523,"docTitle":19,"url":524},"3.1. Dropping network packets that match an xdp-filter rule","dropping-network-packets-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks","#dropping-network-packets-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks",{"title":526,"visible":15,"weight":23,"urlFragment":519,"anchor":527,"singlePageAnchor":527,"docTitle":19,"url":528},"3.2. Dropping all network packets except the ones that match an xdp-filter rule","dropping-all-network-packets-except-the-ones-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks","#dropping-all-network-packets-except-the-ones-that-match-an-xdp-filter-rule_using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks","#using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters",{"title":531,"visible":15,"weight":55,"urlFragment":532,"anchor":18,"singlePageAnchor":533,"docTitle":19,"url":534},"Legal Notice","legal-notice","idm140107951911088","#idm140107951911088",[536,539,542],{"text":537,"link":538},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":540,"link":541},"9","/documentation/red_hat_enterprise_linux/9/",{"text":11},{"name":11,"translations":544,"productVersion":545,"singlePage":546,"pdf":549,"publishingStatus":551},[5,6,7,8,9],{"name":540},{"contentUrl":547,"name":11,"new":548,"url":19},"https://d2bhdhkti9t3uj.cloudfront.net/html/10eb0ee9-e07c-4b17-80bb-2e6cdd1141a4/31dc11794734cedde49ad3704b755909.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_firewalls_and_packet_filters/index",{"url":550},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/configuring_firewalls_and_packet_filters/Red_Hat_Enterprise_Linux-9-Configuring_firewalls_and_packet_filters-en-US.pdf","PUBLISHED",[553,558,561,565,569,573,577],{"name":554,"new":555,"url":556,"urlAliases":557},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":540,"new":559,"url":540,"urlAliases":560},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":562,"new":563,"url":562,"urlAliases":564},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":566,"new":567,"url":566,"urlAliases":568},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":570,"new":571,"url":570,"urlAliases":572},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":574,"new":575,"url":574,"urlAliases":576},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":578,"new":579,"url":578,"urlAliases":580},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"configuring_firewalls_and_packet_filters/index":582,"configuring_firewalls_and_packet_filters/proc_providing-feedback-on-red-hat-documentation_firewall-packet-filters":583,"configuring_firewalls_and_packet_filters/using-and-configuring-firewalld_firewall-packet-filters":584,"configuring_firewalls_and_packet_filters/getting-started-with-nftables_firewall-packet-filters":585,"configuring_firewalls_and_packet_filters/using-xdp-filter-for-high-performance-traffic-filtering-to-prevent-ddos-attacks_firewall-packet-filters":586,"configuring_firewalls_and_packet_filters/legal-notice":587},{"prevt":18,"next":24},{"prevt":17,"next":29},{"prevt":18,"next":29},{"prevt":18,"next":299},{"prevt":18,"next":519},{"prevt":519,"next":18},{"product":18,"version":18},{"configuring_firewalls_and_packet_filters":590},[548],{"products":592},[593,594,595,596,597,598,599,600,601,602,603,604,605],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":608},[609,618,624,633,641,649,656,664,671],{"nid":610,"type":611,"langcode":612,"Published":16,"title":613,"Created":614,"Updated":615,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":616,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":617},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":619,"type":611,"langcode":612,"Published":16,"title":613,"Created":620,"Updated":621,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":622,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":623},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":625,"type":626,"langcode":612,"Published":16,"title":627,"Created":628,"Updated":629,"body_value":18,"field_documentation banner_text_value":630,"field_documentation banner_text_format":631,"field_paths_value":632,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":634,"type":635,"langcode":612,"Published":16,"title":636,"Created":637,"Updated":638,"body_value":18,"field_documentation banner_text_value":639,"field_documentation banner_text_format":631,"field_paths_value":640,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":642,"type":643,"langcode":612,"Published":16,"title":644,"Created":645,"Updated":646,"body_value":18,"field_documentation banner_text_value":647,"field_documentation banner_text_format":631,"field_paths_value":648,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":650,"type":643,"langcode":612,"Published":16,"title":651,"Created":652,"Updated":653,"body_value":18,"field_documentation banner_text_value":654,"field_documentation banner_text_format":631,"field_paths_value":655,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":657,"type":658,"langcode":612,"Published":16,"title":659,"Created":660,"Updated":661,"body_value":18,"field_documentation banner_text_value":662,"field_documentation banner_text_format":631,"field_paths_value":663,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":665,"type":658,"langcode":612,"Published":16,"title":666,"Created":667,"Updated":668,"body_value":18,"field_documentation banner_text_value":669,"field_documentation banner_text_format":631,"field_paths_value":670,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":672,"alertType":673,"type":674,"langcode":612,"Published":16,"title":675,"Created":670,"Updated":670,"body_value":18,"field_documentation banner_text_value":676,"field_documentation banner_text_format":631,"field_paths_value":677,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":537},["Reactive",680],{"$snuxt-i18n-meta":681,"$sisLoading":682,"$sisSinglePage":15,"$sisInFocusMode":682,"$smobileTocOpen":682,"$sisLargeTOC":682,"$scurrentChapter":17,"$scurrentSection":17,"$scurrentSubSection":670},{},false,["Set"],["ShallowReactive",685],{"s8LoCEfG4A":18,"rFVLKcOK8e":18,"uUstF4AIyn":18,"MdHNSZP4nR":18,"Pn02PlJOas":18},"/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_firewalls_and_packet_filters/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
