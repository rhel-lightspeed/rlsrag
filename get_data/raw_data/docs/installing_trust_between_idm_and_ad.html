<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Installing trust between IdM and AD | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_trust_between_idm_and_ad/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Installing trust between IdM and AD | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Installing trust between IdM and AD<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Installing trust between IdM and AD</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77>1. Prerequisites for establishing a trust</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#supported-versions-of-windows-server_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-supported-versions-of-windows-server_installing-trust-between-idm-and-ad" data-v-fa0dae77>2. Supported versions of Windows Server</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#how-the-trust-works_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-how-the-trust-works_installing-trust-between-idm-and-ad" data-v-fa0dae77>3. How the trust works</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#ad-administration-rights_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-ad-administration-rights_installing-trust-between-idm-and-ad" data-v-fa0dae77>4. AD administration rights</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad" data-v-fa0dae77><summary class="heading chapter-title" id="ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad--summary" data-v-fa0dae77>5. Ensuring support for common encryption types in AD and RHEL</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad" data-v-fa0dae77>Ensuring support for common encryption types in AD and RHEL</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel" id="sub-link-to-installing_trust_between_idm_and_ad-enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel" data-v-b883c74f>5.1. Enabling AES encryption in AD (recommended)</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel" id="sub-link-to-installing_trust_between_idm_and_ad-enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel" data-v-b883c74f>5.2. Enabling the AES encryption type in Active Directory using a GPO</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel" id="sub-link-to-installing_trust_between_idm_and_ad-enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel" data-v-b883c74f>5.3. Enabling RC4 support in RHEL</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-installing_trust_between_idm_and_ad-additional_resources" data-v-b883c74f>5.4. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad" data-v-fa0dae77>6. Ports required for communication between IdM and AD</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77><summary class="heading chapter-title" id="configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad--summary" data-v-fa0dae77>7. Configuring DNS and realm settings for a trust</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77>Configuring DNS and realm settings for a trust</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust" data-v-b883c74f>7.1. Unique primary DNS domains</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-dns-zones-in-idm_configuring-dns-and-realm-settings-for-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-configuring-dns-zones-in-idm_configuring-dns-and-realm-settings-for-a-trust" data-v-b883c74f>7.2. Configuring a DNS forward zone in the IdM Web UI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-dns-zones-in-cli_configuring-dns-and-realm-settings-for-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-configuring-dns-zones-in-cli_configuring-dns-and-realm-settings-for-a-trust" data-v-b883c74f>7.3. Configuring a DNS forward zone in the CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-dns-forwarding-in-ad_configuring-dns-and-realm-settings-for-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-configuring-dns-forwarding-in-ad_configuring-dns-and-realm-settings-for-a-trust" data-v-b883c74f>7.4. Configuring DNS forwarding in AD</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust" data-v-b883c74f>7.5. Verifying the DNS configuration</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad--summary" data-v-fa0dae77>8. Configuring IdM clients in an Active Directory DNS domain</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad" data-v-fa0dae77>Configuring IdM clients in an Active Directory DNS domain</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" id="sub-link-to-installing_trust_between_idm_and_ad-proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" data-v-b883c74f>8.1. Configuring an IdM client without Kerberos single sign-on</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_handling-ssl-certificates-without-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" id="sub-link-to-installing_trust_between_idm_and_ad-proc_handling-ssl-certificates-without-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" data-v-b883c74f>8.2. Requesting SSL certificates without single sign-on</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" id="sub-link-to-installing_trust_between_idm_and_ad-proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" data-v-b883c74f>8.3. Configuring an IdM client with Kerberos single sign-on</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_handling-ssl-certificates-with-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" id="sub-link-to-installing_trust_between_idm_and_ad-proc_handling-ssl-certificates-with-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" data-v-b883c74f>8.4. Requesting SSL certificates with single sign-on</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--setting-up-a-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77><summary class="heading chapter-title" id="setting-up-a-trust_installing-trust-between-idm-and-ad--summary" data-v-fa0dae77>9. Setting up a trust</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#setting-up-a-trust_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-setting-up-a-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77>Setting up a trust</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#preparing-the-idm-server-for-the-trust_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-preparing-the-idm-server-for-the-trust_setting-up-a-trust" data-v-b883c74f>9.1. Preparing the IdM server for the trust</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-a-trust-agreement-using-the-command-line_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-setting-up-a-trust-agreement-using-the-command-line_setting-up-a-trust" data-v-b883c74f>9.2. Setting up a trust agreement using the command line</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-the-trust-in-the-idm-web-ui_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-setting-up-the-trust-in-the-idm-web-ui_setting-up-a-trust" data-v-b883c74f>9.3. Setting up a trust agreement in the IdM Web UI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-up-a-trust-agreement-using-ansible_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-proc_setting-up-a-trust-agreement-using-ansible_setting-up-a-trust" data-v-b883c74f>9.4. Setting up a trust agreement using Ansible</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#verifying-the-kerberos-configuration_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-verifying-the-kerberos-configuration_setting-up-a-trust" data-v-b883c74f>9.5. Verifying the Kerberos configuration</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#verifying-the-trust-configuration-on-idm_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-verifying-the-trust-configuration-on-idm_setting-up-a-trust" data-v-b883c74f>9.6. Verifying the trust configuration on IdM</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#verifying-the-trust-configuration-on-ad_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-verifying-the-trust-configuration-on-ad_setting-up-a-trust" data-v-b883c74f>9.7. Verifying the trust configuration on AD</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-trust-agent_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-proc_creating-a-trust-agent_setting-up-a-trust" data-v-b883c74f>9.8. Creating a trust agent</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_setting-up-a-trust" data-v-b883c74f>9.9. Enabling automatic private group mapping for a POSIX ID range on the CLI</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_setting-up-a-trust" id="sub-link-to-installing_trust_between_idm_and_ad-proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_setting-up-a-trust" data-v-b883c74f>9.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad--summary" data-v-fa0dae77>10. Troubleshooting setting up a cross-forest trust</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad" data-v-fa0dae77>Troubleshooting setting up a cross-forest trust</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_sequence-of-events-when-establishing-a-cross-forest-trust-with-ad_assembly_troubleshooting-setting-up-a-cross-forest-trust" id="sub-link-to-installing_trust_between_idm_and_ad-ref_sequence-of-events-when-establishing-a-cross-forest-trust-with-ad_assembly_troubleshooting-setting-up-a-cross-forest-trust" data-v-b883c74f>10.1. Sequence of events when establishing a cross-forest trust with AD</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_checklist-of-prerequisites-for-establishing-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust" id="sub-link-to-installing_trust_between_idm_and_ad-ref_checklist-of-prerequisites-for-establishing-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust" data-v-b883c74f>10.2. Checklist of prerequisites for establishing an AD trust</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_gathering-debug-logs-of-an-attempt-to-establish-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust" id="sub-link-to-installing_trust_between_idm_and_ad-proc_gathering-debug-logs-of-an-attempt-to-establish-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust" data-v-b883c74f>10.3. Gathering debug logs of an attempt to establish an AD trust</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad--summary" data-v-fa0dae77>11. Troubleshooting client access to services in the other forest</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad" data-v-fa0dae77>Troubleshooting client access to services in the other forest</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" id="sub-link-to-installing_trust_between_idm_and_ad-ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" data-v-b883c74f>11.1. Flow of information when a host in the AD forest root domain requests services from an IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" id="sub-link-to-installing_trust_between_idm_and_ad-ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" data-v-b883c74f>11.2. Flow of information when a host in an AD child domain requests services from an IdM server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_flow-of-information-when-an-idm-client-requests-services-from-an-ad-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" id="sub-link-to-installing_trust_between_idm_and_ad-ref_flow-of-information-when-an-idm-client-requests-services-from-an-ad-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" data-v-b883c74f>11.3. Flow of information when an IdM client requests services from an AD server</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad" data-v-fa0dae77>12. Removing the trust using the command line</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad" data-v-fa0dae77>13. Removing the trust using the IdM Web UI</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad" data-v-fa0dae77>14. Removing the trust using Ansible</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad" id="chapter-landing--installing_trust_between_idm_and_ad-proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad" data-v-fa0dae77>15. Removing an ID range after removing a trust to AD</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm139750721543712" id="chapter-landing--installing_trust_between_idm_and_ad-idm139750721543712" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Installing trust between IdM and AD</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm139750721544720"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">Managing a cross-forest trust between an IdM and AD domain</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm139750721543712">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Both Red Hat Identity Management (IdM) and Active Directory (AD) manage a variety of core services, such as Kerberos, LDAP, DNS, and certificate services. A trust relationship transparently integrates these two environments by enabling all core services to interact seamlessly. For example, a trust enables AD users to authenticate to services in the IdM topology.
			</div><div class="para">
				Preparing the trust requires the use of common encryption types in IdM and AD, opening ports in the firewall, and to configure DNS and Kerberos realm settings. If the trust is no longer required, you can remove it.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Prerequisites for establishing a trust</h2></div></div></div><p class="_abstract _abstract">
			This documentation aims to help you create a trust between your Identity Management IdM server and Active Directory (AD), where both servers are located in the same forest.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					First, read the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management">Planning a cross-forest trust between Identity Management and Active Directory</a> document.
				</li><li class="listitem">
					AD is installed with a domain controller on it.
				</li><li class="listitem"><p class="simpara">
					The IdM server is installed and running.
				</p><p class="simpara">
					For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management">Installing Identity Management</a>.
				</p></li><li class="listitem">
					Both the AD server and the IdM server must have their clocks in sync because Kerberos requires max 5 mins delay in communication.
				</li><li class="listitem"><p class="simpara">
					Unique NetBIOS names for each of the servers placed in the trust because the NetBIOS names are critical for identifying the Active Directory domain.
				</p><p class="simpara">
					The NetBIOS name of an Active Directory or IdM domain is usually the first part of the corresponding DNS domain. If the DNS domain is <code class="literal">ad.example.com</code>, the NetBIOS name is typically <code class="literal">AD</code>. However, it is not required. Important is that the NetBIOS name is just one word without periods. The maximum length of a NetBIOS name is 15 characters.
				</p></li><li class="listitem"><p class="simpara">
					The IdM system must have the IPv6 protocol enabled in the kernel.
				</p><p class="simpara">
					If IPv6 is disabled, then the CLDAP plug-in used by the IdM services fails to initialize.
				</p></li></ul></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">NOTE</span></dt><dd>
						In RHEL 7, <span class="emphasis"><em>synchronization</em></span> and <span class="emphasis"><em>trust</em></span> were two possible approaches to indirect integration of RHEL systems to Active Directory (AD). In RHEL 8, synchronization is deprecated and in RHEL 9, it is not available any more. To integrate IdM and AD, use the trust approach instead. To migrate from synchronization to trust in RHEL 8, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/migrating_to_identity_management_on_rhel_8/index#migrating-an-existing-environment-from-synchronization-to-trust-in-the-context-of-integrating-a-linux-domain-with-an-active-directory-domain">Migrating an existing environment from synchronization to trust in the context of integrating a Linux domain with an Active Directory domain</a>.
					</dd></dl></div></section><section class="chapter" id="supported-versions-of-windows-server_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Supported versions of Windows Server</h2></div></div></div><p class="_abstract _abstract">
			You can establish a trust relationship with Active Directory (AD) forests that use the following forest and domain functional levels:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Forest functional level range: Windows Server 2012 — Windows Server 2016
				</li><li class="listitem">
					Domain functional level range: Windows Server 2012 — Windows Server 2016
				</li></ul></div><p>
			Identity Management (IdM) supports establishing a trust with Active Directory domain controllers running the following operating systems:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Windows Server 2022 (RHEL 9.1 and later)
				</li><li class="listitem">
					Windows Server 2019
				</li><li class="listitem">
					Windows Server 2016
				</li><li class="listitem">
					Windows Server 2012 R2
				</li><li class="listitem">
					Windows Server 2012
				</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
				Identity Management (IdM) does not support establishing trust to Active Directory with Active Directory domain controllers running Windows Server 2008 R2 or earlier versions. RHEL IdM requires SMB encryption when establishing the trust relationship, which is only supported in Windows Server 2012 or later.
			</p></div></rh-alert></section><section class="chapter" id="how-the-trust-works_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 3. How the trust works</h2></div></div></div><p class="_abstract _abstract">
			The trust between Identity Management IdM and Active Directory (AD) is established on the Cross-realm Kerberos trust. This solution uses the Kerberos capability to establish trusts between different identity sources. Therefore, all AD users can:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Log in to access Linux systems and resources.
				</li><li class="listitem">
					Use single sign-on (SSO).
				</li></ul></div><p>
			All IdM objects are managed in IdM in the trust.
		</p><p>
			All AD objects are managed in AD in the trust.
		</p><p>
			In complex environments, a single IdM forest can be connected to multiple AD forests. This setup enables better separation of duties for different functions in the organization. AD administrators can focus on users and policies related to users while Linux administrators have full control over the Linux infrastructure. In such a case, the Linux realm controlled by IdM is analogous to an AD resource domain or realm but with Linux systems in it.
		</p><p>
			From the perspective of AD, Identity Management represents a separate AD forest with a single AD domain. When cross-forest trust between an AD forest root domain and an IdM domain is established, users from the AD forest domains can interact with Linux machines and services from the IdM domain.
		</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				In trust environments, IdM enables you to use ID views to configure POSIX attributes for AD users on the IdM server.
			</p></div></rh-alert></section><section class="chapter" id="ad-administration-rights_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 4. AD administration rights</h2></div></div></div><p class="_abstract _abstract">
			When you want to build a trust between AD (Active Directory) and IdM (Identity Management), you will need to use an AD administrator account with appropriate AD privileges.
		</p><p>
			Such an AD administrator must be a member of one of the following groups:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Enterprise Admin group in the AD forest
				</li><li class="listitem">
					Domain Admins group in the forest root domain for your AD forest
				</li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					For details about Enterprise Admins, see <a class="link" href="https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/active-directory-security-groups#bkmk-entadmins">Enterprise Admins</a>.
				</li><li class="listitem">
					For details about Domain Admins, see <a class="link" href="https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/active-directory-security-groups#bkmk-domainadmins">Domain Admins</a>.
				</li><li class="listitem">
					For details about AD trust, see <a class="link" href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2003/cc773178(v=ws.10)">How Domain and Forest Trusts Work</a>.
				</li></ul></div></section><section class="chapter" id="ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Ensuring support for common encryption types in AD and RHEL</h2></div></div></div><p class="_abstract _abstract">
			By default, Identity Management establishes a cross-realm trust with support for RC4, AES-128, and AES-256 Kerberos encryption types. Additionally, by default SSSD and Samba Winbind support RC4, AES-128, and AES-256 Kerberos encryption types.
		</p><p>
			RC4 encryption has been deprecated and disabled by default, as it is considered less secure than the newer AES-128 and AES-256 encryption types. In contrast, Active Directory (AD) user credentials and trusts between AD domains support RC4 encryption and they might not support all AES encryption types.
		</p><p>
			Without any common encryption types, communication between RHEL hosts and AD domains might not work, or some AD accounts might not be able to authenticate. To address this situation, perform one of the configurations outlined in the following sections.
		</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
				If IdM is in FIPS mode, the IdM-AD integration does not work due to AD only supporting the use of RC4 or AES HMAC-SHA1 encryptions, while RHEL 9 in FIPS mode allows only AES HMAC-SHA2 by default. For more information, see the <a class="link" href="https://access.redhat.com/solutions/7003853">AD Domain Users unable to login in to the FIPS-compliant environment</a> KCS solution.
			</p><p>
				IdM does not support the more restrictive <code class="literal">FIPS:OSPP</code> crypto policy, which should only be used on Common Criteria evaluated systems.
			</p></div></rh-alert><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				Establishing a two-way cross-forest trust between AD and Identity Management IdM with FIPS mode enabled fails because the New Technology LAN Manager Security Support Provider (NTLMSSP) authentication is not FIPS-compliant. IdM in FIPS mode does not accept the RC4 NTLM hash that the AD domain controller uses when attempting to authenticate.
			</p></div></rh-alert><section class="section" id="enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel"><div class="titlepage"><div><div><h3 class="title">5.1. Enabling AES encryption in AD (recommended)</h3></div></div></div><p class="_abstract _abstract">
				To ensure trusts between Active Directory (AD) domains in an AD forest support strong AES encryption types, see the following Microsoft article: <a class="link" href="https://docs.microsoft.com/en-us/troubleshoot/windows-server/windows-security/unsupported-etype-error-accessing-trusted-domain">AD DS: Security: Kerberos "Unsupported etype" error when accessing a resource in a trusted domain</a>
			</p></section><section class="section" id="enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel"><div class="titlepage"><div><div><h3 class="title">5.2. Enabling the AES encryption type in Active Directory using a GPO</h3></div></div></div><p class="_abstract _abstract">
				This section describes how to enable the AES encryption type in Active Directory (AD) using a group policy object (GPO). Certain features on RHEL, such as running a Samba server on an IdM client, require this encryption type.
			</p><p>
				Note that RHEL no longer supports the weak DES and RC4 encryption types.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged into AD as a user who can edit group policies.
					</li><li class="listitem">
						The <code class="literal application">Group Policy Management Console</code> is installed on the computer.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the <code class="literal application">Group Policy Management Console</code>.
					</li><li class="listitem">
						Right-click <code class="literal gui">Default Domain Policy</code>, and select <code class="literal gui">Edit</code>. The <code class="literal application">Group Policy Management Editor</code> opens.
					</li><li class="listitem">
						Navigate to <code class="literal gui">Computer Configuration</code> → <code class="literal gui">Policies</code> → <code class="literal gui">Windows Settings</code> → <code class="literal gui">Security Settings</code> → <code class="literal gui">Local Policies</code> → <code class="literal gui">Security Options</code>.
					</li><li class="listitem">
						Double-click the <code class="literal gui">Network security: Configure encryption types allowed for Kerberos</code> policy.
					</li><li class="listitem">
						Select <code class="literal gui">AES256_HMAC_SHA1</code> and, optionally, <code class="literal gui">Future encryption types</code>.
					</li><li class="listitem">
						Click <span class="guibutton">OK</span>.
					</li><li class="listitem">
						Close the <code class="literal application">Group Policy Management Editor</code>.
					</li><li class="listitem">
						Repeat the steps for the <code class="literal gui">Default Domain Controller Policy</code>.
					</li><li class="listitem"><p class="simpara">
						Wait until the Windows domain controllers (DC) applied the group policy automatically. Alternatively, to apply the GPO manually on a DC, enter the following command using an account that has administrator permissions:
					</p><pre class="literallayout">C:\&gt; <span class="strong strong"><strong>gpupdate /force /target:computer</strong></span></pre></li></ol></div></section><section class="section" id="enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel"><div class="titlepage"><div><div><h3 class="title">5.3. Enabling RC4 support in RHEL</h3></div></div></div><p class="_abstract _abstract">
				On every RHEL host where authentication against AD Domain Controllers takes place, complete the steps outlined below.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the <code class="literal">update-crypto-policies</code> command to enable the <code class="literal">AD-SUPPORT-LEGACY</code> cryptographic subpolicy in addition to the <code class="literal">DEFAULT</code> cryptographic policy.
					</p><pre class="literallayout">[root@host ~]# <span class="strong strong"><strong>update-crypto-policies --set LEGACY:AD-SUPPORT-LEGACY</strong></span>
Setting system policy to LEGACY:AD-SUPPORT-LEGACY
Note: System-wide crypto policies are applied on application start-up.
It is recommended to restart the system for the change of policies
to fully take place.</pre></li><li class="listitem">
						Restart the host.
					</li></ol></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">5.4. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening">Using system-wide cryptographic policies</a>.
					</li><li class="listitem">
						See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad">Trust controllers and trust agents</a>.
					</li></ul></div></section></section><section class="chapter" id="ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Ports required for communication between IdM and AD</h2></div></div></div><p class="_abstract _abstract">
			To enable communication between your Active Directory (AD) and Identity Management (IdM) environments, open the following ports on the firewalls of your AD Domain Controllers and IdM servers.
		</p><rh-table id="idm139750723403952"><table class="lt-4-cols lt-7-rows"><caption>Table 6.1. Ports required for an AD trust</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm139750723398224" scope="col">Service</th><th align="left" valign="top" id="idm139750723397136" scope="col">Port</th><th align="left" valign="top" id="idm139750723396048" scope="col">Protocol</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							Endpoint resolution portmapper
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							135
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							NetBIOS-DGM
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							138
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP and UDP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							NetBIOS-SSN
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							139
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP and UDP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							Microsoft-DS
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							445
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP and UDP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							Dynamic RPC
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							49152-65535
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							AD Global Catalog
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							3268
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750723398224"> <p>
							LDAP
						</p>
						 </td><td align="left" valign="top" headers="idm139750723397136"> <p>
							389
						</p>
						 </td><td align="left" valign="top" headers="idm139750723396048"> <p>
							TCP and UDP
						</p>
						 </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				The TCP port 389 is not required to be open on IdM servers for trust, but it is necessary for clients communicating with the IdM server.
			</p><p>
				The TCP port 135 is required for the DCE RPC end-point mapper to work and is used during the IdM-AD trust creation.
			</p></div></rh-alert><p>
			To open ports, you can use the following methods:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					<code class="literal">firewalld</code> service — you can enable the particular ports or enable the following services which includes the ports:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							FreeIPA trust setup
						</li><li class="listitem">
							FreeIPA with LDAP
						</li><li class="listitem">
							Kerberos
						</li><li class="listitem">
							DNS
						</li></ul></div><p class="simpara">
					For details, see the <code class="literal">firewall-cmd</code> man page on your system.
				</p></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				If you are using RHEL 8.2 and earlier, the <code class="literal">freeipa-trust</code> firewalld service includes an RPC port range of <code class="literal">1024-1300</code>, which is incorrect. On RHEL 8.2 and earlier, you must manually open the TCP port range <code class="literal">49152-65535</code> in addition to enabling the <code class="literal">freeipa-trust</code> firewalld service.
			</p><p>
				This issue has been fixed for RHEL 8.3 and later in <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1850418">Bug 1850418 - update freeipa-trust.xml definition to include correct dynamic RPC range</a>.
			</p></div></rh-alert><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					The RHEL web console, which is a UI with firewall settings based on the <code class="literal">firewalld</code> service.
				</p><p class="simpara">
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/34c4087fbf298dbd8c409b2c46ec6093/cockpit-trust-ports.png" alt="A screenshot of the RHEL web console displaying firewall settings in the Networking section. There is a list of &quot;Allowed Services&quot; listing several services and their associated TCP and UDP ports."></span>

				</p><p class="simpara">
					For details about firewall configuration through the web console, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/managing_firewall_using_the_web_console#enabling-services-on-firewall-using-the-web-console_managing-firewall-using-the-web-console">Enabling services on the firewall using the web console</a>
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						If you are using RHEL 8.2 and earlier, the <code class="literal">FreeIPA Trust Setup</code> service includes an RPC port range of <code class="literal">1024-1300</code>, which is incorrect. On RHEL 8.2 and earlier, you must manually open the TCP port range <code class="literal">49152-65535</code> in addition to enabling the <code class="literal">FreeIPA Trust Setup</code> service in the RHEL web console.
					</p><p>
						This issue has been fixed for RHEL 8.3 and later in <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1850418">Bug 1850418 - update freeipa-trust.xml definition to include correct dynamic RPC range</a>.
					</p></div></rh-alert></li></ul></div><rh-table id="idm139750727016976"><table class="lt-4-cols lt-7-rows"><caption>Table 6.2. Ports required by IdM servers in a trust</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm139750731128336" scope="col">Service</th><th align="left" valign="top" id="idm139750731127248" scope="col">Port</th><th align="left" valign="top" id="idm139750731126160" scope="col">Protocol</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139750731128336"> <p>
							Kerberos
						</p>
						 </td><td align="left" valign="top" headers="idm139750731127248"> <p>
							88, 464
						</p>
						 </td><td align="left" valign="top" headers="idm139750731126160"> <p>
							TCP and UDP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750731128336"> <p>
							LDAP
						</p>
						 </td><td align="left" valign="top" headers="idm139750731127248"> <p>
							389
						</p>
						 </td><td align="left" valign="top" headers="idm139750731126160"> <p>
							TCP
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm139750731128336"> <p>
							DNS
						</p>
						 </td><td align="left" valign="top" headers="idm139750731127248"> <p>
							53
						</p>
						 </td><td align="left" valign="top" headers="idm139750731126160"> <p>
							TCP and UDP
						</p>
						 </td></tr></tbody></table></rh-table><rh-table id="idm139750726786736"><table class="lt-4-cols lt-7-rows"><caption>Table 6.3. Ports required by IdM clients in an AD trust</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm139750731797904" scope="col">Service</th><th align="left" valign="top" id="idm139750731796816" scope="col">Port</th><th align="left" valign="top" id="idm139750731795728" scope="col">Protocol</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139750731797904"> <p>
							Kerberos
						</p>
						 </td><td align="left" valign="top" headers="idm139750731796816"> <p>
							88
						</p>
						 </td><td align="left" valign="top" headers="idm139750731795728"> <p>
							UDP and TCP
						</p>
						 </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				The <code class="literal">libkrb5</code> library uses UDP and falls back to the TCP protocol if the data sent from the Key Distribution Center (KDC) is too large. Active Directory attaches a Privilege Attribute Certificate (PAC) to the Kerberos ticket, which increases the size and requires to use the TCP protocol. To avoid the fall-back and resending the request, by default, SSSD in Red Hat Enterprise Linux 7.4 and later uses TCP for user authentication. If you want to configure the size before <code class="literal">libkrb5</code> uses TCP, set the <code class="literal">udp_preference_limit</code> in the <code class="literal">/etc/krb5.conf</code> file. For details, see the <code class="literal">krb5.conf(5)</code> man page on your system.
			</p></div></rh-alert><p>
			The following diagram shows communication sent by IdM clients, and received and responded to by IdM servers and AD Domain Controllers. To set the incoming and outgoing ports and protocols on your firewall, Red Hat recommends using the <code class="literal">firewalld</code> service, which already has definitions for FreeIPA services.
		</p><p>
			<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/fc93488580ceb829bd9e8bf2379ea978/231_RHEL_troubleshooting_cross-forest_0422_firewall.png" alt="diagram showing the ports and protocols that IdM clients use when communicating with IdM servers and AD Domain Controllers"></span>

		</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					For more information about the Dynamic RPC port range in Windows Server 2008 and later, see <a class="link" href="https://support.microsoft.com/en-us/help/929851/the-default-dynamic-port-range-for-tcp-ip-has-changed-in-windows-vista">The default dynamic port range for TCP/IP has changed since Windows Vista and in Windows Server 2008</a>.
				</li></ul></div></section><section class="chapter" id="configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Configuring DNS and realm settings for a trust</h2></div></div></div><p class="_abstract _abstract">
			Before you connect Identity Management (IdM) and Active Directory (AD) in a trust, you need to ensure that servers see each other and resolve domain names correctly. To configure DNS to allow using domain names between:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					One primary IdM server using integrated DNS server and Certification Authority.
				</li><li class="listitem">
					One AD Domain Controller.
				</li></ul></div><p>
			DNS settings require:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Configuring DNS zones in the IdM server
				</li><li class="listitem">
					Configuring conditional DNS forwarding in AD
				</li><li class="listitem">
					Verifying correctness of the DNS configuration
				</li></ul></div><section class="section" id="unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust"><div class="titlepage"><div><div><h3 class="title">7.1. Unique primary DNS domains</h3></div></div></div><p class="_abstract _abstract">
				In Windows, every domain is a Kerberos realm and a DNS domain at the same time. Every domain managed by the domain controller needs to have its own dedicated DNS zone. The same applies when Identity Management (IdM) is trusted by Active Directory (AD) as a forest. AD expects IdM to have its own DNS domain. For the trust setup to work, the DNS domain needs to be dedicated to the Linux environment.
			</p><p>
				Each system must have its own unique primary DNS domain configured. For example:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal"><span class="emphasis"><em>ad.example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code> for IdM
					</li><li class="listitem">
						<code class="literal"><span class="emphasis"><em>example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code> for IdM
					</li><li class="listitem">
						<code class="literal"><span class="emphasis"><em>ad.example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>example.com</em></span></code> for IdM
					</li></ul></div><p>
				The most convenient management solution is an environment where each DNS domain is managed by integrated DNS servers, but it is possible to use any other standard-compliant DNS server as well.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Kerberos realm names as upper-case versions of primary DNS domain names</span></dt><dd>
							Kerberos realm names must be the same as the primary DNS domain names, with all letters uppercase. For example, if the domain names are <code class="literal"><span class="emphasis"><em>ad.example.com</em></span></code> for AD and <code class="literal"><span class="emphasis"><em>idm.example.com</em></span></code> for IdM, the Kerberos realm names are required to be <code class="literal"><span class="emphasis"><em>AD.EXAMPLE.COM</em></span></code> and <code class="literal"><span class="emphasis"><em>IDM.EXAMPLE.COM</em></span></code>.
						</dd><dt><span class="term">DNS records resolvable from all DNS domains in the trust</span></dt><dd>
							All machines must be able to resolve DNS records from all DNS domains involved in the trust relationship.
						</dd><dt><span class="term">IdM and AD DNS Domains</span></dt><dd>
							Systems joined to IdM can be distributed over multiple DNS domains. Red Hat recommends that you deploy IdM clients in a DNS zone different to the ones owned by Active Directory. The primary IdM DNS domain must have proper SRV records to support AD trusts.
						</dd></dl></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					In some environments with trusts between IdM and Active Directory, you can install an IdM client on a host that is part of the Active Directory DNS domain. The host can then benefit from the Linux-focused features of IdM. This is not a recommended configuration and has some limitations. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad">Configuring IdM clients in an Active Directory DNS domain</a> for more details.
				</p></div></rh-alert><p>
				You can acquire a list of the required SRV records specific to your system setup by running the following command:
			</p><pre class="literallayout">$ ipa dns-update-system-records --dry-run</pre><p>
				The generated list can look for example like this:
			</p><pre class="literallayout">IPA DNS records:
  _kerberos-master._tcp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.
  _kerberos-master._udp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.
  _kerberos._tcp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.
  _kerberos._tcp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.
  _kerberos.idm.example.com. 86400 IN TXT "IDM.EXAMPLE.COM"
  _kpasswd._tcp.idm.example.com. 86400 IN SRV 0 100 464 server.idm.example.com.
  _kpasswd._udp.idm.example.com. 86400 IN SRV 0 100 464 server.idm.example.com.
  _ldap._tcp.idm.example.com. 86400 IN SRV 0 100 389 server.idm.example.com.
  _ipa-ca.idm.example.com. 86400 IN A 192.168.122.2</pre><p>
				For other DNS domains that are part of the same IdM realm, it is not required for the SRV records to be configured when the trust to AD is configured. The reason is that AD domain controllers do not use SRV records to discover KDCs but rather base the KDC discovery on name suffix routing information for the trust.
			</p></section><section class="section" id="configuring-dns-zones-in-idm_configuring-dns-and-realm-settings-for-a-trust"><div class="titlepage"><div><div><h3 class="title">7.2. Configuring a DNS forward zone in the IdM Web UI</h3></div></div></div><p class="_abstract _abstract">
				Follow this procedure to add a DNS forward zone to the Identity Management (IdM) server by using the IdM Web UI.
			</p><p>
				With DNS forward zones, you can forward DNS queries for a specific zone to a different DNS server. For example, you can forward DNS queries for the Active Directory (AD) domain to an AD DNS server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Access to the IdM Web UI with a user account that has administrator rights.
					</li><li class="listitem">
						Correctly configured DNS server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the IdM Web UI with administrator privileges. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/accessing-the-ipa-web-ui-in-a-web-browser_accessing-idm-services">Accessing the IdM Web UI in a web browser</a>.
					</li><li class="listitem">
						Click on the <span class="strong strong"><strong>Network Services</strong></span> tab.
					</li><li class="listitem">
						Click on the <span class="strong strong"><strong>DNS</strong></span> tab.
					</li><li class="listitem"><p class="simpara">
						In the drop down menu, click on the <span class="strong strong"><strong>DNS Forward Zones</strong></span> item.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/92f22456e7bb9b824c22e75b6e96f9f8/web_ui-dns-tab.png" alt="Screenshot of the IdM Web UI displaying the contents of the DNS drop-down submenu of the &quot;Network Services&quot; tab. The DNS drop-down menu has four options: DNS Zones - DNS Forward Zones - DNS Servers - DNS Global Configuration. &quot;DNS Forward Zones&quot; is highlighted."></span>

					</p></li><li class="listitem">
						Click on the <span class="strong strong"><strong>Add</strong></span> button.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Add DNS forward zone</strong></span> dialog box, add a zone name.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Zone forwarders</strong></span> item, click on the <span class="strong strong"><strong>Add</strong></span> button.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Zone forwarders</strong></span> field, add the IP address of the server for which you want to create the forward zone.
					</li><li class="listitem"><p class="simpara">
						Click on the <span class="strong strong"><strong>Add</strong></span> button.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/779d721ab8e9c5787db101f6db166118/web_ui-forward-zone-add.png" alt="Screenshot of the &quot;Add DNS forward zone&quot; pop-up window with text entry fields for &quot;Zone name&quot; - &quot;Reverse zone IP network&quot; - &quot;Zone forwarders.&quot; The &quot;Forward policy&quot; option has three radial buttons for &quot;forward first&quot; - &quot;forward only&quot; - &quot;forward disabled.&quot; There is a checkbox for &quot;Skip overlap check&quot; and there are four buttons at the bottom: &quot;Add&quot; - &quot;Add and Add Another&quot; - &quot;Add and Edit&quot; - &quot;Cancel.&quot;"></span>

					</p></li></ol></div><p>
				The forwarded zone has been added to the DNS settings and you can verify it in the DNS Forward Zones settings. The Web UI informs you about success with the following pop-up message: <span class="strong strong"><strong>DNS Forward Zone successfully added.</strong></span>
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					The Web UI might display a warning about a DNSSEC validation failure after adding a forward zone to the configuration.
				</p><p>
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/7aeddb7be29c61f4e720cbc3df02a676/web_ui-forward-zone-dnssec-valid.png" alt="Screenshot displaying a pop-up window that reads &quot;DNSSEC validation failed - record ad.example.com SOA failed DNSSEC validation on server 192.168.122.2. Please verify your DNSSEC configuration or disable DNSSEC validation on all IPA servers.&quot;"></span>

				</p><p>
					DNSSEC (Domain Name System Security Extensions) secures DNS data with a digital signature to protect DNS from attacks. This service is enabled by default in the IdM server. The warning appears because the remote DNS server does not use DNSSEC. Red Hat recommends that you enable DNSSEC on the remote DNS server.
				</p><p>
					If you cannot enable DNSSEC validation on the remote server, you can disable DNSSEC in the IdM server:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Choose the appropriate configuration file to edit:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If your IdM server is using RHEL 8.0 or RHEL 8.1, open the <code class="literal">/etc/named.conf</code> file.
								</li><li class="listitem">
									If your IdM server is using RHEL 8.2 or later, open the <code class="literal">/etc/named/ipa-options-ext.conf</code> file.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Add the following DNSSEC parameters:
						</p><pre class="literallayout">dnssec-enable no;
dnssec-validation no;</pre></li><li class="listitem">
							Save and close the configuration file.
						</li><li class="listitem"><p class="simpara">
							Restart the DNS service:
						</p><pre class="literallayout"># systemctl restart named-pkcs11</pre></li></ol></div></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the <code class="literal">nslookup</code> command with the name of the remote DNS server:
					</p><pre class="literallayout">$ nslookup ad.example.com
Server:        192.168.122.2
Address:       192.168.122.2#53

No-authoritative answer:
Name:          ad.example.com
Address:       192.168.122.3</pre><p class="simpara">
						If you configured the domain forwarding correctly, the IP address of the remote DNS server is displayed.
					</p></li></ul></div></section><section class="section" id="configuring-dns-zones-in-cli_configuring-dns-and-realm-settings-for-a-trust"><div class="titlepage"><div><div><h3 class="title">7.3. Configuring a DNS forward zone in the CLI</h3></div></div></div><p>
				Follow this procedure to add a new DNS forward zone to the Identity Management (IdM) server using the command line interface (CLI).
			</p><p>
				With DNS forward zones, you can forward DNS queries for a specific zone to a different DNS server. For example, you can forward DNS queries for the Active Directory (AD) domain to an AD DNS server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Access to the CLI with a user account that has administrator rights.
					</li><li class="listitem">
						Correctly configured DNS server.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Create a DNS forward zone for the AD domain, and specify the IP address of the remote DNS server with the <code class="literal">--forwarder</code> option:
					</p><pre class="literallayout"># ipa dnsforwardzone-add <span class="emphasis"><em>ad.example.com</em></span> --forwarder=<span class="emphasis"><em>192.168.122.3</em></span> --forward-policy=first</pre></li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					You might see a warning about a DNSSEC validation failure in the <code class="literal">/var/log/messages</code> system logs after adding a new forward zone to the configuration:
				</p><pre class="literallayout">named-pkcs11[2572]: no valid DS resolving 'host.ad.example.com/A/IN':  192.168.100.25#53</pre><p>
					DNSSEC (Domain Name System Security Extensions) secures DNS data with a digital signature to protect DNS from attacks. This service is enabled by default in the IdM server. The warning appears because the remote DNS server does not use DNSSEC. Red Hat recommends that you enable DNSSEC on the remote DNS server.
				</p><p>
					If you cannot enable DNSSEC validation on the remote server, you can disable DNSSEC in the IdM server:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open the <code class="literal">/etc/named/ipa-options-ext.conf</code> file.
						</li><li class="listitem"><p class="simpara">
							Add the following DNSSEC parameters:
						</p><pre class="literallayout">dnssec-enable no;
dnssec-validation no;</pre></li><li class="listitem">
							Save and close the configuration file.
						</li><li class="listitem"><p class="simpara">
							Restart the DNS service:
						</p><pre class="literallayout"># systemctl restart named-pkcs11</pre></li></ol></div></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the <code class="literal">nslookup</code> command with the name of the remote DNS server:
					</p><pre class="literallayout">$ nslookup ad.example.com
Server:        192.168.122.2
Address:       192.168.122.2#53

No-authoritative answer:
Name:          ad.example.com
Address:       192.168.122.3</pre><p class="simpara">
						If the domain forwarding is configured correctly, the <code class="literal">nslookup</code> request displays an IP address of the remote DNS server.
					</p></li></ul></div></section><section class="section" id="configuring-dns-forwarding-in-ad_configuring-dns-and-realm-settings-for-a-trust"><div class="titlepage"><div><div><h3 class="title">7.4. Configuring DNS forwarding in AD</h3></div></div></div><p class="_abstract _abstract">
				Follow this procedure to set up a DNS forwarding in Active Directory (AD) for the Identity Management (IdM) server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Windows Server with AD installed.
					</li><li class="listitem">
						DNS port open on both servers.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the Windows Server.
					</li><li class="listitem">
						Open <span class="strong strong"><strong>Server Manager</strong></span>.
					</li><li class="listitem">
						Open <span class="strong strong"><strong>DNS Manager</strong></span>.
					</li><li class="listitem"><p class="simpara">
						In <span class="strong strong"><strong>Conditional Forwarders</strong></span>, add a new conditional forwarder with:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The IdM server IP address
							</li><li class="listitem">
								A fully qualified domain name, for example, <code class="literal"><span class="emphasis"><em>server.idm.example.com</em></span></code>
							</li></ul></div></li><li class="listitem">
						Save the settings.
					</li></ol></div></section><section class="section" id="verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust"><div class="titlepage"><div><div><h3 class="title">7.5. Verifying the DNS configuration</h3></div></div></div><p class="_abstract _abstract">
				Before configuring trust, verify that the Identity Management (IdM) and Active Directory (AD) servers can resolve themselves and each other.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You need to be logged in with sudo permissions.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Run a DNS query for the Kerberos over UDP and LDAP over TCP service records.
					</p><pre class="literallayout">[admin@server ~]# dig +short -t SRV _kerberos._udp.idm.example.com.
0 100 88 server.idm.example.com.

[admin@server ~]# dig +short -t SRV _ldap._tcp.idm.example.com.
0 100 389 server.idm.example.com.</pre><p class="simpara">
						The commands are expected to list all IdM servers.
					</p></li><li class="listitem"><p class="simpara">
						Run a DNS query for the TXT record with the IdM Kerberos realm name. The obtained value is expected to match the Kerberos realm you specified when installing IdM.
					</p><pre class="literallayout">[admin@server ~]# dig +short -t TXT _kerberos.idm.example.com.
"IDM.EXAMPLE.COM"</pre><p class="simpara">
						If the previous steps did not return all the expected records, update the DNS configuration with the missing records:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If your IdM environment uses an integrated DNS server, enter the <code class="literal">ipa dns-update-system-records</code> command without any options to update your system records:
							</p><pre class="literallayout">[admin@server ~]$ ipa dns-update-system-records</pre></li><li class="listitem"><p class="simpara">
								If your IdM environment does not use an integrated DNS server:
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
										On the IdM server, export the IdM DNS records into a file:
									</p><pre class="literallayout">[admin@server ~]$ ipa dns-update-system-records --dry-run --out dns_records_file.nsupdate</pre><p class="simpara">
										The command creates a file named <span class="strong strong"><strong>dns_records_file.nsupdate</strong></span> with the relevant IdM DNS records.
									</p></li><li class="listitem">
										Submit a DNS update request to your DNS server using the <code class="literal">nsupdate</code> utility and the <span class="strong strong"><strong>dns_records_file.nsupdate</strong></span> file. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/linux_domain_identity_authentication_and_policy_guide/dns-updates-external#dns-update-external-nsupdate">Updating External DNS Records Using nsupdate</a> in RHEL 7 documentation. Alternatively, refer to your DNS server documentation for adding DNS records.
									</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Verify that IdM is able to resolve service records for AD with a command that runs a DNS query for Kerberos and LDAP over TCP service records:
					</p><pre class="literallayout">[admin@server ~]# dig +short -t SRV _kerberos._tcp.dc._msdcs.ad.example.com.
0 100 88 addc1.ad.example.com.

[admin@server ~]# dig +short -t SRV _ldap._tcp.dc._msdcs.ad.example.com.
0 100 389 addc1.ad.example.com.</pre></li></ol></div></section></section><section class="chapter" id="assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Configuring IdM clients in an Active Directory DNS domain</h2></div></div></div><p class="_abstract _abstract">
			If you have client systems in a DNS domain controlled by Active Directory and you require those clients to be able to join the IdM Server to benefit from its RHEL features, you can configure users to access a client using a host name from the Active Directory DNS domain.
		</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
				This is not a recommended configuration and has some limitations. Red Hat recommends to always deploy IdM clients in a DNS zone different from the ones owned by Active Directory and access IdM clients through their IdM host names.
			</p></div></rh-alert><p>
			Your IdM client configuration depends on whether you require single sign-on with Kerberos.
		</p><section class="section" id="proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain"><div class="titlepage"><div><div><h3 class="title">8.1. Configuring an IdM client without Kerberos single sign-on</h3></div></div></div><p class="_abstract _abstract">
				Password authentication is the only authentication method that is available for users to access resources on IdM clients if the IdM clients are in an Active Directory DNS domain. Follow this procedure to configure your client without Kerberos single sign-on.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the IdM client with the <code class="literal">--domain=IPA_DNS_Domain</code> option to ensure the System Security Services Daemon (SSSD) can communicate with the IdM servers:
					</p><pre class="literallayout">[root@idm-client.ad.example.com ~]# ipa-client-install --domain=idm.example.com</pre><p class="simpara">
						This option disables the SRV record auto-detection for the Active Directory DNS domain.
					</p></li><li class="listitem"><p class="simpara">
						Open the <code class="literal">/etc/krb5.conf</code> configuration file and locate the existing mapping for the Active Directory domain in the <code class="literal">[domain_realm]</code> section.
					</p><pre class="literallayout">.ad.example.com = IDM.EXAMPLE.COM
ad.example.com = IDM.EXAMPLE.COM</pre></li><li class="listitem"><p class="simpara">
						Replace both lines with an entry mapping the fully qualified domain name (FQDN) of the Linux clients in the Active Directory DNS zone to the IdM realm:
					</p><pre class="literallayout">idm-client.ad.example.com = IDM.EXAMPLE.COM</pre><p class="simpara">
						By replacing the default mapping, you prevent Kerberos from sending its requests for the Active Directory domain to the IdM Kerberos Distribution Center (KDC). Instead Kerberos uses auto-discovery through SRV DNS records to locate the KDC.
					</p></li></ol></div></section><section class="section" id="proc_handling-ssl-certificates-without-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain"><div class="titlepage"><div><div><h3 class="title">8.2. Requesting SSL certificates without single sign-on</h3></div></div></div><p class="_abstract _abstract">
				SSL-based services require a certificate with <code class="literal">dNSName</code> extension records that cover all system host names, because both original (A/AAAA) and CNAME records must be in the certificate. Currently, IdM only issues certificates to host objects in the IdM database.
			</p><p>
				In the described setup without single sign-on available, IdM already has a host object for the FQDN in the database, and <code class="literal">certmonger</code> can request a certificate using this name.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Installed and configured the IdM client by following the procedure in <a class="link" href="#proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" title="8.1. Configuring an IdM client without Kerberos single sign-on">Configuring an IdM client without Kerberos single sign-on</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use <code class="literal">certmonger</code> to request a certificate using the FQDN:
					</p><pre class="literallayout">[root@idm-client.ad.example.com ~]# ipa-getcert request -r \
      -f /etc/httpd/alias/server.crt \
      -k /etc/httpd/alias/server.key \
      -N CN=ipa-client.ad.example.com \
      -D ipa-client.ad.example.com \
      -K host/idm-client.ad.example.com@IDM.EXAMPLE.COM \
      -U id-kp-serverAuth</pre></li></ul></div><p>
				The <code class="literal">certmonger</code> service uses the default host key stored in the <code class="literal">/etc/krb5.keytab</code> file to authenticate to the IdM Certificate Authority (CA).
			</p></section><section class="section" id="proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain"><div class="titlepage"><div><div><h3 class="title">8.3. Configuring an IdM client with Kerberos single sign-on</h3></div></div></div><p class="_abstract _abstract">
				If you require Kerberos single sign-on to access resources on the IdM client, the client must be within the IdM DNS domain, for example <code class="literal">idm-client.idm.example.com</code>. You must create a CNAME record <code class="literal">idm-client.ad.example.com</code> in the Active Directory DNS domain pointing to the A/AAAA record of the IdM client.
			</p><p>
				For Kerberos-based application servers, MIT Kerberos supports a method to allow the acceptance of any host-based principal available in the application’s keytab.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						On the IdM client, disable the strict checks on what Kerberos principal is used to target the Kerberos server by setting the following option in the <code class="literal">[libdefaults]</code> section of the <code class="literal">/etc/krb5.conf</code> configuration file:
					</p><pre class="literallayout">ignore_acceptor_hostname = true</pre></li></ul></div></section><section class="section" id="proc_handling-ssl-certificates-with-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain"><div class="titlepage"><div><div><h3 class="title">8.4. Requesting SSL certificates with single sign-on</h3></div></div></div><p class="_abstract _abstract">
				SSL-based services require a certificate with <code class="literal">dNSName</code> extension records that cover all system host names, because both original (A/AAAA) and CNAME records must be in the certificate. Currently, IdM only issues certificates to host objects in the IdM database.
			</p><p>
				Follow this procedure to create a host object for <code class="literal">ipa-client.example.com</code> in IdM and make sure the real IdM machine’s host object is able to manage this host.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have disabled the strict checks on what Kerberos principal is used to target the Kerberos server as outlined in <a class="link" href="#proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain" title="8.3. Configuring an IdM client with Kerberos single sign-on">Configuring an IdM client with Kerberos single sign-on</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a new host object on the IdM server:
					</p><pre class="literallayout">[root@idm-server.idm.example.com ~]# ipa host-add idm-client.ad.example.com --force</pre><p class="simpara">
						Use the <code class="literal">--force</code> option, because the host name is a CNAME and not an A/AAAA record.
					</p></li><li class="listitem"><p class="simpara">
						On the IdM server, allow the IdM DNS host name to manage the Active Directory host entry in the IdM database:
					</p><pre class="literallayout">[root@idm-server.idm.example.com ~]# ipa host-add-managedby idm-client.ad.example.com \
      --hosts=idm-client.idm.example.com</pre></li><li class="listitem"><p class="simpara">
						Your can now request an SSL certificate for your IdM client with the <code class="literal">dNSName</code> extension record for its host name within the Active Directory DNS domain:
					</p><pre class="literallayout">[root@idm-client.idm.example.com ~]# ipa-getcert request -r \
      -f /etc/httpd/alias/server.crt \
      -k /etc/httpd/alias/server.key \
      -N CN=`hostname --fqdn` \
      -D `hostname --fqdn` \
      -D idm-client.ad.example.com \
      -K host/idm-client.idm.example.com@IDM.EXAMPLE.COM \
      -U id-kp-serverAuth</pre></li></ol></div></section></section><section class="chapter" id="setting-up-a-trust_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Setting up a trust</h2></div></div></div><p>
			This section describes how to configure the Identity Management (IdM)/Active Directory (AD) trust on the IdM side using the command line.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					DNS is correctly configured. Both IdM and AD servers must be able to resolve each other names. For details, see <a class="link" href="#unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust" title="7.1. Unique primary DNS domains">Configuring DNS and realm settings for a trust</a>.
				</li><li class="listitem">
					Supported versions of AD and IdM are deployed. For details, see <a class="link" href="#supported-versions-of-windows-server_installing-trust-between-idm-and-ad" title="Chapter 2. Supported versions of Windows Server">Supported versions of Windows Server</a>.
				</li><li class="listitem">
					You have obtained a Kerberos ticket. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/logging-in-to-ipa-from-the-command-line_accessing-idm-services#using-kinit-to-log-in-to-ipa_logging-in-to-ipa-from-the-command-line">Using kinit to log in to IdM manually</a>.
				</li></ul></div><section class="section" id="preparing-the-idm-server-for-the-trust_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.1. Preparing the IdM server for the trust</h3></div></div></div><p class="_abstract _abstract">
				Before you can establish a trust with AD, you must prepare the IdM domain using the <code class="literal">ipa-adtrust-install</code> utility on an IdM server.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Any system where you run the <code class="literal">ipa-adtrust-install</code> command automatically becomes an AD trust controller. However, you must run <code class="literal">ipa-adtrust-install</code> only once on an IdM server.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						IdM server is installed.
					</li><li class="listitem">
						You need root privileges to install packages and restart IdM services.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the required packages:
					</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>dnf install ipa-server-trust-ad samba-client</strong></span></pre></li><li class="listitem"><p class="simpara">
						Authenticate as the IdM administrative user:
					</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>kinit admin</strong></span></pre></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">ipa-adtrust-install</code> utility:
					</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>ipa-adtrust-install</strong></span></pre><p class="simpara">
						The DNS service records are created automatically if IdM was installed with an integrated DNS server.
					</p><p class="simpara">
						If you installed IdM without an integrated DNS server, <code class="literal">ipa-adtrust-install</code> prints a list of service records that you must manually add to DNS before you can continue.
					</p></li><li class="listitem"><p class="simpara">
						The script prompts you that the <code class="literal">/etc/samba/smb.conf</code> already exists and will be rewritten:
					</p><pre class="literallayout">WARNING: The smb.conf already exists. Running ipa-adtrust-install will break your existing Samba configuration.

Do you wish to continue? [no]: <code class="literal command">yes</code></pre></li><li class="listitem"><p class="simpara">
						The script prompts you to configure the <code class="literal">slapi-nis</code> plug-in, a compatibility plug-in that allows older Linux clients to work with trusted users:
					</p><pre class="literallayout">Do you want to enable support for trusted domains in Schema Compatibility plugin?
This will allow clients older than SSSD 1.9 and non-Linux clients to work with trusted users.

Enable trusted domains support in slapi-nis? [no]: <code class="literal command">yes</code></pre></li><li class="listitem"><p class="simpara">
						You are prompted to run the SID generation task to create a SID for any existing users:
					</p><pre class="literallayout">Do you want to run the ipa-sidgen task? [no]: <code class="literal command">yes</code></pre><p class="simpara">
						This is a resource-intensive task, so if you have a high number of users, you can run this at another time.
					</p></li><li class="listitem"><p class="simpara">
						Optional: By default, the Dynamic RPC port range is defined as <code class="literal">49152-65535</code> for Windows Server 2008 and later. If you need to define a different Dynamic RPC port range for your environment, configure Samba to use different ports and open those ports in your firewall settings. The following example sets the port range to <code class="literal">55000-65000</code>.
					</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>net conf setparm global 'rpc server dynamic port range' 55000-65000</strong></span>
[root@ipaserver ~]# <span class="strong strong"><strong>firewall-cmd --add-port=55000-65000/tcp</strong></span>
[root@ipaserver ~]# <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre></li><li class="listitem"><p class="simpara">
						Make sure that DNS is properly configured, as described in <a class="link" href="#verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust" title="7.5. Verifying the DNS configuration">Verifying the DNS configuration for a trust</a>.
					</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
							Red Hat strongly recommends you verify the DNS configuration as described in <a class="link" href="#verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust" title="7.5. Verifying the DNS configuration">Verifying the DNS configuration for a trust</a> every time after running <code class="literal">ipa-adtrust-install</code>, especially if IdM or AD do not use integrated DNS servers.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">ipa</code> service:
					</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>ipactl restart</strong></span></pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal systemitem">smbclient</code> utility to verify that Samba responds to Kerberos authentication from the IdM side:
					</p><pre class="literallayout">[root@ipaserver ~]# <code class="literal command">smbclient -L ipaserver.idm.example.com -U <span class="emphasis"><em>user_name</em></span> --use-kerberos=required</code>
lp_load_ex: changing to config backend registry
    Sharename       Type      Comment
    ---------       ----      -------
    IPC$            IPC       IPC Service (Samba 4.15.2)
...</pre></li></ol></div></section><section class="section" id="setting-up-a-trust-agreement-using-the-command-line_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.2. Setting up a trust agreement using the command line</h3></div></div></div><p class="_abstract _abstract">
				Follow this procedure to set up the trust agreement using the command line. The Identity Management (IdM) server allows you to configure three types of trust agreements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>One-way trust</strong></span> — default option. One-way trust enables Active Directory (AD) users and groups to access resources in IdM, but not the other way around. The IdM domain trusts the AD forest, but the AD forest does not trust the IdM domain.
					</li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Two-way trust</strong></span> — Two-way trust enables AD users and groups to access resources in IdM.
					</p><p class="simpara">
						You must configure a two-way trust for solutions such as Microsoft SQL Server that expect the <code class="literal">S4U2Self</code> and <code class="literal">S4U2Proxy</code> Microsoft extensions to the Kerberos protocol to work over a trust boundary. An application on a RHEL IdM host might request <code class="literal">S4U2Self</code> or <code class="literal">S4U2Proxy</code> information from an Active Directory domain controller about an AD user, and a two-way trust provides this feature.
					</p><p class="simpara">
						Note that this two-way trust functionality does not allow IdM users to login to Windows systems, and the two-way trust in IdM does not give the users any additional rights compared to the one-way trust solution in AD.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								To create the two-way trust, add the following option to the command: <code class="literal">--two-way=true</code>
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>External trust</strong></span> — a trust relationship between IdM and an AD domain in different forests. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, an external trust can be established from IdM to a domain within a forest. This is only recommended if it is not possible to establish a forest trust between forest root domains due to administrative or organizational reasons.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								To create the external trust, add the following option to the command: <code class="literal">--external=true</code>
							</li></ul></div></li></ul></div><p>
				The steps below show you how to create a one-way trust agreement.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						User name and password of a Windows administrator.
					</li><li class="listitem">
						You have <a class="link" href="#preparing-the-idm-server-for-the-trust_setting-up-a-trust" title="9.1. Preparing the IdM server for the trust">prepared the IdM server for the trust</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Create a trust agreement for the AD domain and the IdM domain by using the <code class="literal">ipa trust-add</code> command:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								To have SSSD automatically generate UIDs and GIDs for AD users based on their SID, create a trust agreement with the <code class="literal">Active Directory domain</code> ID range type. This is the most common configuration.
							</p><pre class="literallayout">[root@server ~]# ipa trust-add --type=ad <span class="emphasis"><em>ad.example.com</em></span> --admin <span class="emphasis"><em>&lt;ad_admin_username&gt;</em></span> --password <span class="strong strong"><strong>--range-type=ipa-ad-trust</strong></span></pre></li><li class="listitem"><p class="simpara">
								If you have configured POSIX attributes for your users in Active Directory (such as <code class="literal">uidNumber</code> and <code class="literal">gidNumber</code>) and you want SSSD to process this information, create a trust agreement with the <code class="literal">Active Directory domain with POSIX attributes</code> ID range type:
							</p><pre class="literallayout">[root@server ~]# ipa trust-add --type=ad <span class="emphasis"><em>ad.example.com</em></span> --admin <span class="emphasis"><em>&lt;ad_admin_username&gt;</em></span> --password <span class="strong strong"><strong>--range-type=ipa-ad-trust-posix</strong></span></pre></li></ul></div></li></ul></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					If you do not specify an ID Range type when creating a trust, IdM attempts to automatically select the appropriate range type by requesting details from AD domain controllers in the forest root domain. If IdM does not detect any POSIX attributes, the trust installation script selects the <code class="literal">Active Directory domain</code> ID range.
				</p><p>
					If IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the <code class="literal">Active Directory domain with POSIX attributes</code> ID range and assumes that UIDs and GIDs are correctly defined in AD. If POSIX attributes are not correctly set in AD, you will not be able to resolve AD users.
				</p><p>
					For example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.
				</p></div></rh-alert></section><section class="section" id="setting-up-the-trust-in-the-idm-web-ui_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.3. Setting up a trust agreement in the IdM Web UI</h3></div></div></div><p class="_abstract _abstract">
				Follow this procedure to configure the Identity Management (IdM)/Active Directory (AD) trust agreement on the IdM side using the IdM Web UI.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						DNS is correctly configured. Both IdM and AD servers must be able to resolve each other names.
					</li><li class="listitem">
						Supported versions of AD and IdM are deployed.
					</li><li class="listitem">
						You have obtained a Kerberos ticket.
					</li><li class="listitem">
						Before creating a trust in the Web UI, prepare the IdM server for the trust as described in: <a class="link" href="#preparing-the-idm-server-for-the-trust_setting-up-a-trust" title="9.1. Preparing the IdM server for the trust">Preparing the IdM server for the trust</a>.
					</li><li class="listitem">
						You need to be logged in as an IdM administrator.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log in to the IdM Web UI with administrator privileges. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/accessing-the-ipa-web-ui-in-a-web-browser_accessing-idm-services">Accessing the IdM Web UI in a web browser</a>.
					</li><li class="listitem">
						In the IdM Web UI, click the <span class="strong strong"><strong>IPA Server</strong></span> tab.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>IPA Server</strong></span> tab, click the <span class="strong strong"><strong>Trusts</strong></span> tab.
					</li><li class="listitem"><p class="simpara">
						In the drop down menu, select the <span class="strong strong"><strong>Trusts</strong></span> option.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/744b8c3059ecea9eaf7fedf6889d1f24/ipa-trust-trusts.png" alt="The Trusts section of the IdM WebUI displays a drop-down menu with two options"></span>

					</p></li><li class="listitem">
						Click the <span class="strong strong"><strong>Add</strong></span> button.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Add Trust</strong></span> dialog box, enter the name of the Active Directory domain.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Account</strong></span> and <span class="strong strong"><strong>Password</strong></span> fields, add the administrator credentials of the Active Directory administrator.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/e63d05ba5ceb64c8568c0cab1c339109/ipa-trust-add.png" alt="ipa trust add"></span>

					</p></li><li class="listitem">
						Optional: Select <span class="strong strong"><strong>Two-way trust</strong></span>, if you want to enable AD users and groups to access resources in IdM. However, the two-way trust in IdM does not give the users any additional rights compared to the one-way trust solution in AD. Both solutions are considered equally secure because of default cross-forest trust SID filtering settings.
					</li><li class="listitem">
						Optional: Select <span class="strong strong"><strong>External trust</strong></span> if you are configuring a trust with an AD domain that is not the root domain of an AD forest. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, you can establish an external trust from IdM to any domain within an AD forest.
					</li><li class="listitem"><p class="simpara">
						Optional: By default, the trust installation script tries to detect the appropriate ID range type. You can also explicitly set the ID range type by choosing one of the following options:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								To have SSSD automatically generate UIDs and GIDs for AD users based on their SID, select the <code class="literal">Active Directory domain</code> ID range type. This is the most common configuration.
							</li><li class="listitem"><p class="simpara">
								If you have configured POSIX attributes for your users in Active Directory (such as <code class="literal">uidNumber</code> and <code class="literal">gidNumber</code>) and you want SSSD to process this information, select the <code class="literal">Active Directory domain with POSIX attributes</code> ID range type.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/44e8016e8819fc6ff199fd23104dcca3/idm-trust-add-range-types.png" alt="The Range Type section of the IdM WebUI displays 3 radio buttons to choose the appropriate range type - Detect"></span>

							</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
									If you leave the <span class="strong strong"><strong>Range type</strong></span> setting on the default <code class="literal">Detect</code> option, IdM attempts to automatically select the appropriate range type by requesting details from AD domain controllers in the forest root domain. If IdM does not detect any POSIX attributes, the trust installation script selects the <code class="literal">Active Directory domain</code> ID range.
								</p><p>
									If IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the <code class="literal">Active Directory domain with POSIX attributes</code> ID range and assumes that UIDs and GIDs are correctly defined in AD. If POSIX attributes are not correctly set in AD, you will not be able to resolve AD users.
								</p><p>
									For example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.
								</p></div></rh-alert></li></ol></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Add</strong></span>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						If the trust has been successfully added to the IdM server, you can see the green pop-up window in the IdM Web UI. It means that the:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Domain name exists
							</li><li class="listitem"><p class="simpara">
								User name and password of the Windows Server has been added correctly.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/f9f7b4a2d2363e5d102c7ecde6c72b46/idm-trust-added.png" alt="The Trusts section of the IdM WebUI displays a list of the trusts added and 2 buttons"></span>

							</p></li></ul></div></li></ul></div><p>
				Now you can continue to test the trust connection and Kerberos authentication.
			</p></section><section class="section" id="proc_setting-up-a-trust-agreement-using-ansible_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.4. Setting up a trust agreement using Ansible</h3></div></div></div><p class="_abstract _abstract">
				Follow this procedure to set up a one-way trust agreement between Identity Management (IdM) and Active Directory (AD) by using an Ansible playbook. You can configure three types of trust agreements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>One-way trust</strong></span> — default option. One-way trust enables Active Directory (AD) users and groups to access resources in IdM, but not the other way around. The IdM domain trusts the AD forest, but the AD forest does not trust the IdM domain.
					</li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Two-way trust</strong></span> — Two-way trust enables AD users and groups to access resources in IdM.
					</p><p class="simpara">
						You must configure a two-way trust for solutions such as Microsoft SQL Server that expect the <code class="literal">S4U2Self</code> and <code class="literal">S4U2Proxy</code> Microsoft extensions to the Kerberos protocol to work over a trust boundary. An application on a RHEL IdM host might request <code class="literal">S4U2Self</code> or <code class="literal">S4U2Proxy</code> information from an Active Directory domain controller about an AD user, and a two-way trust provides this feature.
					</p><p class="simpara">
						Note that this two-way trust functionality does not allow IdM users to login to Windows systems, and the two-way trust in IdM does not give the users any additional rights compared to the one-way trust solution in AD.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								To create the two-way trust, add the following variable to the playbook task below: <code class="literal">two_way: true</code>
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>External trust</strong></span> — a trust relationship between IdM and an AD domain in different forests. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, an external trust can be established from IdM to a domain within a forest. This is only recommended if it is not possible to establish a forest trust between forest root domains due to administrative or organizational reasons.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								To create the external trust, add the following variable to the playbook task below: <code class="literal">external: true</code>
							</li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						User name and password of a Windows administrator.
					</li><li class="listitem">
						The IdM <code class="literal">admin</code> password.
					</li><li class="listitem">
						You have <a class="link" href="#preparing-the-idm-server-for-the-trust_setting-up-a-trust" title="9.1. Preparing the IdM server for the trust">prepared the IdM server for the trust</a>.
					</li><li class="listitem">
						You are using the 4.8.7 version of IdM or later. To view the version of IdM you have installed on your server, run <code class="literal">ipa --version</code>.
					</li><li class="listitem"><p class="simpara">
						You have configured your Ansible control node to meet the following requirements:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								You are using Ansible version 2.15 or later.
							</li><li class="listitem">
								You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
							</li><li class="listitem">
								The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
							</li><li class="listitem">
								The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
							</li></ul></div></li><li class="listitem">
						The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to your <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>cd ~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span></pre></li><li class="listitem"><p class="simpara">
						Select one of the following scenarios based on your use case:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To create an ID mapping trust agreement, in which SSSD automatically generates UIDs and GIDs for AD users and groups based on their SIDs, create an <code class="literal">add-trust.yml</code> playbook with the following content:
							</p><pre class="literallayout">---
- name: Playbook to create a trust
  hosts: ipaserver

  vars_files:
  - /home/user_name/MyPlaybooks/secret.yml
  tasks:
    - name: ensure the trust is present
      ipatrust:
        ipaadmin_password: "{{ ipaadmin_password }}"
        realm: ad.example.com
        admin: Administrator
        password: secret_password
        range_type: ipa-ad-trust
        state: present</pre><p class="simpara">
								In the example:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">realm</code> defines the AD realm name string.
									</li><li class="listitem">
										<code class="literal">admin</code> defines the AD domain administrator string.
									</li><li class="listitem">
										<code class="literal">password</code> defines the AD domain administrator’s password string.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								To create a POSIX trust agreement, in which SSSD processes POSIX attributes stored in AD, such as <code class="literal">uidNumber</code> and <code class="literal">gidNumber</code>, create an <code class="literal">add-trust.yml</code> playbook with the following content:
							</p><pre class="literallayout">---
- name: Playbook to create a trust
  hosts: ipaserver

  vars_files:
  - /home/user_name/MyPlaybooks/secret.yml
  tasks:
    - name: ensure the trust is present
      ipatrust:
        ipaadmin_password: "{{ ipaadmin_password }}"
        realm: ad.example.com
        admin: Administrator
        password: secret_password
        range_type: ipa-ad-trust-posix
        state: present</pre></li><li class="listitem"><p class="simpara">
								To create a trust agreement in which IdM attempts to automatically select the appropriate range type, <code class="literal">ipa-ad-trust</code> or <code class="literal">ipa-ad-trust-posix</code>, by requesting details from AD domain controllers in the forest root domain, create an <code class="literal">add-trust.yml</code> playbook with the following content:
							</p><pre class="literallayout">---
- name: Playbook to create a trust
  hosts: ipaserver

  vars_files:
  - /home/user_name/MyPlaybooks/secret.yml
  tasks:
    - name: ensure the trust is present
      ipatrust:
        ipaadmin_password: "{{ ipaadmin_password }}"
        realm: ad.example.com
        admin: Administrator
        password: secret_password
        state: present</pre></li></ul></div><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
							If you do not specify an ID range type when creating a trust, and if IdM does not detect any POSIX attributes in the AD forest root domain, the trust installation script selects the <code class="literal">Active Directory domain</code> ID range.
						</p><p>
							If IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the <code class="literal">Active Directory domain with POSIX attributes</code> ID range and assumes that UIDs and GIDs are correctly defined in AD.
						</p><p>
							However, if POSIX attributes are not correctly set in AD, you will not be able to resolve AD users. For example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.
						</p></div></rh-alert></li><li class="listitem">
						Save the file.
					</li><li class="listitem"><p class="simpara">
						Run the Ansible playbook. Specify the playbook file, the file storing the password protecting the <span class="strong strong"><strong>secret.yml</strong></span> file, and the inventory file:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --vault-password-file=password_file -v -i inventory add-trust.yml</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						/usr/share/doc/ansible-freeipa/README-trust.md
					</li><li class="listitem">
						/usr/share/doc/ansible-freeipa/playbooks/trust
					</li></ul></div></section><section class="section" id="verifying-the-kerberos-configuration_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.5. Verifying the Kerberos configuration</h3></div></div></div><p class="_abstract _abstract">
				To verify the Kerberos configuration, test if it is possible to obtain a ticket for an Identity Management (IdM) user and if the IdM user can request service tickets.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Request a ticket for an Active Directory (AD) user:
					</p><pre class="screen">[root@ipaserver ~]# kinit user@AD.EXAMPLE.COM</pre></li><li class="listitem"><p class="simpara">
						Request service tickets for a service within the IdM domain:
					</p><pre class="screen">[root@server ~]# kvno -S host server.idm.example.com</pre><p class="simpara">
						If the AD service ticket is successfully granted, there is a cross-realm ticket-granting ticket (TGT) listed with all of the other requested tickets. The TGT is named krbtgt/IPA.DOMAIN@AD.DOMAIN.
					</p></li></ol></div><pre class="screen">[root@server ]# klist
Ticket cache: KEYRING:persistent:0:krb_ccache_hRtox00
Default principal: user@AD.EXAMPLE.COM

Valid starting       Expires              Service principal
03.05.2016 18:31:06  04.05.2016 04:31:01  host/server.idm.example.com@IDM.EXAMPLE.COM
	renew until 04.05.2016 18:31:00
03.05.2016 18:31:06 04.05.2016 04:31:01 krbtgt/IDM.EXAMPLE.COM@AD.EXAMPLE.COM
	renew until 04.05.2016 18:31:00
03.05.2016 18:31:01  04.05.2016 04:31:01  krbtgt/AD.EXAMPLE.COM@AD.EXAMPLE.COM
	renew until 04.05.2016 18:31:00</pre><p>
				The <code class="literal">localauth</code> plug-in maps Kerberos principals to local System Security Services Daemon (SSSD) user names. This allows AD users to use Kerberos authentication and access Linux services, which support GSSAPI authentication directly.
			</p></section><section class="section" id="verifying-the-trust-configuration-on-idm_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.6. Verifying the trust configuration on IdM</h3></div></div></div><p class="_abstract _abstract">
				Before configuring trust, verify that the Identity Management (IdM) and Active Directory (AD) servers can resolve themselves and each other.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You need to be logged in with administrator privileges.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Run a DNS query for the MS DC Kerberos over UDP and LDAP over TCP service records.
					</p><pre class="literallayout">[root@server ~]# dig +short -t SRV _kerberos._udp.dc._msdcs.idm.example.com.
0 100 88 server.idm.example.com.

[root@server ~]# dig +short -t SRV _ldap._tcp.dc._msdcs.idm.example.com.
0 100 389 server.idm.example.com.</pre><p class="simpara">
						These commands list all IdM servers on which <code class="literal">ipa-adtrust-install</code> has been executed. The output is empty if <code class="literal">ipa-adtrust-install</code> has not been executed on any IdM server, which is typically before establishing the first trust relationship.
					</p></li><li class="listitem"><p class="simpara">
						Run a DNS query for the Kerberos and LDAP over TCP service records to verify that IdM is able to resolve service records for AD:
					</p><pre class="literallayout">[root@server ~]# dig +short -t SRV _kerberos._tcp.dc._msdcs.ad.example.com.
0 100 88 addc1.ad.example.com.

[root@ipaserver ~]# dig +short -t SRV _ldap._tcp.dc._msdcs.ad.example.com.
0 100 389 addc1.ad.example.com.</pre></li></ol></div><p>
				.
			</p></section><section class="section" id="verifying-the-trust-configuration-on-ad_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.7. Verifying the trust configuration on AD</h3></div></div></div><p class="_abstract _abstract">
				After configuring the trust, verify that:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The Identity Management (IdM)-hosted services are resolvable from the Active Directory (AD) server.
					</li><li class="listitem">
						AD services are resolvable from the AD server.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You need to be logged in with administrator privileges.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On the AD server, set the <code class="literal">nslookup.exe</code> utility to look up service records.
					</p><pre class="literallayout">C:\&gt;nslookup.exe
&gt; set type=SRV</pre></li><li class="listitem"><p class="simpara">
						Enter the domain name for the Kerberos over UDP and LDAP over TCP service records.
					</p><pre class="literallayout">&gt; _kerberos._udp.idm.example.com.
_kerberos._udp.idm.example.com.       SRV service location:
    priority                = 0
    weight                  = 100
    port                    = 88
    svr hostname   = server.idm.example.com
&gt; _ldap._tcp.idm.example.com
_ldap._tcp.idm.example.com       SRV service location:
    priority                = 0
    weight                  = 100
    port                    = 389
    svr hostname   = server.idm.example.com</pre></li><li class="listitem"><p class="simpara">
						Change the service type to TXT and run a DNS query for the TXT record with the IdM Kerberos realm name.
					</p><pre class="literallayout">C:\&gt;nslookup.exe
&gt; set type=TXT
&gt; _kerberos.idm.example.com.
_kerberos.idm.example.com.        text =

    "IDM.EXAMPLE.COM"</pre></li><li class="listitem"><p class="simpara">
						Run a DNS query for the MS DC Kerberos over UDP and LDAP over TCP service records.
					</p><pre class="literallayout">C:\&gt;nslookup.exe
&gt; set type=SRV
&gt; _kerberos._udp.dc._msdcs.idm.example.com.
_kerberos._udp.dc._msdcs.idm.example.com.        SRV service location:
    priority = 0
    weight = 100
    port = 88
    svr hostname = server.idm.example.com
&gt; _ldap._tcp.dc._msdcs.idm.example.com.
_ldap._tcp.dc._msdcs.idm.example.com.        SRV service location:
    priority = 0
    weight = 100
    port = 389
    svr hostname = server.idm.example.com</pre><p class="simpara">
						Active Directory only expects to discover domain controllers that can respond to AD-specific protocol requests, such as other AD domain controllers and IdM trust controllers. Use the <code class="literal">ipa-adtrust-install</code> tool to promote an IdM server to a trust controller, and you can verify which servers are trust controllers with the <code class="literal">ipa server-role-find --role 'AD trust controller'</code> command.
					</p></li><li class="listitem"><p class="simpara">
						Verify that AD services are resolvable from the AD server.
					</p><pre class="literallayout">C:\&gt;nslookup.exe
&gt; set type=SRV</pre></li><li class="listitem"><p class="simpara">
						Enter the domain name for the Kerberos over UDP and LDAP over TCP service records.
					</p><pre class="literallayout">&gt; _kerberos._udp.dc._msdcs.ad.example.com.
_kerberos._udp.dc._msdcs.ad.example.com. 	SRV service location:
    priority = 0
    weight = 100
    port = 88
    svr hostname = addc1.ad.example.com
&gt; _ldap._tcp.dc._msdcs.ad.example.com.
_ldap._tcp.dc._msdcs.ad.example.com. 	SRV service location:
    priority = 0
    weight = 100
    port = 389
    svr hostname = addc1.ad.example.com</pre></li></ol></div></section><section class="section" id="proc_creating-a-trust-agent_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.8. Creating a trust agent</h3></div></div></div><p class="_abstract _abstract">
				A trust agent is an IdM server that can perform identity lookups against AD domain controllers.
			</p><p>
				For example, if you are creating a replica of an IdM server that has a trust with Active Directory, you can set up the replica as a trust agent. A replica does not automatically have the AD trust agent role installed.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						IdM is installed with an Active Directory trust.
					</li><li class="listitem">
						The <code class="literal">sssd-tools</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On an existing trust controller, run the <code class="literal">ipa-adtrust-install --add-agents</code> command:
					</p><pre class="literallayout">[root@existing_trust_controller]# ipa-adtrust-install --add-agents</pre><p class="simpara">
						The command starts an interactive configuration session and prompts you for the information required to set up the agent.
					</p></li><li class="listitem"><p class="simpara">
						Restart the IdM service on the trust agent.
					</p><pre class="literallayout">[root@new_trust_agent]# ipactl restart</pre></li><li class="listitem"><p class="simpara">
						Remove all entries from the SSSD cache on the trust agent:
					</p><pre class="literallayout">[root@new_trust_agent]# sssctl cache-remove</pre></li><li class="listitem"><p class="simpara">
						Verify that the replica has the AD trust agent role installed:.
					</p><pre class="literallayout">[root@existing_trust_controller]# ipa server-show new_replica.idm.example.com
...
Enabled server roles: CA server, NTP server, AD trust agent</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						For further information about the <code class="literal">--add-agents</code> option, see the <code class="literal">ipa-adtrust-install(1)</code> man page on your system.
					</li><li class="listitem">
						For more information about trust agents, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad">Trust controllers and trust agents</a> in the Planning Identity Management guide.
					</li></ul></div></section><section class="section" id="proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.9. Enabling automatic private group mapping for a POSIX ID range on the CLI</h3></div></div></div><p class="_abstract _abstract">
				By default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.
			</p><p>
				This procedure explains how to enable automatic private group mapping for an ID range by setting the <code class="literal">hybrid</code> option for the <code class="literal">auto_private_groups</code> SSSD parameter on the command line. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have successfully established a POSIX cross-forest trust between your IdM and AD environments.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Display all ID ranges and make note of the AD ID range you want to modify.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa idrange-find</strong></span>
----------------
2 ranges matched
----------------
  Range name: IDM.EXAMPLE.COM_id_range
  First Posix ID of the range: 882200000
  Number of IDs in the range: 200000
  Range type: local domain range

  Range name: <span class="strong strong"><strong>AD.EXAMPLE.COM_id_range</strong></span>
  First Posix ID of the range: 1337000000
  Number of IDs in the range: 200000
  Domain SID of the trusted domain: S-1-5-21-4123312420-990666102-3578675309
  Range type: <span class="strong strong"><strong>Active Directory trust range with POSIX attributes</strong></span>
----------------------------
Number of entries returned 2
----------------------------</pre></li><li class="listitem"><p class="simpara">
						Adjust the automatic private group behavior for the AD ID range with the <code class="literal">ipa idrange-mod</code> command.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa idrange-mod --auto-private-groups=hybrid AD.EXAMPLE.COM_id_range</strong></span></pre></li><li class="listitem"><p class="simpara">
						Reset the SSSD cache to enable the new setting.
					</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>sss_cache -E</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad">Options for automatically mapping private groups for AD users</a>
					</li></ul></div></section><section class="section" id="proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_setting-up-a-trust"><div class="titlepage"><div><div><h3 class="title">9.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI</h3></div></div></div><p class="_abstract _abstract">
				By default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.
			</p><p>
				This procedure explains how to enable automatic private group mapping for an ID range by setting the <code class="literal">hybrid</code> option for the <code class="literal">auto_private_groups</code> SSSD parameter in the Identity Management (IdM) WebUI. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have successfully established a POSIX cross-forest trust between your IdM and AD environments.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Log into the IdM Web UI with your user name and password.
					</li><li class="listitem">
						Open the <span class="strong strong"><strong>IPA Server</strong></span> → <span class="strong strong"><strong>ID Ranges</strong></span> tab.
					</li><li class="listitem">
						Select the ID range you want to modify, such as <code class="literal">AD.EXAMPLE.COM_id_range</code>.
					</li><li class="listitem"><p class="simpara">
						From the <span class="strong strong"><strong>Auto private groups</strong></span> drop down menu, select the <code class="literal">hybrid</code> option.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/fb0d66e73e24d78850fb965591e815a7/idm-auto-private-group-posix.png" alt="Screenshot of the ID Ranges tab of the IPA Server section of the IdM WebUI. A user selects the hybrid option from the Auth private groups dropdown menu."></span>

					</p></li><li class="listitem">
						Click the <span class="strong strong"><strong>Save</strong></span> button to save your changes.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad">Options for automatically mapping private groups for AD users</a>
					</li></ul></div></section></section><section class="chapter" id="assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 10. Troubleshooting setting up a cross-forest trust</h2></div></div></div><p class="_abstract _abstract">
			Learn more about troubleshooting the process of configuring a cross-forest trust between your Identity Management (IdM) environment and an Active Directory (AD) forest.
		</p><section class="section" id="ref_sequence-of-events-when-establishing-a-cross-forest-trust-with-ad_assembly_troubleshooting-setting-up-a-cross-forest-trust"><div class="titlepage"><div><div><h3 class="title">10.1. Sequence of events when establishing a cross-forest trust with AD</h3></div></div></div><p>
				When you use the <code class="literal">ipa trust-add</code> command to establish a cross-forest trust with an Active Directory (AD) Domain Controller (DC), the command operates on behalf of the user who ran the command and performs the following actions on the IdM server. If you have trouble establishing a cross-forest trust, you can use this list to help narrow down and troubleshoot your issue.
			</p><div class="orderedlist"><p class="title"><strong>Part 1: The command verifies settings and inputs</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Verify that the IdM server has the <span class="strong strong"><strong>Trust Controller</strong></span> role.
					</li><li class="listitem">
						Validate the options passed to the <code class="literal">ipa trust-add</code> command.
					</li><li class="listitem">
						Validate the ID range associated with a trusted forest root domain. If you did not specify the ID range type and properties as options to the <code class="literal">ipa trust-add</code> command, they are discovered from Active Directory.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Part 2: The command attempts to establish a trust to an Active Directory domain</strong></p><ol class="orderedlist" start="4" type="1"><li class="listitem">
						Create a separate trust object for each trust direction. Each of the objects get created on both sides (IdM and AD). If you are establishing a one-way trust, only one object is created on each side.
					</li><li class="listitem"><p class="simpara">
						The IdM server uses the Samba suite to handle domain controller capabilities for Active Directory and creates a trust object on the target AD PDC:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								The IdM server establishes a secure connection to the <code class="literal">IPC$</code> share on the target DC. Since RHEL 8.4, the connection requires at least the SMB3 protocol with Windows Server 2012 and above to ensure the connection is sufficiently secure with AES-based encryption used for the session.
							</li><li class="listitem">
								The IdM server queries for the presence of the trusted domain object (TDO) using an <code class="literal">LSA QueryTrustedDomainInfoByName</code> call.
							</li><li class="listitem"><p class="simpara">
								If the TDO is already present, remove it with an <code class="literal">LSA DeleteTrustedDomain</code> call.
							</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
									This call fails if the AD user account used to establish the trust does not have full <span class="strong strong"><strong>Enterprise Admin (EA)</strong></span> or <span class="strong strong"><strong>Domain Admin (DA)</strong></span> privileges for the forest root, such as members of the <span class="strong strong"><strong>Incoming Forest Trust Builders</strong></span> group. If the old TDO is not automatically removed, an AD Administrator must manually remove it from AD.
								</p></div></rh-alert></li><li class="listitem">
								The IdM server creates a new TDO with an <code class="literal">LSA CreateTrustedDomainEx2</code> call. The TDO credentials are randomly generated using a Samba-provided password generator with 128 random characters.
							</li><li class="listitem"><p class="simpara">
								The new TDO is then modified with an <code class="literal">LSA SetInformationTrustedDomain</code> call to make sure encryption types supported by the trust are set properly:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										The <code class="literal">RC4_HMAC_MD5</code> encryption type is enabled, even if there are no RC4 keys in use, due to how Active Directory is designed.
									</li><li class="listitem"><p class="simpara">
										<code class="literal">AES128_CTS_HMAC_SHA1_96</code> and <code class="literal">AES256_CTS_HMAC_SHA1_96</code> encryption types are enabled.
									</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
											By default, RHEL 9 does not allow SHA-1 encryption, which is an algorithm that AD requires. Make sure you have enabled the <code class="literal">AD-SUPPORT</code> system-wide cryptographic subpolicy to allow SHA-1 encryption in your RHEL 9 IdM servers for communication with AD Domain Controllers. See &lt;link TBA&gt;.
										</p></div></rh-alert></li></ol></div></li></ol></div></li><li class="listitem">
						For a forest trust, verify that in-forest domains can be reached transitively with an <code class="literal">LSA SetInformationTrustedDomain</code> call.
					</li><li class="listitem"><p class="simpara">
						Add trust topology information about the other forest (IdM in the case of communicating with AD, AD in the case of communicating with IdM) using an <code class="literal">LSA RSetForestTrustInformation</code> call.
					</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
							This step might cause a conflict for one of three reasons:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									A SID namespace conflict, reported as an <code class="literal">LSA_SID_DISABLED_CONFLICT</code> error. This conflict cannot be resolved.
								</li><li class="listitem">
									A NetBIOS namespace conflict, reported as an <code class="literal">LSA_NB_DISABLED_CONFLICT</code> error. This conflict cannot be resolved.
								</li><li class="listitem">
									A DNS namespace conflict with a top level name (TLN), reported as an <code class="literal">LSA_TLN_DISABLED_CONFLICT</code> error. The IdM server can automatically resolve a TLN conflict if it is caused by another forest.
								</li></ol></div><p>
							To resolve a TLN conflict, the IdM server performs the following steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Retrieve forest trust information for the conflicting forest.
								</li><li class="listitem">
									Add an exclusion entry for the IdM DNS namespace to the AD forest.
								</li><li class="listitem">
									Set forest trust information for the forest we conflict on.
								</li><li class="listitem">
									Re-try establishing the trust to the original forest.
								</li></ol></div><p>
							The IdM server can only resolve these conflicts if you authenticated the <code class="literal">ipa trust-add</code> command with the privileges of an AD administrator that can change forest trusts. If you do not have access to those privileges, the administrator of the original forest must manually perform the steps above in the <span class="strong strong"><strong>Active Directory Domains and Trusts</strong></span> section of the Windows UI.
						</p></div></rh-alert></li><li class="listitem">
						If it does not exist, create the ID range for the trusted domain.
					</li><li class="listitem">
						For a forest trust, query Active Directory domain controllers from the forest root for details about the forest topology. The IdM server uses this information to create additional ID ranges for any additional domains from the trusted forest.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad">Trust controllers and trust agents</a>
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/4a1806f9-2979-491d-af3c-f82ed0a4c1ba">Overview Documents</a> (Microsoft)
					</li><li class="listitem">
						<a class="link" href="https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/e36c976a-6263-42a8-b119-7a3cc41ddd2a">Technical Documents</a> (Microsoft)
					</li><li class="listitem">
						<a class="link" href="https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/plan/security-best-practices/appendix-b--privileged-accounts-and-groups-in-active-directory">Privileged Accounts and Groups in Active Directory</a> (Microsoft)
					</li></ul></div></section><section class="section" id="ref_checklist-of-prerequisites-for-establishing-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust"><div class="titlepage"><div><div><h3 class="title">10.2. Checklist of prerequisites for establishing an AD trust</h3></div></div></div><p>
				You can use the following checklist to review the prerequisites for creating a trust with an AD domain.
			</p><rh-table id="idm139750725963760"><table class="lt-4-cols lt-7-rows"><caption>Table 10.1. Table</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--><col style="width: 33%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm139750725958000" scope="col">Component</th><th align="left" valign="top" id="idm139750725956912" scope="col">Configuration</th><th align="left" valign="top" id="idm139750725955824" scope="col">Additional details</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								Product versions
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								Your Active Directory domain is using a supported version of Windows Server.
							</p>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#supported-versions-of-windows-server_installing-trust-between-idm-and-ad">Supported versions of Windows Server</a>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								AD Administrator privileges
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								The Active Directory administration account must be a member of one of the following groups:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<span class="strong strong"><strong>Enterprise Admin (EA)</strong></span> group in the AD forest
									</li><li class="listitem">
										<span class="strong strong"><strong>Domain Admins (DA)</strong></span> group in the forest root domain for your AD forest
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm139750725955824"> </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								Networking
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								IPv6 support is enabled in the Linux kernel for all IdM servers.
							</p>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#system-requirements-in-ipa_preparing-the-system-for-ipa-server-installation">IPv6 requirements in IdM</a>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								Date and time
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								Verify the date and time settings on both servers match.
							</p>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#assembly_time-service-requirements-for-idm_preparing-the-system-for-ipa-server-installation">Time service requirements for IdM</a>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								Encryption types
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								The following AD accounts have AES encryption keys:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										AD Administrator
									</li><li class="listitem">
										AD user accounts
									</li><li class="listitem">
										AD services
									</li></ul></div>
							 <p>
								If you have recently enabled AES encryption in AD, generate new AES keys with the following steps:
							</p>
							 <div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										Re-establish trust relationships between any AD domains in your forest.
									</li><li class="listitem">
										Change the passwords for the AD Administrator, user accounts, and services.
									</li></ol></div>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#system-requirements-in-ipa_preparing-the-system-for-ipa-server-installation">Support for encryption types in IdM</a>
									</li><li class="listitem">
										<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel">Enabling the AES encryption type in Active Directory using a GPO</a>
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								Firewall
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								You have opened all necessary ports on IdM servers and AD Domain Controllers for bidirectional communication.
							</p>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad">Ports required for communication between IdM and AD</a>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								DNS
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										IdM and AD each have unique primary DNS domains.
									</li><li class="listitem">
										IdM and AD DNS domains do not overlap.
									</li><li class="listitem">
										Proper DNS service (SRV) records for LDAP and Kerberos services.
									</li><li class="listitem">
										You can resolve DNS records from all DNS domains in the trust.
									</li><li class="listitem">
										Kerberos realm names are the upper-case versions of primary DNS domain names. For example, DNS domain <code class="literal">example.com</code> has a corresponding Kerberos realm <code class="literal">EXAMPLE.COM</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad">Configuring DNS and realm settings for a trust</a>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139750725958000"> <p>
								Topology
							</p>
							 </td><td align="left" valign="top" headers="idm139750725956912"> <p>
								Ensure you are attempting to establish a trust with an IdM server you have configured as a trust controller.
							</p>
							 </td><td align="left" valign="top" headers="idm139750725955824"> <p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad">Trust controllers and trust agents</a>
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="proc_gathering-debug-logs-of-an-attempt-to-establish-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust"><div class="titlepage"><div><div><h3 class="title">10.3. Gathering debug logs of an attempt to establish an AD trust</h3></div></div></div><p>
				If you are experiencing issues with establishing a trust between an IdM environment and AD domain, use the following steps to enable detailed error logging so you can gather logs of an attempt to establish a trust. You can review these logs to help with your troubleshooting efforts, or you can provide them in a Red Hat Technical Support case.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You need root permissions to restart IdM services.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To enable debugging for the IdM server, create the file <code class="literal">/etc/ipa/server.conf</code> with the following contents.
					</p><pre class="literallayout">[global]
debug=True</pre></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">httpd</code> service to load the debugging configuration.
					</p><pre class="literallayout">[root@trust_controller ~]# systemctl restart httpd</pre></li><li class="listitem"><p class="simpara">
						Stop the <code class="literal">smb</code> and <code class="literal">winbind</code> services.
					</p><pre class="literallayout">[root@trust_controller ~]# systemctl stop smb winbind</pre></li><li class="listitem"><p class="simpara">
						Set the debugging log level for the <code class="literal">smb</code> and <code class="literal">winbind</code> services.
					</p><pre class="literallayout">[root@trust_controller ~]# net conf setparm global 'log level' 100</pre></li><li class="listitem"><p class="simpara">
						To enable debug logging for Samba client code used by the IdM framework, edit the <code class="literal">/usr/share/ipa/smb.conf.empty</code> configuration file to have the following contents.
					</p><pre class="literallayout">    [global]
    log level = 100</pre></li><li class="listitem"><p class="simpara">
						Remove previous Samba logs.
					</p><pre class="literallayout">[root@trust_controller ~]# rm /var/log/samba/log.*</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal">smb</code> and <code class="literal">winbind</code> services.
					</p><pre class="literallayout">[root@trust_controller ~]# systemctl start smb winbind</pre></li><li class="listitem"><p class="simpara">
						Print a timestamp as you attempt to establish a trust with verbose mode enabled.
					</p><pre class="literallayout">[root@trust_controller ~]# date; ipa -vvv trust-add --type=ad ad.example.com</pre></li><li class="listitem"><p class="simpara">
						Review the following error log files for information about the failed request:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								<code class="literal">/var/log/httpd/error_log</code>
							</li><li class="listitem">
								<code class="literal">/var/log/samba/log.*</code>
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Disable debugging.
					</p><pre class="literallayout">[root@trust_controller ~]# mv /etc/ipa/server.conf /etc/ipa/server.conf.backup
[root@trust_controller ~]# systemctl restart httpd
[root@trust_controller ~]# systemctl stop smb winbind
[root@trust_controller ~]# net conf setparm global 'log level' 0
[root@trust_controller ~]# mv /usr/share/ipa/smb.conf.empty /usr/share/ipa/smb.conf.empty.backup
[root@trust_controller ~]# systemctl start smb winbind</pre></li><li class="listitem"><p class="simpara">
						Optional: If you are unable to determine the cause of the authentication issue:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Collect and archive the log files you recently generated.
							</p><pre class="literallayout">[root@trust_controller ~]# tar -cvf debugging-trust.tar /var/log/httpd/error_log /var/log/samba/log.*</pre></li><li class="listitem">
								Open a Red Hat Technical Support case and provide the timestamp and debug logs from the attempt.
							</li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/2772181">IPA - AD Trust Troubleshooting</a>
					</li></ul></div></section></section><section class="chapter" id="assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Troubleshooting client access to services in the other forest</h2></div></div></div><p class="_abstract _abstract">
			After configuring a trust between your Identity Management (IdM) and Active Directory (AD) environments, you might experience issues where a client in one domain is not able to access a service in the other domain. Use the following diagrams to troubleshoot the issue.
		</p><section class="section" id="ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest"><div class="titlepage"><div><div><h3 class="title">11.1. Flow of information when a host in the AD forest root domain requests services from an IdM server</h3></div></div></div><p class="_abstract _abstract">
				The following diagram explains the flow of information when an Active Directory (AD) client requests a service in the Identity Management (IdM) domain.
			</p><p>
				If you have trouble accessing IdM services from AD clients, you can use this information to narrow your troubleshooting efforts and identify the source of the issue.
			</p><p>
				<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/05f59c413b56ffe42919a40e0d97baaf/231_RHEL_troubleshooting_cross-forest_0422_AD-request.png" alt="diagram showing how an AD client communicates with an AD Domain Controller and an IdM server"></span>

			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						The AD client contacts the AD Kerberos Distribution Center (KDC) to perform a TGS Request for the service in the IdM domain.
					</li><li class="listitem">
						The AD KDC recognizes that the service belongs to the trusted IdM domain.
					</li><li class="listitem">
						The AD KDC sends the client a cross-realm ticket-granting ticket (TGT), along with a referral to the trusted IdM KDC.
					</li><li class="listitem">
						The AD client uses the cross-realm TGT to request a ticket to the IdM KDC.
					</li><li class="listitem">
						The IdM KDC validates the Privileged Attribute Certificate (MS-PAC) that is transmitted with the cross-realm TGT.
					</li><li class="listitem">
						The IPA-KDB plugin might check the LDAP directory to see if foreign principals are allowed to get tickets for the requested service.
					</li><li class="listitem">
						The IPA-KDB plugin decodes the MS-PAC, verifies, and filters the data. It performs lookups in the LDAP server to check if it needs to augment the MS-PAC with additional information, such as local groups.
					</li><li class="listitem">
						The IPA-KDB plugin then encodes the PAC, signs it, attaches it to the service ticket, and sends it to the AD client.
					</li><li class="listitem">
						The AD client can now contact the IdM service using the service ticket issued by IdM KDC.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" title="11.2. Flow of information when a host in an AD child domain requests services from an IdM server">Flow of information when a host in an AD child domain requests services from an IdM server</a>
					</li></ul></div></section><section class="section" id="ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest"><div class="titlepage"><div><div><h3 class="title">11.2. Flow of information when a host in an AD child domain requests services from an IdM server</h3></div></div></div><p class="_abstract _abstract">
				The following diagram explains the flow of information when an Active Directory (AD) host in a child domain requests a service in the Identity Management (IdM) domain. In this scenario, the AD client contacts the Kerberos Distribution Center (KDC) in the child domain, then contacts the KDC in the AD forest root, and finally contacts the IdM KDC to request access to the IdM service.
			</p><p>
				If you have trouble accessing IdM services from AD clients, and your AD client belongs to a domain that is a child domain of an AD forest root, you can use this information to narrow your troubleshooting efforts and identify the source of the issue.
			</p><p>
				<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/12a1b17ff8d91d060b1a6fecabb31c50/231_RHEL_troubleshooting_cross-forest_0422_AD-child.png" alt="diagram showing how an AD client in a chile domain communicates with multiple layers of AD Domain Controllers and an IdM server"></span>

			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						The AD client contacts the AD Kerberos Distribution Center (KDC) in its own domain to perform a TGS Request for the service in the IdM domain.
					</li><li class="listitem">
						The AD KDC in <code class="literal">child.ad.example.com</code>, the child domain, recognizes that the service belongs to the trusted IdM domain.
					</li><li class="listitem">
						The AD KDC in the child domain sends the client a referral ticket for the AD forest root domain <code class="literal">ad.example.com</code>.
					</li><li class="listitem">
						The AD client contacts the KDC in the AD forest root domain for the service in the IdM domain.
					</li><li class="listitem">
						The KDC in the forest root domain recognizes that the service belongs to the trusted IdM domain.
					</li><li class="listitem">
						The AD KDC sends the client a cross-realm ticket-granting ticket (TGT), along with a referral to the trusted IdM KDC.
					</li><li class="listitem">
						The AD client uses the cross-realm TGT to request a ticket to the IdM KDC.
					</li><li class="listitem">
						The IdM KDC validates the Privileged Attribute Certificate (MS-PAC) that is transmitted with the cross-realm TGT.
					</li><li class="listitem">
						The IPA-KDB plugin might check the LDAP directory to see if foreign principals are allowed to get tickets for the requested service.
					</li><li class="listitem">
						The IPA-KDB plugin decodes the MS-PAC, verifies, and filters the data. It performs lookups in the LDAP server to check if it needs to augment the MS-PAC with additional information, such as local groups.
					</li><li class="listitem">
						The IPA-KDB plugin then encodes the PAC, signs it, attaches it to the service ticket, and sends it to the AD client.
					</li><li class="listitem">
						The AD client can now contact the IdM service using the service ticket issued by IdM KDC.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="#ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest" title="11.1. Flow of information when a host in the AD forest root domain requests services from an IdM server">Flow of information when a host in the AD forest root domain requests services from an IdM server</a>
					</li></ul></div></section><section class="section" id="ref_flow-of-information-when-an-idm-client-requests-services-from-an-ad-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest"><div class="titlepage"><div><div><h3 class="title">11.3. Flow of information when an IdM client requests services from an AD server</h3></div></div></div><p class="_abstract _abstract">
				The following diagram explains the flow of information when an Identity Management (IdM) client requests a service in the Active Directory (AD) domain when you have configured a two-way trust between IdM and AD.
			</p><p>
				If you have trouble accessing AD services from IdM clients, you can use this information to narrow your troubleshooting efforts and identify the source of the issue.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					By default, IdM establishes a one-way trust to AD, which means it is not possible to issue cross-realm ticket-granting ticket (TGT) for resources in an AD forest. To be able to request tickets to services from trusted AD domains, configure a two-way trust.
				</p></div></rh-alert><p>
				<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/3e76f5da066145829664932c065cb412/231_RHEL_troubleshooting_cross-forest_0422_IdM-request.png" alt="diagram showing how an IdM client communicates with an IdM server and an AD Domain Controller"></span>

			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						The IdM client requests a ticket-granting ticket (TGT) from the IdM Kerberos Distribution Center (KDC) for the AD service it wants to contact.
					</li><li class="listitem">
						The IdM KDC recognizes that the service belongs to the AD realm, verifies that the realm is known and trusted, and that the client is allowed to request services from that realm.
					</li><li class="listitem">
						Using information from the IdM Directory Server about the user principal, the IdM KDC creates a cross-realm TGT with a Privileged Attribute Certificate (MS-PAC) record about the user principal.
					</li><li class="listitem">
						The IdM KDC sends back a cross-realm TGT to the IdM client.
					</li><li class="listitem">
						The IdM client contacts the AD KDC to request a ticket for the AD service, presenting the cross-realm TGT that contains the MS-PAC provided by the IdM KDC.
					</li><li class="listitem">
						The AD server validates and filters the PAC, and returns a ticket for the AD service.
					</li><li class="listitem">
						The IPA client can now contact the AD service.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad">One-way trusts and two-way trusts</a>
					</li></ul></div></section></section><section class="chapter" id="proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 12. Removing the trust using the command line</h2></div></div></div><p class="_abstract _abstract">
			Follow this procedure to remove the Identity Management (IdM)/Active Directory (AD) trust on the IdM side using the command line interface.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have obtained a Kerberos ticket as an IdM administrator. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/logging-in-to-ipa-in-the-web-ui-using-a-kerberos-ticket_accessing-idm-services">Logging in to IdM in the Web UI: Using a Kerberos ticket</a>.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Use the <code class="literal">ipa trust-del</code> command to remove the trust configuration from IdM.
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa trust-del <span class="emphasis"><em>ad_domain_name</em></span></strong></span>
------------------------------
Deleted trust "<span class="emphasis"><em>ad_domain_name</em></span>"
------------------------------</pre></li><li class="listitem">
					Remove the trust object from your Active Directory configuration.
				</li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				Removing the trust configuration does not automatically remove the ID range IdM has created for AD users. This way, if you add the trust again, the existing ID range is re-used. Also, if AD users have created files on an IdM client, their POSIX IDs are preserved in the file metadata.
			</p><p>
				To remove all information related to an AD trust, remove the AD user ID range after removing the trust configuration and trust object:
			</p><pre class="literallayout"># ipa idrange-del <span class="emphasis"><em>AD.EXAMPLE.COM_id_range</em></span>
# systemctl restart sssd</pre></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Use the <code class="literal">ipa trust-show</code> command to confirm that the trust has been removed.
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa trust-show <span class="emphasis"><em>ad.example.com</em></span></strong></span>
ipa: ERROR: ad.example.com: trust not found</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					<a class="link" href="#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad" title="Chapter 15. Removing an ID range after removing a trust to AD">Removing an ID range after removing a trust to AD</a>
				</li></ul></div></section><section class="chapter" id="removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 13. Removing the trust using the IdM Web UI</h2></div></div></div><p class="_abstract _abstract">
			Follow this procedure to remove the Identity Management (IdM)/Active Directory (AD) trust using the IdM Web UI.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have obtained a Kerberos ticket. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/logging-in-to-ipa-in-the-web-ui-using-a-kerberos-ticket_accessing-idm-services">Logging in to IdM in the Web UI: Using a Kerberos ticket</a>.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the IdM Web UI with administrator privileges. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/accessing-the-ipa-web-ui-in-a-web-browser_accessing-idm-services">Accessing the IdM Web UI in a web browser</a>.
				</li><li class="listitem">
					In the IdM Web UI, click the <span class="strong strong"><strong>IPA Server</strong></span> tab.
				</li><li class="listitem">
					In the <span class="strong strong"><strong>IPA Server</strong></span> tab, click the <span class="strong strong"><strong>Trusts</strong></span> tab.
				</li><li class="listitem"><p class="simpara">
					Select the trust you want to remove.
				</p><p class="simpara">
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/5f064d1bc1955a3b4283c932a928719a/idm-trust-remove.png" alt="A screenshot of the IdM Web UI displaying the &quot;Trusts&quot; page which is a subpage of the &quot;IPA Server&quot; tab. This page has a table listing &quot;Realm names&quot; and checkbox next to the first entry of &quot;AD.EXAMPLE.COM&quot; is checked."></span>

				</p></li><li class="listitem">
					Click the <span class="strong strong"><strong>Delete</strong></span> button.
				</li><li class="listitem"><p class="simpara">
					In the <span class="strong strong"><strong>Remove trusts</strong></span> dialog box, click <span class="strong strong"><strong>Delete</strong></span>.
				</p><p class="simpara">
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/d8899ed36abda925b088631b2eed622d/idm-trust-delete.png" alt="A screenshot of a pop-up window titled &quot;Remove trusts.&quot; The content of the warning is &quot;Are you sure you want to delete selected entries?&quot; and lists &quot;AD.EXAMPLE.COM&quot; below. There are &quot;Delete&quot; and &quot;Cancel&quot; buttons at the bottom right."></span>

				</p></li><li class="listitem">
					Remove the trust object from your Active Directory configuration.
				</li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				Removing the trust configuration does not automatically remove the ID range IdM has created for AD users. This way, if you add the trust again, the existing ID range is re-used. Also, if AD users have created files on an IdM client, their POSIX IDs are preserved in the file metadata.
			</p><p>
				To remove all information related to an AD trust, remove the AD user ID range in the <code class="literal">ID Ranges</code> tab after removing the trust configuration and trust object.
			</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					If the trust has been successfully deleted, the Web UI displays a green pop-up with the text:
				</p><p class="simpara">
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/2ae2c50919b965eeb526e4fa384ead14/idm-trust-deleted.png" alt="A screenshot of the IdM Web UI displaying the &quot;Trusts&quot; page with a pop-up window at the top that says &quot;1 item(s) deleted.&quot; The table on the &quot;Trusts&quot; page does not have any entries."></span>

				</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					<a class="link" href="#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad" title="Chapter 15. Removing an ID range after removing a trust to AD">Removing an ID range after removing a trust to AD</a>
				</li></ul></div></section><section class="chapter" id="proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 14. Removing the trust using Ansible</h2></div></div></div><p class="_abstract _abstract">
			Follow this procedure to remove the Identity Management (IdM)/Active Directory (AD) trust on the IdM side by using an Ansible playbook.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have obtained a Kerberos ticket as an IdM administrator. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_identity_management/logging-in-to-ipa-in-the-web-ui-using-a-kerberos-ticket_configuring-and-managing-idm">Logging in to IdM in the Web UI: Using a Kerberos ticket</a>.
				</li><li class="listitem"><p class="simpara">
					You have configured your Ansible control node to meet the following requirements:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							You are using Ansible version 2.15 or later.
						</li><li class="listitem">
							You have installed the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible"><code class="literal">ansible-freeipa</code></a> package on the Ansible controller.
						</li><li class="listitem">
							The example assumes that in the <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory, you have created an <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management">Ansible inventory file</a> with the fully-qualified domain name (FQDN) of the IdM server.
						</li><li class="listitem">
							The example assumes that the <span class="strong strong"><strong>secret.yml</strong></span> Ansible vault stores your <code class="literal">ipaadmin_password</code>.
						</li></ul></div></li><li class="listitem">
					The target node, that is the node on which the <code class="literal">ansible-freeipa</code> module is executed, is part of the IdM domain as an IdM client, server or replica.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Navigate to your <span class="strong strong"><strong>~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span> directory:
				</p><pre class="literallayout">$ <span class="strong strong"><strong>cd ~/<span class="emphasis"><em>MyPlaybooks</em></span>/</strong></span></pre></li><li class="listitem"><p class="simpara">
					Create an <code class="literal">del-trust.yml</code> playbook with the following content:
				</p><pre class="literallayout">---
- name: Playbook to delete trust
  hosts: ipaserver

  vars_files:
  - /home/user_name/MyPlaybooks/secret.yml
  tasks:
    - name: ensure the trust is absent
      ipatrust:
        ipaadmin_password: "{{ ipaadmin_password }}"
        realm: ad.example.com
        state: absent</pre><p class="simpara">
					In the example, <code class="literal">realm</code> defines the AD realm name string.
				</p></li><li class="listitem">
					Save the file.
				</li><li class="listitem"><p class="simpara">
					Run the Ansible playbook. Specify the playbook file, the file storing the password protecting the <span class="strong strong"><strong>secret.yml</strong></span> file, and the inventory file:
				</p><pre class="literallayout">$ <span class="strong strong"><strong>ansible-playbook --vault-password-file=password_file -v -i inventory del-trust.yml</strong></span></pre></li></ol></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
				Removing the trust configuration does not automatically remove the ID range IdM has created for AD users. This way, if you add the trust again, the existing ID range is re-used. Also, if AD users have created files on an IdM client, their POSIX IDs are preserved in the file metadata.
			</p><p>
				To remove all information related to an AD trust, remove the AD user ID range after removing the trust configuration and trust object:
			</p><pre class="literallayout"># ipa idrange-del <span class="emphasis"><em>AD.EXAMPLE.COM_id_range</em></span>
# systemctl restart sssd</pre></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Use the <code class="literal">ipa trust-show</code> command to confirm that the trust has been removed.
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa trust-show <span class="emphasis"><em>ad.example.com</em></span></strong></span>
ipa: ERROR: ad.example.com: trust not found</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					/usr/share/doc/ansible-freeipa/README-trust.md
				</li><li class="listitem">
					/usr/share/doc/ansible-freeipa/playbooks/trust
				</li><li class="listitem">
					<a class="link" href="#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad" title="Chapter 15. Removing an ID range after removing a trust to AD">Removing an ID range after removing a trust to AD</a>
				</li></ul></div></section><section class="chapter" id="proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad"><div class="titlepage"><div><div><h2 class="title">Chapter 15. Removing an ID range after removing a trust to AD</h2></div></div></div><p class="_abstract _abstract">
			If you have removed a trust between your IdM and Active Directory (AD) environments, you might want to remove the ID range associated with it.
		</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
				IDs allocated to ID ranges associated with trusted domains might still be used for ownership of files and directories on systems enrolled into IdM.
			</p><p>
				If you remove the ID range that corresponds to an AD trust that you have removed, you will not be able to resolve the ownership of any files and directories owned by AD users.
			</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have removed a trust to an AD environment.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Display all the ID ranges that are currently in use:
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa idrange-find</strong></span></pre></li><li class="listitem">
					Identify the name of the ID range associated with the trust you have removed. The first part of the name of the ID range is the name of the trust, for example <code class="literal">AD.EXAMPLE.COM_id_range</code>.
				</li><li class="listitem"><p class="simpara">
					Remove the range:
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>ipa idrange-del <span class="emphasis"><em>AD.EXAMPLE.COM_id_range</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
					Restart the SSSD service to remove references to the ID range you have removed.
				</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>systemctl restart sssd</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad">Removing the trust using the command line</a>.
				</li><li class="listitem">
					See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad">Removing the trust using the IdM Web UI</a>.
				</li></ul></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm139750721543712"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":386,"once":390,"_errors":391,"serverRendered":15,"path":393},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":10,"Pn02PlJOas":314,"rFVLKcOK8e":385},[5,6,7,8,9],"fr-fr","en-us","zh-cn","ko-kr","ja-jp",{"name":11,"html":12,"type":-1,"toc":13,"breadcrumbs":230,"error":18,"title":238,"productName":232,"productVersions":247,"pagination":276,"redirect":295,"canonicalLinks":296,"openShiftProducts":298,"tocFromVolume":-1,"jumpLinks":313},"Installing trust between IdM and AD","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm139750721544720\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">Managing a cross-forest trust between an IdM and AD domain\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm139750721543712\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tBoth Red Hat Identity Management (IdM) and Active Directory (AD) manage a variety of core services, such as Kerberos, LDAP, DNS, and certificate services. A trust relationship transparently integrates these two environments by enabling all core services to interact seamlessly. For example, a trust enables AD users to authenticate to services in the IdM topology.\n\t\t\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\t\tPreparing the trust requires the use of common encryption types in IdM and AD, opening ports in the firewall, and to configure DNS and Kerberos realm settings. If the trust is no longer required, you can remove it.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Prerequisites for establishing a trust\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThis documentation aims to help you create a trust between your Identity Management IdM server and Active Directory (AD), where both servers are located in the same forest.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tFirst, read the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management\">Planning a cross-forest trust between Identity Management and Active Directory\u003C/a> document.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tAD is installed with a domain controller on it.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tThe IdM server is installed and running.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management\">Installing Identity Management\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tBoth the AD server and the IdM server must have their clocks in sync because Kerberos requires max 5 mins delay in communication.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tUnique NetBIOS names for each of the servers placed in the trust because the NetBIOS names are critical for identifying the Active Directory domain.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tThe NetBIOS name of an Active Directory or IdM domain is usually the first part of the corresponding DNS domain. If the DNS domain is \u003Ccode class=\"literal\">ad.example.com\u003C/code>, the NetBIOS name is typically \u003Ccode class=\"literal\">AD\u003C/code>. However, it is not required. Important is that the NetBIOS name is just one word without periods. The maximum length of a NetBIOS name is 15 characters.\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tThe IdM system must have the IPv6 protocol enabled in the kernel.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tIf IPv6 is disabled, then the CLDAP plug-in used by the IdM services fails to initialize.\n\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">NOTE\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\tIn RHEL 7, \u003Cspan class=\"emphasis\">\u003Cem>synchronization\u003C/em>\u003C/span> and \u003Cspan class=\"emphasis\">\u003Cem>trust\u003C/em>\u003C/span> were two possible approaches to indirect integration of RHEL systems to Active Directory (AD). In RHEL 8, synchronization is deprecated and in RHEL 9, it is not available any more. To integrate IdM and AD, use the trust approach instead. To migrate from synchronization to trust in RHEL 8, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/migrating_to_identity_management_on_rhel_8/index#migrating-an-existing-environment-from-synchronization-to-trust-in-the-context-of-integrating-a-linux-domain-with-an-active-directory-domain\">Migrating an existing environment from synchronization to trust in the context of integrating a Linux domain with an Active Directory domain\u003C/a>.\n\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"supported-versions-of-windows-server_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Supported versions of Windows Server\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tYou can establish a trust relationship with Active Directory (AD) forests that use the following forest and domain functional levels:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tForest functional level range: Windows Server 2012 — Windows Server 2016\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tDomain functional level range: Windows Server 2012 — Windows Server 2016\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tIdentity Management (IdM) supports establishing a trust with Active Directory domain controllers running the following operating systems:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tWindows Server 2022 (RHEL 9.1 and later)\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tWindows Server 2019\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tWindows Server 2016\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tWindows Server 2012 R2\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tWindows Server 2012\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIdentity Management (IdM) does not support establishing trust to Active Directory with Active Directory domain controllers running Windows Server 2008 R2 or earlier versions. RHEL IdM requires SMB encryption when establishing the trust relationship, which is only supported in Windows Server 2012 or later.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"chapter\" id=\"how-the-trust-works_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 3. How the trust works\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tThe trust between Identity Management IdM and Active Directory (AD) is established on the Cross-realm Kerberos trust. This solution uses the Kerberos capability to establish trusts between different identity sources. Therefore, all AD users can:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to access Linux systems and resources.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tUse single sign-on (SSO).\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tAll IdM objects are managed in IdM in the trust.\n\t\t\u003C/p>\u003Cp>\n\t\t\tAll AD objects are managed in AD in the trust.\n\t\t\u003C/p>\u003Cp>\n\t\t\tIn complex environments, a single IdM forest can be connected to multiple AD forests. This setup enables better separation of duties for different functions in the organization. AD administrators can focus on users and policies related to users while Linux administrators have full control over the Linux infrastructure. In such a case, the Linux realm controlled by IdM is analogous to an AD resource domain or realm but with Linux systems in it.\n\t\t\u003C/p>\u003Cp>\n\t\t\tFrom the perspective of AD, Identity Management represents a separate AD forest with a single AD domain. When cross-forest trust between an AD forest root domain and an IdM domain is established, users from the AD forest domains can interact with Linux machines and services from the IdM domain.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIn trust environments, IdM enables you to use ID views to configure POSIX attributes for AD users on the IdM server.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"chapter\" id=\"ad-administration-rights_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 4. AD administration rights\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWhen you want to build a trust between AD (Active Directory) and IdM (Identity Management), you will need to use an AD administrator account with appropriate AD privileges.\n\t\t\u003C/p>\u003Cp>\n\t\t\tSuch an AD administrator must be a member of one of the following groups:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tEnterprise Admin group in the AD forest\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tDomain Admins group in the forest root domain for your AD forest\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tFor details about Enterprise Admins, see \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/active-directory-security-groups#bkmk-entadmins\">Enterprise Admins\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tFor details about Domain Admins, see \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/active-directory-security-groups#bkmk-domainadmins\">Domain Admins\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tFor details about AD trust, see \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2003/cc773178(v=ws.10)\">How Domain and Forest Trusts Work\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 5. Ensuring support for common encryption types in AD and RHEL\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tBy default, Identity Management establishes a cross-realm trust with support for RC4, AES-128, and AES-256 Kerberos encryption types. Additionally, by default SSSD and Samba Winbind support RC4, AES-128, and AES-256 Kerberos encryption types.\n\t\t\u003C/p>\u003Cp>\n\t\t\tRC4 encryption has been deprecated and disabled by default, as it is considered less secure than the newer AES-128 and AES-256 encryption types. In contrast, Active Directory (AD) user credentials and trusts between AD domains support RC4 encryption and they might not support all AES encryption types.\n\t\t\u003C/p>\u003Cp>\n\t\t\tWithout any common encryption types, communication between RHEL hosts and AD domains might not work, or some AD accounts might not be able to authenticate. To address this situation, perform one of the configurations outlined in the following sections.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIf IdM is in FIPS mode, the IdM-AD integration does not work due to AD only supporting the use of RC4 or AES HMAC-SHA1 encryptions, while RHEL 9 in FIPS mode allows only AES HMAC-SHA2 by default. For more information, see the \u003Ca class=\"link\" href=\"https://access.redhat.com/solutions/7003853\">AD Domain Users unable to login in to the FIPS-compliant environment\u003C/a> KCS solution.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIdM does not support the more restrictive \u003Ccode class=\"literal\">FIPS:OSPP\u003C/code> crypto policy, which should only be used on Common Criteria evaluated systems.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tEstablishing a two-way cross-forest trust between AD and Identity Management IdM with FIPS mode enabled fails because the New Technology LAN Manager Security Support Provider (NTLMSSP) authentication is not FIPS-compliant. IdM in FIPS mode does not accept the RC4 NTLM hash that the AD domain controller uses when attempting to authenticate.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.1. Enabling AES encryption in AD (recommended)\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo ensure trusts between Active Directory (AD) domains in an AD forest support strong AES encryption types, see the following Microsoft article: \u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/troubleshoot/windows-server/windows-security/unsupported-etype-error-accessing-trusted-domain\">AD DS: Security: Kerberos \"Unsupported etype\" error when accessing a resource in a trusted domain\u003C/a>\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.2. Enabling the AES encryption type in Active Directory using a GPO\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis section describes how to enable the AES encryption type in Active Directory (AD) using a group policy object (GPO). Certain features on RHEL, such as running a Samba server on an IdM client, require this encryption type.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tNote that RHEL no longer supports the weak DES and RC4 encryption types.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are logged into AD as a user who can edit group policies.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal application\">Group Policy Management Console\u003C/code> is installed on the computer.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal application\">Group Policy Management Console\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRight-click \u003Ccode class=\"literal gui\">Default Domain Policy\u003C/code>, and select \u003Ccode class=\"literal gui\">Edit\u003C/code>. The \u003Ccode class=\"literal application\">Group Policy Management Editor\u003C/code> opens.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tNavigate to \u003Ccode class=\"literal gui\">Computer Configuration\u003C/code> → \u003Ccode class=\"literal gui\">Policies\u003C/code> → \u003Ccode class=\"literal gui\">Windows Settings\u003C/code> → \u003Ccode class=\"literal gui\">Security Settings\u003C/code> → \u003Ccode class=\"literal gui\">Local Policies\u003C/code> → \u003Ccode class=\"literal gui\">Security Options\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDouble-click the \u003Ccode class=\"literal gui\">Network security: Configure encryption types allowed for Kerberos\u003C/code> policy.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect \u003Ccode class=\"literal gui\">AES256_HMAC_SHA1\u003C/code> and, optionally, \u003Ccode class=\"literal gui\">Future encryption types\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"guibutton\">OK\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClose the \u003Ccode class=\"literal application\">Group Policy Management Editor\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRepeat the steps for the \u003Ccode class=\"literal gui\">Default Domain Controller Policy\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWait until the Windows domain controllers (DC) applied the group policy automatically. Alternatively, to apply the GPO manually on a DC, enter the following command using an account that has administrator permissions:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">C:\\&gt; \u003Cspan class=\"strong strong\">\u003Cstrong>gpupdate /force /target:computer\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.3. Enabling RC4 support in RHEL\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tOn every RHEL host where authentication against AD Domain Controllers takes place, complete the steps outlined below.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">update-crypto-policies\u003C/code> command to enable the \u003Ccode class=\"literal\">AD-SUPPORT-LEGACY\u003C/code> cryptographic subpolicy in addition to the \u003Ccode class=\"literal\">DEFAULT\u003C/code> cryptographic policy.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@host ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>update-crypto-policies --set LEGACY:AD-SUPPORT-LEGACY\u003C/strong>\u003C/span>\nSetting system policy to LEGACY:AD-SUPPORT-LEGACY\nNote: System-wide crypto policies are applied on application start-up.\nIt is recommended to restart the system for the change of policies\nto fully take place.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tRestart the host.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">5.4. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening\">Using system-wide cryptographic policies\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\">Trust controllers and trust agents\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 6. Ports required for communication between IdM and AD\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tTo enable communication between your Active Directory (AD) and Identity Management (IdM) environments, open the following ports on the firewalls of your AD Domain Controllers and IdM servers.\n\t\t\u003C/p>\u003Crh-table id=\"idm139750723403952\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 6.1. Ports required for an AD trust\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750723398224\" scope=\"col\">Service\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750723397136\" scope=\"col\">Port\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750723396048\" scope=\"col\">Protocol\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tEndpoint resolution portmapper\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t135\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tNetBIOS-DGM\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t138\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP and UDP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tNetBIOS-SSN\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t139\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP and UDP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tMicrosoft-DS\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t445\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP and UDP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tDynamic RPC\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t49152-65535\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tAD Global Catalog\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t3268\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723398224\"> \u003Cp>\n\t\t\t\t\t\t\tLDAP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723397136\"> \u003Cp>\n\t\t\t\t\t\t\t389\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750723396048\"> \u003Cp>\n\t\t\t\t\t\t\tTCP and UDP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThe TCP port 389 is not required to be open on IdM servers for trust, but it is necessary for clients communicating with the IdM server.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe TCP port 135 is required for the DCE RPC end-point mapper to work and is used during the IdM-AD trust creation.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\tTo open ports, you can use the following methods:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\u003Ccode class=\"literal\">firewalld\u003C/code> service — you can enable the particular ports or enable the following services which includes the ports:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFreeIPA trust setup\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFreeIPA with LDAP\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tKerberos\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\tFor details, see the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> man page on your system.\n\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIf you are using RHEL 8.2 and earlier, the \u003Ccode class=\"literal\">freeipa-trust\u003C/code> firewalld service includes an RPC port range of \u003Ccode class=\"literal\">1024-1300\u003C/code>, which is incorrect. On RHEL 8.2 and earlier, you must manually open the TCP port range \u003Ccode class=\"literal\">49152-65535\u003C/code> in addition to enabling the \u003Ccode class=\"literal\">freeipa-trust\u003C/code> firewalld service.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis issue has been fixed for RHEL 8.3 and later in \u003Ca class=\"link\" href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1850418\">Bug 1850418 - update freeipa-trust.xml definition to include correct dynamic RPC range\u003C/a>.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tThe RHEL web console, which is a UI with firewall settings based on the \u003Ccode class=\"literal\">firewalld\u003C/code> service.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/34c4087fbf298dbd8c409b2c46ec6093/cockpit-trust-ports.png\" alt=\"A screenshot of the RHEL web console displaying firewall settings in the Networking section. There is a list of &quot;Allowed Services&quot; listing several services and their associated TCP and UDP ports.\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\tFor details about firewall configuration through the web console, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_systems_using_the_rhel_9_web_console/managing_firewall_using_the_web_console#enabling-services-on-firewall-using-the-web-console_managing-firewall-using-the-web-console\">Enabling services on the firewall using the web console\u003C/a>\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIf you are using RHEL 8.2 and earlier, the \u003Ccode class=\"literal\">FreeIPA Trust Setup\u003C/code> service includes an RPC port range of \u003Ccode class=\"literal\">1024-1300\u003C/code>, which is incorrect. On RHEL 8.2 and earlier, you must manually open the TCP port range \u003Ccode class=\"literal\">49152-65535\u003C/code> in addition to enabling the \u003Ccode class=\"literal\">FreeIPA Trust Setup\u003C/code> service in the RHEL web console.\n\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\tThis issue has been fixed for RHEL 8.3 and later in \u003Ca class=\"link\" href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1850418\">Bug 1850418 - update freeipa-trust.xml definition to include correct dynamic RPC range\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-table id=\"idm139750727016976\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 6.2. Ports required by IdM servers in a trust\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750731128336\" scope=\"col\">Service\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750731127248\" scope=\"col\">Port\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750731126160\" scope=\"col\">Protocol\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731128336\"> \u003Cp>\n\t\t\t\t\t\t\tKerberos\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731127248\"> \u003Cp>\n\t\t\t\t\t\t\t88, 464\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731126160\"> \u003Cp>\n\t\t\t\t\t\t\tTCP and UDP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731128336\"> \u003Cp>\n\t\t\t\t\t\t\tLDAP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731127248\"> \u003Cp>\n\t\t\t\t\t\t\t389\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731126160\"> \u003Cp>\n\t\t\t\t\t\t\tTCP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731128336\"> \u003Cp>\n\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731127248\"> \u003Cp>\n\t\t\t\t\t\t\t53\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731126160\"> \u003Cp>\n\t\t\t\t\t\t\tTCP and UDP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-table id=\"idm139750726786736\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 6.3. Ports required by IdM clients in an AD trust\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750731797904\" scope=\"col\">Service\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750731796816\" scope=\"col\">Port\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750731795728\" scope=\"col\">Protocol\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731797904\"> \u003Cp>\n\t\t\t\t\t\t\tKerberos\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731796816\"> \u003Cp>\n\t\t\t\t\t\t\t88\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750731795728\"> \u003Cp>\n\t\t\t\t\t\t\tUDP and TCP\n\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">libkrb5\u003C/code> library uses UDP and falls back to the TCP protocol if the data sent from the Key Distribution Center (KDC) is too large. Active Directory attaches a Privilege Attribute Certificate (PAC) to the Kerberos ticket, which increases the size and requires to use the TCP protocol. To avoid the fall-back and resending the request, by default, SSSD in Red Hat Enterprise Linux 7.4 and later uses TCP for user authentication. If you want to configure the size before \u003Ccode class=\"literal\">libkrb5\u003C/code> uses TCP, set the \u003Ccode class=\"literal\">udp_preference_limit\u003C/code> in the \u003Ccode class=\"literal\">/etc/krb5.conf\u003C/code> file. For details, see the \u003Ccode class=\"literal\">krb5.conf(5)\u003C/code> man page on your system.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\tThe following diagram shows communication sent by IdM clients, and received and responded to by IdM servers and AD Domain Controllers. To set the incoming and outgoing ports and protocols on your firewall, Red Hat recommends using the \u003Ccode class=\"literal\">firewalld\u003C/code> service, which already has definitions for FreeIPA services.\n\t\t\u003C/p>\u003Cp>\n\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/fc93488580ceb829bd9e8bf2379ea978/231_RHEL_troubleshooting_cross-forest_0422_firewall.png\" alt=\"diagram showing the ports and protocols that IdM clients use when communicating with IdM servers and AD Domain Controllers\"/>\u003C/span>\n\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tFor more information about the Dynamic RPC port range in Windows Server 2008 and later, see \u003Ca class=\"link\" href=\"https://support.microsoft.com/en-us/help/929851/the-default-dynamic-port-range-for-tcp-ip-has-changed-in-windows-vista\">The default dynamic port range for TCP/IP has changed since Windows Vista and in Windows Server 2008\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 7. Configuring DNS and realm settings for a trust\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tBefore you connect Identity Management (IdM) and Active Directory (AD) in a trust, you need to ensure that servers see each other and resolve domain names correctly. To configure DNS to allow using domain names between:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tOne primary IdM server using integrated DNS server and Certification Authority.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tOne AD Domain Controller.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tDNS settings require:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tConfiguring DNS zones in the IdM server\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tConfiguring conditional DNS forwarding in AD\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tVerifying correctness of the DNS configuration\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.1. Unique primary DNS domains\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIn Windows, every domain is a Kerberos realm and a DNS domain at the same time. Every domain managed by the domain controller needs to have its own dedicated DNS zone. The same applies when Identity Management (IdM) is trusted by Active Directory (AD) as a forest. AD expects IdM to have its own DNS domain. For the trust setup to work, the DNS domain needs to be dedicated to the Linux environment.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tEach system must have its own unique primary DNS domain configured. For example:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code> for IdM\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code> for IdM\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>example.com\u003C/em>\u003C/span>\u003C/code> for IdM\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe most convenient management solution is an environment where each DNS domain is managed by integrated DNS servers, but it is possible to use any other standard-compliant DNS server as well.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Kerberos realm names as upper-case versions of primary DNS domain names\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tKerberos realm names must be the same as the primary DNS domain names, with all letters uppercase. For example, if the domain names are \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/code> for AD and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\u003C/code> for IdM, the Kerberos realm names are required to be \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM\u003C/em>\u003C/span>\u003C/code> and \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>IDM.EXAMPLE.COM\u003C/em>\u003C/span>\u003C/code>.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">DNS records resolvable from all DNS domains in the trust\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tAll machines must be able to resolve DNS records from all DNS domains involved in the trust relationship.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">IdM and AD DNS Domains\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSystems joined to IdM can be distributed over multiple DNS domains. Red Hat recommends that you deploy IdM clients in a DNS zone different to the ones owned by Active Directory. The primary IdM DNS domain must have proper SRV records to support AD trusts.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIn some environments with trusts between IdM and Active Directory, you can install an IdM client on a host that is part of the Active Directory DNS domain. The host can then benefit from the Linux-focused features of IdM. This is not a recommended configuration and has some limitations. See \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad\">Configuring IdM clients in an Active Directory DNS domain\u003C/a> for more details.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tYou can acquire a list of the required SRV records specific to your system setup by running the following command:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ ipa dns-update-system-records --dry-run\u003C/pre>\u003Cp>\n\t\t\t\tThe generated list can look for example like this:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">IPA DNS records:\n  _kerberos-master._tcp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.\n  _kerberos-master._udp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.\n  _kerberos._tcp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.\n  _kerberos._tcp.idm.example.com. 86400 IN SRV 0 100 88 server.idm.example.com.\n  _kerberos.idm.example.com. 86400 IN TXT \"IDM.EXAMPLE.COM\"\n  _kpasswd._tcp.idm.example.com. 86400 IN SRV 0 100 464 server.idm.example.com.\n  _kpasswd._udp.idm.example.com. 86400 IN SRV 0 100 464 server.idm.example.com.\n  _ldap._tcp.idm.example.com. 86400 IN SRV 0 100 389 server.idm.example.com.\n  _ipa-ca.idm.example.com. 86400 IN A 192.168.122.2\u003C/pre>\u003Cp>\n\t\t\t\tFor other DNS domains that are part of the same IdM realm, it is not required for the SRV records to be configured when the trust to AD is configured. The reason is that AD domain controllers do not use SRV records to discover KDCs but rather base the KDC discovery on name suffix routing information for the trust.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"configuring-dns-zones-in-idm_configuring-dns-and-realm-settings-for-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.2. Configuring a DNS forward zone in the IdM Web UI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollow this procedure to add a DNS forward zone to the Identity Management (IdM) server by using the IdM Web UI.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWith DNS forward zones, you can forward DNS queries for a specific zone to a different DNS server. For example, you can forward DNS queries for the Active Directory (AD) domain to an AD DNS server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess to the IdM Web UI with a user account that has administrator rights.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCorrectly configured DNS server.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the IdM Web UI with administrator privileges. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/accessing-the-ipa-web-ui-in-a-web-browser_accessing-idm-services\">Accessing the IdM Web UI in a web browser\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick on the \u003Cspan class=\"strong strong\">\u003Cstrong>Network Services\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick on the \u003Cspan class=\"strong strong\">\u003Cstrong>DNS\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the drop down menu, click on the \u003Cspan class=\"strong strong\">\u003Cstrong>DNS Forward Zones\u003C/strong>\u003C/span> item.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/92f22456e7bb9b824c22e75b6e96f9f8/web_ui-dns-tab.png\" alt=\"Screenshot of the IdM Web UI displaying the contents of the DNS drop-down submenu of the &quot;Network Services&quot; tab. The DNS drop-down menu has four options: DNS Zones - DNS Forward Zones - DNS Servers - DNS Global Configuration. &quot;DNS Forward Zones&quot; is highlighted.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick on the \u003Cspan class=\"strong strong\">\u003Cstrong>Add\u003C/strong>\u003C/span> button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Add DNS forward zone\u003C/strong>\u003C/span> dialog box, add a zone name.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Zone forwarders\u003C/strong>\u003C/span> item, click on the \u003Cspan class=\"strong strong\">\u003Cstrong>Add\u003C/strong>\u003C/span> button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Zone forwarders\u003C/strong>\u003C/span> field, add the IP address of the server for which you want to create the forward zone.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tClick on the \u003Cspan class=\"strong strong\">\u003Cstrong>Add\u003C/strong>\u003C/span> button.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/779d721ab8e9c5787db101f6db166118/web_ui-forward-zone-add.png\" alt=\"Screenshot of the &quot;Add DNS forward zone&quot; pop-up window with text entry fields for &quot;Zone name&quot; - &quot;Reverse zone IP network&quot; - &quot;Zone forwarders.&quot; The &quot;Forward policy&quot; option has three radial buttons for &quot;forward first&quot; - &quot;forward only&quot; - &quot;forward disabled.&quot; There is a checkbox for &quot;Skip overlap check&quot; and there are four buttons at the bottom: &quot;Add&quot; - &quot;Add and Add Another&quot; - &quot;Add and Edit&quot; - &quot;Cancel.&quot;\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\tThe forwarded zone has been added to the DNS settings and you can verify it in the DNS Forward Zones settings. The Web UI informs you about success with the following pop-up message: \u003Cspan class=\"strong strong\">\u003Cstrong>DNS Forward Zone successfully added.\u003C/strong>\u003C/span>\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tThe Web UI might display a warning about a DNSSEC validation failure after adding a forward zone to the configuration.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/7aeddb7be29c61f4e720cbc3df02a676/web_ui-forward-zone-dnssec-valid.png\" alt=\"Screenshot displaying a pop-up window that reads &quot;DNSSEC validation failed - record ad.example.com SOA failed DNSSEC validation on server 192.168.122.2. Please verify your DNSSEC configuration or disable DNSSEC validation on all IPA servers.&quot;\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tDNSSEC (Domain Name System Security Extensions) secures DNS data with a digital signature to protect DNS from attacks. This service is enabled by default in the IdM server. The warning appears because the remote DNS server does not use DNSSEC. Red Hat recommends that you enable DNSSEC on the remote DNS server.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf you cannot enable DNSSEC validation on the remote server, you can disable DNSSEC in the IdM server:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tChoose the appropriate configuration file to edit:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIf your IdM server is using RHEL 8.0 or RHEL 8.1, open the \u003Ccode class=\"literal\">/etc/named.conf\u003C/code> file.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tIf your IdM server is using RHEL 8.2 or later, open the \u003Ccode class=\"literal\">/etc/named/ipa-options-ext.conf\u003C/code> file.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the following DNSSEC parameters:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">dnssec-enable no;\ndnssec-validation no;\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSave and close the configuration file.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the DNS service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># systemctl restart named-pkcs11\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">nslookup\u003C/code> command with the name of the remote DNS server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ nslookup ad.example.com\nServer:        192.168.122.2\nAddress:       192.168.122.2#53\n\nNo-authoritative answer:\nName:          ad.example.com\nAddress:       192.168.122.3\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you configured the domain forwarding correctly, the IP address of the remote DNS server is displayed.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-dns-zones-in-cli_configuring-dns-and-realm-settings-for-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.3. Configuring a DNS forward zone in the CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tFollow this procedure to add a new DNS forward zone to the Identity Management (IdM) server using the command line interface (CLI).\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tWith DNS forward zones, you can forward DNS queries for a specific zone to a different DNS server. For example, you can forward DNS queries for the Active Directory (AD) domain to an AD DNS server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess to the CLI with a user account that has administrator rights.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCorrectly configured DNS server.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a DNS forward zone for the AD domain, and specify the IP address of the remote DNS server with the \u003Ccode class=\"literal\">--forwarder\u003C/code> option:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ipa dnsforwardzone-add \u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span> --forwarder=\u003Cspan class=\"emphasis\">\u003Cem>192.168.122.3\u003C/em>\u003C/span> --forward-policy=first\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tYou might see a warning about a DNSSEC validation failure in the \u003Ccode class=\"literal\">/var/log/messages\u003C/code> system logs after adding a new forward zone to the configuration:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">named-pkcs11[2572]: no valid DS resolving 'host.ad.example.com/A/IN':  192.168.100.25#53\u003C/pre>\u003Cp>\n\t\t\t\t\tDNSSEC (Domain Name System Security Extensions) secures DNS data with a digital signature to protect DNS from attacks. This service is enabled by default in the IdM server. The warning appears because the remote DNS server does not use DNSSEC. Red Hat recommends that you enable DNSSEC on the remote DNS server.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf you cannot enable DNSSEC validation on the remote server, you can disable DNSSEC in the IdM server:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/etc/named/ipa-options-ext.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the following DNSSEC parameters:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">dnssec-enable no;\ndnssec-validation no;\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSave and close the configuration file.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the DNS service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># systemctl restart named-pkcs11\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">nslookup\u003C/code> command with the name of the remote DNS server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ nslookup ad.example.com\nServer:        192.168.122.2\nAddress:       192.168.122.2#53\n\nNo-authoritative answer:\nName:          ad.example.com\nAddress:       192.168.122.3\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the domain forwarding is configured correctly, the \u003Ccode class=\"literal\">nslookup\u003C/code> request displays an IP address of the remote DNS server.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-dns-forwarding-in-ad_configuring-dns-and-realm-settings-for-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.4. Configuring DNS forwarding in AD\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollow this procedure to set up a DNS forwarding in Active Directory (AD) for the Identity Management (IdM) server.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tWindows Server with AD installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDNS port open on both servers.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the Windows Server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen \u003Cspan class=\"strong strong\">\u003Cstrong>Server Manager\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen \u003Cspan class=\"strong strong\">\u003Cstrong>DNS Manager\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn \u003Cspan class=\"strong strong\">\u003Cstrong>Conditional Forwarders\u003C/strong>\u003C/span>, add a new conditional forwarder with:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe IdM server IP address\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tA fully qualified domain name, for example, \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>server.idm.example.com\u003C/em>\u003C/span>\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the settings.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">7.5. Verifying the DNS configuration\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBefore configuring trust, verify that the Identity Management (IdM) and Active Directory (AD) servers can resolve themselves and each other.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need to be logged in with sudo permissions.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun a DNS query for the Kerberos over UDP and LDAP over TCP service records.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[admin@server ~]# dig +short -t SRV _kerberos._udp.idm.example.com.\n0 100 88 server.idm.example.com.\n\n[admin@server ~]# dig +short -t SRV _ldap._tcp.idm.example.com.\n0 100 389 server.idm.example.com.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe commands are expected to list all IdM servers.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun a DNS query for the TXT record with the IdM Kerberos realm name. The obtained value is expected to match the Kerberos realm you specified when installing IdM.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[admin@server ~]# dig +short -t TXT _kerberos.idm.example.com.\n\"IDM.EXAMPLE.COM\"\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the previous steps did not return all the expected records, update the DNS configuration with the missing records:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf your IdM environment uses an integrated DNS server, enter the \u003Ccode class=\"literal\">ipa dns-update-system-records\u003C/code> command without any options to update your system records:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[admin@server ~]$ ipa dns-update-system-records\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf your IdM environment does not use an integrated DNS server:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tOn the IdM server, export the IdM DNS records into a file:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[admin@server ~]$ ipa dns-update-system-records --dry-run --out dns_records_file.nsupdate\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tThe command creates a file named \u003Cspan class=\"strong strong\">\u003Cstrong>dns_records_file.nsupdate\u003C/strong>\u003C/span> with the relevant IdM DNS records.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tSubmit a DNS update request to your DNS server using the \u003Ccode class=\"literal\">nsupdate\u003C/code> utility and the \u003Cspan class=\"strong strong\">\u003Cstrong>dns_records_file.nsupdate\u003C/strong>\u003C/span> file. For more information, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/linux_domain_identity_authentication_and_policy_guide/dns-updates-external#dns-update-external-nsupdate\">Updating External DNS Records Using nsupdate\u003C/a> in RHEL 7 documentation. Alternatively, refer to your DNS server documentation for adding DNS records.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that IdM is able to resolve service records for AD with a command that runs a DNS query for Kerberos and LDAP over TCP service records:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[admin@server ~]# dig +short -t SRV _kerberos._tcp.dc._msdcs.ad.example.com.\n0 100 88 addc1.ad.example.com.\n\n[admin@server ~]# dig +short -t SRV _ldap._tcp.dc._msdcs.ad.example.com.\n0 100 389 addc1.ad.example.com.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 8. Configuring IdM clients in an Active Directory DNS domain\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tIf you have client systems in a DNS domain controlled by Active Directory and you require those clients to be able to join the IdM Server to benefit from its RHEL features, you can configure users to access a client using a host name from the Active Directory DNS domain.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tThis is not a recommended configuration and has some limitations. Red Hat recommends to always deploy IdM clients in a DNS zone different from the ones owned by Active Directory and access IdM clients through their IdM host names.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\tYour IdM client configuration depends on whether you require single sign-on with Kerberos.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.1. Configuring an IdM client without Kerberos single sign-on\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tPassword authentication is the only authentication method that is available for users to access resources on IdM clients if the IdM clients are in an Active Directory DNS domain. Follow this procedure to configure your client without Kerberos single sign-on.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the IdM client with the \u003Ccode class=\"literal\">--domain=IPA_DNS_Domain\u003C/code> option to ensure the System Security Services Daemon (SSSD) can communicate with the IdM servers:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm-client.ad.example.com ~]# ipa-client-install --domain=idm.example.com\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis option disables the SRV record auto-detection for the Active Directory DNS domain.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">/etc/krb5.conf\u003C/code> configuration file and locate the existing mapping for the Active Directory domain in the \u003Ccode class=\"literal\">[domain_realm]\u003C/code> section.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">.ad.example.com = IDM.EXAMPLE.COM\nad.example.com = IDM.EXAMPLE.COM\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReplace both lines with an entry mapping the fully qualified domain name (FQDN) of the Linux clients in the Active Directory DNS zone to the IdM realm:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idm-client.ad.example.com = IDM.EXAMPLE.COM\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy replacing the default mapping, you prevent Kerberos from sending its requests for the Active Directory domain to the IdM Kerberos Distribution Center (KDC). Instead Kerberos uses auto-discovery through SRV DNS records to locate the KDC.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_handling-ssl-certificates-without-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.2. Requesting SSL certificates without single sign-on\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tSSL-based services require a certificate with \u003Ccode class=\"literal\">dNSName\u003C/code> extension records that cover all system host names, because both original (A/AAAA) and CNAME records must be in the certificate. Currently, IdM only issues certificates to host objects in the IdM database.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn the described setup without single sign-on available, IdM already has a host object for the FQDN in the database, and \u003Ccode class=\"literal\">certmonger\u003C/code> can request a certificate using this name.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tInstalled and configured the IdM client by following the procedure in \u003Ca class=\"link\" href=\"#proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain\" title=\"8.1. Configuring an IdM client without Kerberos single sign-on\">Configuring an IdM client without Kerberos single sign-on\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse \u003Ccode class=\"literal\">certmonger\u003C/code> to request a certificate using the FQDN:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm-client.ad.example.com ~]# ipa-getcert request -r \\\n      -f /etc/httpd/alias/server.crt \\\n      -k /etc/httpd/alias/server.key \\\n      -N CN=ipa-client.ad.example.com \\\n      -D ipa-client.ad.example.com \\\n      -K host/idm-client.ad.example.com@IDM.EXAMPLE.COM \\\n      -U id-kp-serverAuth\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">certmonger\u003C/code> service uses the default host key stored in the \u003Ccode class=\"literal\">/etc/krb5.keytab\u003C/code> file to authenticate to the IdM Certificate Authority (CA).\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.3. Configuring an IdM client with Kerberos single sign-on\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf you require Kerberos single sign-on to access resources on the IdM client, the client must be within the IdM DNS domain, for example \u003Ccode class=\"literal\">idm-client.idm.example.com\u003C/code>. You must create a CNAME record \u003Ccode class=\"literal\">idm-client.ad.example.com\u003C/code> in the Active Directory DNS domain pointing to the A/AAAA record of the IdM client.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor Kerberos-based application servers, MIT Kerberos supports a method to allow the acceptance of any host-based principal available in the application’s keytab.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the IdM client, disable the strict checks on what Kerberos principal is used to target the Kerberos server by setting the following option in the \u003Ccode class=\"literal\">[libdefaults]\u003C/code> section of the \u003Ccode class=\"literal\">/etc/krb5.conf\u003C/code> configuration file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">ignore_acceptor_hostname = true\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_handling-ssl-certificates-with-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">8.4. Requesting SSL certificates with single sign-on\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tSSL-based services require a certificate with \u003Ccode class=\"literal\">dNSName\u003C/code> extension records that cover all system host names, because both original (A/AAAA) and CNAME records must be in the certificate. Currently, IdM only issues certificates to host objects in the IdM database.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFollow this procedure to create a host object for \u003Ccode class=\"literal\">ipa-client.example.com\u003C/code> in IdM and make sure the real IdM machine’s host object is able to manage this host.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have disabled the strict checks on what Kerberos principal is used to target the Kerberos server as outlined in \u003Ca class=\"link\" href=\"#proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain\" title=\"8.3. Configuring an IdM client with Kerberos single sign-on\">Configuring an IdM client with Kerberos single sign-on\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a new host object on the IdM server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm-server.idm.example.com ~]# ipa host-add idm-client.ad.example.com --force\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">--force\u003C/code> option, because the host name is a CNAME and not an A/AAAA record.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the IdM server, allow the IdM DNS host name to manage the Active Directory host entry in the IdM database:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm-server.idm.example.com ~]# ipa host-add-managedby idm-client.ad.example.com \\\n      --hosts=idm-client.idm.example.com\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYour can now request an SSL certificate for your IdM client with the \u003Ccode class=\"literal\">dNSName\u003C/code> extension record for its host name within the Active Directory DNS domain:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm-client.idm.example.com ~]# ipa-getcert request -r \\\n      -f /etc/httpd/alias/server.crt \\\n      -k /etc/httpd/alias/server.key \\\n      -N CN=`hostname --fqdn` \\\n      -D `hostname --fqdn` \\\n      -D idm-client.ad.example.com \\\n      -K host/idm-client.idm.example.com@IDM.EXAMPLE.COM \\\n      -U id-kp-serverAuth\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"setting-up-a-trust_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 9. Setting up a trust\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tThis section describes how to configure the Identity Management (IdM)/Active Directory (AD) trust on the IdM side using the command line.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tDNS is correctly configured. Both IdM and AD servers must be able to resolve each other names. For details, see \u003Ca class=\"link\" href=\"#unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust\" title=\"7.1. Unique primary DNS domains\">Configuring DNS and realm settings for a trust\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSupported versions of AD and IdM are deployed. For details, see \u003Ca class=\"link\" href=\"#supported-versions-of-windows-server_installing-trust-between-idm-and-ad\" title=\"Chapter 2. Supported versions of Windows Server\">Supported versions of Windows Server\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have obtained a Kerberos ticket. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/logging-in-to-ipa-from-the-command-line_accessing-idm-services#using-kinit-to-log-in-to-ipa_logging-in-to-ipa-from-the-command-line\">Using kinit to log in to IdM manually\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"preparing-the-idm-server-for-the-trust_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.1. Preparing the IdM server for the trust\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBefore you can establish a trust with AD, you must prepare the IdM domain using the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> utility on an IdM server.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tAny system where you run the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> command automatically becomes an AD trust controller. However, you must run \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> only once on an IdM server.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIdM server is installed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need root privileges to install packages and restart IdM services.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the required packages:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install ipa-server-trust-ad samba-client\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAuthenticate as the IdM administrative user:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>kinit admin\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> utility:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-adtrust-install\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe DNS service records are created automatically if IdM was installed with an integrated DNS server.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you installed IdM without an integrated DNS server, \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> prints a list of service records that you must manually add to DNS before you can continue.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe script prompts you that the \u003Ccode class=\"literal\">/etc/samba/smb.conf\u003C/code> already exists and will be rewritten:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">WARNING: The smb.conf already exists. Running ipa-adtrust-install will break your existing Samba configuration.\n\nDo you wish to continue? [no]: \u003Ccode class=\"literal command\">yes\u003C/code>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe script prompts you to configure the \u003Ccode class=\"literal\">slapi-nis\u003C/code> plug-in, a compatibility plug-in that allows older Linux clients to work with trusted users:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Do you want to enable support for trusted domains in Schema Compatibility plugin?\nThis will allow clients older than SSSD 1.9 and non-Linux clients to work with trusted users.\n\nEnable trusted domains support in slapi-nis? [no]: \u003Ccode class=\"literal command\">yes\u003C/code>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou are prompted to run the SID generation task to create a SID for any existing users:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Do you want to run the ipa-sidgen task? [no]: \u003Ccode class=\"literal command\">yes\u003C/code>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis is a resource-intensive task, so if you have a high number of users, you can run this at another time.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: By default, the Dynamic RPC port range is defined as \u003Ccode class=\"literal\">49152-65535\u003C/code> for Windows Server 2008 and later. If you need to define a different Dynamic RPC port range for your environment, configure Samba to use different ports and open those ports in your firewall settings. The following example sets the port range to \u003Ccode class=\"literal\">55000-65000\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>net conf setparm global 'rpc server dynamic port range' 55000-65000\u003C/strong>\u003C/span>\n[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-port=55000-65000/tcp\u003C/strong>\u003C/span>\n[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tMake sure that DNS is properly configured, as described in \u003Ca class=\"link\" href=\"#verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust\" title=\"7.5. Verifying the DNS configuration\">Verifying the DNS configuration for a trust\u003C/a>.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tRed Hat strongly recommends you verify the DNS configuration as described in \u003Ca class=\"link\" href=\"#verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust\" title=\"7.5. Verifying the DNS configuration\">Verifying the DNS configuration for a trust\u003C/a> every time after running \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code>, especially if IdM or AD do not use integrated DNS servers.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the \u003Ccode class=\"literal systemitem\">ipa\u003C/code> service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipactl restart\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal systemitem\">smbclient\u003C/code> utility to verify that Samba responds to Kerberos authentication from the IdM side:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Ccode class=\"literal command\">smbclient -L ipaserver.idm.example.com -U \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span> --use-kerberos=required\u003C/code>\nlp_load_ex: changing to config backend registry\n    Sharename       Type      Comment\n    ---------       ----      -------\n    IPC$            IPC       IPC Service (Samba 4.15.2)\n...\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-a-trust-agreement-using-the-command-line_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.2. Setting up a trust agreement using the command line\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollow this procedure to set up the trust agreement using the command line. The Identity Management (IdM) server allows you to configure three types of trust agreements:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>One-way trust\u003C/strong>\u003C/span> — default option. One-way trust enables Active Directory (AD) users and groups to access resources in IdM, but not the other way around. The IdM domain trusts the AD forest, but the AD forest does not trust the IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Two-way trust\u003C/strong>\u003C/span> — Two-way trust enables AD users and groups to access resources in IdM.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou must configure a two-way trust for solutions such as Microsoft SQL Server that expect the \u003Ccode class=\"literal\">S4U2Self\u003C/code> and \u003Ccode class=\"literal\">S4U2Proxy\u003C/code> Microsoft extensions to the Kerberos protocol to work over a trust boundary. An application on a RHEL IdM host might request \u003Ccode class=\"literal\">S4U2Self\u003C/code> or \u003Ccode class=\"literal\">S4U2Proxy\u003C/code> information from an Active Directory domain controller about an AD user, and a two-way trust provides this feature.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this two-way trust functionality does not allow IdM users to login to Windows systems, and the two-way trust in IdM does not give the users any additional rights compared to the one-way trust solution in AD.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo create the two-way trust, add the following option to the command: \u003Ccode class=\"literal\">--two-way=true\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>External trust\u003C/strong>\u003C/span> — a trust relationship between IdM and an AD domain in different forests. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, an external trust can be established from IdM to a domain within a forest. This is only recommended if it is not possible to establish a forest trust between forest root domains due to administrative or organizational reasons.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo create the external trust, add the following option to the command: \u003Ccode class=\"literal\">--external=true\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tThe steps below show you how to create a one-way trust agreement.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUser name and password of a Windows administrator.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have \u003Ca class=\"link\" href=\"#preparing-the-idm-server-for-the-trust_setting-up-a-trust\" title=\"9.1. Preparing the IdM server for the trust\">prepared the IdM server for the trust\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a trust agreement for the AD domain and the IdM domain by using the \u003Ccode class=\"literal\">ipa trust-add\u003C/code> command:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo have SSSD automatically generate UIDs and GIDs for AD users based on their SID, create a trust agreement with the \u003Ccode class=\"literal\">Active Directory domain\u003C/code> ID range type. This is the most common configuration.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# ipa trust-add --type=ad \u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span> --admin \u003Cspan class=\"emphasis\">\u003Cem>&lt;ad_admin_username&gt;\u003C/em>\u003C/span> --password \u003Cspan class=\"strong strong\">\u003Cstrong>--range-type=ipa-ad-trust\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you have configured POSIX attributes for your users in Active Directory (such as \u003Ccode class=\"literal\">uidNumber\u003C/code> and \u003Ccode class=\"literal\">gidNumber\u003C/code>) and you want SSSD to process this information, create a trust agreement with the \u003Ccode class=\"literal\">Active Directory domain with POSIX attributes\u003C/code> ID range type:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# ipa trust-add --type=ad \u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span> --admin \u003Cspan class=\"emphasis\">\u003Cem>&lt;ad_admin_username&gt;\u003C/em>\u003C/span> --password \u003Cspan class=\"strong strong\">\u003Cstrong>--range-type=ipa-ad-trust-posix\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you do not specify an ID Range type when creating a trust, IdM attempts to automatically select the appropriate range type by requesting details from AD domain controllers in the forest root domain. If IdM does not detect any POSIX attributes, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain\u003C/code> ID range.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain with POSIX attributes\u003C/code> ID range and assumes that UIDs and GIDs are correctly defined in AD. If POSIX attributes are not correctly set in AD, you will not be able to resolve AD users.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-the-trust-in-the-idm-web-ui_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.3. Setting up a trust agreement in the IdM Web UI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollow this procedure to configure the Identity Management (IdM)/Active Directory (AD) trust agreement on the IdM side using the IdM Web UI.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tDNS is correctly configured. Both IdM and AD servers must be able to resolve each other names.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSupported versions of AD and IdM are deployed.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have obtained a Kerberos ticket.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBefore creating a trust in the Web UI, prepare the IdM server for the trust as described in: \u003Ca class=\"link\" href=\"#preparing-the-idm-server-for-the-trust_setting-up-a-trust\" title=\"9.1. Preparing the IdM server for the trust\">Preparing the IdM server for the trust\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need to be logged in as an IdM administrator.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog in to the IdM Web UI with administrator privileges. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/accessing-the-ipa-web-ui-in-a-web-browser_accessing-idm-services\">Accessing the IdM Web UI in a web browser\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the IdM Web UI, click the \u003Cspan class=\"strong strong\">\u003Cstrong>IPA Server\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>IPA Server\u003C/strong>\u003C/span> tab, click the \u003Cspan class=\"strong strong\">\u003Cstrong>Trusts\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the drop down menu, select the \u003Cspan class=\"strong strong\">\u003Cstrong>Trusts\u003C/strong>\u003C/span> option.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/744b8c3059ecea9eaf7fedf6889d1f24/ipa-trust-trusts.png\" alt=\"The Trusts section of the IdM WebUI displays a drop-down menu with two options\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>Add\u003C/strong>\u003C/span> button.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Add Trust\u003C/strong>\u003C/span> dialog box, enter the name of the Active Directory domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Account\u003C/strong>\u003C/span> and \u003Cspan class=\"strong strong\">\u003Cstrong>Password\u003C/strong>\u003C/span> fields, add the administrator credentials of the Active Directory administrator.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/e63d05ba5ceb64c8568c0cab1c339109/ipa-trust-add.png\" alt=\"ipa trust add\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: Select \u003Cspan class=\"strong strong\">\u003Cstrong>Two-way trust\u003C/strong>\u003C/span>, if you want to enable AD users and groups to access resources in IdM. However, the two-way trust in IdM does not give the users any additional rights compared to the one-way trust solution in AD. Both solutions are considered equally secure because of default cross-forest trust SID filtering settings.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOptional: Select \u003Cspan class=\"strong strong\">\u003Cstrong>External trust\u003C/strong>\u003C/span> if you are configuring a trust with an AD domain that is not the root domain of an AD forest. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, you can establish an external trust from IdM to any domain within an AD forest.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: By default, the trust installation script tries to detect the appropriate ID range type. You can also explicitly set the ID range type by choosing one of the following options:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo have SSSD automatically generate UIDs and GIDs for AD users based on their SID, select the \u003Ccode class=\"literal\">Active Directory domain\u003C/code> ID range type. This is the most common configuration.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you have configured POSIX attributes for your users in Active Directory (such as \u003Ccode class=\"literal\">uidNumber\u003C/code> and \u003Ccode class=\"literal\">gidNumber\u003C/code>) and you want SSSD to process this information, select the \u003Ccode class=\"literal\">Active Directory domain with POSIX attributes\u003C/code> ID range type.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/44e8016e8819fc6ff199fd23104dcca3/idm-trust-add-range-types.png\" alt=\"The Range Type section of the IdM WebUI displays 3 radio buttons to choose the appropriate range type - Detect\"/>\u003C/span>\n\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tIf you leave the \u003Cspan class=\"strong strong\">\u003Cstrong>Range type\u003C/strong>\u003C/span> setting on the default \u003Ccode class=\"literal\">Detect\u003C/code> option, IdM attempts to automatically select the appropriate range type by requesting details from AD domain controllers in the forest root domain. If IdM does not detect any POSIX attributes, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain\u003C/code> ID range.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\t\tIf IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain with POSIX attributes\u003C/code> ID range and assumes that UIDs and GIDs are correctly defined in AD. If POSIX attributes are not correctly set in AD, you will not be able to resolve AD users.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\t\t\tFor example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Add\u003C/strong>\u003C/span>.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the trust has been successfully added to the IdM server, you can see the green pop-up window in the IdM Web UI. It means that the:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tDomain name exists\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tUser name and password of the Windows Server has been added correctly.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/f9f7b4a2d2363e5d102c7ecde6c72b46/idm-trust-added.png\" alt=\"The Trusts section of the IdM WebUI displays a list of the trusts added and 2 buttons\"/>\u003C/span>\n\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tNow you can continue to test the trust connection and Kerberos authentication.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-up-a-trust-agreement-using-ansible_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.4. Setting up a trust agreement using Ansible\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFollow this procedure to set up a one-way trust agreement between Identity Management (IdM) and Active Directory (AD) by using an Ansible playbook. You can configure three types of trust agreements:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>One-way trust\u003C/strong>\u003C/span> — default option. One-way trust enables Active Directory (AD) users and groups to access resources in IdM, but not the other way around. The IdM domain trusts the AD forest, but the AD forest does not trust the IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Two-way trust\u003C/strong>\u003C/span> — Two-way trust enables AD users and groups to access resources in IdM.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou must configure a two-way trust for solutions such as Microsoft SQL Server that expect the \u003Ccode class=\"literal\">S4U2Self\u003C/code> and \u003Ccode class=\"literal\">S4U2Proxy\u003C/code> Microsoft extensions to the Kerberos protocol to work over a trust boundary. An application on a RHEL IdM host might request \u003Ccode class=\"literal\">S4U2Self\u003C/code> or \u003Ccode class=\"literal\">S4U2Proxy\u003C/code> information from an Active Directory domain controller about an AD user, and a two-way trust provides this feature.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNote that this two-way trust functionality does not allow IdM users to login to Windows systems, and the two-way trust in IdM does not give the users any additional rights compared to the one-way trust solution in AD.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo create the two-way trust, add the following variable to the playbook task below: \u003Ccode class=\"literal\">two_way: true\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>External trust\u003C/strong>\u003C/span> — a trust relationship between IdM and an AD domain in different forests. While a forest trust always requires establishing a trust between IdM and the root domain of an Active Directory forest, an external trust can be established from IdM to a domain within a forest. This is only recommended if it is not possible to establish a forest trust between forest root domains due to administrative or organizational reasons.\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTo create the external trust, add the following variable to the playbook task below: \u003Ccode class=\"literal\">external: true\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUser name and password of a Windows administrator.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM \u003Ccode class=\"literal\">admin\u003C/code> password.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have \u003Ca class=\"link\" href=\"#preparing-the-idm-server-for-the-trust_setting-up-a-trust\" title=\"9.1. Preparing the IdM server for the trust\">prepared the IdM server for the trust\u003C/a>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou are using the 4.8.7 version of IdM or later. To view the version of IdM you have installed on your server, run \u003Ccode class=\"literal\">ipa --version\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tNavigate to your \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>cd ~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSelect one of the following scenarios based on your use case:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo create an ID mapping trust agreement, in which SSSD automatically generates UIDs and GIDs for AD users and groups based on their SIDs, create an \u003Ccode class=\"literal\">add-trust.yml\u003C/code> playbook with the following content:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to create a trust\n  hosts: ipaserver\n\n  vars_files:\n  - /home/user_name/MyPlaybooks/secret.yml\n  tasks:\n    - name: ensure the trust is present\n      ipatrust:\n        ipaadmin_password: \"{{ ipaadmin_password }}\"\n        realm: ad.example.com\n        admin: Administrator\n        password: secret_password\n        range_type: ipa-ad-trust\n        state: present\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn the example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">realm\u003C/code> defines the AD realm name string.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">admin\u003C/code> defines the AD domain administrator string.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">password\u003C/code> defines the AD domain administrator’s password string.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo create a POSIX trust agreement, in which SSSD processes POSIX attributes stored in AD, such as \u003Ccode class=\"literal\">uidNumber\u003C/code> and \u003Ccode class=\"literal\">gidNumber\u003C/code>, create an \u003Ccode class=\"literal\">add-trust.yml\u003C/code> playbook with the following content:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to create a trust\n  hosts: ipaserver\n\n  vars_files:\n  - /home/user_name/MyPlaybooks/secret.yml\n  tasks:\n    - name: ensure the trust is present\n      ipatrust:\n        ipaadmin_password: \"{{ ipaadmin_password }}\"\n        realm: ad.example.com\n        admin: Administrator\n        password: secret_password\n        range_type: ipa-ad-trust-posix\n        state: present\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo create a trust agreement in which IdM attempts to automatically select the appropriate range type, \u003Ccode class=\"literal\">ipa-ad-trust\u003C/code> or \u003Ccode class=\"literal\">ipa-ad-trust-posix\u003C/code>, by requesting details from AD domain controllers in the forest root domain, create an \u003Ccode class=\"literal\">add-trust.yml\u003C/code> playbook with the following content:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to create a trust\n  hosts: ipaserver\n\n  vars_files:\n  - /home/user_name/MyPlaybooks/secret.yml\n  tasks:\n    - name: ensure the trust is present\n      ipatrust:\n        ipaadmin_password: \"{{ ipaadmin_password }}\"\n        realm: ad.example.com\n        admin: Administrator\n        password: secret_password\n        state: present\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you do not specify an ID range type when creating a trust, and if IdM does not detect any POSIX attributes in the AD forest root domain, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain\u003C/code> ID range.\n\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\tIf IdM detects any POSIX attributes in the forest root domain, the trust installation script selects the \u003Ccode class=\"literal\">Active Directory domain with POSIX attributes\u003C/code> ID range and assumes that UIDs and GIDs are correctly defined in AD.\n\t\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\t\tHowever, if POSIX attributes are not correctly set in AD, you will not be able to resolve AD users. For example, if the users and groups that need access to IdM systems are not part of the forest root domain, but instead are located in a child domain of the forest domain, the installation script may not detect the POSIX attributes defined in the child AD domain. In this case, Red Hat recommends that you explicitly choose the POSIX ID range type when establishing the trust.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSave the file.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the Ansible playbook. Specify the playbook file, the file storing the password protecting the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> file, and the inventory file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --vault-password-file=password_file -v -i inventory add-trust.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t/usr/share/doc/ansible-freeipa/README-trust.md\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t/usr/share/doc/ansible-freeipa/playbooks/trust\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"verifying-the-kerberos-configuration_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.5. Verifying the Kerberos configuration\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tTo verify the Kerberos configuration, test if it is possible to obtain a ticket for an Identity Management (IdM) user and if the IdM user can request service tickets.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRequest a ticket for an Active Directory (AD) user:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@ipaserver ~]# kinit user@AD.EXAMPLE.COM\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRequest service tickets for a service within the IdM domain:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[root@server ~]# kvno -S host server.idm.example.com\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the AD service ticket is successfully granted, there is a cross-realm ticket-granting ticket (TGT) listed with all of the other requested tickets. The TGT is named krbtgt/IPA.DOMAIN@AD.DOMAIN.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cpre class=\"screen\">[root@server ]# klist\nTicket cache: KEYRING:persistent:0:krb_ccache_hRtox00\nDefault principal: user@AD.EXAMPLE.COM\n\nValid starting       Expires              Service principal\n03.05.2016 18:31:06  04.05.2016 04:31:01  host/server.idm.example.com@IDM.EXAMPLE.COM\n\trenew until 04.05.2016 18:31:00\n03.05.2016 18:31:06 04.05.2016 04:31:01 krbtgt/IDM.EXAMPLE.COM@AD.EXAMPLE.COM\n\trenew until 04.05.2016 18:31:00\n03.05.2016 18:31:01  04.05.2016 04:31:01  krbtgt/AD.EXAMPLE.COM@AD.EXAMPLE.COM\n\trenew until 04.05.2016 18:31:00\u003C/pre>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">localauth\u003C/code> plug-in maps Kerberos principals to local System Security Services Daemon (SSSD) user names. This allows AD users to use Kerberos authentication and access Linux services, which support GSSAPI authentication directly.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"verifying-the-trust-configuration-on-idm_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.6. Verifying the trust configuration on IdM\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBefore configuring trust, verify that the Identity Management (IdM) and Active Directory (AD) servers can resolve themselves and each other.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need to be logged in with administrator privileges.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun a DNS query for the MS DC Kerberos over UDP and LDAP over TCP service records.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# dig +short -t SRV _kerberos._udp.dc._msdcs.idm.example.com.\n0 100 88 server.idm.example.com.\n\n[root@server ~]# dig +short -t SRV _ldap._tcp.dc._msdcs.idm.example.com.\n0 100 389 server.idm.example.com.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThese commands list all IdM servers on which \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> has been executed. The output is empty if \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> has not been executed on any IdM server, which is typically before establishing the first trust relationship.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun a DNS query for the Kerberos and LDAP over TCP service records to verify that IdM is able to resolve service records for AD:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# dig +short -t SRV _kerberos._tcp.dc._msdcs.ad.example.com.\n0 100 88 addc1.ad.example.com.\n\n[root@ipaserver ~]# dig +short -t SRV _ldap._tcp.dc._msdcs.ad.example.com.\n0 100 389 addc1.ad.example.com.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"verifying-the-trust-configuration-on-ad_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.7. Verifying the trust configuration on AD\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tAfter configuring the trust, verify that:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe Identity Management (IdM)-hosted services are resolvable from the Active Directory (AD) server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAD services are resolvable from the AD server.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need to be logged in with administrator privileges.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the AD server, set the \u003Ccode class=\"literal\">nslookup.exe\u003C/code> utility to look up service records.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">C:\\&gt;nslookup.exe\n&gt; set type=SRV\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter the domain name for the Kerberos over UDP and LDAP over TCP service records.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">&gt; _kerberos._udp.idm.example.com.\n_kerberos._udp.idm.example.com.       SRV service location:\n    priority                = 0\n    weight                  = 100\n    port                    = 88\n    svr hostname   = server.idm.example.com\n&gt; _ldap._tcp.idm.example.com\n_ldap._tcp.idm.example.com       SRV service location:\n    priority                = 0\n    weight                  = 100\n    port                    = 389\n    svr hostname   = server.idm.example.com\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tChange the service type to TXT and run a DNS query for the TXT record with the IdM Kerberos realm name.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">C:\\&gt;nslookup.exe\n&gt; set type=TXT\n&gt; _kerberos.idm.example.com.\n_kerberos.idm.example.com.        text =\n\n    \"IDM.EXAMPLE.COM\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun a DNS query for the MS DC Kerberos over UDP and LDAP over TCP service records.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">C:\\&gt;nslookup.exe\n&gt; set type=SRV\n&gt; _kerberos._udp.dc._msdcs.idm.example.com.\n_kerberos._udp.dc._msdcs.idm.example.com.        SRV service location:\n    priority = 0\n    weight = 100\n    port = 88\n    svr hostname = server.idm.example.com\n&gt; _ldap._tcp.dc._msdcs.idm.example.com.\n_ldap._tcp.dc._msdcs.idm.example.com.        SRV service location:\n    priority = 0\n    weight = 100\n    port = 389\n    svr hostname = server.idm.example.com\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tActive Directory only expects to discover domain controllers that can respond to AD-specific protocol requests, such as other AD domain controllers and IdM trust controllers. Use the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> tool to promote an IdM server to a trust controller, and you can verify which servers are trust controllers with the \u003Ccode class=\"literal\">ipa server-role-find --role 'AD trust controller'\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that AD services are resolvable from the AD server.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">C:\\&gt;nslookup.exe\n&gt; set type=SRV\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnter the domain name for the Kerberos over UDP and LDAP over TCP service records.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">&gt; _kerberos._udp.dc._msdcs.ad.example.com.\n_kerberos._udp.dc._msdcs.ad.example.com. \tSRV service location:\n    priority = 0\n    weight = 100\n    port = 88\n    svr hostname = addc1.ad.example.com\n&gt; _ldap._tcp.dc._msdcs.ad.example.com.\n_ldap._tcp.dc._msdcs.ad.example.com. \tSRV service location:\n    priority = 0\n    weight = 100\n    port = 389\n    svr hostname = addc1.ad.example.com\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-trust-agent_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.8. Creating a trust agent\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tA trust agent is an IdM server that can perform identity lookups against AD domain controllers.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor example, if you are creating a replica of an IdM server that has a trust with Active Directory, you can set up the replica as a trust agent. A replica does not automatically have the AD trust agent role installed.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIdM is installed with an Active Directory trust.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">sssd-tools\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn an existing trust controller, run the \u003Ccode class=\"literal\">ipa-adtrust-install --add-agents\u003C/code> command:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@existing_trust_controller]# ipa-adtrust-install --add-agents\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe command starts an interactive configuration session and prompts you for the information required to set up the agent.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the IdM service on the trust agent.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@new_trust_agent]# ipactl restart\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove all entries from the SSSD cache on the trust agent:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@new_trust_agent]# sssctl cache-remove\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that the replica has the AD trust agent role installed:.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@existing_trust_controller]# ipa server-show new_replica.idm.example.com\n...\nEnabled server roles: CA server, NTP server, AD trust agent\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor further information about the \u003Ccode class=\"literal\">--add-agents\u003C/code> option, see the \u003Ccode class=\"literal\">ipa-adtrust-install(1)\u003C/code> man page on your system.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor more information about trust agents, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\">Trust controllers and trust agents\u003C/a> in the Planning Identity Management guide.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.9. Enabling automatic private group mapping for a POSIX ID range on the CLI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis procedure explains how to enable automatic private group mapping for an ID range by setting the \u003Ccode class=\"literal\">hybrid\u003C/code> option for the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> SSSD parameter on the command line. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have successfully established a POSIX cross-forest trust between your IdM and AD environments.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisplay all ID ranges and make note of the AD ID range you want to modify.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-find\u003C/strong>\u003C/span>\n----------------\n2 ranges matched\n----------------\n  Range name: IDM.EXAMPLE.COM_id_range\n  First Posix ID of the range: 882200000\n  Number of IDs in the range: 200000\n  Range type: local domain range\n\n  Range name: \u003Cspan class=\"strong strong\">\u003Cstrong>AD.EXAMPLE.COM_id_range\u003C/strong>\u003C/span>\n  First Posix ID of the range: 1337000000\n  Number of IDs in the range: 200000\n  Domain SID of the trusted domain: S-1-5-21-4123312420-990666102-3578675309\n  Range type: \u003Cspan class=\"strong strong\">\u003Cstrong>Active Directory trust range with POSIX attributes\u003C/strong>\u003C/span>\n----------------------------\nNumber of entries returned 2\n----------------------------\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdjust the automatic private group behavior for the AD ID range with the \u003Ccode class=\"literal\">ipa idrange-mod\u003C/code> command.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-mod --auto-private-groups=hybrid AD.EXAMPLE.COM_id_range\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReset the SSSD cache to enable the new setting.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>sss_cache -E\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-posix_planning-a-cross-forest-trust-between-idm-and-ad\">Options for automatically mapping private groups for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_setting-up-a-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">9.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tBy default, SSSD does not map private groups for Active Directory (AD) users if you have established a POSIX trust that relies on POSIX data stored in AD. If any AD users do not have primary groups configured, IdM is not be able to resolve them.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThis procedure explains how to enable automatic private group mapping for an ID range by setting the \u003Ccode class=\"literal\">hybrid\u003C/code> option for the \u003Ccode class=\"literal\">auto_private_groups\u003C/code> SSSD parameter in the Identity Management (IdM) WebUI. As a result, IdM is able to resolve AD users that do not have primary groups configured in AD.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou have successfully established a POSIX cross-forest trust between your IdM and AD environments.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tLog into the IdM Web UI with your user name and password.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOpen the \u003Cspan class=\"strong strong\">\u003Cstrong>IPA Server\u003C/strong>\u003C/span> → \u003Cspan class=\"strong strong\">\u003Cstrong>ID Ranges\u003C/strong>\u003C/span> tab.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSelect the ID range you want to modify, such as \u003Ccode class=\"literal\">AD.EXAMPLE.COM_id_range\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tFrom the \u003Cspan class=\"strong strong\">\u003Cstrong>Auto private groups\u003C/strong>\u003C/span> drop down menu, select the \u003Ccode class=\"literal\">hybrid\u003C/code> option.\n\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/fb0d66e73e24d78850fb965591e815a7/idm-auto-private-group-posix.png\" alt=\"Screenshot of the ID Ranges tab of the IPA Server section of the IdM WebUI. A user selects the hybrid option from the Auth private groups dropdown menu.\"/>\u003C/span>\n\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>Save\u003C/strong>\u003C/span> button to save your changes.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#ref_options-for-automatically-mapping-private-groups-for-ad-users-id-mapping_planning-a-cross-forest-trust-between-idm-and-ad\">Options for automatically mapping private groups for AD users\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 10. Troubleshooting setting up a cross-forest trust\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tLearn more about troubleshooting the process of configuring a cross-forest trust between your Identity Management (IdM) environment and an Active Directory (AD) forest.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"ref_sequence-of-events-when-establishing-a-cross-forest-trust-with-ad_assembly_troubleshooting-setting-up-a-cross-forest-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.1. Sequence of events when establishing a cross-forest trust with AD\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWhen you use the \u003Ccode class=\"literal\">ipa trust-add\u003C/code> command to establish a cross-forest trust with an Active Directory (AD) Domain Controller (DC), the command operates on behalf of the user who ran the command and performs the following actions on the IdM server. If you have trouble establishing a cross-forest trust, you can use this list to help narrow down and troubleshoot your issue.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Part 1: The command verifies settings and inputs\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tVerify that the IdM server has the \u003Cspan class=\"strong strong\">\u003Cstrong>Trust Controller\u003C/strong>\u003C/span> role.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tValidate the options passed to the \u003Ccode class=\"literal\">ipa trust-add\u003C/code> command.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tValidate the ID range associated with a trusted forest root domain. If you did not specify the ID range type and properties as options to the \u003Ccode class=\"literal\">ipa trust-add\u003C/code> command, they are discovered from Active Directory.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Part 2: The command attempts to establish a trust to an Active Directory domain\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" start=\"4\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tCreate a separate trust object for each trust direction. Each of the objects get created on both sides (IdM and AD). If you are establishing a one-way trust, only one object is created on each side.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe IdM server uses the Samba suite to handle domain controller capabilities for Active Directory and creates a trust object on the target AD PDC:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe IdM server establishes a secure connection to the \u003Ccode class=\"literal\">IPC$\u003C/code> share on the target DC. Since RHEL 8.4, the connection requires at least the SMB3 protocol with Windows Server 2012 and above to ensure the connection is sufficiently secure with AES-based encryption used for the session.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe IdM server queries for the presence of the trusted domain object (TDO) using an \u003Ccode class=\"literal\">LSA QueryTrustedDomainInfoByName\u003C/code> call.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf the TDO is already present, remove it with an \u003Ccode class=\"literal\">LSA DeleteTrustedDomain\u003C/code> call.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tThis call fails if the AD user account used to establish the trust does not have full \u003Cspan class=\"strong strong\">\u003Cstrong>Enterprise Admin (EA)\u003C/strong>\u003C/span> or \u003Cspan class=\"strong strong\">\u003Cstrong>Domain Admin (DA)\u003C/strong>\u003C/span> privileges for the forest root, such as members of the \u003Cspan class=\"strong strong\">\u003Cstrong>Incoming Forest Trust Builders\u003C/strong>\u003C/span> group. If the old TDO is not automatically removed, an AD Administrator must manually remove it from AD.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tThe IdM server creates a new TDO with an \u003Ccode class=\"literal\">LSA CreateTrustedDomainEx2\u003C/code> call. The TDO credentials are randomly generated using a Samba-provided password generator with 128 random characters.\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe new TDO is then modified with an \u003Ccode class=\"literal\">LSA SetInformationTrustedDomain\u003C/code> call to make sure encryption types supported by the trust are set properly:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">RC4_HMAC_MD5\u003C/code> encryption type is enabled, even if there are no RC4 keys in use, due to how Active Directory is designed.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">AES128_CTS_HMAC_SHA1_96\u003C/code> and \u003Ccode class=\"literal\">AES256_CTS_HMAC_SHA1_96\u003C/code> encryption types are enabled.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tBy default, RHEL 9 does not allow SHA-1 encryption, which is an algorithm that AD requires. Make sure you have enabled the \u003Ccode class=\"literal\">AD-SUPPORT\u003C/code> system-wide cryptographic subpolicy to allow SHA-1 encryption in your RHEL 9 IdM servers for communication with AD Domain Controllers. See &lt;link TBA&gt;.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor a forest trust, verify that in-forest domains can be reached transitively with an \u003Ccode class=\"literal\">LSA SetInformationTrustedDomain\u003C/code> call.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd trust topology information about the other forest (IdM in the case of communicating with AD, AD in the case of communicating with IdM) using an \u003Ccode class=\"literal\">LSA RSetForestTrustInformation\u003C/code> call.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tThis step might cause a conflict for one of three reasons:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tA SID namespace conflict, reported as an \u003Ccode class=\"literal\">LSA_SID_DISABLED_CONFLICT\u003C/code> error. This conflict cannot be resolved.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tA NetBIOS namespace conflict, reported as an \u003Ccode class=\"literal\">LSA_NB_DISABLED_CONFLICT\u003C/code> error. This conflict cannot be resolved.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tA DNS namespace conflict with a top level name (TLN), reported as an \u003Ccode class=\"literal\">LSA_TLN_DISABLED_CONFLICT\u003C/code> error. The IdM server can automatically resolve a TLN conflict if it is caused by another forest.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\t\t\tTo resolve a TLN conflict, the IdM server performs the following steps:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRetrieve forest trust information for the conflicting forest.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAdd an exclusion entry for the IdM DNS namespace to the AD forest.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSet forest trust information for the forest we conflict on.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tRe-try establishing the trust to the original forest.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\t\t\tThe IdM server can only resolve these conflicts if you authenticated the \u003Ccode class=\"literal\">ipa trust-add\u003C/code> command with the privileges of an AD administrator that can change forest trusts. If you do not have access to those privileges, the administrator of the original forest must manually perform the steps above in the \u003Cspan class=\"strong strong\">\u003Cstrong>Active Directory Domains and Trusts\u003C/strong>\u003C/span> section of the Windows UI.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf it does not exist, create the ID range for the trusted domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tFor a forest trust, query Active Directory domain controllers from the forest root for details about the forest topology. The IdM server uses this information to create additional ID ranges for any additional domains from the trusted forest.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\">Trust controllers and trust agents\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/4a1806f9-2979-491d-af3c-f82ed0a4c1ba\">Overview Documents\u003C/a> (Microsoft)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-winprotlp/e36c976a-6263-42a8-b119-7a3cc41ddd2a\">Technical Documents\u003C/a> (Microsoft)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/plan/security-best-practices/appendix-b--privileged-accounts-and-groups-in-active-directory\">Privileged Accounts and Groups in Active Directory\u003C/a> (Microsoft)\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_checklist-of-prerequisites-for-establishing-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.2. Checklist of prerequisites for establishing an AD trust\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can use the following checklist to review the prerequisites for creating a trust with an AD domain.\n\t\t\t\u003C/p>\u003Crh-table id=\"idm139750725963760\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 10.1. Table\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750725958000\" scope=\"col\">Component\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750725956912\" scope=\"col\">Configuration\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm139750725955824\" scope=\"col\">Additional details\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tProduct versions\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tYour Active Directory domain is using a supported version of Windows Server.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#supported-versions-of-windows-server_installing-trust-between-idm-and-ad\">Supported versions of Windows Server\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tAD Administrator privileges\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe Active Directory administration account must be a member of one of the following groups:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Enterprise Admin (EA)\u003C/strong>\u003C/span> group in the AD forest\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Domain Admins (DA)\u003C/strong>\u003C/span> group in the forest root domain for your AD forest\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tNetworking\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tIPv6 support is enabled in the Linux kernel for all IdM servers.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#system-requirements-in-ipa_preparing-the-system-for-ipa-server-installation\">IPv6 requirements in IdM\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tDate and time\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tVerify the date and time settings on both servers match.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#assembly_time-service-requirements-for-idm_preparing-the-system-for-ipa-server-installation\">Time service requirements for IdM\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tEncryption types\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe following AD accounts have AES encryption keys:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAD Administrator\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAD user accounts\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tAD services\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tIf you have recently enabled AES encryption in AD, generate new AES keys with the following steps:\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tRe-establish trust relationships between any AD domains in your forest.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tChange the passwords for the AD Administrator, user accounts, and services.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/preparing-the-system-for-ipa-server-installation_installing-identity-management#system-requirements-in-ipa_preparing-the-system-for-ipa-server-installation\">Support for encryption types in IdM\u003C/a>\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">Enabling the AES encryption type in Active Directory using a GPO\u003C/a>\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tFirewall\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tYou have opened all necessary ports on IdM servers and AD Domain Controllers for bidirectional communication.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad\">Ports required for communication between IdM and AD\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tDNS\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIdM and AD each have unique primary DNS domains.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tIdM and AD DNS domains do not overlap.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tProper DNS service (SRV) records for LDAP and Kerberos services.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tYou can resolve DNS records from all DNS domains in the trust.\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\tKerberos realm names are the upper-case versions of primary DNS domain names. For example, DNS domain \u003Ccode class=\"literal\">example.com\u003C/code> has a corresponding Kerberos realm \u003Ccode class=\"literal\">EXAMPLE.COM\u003C/code>\n\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_identity_management/installing-trust-between-idm-and-ad_installing-identity-management#configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad\">Configuring DNS and realm settings for a trust\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725958000\"> \u003Cp>\n\t\t\t\t\t\t\t\tTopology\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725956912\"> \u003Cp>\n\t\t\t\t\t\t\t\tEnsure you are attempting to establish a trust with an IdM server you have configured as a trust controller.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm139750725955824\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad\">Trust controllers and trust agents\u003C/a>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"proc_gathering-debug-logs-of-an-attempt-to-establish-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">10.3. Gathering debug logs of an attempt to establish an AD trust\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you are experiencing issues with establishing a trust between an IdM environment and AD domain, use the following steps to enable detailed error logging so you can gather logs of an attempt to establish a trust. You can review these logs to help with your troubleshooting efforts, or you can provide them in a Red Hat Technical Support case.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou need root permissions to restart IdM services.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo enable debugging for the IdM server, create the file \u003Ccode class=\"literal\">/etc/ipa/server.conf\u003C/code> with the following contents.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\ndebug=True\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">httpd\u003C/code> service to load the debugging configuration.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# systemctl restart httpd\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStop the \u003Ccode class=\"literal\">smb\u003C/code> and \u003Ccode class=\"literal\">winbind\u003C/code> services.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# systemctl stop smb winbind\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the debugging log level for the \u003Ccode class=\"literal\">smb\u003C/code> and \u003Ccode class=\"literal\">winbind\u003C/code> services.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# net conf setparm global 'log level' 100\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tTo enable debug logging for Samba client code used by the IdM framework, edit the \u003Ccode class=\"literal\">/usr/share/ipa/smb.conf.empty\u003C/code> configuration file to have the following contents.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">    [global]\n    log level = 100\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRemove previous Samba logs.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# rm /var/log/samba/log.*\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tStart the \u003Ccode class=\"literal\">smb\u003C/code> and \u003Ccode class=\"literal\">winbind\u003C/code> services.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# systemctl start smb winbind\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tPrint a timestamp as you attempt to establish a trust with verbose mode enabled.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# date; ipa -vvv trust-add --type=ad ad.example.com\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReview the following error log files for information about the failed request:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/var/log/httpd/error_log\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">/var/log/samba/log.*\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable debugging.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# mv /etc/ipa/server.conf /etc/ipa/server.conf.backup\n[root@trust_controller ~]# systemctl restart httpd\n[root@trust_controller ~]# systemctl stop smb winbind\n[root@trust_controller ~]# net conf setparm global 'log level' 0\n[root@trust_controller ~]# mv /usr/share/ipa/smb.conf.empty /usr/share/ipa/smb.conf.empty.backup\n[root@trust_controller ~]# systemctl start smb winbind\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: If you are unable to determine the cause of the authentication issue:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tCollect and archive the log files you recently generated.\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@trust_controller ~]# tar -cvf debugging-trust.tar /var/log/httpd/error_log /var/log/samba/log.*\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tOpen a Red Hat Technical Support case and provide the timestamp and debug logs from the attempt.\n\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/articles/2772181\">IPA - AD Trust Troubleshooting\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 11. Troubleshooting client access to services in the other forest\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tAfter configuring a trust between your Identity Management (IdM) and Active Directory (AD) environments, you might experience issues where a client in one domain is not able to access a service in the other domain. Use the following diagrams to troubleshoot the issue.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.1. Flow of information when a host in the AD forest root domain requests services from an IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following diagram explains the flow of information when an Active Directory (AD) client requests a service in the Identity Management (IdM) domain.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you have trouble accessing IdM services from AD clients, you can use this information to narrow your troubleshooting efforts and identify the source of the issue.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/05f59c413b56ffe42919a40e0d97baaf/231_RHEL_troubleshooting_cross-forest_0422_AD-request.png\" alt=\"diagram showing how an AD client communicates with an AD Domain Controller and an IdM server\"/>\u003C/span>\n\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client contacts the AD Kerberos Distribution Center (KDC) to perform a TGS Request for the service in the IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD KDC recognizes that the service belongs to the trusted IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD KDC sends the client a cross-realm ticket-granting ticket (TGT), along with a referral to the trusted IdM KDC.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client uses the cross-realm TGT to request a ticket to the IdM KDC.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM KDC validates the Privileged Attribute Certificate (MS-PAC) that is transmitted with the cross-realm TGT.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA-KDB plugin might check the LDAP directory to see if foreign principals are allowed to get tickets for the requested service.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA-KDB plugin decodes the MS-PAC, verifies, and filters the data. It performs lookups in the LDAP server to check if it needs to augment the MS-PAC with additional information, such as local groups.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA-KDB plugin then encodes the PAC, signs it, attaches it to the service ticket, and sends it to the AD client.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client can now contact the IdM service using the service ticket issued by IdM KDC.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest\" title=\"11.2. Flow of information when a host in an AD child domain requests services from an IdM server\">Flow of information when a host in an AD child domain requests services from an IdM server\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.2. Flow of information when a host in an AD child domain requests services from an IdM server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following diagram explains the flow of information when an Active Directory (AD) host in a child domain requests a service in the Identity Management (IdM) domain. In this scenario, the AD client contacts the Kerberos Distribution Center (KDC) in the child domain, then contacts the KDC in the AD forest root, and finally contacts the IdM KDC to request access to the IdM service.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you have trouble accessing IdM services from AD clients, and your AD client belongs to a domain that is a child domain of an AD forest root, you can use this information to narrow your troubleshooting efforts and identify the source of the issue.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/12a1b17ff8d91d060b1a6fecabb31c50/231_RHEL_troubleshooting_cross-forest_0422_AD-child.png\" alt=\"diagram showing how an AD client in a chile domain communicates with multiple layers of AD Domain Controllers and an IdM server\"/>\u003C/span>\n\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client contacts the AD Kerberos Distribution Center (KDC) in its own domain to perform a TGS Request for the service in the IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD KDC in \u003Ccode class=\"literal\">child.ad.example.com\u003C/code>, the child domain, recognizes that the service belongs to the trusted IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD KDC in the child domain sends the client a referral ticket for the AD forest root domain \u003Ccode class=\"literal\">ad.example.com\u003C/code>.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client contacts the KDC in the AD forest root domain for the service in the IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe KDC in the forest root domain recognizes that the service belongs to the trusted IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD KDC sends the client a cross-realm ticket-granting ticket (TGT), along with a referral to the trusted IdM KDC.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client uses the cross-realm TGT to request a ticket to the IdM KDC.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM KDC validates the Privileged Attribute Certificate (MS-PAC) that is transmitted with the cross-realm TGT.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA-KDB plugin might check the LDAP directory to see if foreign principals are allowed to get tickets for the requested service.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA-KDB plugin decodes the MS-PAC, verifies, and filters the data. It performs lookups in the LDAP server to check if it needs to augment the MS-PAC with additional information, such as local groups.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA-KDB plugin then encodes the PAC, signs it, attaches it to the service ticket, and sends it to the AD client.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD client can now contact the IdM service using the service ticket issued by IdM KDC.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest\" title=\"11.1. Flow of information when a host in the AD forest root domain requests services from an IdM server\">Flow of information when a host in the AD forest root domain requests services from an IdM server\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"ref_flow-of-information-when-an-idm-client-requests-services-from-an-ad-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">11.3. Flow of information when an IdM client requests services from an AD server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe following diagram explains the flow of information when an Identity Management (IdM) client requests a service in the Active Directory (AD) domain when you have configured a two-way trust between IdM and AD.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you have trouble accessing AD services from IdM clients, you can use this information to narrow your troubleshooting efforts and identify the source of the issue.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tBy default, IdM establishes a one-way trust to AD, which means it is not possible to issue cross-realm ticket-granting ticket (TGT) for resources in an AD forest. To be able to request tickets to services from trusted AD domains, configure a two-way trust.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/3e76f5da066145829664932c065cb412/231_RHEL_troubleshooting_cross-forest_0422_IdM-request.png\" alt=\"diagram showing how an IdM client communicates with an IdM server and an AD Domain Controller\"/>\u003C/span>\n\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM client requests a ticket-granting ticket (TGT) from the IdM Kerberos Distribution Center (KDC) for the AD service it wants to contact.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM KDC recognizes that the service belongs to the AD realm, verifies that the realm is known and trusted, and that the client is allowed to request services from that realm.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUsing information from the IdM Directory Server about the user principal, the IdM KDC creates a cross-realm TGT with a Privileged Attribute Certificate (MS-PAC) record about the user principal.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM KDC sends back a cross-realm TGT to the IdM client.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IdM client contacts the AD KDC to request a ticket for the AD service, presenting the cross-realm TGT that contains the MS-PAC provided by the IdM KDC.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD server validates and filters the PAC, and returns a ticket for the AD service.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe IPA client can now contact the AD service.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/planning_identity_management/planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management#one-way-trusts-and-two-way-trusts_planning-a-cross-forest-trust-between-idm-and-ad\">One-way trusts and two-way trusts\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 12. Removing the trust using the command line\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tFollow this procedure to remove the Identity Management (IdM)/Active Directory (AD) trust on the IdM side using the command line interface.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have obtained a Kerberos ticket as an IdM administrator. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/logging-in-to-ipa-in-the-web-ui-using-a-kerberos-ticket_accessing-idm-services\">Logging in to IdM in the Web UI: Using a Kerberos ticket\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tUse the \u003Ccode class=\"literal\">ipa trust-del\u003C/code> command to remove the trust configuration from IdM.\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa trust-del \u003Cspan class=\"emphasis\">\u003Cem>ad_domain_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\n------------------------------\nDeleted trust \"\u003Cspan class=\"emphasis\">\u003Cem>ad_domain_name\u003C/em>\u003C/span>\"\n------------------------------\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tRemove the trust object from your Active Directory configuration.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tRemoving the trust configuration does not automatically remove the ID range IdM has created for AD users. This way, if you add the trust again, the existing ID range is re-used. Also, if AD users have created files on an IdM client, their POSIX IDs are preserved in the file metadata.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo remove all information related to an AD trust, remove the AD user ID range after removing the trust configuration and trust object:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ipa idrange-del \u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM_id_range\u003C/em>\u003C/span>\n# systemctl restart sssd\u003C/pre>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tUse the \u003Ccode class=\"literal\">ipa trust-show\u003C/code> command to confirm that the trust has been removed.\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa trust-show \u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nipa: ERROR: ad.example.com: trust not found\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad\" title=\"Chapter 15. Removing an ID range after removing a trust to AD\">Removing an ID range after removing a trust to AD\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 13. Removing the trust using the IdM Web UI\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tFollow this procedure to remove the Identity Management (IdM)/Active Directory (AD) trust using the IdM Web UI.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have obtained a Kerberos ticket. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/logging-in-to-ipa-in-the-web-ui-using-a-kerberos-ticket_accessing-idm-services\">Logging in to IdM in the Web UI: Using a Kerberos ticket\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the IdM Web UI with administrator privileges. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/accessing_identity_management_services/accessing-the-ipa-web-ui-in-a-web-browser_accessing-idm-services\">Accessing the IdM Web UI in a web browser\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tIn the IdM Web UI, click the \u003Cspan class=\"strong strong\">\u003Cstrong>IPA Server\u003C/strong>\u003C/span> tab.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>IPA Server\u003C/strong>\u003C/span> tab, click the \u003Cspan class=\"strong strong\">\u003Cstrong>Trusts\u003C/strong>\u003C/span> tab.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tSelect the trust you want to remove.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/5f064d1bc1955a3b4283c932a928719a/idm-trust-remove.png\" alt=\"A screenshot of the IdM Web UI displaying the &quot;Trusts&quot; page which is a subpage of the &quot;IPA Server&quot; tab. This page has a table listing &quot;Realm names&quot; and checkbox next to the first entry of &quot;AD.EXAMPLE.COM&quot; is checked.\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick the \u003Cspan class=\"strong strong\">\u003Cstrong>Delete\u003C/strong>\u003C/span> button.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tIn the \u003Cspan class=\"strong strong\">\u003Cstrong>Remove trusts\u003C/strong>\u003C/span> dialog box, click \u003Cspan class=\"strong strong\">\u003Cstrong>Delete\u003C/strong>\u003C/span>.\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/d8899ed36abda925b088631b2eed622d/idm-trust-delete.png\" alt=\"A screenshot of a pop-up window titled &quot;Remove trusts.&quot; The content of the warning is &quot;Are you sure you want to delete selected entries?&quot; and lists &quot;AD.EXAMPLE.COM&quot; below. There are &quot;Delete&quot; and &quot;Cancel&quot; buttons at the bottom right.\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tRemove the trust object from your Active Directory configuration.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tRemoving the trust configuration does not automatically remove the ID range IdM has created for AD users. This way, if you add the trust again, the existing ID range is re-used. Also, if AD users have created files on an IdM client, their POSIX IDs are preserved in the file metadata.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo remove all information related to an AD trust, remove the AD user ID range in the \u003Ccode class=\"literal\">ID Ranges\u003C/code> tab after removing the trust configuration and trust object.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tIf the trust has been successfully deleted, the Web UI displays a green pop-up with the text:\n\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US/images/2ae2c50919b965eeb526e4fa384ead14/idm-trust-deleted.png\" alt=\"A screenshot of the IdM Web UI displaying the &quot;Trusts&quot; page with a pop-up window at the top that says &quot;1 item(s) deleted.&quot; The table on the &quot;Trusts&quot; page does not have any entries.\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad\" title=\"Chapter 15. Removing an ID range after removing a trust to AD\">Removing an ID range after removing a trust to AD\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 14. Removing the trust using Ansible\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tFollow this procedure to remove the Identity Management (IdM)/Active Directory (AD) trust on the IdM side by using an Ansible playbook.\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have obtained a Kerberos ticket as an IdM administrator. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_identity_management/logging-in-to-ipa-in-the-web-ui-using-a-kerberos-ticket_configuring-and-managing-idm\">Logging in to IdM in the Web UI: Using a Kerberos ticket\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tYou have configured your Ansible control node to meet the following requirements:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou are using Ansible version 2.15 or later.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou have installed the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/installing-an-identity-management-server-using-an-ansible-playbook_installing-identity-management#installing-the-ansible-freeipa-package_server-ansible\">\u003Ccode class=\"literal\">ansible-freeipa\u003C/code>\u003C/a> package on the Ansible controller.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe example assumes that in the \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory, you have created an \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/using_ansible_to_install_and_manage_identity_management/preparing-your-environment-for-managing-idm-using-ansible-playbooks_using-ansible-to-install-and-manage-identity-management\">Ansible inventory file\u003C/a> with the fully-qualified domain name (FQDN) of the IdM server.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe example assumes that the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> Ansible vault stores your \u003Ccode class=\"literal\">ipaadmin_password\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tThe target node, that is the node on which the \u003Ccode class=\"literal\">ansible-freeipa\u003C/code> module is executed, is part of the IdM domain as an IdM client, server or replica.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tNavigate to your \u003Cspan class=\"strong strong\">\u003Cstrong>~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span> directory:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>cd ~/\u003Cspan class=\"emphasis\">\u003Cem>MyPlaybooks\u003C/em>\u003C/span>/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tCreate an \u003Ccode class=\"literal\">del-trust.yml\u003C/code> playbook with the following content:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">---\n- name: Playbook to delete trust\n  hosts: ipaserver\n\n  vars_files:\n  - /home/user_name/MyPlaybooks/secret.yml\n  tasks:\n    - name: ensure the trust is absent\n      ipatrust:\n        ipaadmin_password: \"{{ ipaadmin_password }}\"\n        realm: ad.example.com\n        state: absent\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\tIn the example, \u003Ccode class=\"literal\">realm\u003C/code> defines the AD realm name string.\n\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSave the file.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tRun the Ansible playbook. Specify the playbook file, the file storing the password protecting the \u003Cspan class=\"strong strong\">\u003Cstrong>secret.yml\u003C/strong>\u003C/span> file, and the inventory file:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>ansible-playbook --vault-password-file=password_file -v -i inventory del-trust.yml\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tRemoving the trust configuration does not automatically remove the ID range IdM has created for AD users. This way, if you add the trust again, the existing ID range is re-used. Also, if AD users have created files on an IdM client, their POSIX IDs are preserved in the file metadata.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo remove all information related to an AD trust, remove the AD user ID range after removing the trust configuration and trust object:\n\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># ipa idrange-del \u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM_id_range\u003C/em>\u003C/span>\n# systemctl restart sssd\u003C/pre>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tUse the \u003Ccode class=\"literal\">ipa trust-show\u003C/code> command to confirm that the trust has been removed.\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa trust-show \u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nipa: ERROR: ad.example.com: trust not found\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t/usr/share/doc/ansible-freeipa/README-trust.md\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t/usr/share/doc/ansible-freeipa/playbooks/trust\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad\" title=\"Chapter 15. Removing an ID range after removing a trust to AD\">Removing an ID range after removing a trust to AD\u003C/a>\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 15. Removing an ID range after removing a trust to AD\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tIf you have removed a trust between your IdM and Active Directory (AD) environments, you might want to remove the ID range associated with it.\n\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\tIDs allocated to ID ranges associated with trusted domains might still be used for ownership of files and directories on systems enrolled into IdM.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIf you remove the ID range that corresponds to an AD trust that you have removed, you will not be able to resolve the ownership of any files and directories owned by AD users.\n\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tYou have removed a trust to an AD environment.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tDisplay all the ID ranges that are currently in use:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-find\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tIdentify the name of the ID range associated with the trust you have removed. The first part of the name of the ID range is the name of the trust, for example \u003Ccode class=\"literal\">AD.EXAMPLE.COM_id_range\u003C/code>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tRemove the range:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-del \u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM_id_range\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tRestart the SSSD service to remove references to the ID range you have removed.\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart sssd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad\">Removing the trust using the command line\u003C/a>.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tSee \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad\">Removing the trust using the IdM Web UI\u003C/a>.\n\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm139750721543712\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[14,21,26,31,36,41,46,68,73,99,121,167,185,203,208,213,218,224],{"title":11,"visible":15,"weight":16,"urlFragment":17,"anchor":18,"singlePageAnchor":18,"docTitle":19,"url":20},true,1,"index",null,"installing_trust_between_idm_and_ad","#",{"title":22,"visible":15,"weight":23,"urlFragment":24,"anchor":18,"singlePageAnchor":24,"docTitle":19,"url":25},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad","#proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad",{"title":27,"visible":15,"weight":28,"urlFragment":29,"anchor":18,"singlePageAnchor":29,"docTitle":19,"url":30},"1. Prerequisites for establishing a trust",3,"ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad","#ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad",{"title":32,"visible":15,"weight":33,"urlFragment":34,"anchor":18,"singlePageAnchor":34,"docTitle":19,"url":35},"2. Supported versions of Windows Server",4,"supported-versions-of-windows-server_installing-trust-between-idm-and-ad","#supported-versions-of-windows-server_installing-trust-between-idm-and-ad",{"title":37,"visible":15,"weight":38,"urlFragment":39,"anchor":18,"singlePageAnchor":39,"docTitle":19,"url":40},"3. How the trust works",5,"how-the-trust-works_installing-trust-between-idm-and-ad","#how-the-trust-works_installing-trust-between-idm-and-ad",{"title":42,"visible":15,"weight":43,"urlFragment":44,"anchor":18,"singlePageAnchor":44,"docTitle":19,"url":45},"4. AD administration rights",6,"ad-administration-rights_installing-trust-between-idm-and-ad","#ad-administration-rights_installing-trust-between-idm-and-ad",{"title":47,"visible":15,"weight":48,"urlFragment":49,"anchor":18,"singlePageAnchor":49,"sections":50,"docTitle":19,"url":67},"5. Ensuring support for common encryption types in AD and RHEL",7,"ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad",[51,55,59,63],{"title":52,"visible":15,"weight":16,"urlFragment":49,"anchor":53,"singlePageAnchor":53,"docTitle":19,"url":54},"5.1. Enabling AES encryption in AD (recommended)","enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel","#enabling-aes-encryption-in-ad_ensuring-support-for-common-encryption-types-in-ad-and-rhel",{"title":56,"visible":15,"weight":23,"urlFragment":49,"anchor":57,"singlePageAnchor":57,"docTitle":19,"url":58},"5.2. Enabling the AES encryption type in Active Directory using a GPO","enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel","#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel",{"title":60,"visible":15,"weight":28,"urlFragment":49,"anchor":61,"singlePageAnchor":61,"docTitle":19,"url":62},"5.3. Enabling RC4 support in RHEL","enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel","#enabling-rc4-support-in-rhel_ensuring-support-for-common-encryption-types-in-ad-and-rhel",{"title":64,"visible":15,"weight":33,"urlFragment":49,"anchor":65,"singlePageAnchor":65,"docTitle":19,"url":66},"5.4. Additional resources","additional_resources","#additional_resources","#ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad",{"title":69,"visible":15,"weight":70,"urlFragment":71,"anchor":18,"singlePageAnchor":71,"docTitle":19,"url":72},"6. Ports required for communication between IdM and AD",8,"ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad","#ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad",{"title":74,"visible":15,"weight":75,"urlFragment":76,"anchor":18,"singlePageAnchor":76,"sections":77,"docTitle":19,"url":98},"7. Configuring DNS and realm settings for a trust",9,"configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad",[78,82,86,90,94],{"title":79,"visible":15,"weight":16,"urlFragment":76,"anchor":80,"singlePageAnchor":80,"docTitle":19,"url":81},"7.1. Unique primary DNS domains","unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust","#unique-primary-dns-domains_configuring-dns-and-realm-settings-for-a-trust",{"title":83,"visible":15,"weight":23,"urlFragment":76,"anchor":84,"singlePageAnchor":84,"docTitle":19,"url":85},"7.2. Configuring a DNS forward zone in the IdM Web UI","configuring-dns-zones-in-idm_configuring-dns-and-realm-settings-for-a-trust","#configuring-dns-zones-in-idm_configuring-dns-and-realm-settings-for-a-trust",{"title":87,"visible":15,"weight":28,"urlFragment":76,"anchor":88,"singlePageAnchor":88,"docTitle":19,"url":89},"7.3. Configuring a DNS forward zone in the CLI","configuring-dns-zones-in-cli_configuring-dns-and-realm-settings-for-a-trust","#configuring-dns-zones-in-cli_configuring-dns-and-realm-settings-for-a-trust",{"title":91,"visible":15,"weight":33,"urlFragment":76,"anchor":92,"singlePageAnchor":92,"docTitle":19,"url":93},"7.4. Configuring DNS forwarding in AD","configuring-dns-forwarding-in-ad_configuring-dns-and-realm-settings-for-a-trust","#configuring-dns-forwarding-in-ad_configuring-dns-and-realm-settings-for-a-trust",{"title":95,"visible":15,"weight":38,"urlFragment":76,"anchor":96,"singlePageAnchor":96,"docTitle":19,"url":97},"7.5. Verifying the DNS configuration","verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust","#verifying-the-dns-configuration_configuring-dns-and-realm-settings-for-a-trust","#configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad",{"title":100,"visible":15,"weight":101,"urlFragment":102,"anchor":18,"singlePageAnchor":102,"sections":103,"docTitle":19,"url":120},"8. Configuring IdM clients in an Active Directory DNS domain",10,"assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad",[104,108,112,116],{"title":105,"visible":15,"weight":16,"urlFragment":102,"anchor":106,"singlePageAnchor":106,"docTitle":19,"url":107},"8.1. Configuring an IdM client without Kerberos single sign-on","proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain","#proc_configuring-an-idm-client-without-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain",{"title":109,"visible":15,"weight":23,"urlFragment":102,"anchor":110,"singlePageAnchor":110,"docTitle":19,"url":111},"8.2. Requesting SSL certificates without single sign-on","proc_handling-ssl-certificates-without-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain","#proc_handling-ssl-certificates-without-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain",{"title":113,"visible":15,"weight":28,"urlFragment":102,"anchor":114,"singlePageAnchor":114,"docTitle":19,"url":115},"8.3. Configuring an IdM client with Kerberos single sign-on","proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain","#proc_configuring-an-idm-client-with-kerberos-single-sign-on_assembly_configuring-idm-clients-in-an-active-directory-dns-domain",{"title":117,"visible":15,"weight":33,"urlFragment":102,"anchor":118,"singlePageAnchor":118,"docTitle":19,"url":119},"8.4. Requesting SSL certificates with single sign-on","proc_handling-ssl-certificates-with-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain","#proc_handling-ssl-certificates-with-single-sign-on-available_assembly_configuring-idm-clients-in-an-active-directory-dns-domain","#assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad",{"title":122,"visible":15,"weight":123,"urlFragment":124,"anchor":18,"singlePageAnchor":124,"sections":125,"docTitle":19,"url":166},"9. Setting up a trust",11,"setting-up-a-trust_installing-trust-between-idm-and-ad",[126,130,134,138,142,146,150,154,158,162],{"title":127,"visible":15,"weight":16,"urlFragment":124,"anchor":128,"singlePageAnchor":128,"docTitle":19,"url":129},"9.1. Preparing the IdM server for the trust","preparing-the-idm-server-for-the-trust_setting-up-a-trust","#preparing-the-idm-server-for-the-trust_setting-up-a-trust",{"title":131,"visible":15,"weight":23,"urlFragment":124,"anchor":132,"singlePageAnchor":132,"docTitle":19,"url":133},"9.2. Setting up a trust agreement using the command line","setting-up-a-trust-agreement-using-the-command-line_setting-up-a-trust","#setting-up-a-trust-agreement-using-the-command-line_setting-up-a-trust",{"title":135,"visible":15,"weight":28,"urlFragment":124,"anchor":136,"singlePageAnchor":136,"docTitle":19,"url":137},"9.3. Setting up a trust agreement in the IdM Web UI","setting-up-the-trust-in-the-idm-web-ui_setting-up-a-trust","#setting-up-the-trust-in-the-idm-web-ui_setting-up-a-trust",{"title":139,"visible":15,"weight":33,"urlFragment":124,"anchor":140,"singlePageAnchor":140,"docTitle":19,"url":141},"9.4. Setting up a trust agreement using Ansible","proc_setting-up-a-trust-agreement-using-ansible_setting-up-a-trust","#proc_setting-up-a-trust-agreement-using-ansible_setting-up-a-trust",{"title":143,"visible":15,"weight":38,"urlFragment":124,"anchor":144,"singlePageAnchor":144,"docTitle":19,"url":145},"9.5. Verifying the Kerberos configuration","verifying-the-kerberos-configuration_setting-up-a-trust","#verifying-the-kerberos-configuration_setting-up-a-trust",{"title":147,"visible":15,"weight":43,"urlFragment":124,"anchor":148,"singlePageAnchor":148,"docTitle":19,"url":149},"9.6. Verifying the trust configuration on IdM","verifying-the-trust-configuration-on-idm_setting-up-a-trust","#verifying-the-trust-configuration-on-idm_setting-up-a-trust",{"title":151,"visible":15,"weight":48,"urlFragment":124,"anchor":152,"singlePageAnchor":152,"docTitle":19,"url":153},"9.7. Verifying the trust configuration on AD","verifying-the-trust-configuration-on-ad_setting-up-a-trust","#verifying-the-trust-configuration-on-ad_setting-up-a-trust",{"title":155,"visible":15,"weight":70,"urlFragment":124,"anchor":156,"singlePageAnchor":156,"docTitle":19,"url":157},"9.8. Creating a trust agent","proc_creating-a-trust-agent_setting-up-a-trust","#proc_creating-a-trust-agent_setting-up-a-trust",{"title":159,"visible":15,"weight":75,"urlFragment":124,"anchor":160,"singlePageAnchor":160,"docTitle":19,"url":161},"9.9. Enabling automatic private group mapping for a POSIX ID range on the CLI","proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_setting-up-a-trust","#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-on-the-cli_setting-up-a-trust",{"title":163,"visible":15,"weight":101,"urlFragment":124,"anchor":164,"singlePageAnchor":164,"docTitle":19,"url":165},"9.10. Enabling automatic private group mapping for a POSIX ID range in the IdM WebUI","proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_setting-up-a-trust","#proc_enabling-automatic-private-group-mapping-for-a-posix-id-range-in-the-idm-webui_setting-up-a-trust","#setting-up-a-trust_installing-trust-between-idm-and-ad",{"title":168,"visible":15,"weight":169,"urlFragment":170,"anchor":18,"singlePageAnchor":170,"sections":171,"docTitle":19,"url":184},"10. Troubleshooting setting up a cross-forest trust",12,"assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad",[172,176,180],{"title":173,"visible":15,"weight":16,"urlFragment":170,"anchor":174,"singlePageAnchor":174,"docTitle":19,"url":175},"10.1. Sequence of events when establishing a cross-forest trust with AD","ref_sequence-of-events-when-establishing-a-cross-forest-trust-with-ad_assembly_troubleshooting-setting-up-a-cross-forest-trust","#ref_sequence-of-events-when-establishing-a-cross-forest-trust-with-ad_assembly_troubleshooting-setting-up-a-cross-forest-trust",{"title":177,"visible":15,"weight":23,"urlFragment":170,"anchor":178,"singlePageAnchor":178,"docTitle":19,"url":179},"10.2. Checklist of prerequisites for establishing an AD trust","ref_checklist-of-prerequisites-for-establishing-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust","#ref_checklist-of-prerequisites-for-establishing-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust",{"title":181,"visible":15,"weight":28,"urlFragment":170,"anchor":182,"singlePageAnchor":182,"docTitle":19,"url":183},"10.3. Gathering debug logs of an attempt to establish an AD trust","proc_gathering-debug-logs-of-an-attempt-to-establish-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust","#proc_gathering-debug-logs-of-an-attempt-to-establish-an-ad-trust_assembly_troubleshooting-setting-up-a-cross-forest-trust","#assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad",{"title":186,"visible":15,"weight":187,"urlFragment":188,"anchor":18,"singlePageAnchor":188,"sections":189,"docTitle":19,"url":202},"11. Troubleshooting client access to services in the other forest",13,"assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad",[190,194,198],{"title":191,"visible":15,"weight":16,"urlFragment":188,"anchor":192,"singlePageAnchor":192,"docTitle":19,"url":193},"11.1. Flow of information when a host in the AD forest root domain requests services from an IdM server","ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest","#ref_flow-of-information-when-a-host-in-the-ad-forest-root-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest",{"title":195,"visible":15,"weight":23,"urlFragment":188,"anchor":196,"singlePageAnchor":196,"docTitle":19,"url":197},"11.2. Flow of information when a host in an AD child domain requests services from an IdM server","ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest","#ref_flow-of-information-when-a-host-in-an-ad-child-domain-requests-services-from-an-idm-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest",{"title":199,"visible":15,"weight":28,"urlFragment":188,"anchor":200,"singlePageAnchor":200,"docTitle":19,"url":201},"11.3. Flow of information when an IdM client requests services from an AD server","ref_flow-of-information-when-an-idm-client-requests-services-from-an-ad-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest","#ref_flow-of-information-when-an-idm-client-requests-services-from-an-ad-server_assembly_troubleshooting-client-access-to-services-in-the-other-forest","#assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad",{"title":204,"visible":15,"weight":205,"urlFragment":206,"anchor":18,"singlePageAnchor":206,"docTitle":19,"url":207},"12. Removing the trust using the command line",14,"proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad","#proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad",{"title":209,"visible":15,"weight":210,"urlFragment":211,"anchor":18,"singlePageAnchor":211,"docTitle":19,"url":212},"13. Removing the trust using the IdM Web UI",15,"removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad","#removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad",{"title":214,"visible":15,"weight":215,"urlFragment":216,"anchor":18,"singlePageAnchor":216,"docTitle":19,"url":217},"14. Removing the trust using Ansible",16,"proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad","#proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad",{"title":219,"visible":15,"weight":220,"urlFragment":221,"anchor":18,"singlePageAnchor":222,"docTitle":19,"url":223},"15. Removing an ID range after removing a trust to AD",17,"proc_removing-an-id-range-after-removing-a-trust-to-ad_installing-trust-between-idm-and-ad","proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad","#proc_removing-an-id-range-after-removing-a-trust-to-AD_installing-trust-between-idm-and-ad",{"title":225,"visible":15,"weight":226,"urlFragment":227,"anchor":18,"singlePageAnchor":228,"docTitle":19,"url":229},"Legal Notice",18,"legal-notice","idm139750721543712","#idm139750721543712",[231,234,237],{"text":232,"link":233},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":235,"link":236},"9","/documentation/red_hat_enterprise_linux/9/",{"text":11},{"name":11,"translations":239,"productVersion":240,"singlePage":241,"pdf":244,"publishingStatus":246},[5,6,7,8,9],{"name":235},{"contentUrl":242,"name":11,"new":243,"url":19},"https://d2bhdhkti9t3uj.cloudfront.net/html/7673560a-1079-478b-a3ff-84c7ed56faa6/3070d9e12449a53a42e042b0cc6598a5.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_trust_between_idm_and_ad/index",{"url":245},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/installing_trust_between_idm_and_ad/Red_Hat_Enterprise_Linux-9-Installing_trust_between_IdM_and_AD-en-US.pdf","PUBLISHED",[248,253,256,260,264,268,272],{"name":249,"new":250,"url":251,"urlAliases":252},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":235,"new":254,"url":235,"urlAliases":255},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":257,"new":258,"url":257,"urlAliases":259},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":261,"new":262,"url":261,"urlAliases":263},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":265,"new":266,"url":265,"urlAliases":267},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":269,"new":270,"url":269,"urlAliases":271},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":273,"new":274,"url":273,"urlAliases":275},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"installing_trust_between_idm_and_ad/index":277,"installing_trust_between_idm_and_ad/proc_providing-feedback-on-red-hat-documentation_installing-trust-between-idm-and-ad":278,"installing_trust_between_idm_and_ad/ref_prerequisites-for-establishing-a-trust_installing-trust-between-idm-and-ad":279,"installing_trust_between_idm_and_ad/supported-versions-of-windows-server_installing-trust-between-idm-and-ad":280,"installing_trust_between_idm_and_ad/how-the-trust-works_installing-trust-between-idm-and-ad":281,"installing_trust_between_idm_and_ad/ad-administration-rights_installing-trust-between-idm-and-ad":282,"installing_trust_between_idm_and_ad/ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad":283,"installing_trust_between_idm_and_ad/ports-required-for-communication-between-idm-and-ad_installing-trust-between-idm-and-ad":284,"installing_trust_between_idm_and_ad/configuring-dns-and-realm-settings-for-a-trust_installing-trust-between-idm-and-ad":285,"installing_trust_between_idm_and_ad/assembly_configuring-idm-clients-in-an-active-directory-dns-domain_installing-trust-between-idm-and-ad":286,"installing_trust_between_idm_and_ad/setting-up-a-trust_installing-trust-between-idm-and-ad":287,"installing_trust_between_idm_and_ad/assembly_troubleshooting-setting-up-a-cross-forest-trust_installing-trust-between-idm-and-ad":288,"installing_trust_between_idm_and_ad/assembly_troubleshooting-client-access-to-services-in-the-other-forest_installing-trust-between-idm-and-ad":289,"installing_trust_between_idm_and_ad/proc_removing-the-trust-using-the-command-line_installing-trust-between-idm-and-ad":290,"installing_trust_between_idm_and_ad/removing-the-trust-using-the-idm-web-ui_installing-trust-between-idm-and-ad":291,"installing_trust_between_idm_and_ad/proc_removing-the-trust-using-ansible_installing-trust-between-idm-and-ad":292,"installing_trust_between_idm_and_ad/proc_removing-an-id-range-after-removing-a-trust-to-ad_installing-trust-between-idm-and-ad":293,"installing_trust_between_idm_and_ad/legal-notice":294},{"prevt":18,"next":24},{"prevt":17,"next":29},{"prevt":24,"next":34},{"prevt":29,"next":39},{"prevt":34,"next":44},{"prevt":39,"next":49},{"prevt":18,"next":49},{"prevt":49,"next":76},{"prevt":18,"next":76},{"prevt":18,"next":102},{"prevt":18,"next":124},{"prevt":18,"next":170},{"prevt":18,"next":188},{"prevt":188,"next":211},{"prevt":206,"next":216},{"prevt":211,"next":221},{"prevt":216,"next":227},{"prevt":221,"next":18},{"product":18,"version":18},{"installing_trust_between_idm_and_ad":297},[243],{"products":299},[300,301,302,303,304,305,306,307,308,309,310,311,312],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":315},[316,325,331,340,348,356,363,371,378],{"nid":317,"type":318,"langcode":319,"Published":16,"title":320,"Created":321,"Updated":322,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":323,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":324},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":326,"type":318,"langcode":319,"Published":16,"title":320,"Created":327,"Updated":328,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":329,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":330},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":332,"type":333,"langcode":319,"Published":16,"title":334,"Created":335,"Updated":336,"body_value":18,"field_documentation banner_text_value":337,"field_documentation banner_text_format":338,"field_paths_value":339,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":341,"type":342,"langcode":319,"Published":16,"title":343,"Created":344,"Updated":345,"body_value":18,"field_documentation banner_text_value":346,"field_documentation banner_text_format":338,"field_paths_value":347,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":349,"type":350,"langcode":319,"Published":16,"title":351,"Created":352,"Updated":353,"body_value":18,"field_documentation banner_text_value":354,"field_documentation banner_text_format":338,"field_paths_value":355,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":357,"type":350,"langcode":319,"Published":16,"title":358,"Created":359,"Updated":360,"body_value":18,"field_documentation banner_text_value":361,"field_documentation banner_text_format":338,"field_paths_value":362,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":364,"type":365,"langcode":319,"Published":16,"title":366,"Created":367,"Updated":368,"body_value":18,"field_documentation banner_text_value":369,"field_documentation banner_text_format":338,"field_paths_value":370,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":372,"type":365,"langcode":319,"Published":16,"title":373,"Created":374,"Updated":375,"body_value":18,"field_documentation banner_text_value":376,"field_documentation banner_text_format":338,"field_paths_value":377,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":379,"alertType":380,"type":381,"langcode":319,"Published":16,"title":382,"Created":377,"Updated":377,"body_value":18,"field_documentation banner_text_value":383,"field_documentation banner_text_format":338,"field_paths_value":384,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":232},["Reactive",387],{"$snuxt-i18n-meta":388,"$sisLoading":389,"$sisSinglePage":15,"$sisInFocusMode":389,"$smobileTocOpen":389,"$sisLargeTOC":389,"$scurrentChapter":17,"$scurrentSection":17,"$scurrentSubSection":377},{},false,["Set"],["ShallowReactive",392],{"s8LoCEfG4A":18,"rFVLKcOK8e":18,"uUstF4AIyn":18,"MdHNSZP4nR":18,"Pn02PlJOas":18},"/en/documentation/red_hat_enterprise_linux/9/html-single/installing_trust_between_idm_and_ad/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
