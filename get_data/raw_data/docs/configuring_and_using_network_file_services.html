<!DOCTYPE html><html  data-capo=""><head><script type="importmap">
  {
    "imports": {
      "@patternfly/elements/": "/scripts/v1/@patternfly/elements/",
      "@patternfly/pfe-clipboard/": "/scripts/v1/@patternfly/pfe-clipboard/",
      "@rhds/elements/": "/scripts/v1/@rhds/elements/elements/",
      "@cpelements/elements/": "/scripts/v1/@cpelements/elements/elements/"
    },
    "scopes": {
      "/": {
        "@floating-ui/core": "/scripts/v1/@floating-ui/core/dist/floating-ui.core.mjs",
        "@floating-ui/dom": "/scripts/v1/@floating-ui/dom/dist/floating-ui.dom.mjs",
        "@floating-ui/utils": "/scripts/v1/@floating-ui/utils/dist/floating-ui.utils.mjs",
        "@floating-ui/utils/dom": "/scripts/v1/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs",
        "@lit/reactive-element": "/scripts/v1/@lit/reactive-element/reactive-element.js",
        "@lit/reactive-element/decorators/": "/scripts/v1/@lit/reactive-element/decorators/",
        "@patternfly/pfe-core": "/scripts/v1/@patternfly/pfe-core/core.js",
        "@patternfly/pfe-core/": "/scripts/v1/@patternfly/pfe-core/",
        "@rhds/tokens/media.js": "/scripts/v1/@rhds/tokens/js/media.js",
        "lit": "/scripts/v1/lit/index.js",
        "lit-element/lit-element.js": "/scripts/v1/lit-element/lit-element.js",
        "lit-html": "/scripts/v1/lit-html/lit-html.js",
        "lit-html/": "/scripts/v1/lit-html/",
        "lit/": "/scripts/v1/lit/",
        "tslib": "/scripts/v1/tslib/tslib.es6.mjs",
        "@cpelements/rh-table/dist/rh-table.js": "/scripts/v1/@cpelements/rh-table/dist/rh-table.js"
      }
    }
  }
</script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Configuring and using network file services | Red Hat Product Documentation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script type="text/javascript" id="trustarc" src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
<script src="//www.redhat.com/dtm.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&family=Red+Hat+Text:wght@400;500;700&display=swap">
<link rel="stylesheet" href="/styles/rh-table--lightdom.min.css">
<style>.section .titlepage{gap:.75rem}.section .titlepage,div.edit{align-items:center;display:flex}div.edit{font-size:.9rem;margin-bottom:8px}div.edit>a{align-items:center;display:flex}.edit pf-icon{margin-right:4px}</style>
<style>#error[data-v-df31ff14]{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:80vh}h1[data-v-df31ff14]{font-size:calc(var(--rh-font-size-body-text-md, 1rem)*4);font-weight:700;margin-bottom:0}h1[data-v-df31ff14],h1 span[data-v-df31ff14]{line-height:var(--rh-line-height-heading,1.3)}h1 span[data-v-df31ff14]{color:var(--rh-color-text-brand-on-light,#e00);display:block;text-transform:uppercase}h1 span[data-v-df31ff14],p[data-v-df31ff14]{font-size:var(--rh-font-size-body-text-lg,1.125rem)}aside[data-v-df31ff14]{align-items:center;background:var(--rh-color-surface-lightest,#fff);border:var(--rh-border-width-sm,1px) solid var(--rh-color-border-subtle-on-light,#c7c7c7);border-radius:var(--rh-border-radius-default,3px);border-top:calc(var(--rh-border-width-md, 2px)*2) solid var(--rh-color-text-brand-on-light,#e00);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2));display:flex;flex-direction:column;justify-content:space-between;margin-top:var(--rh-space-2xl,32px);padding:var(--rh-space-xl,24px)}aside[data-v-df31ff14],aside>div[data-v-df31ff14]{width:100%}.text-container[data-v-df31ff14]{margin:auto;max-width:442px;text-align:center}.desktop[data-v-df31ff14]{display:none}.sr-only[data-v-df31ff14]{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;clip-path:inset(50%);white-space:nowrap}form[data-v-df31ff14]{display:flex}button[data-v-df31ff14],input[data-v-df31ff14]{border:1px solid var(--rh-color-black-500,#8a8d90);box-sizing:border-box;height:40px}input[data-v-df31ff14]{border-right:none;flex:1;font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);padding-left:var(--rh-space-md,8px);width:100%}button[data-v-df31ff14]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-left:none;display:flex;width:var(--rh-size-icon-04,40px)}button[data-v-df31ff14]:before{background:var(--rh-context-light-color-text-link,#06c);content:"";cursor:pointer;display:block;height:28px;margin:auto;width:28px}.search-icon[data-v-df31ff14]{margin:auto}ul[data-v-df31ff14]{max-width:275px;padding:0}ul li[data-v-df31ff14]{display:inline-block;list-style:none;margin-right:var(--rh-space-xl,24px);padding:var(--rh-space-xs,4px) 0}ul li a[data-v-df31ff14]{color:var(--rh-context-light-color-text-link,#06c);text-decoration:none}@media (min-width:992px){aside[data-v-df31ff14]{flex-direction:row}.mobile[data-v-df31ff14]{display:none}.desktop[data-v-df31ff14]{display:block}input[data-v-df31ff14]{width:auto}}</style>
<style>@keyframes fade-in{0%{opacity:0;visibility:hidden}1%{visibility:visible}to{opacity:1;visibility:visible}}@media (min-height:48em){.rhdocs{--rh-table--maxHeight:calc(100vh - 12.5rem)}}*,.rhdocs *,.rhdocs :after,.rhdocs :before,:after,:before{box-sizing:border-box}.rhdocs img,.rhdocs object,.rhdocs svg,img,object,svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs hr{border:0;border-top:.0625rem solid #d2d2d2;clear:both;margin:1rem 0}.rhdocs a{color:#06c;text-decoration:underline}.rhdocs a:focus,.rhdocs a:hover{color:#036}.rhdocs a.anchor-heading{color:#151515;cursor:pointer;text-decoration:none;word-break:break-all}.rhdocs p{margin:1.49963rem 0}.rhdocs li>p{margin:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:500;margin:0 0 .625rem}.rhdocs h1{font-size:2.25rem;margin:2rem 0}.rhdocs h2{font-size:1.625rem;margin:2rem 0}.rhdocs h3{font-size:1.5rem;font-weight:400}.rhdocs h4,.rhdocs h5{font-size:1.25rem}.rhdocs h5{font-weight:400}.rhdocs h6{font-size:1.125rem;font-weight:500;line-height:1.6667}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ol ::marker,.rhdocs ul ::marker{font:inherit}.rhdocs li{margin:0 0 .5em;padding:0}.rhdocs li>p{margin:.5rem 0}.rhdocs li>ol,.rhdocs li>ul{margin:0}.rhdocs dl dd{margin:.5rem 0 .5rem 1rem}.rhdocs dl dd>p{margin:.5rem 0}.rhdocs .informaltable,.rhdocs .table-contents,.rhdocs .table-wrapper{max-height:var(--rh-table--maxHeight);overflow:auto}.rhdocs table{border:0;font-size:1rem;line-height:1.6667;table-layout:fixed}.rhdocs table caption{color:#585858;margin-bottom:.5rem;margin-top:.5rem;text-align:left}.rhdocs table td,.rhdocs table th{border:0;border-bottom:.0625rem solid #d2d2d2;border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);padding:.5em 1rem}.rhdocs table td.halign-left,.rhdocs table th.halign-left{text-align:left}.rhdocs table td.halign-center,.rhdocs table th.halign-center,table td.halign-center,table th.halign-center{text-align:center}.rhdocs table td.halign-right,.rhdocs table th.halign-right{text-align:right}.rhdocs table td.valign-top,.rhdocs table th.valign-top{vertical-align:top}.rhdocs table td.valign-middle,.rhdocs table th.valign-middle{vertical-align:middle}.rhdocs table td.valign-bottom,.rhdocs table th.valign-bottom{vertical-align:bottom}.rhdocs table thead td,.rhdocs table thead th{background:#f5f5f5;font-weight:600}.rhdocs rh-table table,.rhdocs rh-table.rh-table--expanded-vertically{max-height:-moz-max-content;max-height:max-content}.rhdocs pre.nowrap{overflow:auto;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs .codeblock__wrapper pre{background:transparent}.rh-table--full-screen code,.rhdocs .content--md code,.rhdocs .content--sm code,.rhdocs .rh-table--full-screen code{overflow-wrap:normal;word-break:normal}.rhdocs[class] pre code,[class] pre code{background:inherit;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.rhdocs .keycap,.rhdocs kbd{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.keycap strong,.rhdocs .keycap strong{font-weight:inherit}.rhdocs kbd.keyseq,kbd.keyseq{background:transparent;border:0;box-shadow:none;padding:0}.rhdocs kbd.keyseq kbd,kbd.keyseq kbd{display:inline-block;margin:0 .375rem}.rhdocs kbd.keyseq kbd:first-child,kbd.keyseq kbd:first-child{margin-left:0}.rhdocs b.button{font-size:90%;font-weight:700;padding:.1875rem}.rhdocs b.button:before{content:"["}.rhdocs b.button:after{content:"]"}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}.rhdocs audio,.rhdocs canvas,.rhdocs progress,.rhdocs video{display:inline-block;vertical-align:baseline}.rhdocs audio:not([controls]){display:none;height:0}[hidden],template{display:none}.rhdocs a{background:transparent}.rhdocs a:active,.rhdocs a:hover{outline:0}.rhdocs a.anchor-heading:hover:before{color:#151515;content:"#";margin-left:-1.6rem;position:absolute}.rhdocs a.anchor-heading:focus-visible{color:#151515}@media screen and (max-width:990px){.rhdocs a.anchor-heading:hover:before{font-size:16px;margin-left:-1rem;padding-top:8px}.rhdocs h1 a.anchor-heading:hover:before{padding-top:12px}.rhdocs h4 a.anchor-heading:hover:before,.rhdocs h5 a.anchor-heading:hover:before{padding-top:4px}.rhdocs h6 a.anchor-heading:hover:before{padding-top:2px}}.rhdocs abbr[title]{border-bottom:.0625rem dotted}.rhdocs dfn{font-style:italic}.rhdocs h1{font-size:2em;margin:.67em 0}.rhdocs mark{background:#ff0;color:#000}.rhdocs small{font-size:80%}.rhdocs sub,.rhdocs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.rhdocs sup{top:-.5em}.rhdocs sub{bottom:-.25em}.rhdocs img{border:0}.rhdocs svg:not(:root){overflow:hidden}.rhdocs figure{margin:1em 2.5rem}.rhdocs hr{box-sizing:content-box;height:0}.rhdocs code,.rhdocs kbd,.rhdocs pre,.rhdocs samp{font-family:monospace,monospace;font-size:1em}.rhdocs button,.rhdocs optgroup,.rhdocs select,.rhdocs textarea,.rhdocsinput{color:inherit;font:inherit;margin:0}.rhdocs button.copy-link-btn{background:none;border:2px solid #fff;font:1px Red Hat Text}.rhdocs button.copy-link-btn:hover{border-bottom:2px solid #06c}.rhdocs button.copy-link-btn .link-icon{padding-bottom:4px}.rhdocs button{overflow:visible}.rhdocs button,.rhdocs select{text-transform:none}.rhdocs button,.rhdocs html input[type=button],.rhdocs input[type=reset],.rhdocs input[type=submit]{-moz-appearance:button;appearance:button;-webkit-appearance:button;cursor:pointer}.rhdocs button[disabled],.rhdocs html input[disabled]{cursor:default}.rhdocs button::-moz-focus-inner,.rhdocs input::-moz-focus-inner{border:0;padding:0}.rhdocs input{line-height:normal}.rhdocs input[type=checkbox],.rhdocs input[type=radio]{box-sizing:border-box;padding:0}.rhdocs input[type=number]::-webkit-inner-spin-button,.rhdocs input[type=number]::-webkit-outer-spin-button{height:auto}.rhdocs input[type=search]{-moz-appearance:textfield;appearance:textfield;-webkit-appearance:textfield;box-sizing:content-box}.rhdocs input[type=search]::-webkit-search-cancel-button,.rhdocs input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.rhdocs fieldset{border:.0625rem solid silver;margin:0 .125rem;padding:.35em .625em .75em}.rhdocs legend{border:0;padding:0}.rhdocs textarea{overflow:auto}.rhdocs optgroup{font-weight:700}.rhdocs table{border-collapse:collapse;border-spacing:0}.rhdocs td,.rhdocs th{padding:0}.rhdocs ._additional-resources[class][class][id]:last-child{margin-top:-2rem}.rhdocs ._additional-resources[class][class]:only-child{grid-column:1/-1}._additional-resources[class][class] .additional-resources__heading,._additional-resources[class][class] .heading,._additional-resources[class][class] h1,._additional-resources[class][class] h2,._additional-resources[class][class] h3,._additional-resources[class][class] h4,._additional-resources[class][class] h5,._additional-resources[class][class] h6,._additional-resources[class][class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper ._additional-resources[class][class] ul{display:block}._additional-resources[class][class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}._additional-resources[class][class] li:only-child{grid-column:1/-1}._additional-resources[class][class] li:last-child{border:0}@media (min-width:1100px){._additional-resources[class][class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}._additional-resources[class][class] li p:only-child{margin:0;padding:0}._additional-resources[class][class] li a{text-decoration:none}._additional-resources[class][class] li a:focus,._additional-resources[class][class] li a:hover{text-decoration:underline}.rhdocs table .admonitionblock>div:nth-child(2),.rhdocs table .caution>div:nth-child(2),.rhdocs table .important>div:nth-child(2),.rhdocs table .note>div:nth-child(2),.rhdocs table .tip>div:nth-child(2),.rhdocs table .warning>div:nth-child(2){margin:.5rem 0}.rhdocs table .admonitionblock>div:nth-child(2)>:first-child,.rhdocs table .caution>div:nth-child(2)>:first-child,.rhdocs table .important>div:nth-child(2)>:first-child,.rhdocs table .note>div:nth-child(2)>:first-child,.rhdocs table .tip>div:nth-child(2)>:first-child,.rhdocs table .warning>div:nth-child(2)>:first-child{margin-top:0}.rhdocs table .admonitionblock>div:nth-child(2)>:last-child,.rhdocs table .caution>div:nth-child(2)>:last-child,.rhdocs table .important>div:nth-child(2)>:last-child,.rhdocs table .note>div:nth-child(2)>:last-child,.rhdocs table .tip>div:nth-child(2)>:last-child,.rhdocs table .warning>div:nth-child(2)>:last-child{margin-bottom:0}.rhdocs .codeblock__wrapper+.codeblock__wrapper,.rhdocs pre+pre,.rhdocs pre[class]+pre[class]{margin-top:2rem}.rhdocs .codeblock__wrapper{background:#f8f8f8;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__wrapper:before{background-repeat:no-repeat;background-size:6.25rem 100%;bottom:var(--scrollbar__height,1px);content:"";display:block;height:7.125rem;max-height:100%;max-height:calc(100% - var(--scrollbar__height, 2px));position:absolute;right:var(--scrollbar__width,6px);top:.0625rem;width:4.0625rem;z-index:1}.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 6.25rem)}@media (min-height:48em){.rhdocs .codeblock__inner-wrapper,.rhdocs pre{max-height:calc(100vh - 12.5rem)}}.rhdocs .codeblock__inner-wrapper{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs .codeblock__wrapper--expanded .codeblock__inner-wrapper{max-height:-moz-max-content;max-height:max-content}.codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.codeblock__copy:focus{outline:.0625rem dashed currentcolor}.codeblock__copy svg#icon--copy{height:1rem;width:1rem}.codeblock__expand{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;border:0;cursor:pointer;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));position:absolute;text-indent:-9999em;top:3.25rem;width:1.75rem;z-index:2}.codeblock__expand:before{background:#6a6e73;content:"";height:100%;left:0;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3C!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--%3E%3Cpath d='M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l41.4-41.4v293.4l-41.4-41.3c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7V109.3l41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z'/%3E%3C/svg%3E");-webkit-mask-position:center center;mask-position:center center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:auto 1rem;mask-size:auto 1rem;position:absolute;top:0;width:100%}.codeblock__wrapper--expanded .codeblock__expand{background:#2b9af3}.codeblock__wrapper--expanded .codeblock__expand:before{background:#fff}.codeblock__expand:focus:before,.codeblock__expand:hover:before{background:#06c}.codeblock__wrapper--expanded .codeblock__expand:focus:before,.codeblock__wrapper--expanded .codeblock__expand:hover:before{background:#fff}.codeblock__expand:focus{outline:.0625rem dashed currentcolor}.rhdocs .calloutlist>ol,.rhdocs .colist>ol{counter-reset:colist;list-style:none;margin:1rem 0 2rem;padding:0}.rhdocs .calloutlist>ol>li,.rhdocs .colist>ol>li{counter-increment:colist;font-size:1rem;margin:.5rem 0;padding-left:1.75rem;position:relative}.rhdocs .calloutlist>ol>li .colist-num,.rhdocs .colist>ol>li .colist-num{display:none}.calloutlist>ol>li:before,.colist>ol>li:before{content:counter(colist);left:0;position:absolute;top:.1875rem}.calloutlist dt{clear:left;float:left;margin:0;padding:0 .5rem 0 0}.included-in-guides[class],.included-in-guides[class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.included-in-guides[class][id]:last-child{margin-top:-2rem}.included-in-guides[class]:only-child{grid-column:1/-1}.included-in-guides[class] .additional-resources__heading,.included-in-guides[class] .heading,.included-in-guides[class] h1,.included-in-guides[class] h2,.included-in-guides[class] h3,.included-in-guides[class] h4,.included-in-guides[class] h5,.included-in-guides[class] h6,.included-in-guides[class] p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.included-in-guides[class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.related-topic-content__wrapper .included-in-guides[class] ul{display:block}.included-in-guides[class] ul:after{background-color:#fff;bottom:0;content:"";display:block;height:.125rem;position:absolute;width:100%}.included-in-guides[class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.included-in-guides[class] li:only-child{grid-column:1/-1}.included-in-guides[class] li:last-child{border:0}@media (min-width:1100px){.included-in-guides[class] li:last-child{border-bottom:.0625rem solid #d2d2d2}}.included-in-guides[class] li p:only-child{margin:0;padding:0}.included-in-guides[class] li a{text-decoration:none}.included-in-guides[class] li a:focus,.included-in-guides[class] li a:hover{text-decoration:underline}.menuseq{display:inline-flex;overflow:hidden;text-indent:-9999em}.menuseq .menu,.menuseq .menuitem,.menuseq .submenu{display:block;position:relative;text-indent:0}.menuseq .menu+.menu:before,.menuseq .menu+.menuitem:before,.menuseq .menu+.submenu:before,.menuseq .menuitem+.menu:before,.menuseq .menuitem+.menuitem:before,.menuseq .menuitem+.submenu:before,.menuseq .submenu+.menu:before,.menuseq .submenu+.menuitem:before,.menuseq .submenu+.submenu:before{content:">";display:inline-block;font-weight:700;padding:0 .25em}.related-topic-content__wrapper{margin:2em 0}.related-topic-content__wrapper--for-guide{margin-bottom:-2.5rem;padding-bottom:.0625rem;position:relative;z-index:1}.related-topic-content__wrapper--for-guide:before{background:#f0f0f0;content:"";display:block;height:100%;left:-3rem;position:absolute;right:-4.5rem;top:0;width:auto;z-index:-1}@media (min-width:1100px){.related-topic-content__wrapper--for-guide:before{left:-2.5rem;right:-3.625rem}}.related-topic-content__wrapper--for-guide summary{padding:1em 2em 1em 2.1875rem}@media (min-width:950px){.related-topic-content__inner-wrapper{display:grid;gap:2em;grid-template-columns:repeat(2,minmax(0,1fr))}}.local-render .rhdocs-content{margin:0 auto}.rhdocs cp-documentation{display:block;padding-bottom:2.5rem}.rhdocs cp-documentation.PFElement,.rhdocs cp-documentation[pfelement]{padding:0}rh-table{display:block}::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar{height:.625rem;width:.625rem}::-webkit-scrollbar,::-webkit-scrollbar-track,:host .rhdocs ::-webkit-scrollbar,:host .rhdocs ::-webkit-scrollbar-track{background-color:#d6d6d6}::-webkit-scrollbar-thumb,:host .rhdocs ::-webkit-scrollbar-thumb{background-color:#8e8e8e}*,:host .rhdocs *{scrollbar-color:#8e8e8e #d6d6d6}.rhdocs p:empty,p:empty{display:none}.rhdocs[class] h1 code,.rhdocs[class] h2 code,.rhdocs[class] h3 code,.rhdocs[class] h4 code,.rhdocs[class] h5 code,.rhdocs[class] h6 code,[class] h1 code,[class] h2 code,[class] h3 code,[class] h4 code,[class] h5 code,[class] h6 code{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.pane-page-title h1,.rhdocs__header__primary-wrapper h1{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:2.25rem;line-height:1.333}.rhdocs details[class]{list-style:none;margin:1rem 0 3rem;padding:0}.rhdocs-toc[class]{background:#f2f2f2;margin:1rem 0 2rem;padding:1rem}.rhdocs-toc[class]>:last-child{margin-bottom:0}.rhdocs-toc[class] .rhdocs-toctitle{font-size:1.25rem;font-weight:400;line-height:1.6667;margin-top:0;text-transform:none}.rhdocs-toc[class] li{margin-bottom:.25em;padding-left:.5em}.preamble{margin:0 0 2rem}.sect1{margin:2rem 0 1rem}:host .sect1,cp-documentation .sect1{margin:0 0 2rem;padding:.0625rem 0 0}:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child{margin-top:0}.listingblock,.literalblock{margin:1rem 0}.quoteblock,.verseblock{border-left:.25rem solid #d2d2d2;margin:1rem 0;padding:1rem 1rem 1rem 2rem}.quoteblock.pullleft,.verseblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.quoteblock.pullleft,.verseblock.pullleft{margin-left:-1rem}}.quoteblock.pullright,.verseblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.quoteblock.pullright,.verseblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.quoteblock.pullright,.verseblock.pullright{margin-right:-10rem}}.quoteblock>:first-child,.verseblock>:first-child{margin-top:0}.quoteblock .content,.verseblock .content{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.25rem;line-height:1.6667}.quoteblock .attribution,.verseblock .attribution{font-size:.875rem;font-style:italic;font-weight:600;line-height:1.6667;text-transform:uppercase}.quoteblock .attribution .citetitle,.verseblock .attribution .citetitle{color:#585858}.quoteblock .attribution cite,.verseblock .attribution cite{font-size:1em}.quoteblock blockquote{font-style:italic;margin:0;padding:0}.quoteblock blockquote .content>:first-child{margin-top:0}.quoteblock blockquote .content>:first-child:before{color:#e00;content:"â€œ";display:block;float:left;font-size:2.75rem;font-style:normal;line-height:1.125em;margin-right:.5rem}.quoteblock blockquote .content>:first-child .content>:first-child:before{content:none}.imageblock{margin:1rem 0}.imageblock.pullleft{float:left;margin-right:3rem;width:25rem}@media (min-width:768px){.imageblock.pullleft{margin-left:-1rem}}.imageblock.pullright{float:right;margin-left:3rem;width:25rem}@media (min-width:768){.imageblock.pullright{margin-right:-2rem}}@media (min-width:1100px){.imageblock.pullright{margin-right:-10rem}}.imageblock.interrupter{margin:2rem 0}@media (min-width:768px){.imageblock.interrupter{margin-left:-1rem;margin-right:-2rem}.imageblock.interrupter .caption{margin-left:1rem;margin-right:2rem}}@media (min-width:1100px){.imageblock.interrupter{margin-right:-10rem}.imageblock.interrupter .caption{margin-right:10rem}}.imageblock.interrupter img{max-width:100%}.imageblock .caption{color:#585858;display:block;font-size:.875rem;line-height:1.6667;margin:.5rem 0 0}.rhdocs-footnotes{border-top:.0625rem solid #d2d2d2;margin:3rem 0 1rem;padding:1rem 0 0}.rhdocs-footnotes>ol{margin:0;padding:0 0 0 1.5rem}@supports (counter-reset:footnotenum){.rhdocs-footnotes>ol{counter-reset:footnotenum;list-style:none;padding:0}.rhdocs-footnotes>ol>li{counter-increment:footnotenum}.rhdocs-footnotes>ol>li:before{color:#585858;content:"[" counter(footnotenum) "]";display:inline-block;margin-right:.25rem}}.rhdocs-footer{background:#ededed;color:#151515;font-size:.875rem;line-height:1.6667;margin:3rem 0 0;padding:1rem}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.visually-hidden{overflow:hidden;position:absolute;clip:rect(0,0,0,0);border:0;height:.0625rem;margin:-.0625rem;padding:0;width:.0625rem}.rh-docs-legal-notice{margin-top:4em}pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}code.language-none,code.language-text,code.language-txt,pre.language-none,pre.language-text,pre.language-txt{color:#151515}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#cceae7;color:#263238}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#cceae7;color:#263238}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}.token.atrule{color:#40199a}.token.attr-name{color:#06c}.token.attr-value,.token.attribute{color:#b300b3}.token.boolean{color:#40199a}.token.builtin,.token.cdata,.token.char,.token.class,.token.class-name{color:#06c}.token.comment{color:#6a6e73}.token.constant{color:#40199a}.token.deleted{color:#c9190b}.token.doctype{color:#6a6e73}.token.entity{color:#c9190b}.token.function{color:#40199a}.token.hexcode{color:#b300b3}.token.id,.token.important{color:#40199a;font-weight:700}.token.inserted{color:#06c}.token.keyword{color:#40199a}.token.number{color:#b300b3}.token.operator{color:#06c}.token.prolog{color:#6a6e73}.token.property{color:#06c}.token.pseudo-class,.token.pseudo-element{color:#b300b3}.token.punctuation,.token.regex{color:#06c}.token.selector{color:#c9190b}.token.string{color:#b300b3}.token.symbol{color:#40199a}.token.unit{color:#b300b3}.token.url,.token.variable{color:#c9190b}.rhdocs.local-render{margin:0 auto;max-width:45.8125rem;padding:0 1.5rem}@media print{.field code,.field pre,code[class*=language-],pre,pre[class*=language-]{white-space:pre-wrap!important;word-wrap:break-word!important;overflow-wrap:break-word!important;word-break:break-word!important}}.book-nav__list[class]{display:flex;justify-content:space-between;line-height:var(--jupiter__lineHeight--xs,1.3333);list-style:none;margin:5rem 0 0;padding:0}@media (min-width:1200px){.book-nav__list[class]{display:grid;gap:2rem;grid-template-columns:repeat(2,minmax(0,1fr))}}.book-nav__item a{display:inline-block;font-size:.875rem;font-weight:500;padding-left:1.25rem;position:relative;text-transform:uppercase}.book-nav__item a:before{background:url(/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg) no-repeat;background-size:contain;content:"";display:block;height:.875rem;left:0;position:absolute;top:.125rem;transform:rotate(90deg);width:.875rem}.book>.titlepage:not(:last-child),.rhdocs .chapter,section[id]{padding-bottom:3.75rem}.book>.titlepage .chapter:last-child,.book>.titlepage section[id]:last-child,.chapter .chapter:last-child,.chapter section[id]:last-child,section[id] .chapter:last-child,section[id] section[id]:last-child{margin-bottom:-3.75rem}.rhdocs .codeblock__wrapper+section[id],pre+section[id]{padding-top:3.75rem}.rhdocs .cta-link{font-size:inherit}.rhdocs a{word-wrap:break-word;overflow-wrap:break-word}.rhdocs .caution,.rhdocs .important,.rhdocs .note,.rhdocs .tip,.rhdocs .warning{padding:.8888888889em;position:relative}.rhdocs .QSIPopOver{bottom:18.75rem!important;top:auto!important}.rhdocs .alert{position:relative}.rhdocs button.dismiss-button{background:none;border:0;cursor:pointer;height:2.5rem;margin-top:-1.25rem;padding:0;position:absolute;right:.3125rem;text-align:center;top:50%;width:2.5rem;z-index:50}.rhdocs button.dismiss-button:after{content:"\f109";display:inline-block;filter:alpha(opacity=30);font-family:rh-web-iconfont;font-size:1.3125rem;font-style:normal;font-variant:normal;font-weight:400;line-height:1;line-height:2.5rem;opacity:.3;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs .book>.titlepage,.rhdocs .chapter,.rhdocs section[id]{padding-bottom:var(--rh-space-4xl,64px)}.rhdocs .alert{border:0;border-radius:0}.rhdocs .alert>h2:first-child,.rhdocs .alert>h3:first-child,.rhdocs .alert>h4:first-child,.rhdocs .alert>h5:first-child,.rhdocs .alert>h6:first-child,.rhdocs .alert>p:first-child{margin-top:0!important}.rhdocs .alert>p:last-child{margin-bottom:0!important}.rhdocs .alert-w-icon[class]{padding-left:2.8125rem}.rhdocs .alert-w-icon .alert-icon{float:left;font-size:1.125rem;margin-left:-1.875rem;margin-right:.625rem}.rhdocs .alert-w-icon .alert-icon[class*=" rh-icon-"],.rhdocs .alert-w-icon .alert-icon[class^=rh-icon-]{font-size:2.25rem;line-height:1em;margin-left:-2.5rem;margin-top:-.375rem}.rhdocs .alert-w-icon .alert-icon[class*=" icon-innov-prev"],.rhdocs .alert-w-icon .alert-icon[class^=icon-innov-prev]{font-size:1.3125rem;margin-top:.25rem}.rhdocs .alert-w-icon.alert-plain{background:none;color:#151515;padding-left:5rem}.rhdocs .alert-w-icon.alert-plain .alert-icon{font-size:3rem;margin-left:-4.375rem;margin-right:0}.rhdocs .alert-w-icon.alert-plain.alert-success .alert-icon{color:#3f9c35}.rhdocs .alert-w-icon.alert-plain.alert-info .alert-icon{color:#0088ce}.rhdocs .alert-w-icon.alert-plain.alert-warning .alert-icon{color:#f0ab00}.rhdocs .alert-w-icon.alert-plain.alert-danger .alert-icon{color:#e00}#target_banner .copy-url{float:right;margin-top:0}#target_banner .dropdown-menu{font-size:inherit}.titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.para{margin:1.49963rem 0}.para[class]{margin-bottom:1.49963rem}dd{margin-bottom:2.5rem}.rhdocs .card-light,.rhdocs .card-light-gray,.rhdocs .card-light-grey{background:#f0f0f0;border:.0625rem solid #f0f0f0;color:#151515}.rhdocs .card-light-gray.push-bottom:first-child,.rhdocs .card-light-grey.push-bottom:first-child,.rhdocs .card-light.push-bottom:first-child{margin-bottom:3.125rem!important}.rhdocs .card-light a.card-link,.rhdocs .card-light h1,.rhdocs .card-light h2,.rhdocs .card-light h3,.rhdocs .card-light h4,.rhdocs .card-light h5,.rhdocs .card-light h6,.rhdocs .card-light-gray a.card-link,.rhdocs .card-light-gray h1,.rhdocs .card-light-gray h2,.rhdocs .card-light-gray h3,.rhdocs .card-light-gray h4,.rhdocs .card-light-gray h5,.rhdocs .card-light-gray h6,.rhdocs .card-light-grey a.card-link,.rhdocs .card-light-grey h1,.rhdocs .card-light-grey h2,.rhdocs .card-light-grey h3,.rhdocs .card-light-grey h4,.rhdocs .card-light-grey h5,.rhdocs .card-light-grey h6{color:#151515}.rhdocs .card-light-gray.card-active:after,.rhdocs .card-light-grey.card-active:after,.rhdocs .card-light.card-active:after{border-top-color:#f0f0f0}.rhdocs .card-md,.rhdocs .card-narrow{display:block;padding:1.1875rem;white-space:normal;word-wrap:break-word}.rhdocs .card .card-heading.card-heading-sm,.rhdocs .card-sm .card .card-heading{font-size:1.0625em;font-weight:500;line-height:1.5}.rhdocs .card .card-heading.card-heading-flush{margin-bottom:.25rem}.rhdocs .card .card-heading.card-heading-red{color:#d10000}.rhdocs .card>p{margin-top:0}.rhdocs .card>p:last-child{margin-bottom:0}.rhdocs .new-experience{background-color:#e7f1fa;border:.0625rem solid #bee1f4;font-size:1rem;margin:1.5rem;padding:1.5rem;position:relative;z-index:1}@media (min-width:48rem){.new-experience{display:flex}.new-experience--contained{left:50%;position:relative;transform:translateX(-50%);width:calc(100vw - 2.5rem)}}.new-experience__primary-content{flex-grow:1}@media (min-width:48rem){.new-experience__primary-content{margin-right:1.25rem}}.new-experience__title{font-size:inherit;font-weight:inherit;line-height:1.6;margin:0;padding:0}.new-experience__title+a,.new-experience__title+pfe-cta{display:inline-block;margin-top:1.5em}.new-experience__secondary-content{min-width:12.5rem}@media (min-width:48rem){.new-experience__secondary-content{text-align:right}}.example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:min-content 1fr}dl.calloutlist[class] dt{float:none;margin:0;padding:0}dl.calloutlist[class] dd{margin:0;padding:0}dl.calloutlist[class] dd>:first-child{margin-top:0}dl.calloutlist[class] dd>:last-child{margin-bottom:0}.toast{background-color:#000;background-color:rgba(0,0,0,.9);bottom:.9375rem;box-shadow:0 .125rem .3125rem 0 rgba(0,0,0,.26);color:#fff;left:.9375rem;max-width:32.8125rem;min-width:6.25rem;padding:.9375rem;position:fixed;right:.9375rem;transform:translate3d(0,150%,0);transition:transform .2s cubic-bezier(.465,.183,.153,.946);will-change:transform;z-index:999}.toast.show{transform:translateZ(0)}.toast a{color:#fff;text-decoration:underline}.toast a:focus,.toast a:hover{color:#2b9af3}.toast a.btn{text-decoration:none}.toast .btn.btn-link{color:#fff}.toast .close{color:#fff;opacity:.3;text-decoration:none}.toast .close:focus,.toast .close:hover{color:#fff;opacity:.5}.no-csstransforms3d.csstransitions .toast{transition:all .2s cubic-bezier(.465,.183,.153,.946)}.no-csstransforms3d .toast{opacity:0;visibility:hidden}.no-csstransforms3d .toast.show{opacity:1;visibility:visible}.annotator-outer[class][class]{display:none;flex-direction:column;flex-grow:1;height:auto;margin:0;position:static;width:auto}@media (min-width:1400px){.annotator-outer[class][class]{display:flex}}.annotator-frame[class] *{height:auto}@media (min-width:1400px){.annotator-frame .h-sidebar-iframe[class]{position:static;width:calc(100% + 1.5rem)}}.annotator-toolbar[class][class]{position:static;width:auto}.annotator-toolbar>ul,.annotator-toolbar>ul>li{display:block;height:auto;list-style:none;margin:0;padding:0;width:auto}.annotator-toolbar>ul>li{display:flex;justify-content:flex-end}.annotator-frame[class] .annotator-frame-button--sidebar_toggle,.annotator-outer .annotator-frame-button[class][class],.app-content-wrapper *{font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif!important}.annotator-outer .annotator-frame-button[class][class]{font-size:.9375rem;font-weight:500;height:auto;line-height:1.333;margin-right:1.875rem;padding:.75em 1em;position:static}@media (min-width:1400px){.annotator-outer .annotator-frame-button[class][class]{margin-right:0}}.annotator-outer iframe{flex-grow:1;margin-bottom:1.25rem}@media (min-width:1400px){.annotator-outer iframe{min-height:37.5rem}}.producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.producttitle .productnumber{color:var(--jupiter__palette__red--50,#e00)}.cp-modal-open,.zoom-open{overflow:hidden}.cp-modal,.cp-video-modal,.zoom-modal{bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;transition:all .2s cubic-bezier(.465,.183,.153,.946);z-index:1040;z-index:1050;-webkit-overflow-scrolling:touch}.rhdocs .in.cp-modal,.rhdocs .in.cp-video-modal,.rhdocs .in.zoom-modal{display:block;filter:alpha(opacity=100);opacity:1;overflow-x:hidden;overflow-y:auto}.rhdocs .cp-modal .close,.rhdocs .cp-video-modal .close,.rhdocs .zoom-modal .close{background-color:#fff;border-radius:50%;color:#1a1a1a;font-size:1.75rem;height:28px;height:1.75rem;line-height:1.75rem;margin-bottom:.375rem;margin-top:0;opacity:.9;position:absolute;right:-.5rem;text-shadow:none;top:0;width:28px;width:1.75rem}.cp-modal .close:after,.cp-video-modal .close:after,.zoom-modal .close:after{line-height:1.75rem}.cp-modal-wrap,.zoom-wrap{margin:.625rem;padding-top:.5rem;position:relative}@media (min-width:48rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{margin:2.8125rem auto;width:38.4375rem}}@media (min-width:62rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:49.8958rem}}@media (min-width:75rem){.rhdocs .cp-modal-wrap,.rhdocs .zoom-wrap{width:60.3125rem}}.rhdocs .cp-modal-body :last-child{margin-bottom:0}.rhdocs .cp-modal-backdrop,.rhdocs .zoom-backdrop{background-color:#000;bottom:0;display:none;filter:alpha(opacity=0);left:0;opacity:0;position:fixed;right:0;top:0;transition:opacity .2s cubic-bezier(.465,.183,.153,.946);z-index:1040}.rhdocs .in.cp-modal-backdrop,.rhdocs .in.zoom-backdrop{display:block;filter:alpha(opacity=80);opacity:.8}.rhdocs .cp-modal-body{background:#fff;padding:1.875rem}.rhdocs .cp-modal[data-cp-modal-video=true] .cp-modal-body,.rhdocs .cp-video-modal .cp-modal-body{padding:0}.rhdocs [data-action=zoom]{position:relative}.rhdocs [data-action=zoom]:after{background:rgba(0,0,0,.4);bottom:0;color:#fff;display:inline-block;font-family:rh-web-iconfont;font-style:normal;font-variant:normal;font-weight:400;line-height:1;padding:.375rem;position:absolute;right:0;text-decoration:inherit;text-decoration:none!important;text-rendering:optimizeLegibility;text-transform:none!important;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.rhdocs [data-action=zoom]:focus:after,.rhdocs [data-action=zoom]:hover:after{background:rgba(0,0,0,.9)}.rhdocs .zoom-wrap .zoom-larger{text-align:center}.rhdocs .zoom-wrap .zoom-larger a{color:#fff}.rhdocs .zoom-wrap .zoom-larger a:focus,.rhdocs .zoom-wrap .zoom-larger a:hover{color:#fff;text-decoration:underline}.rhdocs .zoom-wrap .zoom-larger a:after{content:"â¿»";display:inline-block;margin-left:.25rem}.rhdocs .zoom-body{background:#fff;border-radius:.5rem;margin:0 0 1rem;padding:1rem;text-align:center}.rhdocs .zoom-body .video-wrapper{height:0;overflow:hidden;padding-bottom:56.25%;position:relative}.rhdocs .zoom-body .video-wrapper[data-aspect-ratio="4:3"]{padding-bottom:75%}.rhdocs .zoom-body iframe{height:100%;left:0;position:absolute;top:0;width:100%}.rhdocs .para>.title[class],.rhdocs p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0;text-transform:none}.rhdocs .para>.title[class]+.content>:first-child,.rhdocs .para>.title[class]+p,.rhdocs p.title[class]+.content>:first-child,.rhdocs p.title[class]+p{margin-top:0}.rhdocs [class] pre .caution,.rhdocs [class] pre .important,.rhdocs [class] pre .note,.rhdocs [class] pre .tip,.rhdocs [class] pre .warning{background:transparent;border:0;color:inherit;font:inherit;margin:0;padding:0}.rhdocs [class] pre .caution:after,.rhdocs [class] pre .important:after,.rhdocs [class] pre .note:after,.rhdocs [class] pre .tip:after,.rhdocs [class] pre .warning:after{content:none}.rhdocs [class] code.email{background-color:transparent;font:inherit;padding:0}.rhdocs [class] .author{margin-bottom:1.5rem}.rhdocs [class] .author .author{margin-bottom:0}.rhdocs table{margin:2rem 0}.rhdocs [class] table{width:auto}.rhdocs table .table-contents table{max-width:100%;overflow:auto}.rhdocs rh-table table{margin:0;max-width:9999em;overflow:visible}.rhdocs td,.rhdocs th{border-left:0;padding:.5em 1rem;transition:background .25s ease-out}.rhdocs td.content--md[class][class],.rhdocs th.content--md[class][class]{min-width:13em}.rhdocs td.content--lg[class][class],.rhdocs th.content--lg[class][class]{min-width:20em}.rhdocs thead th{padding-top:1.5em}.rhdocs caption{color:currentColor;color:var(--pfe-table__caption--Color,currentColor);font-weight:700;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.rhdocs .revhistory table td,.rhdocs .revhistory table th{border-color:transparent}.rhdocs .revhistory table td{padding:.625rem .875rem}.rhdocs .revhistory table.simplelist{margin:0}@media print{#masthead{display:none!important}}.rh-table--is-full-screen #to-top{display:none}.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);font-size:var(--rh-body-copy-lage,1.125rem);line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs rh-codeblock::slotted(#content){border-radius:.25rem;padding:var (--rh-space-lg,16px)}.rhdocs rh-codeblock .screen{display:grid;grid-template-columns:1fr 4.375rem}.rhdocs rh-codeblock[class][class][class][class][class]{max-width:99999em}.rhdocs .codeblock__copy span{display:block;height:0;position:absolute;visibility:hidden;width:0}.rhdocs .codeblock__copy:focus{outline:.0625rem dashed currentcolor}.rhdocs .codeblock__copy svg#icon--copy{height:1rem;width:1rem}.rhdocs pre{border:0;max-height:-moz-max-content;max-height:max-content}.rhdocs pre,pre[class]{margin:0;padding:1.25em 1em;position:relative}.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre,.rhdocs rh-code-block>div.codeblock__inner-wrapper>pre[class]{margin:0;padding:0;position:relative}.rhdocs code[class*=language-],pre[class*=language-]{color:#151515;-moz-tab-size:4;-o-tab-size:4;tab-size:4}.rhdocs code.literal{background:#eee;border-radius:.25rem;color:#000;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs code.literal,.rhdocs kbd,.rhdocs span.keycap{font-family:RedHatMono,Red Hat Mono,Consolas,monospace}.rhdocs kbd,.rhdocs span.keycap{background-color:#eee;background-image:linear-gradient(180deg,#ddd,#eee,#fff);border-radius:.1875rem;box-shadow:0 -.0625rem 0 0 #fff,0 .0625rem 0 .1875rem #aaa;font-size:90%;font-weight:400;margin:0 .25rem;padding:.125rem .375rem}.rhdocs ol,.rhdocs ul{margin:1rem 0;padding:0 0 0 1.5rem}.rhdocs ._additional-resources[class][class],.rhdocs ._additional-resources[class][class][id]:last-child{background:#fff;border:.0625rem solid #d2d2d2;border-radius:.1875rem;margin:2em 0 4em;padding:2rem 2rem 1rem}.rhdocs ._additional-resources[class][class] ul{border:0;list-style:none;margin:0;padding:0;position:relative}.rhdocs ._additional-resources[class][class] li{border-bottom:.0625rem solid #d2d2d2;box-sizing:content-box;margin:0;padding:1rem 1.5rem 1rem 0;-moz-column-break-inside:avoid;break-inside:avoid}.rhdocs ._additional-resources[class][class] li:last-child{border:0}.rhdocs section.section#additional_resource .additional-resources__heading,.rhdocs section.section#additional_resource .heading,.rhdocs section.section#additional_resource h1,.rhdocs section.section#additional_resource h2,.rhdocs section.section#additional_resource h3,.rhdocs section.section#additional_resource h4,.rhdocs section.section#additional_resource h5,.rhdocs section.section#additional_resource h6,.rhdocs section.section#additional_resource p.title{display:block;font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;font-weight:700;line-height:1.5rem;margin:0 0 .5rem;padding:0;text-transform:uppercase}.rhdocs section.section:first-of-type{margin-top:var(--rh-space-4xl,64px)}.rhdocs section.section p{margin-bottom:var(--rh-space-lg,16px);margin-top:0;word-wrap:break-word}.rhdocs .section.section h1,.rhdocs .section.section h2,.rhdocs .section.section h3,.rhdocs .section.section h4,.rhdocs .section.section h5,.rhdocs .section.section h6,.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h1:first-of-type,.rhdocs h2:first-of-type,.rhdocs h3:first-of-type,.rhdocs h4:first-of-type,.rhdocs h5:first-of-type,.rhdocs h6:first-of-type{margin-top:0}.rhdocs h1,.rhdocs h2,.rhdocs h3,.rhdocs h4,.rhdocs h5,.rhdocs h6{font-family:RedHatDisplay,Red Hat Display,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.3333}.rhdocs h2,.rhdocs section.section h2{font-size:var(--rh-font-size-heading-md,1.75rem)}.rhdocs h3,.rhdocs section.section h3{font-size:1.5rem;font-weight:400}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs dl{display:block;margin-block-end:1em;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.rhdocs .para{margin:1.49963rem 0}.rhdocs dl.calloutlist[class] dt{float:none;margin:0;padding:0}.rhdocs dl.calloutlist[class] dd>:last-child{margin-bottom:0}.rhdocs dl.calloutlist[class]{display:grid;gap:1.25em .75em;grid-template-columns:fit-content(40%) 1fr}.rhdocs .calloutlist dt{clear:left;display:flex;flex-wrap:wrap;float:left;margin:0;padding:0 .5rem 0 0}.rhdocs .calloutlist dt a:not(:first-child){padding-left:4px}.rhdocs dl.calloutlist[class] dd{margin:0;padding:0}.rhdocs .callout,.rhdocs .colist>ol>li:before,.rhdocs .conum{background:#06c;border-radius:50%;color:#fff;display:inline-block;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:.75rem;font-style:normal;font-weight:600;height:1.25rem;line-height:1.35rem;padding:0;position:relative;text-align:center;top:-.125em;vertical-align:middle;width:1.25rem}.rhdocs img,.rhdocs object,.rhdocs svg{display:inline-block;max-width:100%;vertical-align:middle}.rhdocs .titlepage .svg-img[data*="title_logo.svg"]{margin:1.5rem 0;width:15rem}.rhdocs[class] .author{margin-bottom:1.5rem}.rhdocs[class] .author .author{margin-bottom:0}.rhdocs .para>.title[class],p.title[class]{font-size:1rem;font-style:normal;font-weight:700;line-height:1.6667;margin:1.25rem 0 0}.rhdocs .example{border-left:.3125rem solid #ccc;margin-bottom:2rem;padding:1rem 0 1rem 1rem}.rhdocs code{background:#eee;color:#000;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:break-word;padding:.125em .5em;word-break:break-word}.rhdocs .para[class]{margin-bottom:1.49963rem}.rhdocs[class] code.email{background-color:transparent;font:inherit;padding:0}rh-alert.admonition #description,rh-alert.admonition p{font-size:var(--rh-font-size-body-text-md,1rem)}rh-alert{width:-moz-fit-content;width:fit-content}.rhdocs .producttitle{color:#000;font-size:1.25rem;text-transform:uppercase}.rhdocs dl{margin:1rem 0}.rhdocs dl dt{font-weight:600;margin:.5rem 0}.rhdocs ol ol{list-style:lower-roman}.rhdocs .codeblock--processed pf-clipboard-copy::part(input),.rhdocs .codeblock--processed pf-clipboard-copy::part(span){display:none}.token.tag{color:#c9190b}.calloutlist div.para{margin:0}rh-alert.admonition{margin-bottom:var(--rh-space-lg,1rem)}.guibutton,.guimenu,.guimenuitem{font-weight:700}.guibutton{font-size:90%;padding:.1875rem}.guibutton:before{content:"["}.guibutton:after{content:"]"}.docs-content-container,.rhdocs{--rh-table--maxHeight:calc(100vh - 6.25rem);color:#151515;font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;font-size:1.125rem;line-height:1.6667;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre[hidden]{display:none}.codeblock[class][class][class][class][class]{max-width:99999em}.codeblock__wrapper{background:var(--rh-color-surface-lighter,#f2f2f2);margin:1rem 0;overflow:visible;position:relative;transform:translate(0);z-index:0}.codeblock__inner-wrapper:after{content:"";display:block;min-height:.625rem;width:4.375rem}.codeblock__copy{--pfe-clipboard--icon--Color--hover:#06c;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#f0efef;height:1.75rem;left:calc(100% - 2.75rem - var(--scrollbar__width, 0px));padding:.3125rem .375rem;position:absolute;top:1rem;width:1.75rem;z-index:2}.codeblock__inner-wrapper pre{border:0;max-height:-moz-max-content;max-height:max-content}.pfe-clipboard:not([copied]) .pfe-clipboard__text--success,:host(:not([copied])) .pfe-clipboard__text--success{display:none!important}.codeblock[class]{margin:0;overflow:visible;padding-right:0}pre{display:block;font-size:.8125rem;line-height:1.42857;margin:0 0 .625rem;word-break:break-all;word-wrap:break-word;background-color:var(--rh-color-surface-lighter,#f2f2f2);border:.0625rem solid #ccc;border-radius:.25rem;color:#333}.docs-content-container pre,.rhdocs pre{background:var(--rh-color-surface-lighter,#f2f2f2);color:#151515;font-family:RedHatMono,Red Hat Mono,Consolas,monospace;font-size:.875rem;line-height:1.6667;overflow-wrap:normal;white-space:pre;word-break:normal}.rhdocs pre[class]{line-height:1.6667;overflow-x:auto}rh-codeblock pre[class][class]{overflow-x:auto}.pfe-clipboard__text--success{background-color:#ddd;border:1px solid #000;border-radius:2px}*,:after,:before{box-sizing:border-box}:root{--rh-space-xs:4px;--rh-space-sm:6px;--rh-space-md:8px;--rh-space-lg:16px;--rh-space-xl:24px;--rh-space-2xl:32px;--rh-space-3xl:48px;--rh-space-4xl:64px;--rh-space-5xl:80px;--rh-space-6xl:96px;--rh-space-7xl:128px;--rh-font-size-body-text-xs:.75rem;--rh-font-size-body-text-sm:.875rem;--rh-font-size-body-text-md:1rem;--rh-font-size-body-text-lg:1.125rem;--rh-font-size-body-text-xl:1.25rem;--rh-font-size-body-text-2xl:1.5rem;--rh-font-size-heading-xs:1.25rem;--rh-font-size-heading-sm:1.5rem;--rh-font-size-heading-md:1.75rem;--rh-font-size-heading-lg:2.25rem;--rh-font-size-heading-xl:2.5rem;--rh-font-size-heading-2xl:3rem;--pfe-navigation--logo--maxWidth:200px;--pfe-navigation__logo--height:40px;--pfe-navigation--fade-transition-delay:500ms;--pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);--pf-global--icon--FontSize--sm:.75rem}body,html{font-family:Red Hat Text,sans-serif;font-size:var(--rh-font-size-body-text-md,1rem);line-height:var(--rh-line-height-body-text,1.5);margin:0}h1,h2,h3,h4,h5,h6{font-family:Red Hat Display,sans-serif;font-weight:400;line-height:var(--rh-line-height-heading,1.3)}h1{font-size:var(--rh-font-size-heading-2xl,3rem);line-height:62px}h2{font-size:var(--rh-font-size-heading-xl,2.5rem);line-height:48px}h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}h4{font-size:var(--rh-font-size-heading-md,2.25rem)}h5{font-size:var(--rh-font-size-heading-sm,2.25rem)}h6{font-size:var(--rh-font-size-heading-xs,2.25rem)}main{line-height:30px}section{padding-bottom:3rem;padding-top:3rem}img{height:auto;max-width:100%}a{color:var(--rh-color-interactive-blue-darker,#06c);text-decoration:none}a:hover{color:var(--rh-color-interactive-blue-darkest,#004080)}rh-alert.html-container a{text-decoration:underline}.container{padding-left:12px;padding-right:12px}.container,.container-fluid{margin-left:auto;margin-right:auto;width:100%}.container-fluid{padding:12px}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{min-width:1140px}}@media (min-width:1400px){.container{min-width:1320px}}.grid{display:grid;gap:var(--rh-space-xl,24px)}.grid-center{margin:auto}.grid.grid-col-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-12{grid-template-columns:repeat(12,1fr)}@media (min-width:768px){.grid.grid-col-md-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-md-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-md-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-md-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-md-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-md-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-md-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-md-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-md-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-md-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-md-12{grid-template-columns:repeat(12,1fr)}}@media (min-width:992px){.grid.grid-col-lg-2{grid-template-columns:repeat(2,1fr)}.grid.grid-col-lg-3{grid-template-columns:repeat(3,1fr)}.grid.grid-col-lg-4{grid-template-columns:repeat(4,1fr)}.grid.grid-col-lg-5{grid-template-columns:repeat(5,1fr)}.grid.grid-col-lg-6{grid-template-columns:repeat(6,1fr)}.grid.grid-col-lg-7{grid-template-columns:repeat(7,1fr)}.grid.grid-col-lg-8{grid-template-columns:repeat(8,1fr)}.grid.grid-col-lg-9{grid-template-columns:repeat(9,1fr)}.grid.grid-col-lg-10{grid-template-columns:repeat(10,1fr)}.grid.grid-col-lg-11{grid-template-columns:repeat(11,1fr)}.grid.grid-col-lg-12{grid-template-columns:repeat(12,1fr)}}.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}@media (min-width:399px){.span-xs-1{grid-column:span 1}.span-xs-2{grid-column:span 2}.span-xs-3{grid-column:span 3}.span-xs-4{grid-column:span 4}.span-xs-5{grid-column:span 5}.span-xs-6{grid-column:span 6}.span-xs-7{grid-column:span 7}.span-xs-8{grid-column:span 8}.span-xs-9{grid-column:span 9}.span-xs-10{grid-column:span 10}.span-xs-11{grid-column:span 11}.span-xs-12{grid-column:span 12}}@media (min-width:768px){.span-md-1{grid-column:span 1}.span-md-2{grid-column:span 2}.span-md-3{grid-column:span 3}.span-md-4{grid-column:span 4}.span-md-5{grid-column:span 5}.span-md-6{grid-column:span 6}.span-md-7{grid-column:span 7}.span-md-8{grid-column:span 8}.span-md-9{grid-column:span 9}.span-md-10{grid-column:span 10}.span-md-11{grid-column:span 11}.span-md-12{grid-column:span 12}}@media (min-width:992px){.span-lg-1{grid-column:span 1}.span-lg-2{grid-column:span 2}.span-lg-3{grid-column:span 3}.span-lg-4{grid-column:span 4}.span-lg-5{grid-column:span 5}.span-lg-6{grid-column:span 6}.span-lg-7{grid-column:span 7}.span-lg-8{grid-column:span 8}.span-lg-9{grid-column:span 9}.span-lg-10{grid-column:span 10}.span-lg-11{grid-column:span 11}.span-lg-12{grid-column:span 12}}@media (min-width:1025px){.span-xl-1{grid-column:span 1}.span-xl-2{grid-column:span 2}.span-xl-3{grid-column:span 3}.span-xl-4{grid-column:span 4}.span-xl-5{grid-column:span 5}.span-xl-6{grid-column:span 6}.span-xl-7{grid-column:span 7}.span-xl-8{grid-column:span 8}.span-xl-9{grid-column:span 9}.span-xl-10{grid-column:span 10}.span-xl-11{grid-column:span 11}.span-xl-12{grid-column:span 12}}@media (min-width:1200px){.span-2xl-1{grid-column:span 1}.span-2xl-2{grid-column:span 2}.span-2xl-3{grid-column:span 3}.span-2xl-4{grid-column:span 4}.span-2xl-5{grid-column:span 5}.span-2xl-6{grid-column:span 6}.span-2xl-7{grid-column:span 7}.span-2xl-8{grid-column:span 8}.span-2xl-9{grid-column:span 9}.span-2xl-10{grid-column:span 10}.span-2xl-11{grid-column:span 11}.span-2xl-12{grid-column:span 12}}.flex{display:flex;flex-direction:column;gap:var(--rh-space-lg,16px)}.flex-row{flex-direction:row}.flex-column{flex-direction:column}@media (min-width:768px){.flex-md-row{flex-direction:row}.flex-md-column{flex-direction:column}}.typography-h1{font-size:var(--rh-font-size-heading-2xl,3rem)}.typography-h2{font-size:var(--rh-font-size-heading-xl,2.5rem)}.typography-h3{font-size:var(--rh-font-size-heading-lg,2.25rem)}.typography-h4{font-size:var(--rh-font-size-heading-md,1.75rem)}.typography-h5{font-size:var(--rh-font-size-heading-sm,1.5rem)}.typography-h6{font-size:var(--rh-font-size-heading-xs,1.25rem)}.content section{padding:0}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{margin:var(--rh-space-lg,16px) 0}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0}.list-unstyled{list-style:none;padding-left:0}.tooltip-content{align-items:center;display:flex;font-family:Red Hat Text;justify-content:center;text-transform:none}.tooltip-content .check-icon{margin-left:var(--rh-space-md,8px)}.doc-image-link{display:inline-block;text-decoration:none}.modal-img{display:block;width:100%}.modal-helper-text{margin-top:.5rem;text-align:center}.modal-helper-text a{color:#000;cursor:pointer}.modal-helper-text a:hover{text-decoration:underline}.modal-helper-text a:after{content:"⿻";margin-left:.25rem}pf-modal.pf-img-modal{--pf-c-modal-box--MaxHeight:90vh;overflow-y:scroll}pf-modal.pf-img-modal::part(close-button){background-color:#fff;border-radius:50%;color:#000;margin-right:-2rem;margin-top:-2rem}pf-modal.pf-img-modal::part(close-button):hover{opacity:.7}h2.truste-title{line-height:normal;margin-top:0}rh-alert p[slot=header]{color:#002952}@media (width < 992px){html:has(nav.mobile-nav .mobile-nav-wrapper){scroll-behavior:smooth;scroll-padding-top:4rem}html:has(nav.mobile-nav .mobile-jump-links){scroll-padding-top:7rem}html:has(nav.mobile-nav.hide-mobile-nav){scroll-padding-top:2rem}}.highlight{background:#fff4cc;color:#000}</style>
<style>rh-alert[data-v-84359384]{width:100%}</style>
<style>.search-btn[data-v-edc0d12c]{align-items:center;background-color:var(--rh-color-canvas-black,#151515);border:3px solid var(--rh-color-canvas-black,#151515);cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;outline:none;padding:14px var(--rh-space-md,8px)}.search-btn[data-v-edc0d12c]:focus{border-top:3px solid var(--rh-color-accent-brand-on-light,#e00);outline:2px dotted var(--rh-color-white,#fff)}.search-btn .search-icon[data-v-edc0d12c]{height:26px;padding:2px 0 var(--rh-space-xs,4px);width:20px}.search-btn .search-icon[data-v-edc0d12c],.search-icon-helper-text[data-v-edc0d12c]{color:var(--rh-color-white,#fff)}.search-mobile[data-v-edc0d12c]{margin-bottom:var(--rh-space-2xl,32px)}.search-mobile form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto}.search-box[data-v-edc0d12c]{width:35rem}nav[data-v-edc0d12c]{background-color:#151515;justify-content:space-between;width:100%}a[data-v-edc0d12c],a[data-v-edc0d12c]:visited{color:#fff;display:inline-block;font-size:var(--rh-font-size-body-text-md,1rem)}.skip-link[class][class][data-v-edc0d12c]{font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class][data-v-edc0d12c]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}.visually-hidden[data-v-edc0d12c]{border:1px solid #06c;height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);white-space:nowrap}h3[data-v-edc0d12c]{color:#464646;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-lg,1.125rem)}.language-picker[data-v-edc0d12c]{align-items:center;background-color:#fff;display:flex;flex-direction:column;padding:var(--rh-space-xl,24px);width:100%}.language-picker h3[data-v-edc0d12c]{margin:0;padding:0 1rem 1rem}.language-picker ul[data-v-edc0d12c]{margin:0;padding:0}.language-picker a[data-v-edc0d12c]{color:#06c}.language-picker li[data-v-edc0d12c]{list-style:none}.language-dropdown[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:block!important;position:absolute;right:0;width:100%;z-index:104}.pfe-navigation.pfe-navigation--processed>[slot=secondary-links][data-v-edc0d12c]{height:auto;overflow:visible;visibility:visible;width:auto}.upper-navigation[data-v-edc0d12c]{padding:0 var(--rh-space-2xl,32px)}.upper-nav-container[data-v-edc0d12c]{border-bottom:1px solid #404040;margin:0}.upper-nav-hidden[data-v-edc0d12c]:not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.upper-nav-menu[data-v-edc0d12c]{align-items:center;display:flex;justify-content:flex-end;line-height:1.444;list-style:none;margin-bottom:0;margin-top:0;padding-left:0}.upper-nav-menu[data-v-edc0d12c],.upper-nav-menu>li[data-v-edc0d12c]{position:relative}.upper-nav-menu>li:not(:first-child)>a[data-v-edc0d12c]:before,.upper-nav-menu>li:not(:first-child)>button[data-v-edc0d12c]:before{background-color:#404040;content:"";height:40%;left:0;position:absolute;top:30%;width:1px}li[data-v-edc0d12c]{display:list-item;margin:0;padding:0;text-align:-webkit-match-parent}.upper-nav-menu button.upper-nav-links[data-v-edc0d12c]{border:0;border-top:3px solid transparent;cursor:pointer;line-height:1.444}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]{outline-color:#151515}.upper-nav-menu button.upper-nav-links[aria-expanded=true] .upper-nav-arrow[data-v-edc0d12c]{filter:invert(0) sepia(2%) saturate(21%) hue-rotate(257deg) brightness(108%) contrast(100%);transform:rotate(270deg)}.upper-nav-menu button.upper-nav-links[aria-expanded=true][data-v-edc0d12c]:before{display:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]{background-color:var(--pfe-navigation--BackgroundColor,var(--pfe-theme--color--surface--darkest,#151515));border-top:3px solid transparent;color:#fff;display:block;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);outline:none;padding:12px 12px 14px;text-decoration:none}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:hover{border-top-color:#b8bbbe}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within{outline:1px dashed var(--rh-color-white,#fff);outline-offset:-1px}.upper-nav-menu .upper-nav-links[data-v-edc0d12c]:focus-within:before{display:none}.upper-nav-dropdown-container[data-v-edc0d12c]{background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.098);display:none;padding:5px 30px 24px;position:absolute;right:0;top:100%;width:500px;z-index:105}.upper-nav-dropdown-container>ul[data-v-edc0d12c]{-moz-column-count:2;column-count:2;list-style-type:none;padding:0;width:auto}.upper-nav-dropdown-container>ul li[data-v-edc0d12c]{color:#151515;font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);font-size:var(--rh-font-size-body-text-sm,.875rem);list-style-type:none;margin-bottom:0}.upper-nav-dropdown-container>ul li span[data-v-edc0d12c]{font-weight:var(--rh-font-weight-body-text-medium,500)}.upper-nav-dropdown-container>ul ul[data-v-edc0d12c]{padding-left:0;padding-top:9px}.upper-nav-dropdown-container>ul>li[data-v-edc0d12c]{padding-top:19px;-moz-column-break-inside:avoid;break-inside:avoid}.upper-nav-dropdown-container>ul>li>ul>li[data-v-edc0d12c]{line-height:1.45;padding:4px 0}.upper-nav-menu .upper-nav-arrow[data-v-edc0d12c]{display:inline-block;filter:invert(100%) sepia(8%) saturate(7%) hue-rotate(1turn) brightness(100%) contrast(93%);height:18px;margin-left:5px;transform:rotate(90deg);vertical-align:middle;width:8px}#pfe-navigation__secondary-links .show[data-v-edc0d12c],.upper-navigation .show[data-v-edc0d12c]{display:block}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:active,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:focus,.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]:hover{background-color:#fff;color:#151515}.upper-nav-menu .upper-nav-links[aria-expanded=true][data-v-edc0d12c]{background-color:#fff;border-top-color:#b8bbbe;color:#000;position:relative;z-index:1}.upper-nav-dropdown-container>ul a[data-v-edc0d12c]{color:var(--rh-color-accent-base-on-light,#06c);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;text-decoration:none}.pfe-navigation__search[data-v-edc0d12c]{background-color:var(--rh-color-white,#fff)}.pfe-navigation__search form[data-v-edc0d12c]{display:flex;gap:var(--rh-space-md,8px);margin:auto;max-width:992px}pfe-navigation [slot=secondary-links] .buttons[data-v-edc0d12c]{display:flex;flex-wrap:wrap;gap:var(--rh-space-md,8px);margin-top:4px}pfe-navigation [slot=secondary-links] .buttons a[data-v-edc0d12c]{border:1px solid #d2d2d2;border-radius:3px;color:#06c;cursor:pointer;flex-basis:calc(50% - 5px);font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-weight:var(--rh-font-weight-code-regular,400);padding:1em;text-align:center;text-decoration:none}pfe-navigation [slot=secondary-links] .mobile-lang-select[data-v-edc0d12c]{border:1px solid #d2d2d2;border-bottom-color:#3c3f42;cursor:pointer;display:flex;margin:3rem 0;position:relative}pfe-navigation [slot=secondary-links] .mobile-lang-select label[data-v-edc0d12c]{bottom:100%;color:#000;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:14px;font-weight:500;margin-bottom:5px;position:absolute}pfe-navigation [slot=secondary-links] .mobile-lang-select select[data-v-edc0d12c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-style:none;color:#000;flex-basis:100%;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:16px;line-height:24px;padding:6px 24px 6px 8px}select[data-v-edc0d12c]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position:98% 50%;background-repeat:no-repeat}#inputLabel[data-v-edc0d12c]{align-items:center;display:flex;position:relative}#inputLabel form[data-v-edc0d12c]{width:100%}.input-box[data-v-edc0d12c]{font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 8px;width:100%}.input-box[data-v-edc0d12c]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-box[data-v-edc0d12c]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}@media(max-width:960px){.search-box[data-v-edc0d12c]{width:28rem}}@media (max-width:768px){.right-navigation[data-v-edc0d12c],.upper-navigation[data-v-edc0d12c]{display:none}}@media (min-width:767px){.pfe-navigation__search form[data-v-edc0d12c]{padding:var(--rh-space-2xl,32px) 0}}</style>
<style>.element-invisible,.sr-only,.visually-hidden{height:1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border:0;white-space:nowrap}@keyframes reveal-nav{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@keyframes reveal-nav-parts{0%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px);opacity:0;visibility:hidden}1%{visibility:visible}99%{max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}to{max-height:9999em;opacity:1;visibility:visible}}@media print{.pfe-navigation__menu,pfe-navigation [slot]{display:none!important}}pfe-navigation{--pfe-broadcasted--text:var(--pfe-theme--color--text,#151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted,#6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link,#06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover,#004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus,#004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited,#6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration,none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover,underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus,underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited,none)}@supports (display:grid){pfe-navigation{animation:reveal-nav .1618s 4s 1 forwards;max-height:72px;max-height:var(--pfe-navigation__nav-bar--Height,72px)}pfe-navigation>*{animation:reveal-nav-parts .1618s 4s 1 forwards;opacity:0;transition:opacity .1618s ease-in-out;transition:opacity var(--pfe-reveal-duration,.1618s) ease-in-out;visibility:hidden}}pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed>*{animation:none;opacity:1;visibility:visible}pfe-navigation pfe-primary-detail{display:none}pfe-navigation[pfelement]{display:block}pfe-navigation-dropdown{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515)}#pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],#pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],#pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class],pfe-navigation[breakpoint=desktop] .hidden-at-desktop[class][class][class],pfe-navigation[breakpoint=mobile] .hidden-at-mobile[class][class][class],pfe-navigation[breakpoint=tablet] .hidden-at-tablet[class][class][class]{display:none}#pfe-navigation,#pfe-navigation *,pfe-navigation,pfe-navigation *{box-sizing:border-box}#pfe-navigation [pfelement] .pfe-navigation__log-in-link,pfe-navigation [pfelement] .pfe-navigation__log-in-link{display:none}#pfe-navigation,pfe-navigation{align-items:stretch;background:#151515;background:var(--pfe-navigation__nav-bar--Background,#151515);color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;font-family:Red Hat Text,RedHatText,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamily,Red Hat Text,RedHatText,Arial,Helvetica,sans-serif);font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);height:auto;line-height:1.5;margin:0;max-width:9999em;min-height:72px;min-height:var(--pfe-navigation__nav-bar--Height,72px);padding:0 16px;position:relative;z-index:95;z-index:var(--pfe-navigation--ZIndex,var(--pfe-theme--zindex--navigation,95))}@media (min-width:768px){#pfe-navigation,pfe-navigation{flex-wrap:wrap;margin:0;max-width:9999em;padding:0 16px}}@media (min-width:1200px){#pfe-navigation,pfe-navigation{margin:0 auto;padding:0 32px}}#pfe-navigation .pfe-navigation__dropdown,#pfe-navigation pfe-navigation-dropdown,pfe-navigation .pfe-navigation__dropdown,pfe-navigation pfe-navigation-dropdown{display:none}#pfe-navigation>[slot=account],#pfe-navigation>[slot=search],#pfe-navigation>[slot=secondary-links],pfe-navigation>[slot=account],pfe-navigation>[slot=search],pfe-navigation>[slot=secondary-links]{height:0;overflow:hidden;visibility:hidden;width:0}@media (min-width:768px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{align-items:stretch;display:flex;flex-wrap:wrap}}@media (min-width:992px){#pfe-navigation nav.pfe-navigation,pfe-navigation nav.pfe-navigation{flex-wrap:nowrap}}#pfe-navigation .pfe-navigation__logo-wrapper,pfe-navigation .pfe-navigation__logo-wrapper{align-items:center;display:flex;justify-content:flex-start;margin:0;min-width:150px;padding:10px 16px 10px 0}@media (min-width:768px){.pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:auto}}.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu #pfe-navigation .pfe-navigation__logo-wrapper,.pfe-navigation--collapse-secondary-links .pfe-navigation--no-main-menu pfe-navigation .pfe-navigation__logo-wrapper{margin-right:0}#pfe-navigation .pfe-navigation__logo-link,pfe-navigation .pfe-navigation__logo-link{border-radius:3px;display:block;margin-left:-8px;outline:0;padding:6px 8px;position:relative}#pfe-navigation .pfe-navigation__logo-link:focus,pfe-navigation .pfe-navigation__logo-link:focus{outline:0}#pfe-navigation .pfe-navigation__logo-link:focus:after,pfe-navigation .pfe-navigation__logo-link:focus:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:block;height:auto;width:100%}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{height:40px;height:var(--pfe-navigation__logo--height,40px);width:auto}}@media print{#pfe-navigation .pfe-navigation__logo-image,pfe-navigation .pfe-navigation__logo-image{display:none}}#pfe-navigation .pfe-navigation__logo-image:only-child,pfe-navigation .pfe-navigation__logo-image:only-child{display:block}@media (min-width:576px){#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--small{height:32px;height:var(--pfe-navigation__logo--height,32px)}}@media print{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen{display:none!important}}@media screen{#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--print{display:none!important}}#pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print,pfe-navigation .pfe-navigation__logo-image.pfe-navigation__logo-image--screen.pfe-navigation__logo-image--print{display:inline-block!important}#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;justify-content:center;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{display:none!important}}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation .pfe-navigation__fallback-links a,#pfe-navigation .pfe-navigation__log-in-link,#pfe-navigation .pfe-navigation__menu-link,#pfe-navigation .pfe-navigation__secondary-link,pfe-navigation .pfe-navigation__fallback-links a,pfe-navigation .pfe-navigation__log-in-link,pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__secondary-link{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__fallback-links a[class]:focus,#pfe-navigation .pfe-navigation__fallback-links a[class]:hover,#pfe-navigation .pfe-navigation__log-in-link[class]:focus,#pfe-navigation .pfe-navigation__log-in-link[class]:hover,#pfe-navigation .pfe-navigation__menu-link[class]:focus,#pfe-navigation .pfe-navigation__menu-link[class]:hover,#pfe-navigation .pfe-navigation__secondary-link[class]:focus,#pfe-navigation .pfe-navigation__secondary-link[class]:hover,pfe-navigation .pfe-navigation__fallback-links a[class]:focus,pfe-navigation .pfe-navigation__fallback-links a[class]:hover,pfe-navigation .pfe-navigation__log-in-link[class]:focus,pfe-navigation .pfe-navigation__log-in-link[class]:hover,pfe-navigation .pfe-navigation__menu-link[class]:focus,pfe-navigation .pfe-navigation__menu-link[class]:hover,pfe-navigation .pfe-navigation__secondary-link[class]:focus,pfe-navigation .pfe-navigation__secondary-link[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__fallback-links a:hover,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__log-in-link:hover,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__menu-link:hover,#pfe-navigation .pfe-navigation__secondary-link:focus,#pfe-navigation .pfe-navigation__secondary-link:hover,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__fallback-links a:hover,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__log-in-link:hover,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__menu-link:hover,pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link:hover,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:focus,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__fallback-links a:focus,#pfe-navigation .pfe-navigation__log-in-link:focus,#pfe-navigation .pfe-navigation__menu-link:focus,#pfe-navigation .pfe-navigation__secondary-link:focus,pfe-navigation .pfe-navigation__fallback-links a:focus,pfe-navigation .pfe-navigation__log-in-link:focus,pfe-navigation .pfe-navigation__menu-link:focus,pfe-navigation .pfe-navigation__secondary-link:focus{outline:0}#pfe-navigation .pfe-navigation__fallback-links a:focus:after,#pfe-navigation .pfe-navigation__log-in-link:focus:after,#pfe-navigation .pfe-navigation__menu-link:focus:after,#pfe-navigation .pfe-navigation__secondary-link:focus:after,pfe-navigation .pfe-navigation__fallback-links a:focus:after,pfe-navigation .pfe-navigation__log-in-link:focus:after,pfe-navigation .pfe-navigation__menu-link:focus:after,pfe-navigation .pfe-navigation__secondary-link:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{pointer-events:none}#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,#pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__log-in-link>pfe-icon,#pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__menu-link>pfe-icon,#pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation .pfe-navigation__secondary-link>pfe-icon,pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__log-in-link>pfe-icon,pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__menu-link>pfe-icon,pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__secondary-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__fallback-links a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__log-in-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__menu-link>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__secondary-link>pfe-icon{padding:0 16px 0 0}#pfe-navigation .pfe-navigation__fallback-links a pfe-icon,#pfe-navigation .pfe-navigation__log-in-link pfe-icon,#pfe-navigation .pfe-navigation__menu-link pfe-icon,#pfe-navigation .pfe-navigation__secondary-link pfe-icon,pfe-navigation .pfe-navigation__fallback-links a pfe-icon,pfe-navigation .pfe-navigation__log-in-link pfe-icon,pfe-navigation .pfe-navigation__menu-link pfe-icon,pfe-navigation .pfe-navigation__secondary-link pfe-icon{display:block;height:18px}#pfe-navigation .pfe-navigation__fallback-links a[class],#pfe-navigation .pfe-navigation__fallback-links a[href],#pfe-navigation .pfe-navigation__log-in-link[class],#pfe-navigation .pfe-navigation__log-in-link[href],#pfe-navigation .pfe-navigation__menu-link[class],#pfe-navigation .pfe-navigation__menu-link[href],#pfe-navigation .pfe-navigation__secondary-link[class],#pfe-navigation .pfe-navigation__secondary-link[href],pfe-navigation .pfe-navigation__fallback-links a[class],pfe-navigation .pfe-navigation__fallback-links a[href],pfe-navigation .pfe-navigation__log-in-link[class],pfe-navigation .pfe-navigation__log-in-link[href],pfe-navigation .pfe-navigation__menu-link[class],pfe-navigation .pfe-navigation__menu-link[href],pfe-navigation .pfe-navigation__secondary-link[class],pfe-navigation .pfe-navigation__secondary-link[href]{align-items:center;justify-content:center}#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%;--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none!important}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation [slot=account]>a[href]:focus,#pfe-navigation [slot=account]>a[href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation [slot=account]>a[href]:focus,pfe-navigation [slot=account]>a[href]:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation [slot=account]>a[href]:focus,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation [slot=account]>a[href]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle:focus:after,#pfe-navigation [slot=account]>a[href]:focus:after,pfe-navigation .pfe-navigation__account-toggle:focus:after,pfe-navigation [slot=account]>a[href]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{pointer-events:none}@supports (display:grid){#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation .pfe-navigation__account-toggle[class]:focus,#pfe-navigation .pfe-navigation__account-toggle[class]:hover,#pfe-navigation [slot=account]>a[href][class]:focus,#pfe-navigation [slot=account]>a[href][class]:hover,pfe-navigation .pfe-navigation__account-toggle[class]:focus,pfe-navigation .pfe-navigation__account-toggle[class]:hover,pfe-navigation [slot=account]>a[href][class]:focus,pfe-navigation [slot=account]>a[href][class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media print{#pfe-navigation .pfe-navigation__account-toggle,#pfe-navigation [slot=account]>a[href],pfe-navigation .pfe-navigation__account-toggle,pfe-navigation [slot=account]>a[href]{display:none}}#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{--pfe-icon--size:18px;padding:2px 0 4px}@media (min-width:768px){#pfe-navigation .pfe-navigation__account-toggle pfe-icon,#pfe-navigation [slot=account]>a[href] pfe-icon,pfe-navigation .pfe-navigation__account-toggle pfe-icon,pfe-navigation [slot=account]>a[href] pfe-icon{padding-right:0}}#pfe-navigation .pfe-navigation__account-toggle:focus,#pfe-navigation .pfe-navigation__account-toggle:hover,#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],#pfe-navigation [slot=account]>a[href][href]:focus,#pfe-navigation [slot=account]>a[href][href]:hover,pfe-navigation .pfe-navigation__account-toggle:focus,pfe-navigation .pfe-navigation__account-toggle:hover,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation [slot=account]>a[href][href]:focus,pfe-navigation [slot=account]>a[href][href]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true],pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus{outline:0}#pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after,pfe-navigation .pfe-navigation__account-toggle[aria-expanded=true]:focus:after{border:1px dashed #151515;border:1px dashed var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{font-size:inherit;list-style:none;margin:0;padding:0}@media (min-width:768px){#pfe-navigation .pfe-navigation__fallback-links,#pfe-navigation .pfe-navigation__menu,pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__menu{align-items:stretch;display:flex}}#pfe-navigation .pfe-navigation__fallback-links li,#pfe-navigation .pfe-navigation__menu li,pfe-navigation .pfe-navigation__fallback-links li,pfe-navigation .pfe-navigation__menu li{font-size:inherit;margin:0;padding:0}#pfe-navigation .pfe-navigation__fallback-links li:before,#pfe-navigation .pfe-navigation__menu li:before,pfe-navigation .pfe-navigation__fallback-links li:before,pfe-navigation .pfe-navigation__menu li:before{content:none}#pfe-navigation .pfe-navigation__fallback-links,pfe-navigation .pfe-navigation__fallback-links{margin-left:auto}#pfe-navigation .pfe-navigation__menu-link,pfe-navigation .pfe-navigation__menu-link{display:flex;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);white-space:nowrap}#pfe-navigation.pfe-navigation--processed,pfe-navigation.pfe-navigation--processed{display:block;padding:0}#pfe-navigation.pfe-navigation--processed:before,pfe-navigation.pfe-navigation--processed:before{content:none}#pfe-navigation.pfe-navigation--processed>[slot=account],#pfe-navigation.pfe-navigation--processed>[slot=search],#pfe-navigation.pfe-navigation--processed>[slot=secondary-links],pfe-navigation.pfe-navigation--processed>[slot=account],pfe-navigation.pfe-navigation--processed>[slot=search],pfe-navigation.pfe-navigation--processed>[slot=secondary-links]{height:auto;overflow:visible;visibility:visible;width:auto}#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,#pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,#pfe-navigation.pfe-navigation--processed>[slot],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed>[slot]{animation:none;opacity:1}#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{display:block;height:auto;list-style:none;margin:0 0 8px;padding:0;width:auto}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links],pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]{margin:0 0 8px}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;display:flex;font-family:inherit;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);justify-content:flex-start;margin:0;outline:0;padding:8px 24px;position:relative;text-align:center;text-decoration:none;white-space:nowrap;width:100%}@media print{#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{display:none!important}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));color:#fff;color:var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));display:flex;flex-direction:column;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);height:72px;height:var(--pfe-navigation__nav-bar--Height,72px);justify-content:flex-end;padding:14px 8px;width:auto}@supports (display:grid){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button{align-items:center;display:grid;grid-template-rows:26px 18px;justify-items:center}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[class]:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[class]:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 0 4px 0 0 #06c;box-shadow:inset 0 4px 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:hover,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:hover{box-shadow:inset 4px 0 0 0 #06c;box-shadow:inset 4px 0 0 0 var(--pfe-navigation__nav-bar--highlight-color,var(--pfe-theme--color--ui-accent,#06c))}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{pointer-events:none}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{--pfe-icon--size:18px;padding-right:5px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding-right:0;padding:2px 0 4px}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a>pfe-icon,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button .secondary-link__icon-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button>pfe-icon{padding:0 16px 0 0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button pfe-icon{display:block;height:18px}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{outline:0}#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus:after,pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus:after{border:1px dashed #fff;border:1px dashed var(--pfe-navigation__nav-bar--Color--default,var(--pfe-theme--color--ui-base--text,#fff));bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a:focus,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button:focus{box-shadow:none}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],#pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>a[aria-expanded=true],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links]>button[aria-expanded=true]{background:0 0;box-shadow:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper--single-column{position:relative}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown__wrapper{display:block}#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{height:0;transition:height .25s ease-in-out;transition:var(--pfe-navigation--accordion-transition,height .25s ease-in-out)}@media (prefers-reduced-motion){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{transition:none}}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:absolute;right:0;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class]{position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:auto}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed [slot=secondary-links] .pfe-navigation__dropdown-wrapper[class][aria-hidden=false]{height:0}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper{left:100vw;left:calc(100vw - 32px);left:calc(100vw - var(--pfe-navigation__mobile-dropdown--PaddingHorizontal,32px));position:absolute;top:0;width:100vw}#pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false],pfe-navigation.pfe-navigation--processed[breakpoint=mobile] [slot=secondary-links][mobile-slider] .pfe-navigation__dropdown-wrapper[aria-hidden=false]{height:100vh;height:calc(100vh - 72px);height:calc(100vh - var(--pfe-navigation__nav-bar--Height,72px));overflow-y:scroll}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 64px24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px) var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown-wrapper{padding:0 24px;padding:0 var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a{border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));display:inline-block}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6{margin:32px 0 .75em;margin:var(--pfe-navigation--gutter,32px) 0 .75em;padding:0;-moz-column-break-inside:avoid;break-inside:avoid;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);font-family:Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif;font-family:var(--pfe-navigation--FontFamilyHeadline,Red Hat Display,RedHatDisplay,Arial,Helvetica,sans-serif);font-size:1.125rem;font-size:var(--pf-global--FontSize--lg,1.125rem);font-weight:500}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level]:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5:first-child,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6:first-child{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a{border:1px solid transparent;color:#464646;color:var(--pfe-navigation__dropdown--headings--Color,#464646);text-decoration:underline}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:hover{color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);text-decoration:none}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container h6 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles .pfe-link-list--header a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles [role=heading][aria-heading-level] a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h2 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h3 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h4 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h5 a:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles h6 a:focus{border:1px dashed;outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li{margin:0 0 16px;-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container a,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles a,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-card,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{-moz-column-break-inside:avoid;break-inside:avoid}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--BackgroundColor,#e00);--pfe-cta--BackgroundColor--hover:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00);--pfe-theme--ui--border-width:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta[priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[pfe-priority=primary]:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta[priority=primary]:hover{--pfe-cta--BackgroundColor:var(--pfe-navigation__dropdown--pfe-cta--hover--BackgroundColor,#c00)}pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container pfe-cta,pfe-card pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles pfe-cta{margin-top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,#pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container li,pfe-navigation.pfe-navigation--processed .pfe-navigation-item__tray--container ul,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles li,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--default-styles ul{list-style:none;margin:0;padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{color:#151515;color:var(--pfe-navigation__dropdown--Color,#151515);-moz-column-count:auto;column-count:auto;display:block;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);gap:0;margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:flex;flex-wrap:wrap;padding-bottom:32px;padding-top:32px}@supports (display:grid){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{display:grid;gap:32px;gap:var(--pfe-navigation--gutter,32px);grid-auto-flow:row;grid-template-columns:repeat(4,minmax(0,1fr))}}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:3;column-count:3;display:block;gap:32px;gap:var(--pfe-navigation--gutter,32px);padding-bottom:12px;padding-top:12px}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{-moz-column-count:auto;column-count:auto;display:block;gap:0;margin-left:-16px;margin-right:-16px;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding-bottom:12px;padding-top:12px;width:calc(100% + 32px)}.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,.pfe-navigation__menu-item--open pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles{transition-delay:0s;visibility:visible}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px;-moz-column-break-inside:avoid;break-inside:avoid}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation-grid>*,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--default-styles>*{margin:0 0 18px}#pfe-navigation.pfe-navigation--processed .pfe-navigation-grid,pfe-navigation.pfe-navigation--processed .pfe-navigation-grid{max-width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown--1-x{display:block}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown{background:#fff}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{margin-left:auto;margin-right:auto;max-width:1136px;max-width:var(--pfe-navigation--content-max-width,1136px);padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}@media (min-width:1200px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:32px 64px;padding:32px var(--pfe-navigation__dropdown--full-width--spacing--desktop,64px)}}.pfe-navigation--collapse-main-menu #pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher,.pfe-navigation--collapse-main-menu pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher{padding:12px 24px;padding:12px var(--pfe-navigation__dropdown--full-width--spacing--mobile,24px)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container,pfe-navigation.pfe-navigation--processed .pfe-navigation__site-switcher .pfe-navigation__dropdown site-switcher .container{margin:0;padding:0;width:auto}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible[class]{padding:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__dropdown-wrapper--invisible pfe-navigation-dropdown{visibility:hidden}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{padding:0}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:0 1px 2px rgba(0,0,0,.12);box-shadow:var(--pfe-navigation__dropdown--BoxShadow,0 1px 2px rgba(0,0,0,.12));max-width:100%;min-width:13em;padding:0 32px;position:absolute;top:100%}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{box-shadow:none;max-width:100%;position:static}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--single-column[class]{right:0}}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{width:100%}@media (min-width:768px){#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{left:0;position:absolute;right:0}}.pfe-navigation--collapse-secondary-links #pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class],.pfe-navigation--collapse-secondary-links pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class]{position:static}#pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--processed .pfe-navigation__custom-dropdown--full[class] .pfe-navigation__dropdown{width:100%}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles{padding-left:16px;padding-right:16px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles form{align-items:center;display:flex}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{padding:10px;transition:box-shadow .2s}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input{border:1px solid #f0f0f0;border-bottom-color:#8b8e91;color:#717579;flex-basis:0%;flex-grow:1;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);margin-right:8px}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::-moz-placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input::placeholder{color:#717579}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button{background-color:#e00;border:1px solid #e00;border-radius:2px;color:#fff;flex-basis:auto;flex-grow:0;flex-shrink:1;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem)}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles input:hover:after{border:1px dashed #000;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover{outline:0}#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,#pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:focus:after,pfe-navigation.pfe-navigation--processed .pfe-navigation__search--default-styles button:hover:after{border:1px dashed #fff;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-navigation__dropdown--separator--Border,1px solid var(--pfe-theme--color--ui--border--lighter,#d2d2d2));display:block}@media (min-width:768px){#pfe-navigation .pfe-navigation__site-switcher__back-wrapper,pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:none}}.pfe-navigation--collapse-secondary-links #pfe-navigation .pfe-navigation__site-switcher__back-wrapper,.pfe-navigation--collapse-secondary-links pfe-navigation .pfe-navigation__site-switcher__back-wrapper{display:block}#pfe-navigation .pfe-navigation__site-switcher__back-button,pfe-navigation .pfe-navigation__site-switcher__back-button{background-color:transparent;border:1px solid transparent;color:#06c;color:var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));cursor:pointer;font-size:1rem;font-size:var(--pf-global--FontSize--md,1rem);padding:21px 21px 21px 45px;position:relative;text-align:left;width:100%}#pfe-navigation .pfe-navigation__site-switcher__back-button:before,pfe-navigation .pfe-navigation__site-switcher__back-button:before{border:2px solid #06c;border:2px solid var(--pfe-navigation__dropdown--link--Color,var(--pfe-theme--color--link,#06c));border-right:0;border-top:0;content:"";display:block;height:8px;left:35px;position:absolute;right:auto;top:27px;transform:rotate(45deg);transform-origin:left top;width:8px}#pfe-navigation .pfe-navigation__site-switcher__back-button:focus,#pfe-navigation .pfe-navigation__site-switcher__back-button:hover,pfe-navigation .pfe-navigation__site-switcher__back-button:focus,pfe-navigation .pfe-navigation__site-switcher__back-button:hover{border:1px dashed #151515;border-top:1px dashed #151515;border:1px dashed var(--pfe-navigation__dropdown--Color,#151515);color:#036;color:var(--pfe-navigation__dropdown--link--Color--hover,#036);outline:0}#pfe-navigation.pfe-navigation--processed site-switcher,pfe-navigation.pfe-navigation--processed site-switcher{-moz-columns:auto;columns:auto;display:block}#pfe-navigation.pfe-navigation--stuck,pfe-navigation.pfe-navigation--stuck{left:0;position:fixed;top:0;width:100%;z-index:95;z-index:var(--pfe-theme--zindex--navigation,95)}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__outer-menu-wrapper__inner{opacity:1!important}#pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser rh-account-dropdown{display:none!important}#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,#pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] pfe-navigation-account,pfe-navigation.pfe-navigation--in-crusty-browser[open-toggle=pfe-navigation__account-toggle] rh-account-dropdown{display:block!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-item{display:block}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]{--pfe-icon--color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515));background:#fff;background:var(--pfe-navigation__nav-bar--toggle--BackgroundColor--active,var(--pfe-theme--color--surface--lightest,#fff));color:#151515;color:var(--pfe-navigation__nav-bar--Color--active,var(--pfe-theme--color--text,#151515))}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus{outline:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__menu-link[aria-expanded=true]:focus:after{border:1px dashed;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown{display:flex;flex-wrap:wrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown>.style-scope{flex-basis:25%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope{flex-basis:100%}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown .pfe-navigation__footer.style-scope>.style-scope{margin-right:16px}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column ul,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{display:flex;flex-direction:column;flex-wrap:nowrap}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__dropdown--single-column>.style-scope{flex-basis:auto}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a{color:#fff!important;justify-content:center!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link[aria-expanded=true],pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a[aria-expanded=true]{color:#151515!important}#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,#pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__account-wrapper--logged-in .pfe-navigation__log-in-link,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__search-toggle pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser .pfe-navigation__secondary-link pfe-icon,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a .secondary-link__icon-wrapper,pfe-navigation.pfe-navigation--in-crusty-browser [slot=secondary-links]>a pfe-icon{display:none!important}[id=pfe-navigation__account-dropdown][class][class]{display:block;height:auto;left:0;padding:0;position:absolute;top:72px;top:var(--pfe-navigation__nav-bar--Height,72px);width:100%}[id=pfe-navigation__account-dropdown].pfe-navigation__dropdown-wrapper--invisible[class]{display:none}.pfe-navigation__dropdown-wrapper{overflow:hidden}@media (min-width:768px){.pfe-navigation__custom-dropdown--single-column{min-width:25em}}.pfe-navigation--collapse-secondary-links .pfe-navigation__custom-dropdown--single-column{min-width:0}.secondary-link__icon-wrapper{align-items:center;display:flex;justify-content:center}.secondary-link__alert-count{background:#06c;background:var(--pfe-navigation__nav-bar--alert-color,var(--pfe-theme--color--link,#06c));border-radius:20px;color:#fff;color:var(--pfe-navigation__nav-bar--Color--on-highlight,var(--pfe-theme--color--text--on-saturated,#fff));display:block;font-size:12px;font-size:var(--pfe-navigation--FontSize--xs,12px);line-height:20px;margin:0 4px 0 2px;min-width:23px;overflow:hidden;padding:0 8px}.secondary-link__alert-count:empty{display:none}#pfe-navigation__1x-skip-links{left:0;position:absolute;top:0}#pfe-navigation__1x-skip-links,#pfe-navigation__1x-skip-links li{height:0;list-style:none;margin:0;padding:0;width:0}.skip-link[class][class]{font-size:.875rem;font-size:var(--pf-global--FontSize--sm,.875rem);line-height:18px}.skip-link[class][class]:focus{border-radius:.21429em;height:auto;left:50%;padding:.42857em .57143em;position:fixed;top:8px;transform:translateX(-50%);width:auto;z-index:99999;clip:auto;background:#fff;background:var(--pfe-navigation__skip-link--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));color:#06c;color:var(--pfe-navigation__skip-link--Color,var(--pfe-theme--color--link,#06c));text-decoration:none}pfe-navigation pfe-navigation-account[slot=account]{background:#fff;background:var(--pfe-navigation__dropdown--Background,var(--pfe-theme--color--surface--lightest,#fff));width:100%}</style>
<style>:host([size=sm]) #container[data-v-8589d091]{--_size:var(--pf-global--icon--FontSize--sm,12px)}.content-wrapper[data-v-8589d091]{height:auto;margin:0 auto;min-height:46vh}.content[data-v-8589d091]{max-width:1000px}#left-content[data-v-8589d091]{max-width:330px;z-index:1}.line-below-chp[data-v-8589d091]{margin:var(--rh-space-xl,24px) 0 var(--rh-space-3xl,48px)}.toc-container[data-v-8589d091]{border-right:1px solid var(--rh-color-gray-30,#c7c7c7);min-height:100vh;position:sticky;top:0;transition:transform .3s ease-in-out}nav#toc[data-v-8589d091]{height:auto;overflow-y:auto;padding-bottom:var(--rh-space-2xl,32px)}.max-height-85[data-v-8589d091]{max-height:85vh}.max-height-75[data-v-8589d091]{max-height:75vh}.toc-filter[data-v-8589d091]{background-color:#fff;padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px);position:sticky;top:-1px;width:100%;z-index:1}#text[data-v-8589d091],.toc-filter[data-v-8589d091]{align-items:center;display:flex}#text[data-v-8589d091]{flex:1;flex-direction:row}#search-icon[data-v-8589d091]{color:#151515;left:2.5rem;position:absolute;top:55%;transform:translateY(-50%)}pf-icon[data-v-8589d091]{--pf-icon--size:16px}#text:focus-within #icon[data-v-8589d091],#text:hover #icon[data-v-8589d091]{color:#151515}#text[data-v-8589d091]:after,#text[data-v-8589d091]:before{content:"";inset:0;pointer-events:none;position:absolute}#text-input[data-v-8589d091]:focus,#text-input:focus+#utilities[data-v-8589d091]{border-bottom:2px solid #06c;outline:none}#text-input[data-v-8589d091]{background-color:transparent;border:1px solid #f0f0f0;border-bottom-color:#8a8d90;color:#151515;font-family:inherit;font-size:100%;grid-area:text-input;line-height:1.5;overflow:hidden;padding:.375rem .25rem .375rem 2rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%}#utilities[data-v-8589d091]{align-items:center;border:1px solid #f0f0f0;border-bottom:1px solid #8a8d90;border-left:0;display:flex}#utilities rh-badge[data-v-8589d091]{border-radius:80px;font-weight:var(--rh-font-weight-heading-medium,500);--_background-color:#e0e0e0;margin-right:8px}#clear-button[data-v-8589d091]{--pf-c-button--PaddingTop:0.625rem;--pf-c-button--PaddingRight:.25rem;--pf-c-button--PaddingBottom:0.625rem;--pf-c-button--PaddingLeft:.25rem;margin-right:8px}#text-input.no-right-border[data-v-8589d091]{border-right:0}.btn-container[data-v-8589d091]{bottom:0;display:flex;justify-content:flex-end;padding:1rem;pointer-events:none;position:fixed;right:0;z-index:2}.top-scroll-btn[data-v-8589d091]{--pf-c-button--BorderRadius:64px;pointer-events:all}.focusable[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-interactive-blue,#06c)}.mobile-nav-wrapper[data-v-8589d091]{align-items:center;border-bottom:1px solid #c7c7c7;display:flex;height:auto;justify-content:space-between;padding:var(--rh-space-sm,.5rem)}.mobile-nav[data-v-8589d091]{align-items:center;background-color:var(--rh-color-bg-page,#fff);min-height:51px;position:sticky;top:0;z-index:5}.active-mobile-menu[data-v-8589d091]{color:#151515;padding-left:.5rem}.hidden[data-v-8589d091]{display:none}.mobile-nav-btn[data-v-8589d091]{background-color:transparent;border:none;font-family:inherit;font-size:.875rem;font-weight:500;margin:0;min-height:40px;min-width:40px}.border-right[data-v-8589d091]{border-right:1px solid #c7c7c7}.toc-focus-container[data-v-8589d091]{position:sticky;top:0;z-index:2}.toc-focus-btn[data-v-8589d091]{align-items:center;background-color:var(--rh-color-white,#fff);border:1px solid var(--rh-color-blue-50,#06c);border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-20px;top:15px;width:40px}.toc-focus-btn[data-v-8589d091]:focus-visible,.toc-focus-btn[data-v-8589d091]:hover{background-color:var(--rh-color-blue-10,#e0f0ff);box-shadow:var(--rh-box-shadow-sm,0 2px 4px 0 hsla(0,0%,8%,.2))}.toc-focus-btn[data-v-8589d091]:focus-visible{border:2px solid var(--rh-color-blue-50,#06c)}.toc-focus-btn-icon[data-v-8589d091]{color:var(--rh-color-blue-50,#06c)}.toc-wrapper[data-v-8589d091]{padding:0}.product-container[data-v-8589d091]{border-bottom:1px solid var(--rh-color-gray-30,#c7c7c7);padding:var(--rh-space-xl,24px) var(--rh-space-2xl,32px)}.product-container h1.product-title[data-v-8589d091]{font-size:var(--rh-font-size-code-xl,1.25rem);line-height:30px;margin-bottom:0;margin-top:0}.product-container .product-version[data-v-8589d091]{align-items:center;display:flex;flex-wrap:wrap;margin-top:var(--rh-space-lg,16px)}.product-version .version-label[data-v-8589d091]{color:var(--rh-color-canvas-black,#151515);font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:500}.product-version .version-select-dropdown[data-v-8589d091]{margin:var(--rh-space-md,8px) var(--rh-space-sm,6px);max-width:9.75rem;min-height:2rem;min-width:3rem;overflow:hidden;width:-moz-min-content;width:min-content;word-wrap:nowrap;-webkit-appearance:none;-moz-appearance:none;background:var(--rh-color-white,#fff);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath fill='%23151515' d='M.678 0h8.644c.596 0 .895.797.497 1.195l-4.372 4.58c-.298.3-.695.3-.993 0L.18 1.196C-.216.797.081 0 .678 0'/%3E%3C/svg%3E");background-position-x:85%;background-position-y:50%;background-repeat:no-repeat;border:1px solid var(--rh-color-gray-30,#c7c7c7);border-bottom:0;box-shadow:0 -1px 0 0 var(--rh-color-gray-60,#4d4d4d) inset;cursor:pointer;font-size:var(--rh-font-size-body-text-md,1rem);padding:var(--rh-space-md,8px);padding-right:24px;text-overflow:ellipsis}pf-popover[data-v-8589d091]{margin-top:var(--rh-space-md,8px);--pf-c-popover__arrow--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover__content--BackgroundColor:var(--rh-color-canvas-black,#151515);--pf-c-popover--BoxShadow:0px 4px 8px 0px #15151540;--pf-c-popover__title-text--Color:var(--rh-color-white,#fff);--pf-c-popover--MaxWidth:300px;--pf-c-popover--MinWidth:300px;--pf-c-popover--c-button--Top:20px;--pf-c-popover--c-button--Right:4px;--pf-c-button--m-plain--hover--Color:var(--rh-color-white,#fff)}pf-popover[data-v-8589d091]::part(content){padding:var(--rh-space-2xl,32px)}pf-popover[data-v-8589d091]::part(body){margin-top:var(--rh-space-lg,16px)}pf-popover[data-v-8589d091]::part(close-button){--pf-c-button--m-plain--focus--Color:var(--rh-color-gray-30,#c7c7c7);--pf-c-button--m-plain--Color:var(--rh-color-gray-30,#c7c7c7)}.popover-header-text[data-v-8589d091]{color:var(--rh-color-white,#fff);font-size:var(--rh-font-size-code-md,1rem);margin:0;max-width:80%;padding:0}.popover-body-link[data-v-8589d091]{color:var(--rh-color-blue-30,#92c5f9);text-decoration:none}.popover-trigger-btn[data-v-8589d091]{align-items:center;background:none;border:none;cursor:pointer;display:flex;justify-content:center}#first-button[data-v-8589d091]{width:80%}#second-button[data-v-8589d091]{text-align:right;width:20%}#toc-btn[data-v-8589d091]{text-align:left;width:100%}.toc-error[data-v-8589d091]{margin:0;max-width:100%}#layout label[data-v-8589d091]{font-weight:500}.page-layout-options[data-v-8589d091]{background-color:#fff;display:flex;flex-direction:column;padding-bottom:var(--rh-space-lg,16px)}.sticky-top[data-v-8589d091]{position:sticky;top:0}summary[data-v-8589d091]{cursor:pointer;list-style:none;position:relative}summary[data-v-8589d091]::-webkit-details-marker{display:none}details#jump-links-details .jump-links-heading[data-v-8589d091]{background-color:var(--rh-color-white,#fff);display:block;margin-top:var(--rh-space-lg,16px);padding:var(--rh-space-lg,16px) 0 0 var(--rh-space-xl,24px);position:sticky;top:0}details#jump-links-details .jump-links-heading[data-v-8589d091]:before{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;height:9px;left:2px;position:absolute;top:26px;transform:rotate(-135deg);width:9px}details#jump-links-details[open] .jump-links-heading[data-v-8589d091]:before{transform:rotate(135deg)}.table-of-contents>ol[data-v-8589d091]{list-style:none;margin:0;padding:0}nav.table-of-contents[data-v-8589d091]{z-index:1}nav.table-of-contents ol[data-v-8589d091]{list-style:none;margin:0;padding:0}#mobile-browse-docs[data-v-8589d091]{font-weight:var(--rh-font-weight-body-text-medium,500);padding-left:var(--rh-space-2xl,32px)}.docs-content-container[data-v-8589d091]{font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:1.6667;padding-left:6rem;padding-right:6rem;padding-top:var(--rh-space-3xl,4rem)}.chapter-title[data-v-8589d091]{font-family:Red Hat Display}h1.chapter-title[data-v-8589d091]{font-size:var(--rh-fontsize-heading-xl,2.25rem);line-height:46.8px;margin:0;padding:0}.chapter .section h4[data-v-8589d091]{font-size:24px;font-weight:400}.banner-wrapper[data-v-8589d091]{padding:3rem 6rem 0}.page-format-dropdown[data-v-8589d091]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABtSURBVHgBhc4xCoAwDAXQxE6li0K76w0cPZqjHsEb6AlcHb2BR9ADdG7GmIKTWv0QSOAFPjrndgAo4TtHxszTD4JoVAhh1VoXiNgkUO+971Q8iGgxxlSy1jc3CGof39baWTrzNSOkkksEbG/oBGEJIn6gD3jAAAAAAElFTkSuQmCC");background-position:8.5rem;background-repeat:no-repeat;background-size:auto;border:1px solid #c7c7c7;box-shadow:inset 0 -1px 0 0 #4d4d4d;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-md,1rem);margin-top:var(--rh-space-xs,4px);max-width:168px;min-height:36px;min-width:168px;overflow:hidden;padding:0 var(--rh-space-xl,24px) 0 var(--rh-space-md,8px);text-overflow:ellipsis;white-space:nowrap}.content-format-selectors[data-v-8589d091]{color:#151515;font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-sm,.875rem);font-weight:var(--rh-font-weight-body-text-medium,500);margin-right:var(--rh-space-2xl,32px);max-width:250px;min-width:250px;padding-top:var(--rh-space-2xl,32px)}.chapter .section .simpara[data-v-8589d091],.chapter .section p[data-v-8589d091]{font-family:Red Hat Text;font-size:var(--rh-font-size-body-text-lg,1.125rem);font-weight:var(--rh-font-weight-body-text-regular,400);line-height:30px}#toggle-focus-mode[data-v-8589d091]{padding-right:var(--rh-space-lg,1rem)}@keyframes slideaway-left-8589d091{0%{display:block}to{opacity:0;transform:translateX(-40px)}}@keyframes slideaway-right-8589d091{0%{display:block}to{opacity:0;transform:translateX(40px)}}@keyframes enter-left-8589d091{0%{display:none;transform:translateX(-40px)}to{opacity:1}}@keyframes enter-right-8589d091{0%{display:none;transform:translateX(40px)}to{opacity:1}}.hide-left[data-v-8589d091]{animation:slideaway-left-8589d091 .2s;display:none}.enter-left[data-v-8589d091]{animation:enter-left-8589d091 .3s;border-right:none;display:block}.enter-right[data-v-8589d091]{animation:enter-right-8589d091 .3s;display:block}.hide-right[data-v-8589d091]{animation:slideaway-right-8589d091 .2s;display:none}.toc-container.enter-toc-container-left[data-v-8589d091]{transform:translateX(-85%)}.alert-section[data-v-8589d091]{padding-bottom:3rem}rh-alert[data-v-8589d091]{width:auto}@media (min-width:992px){#mobile-nav[data-v-8589d091],#toc-list-mobile[data-v-8589d091]{display:none}}@media (min-width:992px) and (max-width:1400px){.docs-ocp-content-container[data-v-8589d091]{padding:var(--rh-space-4xl,64px) var(--rh-space-lg,16px) 0}}@media (width < 992px){#breadcrumbs[data-v-8589d091],.content-format-selectors[data-v-8589d091],.toc-container[data-v-8589d091]{display:none}#mobile-nav-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7}#toc-wrapper-mobile[data-v-8589d091]{padding:var(--rh-space-md,1.5rem)}.product-container[data-v-8589d091]{padding:var(--rh-space-2xl,32px) var(--rh-space-lg,16px)}.product-container.shrink-product-padding[data-v-8589d091]{padding:var(--rh-space-lg,16px)}.product-version .version-select-dropdown[data-v-8589d091]{margin:0 var(--rh-space-lg,16px)}#page-content-options-mobile[data-v-8589d091]{padding:var(--rh-space-lg,2rem)}label[for=page-format][data-v-8589d091],label[for=toggle-focus-mode][data-v-8589d091]{display:block}.page-format-dropdown[data-v-8589d091]{background-position:97%;max-width:100%}nav#mobile-toc-menu[data-v-8589d091]{max-height:50vh;overflow-y:scroll}.mobile-jump-links #first-button[data-v-8589d091]{width:100%}#jump-links-btn[data-v-8589d091]{text-align:left;width:100%}#mobile-jump-links-content-wrapper[data-v-8589d091]{border-bottom:1px solid #c7c7c7;border-top:1px solid #c7c7c7;padding:0 var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}.table-of-contents #browse-docs[data-v-8589d091]{margin-top:1rem;padding-top:var(--rh-space-md,1.5rem)}.mobile-nav[data-v-8589d091]{display:block}.hide-mobile-nav[data-v-8589d091],.mobile-nav[data-v-8589d091]{transition:transform .3s ease-in-out}.hide-mobile-nav[data-v-8589d091]{transform:translateY(-100%)}.docs-content-container[data-v-8589d091]{padding-left:1.25rem;padding-right:1.25rem;padding-top:var(--rh-space-xl,24px)}.banner-wrapper[data-v-8589d091]{padding:0 1rem}.toc-filter-mobile[data-v-8589d091]{align-items:center;display:flex;padding:var(--rh-space-lg,16px);width:100%}#text-input[data-v-8589d091]{padding-left:.5rem}.toc-filter[data-v-8589d091]{display:none}}@media (width <=576px){.content-format-selectors[data-v-8589d091]{display:none}}.informaltable[data-v-8589d091],.rhdocs .informaltable[data-v-8589d091],.rhdocs .table-contents[data-v-8589d091],.rhdocs .table-wrapper[data-v-8589d091],.table-contents[data-v-8589d091],.table-wrapper[data-v-8589d091]{max-height:var(--rh-table--maxHeight);overflow:auto}rh-table[data-v-8589d091]{display:block;margin:2rem 0;max-width:100%}.pvof-doc__wrapper[data-v-8589d091],.rhdocs[data-v-8589d091]{--rh-table--maxHeight:calc(100vh - 12.5rem)}</style>
<style>:is(rh-footer-block) a[data-v-97dd2752]{text-decoration:underline}</style>
<style>:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a{color:var(--rh-color-link-inline-on-dark,var(--rh-color-interactive-blue-lighter,#92c5f9));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:hover{color:var(--rh-color-link-inline-hover-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:is(:focus,:focus-within){color:var(--rh-color-link-inline-focus-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:underline}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a:visited{color:var(--rh-color-link-inline-visited-on-dark,var(--rh-color-interactive-blue-lightest,#b9dafc));text-decoration:none}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) a[slot^=logo]{display:block}:is(rh-footer) a[slot^=logo]>img{display:block;height:100%;height:var(--rh-size-icon-04,40px);width:auto}:is(rh-footer,rh-footer-universal,rh-global-footer) :is(h1,h2,h3,h4,h5,h6){font-family:var(--rh-font-family-heading,RedHatDisplay,"Red Hat Display","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);line-height:var(--rh-line-height-heading,1.3)}rh-footer [slot=links]:is(h1,h2,h3,h4,h5):nth-of-type(n+5){--_link-header-margin:calc(var(--rh-space-2xl, 32px) - var(--rh-space-lg, 16px))}rh-footer [slot^=links] a{gap:var(--rh-footer-links-gap,var(--rh-space-md,8px))}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] li{display:contents;margin:0;padding:0}:is(rh-footer,:is(rh-footer-universal,rh-global-footer)) [slot^=links] a{color:var(--rh-color-text-primary-on-dark,#fff)!important;display:block;font-size:var(--rh-footer-link-font-size,var(--rh-font-size-body-text-sm,.875rem));width:-moz-fit-content;width:fit-content}:is(rh-footer-universal,rh-global-footer) [slot^=links] a{font-size:inherit}:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-lg,16px)}@media screen and (min-width:768px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-2xl,32px)}}@media screen and (min-width:1440px){:is(rh-footer,rh-footer-universal,rh-global-footer){--rh-footer-section-side-gap:var(--rh-space-4xl,64px)}}rh-footer:not(:defined){background-color:var(--rh-color-surface-darker,#1f1f1f);display:grid;grid-template-areas:"footer" "global";grid-template-rows:1fr auto;min-height:var(--rh-footer-nojs-min-height,750px);width:100%}:is(rh-footer-universal,rh-global-footer):not(:defined):before{grid-area:global}rh-footer:not(:defined)>[slot=logo]{padding:var(--rh-space-2xl,32px) var(--_section-side-gap)}:is(rh-footer-universal,rh-global-footer):not(:defined)>*,rh-footer:not(:defined)>:not([slot=logo],:is(rh-footer-universal,rh-global-footer)){border:0;clip:rect(1px,1px,1px,1px);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:is(rh-footer-universal,rh-global-footer):not(:defined){background-color:var(--rh-color-surface-darkest,#151515);display:block;min-height:176px;width:100%}rh-footer-universal rh-footer-copyright{grid-column:-1/1}</style>
<style>.status-legal .status-page-widget[data-v-5f538988]{display:block;margin:.5rem 0;width:11.3125rem;width:-moz-max-content;width:max-content}.status-page-widget[data-v-5f538988]{align-items:center;display:flex;flex-direction:row}.status-legal .status-page-widget .status-description[data-v-5f538988]{color:#ccc;font-weight:600;letter-spacing:.0125rem;line-height:1.5;margin-right:.5rem}.status-good[data-v-5f538988]{background-color:#3e8536}.status-critical[data-v-5f538988]{background-color:#a30100}.status-partial[data-v-5f538988]{background-color:#f5c12d}.status-maintentance[data-v-5f538988]{background-color:#316dc1}.status-minor[data-v-5f538988]{background-color:#b85c00}.status-description[data-v-5f538988]{color:#ccc;font-weight:500;letter-spacing:.2px;line-height:1.5}.current-status-indicator[data-v-5f538988]{border-radius:6px;display:inline-block;height:12px;margin:0 0 0 5px;width:12px}.current-status-indicator.small[data-v-5f538988]{border-radius:4px;display:inline-block;height:8px;margin:0 0 0 5px;width:8px}</style>
<style>.breadcrumbs[data-v-798f280c]{align-items:center;background-color:#f6f6f6;display:flex;gap:var(--rh-space-xl,24px);padding:var(--rh-space-lg,16px) var(--rh-space-2xl,32px)}nav[data-v-798f280c]{flex:1}ol[data-v-798f280c]{background-color:#f6f6f6;font-size:.875rem;list-style:none;margin:0;padding:0}li[data-v-798f280c]{color:#151515;display:inline}a[data-v-798f280c]:after{border-bottom-color:transparent;border-left-color:transparent;box-shadow:inset .25rem .25rem 0 .0625rem #8a8d8d;content:"";display:inline-block;height:1.07143em;margin:0 .5em;position:relative;right:0;top:.75em;transform:translateY(-.5em) rotate(135deg) scale(.5);width:1.07143em}</style>
<style>ol[data-v-fa0dae77]{margin:0;padding:0}li[data-v-fa0dae77],ol[data-v-fa0dae77],ul[data-v-fa0dae77]{list-style:none;margin:0}.chapter-title[data-v-fa0dae77]{font-size:1em}.sub-chapter-title[data-v-fa0dae77],.sub-chapter-title a[data-v-fa0dae77]{font-size:.875rem}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77],.heading[data-v-fa0dae77],.sub-nav .link[data-v-fa0dae77],.sub-nav .link .link[data-v-fa0dae77]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-fa0dae77]:hover,.link[data-v-fa0dae77]:hover,.sub-nav .link[data-v-fa0dae77]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}details[open]:first-of-type>.heading[data-v-fa0dae77]:after{transform:rotate(135deg)}.item[data-v-fa0dae77]{line-height:22px}#toc .link[data-v-fa0dae77],#toc-mobile .link[data-v-fa0dae77]{color:var(--rh-color-text-primary-on-light,#151515)}.sub-nav[data-v-fa0dae77],.toc-wrapper[data-v-fa0dae77]{list-style:none;margin:0}.toc-wrapper[data-v-fa0dae77]{min-width:100%;padding:0}.sub-nav[data-v-fa0dae77]{font-size:1em;line-height:24px;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-fa0dae77]:hover{color:#151515}.active[data-v-fa0dae77]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.chapter-landing-page[data-v-fa0dae77]{font-weight:500}summary[data-v-fa0dae77]{cursor:pointer;list-style:none;position:relative}summary[data-v-fa0dae77]::-webkit-details-marker{display:none}@keyframes slideDown-fa0dae77{0%{height:0;opacity:0}to{height:var(--details-height-open,"100%");opacity:1}}html[data-v-fa0dae77]{--details-transition-time:400ms}details[data-v-fa0dae77]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-fa0dae77]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-fa0dae77]:after,details .heading[data-v-fa0dae77]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-fa0dae77]:after{height:8px;width:8px}</style>
<style>.item[data-v-b883c74f]{line-height:22px}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f]{color:var(--rh-color-text-primary-on-light,#151515)}#toc .link[data-v-b883c74f],#toc-mobile .link[data-v-b883c74f],.heading[data-v-b883c74f],.sub-nav .link[data-v-b883c74f],.sub-nav .link .link[data-v-b883c74f]{display:block;padding:var(--rh-space-md,8px) var(--rh-space-2xl,32px);padding-right:2.5em;text-decoration:none;transition:background-color .25s}.heading[data-v-b883c74f]:hover,.link[data-v-b883c74f]:hover,.sub-nav .link[data-v-b883c74f]:hover{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 #d2d2d2;color:#151515}ol[data-v-b883c74f]{margin:0;padding:0}li[data-v-b883c74f],ol[data-v-b883c74f],ul[data-v-b883c74f]{list-style:none;margin:0}.chapter-title[data-v-b883c74f]{font-size:1em}.sub-nav[data-v-b883c74f]{font-size:1em;line-height:24px;list-style:none;margin:0;padding-left:1rem;padding-left:16px}.sub-nav .link[data-v-b883c74f]:hover{color:#151515}.active[data-v-b883c74f]{background:var(--rh-color-surface-lighter,#f2f2f2);box-shadow:inset 3px 0 0 0 var(--rh-color-icon-primary-on-light,#e00)}.sub-chapter-title[data-v-b883c74f],.sub-chapter-title a[data-v-b883c74f]{font-size:.875rem}summary[data-v-b883c74f]{cursor:pointer;list-style:none;position:relative}summary[data-v-b883c74f]::-webkit-details-marker{display:none}html[data-v-b883c74f]{--details-transition-time:400ms}.chapter-landing-page[data-v-b883c74f]{font-weight:500}details[open]:first-of-type>.heading[data-v-b883c74f]:after{transform:rotate(135deg)}details[data-v-b883c74f]{max-height:var(--details-height-closed,auto);transition:all ease-out var(--details-transition-time,0)}details[open][data-v-b883c74f]{max-height:var(--details-height-open,auto)}details .heading.sub-chapter-title[data-v-b883c74f]:after,details .heading[data-v-b883c74f]:after{border-right:3px solid #151515;border-top:3px solid #151515;color:#151515;content:"";display:flex;float:right;height:9px;margin-left:16px;position:absolute;right:var(--rh-space-xl,24px);top:14px;transform:rotate(45deg);width:9px}details .heading.sub-chapter-title[data-v-b883c74f]:after{height:8px;width:8px}</style>
<style>.html-container[data-v-9c2a9ddb]{padding:2rem 1.5rem 0}rh-alert[data-v-9c2a9ddb]{color:#151515}@media (max-width:772px){.html-container[data-v-9c2a9ddb]{padding:3rem 1rem 0}}</style>
<style>.search-container[data-v-69710f44]{height:100%}.form-box[data-v-69710f44],.search-container[data-v-69710f44]{justify-content:center}.form-box[data-v-69710f44],.search-box[data-v-69710f44],.search-container[data-v-69710f44]{align-items:center;display:flex;width:100%}.search-box[data-v-69710f44]{justify-content:space-between;position:relative}ul[data-v-69710f44]{list-style-type:none}#search-list[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;box-shadow:0 4px 4px 0 #00000040;color:#151515;display:block;left:0;margin:0;padding:0;position:absolute;top:37px;width:100%;z-index:200}#search-list li[data-v-69710f44]{align-items:center;display:flex;justify-content:space-between;padding:.75rem}#search-list .active[data-v-69710f44],#search-list li[data-v-69710f44]:hover{background:#f0f0f0}.group-title[data-v-69710f44]{border-top:1px solid #4d4d4d;color:#4d4d4d;cursor:default;font-size:12px;font-weight:400;pointer-events:none}.group-title[data-v-69710f44],.group-title[data-v-69710f44]:hover{background:#fff}.search-item-text-elipsis[data-v-69710f44]{display:inline-block;max-width:48%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-item-text[data-v-69710f44]{padding-left:1.75rem}.search-item-chip[data-v-69710f44]{float:right}.search-product-version[data-v-69710f44]{background:#fff;border:1px solid #f0f0f0;border-radius:3px;font-size:1rem;font-weight:400;line-height:24px}.search-icon-form[data-v-69710f44]{color:var(--rh-color-gray-50,#707070);left:12px;position:absolute}.input-search-box[data-v-69710f44]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);height:36px;padding:0 40px;width:100%}.input-clear-btn[data-v-69710f44]{align-items:center;background-color:transparent;border:none;display:flex;height:36px;justify-content:center;margin-right:-30px;outline:none;transform:translateX(-30px)}.input-clear-btn[data-v-69710f44]:focus{border:1px solid var(--rh-color-accent-base-on-light,#06c)}.input-clear-btn:focus .input-clear-icon[data-v-69710f44]{color:var(--rh-color-canvas-black,#151515)}.input-clear-icon[data-v-69710f44]{color:#6b6e72;cursor:pointer}.input-clear-icon[data-v-69710f44]:hover{color:var(--rh-color-canvas-black,#151515)}.form-submit-btn[data-v-69710f44]::part(button){align-items:center;background-color:var(--rh-color-gray-20,#e0e0e0);border-radius:0;display:flex;height:36px;justify-content:center;--_default-border-color:var(--rh-color-gray-20,#e0e0e0)}.input-close-btn[data-v-69710f44]{background:none;border:none;cursor:pointer;margin:0 var(--rh-space-lg,16px)}.input-close-icon[data-v-69710f44]{color:var(--rh-color-white,#fff)}@media (max-width:992px){.form-box[data-v-69710f44]{gap:var(--rh-space-md,8px);margin:auto;width:100%}.input-search-box[data-v-69710f44]{border:1px solid var(--rh-color-gray-30,#c7c7c7)}.input-search-box[data-v-69710f44]::-moz-placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.input-search-box[data-v-69710f44]::placeholder{color:#6a6e73;font-family:var(--rh-font-family-body-text,"Red Hat Text","RedHatText",Arial,sans-serif);font-size:var(--rh-font-size-body-text-md,1rem);font-weight:var(--rh-font-weight-code-regular,400);line-height:24px}.search-item-text-elipsis[data-v-69710f44]{max-width:60%}}@media (max-width:767px){.input-close-btn[data-v-69710f44]{display:none}.search-container[data-v-69710f44]{border:1px solid #f0f0f0}}</style>
<link rel="stylesheet" href="/_nuxt/entry.DNAluCmw.css" integrity="sha384-FnrZajt9k3u4tri3ClqikI96k+jP7kyrvgKKgdzBr5Y8CQEi3gusKE0+eMSLvGxm">
<link rel="stylesheet" href="/_nuxt/SearchAutocomplete.DkrJaF8R.css" integrity="sha384-Zw8gf6w7SrpWDmknvrab5QanIN+DSJRS/bPB9/lgDkhR7JhDmG/VF++MTMKU8mKB">
<link rel="stylesheet" href="/_nuxt/Breadcrumbs.BLkLxUMB.css" integrity="sha384-f6iEfCywVoZB0/hIKTRaxywtS21KzhBx2JOI/uVjjU9aqFcP7X9cqLH29w2HQvLe">
<link rel="stylesheet" href="/_nuxt/Alert.fTkXFs3h.css" integrity="sha384-yFMpT5E64LAQi3qJ10AJJ1oOH3DrI68OvLSjSivjNCQXZ25pmFxlPavPQ0TEyEpq">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C3PvZR0C.js" integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds9UYxCD.js" integrity="sha384-PFyBx6Pvk48yXM+prD4CDErW/3HFtPEqORVyAch5qDvJSyubA93+vR4jsWGRQKZs">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUXK7nH-.js" integrity="sha384-Kqf3r1QrD7+NOn9EuK/ba9sTBZjn7vLAjnCoRtq7IKz+QV0JUUBFf1Snf1yVkkgr">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxBriHwM.js" integrity="sha384-bejD6BN5N1iVRo5Ymn+LdVN0jvrnJTzgqgFD9xQ5+Yi46U6ff+s5W2AISzRWvJaM">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DB5Lt3x5.js" integrity="sha384-Ae/gV/4Dt4jnJApC0CWbckKJ7omq+W9Hb4jjdMyhxGJpwk6FlO7pGYMD3bPO/h1y">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8BFaW0S.js" integrity="sha384-/m09v/yYk14L9Hra6/9jYtMTn2IdkKQvzpFPRQ5P/baRKwdZQN98873hqvwuYXFS">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_58Q44fW.js" integrity="sha384-EdSd8jpnetO/BWDAc8C4SpQExZ7pYjMygNPvbLmiA1TaYsNUdVOqIIyOIzaErEeU">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCUiUcq.js" integrity="sha384-9H868K5q7MLzC8TSRXT3pVqDzsOVxZLYvUQ8cLGpHPZCFEyEJjnwSHE+/7FWrJPV">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiTVMRA7.js" integrity="sha384-xBIJ2xO0t62/oREKqSxPtW1tRxKY+5YYXbGcJ0QR9IRM28JhL+53NOiAvVFn3rmF">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CR3F0y4K.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Bn-QuJwp.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/T_zvNmZe.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ciddaed-.js">
<link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/Footer_Cloud.DpSdW8MR.svg">
<script type="module">
      import "@rhds/elements/rh-cta/rh-cta.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@cpelements/pfe-navigation/dist/pfe-navigation.min.js";
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">import "@rhds/elements/rh-footer/rh-footer.js"</script>
<link rel="canonical" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_and_using_network_file_services/index">
<script type="module">
      import "@rhds/elements/rh-alert/rh-alert.js";
      import "@rhds/elements/rh-code-block/rh-code-block.js";
      import '@rhds/elements/rh-cta/rh-cta.js';
      import '@patternfly/elements/pf-switch/pf-switch.js';
      import '@cpelements/rh-table/dist/rh-table.js';
      import '@patternfly/pfe-clipboard/dist/pfe-clipboard.min.js';
      import '@patternfly/elements/pf-button/pf-button.js';
      import '@patternfly/elements/pf-modal/pf-modal.js';
      import '@patternfly/elements/pf-icon/pf-icon.js';
      import '@patternfly/elements/pf-popover/pf-popover.js';
      import '@patternfly/elements/pf-tooltip/pf-tooltip.js';
      import '@rhds/elements/rh-badge/rh-badge.js';
      </script>
<meta name="description" content="Configuring and using network file services | Red Hat Documentation">
<meta name="app-version" content="v0.0.1">
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
      </script>
<script type="module">
      import '@rhds/elements/rh-alert/rh-alert.js';
      </script>
<script type="module">
        import "/scripts/v1/@rhds/elements/elements/rh-button/rh-button.js";
        import "@patternfly/elements/pf-badge/pf-badge.js";
      </script>
<script type="module" src="/_nuxt/C3PvZR0C.js" crossorigin integrity="sha384-H9Can2ny34kmIBk2SNFJRaBH6FotFjI6LVF8tQ4HqJnqY0a1tGDF/4RHxK2LFs7c"></script></head><body><div id="__nuxt"><!--[--><!--[--><!----><header data-v-edc0d12c><a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden" data-v-edc0d12c>Skip to navigation</a><a href="#main-content" class="skip-link visually-hidden" data-v-edc0d12c>Skip to content</a><nav id="upper-navigation" class="upper-navigation" aria-labelledby="upper-navigation-label" data-analytics-region="upper-navigation" data-v-edc0d12c><p id="upper-navigation-label" class="upper-nav-hidden" data-v-edc0d12c>Featured links</p><div class="upper-nav-container" data-v-edc0d12c><ul class="upper-nav-menu" data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/" class="upper-nav-links" data-analytics-text="Support" data-analytics-category="Featured Links" data-v-edc0d12c>Support</a></li><li data-v-edc0d12c><a href="https://console.redhat.com/" class="upper-nav-links" data-analytics-text="Console" data-analytics-category="Featured Links" data-v-edc0d12c>Console</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" class="upper-nav-links" data-analytics-text="Developers" data-analytics-category="Featured Links" data-v-edc0d12c>Developers</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" class="upper-nav-links" data-analytics-text="Start a trial" data-analytics-category="Featured Links" data-v-edc0d12c>Start a trial</a></li><li data-v-edc0d12c><button id="all-red-hat" class="upper-nav-links" data-analytics-text="All Red Hat" data-analytics-category="Featured Links" aria-expanded="false" data-analytics-linktype="tab" data-v-edc0d12c>All Red Hat<svg class="upper-nav-arrow" xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024" aria-hidden="true" data-v-edc0d12c=""><path d="M810.642 511.557c0 8.905-3.447 16.776-10.284 23.613L322.31 1013.216c-6.835 6.837-14.706 10.284-23.61 10.284s-16.776-3.447-23.613-10.284l-51.303-51.303c-6.837-6.837-10.284-14.707-10.284-23.612s3.447-16.775 10.284-23.61L626.972 511.5 223.784 108.31c-6.837-6.835-10.284-14.706-10.284-23.61s3.447-16.776 10.284-23.613l51.303-51.303C281.924 2.947 289.794-.5 298.7-.5s16.775 3.447 23.61 10.284L800.36 487.83c6.837 6.837 10.284 14.708 10.284 23.613v.114" data-v-edc0d12c=""/></svg></button><div class="upper-nav-dropdown-container" data-v-edc0d12c><ul data-v-edc0d12c><li data-v-edc0d12c><span data-v-edc0d12c>For customers</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://access.redhat.com/support" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Customer support" data-v-edc0d12c>Customer support</a></li><li data-v-edc0d12c><a href="/products" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Documentation" data-v-edc0d12c>Documentation</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/support/cases" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Support cases" data-v-edc0d12c>Support Cases</a></li><li data-v-edc0d12c><a href="https://access.redhat.com/management" data-pzn-audience="customers" data-analytics-category="All Red Hat|For customers" data-analytics-text="Subscription management" data-v-edc0d12c>Subscription management</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/" data-analytics-category="All Red Hat|For customers" data-analytics-text="Red Hat Ecosystem Catalog" data-v-edc0d12c>Red Hat Ecosystem Catalog</a></li><li data-v-edc0d12c><a href="https://catalog.redhat.com/partners" data-analytics-category="All Red Hat|For customers" data-analytics-text="Find a partner" data-v-edc0d12c>Find a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>For partners</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://connect.redhat.com/login" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner login" data-v-edc0d12c>Partner login</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/en/support" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Partner support" data-v-edc0d12c>Partner support</a></li><li data-v-edc0d12c><a href="https://connect.redhat.com/" data-pzn-audience="partners" data-analytics-category="All Red Hat|For partners" data-analytics-text="Become a partner " data-v-edc0d12c>Become a partner</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Try, buy, &amp; sell</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://marketplace.redhat.com/en-us" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Marketplace" data-v-edc0d12c>Red Hat Marketplace</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/store" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Red Hat Store" data-v-edc0d12c>Red Hat Store</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/contact" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Contact sales" data-v-edc0d12c>Contact Sales</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/products/trials" data-analytics-category="All Red Hat|Try, buy, &amp; sell" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Learning resources</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.redhat.com/en/services/training-and-certification" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Training and certification " data-v-edc0d12c>Training and certification</a></li><li data-v-edc0d12c><a href="https://developers.redhat.com/" data-pzn-audience="developers|community" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="For developers" data-v-edc0d12c>For developers</a></li><li data-v-edc0d12c><a href="https://cloud.redhat.com/learn" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Hybrid cloud learning hub" data-v-edc0d12c>Hybrid cloud learning hub</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Interactive labs" data-v-edc0d12c>Interactive labs</a></li><li data-v-edc0d12c><a href="https://learn.redhat.com/" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Learning community" data-v-edc0d12c>Learning community</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/en/tv" data-analytics-category="All Red Hat|Learning resources" data-analytics-text="Red Hat TV" data-v-edc0d12c>Red Hat TV</a></li></ul></li><li data-v-edc0d12c><span data-v-edc0d12c>Open source communities</span><ul data-v-edc0d12c><li data-v-edc0d12c><a href="https://www.ansible.com/community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="Ansible" data-v-edc0d12c>Ansible</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/sysadmin/" id="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For system administrators" data-v-edc0d12c>For system administrators</a></li><li data-v-edc0d12c><a href="https://www.redhat.com/architect/" data-pzn-audience="community" data-analytics-category="All Red Hat|Open source communities" data-analytics-text="For architects" data-v-edc0d12c>For architects</a></li></ul></li></ul></div></li></ul></div></nav><pfe-navigation full-width id="pfe-navigation" pf-sticky="true" lang="en" data-v-edc0d12c><nav class="pfe-navigation" aria-label="Main Navigation" data-v-edc0d12c><div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper" data-v-edc0d12c><a href="/en" class="pfe-navigation__logo-link" data-v-edc0d12c><img class="pfe-navigation__logo-image pfe-navigation__logo-image--screen pfe-navigation__logo-image--small" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" width="240" height="40" alt="Red Hat Documentation" data-v-edc0d12c></a></div></nav><span data-v-edc0d12c></span><div slot="secondary-links" data-v-edc0d12c><div class="hidden-at-desktop hidden-at-tablet search-mobile" data-v-edc0d12c><div id="search-form" class="search-container" opensearchbox="true" data-v-edc0d12c data-v-69710f44><form role="search" class="form-box" autocomplete="off" data-v-69710f44><div class="search-box" data-v-69710f44><pf-icon icon="search" size="md" class="search-icon-form" data-v-69710f44></pf-icon><input type="text" id="input-search" class="input-search-box" placeholder="Search documentation" value aria-autocomplete="list" data-v-69710f44><!----><!----><!----><rh-button disabled variant="tertiary" class="form-submit-btn" data-v-69710f44><img src="data:image/svg+xml,%3csvg%20width=&#39;14&#39;%20height=&#39;14&#39;%20viewBox=&#39;0%200%2014%2014&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M7%200L5.6%201.4L10.3%206H0V8H10.3L5.6%2012.6L7%2014L14%207L7%200Z&#39;%20fill=&#39;%23707070&#39;/%3e%3c/svg%3e" alt="Submit button" data-v-69710f44></rh-button></div></form><!----></div></div><div class="hidden-at-desktop hidden-at-tablet buttons" data-v-edc0d12c><a href="https://access.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Support" data-v-edc0d12c>Support</a><a href="https://console.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Console" data-v-edc0d12c>Console</a><a href="https://developers.redhat.com/" data-analytics-category="More Red Hat" data-analytics-text="Developers" data-v-edc0d12c>Developers</a><a href="https://www.redhat.com/en/products/trials" data-analytics-category="More Red Hat" data-analytics-text="Start a trial" data-v-edc0d12c>Start a trial</a><a href="https://www.redhat.com/en/contact" data-analytics-category="More Red Hat" data-analytics-text="Contact" data-v-edc0d12c>Contact</a></div><div class="hidden-at-desktop hidden-at-tablet mobile-lang-select" data-v-edc0d12c><label for="lang_selection" data-v-edc0d12c>Select your language</label><select id="lang_selection" data-v-edc0d12c><!--[--><option value="en" xml:lang="en" hreflang="en" data-v-edc0d12c>English</option><option value="fr" xml:lang="fr" hreflang="fr" data-v-edc0d12c>Français</option><option value="ko" xml:lang="ko" hreflang="ko" data-v-edc0d12c>한국어</option><option value="ja" xml:lang="ja" hreflang="ja" data-v-edc0d12c>日本語</option><option value="zh-cn" xml:lang="zh-cn" hreflang="zh-cn" data-v-edc0d12c>中文 (中国)</option><option value="de" xml:lang="de" hreflang="de" data-v-edc0d12c>Deutsch</option><option value="it" xml:lang="it" hreflang="it" data-v-edc0d12c>Italiano</option><option value="pt-br" xml:lang="pt-br" hreflang="pt-br" data-v-edc0d12c>Português</option><option value="es" xml:lang="es" hreflang="es" data-v-edc0d12c>Español</option><!--]--></select></div></div></pfe-navigation></header><main id="main-content"><!--[--><!--[--><!--[--><!----><!----><!--]--><div class="breadcrumbs" id="breadcrumbs" data-v-8589d091 data-v-798f280c><nav aria-label="Breadcrumb" class="breadcrumb" data-v-798f280c><ol data-v-798f280c><li data-v-798f280c><a href="/" data-v-798f280c>Home</a></li><li data-v-798f280c><a href="/en/products" data-v-798f280c>Products</a></li><!--[--><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/" data-v-798f280c>Red Hat Enterprise Linux</a></li><li data-v-798f280c><a href="/en/documentation/red_hat_enterprise_linux/9/" data-v-798f280c>9</a></li><li data-v-798f280c><!--[-->Configuring and using network file services<!--]--></li><!--]--></ol></nav><span data-v-798f280c></span></div><!----><nav id="mobile-nav" class="mobile-nav" aria-label="mobile menu" data-v-8589d091><div class="mobile-nav-wrapper" data-v-8589d091><div id="first-button" data-v-8589d091><button id="toc-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><span class="sr-only" data-v-8589d091>Open </span>Table of contents</button></div><div id="second-button" data-v-8589d091><button id="settings-btn" aria-expanded="false" aria-controls="mobile-nav-content-wrapper" class="mobile-nav-btn" data-v-8589d091><pf-icon icon="cog" size="md" data-v-8589d091></pf-icon><span class="sr-only" data-v-8589d091>Open page settings</span></button></div></div><div id="mobile-nav-content-wrapper" class="hidden" role="navigation" tabindex="0" data-v-8589d091><div id="toc-mobile" class="hidden" aria-labelledby="toc-btn" data-v-8589d091><div class="shrink-product-padding product-container" id="product-container-mobile" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter-mobile" data-v-8589d091><span id="text" part="text" data-v-8589d091><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper-mobile" class="span-xs-12 span-sm-4 span-md-3" lang="en" data-v-8589d091><nav id="mobile-toc-menu" class="table-of-contents" aria-label="table of content - mobile" data-v-8589d091><!----></nav></div><!----></div><div id="page-content-options-mobile" class="hidden" aria-labelledby="settings-btn" data-v-8589d091><div class="page-layout-options" data-v-8589d091><label for="page-format-mobile" data-v-8589d091>Format</label><select id="page-format-mobile" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div></div></div><!----><!----></nav><div class="grid grid-col-12 content-wrapper" data-v-8589d091><aside id="left-content" class="span-xs-12 span-sm-4 span-md-3" lang="en-us" aria-label="left navigation" xml:lang="en-us" data-v-8589d091><div class="toc-container" id="toc-container" visible="true" data-v-8589d091><div class="toc-focus-container" id="toc-focus-container" data-v-8589d091><button class="toc-focus-btn" aria-label="toggle left menu" aria-controls="toc-container" aria-expanded="true" data-v-8589d091><pf-icon size="md" icon="angle-left" class="toc-focus-btn-icon" data-v-8589d091></pf-icon></button></div><div class="product-container" id="product-container-desktop" data-v-8589d091><h1 class="product-title" data-v-8589d091>Red Hat Enterprise Linux</h1><!----></div><div class="toc-filter" id="toc-filter" data-v-8589d091><span id="text" part="text" data-v-8589d091><span id="search-icon" part="search-icon" data-v-8589d091><pf-icon icon="filter" size="md" data-v-8589d091></pf-icon></span><input id="text-input" aria-label="Search input" part="text-input" placeholder="Filter table of contents" type="text" class value data-v-8589d091><!----></span></div><div id="toc-wrapper" class="toc-wrapper" data-v-8589d091><nav id="toc" class="max-height-85 table-of-contents" aria-label="Table of contents" data-v-8589d091><ol id="toc-list" data-v-8589d091><!--[--><li class="item chapter" data-v-fa0dae77><a class="link active" href id="chapter-index" data-v-fa0dae77>Configuring and using network file services</a></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services" id="chapter-landing--configuring_and_using_network_file_services-proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services" data-v-fa0dae77>Providing feedback on Red Hat documentation</a></li><li class="item chapter" data-v-fa0dae77><details id="toc--assembly_using-samba-as-a-server_configuring-and-using-network-file-services" data-v-fa0dae77><summary class="heading chapter-title" id="assembly_using-samba-as-a-server_configuring-and-using-network-file-services--summary" data-v-fa0dae77>1. Using Samba as a server</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#assembly_using-samba-as-a-server_configuring-and-using-network-file-services" id="chapter-landing--configuring_and_using_network_file_services-assembly_using-samba-as-a-server_configuring-and-using-network-file-services" data-v-fa0dae77>Using Samba as a server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.1. Understanding the different Samba services and modes</summary><ol id="sub-nav--assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server" data-v-b883c74f>Understanding the different Samba services and modes</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_the-samba-services_assembly_understanding-the-different-samba-services-and-modes" id="sub-link-to-configuring_and_using_network_file_services-con_the-samba-services_assembly_understanding-the-different-samba-services-and-modes" data-v-b883c74f>1.1.1. The Samba services</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_the-samba-security-services_assembly_understanding-the-different-samba-services-and-modes" id="sub-link-to-configuring_and_using_network_file_services-con_the-samba-security-services_assembly_understanding-the-different-samba-services-and-modes" data-v-b883c74f>1.1.2. The Samba security services</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes" id="sub-link-to-configuring_and_using_network_file_services-con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes" data-v-b883c74f>1.1.3. Scenarios when Samba services and Samba client utilities load and reload their configuration</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_editing-the-samba-configuration-in-a-safe-way_assembly_understanding-the-different-samba-services-and-modes" id="sub-link-to-configuring_and_using_network_file_services-proc_editing-the-samba-configuration-in-a-safe-way_assembly_understanding-the-different-samba-services-and-modes" data-v-b883c74f>1.1.4. Editing the Samba configuration in a safe way</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server" id="sub-link-to-configuring_and_using_network_file_services-proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server" data-v-b883c74f>1.2. Verifying the smb.conf file by using the testparm utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.3. Setting up Samba as a standalone server</summary><ol id="sub-nav--assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up Samba as a standalone server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-up-the-server-configuration-for-the-standalone-server_assembly_setting-up-samba-as-a-standalone-server" id="sub-link-to-configuring_and_using_network_file_services-proc_setting-up-the-server-configuration-for-the-standalone-server_assembly_setting-up-samba-as-a-standalone-server" data-v-b883c74f>1.3.1. Setting up the server configuration for the standalone server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server" id="sub-link-to-configuring_and_using_network_file_services-proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server" data-v-b883c74f>1.3.2. Creating and enabling local user accounts</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.4. Understanding and configuring Samba ID mapping</summary><ol id="sub-nav--assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server" data-v-b883c74f>Understanding and configuring Samba ID mapping</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping" id="sub-link-to-configuring_and_using_network_file_services-con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping" data-v-b883c74f>1.4.1. Planning Samba ID ranges</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping" id="sub-link-to-configuring_and_using_network_file_services-con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping" data-v-b883c74f>1.4.2. The * default domain</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" data-v-b883c74f>1.4.3. Using the tdb ID mapping back end</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-ad-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-ad-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" data-v-b883c74f>1.4.4. Using the ad ID mapping back end</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-rid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-rid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" data-v-b883c74f>1.4.5. Using the rid ID mapping back end</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" data-v-b883c74f>1.4.6. Using the autorid ID mapping back end</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.5. Setting up Samba as an AD domain member server</summary><ol id="sub-nav--assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up Samba as an AD domain member server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server" id="sub-link-to-configuring_and_using_network_file_services-proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server" data-v-b883c74f>1.5.1. Joining a RHEL system to an AD domain</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server" id="sub-link-to-configuring_and_using_network_file_services-using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server" data-v-b883c74f>1.5.2. Using the local authorization plug-in for MIT Kerberos</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.6. Setting up Samba on an IdM domain member</summary><ol id="sub-nav--setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up Samba on an IdM domain member</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member" id="sub-link-to-configuring_and_using_network_file_services-preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member" data-v-b883c74f>1.6.1. Preparing the IdM domain for installing Samba on domain members</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#installing-and-configuring-samba-on-an-idm-client_setting-up-samba-on-an-idm-domain-member" id="sub-link-to-configuring_and_using_network_file_services-installing-and-configuring-samba-on-an-idm-client_setting-up-samba-on-an-idm-domain-member" data-v-b883c74f>1.6.2. Installing and configuring a Samba server on an IdM client</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#manually-adding-an-id-mapping-configuration-if-idm-trusts-a-new-domain_setting-up-samba-on-an-idm-domain-member" id="sub-link-to-configuring_and_using_network_file_services-manually-adding-an-id-mapping-configuration-if-idm-trusts-a-new-domain_setting-up-samba-on-an-idm-domain-member" data-v-b883c74f>1.6.3. Manually adding an ID mapping configuration if IdM trusts a new domain</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources" id="sub-link-to-configuring_and_using_network_file_services-additional_resources" data-v-b883c74f>1.6.4. Additional resources</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.7. Setting up a Samba file share that uses POSIX ACLs</summary><ol id="sub-nav--assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up a Samba file share that uses POSIX ACLs</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_adding-a-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_adding-a-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" data-v-b883c74f>1.7.1. Adding a share that uses POSIX ACLs</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" data-v-b883c74f>1.7.2. Setting standard Linux ACLs on a Samba share that uses POSIX ACLs</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" data-v-b883c74f>1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.8. Setting permissions on a share that uses POSIX ACLs</summary><ol id="sub-nav--assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server" data-v-b883c74f>Setting permissions on a share that uses POSIX ACLs</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-user-and-group-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_configuring-user-and-group-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls" data-v-b883c74f>1.8.1. Configuring user and group-based share access</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_configuring-host-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_configuring-host-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls" data-v-b883c74f>1.8.2. Configuring host-based share access</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.9. Setting up a share that uses Windows ACLs</summary><ol id="sub-nav--assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up a share that uses Windows ACLs</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls" data-v-b883c74f>1.9.1. Granting the SeDiskOperatorPrivilege privilege</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-windows-acl-support_assembly_setting-up-a-share-that-uses-windows-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_enabling-windows-acl-support_assembly_setting-up-a-share-that-uses-windows-acls" data-v-b883c74f>1.9.2. Enabling Windows ACL support</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_adding-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_adding-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls" data-v-b883c74f>1.9.3. Adding a share that uses Windows ACLs</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_managing-share-permissions-and-file-system-acls-of-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls" id="sub-link-to-configuring_and_using_network_file_services-proc_managing-share-permissions-and-file-system-acls-of-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls" data-v-b883c74f>1.9.4. Managing share permissions and file system ACLs of a share that uses Windows ACLs</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.10. Managing ACLs on an SMB share using smbcacls</summary><ol id="sub-nav--assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server" data-v-b883c74f>Managing ACLs on an SMB share using smbcacls</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls" id="sub-link-to-configuring_and_using_network_file_services-con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls" data-v-b883c74f>1.10.1. Access control entries</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_displaying-acls-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls" id="sub-link-to-configuring_and_using_network_file_services-proc_displaying-acls-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls" data-v-b883c74f>1.10.2. Displaying ACLs using smbcacls</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls" id="sub-link-to-configuring_and_using_network_file_services-con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls" data-v-b883c74f>1.10.3. ACE mask calculation</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_adding-updating-and-removing-an-acl-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls" id="sub-link-to-configuring_and_using_network_file_services-proc_adding-updating-and-removing-an-acl-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls" data-v-b883c74f>1.10.4. Adding, updating, and removing an ACL using smbcacls</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.11. Enabling users to share directories on a Samba server</summary><ol id="sub-nav--assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server" data-v-b883c74f>Enabling users to share directories on a Samba server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-the-user-shares-feature_assembly_enabling-users-to-share-directories-on-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_enabling-the-user-shares-feature_assembly_enabling-users-to-share-directories-on-a-samba-server" data-v-b883c74f>1.11.1. Enabling the user shares feature</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" data-v-b883c74f>1.11.2. Adding a user share</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_updating-settings-of-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_updating-settings-of-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" data-v-b883c74f>1.11.3. Updating settings of a user share</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_displaying-information-about-existing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_displaying-information-about-existing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server" data-v-b883c74f>1.11.4. Displaying information about existing user shares</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_listing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_listing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server" data-v-b883c74f>1.11.5. Listing user shares</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_deleting-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_deleting-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" data-v-b883c74f>1.11.6. Deleting a user share</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.12. Configuring a share to allow access without authentication</summary><ol id="sub-nav--assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server" data-v-b883c74f>Configuring a share to allow access without authentication</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-guest-access-to-a-share_assembly_configuring-a-share-to-allow-access-without-authentication" id="sub-link-to-configuring_and_using_network_file_services-proc_enabling-guest-access-to-a-share_assembly_configuring-a-share-to-allow-access-without-authentication" data-v-b883c74f>1.12.1. Enabling guest access to a share</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.13. Configuring Samba for macOS clients</summary><ol id="sub-nav--assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server" data-v-b883c74f>Configuring Samba for macOS clients</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#optimizing-the-samba-configuration-for-providing-file-shares-for-macos-clients_assembly_configuring-samba-for-macos-clients" id="sub-link-to-configuring_and_using_network_file_services-optimizing-the-samba-configuration-for-providing-file-shares-for-macos-clients_assembly_configuring-samba-for-macos-clients" data-v-b883c74f>1.13.1. Optimizing the Samba configuration for providing file shares for macOS clients</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.14. Using the smbclient utility to access an SMB share</summary><ol id="sub-nav--assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server" data-v-b883c74f>Using the smbclient utility to access an SMB share</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_how-the-smbclient-interactive-mode-works_assembly_using-the-smbclient-utility-to-access-an-smb-share" id="sub-link-to-configuring_and_using_network_file_services-con_how-the-smbclient-interactive-mode-works_assembly_using-the-smbclient-utility-to-access-an-smb-share" data-v-b883c74f>1.14.1. How the smbclient interactive mode works</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-smbclient-in-interactive-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share" id="sub-link-to-configuring_and_using_network_file_services-proc_using-smbclient-in-interactive-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share" data-v-b883c74f>1.14.2. Using smbclient in interactive mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-smbclient-in-scripting-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share" id="sub-link-to-configuring_and_using_network_file_services-proc_using-smbclient-in-scripting-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share" data-v-b883c74f>1.14.3. Using smbclient in scripting mode</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.15. Setting up Samba as a print server</summary><ol id="sub-nav--assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up Samba as a print server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-print-server-support-in-samba_assembly_setting-up-samba-as-a-print-server" id="sub-link-to-configuring_and_using_network_file_services-proc_enabling-print-server-support-in-samba_assembly_setting-up-samba-as-a-print-server" data-v-b883c74f>1.15.1. Enabling print server support in Samba</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server" id="sub-link-to-configuring_and_using_network_file_services-proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server" data-v-b883c74f>1.15.2. Manually sharing specific printers</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.16. Setting up automatic printer driver downloads for Windows clients on Samba print servers</summary><ol id="sub-nav--assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server" data-v-b883c74f>Setting up automatic printer driver downloads for Windows clients on Samba print servers</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_basic-information-about-printer-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" id="sub-link-to-configuring_and_using_network_file_services-con_basic-information-about-printer-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" data-v-b883c74f>1.16.1. Basic information about printer drivers</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" id="sub-link-to-configuring_and_using_network_file_services-proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" data-v-b883c74f>1.16.2. Enabling users to upload and preconfigure drivers</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-up-the-print-share_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" id="sub-link-to-configuring_and_using_network_file_services-proc_setting-up-the-print-share_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" data-v-b883c74f>1.16.3. Setting up the print$ share</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_creating-a-gpo-to-enable-clients-to-trust-the-samba-print-server_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" id="sub-link-to-configuring_and_using_network_file_services-proc_creating-a-gpo-to-enable-clients-to-trust-the-samba-print-server_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" data-v-b883c74f>1.16.4. Creating a GPO to enable clients to trust the Samba print server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_uploading-drivers-and-preconfiguring-printers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" id="sub-link-to-configuring_and_using_network_file_services-proc_uploading-drivers-and-preconfiguring-printers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" data-v-b883c74f>1.16.5. Uploading drivers and preconfiguring printers</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.17. Running Samba on a server with FIPS mode enabled</summary><ol id="sub-nav--assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server" data-v-b883c74f>Running Samba on a server with FIPS mode enabled</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled" id="sub-link-to-configuring_and_using_network_file_services-ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled" data-v-b883c74f>1.17.1. Limitations of using Samba in FIPS mode</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled" id="sub-link-to-configuring_and_using_network_file_services-proc_using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled" data-v-b883c74f>1.17.2. Using Samba in FIPS mode</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.18. Tuning the performance of a Samba server</summary><ol id="sub-nav--assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server" data-v-b883c74f>Tuning the performance of a Samba server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server" data-v-b883c74f>1.18.1. Setting the SMB protocol version</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server" data-v-b883c74f>1.18.2. Tuning shares with directories that contain a large number of files</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server" id="sub-link-to-configuring_and_using_network_file_services-con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server" data-v-b883c74f>1.18.3. Settings that can have a negative performance impact</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.19. Configuring Samba to be compatible with clients that require an SMB version lower than the default</summary><ol id="sub-nav--assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server" data-v-b883c74f>Configuring Samba to be compatible with clients that require an SMB version lower than the default</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-the-minimum-smb-protocol-version-supported-by-a-samba-server_assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default" id="sub-link-to-configuring_and_using_network_file_services-setting-the-minimum-smb-protocol-version-supported-by-a-samba-server_assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default" data-v-b883c74f>1.19.1. Setting the minimum SMB protocol version supported by a Samba server</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><details id="nested-toc--assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server" data-v-b883c74f><summary class="heading sub-chapter-title" id="assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server--summary" data-v-b883c74f>1.20. Frequently used Samba command-line utilities</summary><ol id="sub-nav--assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server" class="sub-nav" data-v-b883c74f><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title chapter-landing-page" href="#assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server" id="chapter-landing--configuring_and_using_network_file_services-assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server" data-v-b883c74f>Frequently used Samba command-line utilities</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-net-ads-join-and-net-rpc-join-commands_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-net-ads-join-and-net-rpc-join-commands_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.1. Using the net ads join and net rpc join commands</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-net-rpc-rights-command_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-net-rpc-rights-command_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.2. Using the net rpc rights command</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-net-rpc-share-command_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-net-rpc-share-command_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.3. Using the net rpc share command</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-net-user-command_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-net-user-command_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.4. Using the net user command</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-rpcclient-utility_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-rpcclient-utility_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.5. Using the rpcclient utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-samba-regedit-application_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-samba-regedit-application_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.6. Using the samba-regedit application</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-smbcontrol-utility_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-smbcontrol-utility_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.7. Using the smbcontrol utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-smbpasswd-utility_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-smbpasswd-utility_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.8. Using the smbpasswd utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-smbstatus-utility_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-smbstatus-utility_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.9. Using the smbstatus utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-smbtar-utility_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-smbtar-utility_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.10. Using the smbtar utility</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#proc_using-the-wbinfo-utility_assembly_frequently-used-samba-command-line-utilities" id="sub-link-to-configuring_and_using_network_file_services-proc_using-the-wbinfo-utility_assembly_frequently-used-samba-command-line-utilities" data-v-b883c74f>1.20.11. Using the wbinfo utility</a></li><!--]--><!--]--></ol></details></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#additional_resources_2" id="sub-link-to-configuring_and_using_network_file_services-additional_resources_2" data-v-b883c74f>1.21. Additional resources</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><details id="toc--deploying-an-nfs-server_configuring-and-using-network-file-services" data-v-fa0dae77><summary class="heading chapter-title" id="deploying-an-nfs-server_configuring-and-using-network-file-services--summary" data-v-fa0dae77>2. Deploying an NFS server</summary><ol class="sub-nav" data-v-fa0dae77><li class="item sub-chapter" data-v-fa0dae77><a class="link sub-chapter-title chapter-landing-page" href="#deploying-an-nfs-server_configuring-and-using-network-file-services" id="chapter-landing--configuring_and_using_network_file_services-deploying-an-nfs-server_configuring-and-using-network-file-services" data-v-fa0dae77>Deploying an NFS server</a></li><!--[--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#key-features-of-minor-nfsv4-versions_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-key-features-of-minor-nfsv4-versions_deploying-an-nfs-server" data-v-b883c74f>2.1. Key features of minor NFSv4 versions</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-auth-sys-authentication-method_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-the-auth-sys-authentication-method_deploying-an-nfs-server" data-v-b883c74f>2.2. The AUTH_SYS authentication method</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-auth-gss-authentication-method_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-the-auth-gss-authentication-method_deploying-an-nfs-server" data-v-b883c74f>2.3. The AUTH_GSS authentication method</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#file-permissions-on-exported-file-systems_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-file-permissions-on-exported-file-systems_deploying-an-nfs-server" data-v-b883c74f>2.4. File permissions on exported file systems</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#services-required-on-an-nfs-server_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-services-required-on-an-nfs-server_deploying-an-nfs-server" data-v-b883c74f>2.5. Services required on an NFS server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#the-etc-exports-configuration-file_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-the-etc-exports-configuration-file_deploying-an-nfs-server" data-v-b883c74f>2.6. The /etc/exports configuration file</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-an-nfsv4-only-server_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-configuring-an-nfsv4-only-server_deploying-an-nfs-server" data-v-b883c74f>2.7. Configuring an NFSv4-only server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#configuring-an-nfsv3-server-with-optional-nfsv4-support_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-configuring-an-nfsv3-server-with-optional-nfsv4-support_deploying-an-nfs-server" data-v-b883c74f>2.8. Configuring an NFSv3 server with optional NFSv4 support</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-quota-support-on-an-nfs-server_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-enabling-quota-support-on-an-nfs-server_deploying-an-nfs-server" data-v-b883c74f>2.9. Enabling quota support on an NFS server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#enabling-nfs-over-rdma-on-an-nfs-server_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-enabling-nfs-over-rdma-on-an-nfs-server_deploying-an-nfs-server" data-v-b883c74f>2.10. Enabling NFS over RDMA on an NFS server</a></li><!--]--><!--[--><li class="item sub-chapter" data-v-b883c74f><a class="link sub-chapter-title" href="#setting-up-an-nfs-server-with-kerberos-in-a-red-hat-identity-management-domain_deploying-an-nfs-server" id="sub-link-to-configuring_and_using_network_file_services-setting-up-an-nfs-server-with-kerberos-in-a-red-hat-identity-management-domain_deploying-an-nfs-server" data-v-b883c74f>2.11. Setting up an NFS server with Kerberos in a Red Hat Identity Management domain</a></li><!--]--><!--]--></ol></details></li><li class="item chapter" data-v-fa0dae77><a class="link" href="#idm140443022784784" id="chapter-landing--configuring_and_using_network_file_services-idm140443022784784" data-v-fa0dae77>Legal Notice</a></li><!--]--></ol></nav><!----></div></div></aside><article class="content span-xs-12 span-sm-6 span-md-12 span-lg-7" aria-live="polite" data-v-8589d091><!----><div lang="en-us" xml:lang="en-us" class="docs-content-container" data-v-8589d091><!----><!----><h1 data-id="content_chapter" class="chapter-title" data-v-8589d091>Configuring and using network file services</h1><hr class="line-below-chp" data-v-8589d091><section class="rhdocs" data-v-8589d091><body><div xml:lang="en-US" class="book" id="idm140443025497056"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">9</span></div><div><h3 class="subtitle">A guide to configuring and using network file services in Red Hat Enterprise Linux 9.</h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="#idm140443022784784">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document describes how to configure and run network file services on Red Hat Enterprise Linux 9, including Samba server and NFS server.
			</div></div></div></div><hr></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services"><div class="titlepage"><div><div><h2 class="title">Providing feedback on Red Hat documentation</h2></div></div></div><p class="_abstract _abstract">
			We appreciate your feedback on our documentation. Let us know how we can improve it.
		</p><div class="orderedlist"><p class="title"><strong>Submitting feedback through Jira (account required)</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Log in to the <a class="link" href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</a> website.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> in the top navigation bar
				</li><li class="listitem">
					Enter a descriptive title in the <span class="strong strong"><strong>Summary</strong></span> field.
				</li><li class="listitem">
					Enter your suggestion for improvement in the <span class="strong strong"><strong>Description</strong></span> field. Include links to the relevant parts of the documentation.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span> at the bottom of the dialogue.
				</li></ol></div></section><section class="chapter" id="assembly_using-samba-as-a-server_configuring-and-using-network-file-services"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Using Samba as a server</h2></div></div></div><p>
			Samba implements the Server Message Block (SMB) protocol in Red Hat Enterprise Linux. The SMB protocol is used to access resources on a server, such as file shares and shared printers. Additionally, Samba implements the Distributed Computing Environment Remote Procedure Call (DCE RPC) protocol used by Microsoft Windows.
		</p><p>
			You can run Samba as:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					An Active Directory (AD) or NT4 domain member
				</li><li class="listitem">
					A standalone server
				</li><li class="listitem"><p class="simpara">
					An NT4 Primary Domain Controller (PDC) or Backup Domain Controller (BDC)
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Red Hat supports the PDC and BDC modes only in existing installations with Windows versions which support NT4 domains. Red Hat recommends not setting up a new Samba NT4 domain, because Microsoft operating systems later than Windows 7 and Windows Server 2008 R2 do not support NT4 domains.
					</p><p>
						Red Hat does not support running Samba as an AD domain controller (DC).
					</p></div></rh-alert></li></ul></div><p>
			Independently of the installation mode, you can optionally share directories and printers. This enables Samba to act as a file and print server.
		</p><section class="section" id="assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.1. Understanding the different Samba services and modes</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">samba</code> package provides multiple services. Depending on your environment and the scenario you want to configure, you require one or more of these services and configure Samba in different modes.
			</p><section class="section" id="con_the-samba-services_assembly_understanding-the-different-samba-services-and-modes"><div class="titlepage"><div><div><h4 class="title">1.1.1. The Samba services</h4></div></div></div><p>
					Samba provides the following services:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">smbd</code></span></dt><dd><p class="simpara">
								This service provides file sharing and printing services using the SMB protocol. Additionally, the service is responsible for resource locking and for authenticating connecting users. For authenticating domain members, <code class="literal">smbd</code> requires <code class="literal">winbindd</code>. The <code class="literal">smb</code> <code class="literal">systemd</code> service starts and stops the <code class="literal">smbd</code> daemon.
							</p><p class="simpara">
								To use the <code class="literal">smbd</code> service, install the <code class="literal package">samba</code> package.
							</p></dd><dt><span class="term"><code class="literal">nmbd</code></span></dt><dd><p class="simpara">
								This service provides host name and IP resolution using the NetBIOS over IPv4 protocol. Additionally to the name resolution, the <code class="literal">nmbd</code> service enables browsing the SMB network to locate domains, work groups, hosts, file shares, and printers. For this, the service either reports this information directly to the broadcasting client or forwards it to a local or master browser. The <code class="literal">nmb</code> <code class="literal">systemd</code> service starts and stops the <code class="literal">nmbd</code> daemon.
							</p><p class="simpara">
								Note that modern SMB networks use DNS to resolve clients and IP addresses. For Kerberos a working DNS setup is required.
							</p><p class="simpara">
								To use the <code class="literal">nmbd</code> service, install the <code class="literal package">samba</code> package.
							</p></dd><dt><span class="term"><code class="literal">winbindd</code></span></dt><dd><p class="simpara">
								This service provides an interface for the Name Service Switch (NSS) to use AD or NT4 domain users and groups on the local system. This enables, for example, domain users to authenticate to services hosted on a Samba server or to other local services. The <code class="literal">winbind</code> <code class="literal">systemd</code> service starts and stops the <code class="literal">winbindd</code> daemon.
							</p><p class="simpara">
								If you set up Samba as a domain member, <code class="literal">winbindd</code> must be started before the <code class="literal">smbd</code> service. Otherwise, domain users and groups are not available to the local system..
							</p><p class="simpara">
								To use the <code class="literal">winbindd</code> service, install the <code class="literal package">samba-winbind</code> package.
							</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
									Red Hat only supports running Samba as a server with the <code class="literal">winbindd</code> service to provide domain users and groups to the local system. Due to certain limitations, such as missing Windows access control list (ACL) support and NT LAN Manager (NTLM) fallback, SSSD is not supported.
								</p></div></rh-alert></dd></dl></div></section><section class="section" id="con_the-samba-security-services_assembly_understanding-the-different-samba-services-and-modes"><div class="titlepage"><div><div><h4 class="title">1.1.2. The Samba security services</h4></div></div></div><p>
					The <code class="literal">security</code> parameter in the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file manages how Samba authenticates users that are connecting to the service. Depending on the mode you install Samba in, the parameter must be set to different values:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">On an AD domain member, set <code class="literal">security = ads</code></span></dt><dd><p class="simpara">
								In this mode, Samba uses Kerberos to authenticate AD users.
							</p><p class="simpara">
								For details about setting up Samba as a domain member, see <a class="link" href="#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" title="1.5. Setting up Samba as an AD domain member server">Setting up Samba as an AD domain member server</a>.
							</p></dd><dt><span class="term">On a standalone server, set <code class="literal">security = user</code></span></dt><dd><p class="simpara">
								In this mode, Samba uses a local database to authenticate connecting users.
							</p><p class="simpara">
								For details about setting up Samba as a standalone server, see <a class="link" href="#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" title="1.3. Setting up Samba as a standalone server">Setting up Samba as a standalone server</a>.
							</p></dd><dt><span class="term">On an NT4 PDC or BDC, set <code class="literal">security = user</code></span></dt><dd>
								In this mode, Samba authenticates users to a local or LDAP database.
							</dd><dt><span class="term">On an NT4 domain member, set <code class="literal">security = domain</code></span></dt><dd><p class="simpara">
								In this mode, Samba authenticates connecting users to an NT4 PDC or BDC. You cannot use this mode on AD domain members.
							</p><p class="simpara">
								For details about setting up Samba as a domain member, see <a class="link" href="#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" title="1.5. Setting up Samba as an AD domain member server">Setting up Samba as an AD domain member server</a>.
							</p></dd></dl></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">security</code> parameter in the <code class="literal">smb.conf(5)</code> man page
						</li></ul></div></section><section class="section" id="con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes"><div class="titlepage"><div><div><h4 class="title">1.1.3. Scenarios when Samba services and Samba client utilities load and reload their configuration</h4></div></div></div><p class="_abstract _abstract">
					The following describes when Samba services and utilities load and reload their configuration:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Samba services reload their configuration:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Automatically every 3 minutes
								</li><li class="listitem">
									On manual request, for example, when you run the <code class="literal command">smbcontrol all reload-config</code> command.
								</li></ul></div></li><li class="listitem">
							Samba client utilities read their configuration only when you start them.
						</li></ul></div><p>
					Note that certain parameters, such as <code class="literal parameter">security</code> require a restart of the <code class="literal systemitem">smb</code> service to take effect and a reload is not sufficient.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							The <code class="literal citetitle">How configuration changes are applied</code> section in the <code class="literal citetitle">smb.conf(5)</code> man page
						</li><li class="listitem">
							The <code class="literal citetitle">smbd(8)</code>, <code class="literal citetitle">nmbd(8)</code>, and <code class="literal citetitle">winbindd(8)</code> man pages
						</li></ul></div></section><section class="section" id="proc_editing-the-samba-configuration-in-a-safe-way_assembly_understanding-the-different-samba-services-and-modes"><div class="titlepage"><div><div><h4 class="title">1.1.4. Editing the Samba configuration in a safe way</h4></div></div></div><p class="_abstract _abstract">
					Samba services automatically reload their configuration every 3 minutes. To prevent that the services reload the changes before you have verified the configuration using the <code class="literal">testparm</code> utility, you can edit the Samba configuration in a safe way.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is installed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a copy of the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>cp /etc/samba/smb.conf /etc/samba/samba.conf.<span class="emphasis"><em>copy</em></span></strong></span></pre></li><li class="listitem">
							Edit the copied file and make the required changes.
						</li><li class="listitem"><p class="simpara">
							Verify the configuration in the <code class="literal filename">/etc/samba/samba.conf.<span class="emphasis"><em>copy</em></span></code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm -s /etc/samba/samba.conf.<span class="emphasis"><em>copy</em></span></strong></span></pre><p class="simpara">
							If <code class="literal systemitem">testparm</code> reports errors, fix them and run the command again.
						</p></li><li class="listitem"><p class="simpara">
							Override the <code class="literal filename">/etc/samba/smb.conf</code> file with the new configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>mv /etc/samba/samba.conf.<span class="emphasis"><em>copy</em></span> /etc/samba/smb.conf</strong></span></pre></li><li class="listitem"><p class="simpara">
							Wait until the Samba services automatically reload their configuration or manually reload the configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes" title="1.1.3. Scenarios when Samba services and Samba client utilities load and reload their configuration">Scenarios when Samba services and Samba client utilities load and reload their configuration</a>
						</li></ul></div></section></section><section class="section" id="proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.2. Verifying the smb.conf file by using the testparm utility</h3></div></div></div><p>
				The <code class="literal">testparm</code> utility verifies that the Samba configuration in the <code class="literal filename">/etc/samba/smb.conf</code> file is correct. The utility detects invalid parameters and values, but also incorrect settings, such as for ID mapping. If <code class="literal">testparm</code> reports no problem, the Samba services will successfully load the <code class="literal filename">/etc/samba/smb.conf</code> file. Note that <code class="literal">testparm</code> cannot verify that the configured services will be available or work as expected.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Red Hat recommends that you verify the <code class="literal filename">/etc/samba/smb.conf</code> file by using <code class="literal">testparm</code> after each modification of this file.
				</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You installed Samba.
					</li><li class="listitem">
						The <code class="literal filename">/etc/samba/smb.conf</code> file exits.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Run the <code class="literal">testparm</code> utility as the <code class="literal">root</code> user:
					</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span>
Load smb config files from /etc/samba/smb.conf
rlimit_max: increasing rlimit_max (1024) to minimum Windows limit (16384)
<span class="strong strong"><strong>Unknown parameter encountered: "log levell"</strong></span>
Processing section "[example_share]"
Loaded services file OK.
<span class="strong strong"><strong>ERROR: The idmap range for the domain * (tdb) overlaps with the range of DOMAIN (ad)!</strong></span>

Server role: ROLE_DOMAIN_MEMBER

Press enter to see a dump of your service definitions

# Global parameters
[global]
	...

[example_share]
	...</pre><p class="simpara">
						The previous example output reports a non-existent parameter and an incorrect ID mapping configuration.
					</p></li><li class="listitem">
						If <code class="literal">testparm</code> reports incorrect parameters, values, or other errors in the configuration, fix the problem and run the utility again.
					</li></ol></div></section><section class="section" id="assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.3. Setting up Samba as a standalone server</h3></div></div></div><p>
				You can set up Samba as a server that is not a member of a domain. In this installation mode, Samba authenticates users to a local database instead of to a central DC. Additionally, you can enable guest access to allow users to connect to one or multiple services without authentication.
			</p><section class="section" id="proc_setting-up-the-server-configuration-for-the-standalone-server_assembly_setting-up-samba-as-a-standalone-server"><div class="titlepage"><div><div><h4 class="title">1.3.1. Setting up the server configuration for the standalone server</h4></div></div></div><p>
					You can set up the server configuration for a Samba standalone server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal package">samba</code> package:
						</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install samba</strong></span></pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file and set the following parameters:
						</p><pre class="literallayout">[global]
	workgroup = <span class="emphasis"><em>Example-WG</em></span>
	netbios name = <span class="emphasis"><em>Server</em></span>
	security = user

	log file = /var/log/samba/%m.log
	log level = 1</pre><p class="simpara">
							This configuration defines a standalone server named <code class="literal">Server</code> within the <code class="literal">Example-WG</code> work group. Additionally, this configuration enables logging on a minimal level (<code class="literal">1</code>) and log files will be stored in the <code class="literal filename">/var/log/samba/</code> directory. Samba will expand the <code class="literal">%m</code> macro in the <code class="literal">log file</code> parameter to the NetBIOS name of connecting clients. This enables individual log files for each client.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, configure file or printer sharing. See:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" title="1.7. Setting up a Samba file share that uses POSIX ACLs">Setting up a share that uses POSIX ACLs</a>
								</li><li class="listitem">
									<a class="link" href="#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" title="1.9. Setting up a share that uses Windows ACLs">Setting up a share that uses Windows ACLs</a>
								</li><li class="listitem">
									<a class="link" href="#assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server" title="1.15. Setting up Samba as a print server">Setting up Samba as a Print Server</a>
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							If you set up shares that require authentication, create the user accounts.
						</p><p class="simpara">
							For details, see <a class="link" href="#proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server" title="1.3.2. Creating and enabling local user accounts">Creating and enabling local user accounts</a>.
						</p></li><li class="listitem"><p class="simpara">
							Open the required ports and reload the firewall configuration by using the <code class="literal">firewall-cmd</code> utility:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=samba</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable and start the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now smb</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smb.conf(5)</code> man page
						</li></ul></div></section><section class="section" id="proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server"><div class="titlepage"><div><div><h4 class="title">1.3.2. Creating and enabling local user accounts</h4></div></div></div><p>
					To enable users to authenticate when they connect to a share, you must create the accounts on the Samba host both in the operating system and in the Samba database. Samba requires the operating system account to validate the Access Control Lists (ACL) on file system objects and the Samba account to authenticate connecting users.
				</p><p>
					If you use the <code class="literal">passdb backend = tdbsam</code> default setting, Samba stores user accounts in the <code class="literal filename">/var/lib/samba/private/passdb.tdb</code> database.
				</p><p>
					You can create a local Samba user named <code class="literal">example</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is installed and configured as a standalone server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the operating system account:
						</p><pre class="literallayout"># <span class="strong strong"><strong>useradd -M -s /sbin/nologin example</strong></span></pre><p class="simpara">
							This command adds the <code class="literal">example</code> account without creating a home directory. If the account is only used to authenticate to Samba, assign the <code class="literal filename">/sbin/nologin</code> command as shell to prevent the account from logging in locally.
						</p></li><li class="listitem"><p class="simpara">
							Set a password to the operating system account to enable it:
						</p><pre class="literallayout"># <span class="strong strong"><strong>passwd example</strong></span>
Enter new UNIX password: <code class="literal command"><span class="emphasis"><em>password</em></span></code>
Retype new UNIX password: <code class="literal command"><span class="emphasis"><em>password</em></span></code>
passwd: password updated successfully</pre><p class="simpara">
							Samba does not use the password set on the operating system account to authenticate. However, you need to set a password to enable the account. If an account is disabled, Samba denies access if this user connects.
						</p></li><li class="listitem"><p class="simpara">
							Add the user to the Samba database and set a password to the account:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbpasswd -a <span class="emphasis"><em>example</em></span></strong></span>
New SMB password: <code class="literal command"><span class="emphasis"><em>password</em></span></code>
Retype new SMB password: <code class="literal command"><span class="emphasis"><em>password</em></span></code>
Added user example.</pre><p class="simpara">
							Use this password to authenticate when using this account to connect to a Samba share.
						</p></li><li class="listitem"><p class="simpara">
							Enable the Samba account:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbpasswd -e <span class="emphasis"><em>example</em></span></strong></span>
Enabled user example.</pre></li></ol></div></section></section><section class="section" id="assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.4. Understanding and configuring Samba ID mapping</h3></div></div></div><p>
				Windows domains distinguish users and groups by unique Security Identifiers (SID). However, Linux requires unique UIDs and GIDs for each user and group. If you run Samba as a domain member, the <code class="literal">winbindd</code> service is responsible for providing information about domain users and groups to the operating system.
			</p><p>
				To enable the <code class="literal">winbindd</code> service to provide unique IDs for users and groups to Linux, you must configure ID mapping in the <code class="literal filename">/etc/samba/smb.conf</code> file for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The local database (default domain)
					</li><li class="listitem">
						The AD or NT4 domain the Samba server is a member of
					</li><li class="listitem">
						Each trusted domain from which users must be able to access resources on this Samba server
					</li></ul></div><p>
				Samba provides different ID mapping back ends for specific configurations. The most frequently used back ends are:
			</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 80%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443021736688" scope="col">Back end</th><th align="left" valign="top" id="idm140443021735600" scope="col">Use case</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443021736688"> <p>
								<code class="literal">tdb</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443021735600"> <p>
								The <code class="literal">*</code> default domain only
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443021736688"> <p>
								<code class="literal">ad</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443021735600"> <p>
								AD domains only
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443021736688"> <p>
								<code class="literal">rid</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443021735600"> <p>
								AD and NT4 domains
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443021736688"> <p>
								<code class="literal">autorid</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443021735600"> <p>
								AD, NT4, and the <code class="literal">*</code> default domain
							</p>
							 </td></tr></tbody></table></rh-table><section class="section" id="con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping"><div class="titlepage"><div><div><h4 class="title">1.4.1. Planning Samba ID ranges</h4></div></div></div><p>
					Regardless of whether you store the Linux UIDs and GIDs in AD or if you configure Samba to generate them, each domain configuration requires a unique ID range that must not overlap with any of the other domains.
				</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
						If you set overlapping ID ranges, Samba fails to work correctly.
					</p></div></rh-alert><div class="example" id="idm140443021850992"><p class="title"><strong>Example 1.1. Unique ID Ranges</strong></p><div class="example-contents"><p>
						The following shows non-overlapping ID mapping ranges for the default (<code class="literal">*</code>), <code class="literal">AD-DOM</code>, and the <code class="literal">TRUST-DOM</code> domains.
					</p><pre class="literallayout">[global]
...
idmap config * : backend = tdb
idmap config * : range = 10000-999999

idmap config AD-DOM:backend = rid
idmap config AD-DOM:range = 2000000-2999999

idmap config TRUST-DOM:backend = rid
idmap config TRUST-DOM:range = 4000000-4999999</pre></div></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						You can only assign one range per domain. Therefore, leave enough space between the domains ranges. This enables you to extend the range later if your domain grows.
					</p><p>
						If you later assign a different range to a domain, the ownership of files and directories previously created by these users and groups will be lost.
					</p></div></rh-alert></section><section class="section" id="con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping"><div class="titlepage"><div><div><h4 class="title">1.4.2. The * default domain</h4></div></div></div><p>
					In a domain environment, you add one ID mapping configuration for each of the following:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The domain the Samba server is a member of
						</li><li class="listitem">
							Each trusted domain that should be able to access the Samba server
						</li></ul></div><p>
					However, for all other objects, Samba assigns IDs from the default domain. This includes:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Local Samba users and groups
						</li><li class="listitem">
							Samba built-in accounts and groups, such as <code class="literal">BUILTIN\Administrators</code>
						</li></ul></div><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						You must configure the default domain as described to enable Samba to operate correctly.
					</p></div></rh-alert><p>
					The default domain back end must be writable to permanently store the assigned IDs.
				</p><p>
					For the default domain, you can use one of the following back ends:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">tdb</code></span></dt><dd><p class="simpara">
								When you configure the default domain to use the <code class="literal">tdb</code> back end, set an ID range that is big enough to include objects that will be created in the future and that are not part of a defined domain ID mapping configuration.
							</p><p class="simpara">
								For example, set the following in the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file:
							</p><pre class="literallayout">idmap config * : backend = tdb
idmap config * : range = 10000-999999</pre><p class="simpara">
								For further details, see <a class="link" href="#proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.3. Using the tdb ID mapping back end">Using the TDB ID mapping back end</a>.
							</p></dd><dt><span class="term"><code class="literal">autorid</code></span></dt><dd><p class="simpara">
								When you configure the default domain to use the <code class="literal">autorid</code> back end, adding additional ID mapping configurations for domains is optional.
							</p><p class="simpara">
								For example, set the following in the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file:
							</p><pre class="literallayout">idmap config * : backend = autorid
idmap config * : range = 10000-999999</pre><p class="simpara">
								For further details, see <a class="link" href="#proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.6. Using the autorid ID mapping back end">Using the autorid ID mapping back end</a>.
							</p></dd></dl></div></section><section class="section" id="proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping"><div class="titlepage"><div><div><h4 class="title">1.4.3. Using the tdb ID mapping back end</h4></div></div></div><p>
					The <code class="literal">winbindd</code> service uses the writable <code class="literal">tdb</code> ID mapping back end by default to store Security Identifier (SID), UID, and GID mapping tables. This includes local users, groups, and built-in principals.
				</p><p>
					Use this back end only for the <code class="literal">*</code> default domain. For example:
				</p><pre class="literallayout">idmap config * : backend = tdb
idmap config * : range = 10000-999999</pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.2. The * default domain">The * default domain</a>.
						</li></ul></div></section><section class="section" id="proc_using-the-ad-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping"><div class="titlepage"><div><div><h4 class="title">1.4.4. Using the ad ID mapping back end</h4></div></div></div><p>
					You can configure a Samba AD member to use the <code class="literal">ad</code> ID mapping back end.
				</p><p>
					The <code class="literal">ad</code> ID mapping back end implements a read-only API to read account and group information from AD. This provides the following benefits:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							All user and group settings are stored centrally in AD.
						</li><li class="listitem">
							User and group IDs are consistent on all Samba servers that use this back end.
						</li><li class="listitem">
							The IDs are not stored in a local database which can corrupt, and therefore file ownerships cannot be lost.
						</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						The <code class="literal">ad</code> ID mapping back end does not support Active Directory domains with one-way trusts. If you configure a domain member in an Active Directory with one-way trusts, use instead one of the following ID mapping back ends: <code class="literal">tdb</code>, <code class="literal">rid</code>, or <code class="literal">autorid</code>.
					</p></div></rh-alert><p>
					The ad back end reads the following attributes from AD:
				</p><rh-table id="table_proc_using-the-ad-id-mapping-back-end_assembly_the-different-samba-id-mapping-back-ends"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--><col style="width: 25%; " class="col_2"><!--Empty--><col style="width: 50%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443020857552" scope="col">AD attribute name</th><th align="left" valign="top" id="idm140443020856464" scope="col">Object type</th><th align="left" valign="top" id="idm140443020855376" scope="col">Mapped to</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443020857552"> <p>
									<code class="literal">sAMAccountName</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140443020856464"> <p>
									User and group
								</p>
								 </td><td align="left" valign="top" headers="idm140443020855376"> <p>
									User or group name, depending on the object
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140443020857552"> <p>
									<code class="literal">uidNumber</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140443020856464"> <p>
									User
								</p>
								 </td><td align="left" valign="top" headers="idm140443020855376"> <p>
									User ID (UID)
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140443020857552"> <p>
									<code class="literal">gidNumber</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140443020856464"> <p>
									Group
								</p>
								 </td><td align="left" valign="top" headers="idm140443020855376"> <p>
									Group ID (GID)
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140443020857552"> <p>
									<code class="literal">loginShell</code> <a href="#ftn.sambaloginshell" class="footnote"><sup class="footnote" id="sambaloginshell">[a]</sup></a>
								</p>
								 </td><td align="left" valign="top" headers="idm140443020856464"> <p>
									User
								</p>
								 </td><td align="left" valign="top" headers="idm140443020855376"> <p>
									Path to the shell of the user
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140443020857552"> <p>
									<code class="literal">unixHomeDirectory</code> <a href="#ftn.sambaloginshell" class="footnoteref"><sup class="footnoteref">[a]</sup></a>
								</p>
								 </td><td align="left" valign="top" headers="idm140443020856464"> <p>
									User
								</p>
								 </td><td align="left" valign="top" headers="idm140443020855376"> <p>
									Path to the home directory of the user
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140443020857552"> <p>
									<code class="literal">primaryGroupID</code> <a href="#ftn.samba_primarygroupid" class="footnote"><sup class="footnote" id="samba_primarygroupid">[b]</sup></a>
								</p>
								 </td><td align="left" valign="top" headers="idm140443020856464"> <p>
									User
								</p>
								 </td><td align="left" valign="top" headers="idm140443020855376"> <p>
									Primary group ID
								</p>
								 </td></tr></tbody><tbody class="footnotes"><tr><td colspan="3"><div id="ftn.sambaloginshell" class="footnote"><div class="para"><a href="#sambaloginshell" class="simpara"><sup class="simpara">[a] </sup></a>
										Samba only reads this attribute if you set <code class="literal">idmap config <span class="emphasis"><em>DOMAIN</em></span>:unix_nss_info = yes</code>.
									</div></div><div id="ftn.samba_primarygroupid" class="footnote"><div class="para"><a href="#samba_primarygroupid" class="simpara"><sup class="simpara">[b] </sup></a>
										Samba only reads this attribute if you set <code class="literal">idmap config <span class="emphasis"><em>DOMAIN</em></span>:unix_primary_group = yes</code>.
									</div></div></td></tr></tbody></table></rh-table><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Both users and groups must have unique IDs set in AD, and the IDs must be within the range configured in the <code class="literal filename">/etc/samba/smb.conf</code> file. Objects whose IDs are outside of the range will not be available on the Samba server.
						</li><li class="listitem">
							Users and groups must have all required attributes set in AD. If required attributes are missing, the user or group will not be available on the Samba server. The required attributes depend on your configuration. .Prerequisites
						</li><li class="listitem">
							You installed Samba.
						</li><li class="listitem">
							The Samba configuration, except ID mapping, exists in the <code class="literal filename">/etc/samba/smb.conf</code> file.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add an ID mapping configuration for the default domain (<code class="literal">*</code>) if it does not exist. For example:
								</p><pre class="literallayout">idmap config * : backend = tdb
idmap config * : range = <span class="emphasis"><em>10000-999999</em></span></pre></li><li class="listitem"><p class="simpara">
									Enable the <code class="literal">ad</code> ID mapping back end for the AD domain:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : backend = ad</pre></li><li class="listitem"><p class="simpara">
									Set the range of IDs that is assigned to users and groups in the AD domain. For example:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : range = <span class="emphasis"><em>2000000-2999999</em></span></pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
										The range must not overlap with any other domain configuration on this server. Additionally, the range must be set big enough to include all IDs assigned in the future. For further details, see <a class="link" href="#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.1. Planning Samba ID ranges">Planning Samba ID ranges</a>.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Set that Samba uses the <a class="link" href="https://tools.ietf.org/html/rfc2307">RFC 2307</a> schema when reading attributes from AD:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : schema_mode = rfc2307</pre></li><li class="listitem"><p class="simpara">
									To enable Samba to read the login shell and the path to the users home directory from the corresponding AD attribute, set:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : unix_nss_info = yes</pre><p class="simpara">
									Alternatively, you can set a uniform domain-wide home directory path and login shell that is applied to all users. For example:
								</p><pre class="literallayout">template shell = <span class="emphasis"><em>/bin/bash</em></span>
template homedir = <span class="emphasis"><em>/home/%U</em></span></pre></li><li class="listitem"><p class="simpara">
									By default, Samba uses the <code class="literal">primaryGroupID</code> attribute of a user object as the user’s primary group on Linux. Alternatively, you can configure Samba to use the value set in the <code class="literal">gidNumber</code> attribute instead:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : unix_primary_group = yes</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.2. The * default domain">The * default domain</a>
						</li><li class="listitem">
							<code class="literal">smb.conf(5)</code> and <code class="literal">idmap_ad(8)</code> man pages
						</li><li class="listitem">
							<code class="literal">VARIABLE SUBSTITUTIONS</code> section in the <code class="literal">smb.conf(5)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-rid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping"><div class="titlepage"><div><div><h4 class="title">1.4.5. Using the rid ID mapping back end</h4></div></div></div><p>
					You can configure a Samba domain member to use the <code class="literal">rid</code> ID mapping back end.
				</p><p>
					Samba can use the relative identifier (RID) of a Windows SID to generate an ID on Red Hat Enterprise Linux.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						The RID is the last part of a SID. For example, if the SID of a user is <code class="literal">S-1-5-21-5421822485-1151247151-421485315-30014</code>, then <code class="literal">30014</code> is the corresponding RID.
					</p></div></rh-alert><p>
					The <code class="literal">rid</code> ID mapping back end implements a read-only API to calculate account and group information based on an algorithmic mapping scheme for AD and NT4 domains. When you configure the back end, you must set the lowest and highest RID in the <code class="literal">idmap config <span class="emphasis"><em>DOMAIN</em></span> : <span class="emphasis"><em>range</em></span></code> parameter. Samba will not map users or groups with a lower or higher RID than set in this parameter.
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						As a read-only back end, <code class="literal">rid</code> cannot assign new IDs, such as for <code class="literal">BUILTIN</code> groups. Therefore, do not use this back end for the <code class="literal">*</code> default domain.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Benefits of using the rid back end</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							All domain users and groups that have an RID within the configured range are automatically available on the domain member.
						</li><li class="listitem">
							You do not need to manually assign IDs, home directories, and login shells.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Drawbacks of using the rid back end</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							All domain users get the same login shell and home directory assigned. However, you can use variables.
						</li><li class="listitem">
							User and group IDs are only the same across Samba domain members if all use the <code class="literal">rid</code> back end with the same ID range settings.
						</li><li class="listitem">
							You cannot exclude individual users or groups from being available on the domain member. Only users and groups outside of the configured range are excluded.
						</li><li class="listitem">
							Based on the formulas the <code class="literal">winbindd</code> service uses to calculate the IDs, duplicate IDs can occur in multi-domain environments if objects in different domains have the same RID.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You installed Samba.
						</li><li class="listitem">
							The Samba configuration, except ID mapping, exists in the <code class="literal filename">/etc/samba/smb.conf</code> file.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add an ID mapping configuration for the default domain (<code class="literal">*</code>) if it does not exist. For example:
								</p><pre class="literallayout">idmap config * : backend = tdb
idmap config * : range = <span class="emphasis"><em>10000-999999</em></span></pre></li><li class="listitem"><p class="simpara">
									Enable the <code class="literal">rid</code> ID mapping back end for the domain:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : backend = rid</pre></li><li class="listitem"><p class="simpara">
									Set a range that is big enough to include all RIDs that will be assigned in the future. For example:
								</p><pre class="literallayout">idmap config <span class="emphasis"><em>DOMAIN</em></span> : range = <span class="emphasis"><em>2000000-2999999</em></span></pre><p class="simpara">
									Samba ignores users and groups whose RIDs in this domain are not within the range.
								</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
										The range must not overlap with any other domain configuration on this server. Additionally, the range must be set big enough to include all IDs assigned in the future. For further details, see <a class="link" href="#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.1. Planning Samba ID ranges">Planning Samba ID ranges</a>.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Set a shell and home directory path that will be assigned to all mapped users. For example:
								</p><pre class="literallayout">template shell = <span class="emphasis"><em>/bin/bash</em></span>
template homedir = <span class="emphasis"><em>/home/%U</em></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.2. The * default domain">The * default domain</a>
						</li><li class="listitem">
							<code class="literal">VARIABLE SUBSTITUTIONS</code> section in the <code class="literal">smb.conf(5)</code> man page
						</li><li class="listitem">
							Calculation of the local ID from a RID, see the <code class="literal">idmap_rid(8)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping"><div class="titlepage"><div><div><h4 class="title">1.4.6. Using the autorid ID mapping back end</h4></div></div></div><p>
					You can configure a Samba domain member to use the <code class="literal">autorid</code> ID mapping back end.
				</p><p>
					The <code class="literal">autorid</code> back end works similar to the <code class="literal">rid</code> ID mapping back end, but can automatically assign IDs for different domains. This enables you to use the <code class="literal">autorid</code> back end in the following situations:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Only for the <code class="literal">*</code> default domain
						</li><li class="listitem">
							For the <code class="literal">*</code> default domain and additional domains, without the need to create ID mapping configurations for each of the additional domains
						</li><li class="listitem">
							Only for specific domains
						</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						If you use <code class="literal">autorid</code> for the default domain, adding additional ID mapping configuration for domains is optional.
					</p></div></rh-alert><p>
					Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Idmap_config_autorid">idmap config autorid</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Idmap_config_autorid&amp;action=history">history</a> tab on the Wiki page.
				</p><div class="itemizedlist"><p class="title"><strong>Benefits of using the autorid back end</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							All domain users and groups whose calculated UID and GID is within the configured range are automatically available on the domain member.
						</li><li class="listitem">
							You do not need to manually assign IDs, home directories, and login shells.
						</li><li class="listitem">
							No duplicate IDs, even if multiple objects in a multi-domain environment have the same RID.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Drawbacks</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							User and group IDs are not the same across Samba domain members.
						</li><li class="listitem">
							All domain users get the same login shell and home directory assigned. However, you can use variables.
						</li><li class="listitem">
							You cannot exclude individual users or groups from being available on the domain member. Only users and groups whose calculated UID or GID is outside of the configured range are excluded.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You installed Samba.
						</li><li class="listitem">
							The Samba configuration, except ID mapping, exists in the <code class="literal filename">/etc/samba/smb.conf</code> file.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Enable the <code class="literal">autorid</code> ID mapping back end for the <code class="literal">*</code> default domain:
								</p><pre class="literallayout">idmap config * : backend = autorid</pre></li><li class="listitem"><p class="simpara">
									Set a range that is big enough to assign IDs for all existing and future objects. For example:
								</p><pre class="literallayout">idmap config * : range = <span class="emphasis"><em>10000-999999</em></span></pre><p class="simpara">
									Samba ignores users and groups whose calculated IDs in this domain are not within the range.
								</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
										After you set the range and Samba starts using it, you can only increase the upper limit of the range. Any other change to the range can result in new ID assignments, and thus in losing file ownerships.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Optionally, set a range size. For example:
								</p><pre class="literallayout">idmap config * : rangesize = <span class="emphasis"><em>200000</em></span></pre><p class="simpara">
									Samba assigns this number of continuous IDs for each domain’s object until all IDs from the range set in the <code class="literal">idmap config * : <span class="emphasis"><em>range</em></span></code> parameter are taken.
								</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										If you set a rangesize, you need to adapt the range accordingly. The range needs to be a multiple of the rangesize.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Set a shell and home directory path that will be assigned to all mapped users. For example:
								</p><pre class="literallayout">template shell = <span class="emphasis"><em>/bin/bash</em></span>
template homedir = <span class="emphasis"><em>/home/%U</em></span></pre></li><li class="listitem"><p class="simpara">
									Optionally, add additional ID mapping configuration for domains. If no configuration for an individual domain is available, Samba calculates the ID using the <code class="literal">autorid</code> back end settings in the previously configured <code class="literal">*</code> default domain.
								</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
										The range must not overlap with any other domain configuration on this server. Additionally, the range must be set big enough to include all IDs assigned in the future. For further details, see <a class="link" href="#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping" title="1.4.1. Planning Samba ID ranges">Planning Samba ID ranges</a>.
									</p></div></rh-alert></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">THE MAPPING FORMULAS</code> section in the <code class="literal">idmap_autorid(8)</code> man page
						</li><li class="listitem">
							<code class="literal">rangesize</code> parameter description in the <code class="literal">idmap_autorid(8)</code> man page
						</li><li class="listitem">
							<code class="literal">VARIABLE SUBSTITUTIONS</code> section in the <code class="literal">smb.conf(5)</code> man page
						</li></ul></div></section></section><section class="section" id="assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.5. Setting up Samba as an AD domain member server</h3></div></div></div><p>
				If you are running an AD or NT4 domain, use Samba to add your Red Hat Enterprise Linux server as a member to the domain to gain the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Access domain resources on other domain members
					</li><li class="listitem">
						Authenticate domain users to local services, such as <code class="literal">sshd</code>
					</li><li class="listitem">
						Share directories and printers hosted on the server to act as a file and print server
					</li></ul></div><section class="section" id="proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server"><div class="titlepage"><div><div><h4 class="title">1.5.1. Joining a RHEL system to an AD domain</h4></div></div></div><p>
					Samba Winbind is an alternative to the System Security Services Daemon (SSSD) for connecting a Red Hat Enterprise Linux (RHEL) system with Active Directory (AD). You can join a RHEL system to an AD domain by using <code class="literal">realmd</code> to configure Samba Winbind.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							If your AD requires the deprecated RC4 encryption type for Kerberos authentication, enable support for these ciphers in RHEL:
						</p><pre class="literallayout"># <span class="strong strong"><strong>update-crypto-policies --set DEFAULT:AD-SUPPORT</strong></span></pre></li><li class="listitem"><p class="simpara">
							Install the following packages:
						</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install realmd oddjob-mkhomedir oddjob samba-winbind-clients \</strong></span>
       <span class="strong strong"><strong>samba-winbind samba-common-tools samba-winbind-krb5-locator krb5-workstation</strong></span></pre></li><li class="listitem"><p class="simpara">
							To share directories or printers on the domain member, install the <code class="literal package">samba</code> package:
						</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install samba</strong></span></pre></li><li class="listitem"><p class="simpara">
							Backup the existing <code class="literal filename">/etc/samba/smb.conf</code> Samba configuration file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>mv /etc/samba/smb.conf /etc/samba/smb.conf.bak</strong></span></pre></li><li class="listitem"><p class="simpara">
							Join the domain. For example, to join a domain named <code class="literal">ad.example.com</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>realm join --membership-software=samba --client-software=winbind ad.example.com</strong></span></pre><p class="simpara">
							Using the previous command, the <code class="literal">realm</code> utility automatically:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Creates a <code class="literal filename">/etc/samba/smb.conf</code> file for a membership in the <code class="literal">ad.example.com</code> domain
								</li><li class="listitem">
									Adds the <code class="literal">winbind</code> module for user and group lookups to the <code class="literal filename">/etc/nsswitch.conf</code> file
								</li><li class="listitem">
									Updates the Pluggable Authentication Module (PAM) configuration files in the <code class="literal filename">/etc/pam.d/</code> directory
								</li><li class="listitem">
									Starts the <code class="literal">winbind</code> service and enables the service to start when the system boots
								</li></ul></div></li><li class="listitem">
							Optionally, set an alternative ID mapping back end or customized ID mapping settings in the <code class="literal filename">/etc/samba/smb.conf</code> file.
						</li></ol></div><p>
					For details, see <a class="link" href="#assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server" title="1.4. Understanding and configuring Samba ID mapping">Understanding and configuring Samba ID mapping</a>.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Verify that the <code class="literal">winbind</code> service is running:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl status winbind</strong></span>
...
   Active: active (running) since Tue 2018-11-06 19:10:40 CET; 15s ago</pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								To enable Samba to query domain user and group information, the <code class="literal">winbind</code> service must be running before you start <code class="literal">smb</code>.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							If you installed the <code class="literal package">samba</code> package to share directories and printers, enable and start the <code class="literal systemitem">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now smb</strong></span></pre></li><li class="listitem">
							Optionally, if you are authenticating local logins to Active Directory, enable the <code class="literal">winbind_krb5_localauth</code> plug-in. See <a class="link" href="#using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server" title="1.5.2. Using the local authorization plug-in for MIT Kerberos">Using the local authorization plug-in for MIT Kerberos</a>.
						</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display an AD user’s details, such as the AD administrator account in the AD domain:
						</p><pre class="literallayout"># <span class="strong strong"><strong>getent passwd "AD\administrator"</strong></span>
AD\administrator:*:10000:10000::/home/administrator@AD:/bin/bash</pre></li><li class="listitem"><p class="simpara">
							Query the members of the domain users group in the AD domain:
						</p><pre class="literallayout"># <span class="strong strong"><strong>getent group "AD\Domain Users"</strong></span>
    AD\domain users:x:10000:user1,user2</pre></li><li class="listitem"><p class="simpara">
							Optionally, verify that you can use domain users and groups when you set permissions on files and directories. For example, to set the owner of the <code class="literal filename">/srv/samba/example.txt</code> file to <code class="literal">AD\administrator</code> and the group to <code class="literal">AD\Domain Users</code>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>chown "AD\administrator":"AD\Domain Users" /srv/samba/example.txt</strong></span></pre></li><li class="listitem"><p class="simpara">
							Verify that Kerberos authentication works as expected:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									On the AD domain member, obtain a ticket for the <code class="literal systemitem">administrator@AD.EXAMPLE.COM</code> principal:
								</p><pre class="literallayout"># <span class="strong strong"><strong>kinit administrator@AD.EXAMPLE.COM</strong></span></pre></li><li class="listitem"><p class="simpara">
									Display the cached Kerberos ticket:
								</p><pre class="literallayout"># <span class="strong strong"><strong>klist</strong></span>
Ticket cache: KCM:0
Default principal: administrator@AD.EXAMPLE.COM

Valid starting       Expires              Service principal
01.11.2018 10:00:00  01.11.2018 20:00:00  krbtgt/AD.EXAMPLE.COM@AD.EXAMPLE.COM
        renew until 08.11.2018 05:00:00</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Display the available domains:
						</p><pre class="literallayout"># <span class="strong strong"><strong>wbinfo --all-domains</strong></span>
BUILTIN
SAMBA-SERVER
AD</pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							If you do not want to use the deprecated RC4 ciphers, you can enable the AES encryption type in AD. See
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel">Enabling the AES encryption type in Active Directory using a GPO</a>
						</li><li class="listitem">
							<code class="literal">realm(8)</code> man page
						</li></ul></div></section><section class="section" id="using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server"><div class="titlepage"><div><div><h4 class="title">1.5.2. Using the local authorization plug-in for MIT Kerberos</h4></div></div></div><p>
					The <code class="literal">winbind</code> service provides Active Directory users to the domain member. In certain situations, administrators want to enable domain users to authenticate to local services, such as an SSH server, which are running on the domain member. When using Kerberos to authenticate the domain users, enable the <code class="literal">winbind_krb5_localauth</code> plug-in to correctly map Kerberos principals to Active Directory accounts through the <code class="literal">winbind</code> service.
				</p><p>
					For example, if the <code class="literal">sAMAccountName</code> attribute of an Active Directory user is set to <code class="literal">EXAMPLE</code> and the user tries to log with the user name lowercase, Kerberos returns the user name in upper case. As a consequence, the entries do not match and authentication fails.
				</p><p>
					Using the <code class="literal">winbind_krb5_localauth</code> plug-in, the account names are mapped correctly. Note that this only applies to GSSAPI authentication and not for getting the initial ticket granting ticket (TGT).
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is configured as a member of an Active Directory.
						</li><li class="listitem">
							Red Hat Enterprise Linux authenticates log in attempts against Active Directory.
						</li><li class="listitem">
							The <code class="literal">winbind</code> service is running.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						Edit the <code class="literal filename">/etc/krb5.conf</code> file and add the following section:
					</p></div><pre class="literallayout">[plugins]
localauth = {
     module = winbind:/usr/lib64/samba/krb5/winbind_krb5_localauth.so
     enable_only = winbind
}</pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">winbind_krb5_localauth(8)</code> man page.
						</li></ul></div></section></section><section class="section" id="setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.6. Setting up Samba on an IdM domain member</h3></div></div></div><p class="_abstract _abstract">
				You can set up Samba on a host that is joined to a Red Hat Identity Management (IdM) domain. Users from IdM and also, if available, from trusted Active Directory (AD) domains, can access shares and printer services provided by Samba.
			</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
					Using Samba on an IdM domain member is an unsupported Technology Preview feature and contains certain limitations. For example, IdM trust controllers do not support the Active Directory Global Catalog service, and they do not support resolving IdM groups using the Distributed Computing Environment / Remote Procedure Calls (DCE/RPC) protocols. As a consequence, AD users can only access Samba shares and printers hosted on IdM clients when logged in to other IdM clients; AD users logged into a Windows machine can not access Samba shares hosted on an IdM domain member.
				</p><p>
					Customers deploying Samba on IdM domain members are encouraged to provide feedback to Red Hat.
				</p></div></rh-alert><p>
				If users from AD domains need to access shares and printer services provided by Samba, ensure the AES encryption type is enabled is AD. For more information, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_identity_management/index#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel">Enabling the AES encryption type in Active Directory using a GPO</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The host is joined as a client to the IdM domain.
					</li><li class="listitem">
						Both the IdM servers and the client must run on RHEL 9.0 or later.
					</li></ul></div><section class="section" id="preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member"><div class="titlepage"><div><div><h4 class="title">1.6.1. Preparing the IdM domain for installing Samba on domain members</h4></div></div></div><p>
					Before you can set up Samba on an IdM client, you must prepare the IdM domain using the <code class="literal">ipa-adtrust-install</code> utility on an IdM server.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Any system where you run the <code class="literal">ipa-adtrust-install</code> command automatically becomes an AD trust controller. However, you must run <code class="literal">ipa-adtrust-install</code> only once on an IdM server.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							IdM server is installed.
						</li><li class="listitem">
							You need root privileges to install packages and restart IdM services.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the required packages:
						</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>dnf install ipa-server-trust-ad samba-client</strong></span></pre></li><li class="listitem"><p class="simpara">
							Authenticate as the IdM administrative user:
						</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>kinit admin</strong></span></pre></li><li class="listitem"><p class="simpara">
							Run the <code class="literal">ipa-adtrust-install</code> utility:
						</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>ipa-adtrust-install</strong></span></pre><p class="simpara">
							The DNS service records are created automatically if IdM was installed with an integrated DNS server.
						</p><p class="simpara">
							If you installed IdM without an integrated DNS server, <code class="literal">ipa-adtrust-install</code> prints a list of service records that you must manually add to DNS before you can continue.
						</p></li><li class="listitem"><p class="simpara">
							The script prompts you that the <code class="literal">/etc/samba/smb.conf</code> already exists and will be rewritten:
						</p><pre class="literallayout">WARNING: The smb.conf already exists. Running ipa-adtrust-install will break your existing Samba configuration.

Do you wish to continue? [no]: <code class="literal command">yes</code></pre></li><li class="listitem"><p class="simpara">
							The script prompts you to configure the <code class="literal">slapi-nis</code> plug-in, a compatibility plug-in that allows older Linux clients to work with trusted users:
						</p><pre class="literallayout">Do you want to enable support for trusted domains in Schema Compatibility plugin?
This will allow clients older than SSSD 1.9 and non-Linux clients to work with trusted users.

Enable trusted domains support in slapi-nis? [no]: <code class="literal command">yes</code></pre></li><li class="listitem"><p class="simpara">
							You are prompted to run the SID generation task to create a SID for any existing users:
						</p><pre class="literallayout">Do you want to run the ipa-sidgen task? [no]: <code class="literal command">yes</code></pre><p class="simpara">
							This is a resource-intensive task, so if you have a high number of users, you can run this at another time.
						</p></li><li class="listitem"><p class="simpara">
							<span class="strong strong"><strong>(Optional)</strong></span> By default, the Dynamic RPC port range is defined as <code class="literal">49152-65535</code> for Windows Server 2008 and later. If you need to define a different Dynamic RPC port range for your environment, configure Samba to use different ports and open those ports in your firewall settings. The following example sets the port range to <code class="literal">55000-65000</code>.
						</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>net conf setparm global 'rpc server dynamic port range' 55000-65000</strong></span>
[root@ipaserver ~]# <span class="strong strong"><strong>firewall-cmd --add-port=55000-65000/tcp</strong></span>
[root@ipaserver ~]# <span class="strong strong"><strong>firewall-cmd --runtime-to-permanent</strong></span></pre></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal systemitem">ipa</code> service:
						</p><pre class="literallayout">[root@ipaserver ~]# <span class="strong strong"><strong>ipactl restart</strong></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal systemitem">smbclient</code> utility to verify that Samba responds to Kerberos authentication from the IdM side:
						</p><pre class="literallayout">[root@ipaserver ~]# <code class="literal command">smbclient -L ipaserver.idm.example.com -U <span class="emphasis"><em>user_name</em></span> --use-kerberos=required</code>
lp_load_ex: changing to config backend registry
    Sharename       Type      Comment
    ---------       ----      -------
    IPC$            IPC       IPC Service (Samba 4.15.2)
...</pre></li></ol></div></section><section class="section" id="installing-and-configuring-samba-on-an-idm-client_setting-up-samba-on-an-idm-domain-member"><div class="titlepage"><div><div><h4 class="title">1.6.2. Installing and configuring a Samba server on an IdM client</h4></div></div></div><p class="_abstract _abstract">
					You can install and configure Samba on a client enrolled in an IdM domain.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Both the IdM servers and the client must run on RHEL 9.0 or later.
						</li><li class="listitem">
							The IdM domain is prepared as described in <a class="link" href="#preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member" title="1.6.1. Preparing the IdM domain for installing Samba on domain members">Preparing the IdM domain for installing Samba on domain members</a>.
						</li><li class="listitem">
							If IdM has a trust configured with AD, enable the AES encryption type for Kerberos. For example, use a group policy object (GPO) to enable the AES encryption type. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel">Enabling AES encryption in Active Directory using a GPO</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal package">ipa-client-samba</code> package:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>dnf install ipa-client-samba</strong></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal">ipa-client-samba</code> utility to prepare the client and create an initial Samba configuration:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>ipa-client-samba</strong></span>
Searching for IPA server...
IPA server: DNS discovery
Chosen IPA master: <span class="emphasis"><em>idm_server.idm.example.com</em></span>
SMB principal to be created: cifs/<span class="emphasis"><em>idm_client.idm.example.com</em></span>@<span class="emphasis"><em>IDM.EXAMPLE.COM</em></span>
NetBIOS name to be used: <span class="emphasis"><em>IDM_CLIENT</em></span>
Discovered domains to use:

 Domain name: <span class="emphasis"><em>idm.example.com</em></span>
NetBIOS name: <span class="emphasis"><em>IDM</em></span>
         SID: <span class="emphasis"><em>S-1-5-21-525930803-952335037-206501584</em></span>
    ID range: <span class="emphasis"><em>212000000 - 212199999</em></span>

 Domain name: <span class="emphasis"><em>ad.example.com</em></span>
NetBIOS name: <span class="emphasis"><em>AD</em></span>
         SID: None
    ID range: <span class="emphasis"><em>1918400000 - 1918599999</em></span>

Continue to configure the system with these values? [no]: <span class="strong strong"><strong>yes</strong></span>
Samba domain member is configured. Please check configuration at /etc/samba/smb.conf and start smb and winbind services</pre></li><li class="listitem"><p class="simpara">
							By default, <code class="literal">ipa-client-samba</code> automatically adds the <code class="literal systemitem">[homes]</code> section to the <code class="literal filename">/etc/samba/smb.conf</code> file that dynamically shares a user’s home directory when the user connects. If users do not have home directories on this server, or if you do not want to share them, remove the following lines from <code class="literal filename">/etc/samba/smb.conf</code>:
						</p><pre class="literallayout">[homes]
    read only = no</pre></li><li class="listitem"><p class="simpara">
							Share directories and printers. For details, see:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" title="1.7. Setting up a Samba file share that uses POSIX ACLs">Setting up a Samba file share that uses POSIX ACLs</a>
								</li><li class="listitem">
									<a class="link" href="#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" title="1.9. Setting up a share that uses Windows ACLs">Setting up a share that uses Windows ACLs</a>
								</li><li class="listitem">
									<a class="link" href="#assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server" title="1.15. Setting up Samba as a print server">Setting up Samba as a print server</a>
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Open the ports required for a Samba client in the local firewall:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>firewall-cmd --permanent --add-service=samba-client</strong></span>
[root@idm_client]# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable and start the <code class="literal systemitem">smb</code> and <code class="literal systemitem">winbind</code> services:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>systemctl enable --now smb winbind</strong></span></pre></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
						Run the following verification step on a different IdM domain member that has the <code class="literal package">samba-client</code> package installed:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							List the shares on the Samba server using Kerberos authentication:
						</p><pre class="literallayout">$ <code class="literal command">smbclient -L <span class="emphasis"><em>idm_client.idm.example.com</em></span> -U <span class="emphasis"><em>user_name</em></span> --use-kerberos=required</code>
lp_load_ex: changing to config backend registry

    Sharename       Type      Comment
    ---------       ----      -------
    <span class="emphasis"><em>example</em></span>         Disk
    IPC$            IPC       IPC Service (Samba 4.15.2)
...</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">ipa-client-samba(1)</code> man page
						</li></ul></div></section><section class="section" id="manually-adding-an-id-mapping-configuration-if-idm-trusts-a-new-domain_setting-up-samba-on-an-idm-domain-member"><div class="titlepage"><div><div><h4 class="title">1.6.3. Manually adding an ID mapping configuration if IdM trusts a new domain</h4></div></div></div><p class="_abstract _abstract">
					Samba requires an ID mapping configuration for each domain from which users access resources. On an existing Samba server running on an IdM client, you must manually add an ID mapping configuration after the administrator added a new trust to an Active Directory (AD) domain.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You configured Samba on an IdM client. Afterward, a new trust was added to IdM.
						</li><li class="listitem">
							The DES and RC4 encryption types for Kerberos must be disabled in the trusted AD domain. For security reasons, RHEL 9 does not support these weak encryption types.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Authenticate using the host’s keytab:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>kinit -k</strong></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal command">ipa idrange-find</code> command to display both the base ID and the ID range size of the new domain. For example, the following command displays the values for the <code class="literal systemitem">ad.example.com</code> domain:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>ipa idrange-find --name="<span class="emphasis"><em>AD.EXAMPLE.COM</em></span>_id_range" --raw</strong></span>
---------------
1 range matched
---------------
  cn: <span class="emphasis"><em>AD.EXAMPLE.COM</em></span>_id_range
  ipabaseid: <span class="emphasis"><em>1918400000</em></span>
  ipaidrangesize: <span class="emphasis"><em>200000</em></span>
  ipabaserid: 0
  ipanttrusteddomainsid: <span class="emphasis"><em>S-1-5-21-968346183-862388825-1738313271</em></span>
  iparangetype: ipa-ad-trust
----------------------------
Number of entries returned 1
----------------------------</pre><p class="simpara">
							You need the values from the <code class="literal parameter">ipabaseid</code> and <code class="literal parameter">ipaidrangesize</code> attributes in the next steps.
						</p></li><li class="listitem"><p class="simpara">
							To calculate the highest usable ID, use the following formula:
						</p><pre class="literallayout">maximum_range = ipabaseid + ipaidrangesize - 1</pre><p class="simpara">
							With the values from the previous step, the highest usable ID for the <code class="literal systemitem">ad.example.com</code> domain is <code class="literal command">1918599999</code> (1918400000 + 200000 - 1).
						</p></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file, and add the ID mapping configuration for the domain to the <code class="literal parameter">[global]</code> section:
						</p><pre class="literallayout">idmap config <span class="emphasis"><em>AD</em></span> : range = <span class="emphasis"><em>1918400000</em></span> - <span class="emphasis"><em>1918599999</em></span>
idmap config <span class="emphasis"><em>AD</em></span> : backend = sss</pre><p class="simpara">
							Specify the value from <code class="literal parameter">ipabaseid</code> attribute as the lowest and the computed value from the previous step as the highest value of the range.
						</p></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal systemitem">smb</code> and <code class="literal">winbind</code> services:
						</p><pre class="literallayout">[root@idm_client]# <span class="strong strong"><strong>systemctl restart smb winbind</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							List the shares on the Samba server using Kerberos authentication:
						</p><pre class="literallayout">$ <code class="literal command">smbclient -L <span class="emphasis"><em>idm_client.idm.example.com</em></span> -U <span class="emphasis"><em>user_name</em></span> --use-kerberos=required</code>
lp_load_ex: changing to config backend registry

    Sharename       Type      Comment
    ---------       ----      -------
    <span class="emphasis"><em>example</em></span>         Disk
    IPC$            IPC       IPC Service (Samba 4.15.2)
...</pre></li></ul></div></section><section class="section _additional-resources" id="additional_resources"><div class="titlepage"><div><div><h4 class="title">1.6.4. Additional resources</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/assembly_installing-an-idm-client_installing-identity-management">Installing an Identity Management client</a>
						</li></ul></div></section></section><section class="section" id="assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.7. Setting up a Samba file share that uses POSIX ACLs</h3></div></div></div><p>
				As a Linux service, Samba supports shares with POSIX ACLs. They enable you to manage permissions locally on the Samba server using utilities, such as <code class="literal">chmod</code>. If the share is stored on a file system that supports extended attributes, you can define ACLs with multiple users and groups.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					If you need to use fine-granular Windows ACLs instead, see <a class="link" href="#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" title="1.9. Setting up a share that uses Windows ACLs">Setting up a share that uses Windows ACLs</a>.
				</p></div></rh-alert><p>
				Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Setting_up_a_Share_Using_POSIX_ACLs">Setting up a Share Using POSIX ACLs</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Setting_up_a_Share_Using_POSIX_ACLs&amp;action=history">history</a> tab on the Wiki page.
			</p><section class="section" id="proc_adding-a-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls"><div class="titlepage"><div><div><h4 class="title">1.7.1. Adding a share that uses POSIX ACLs</h4></div></div></div><p>
					You can create a share named <code class="literal">example</code> that provides the content of the <code class="literal filename">/srv/samba/example/</code> directory and uses POSIX ACLs.
				</p><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
						Samba has been set up in one of the following modes:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" title="1.3. Setting up Samba as a standalone server">Standalone server</a>
						</li><li class="listitem">
							<a class="link" href="#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" title="1.5. Setting up Samba as an AD domain member server">Domain member</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the folder if it does not exist. For example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>mkdir -p /srv/samba/example/</strong></span></pre></li><li class="listitem"><p class="simpara">
							If you run SELinux in <code class="literal">enforcing</code> mode, set the <code class="literal">samba_share_t</code> context on the directory:
						</p><pre class="literallayout"># <span class="strong strong"><strong>semanage fcontext -a -t samba_share_t "/srv/samba/example(/.*)?"</strong></span>
# <span class="strong strong"><strong>restorecon -Rv /srv/samba/example/</strong></span></pre></li><li class="listitem"><p class="simpara">
							Set file system ACLs on the directory. For details, see:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="#proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" title="1.7.2. Setting standard Linux ACLs on a Samba share that uses POSIX ACLs">Setting standard ACLs on a Samba Share that uses POSIX ACLs</a>
								</li><li class="listitem">
									<a class="link" href="#proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" title="1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs">Setting extended ACLs on a share that uses POSIX ACLs</a>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Add the example share to the <code class="literal filename">/etc/samba/smb.conf</code> file. For example, to add the share write-enabled:
						</p><pre class="literallayout">[example]
	path = /srv/samba/example/
	read only = no</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Regardless of the file system ACLs; if you do not set <code class="literal">read only = no</code>, Samba shares the directory in read-only mode.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Open the required ports and reload the firewall configuration using the <code class="literal">firewall-cmd</code> utility:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=samba</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart smb</strong></span></pre></li></ol></div></section><section class="section" id="proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls"><div class="titlepage"><div><div><h4 class="title">1.7.2. Setting standard Linux ACLs on a Samba share that uses POSIX ACLs</h4></div></div></div><p>
					The standard ACLs on Linux support setting permissions for one owner, one group, and for all other undefined users. You can use the <code class="literal">chown</code>, <code class="literal">chgrp</code>, and <code class="literal">chmod</code> utility to update the ACLs. If you require precise control, then you use the more complex POSIX ACLs, see
				</p><p>
					<a class="link" href="#proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls" title="1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs">Setting extended ACLs on a Samba share that uses POSIX ACLs</a>.
				</p><p>
					The following procedure sets the owner of the <code class="literal filename">/srv/samba/example/</code> directory to the <code class="literal">root</code> user, grants read and write permissions to the <code class="literal">Domain Users</code> group, and denies access to all other users.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Samba share on which you want to set the ACLs exists.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>

</p><pre class="literallayout"># <span class="strong strong"><strong>chown root:"Domain Users" /srv/samba/example/</strong></span>
# <span class="strong strong"><strong>chmod 2770 /srv/samba/example/</strong></span></pre>

					<p></p></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Enabling the set-group-ID (SGID) bit on a directory automatically sets the default group for all new files and subdirectories to that of the directory group, instead of the usual behavior of setting it to the primary group of the user who created the new directory entry.
					</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">chown(1)</code> and <code class="literal">chmod(1)</code> man pages
						</li></ul></div></section><section class="section" id="proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls"><div class="titlepage"><div><div><h4 class="title">1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs</h4></div></div></div><p>
					If the file system the shared directory is stored on supports extended ACLs, you can use them to set complex permissions. Extended ACLs can contain permissions for multiple users and groups.
				</p><p>
					Extended POSIX ACLs enable you to configure complex ACLs with multiple users and groups. However, you can only set the following permissions:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							No access
						</li><li class="listitem">
							Read access
						</li><li class="listitem">
							Write access
						</li><li class="listitem">
							Full control
						</li></ul></div><p>
					If you require the fine-granular Windows permissions, such as <code class="literal">Create folder / append data</code>, configure the share to use Windows ACLs.
				</p><p>
					See <a class="link" href="#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" title="1.9. Setting up a share that uses Windows ACLs">Setting up a share that uses Windows ACLs</a>.
				</p><p>
					The following procedure shows how to enable extended ACLs on a share. Additionally, it contains an example about setting extended ACLs.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Samba share on which you want to set the ACLs exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable the following parameter in the share’s section in the <code class="literal filename">/etc/samba/smb.conf</code> file to enable ACL inheritance of extended ACLs:
						</p><pre class="literallayout">inherit acls = yes</pre><p class="simpara">
							For details, see the parameter description in the <code class="literal">smb.conf(5</code>) man page.
						</p></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart smb</strong></span></pre></li><li class="listitem"><p class="simpara">
							Set the ACLs on the directory. For example:
						</p><div class="example" id="idm140443012996096"><p class="title"><strong>Example 1.2. Setting Extended ACLs</strong></p><div class="example-contents"><p>
								The following procedure sets read, write, and execute permissions for the <code class="literal">Domain Admins</code> group, read, and execute permissions for the <code class="literal">Domain Users</code> group, and deny access to everyone else on the <code class="literal filename">/srv/samba/example/</code> directory:
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
										Disable auto-granting permissions to the primary group of user accounts:
									</p><pre class="literallayout"># <span class="strong strong"><strong>setfacl -m group::--- /srv/samba/example/</strong></span>
# <span class="strong strong"><strong>setfacl -m default:group::--- /srv/samba/example/</strong></span></pre><p class="simpara">
										The primary group of the directory is additionally mapped to the dynamic <code class="literal">CREATOR GROUP</code> principal. When you use extended POSIX ACLs on a Samba share, this principal is automatically added and you cannot remove it.
									</p></li><li class="listitem"><p class="simpara">
										Set the permissions on the directory:
									</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
												Grant read, write, and execute permissions to the <code class="literal">Domain Admins</code> group:
											</p><pre class="literallayout"># <span class="strong strong"><strong>setfacl -m group:"<span class="emphasis"><em>DOMAIN</em></span>\Domain Admins":rwx /srv/samba/example/</strong></span></pre></li><li class="listitem"><p class="simpara">
												Grant read and execute permissions to the <code class="literal">Domain Users</code> group:
											</p><pre class="literallayout"># <span class="strong strong"><strong>setfacl -m group:"<span class="emphasis"><em>DOMAIN</em></span>\Domain Users":r-x /srv/samba/example/</strong></span></pre></li><li class="listitem"><p class="simpara">
												Set permissions for the <code class="literal">other</code> ACL entry to deny access to users that do not match the other ACL entries:
											</p><pre class="literallayout"># <span class="strong strong"><strong>setfacl -R -m other::--- /srv/samba/example/</strong></span></pre></li></ol></div><p class="simpara">
										These settings apply only to this directory. In Windows, these ACLs are mapped to the <code class="literal">This folder only</code> mode.
									</p></li><li class="listitem"><p class="simpara">
										To enable the permissions set in the previous step to be inherited by new file system objects created in this directory:
									</p><pre class="literallayout"># <span class="strong strong"><strong>setfacl -m default:group:"<span class="emphasis"><em>DOMAIN</em></span>\Domain Admins":rwx /srv/samba/example/</strong></span>
# <span class="strong strong"><strong>setfacl -m default:group:"<span class="emphasis"><em>DOMAIN</em></span>\Domain Users":r-x /srv/samba/example/</strong></span>
# <span class="strong strong"><strong>setfacl -m default:other::--- /srv/samba/example/</strong></span></pre><p class="simpara">
										With these settings, the <code class="literal">This folder only</code> mode for the principals is now set to <code class="literal">This folder, subfolders, and files</code>.
									</p></li></ol></div><p>
								Samba maps the permissions set in the procedure to the following Windows ACLs:
							</p><rh-table id="table_example_proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-acls-on-a-share-that-uses-posix-acls"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--><col style="width: 20%; " class="col_2"><!--Empty--><col style="width: 40%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443012110960" scope="col">Principal</th><th align="left" valign="top" id="idm140443012109872" scope="col">Access</th><th align="left" valign="top" id="idm140443012108784" scope="col">Applies to</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<span class="emphasis"><em>Domain</em></span>\Domain Admins
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												Full control
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												This folder, subfolders, and files
											</p>
											 </td></tr><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<span class="emphasis"><em>Domain</em></span>\Domain Users
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												Read &amp; execute
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												This folder, subfolders, and files
											</p>
											 </td></tr><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<code class="literal">Everyone</code> <a href="#ftn.idm140443014062720" class="footnote"><sup class="footnote" id="idm140443014062720">[a]</sup></a>
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												None
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												This folder, subfolders, and files
											</p>
											 </td></tr><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<span class="emphasis"><em>owner</em></span> (<span class="emphasis"><em>Unix User\owner</em></span>) <a href="#ftn.idm140443013057088" class="footnote"><sup class="footnote" id="idm140443013057088">[b]</sup></a>
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												Full control
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												This folder only
											</p>
											 </td></tr><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<span class="emphasis"><em>primary_group</em></span> (<span class="emphasis"><em>Unix User\primary_group</em></span>) <a href="#ftn.idm140443013050080" class="footnote"><sup class="footnote" id="idm140443013050080">[c]</sup></a>
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												None
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												This folder only
											</p>
											 </td></tr><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<code class="literal">CREATOR OWNER</code> <a href="#ftn.idm140443038805872" class="footnote"><sup class="footnote" id="idm140443038805872">[d]</sup></a> <a href="#ftn.sambawinaclcreatorowner" class="footnote"><sup class="footnote" id="sambawinaclcreatorowner">[e]</sup></a>
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												Full control
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												Subfolders and files only
											</p>
											 </td></tr><tr><td align="left" valign="top" headers="idm140443012110960"> <p>
												<code class="literal">CREATOR GROUP</code> <a href="#ftn.sambawinaclcreatorowner" class="footnoteref"><sup class="footnoteref">[e]</sup></a> <a href="#ftn.idm140443038797136" class="footnote"><sup class="footnote" id="idm140443038797136">[f]</sup></a>
											</p>
											 </td><td align="left" valign="top" headers="idm140443012109872"> <p>
												None
											</p>
											 </td><td align="left" valign="top" headers="idm140443012108784"> <p>
												Subfolders and files only
											</p>
											 </td></tr></tbody><tbody class="footnotes"><tr><td colspan="3"><div id="ftn.idm140443014062720" class="footnote"><div class="para"><a href="#idm140443014062720" class="simpara"><sup class="simpara">[a] </sup></a>
													Samba maps the permissions for this principal from the <code class="literal">other</code> ACL entry.
												</div></div><div id="ftn.idm140443013057088" class="footnote"><div class="para"><a href="#idm140443013057088" class="simpara"><sup class="simpara">[b] </sup></a>
													Samba maps the owner of the directory to this entry.
												</div></div><div id="ftn.idm140443013050080" class="footnote"><div class="para"><a href="#idm140443013050080" class="simpara"><sup class="simpara">[c] </sup></a>
													Samba maps the primary group of the directory to this entry.
												</div></div><div id="ftn.idm140443038805872" class="footnote"><div class="para"><a href="#idm140443038805872" class="simpara"><sup class="simpara">[d] </sup></a>
													On new file system objects, the creator inherits automatically the permissions of this principal.
												</div></div><div id="ftn.sambawinaclcreatorowner" class="footnote"><div class="para"><a href="#sambawinaclcreatorowner" class="simpara"><sup class="simpara">[e] </sup></a>
													Configuring or removing these principals from the ACLs not supported on shares that use POSIX ACLs.
												</div></div><div id="ftn.idm140443038797136" class="footnote"><div class="para"><a href="#idm140443038797136" class="simpara"><sup class="simpara">[f] </sup></a>
													On new file system objects, the creator’s primary group inherits automatically the permissions of this principal.
												</div></div></td></tr></tbody></table></rh-table></div></div></li></ol></div></section></section><section class="section" id="assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.8. Setting permissions on a share that uses POSIX ACLs</h3></div></div></div><p>
				Optionally, to limit or grant access to a Samba share, you can set certain parameters in the share’s section in the <code class="literal filename">/etc/samba/smb.conf</code> file.
			</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
					Share-based permissions manage if a user, group, or host is able to access a share. These settings do not affect file system ACLs.
				</p></div></rh-alert><p>
				Use share-based settings to restrict access to shares, for example, to deny access from specific hosts.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A share with POSIX ACLs has been set up.
					</li></ul></div><section class="section" id="proc_configuring-user-and-group-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls"><div class="titlepage"><div><div><h4 class="title">1.8.1. Configuring user and group-based share access</h4></div></div></div><p>
					User and group-based access control enables you to grant or deny access to a share for certain users and groups.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Samba share on which you want to set user or group-based access exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							For example, to enable all members of the <code class="literal">Domain Users</code> group to access a share while access is denied for the <code class="literal">user</code> account, add the following parameters to the share’s configuration:
						</p><pre class="literallayout">valid users = +<span class="emphasis"><em>DOMAIN</em></span>\"Domain Users"
invalid users = <span class="emphasis"><em>DOMAIN</em></span>\user</pre><p class="simpara">
							The <code class="literal">invalid users</code> parameter has a higher priority than the <code class="literal">valid users</code> parameter. For example, if the <code class="literal">user</code> account is a member of the <code class="literal">Domain Users</code> group, access is denied to this account when you use the previous example.
						</p></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smb.conf(5)</code> man page
						</li></ul></div></section><section class="section" id="proc_configuring-host-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls"><div class="titlepage"><div><div><h4 class="title">1.8.2. Configuring host-based share access</h4></div></div></div><p>
					Host-based access control enables you to grant or deny access to a share based on client’s host names, IP addresses, or IP range.
				</p><p>
					The following procedure explains how to enable the <code class="literal">127.0.0.1</code> IP address, the <code class="literal">192.0.2.0/24</code> IP range, and the <code class="literal">client1.example.com</code> host to access a share, and additionally deny access for the <code class="literal">client2.example.com</code> host:
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Samba share on which you want to set host-based access exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the following parameters to the configuration of the share in the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout">hosts allow = 127.0.0.1 192.0.2.0/24 client1.example.com
hosts deny = client2.example.com</pre><p class="simpara">
							The <code class="literal">hosts deny</code> parameter has a higher priority than <code class="literal">hosts allow</code>. For example, if <code class="literal">client1.example.com</code> resolves to an IP address that is listed in the <code class="literal">hosts allow</code> parameter, access for this host is denied.
						</p></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smb.conf(5)</code> man page
						</li></ul></div></section></section><section class="section" id="assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.9. Setting up a share that uses Windows ACLs</h3></div></div></div><p>
				Samba supports setting Windows ACLs on shares and file system object. This enables you to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Use the fine-granular Windows ACLs
					</li><li class="listitem">
						Manage share permissions and file system ACLs using Windows
					</li></ul></div><p>
				Alternatively, you can configure a share to use POSIX ACLs.
			</p><p>
				For details, see <a class="link" href="#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" title="1.7. Setting up a Samba file share that uses POSIX ACLs">Setting up a Samba file share that uses POSIX ACLs</a>.
			</p><p>
				Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Setting_up_a_Share_Using_Windows_ACLs">Setting up a Share Using Windows ACLs</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Setting_up_a_Share_Using_Windows_ACLs&amp;action=history">history</a> tab on the Wiki page.
			</p><section class="section" id="proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls"><div class="titlepage"><div><div><h4 class="title">1.9.1. Granting the SeDiskOperatorPrivilege privilege</h4></div></div></div><p>
					Only users and groups having the <code class="literal">SeDiskOperatorPrivilege</code> privilege granted can configure permissions on shares that use Windows ACLs.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							For example, to grant the <code class="literal">SeDiskOperatorPrivilege</code> privilege to the <code class="literal"><span class="emphasis"><em>DOMAIN</em></span>\Domain Admins</code> group:
						</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights grant "<span class="emphasis"><em>DOMAIN</em></span>\Domain Admins" SeDiskOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
Successfully granted rights.</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								In a domain environment, grant <code class="literal">SeDiskOperatorPrivilege</code> to a domain group. This enables you to centrally manage the privilege by updating a user’s group membership.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							To list all users and groups having <code class="literal">SeDiskOperatorPrivilege</code> granted:
						</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights list privileges SeDiskOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter administrator's password:
SeDiskOperatorPrivilege:
  BUILTIN\Administrators
  <span class="emphasis"><em>DOMAIN</em></span>\Domain Admins</pre></li></ol></div></section><section class="section" id="proc_enabling-windows-acl-support_assembly_setting-up-a-share-that-uses-windows-acls"><div class="titlepage"><div><div><h4 class="title">1.9.2. Enabling Windows ACL support</h4></div></div></div><p>
					To configure shares that support Windows ACLs, you must enable this feature in Samba.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A user share is configured on the Samba server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To enable it globally for all shares, add the following settings to the <code class="literal">[global]</code> section of the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout">vfs objects = acl_xattr
map acl inherit = yes
store dos attributes = yes</pre><p class="simpara">
							Alternatively, you can enable Windows ACL support for individual shares, by adding the same parameters to a share’s section instead.
						</p></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart smb</strong></span></pre></li></ol></div></section><section class="section" id="proc_adding-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls"><div class="titlepage"><div><div><h4 class="title">1.9.3. Adding a share that uses Windows ACLs</h4></div></div></div><p>
					You can create a share named <code class="literal">example</code> that shares the content of the <code class="literal filename">/srv/samba/example/</code> directory and uses Windows ACLs.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the folder if it does not exists. For example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>mkdir -p /srv/samba/example/</strong></span></pre></li><li class="listitem"><p class="simpara">
							If you run SELinux in <code class="literal">enforcing</code> mode, set the <code class="literal">samba_share_t</code> context on the directory:
						</p><pre class="literallayout"># <span class="strong strong"><strong>semanage fcontext -a -t samba_share_t "/srv/samba/example(/.</strong></span>)?"*
# <span class="strong strong"><strong>restorecon -Rv /srv/samba/example/</strong></span></pre></li><li class="listitem"><p class="simpara">
							Add the example share to the <code class="literal filename">/etc/samba/smb.conf</code> file. For example, to add the share write-enabled:
						</p><pre class="literallayout">[example]
	path = /srv/samba/example/
	read only = no</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Regardless of the file system ACLs; if you do not set <code class="literal">read only = no</code>, Samba shares the directory in read-only mode.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							If you have not enabled Windows ACL support in the <code class="literal">[global]</code> section for all shares, add the following parameters to the <code class="literal">[example]</code> section to enable this feature for this share:
						</p><pre class="literallayout">vfs objects = acl_xattr
map acl inherit = yes
store dos attributes = yes</pre></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Open the required ports and reload the firewall configuration using the <code class="literal">firewall-cmd</code> utility:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=samba</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart smb</strong></span></pre></li></ol></div></section><section class="section" id="proc_managing-share-permissions-and-file-system-acls-of-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls"><div class="titlepage"><div><div><h4 class="title">1.9.4. Managing share permissions and file system ACLs of a share that uses Windows ACLs</h4></div></div></div><p>
					To manage share permissions and file system ACLs on a Samba share that uses Windows ACLs, use a Windows applications, such as <code class="literal">Computer Management</code>. For details, see the Windows documentation. Alternatively, use the <code class="literal">smbcacls</code> utility to manage ACLs.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						To modify the file system permissions from Windows, you must use an account that has the <code class="literal">SeDiskOperatorPrivilege</code> privilege granted.
					</p></div></rh-alert><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/assembly_using-samba-as-a-server_deploying-different-types-of-servers#assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server">Managing ACLs on an SMB share using smbcacls</a>
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/assembly_using-samba-as-a-server_deploying-different-types-of-servers#proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls">Grating the SeDiskOperatorPrivilege privilege</a>
						</li></ul></div></section></section><section class="section" id="assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.10. Managing ACLs on an SMB share using smbcacls</h3></div></div></div><p>
				The <code class="literal">smbcacls</code> utility can list, set, and delete ACLs of files and directories stored on an SMB share. You can use <code class="literal">smbcacls</code> to manage file system ACLs:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						On a local or remote Samba server that uses advanced Windows ACLs or POSIX ACLs
					</li><li class="listitem">
						On Red Hat Enterprise Linux to remotely manage ACLs on a share hosted on Windows
					</li></ul></div><section class="section" id="con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls"><div class="titlepage"><div><div><h4 class="title">1.10.1. Access control entries</h4></div></div></div><p>
					Each ACL entry of a file system object contains Access Control Entries (ACE) in the following format:
				</p><pre class="literallayout"><span class="emphasis"><em>security_principal</em></span>:<span class="emphasis"><em>access_right</em></span>/<span class="emphasis"><em>inheritance_information</em></span>/<span class="emphasis"><em>permissions</em></span></pre><div class="example" id="idm140443016980048"><p class="title"><strong>Example 1.3. Access control entries</strong></p><div class="example-contents"><p>
						If the <code class="literal">AD\Domain Users</code> group has <code class="literal">Modify</code> permissions that apply to <code class="literal">This folder, subfolders, and files</code> on Windows, the ACL contains the following ACE:
					</p><pre class="literallayout">AD\Domain Users:ALLOWED/OI|CI/CHANGE</pre></div></div><p>
					An ACE contains the following parts:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Security principal</span></dt><dd>
								The security principal is the user, group, or SID the permissions in the ACL are applied to.
							</dd><dt><span class="term">Access right</span></dt><dd>
								Defines if access to an object is granted or denied. The value can be <code class="literal">ALLOWED</code> or <code class="literal">DENIED</code>.
							</dd><dt><span class="term">Inheritance information</span></dt><dd><p class="simpara">
								The following values exist:
							</p><rh-table id="idm140443012077024"><table class="lt-4-cols lt-7-rows"><caption>Table 1.1. Inheritance settings</caption><colgroup><col style="width: 14%; " class="col_1"><!--Empty--><col style="width: 29%; " class="col_2"><!--Empty--><col style="width: 57%; " class="col_3"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140443012071264" scope="col">Value</th><th style="text-align: left; vertical-align: top; " id="idm140443012070176" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140443012069088" scope="col">Maps to</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012071264"> <p>
												<code class="literal">OI</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012070176"> <p>
												Object Inherit
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012069088"> <p>
												This folder and files
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012071264"> <p>
												<code class="literal">CI</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012070176"> <p>
												Container Inherit
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012069088"> <p>
												This folder and subfolders
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012071264"> <p>
												<code class="literal">IO</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012070176"> <p>
												Inherit Only
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012069088"> <p>
												The ACE does not apply to the current file or directory
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012071264"> <p>
												<code class="literal">ID</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012070176"> <p>
												Inherited
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012069088"> <p>
												The ACE was inherited from the parent directory
											</p>
											 </td></tr></tbody></table></rh-table><p class="simpara">
								Additionally, the values can be combined as follows:
							</p><rh-table id="idm140443012233072"><table class="lt-4-cols lt-7-rows"><caption>Table 1.2. Inheritance settings combinations</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 67%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140443012228272" scope="col">Value combinations</th><th style="text-align: left; vertical-align: top; " id="idm140443012227184" scope="col">Maps to the Windows <code class="literal">Applies to</code> setting</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012228272"> <p>
												<code class="literal">OI|CI</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012227184"> <p>
												This folder, subfolders, and files
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012228272"> <p>
												<code class="literal">OI|CI|IO</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012227184"> <p>
												Subfolders and files only
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012228272"> <p>
												<code class="literal">CI|IO</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012227184"> <p>
												Subfolders only
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443012228272"> <p>
												<code class="literal">OI|IO</code>
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm140443012227184"> <p>
												Files only
											</p>
											 </td></tr></tbody></table></rh-table></dd><dt><span class="term">Permissions</span></dt><dd><p class="simpara">
								This value can be either a hex value that represents one or more Windows permissions or an <code class="literal">smbcacls</code> alias:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										A hex value that represents one or more Windows permissions.
									</p><p class="simpara">
										The following table displays the advanced Windows permissions and their corresponding value in hex format:
									</p><rh-table id="table_windows-permissions-hex-values_assembly_managing-acls-on-an-smb-share-using-smbcacls"><table class="lt-4-cols lt-7-rows"><caption>Table 1.3. Windows permissions and their corresponding smbcacls value in hex format</caption><colgroup><col style="width: 67%; " class="col_1"><!--Empty--><col style="width: 33%; " class="col_2"><!--Empty--></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140443015041200" scope="col">Windows permissions</th><th style="text-align: left; vertical-align: top; " id="idm140443015040112" scope="col">Hex values</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Full control
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x001F01FF</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Traverse folder / execute file
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100020</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														List folder / read data
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100001</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Read attributes
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100080</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Read extended attributes
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100008</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Create files / write data
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100002</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Create folders / append data
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100004</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Write attributes
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100100</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Write extended attributes
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100010</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Delete subfolders and files
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00100040</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Delete
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00110000</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Read permissions
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00120000</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Change permissions
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00140000</code>
													</p>
													 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140443015041200"> <p>
														Take ownership
													</p>
													 </td><td style="text-align: left; vertical-align: top; " headers="idm140443015040112"> <p>
														<code class="literal">0x00180000</code>
													</p>
													 </td></tr></tbody></table></rh-table><p class="simpara">
										Multiple permissions can be combined as a single hex value using the bit-wise <code class="literal">OR</code> operation.
									</p></li></ul></div></dd></dl></div><p>
					For details, see <a class="link" href="#con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls" title="1.10.3. ACE mask calculation">ACE mask calculation</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							An <code class="literal">smbcacls</code> alias. The following table displays the available aliases:
						</p><rh-table id="table_smbcacls-aliases_assembly_managing-acls-on-an-smb-share-using-smbcacls"><table class="lt-4-cols lt-7-rows"><caption>Table 1.4. Existing smbcacls aliases and their corresponding Windows permission</caption><colgroup><col style="width: 33%; " class="col_1"><!--Empty--><col style="width: 67%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443020141744" scope="col"><code class="literal">smbcacls</code> alias</th><th align="left" valign="top" id="idm140443017157696" scope="col">Maps to Windows permission</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">R</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Read
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">READ</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Read &amp; execute
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">W</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Special:
										</p>
										 <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
													Create files / write data
												</li><li class="listitem">
													Create folders / append data
												</li><li class="listitem">
													Write attributes
												</li><li class="listitem">
													Write extended attributes
												</li><li class="listitem">
													Read permissions
												</li></ul></div>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">D</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Delete
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">P</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Change permissions
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">O</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Take ownership
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">X</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Traverse / execute
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">CHANGE</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Modify
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140443020141744"> <p>
											<code class="literal">FULL</code>
										</p>
										 </td><td align="left" valign="top" headers="idm140443017157696"> <p>
											Full control
										</p>
										 </td></tr></tbody></table></rh-table><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								You can combine single-letter aliases when you set permissions. For example, you can set <code class="literal">RD</code> to apply the Windows permission <code class="literal">Read</code> and <code class="literal">Delete</code>. However, you can neither combine multiple non-single-letter aliases nor combine aliases and hex values.
							</p></div></rh-alert></li></ul></div></section><section class="section" id="proc_displaying-acls-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls"><div class="titlepage"><div><div><h4 class="title">1.10.2. Displaying ACLs using smbcacls</h4></div></div></div><p>
					To display ACLs on an SMB share, use the <code class="literal">smbcacls</code> utility. If you run <code class="literal">smbcacls</code> without any operation parameter, such as <code class="literal">--add</code>, the utility displays the ACLs of a file system object.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						For example, to list the ACLs of the root directory of the <code class="literal">//server/example</code> share:
					</p></div><pre class="literallayout"># <code class="literal command">smbcacls //server/example / -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</code>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
REVISION:1
CONTROL:SR|PD|DI|DP
OWNER:AD\Administrators
GROUP:AD\Domain Users
ACL:AD\Administrator:ALLOWED/OI|CI/FULL
ACL:AD\Domain Users:ALLOWED/OI|CI/CHANGE
ACL:AD\Domain Guests:ALLOWED/OI|CI/0x00100021</pre><p>
					The output of the command displays:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">REVISION</code>: The internal Windows NT ACL revision of the security descriptor
						</li><li class="listitem">
							<code class="literal">CONTROL</code>: Security descriptor control
						</li><li class="listitem">
							<code class="literal">OWNER</code>: Name or SID of the security descriptor’s owner
						</li><li class="listitem">
							<code class="literal">GROUP</code>: Name or SID of the security descriptor’s group
						</li><li class="listitem">
							<code class="literal">ACL</code> entries. For details, see <a class="link" href="#con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls" title="1.10.1. Access control entries">Access control entries</a>.
						</li></ul></div></section><section class="section" id="con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls"><div class="titlepage"><div><div><h4 class="title">1.10.3. ACE mask calculation</h4></div></div></div><p>
					In most situations, when you add or update an ACE, you use the <code class="literal">smbcacls</code> aliases listed in <a class="link" href="#table_smbcacls-aliases_assembly_managing-acls-on-an-smb-share-using-smbcacls" title="Table 1.4. Existing smbcacls aliases and their corresponding Windows permission">Existing smbcacls aliases and their corresponding Windows permission</a>.
				</p><p>
					However, if you want to set advanced Windows permissions as listed in <a class="link" href="#table_windows-permissions-hex-values_assembly_managing-acls-on-an-smb-share-using-smbcacls" title="Table 1.3. Windows permissions and their corresponding smbcacls value in hex format">Windows permissions and their corresponding smbcacls value in hex format</a>, you must use the bit-wise <code class="literal">OR</code> operation to calculate the correct value. You can use the following shell command to calculate the value:
				</p><pre class="literallayout"># <span class="strong strong"><strong>echo $(printf '0x%X' $(( hex_value_1 | hex_value_2 | ... )))</strong></span></pre><div class="example" id="idm140443016743360"><p class="title"><strong>Example 1.4. Calculating an ACE Mask</strong></p><div class="example-contents"><p>
						You want to set the following permissions:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Traverse folder / execute file (0x00100020)
							</li><li class="listitem">
								List folder / read data (0x00100001)
							</li><li class="listitem">
								Read attributes (0x00100080)
							</li></ul></div><p>
						To calculate the hex value for the previous permissions, enter:
					</p><pre class="literallayout"># <span class="strong strong"><strong>echo $(printf '0x%X' $(( 0x00100020 | 0x00100001 | 0x00100080 )))</strong></span>
0x1000A1</pre><p>
						Use the returned value when you set or update an ACE.
					</p></div></div></section><section class="section" id="proc_adding-updating-and-removing-an-acl-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls"><div class="titlepage"><div><div><h4 class="title">1.10.4. Adding, updating, and removing an ACL using smbcacls</h4></div></div></div><p>
					Depending on the parameter you pass to the <code class="literal">smbcacls</code> utility, you can add, update, and remove ACLs from a file or directory.
				</p><h5 id="adding_an_acl">Adding an ACL</h5><p>
					To add an ACL to the root of the <code class="literal">//server/example</code> share that grants <code class="literal">CHANGE</code> permissions for <code class="literal">This folder, subfolders, and files</code> to the <code class="literal">AD\Domain Users</code> group:
				</p><pre class="literallayout"># <span class="strong strong"><strong>smbcacls //server/example / -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator --add ACL:"AD\Domain Users":ALLOWED/OI|CI/CHANGE</strong></span></pre><h5 id="updating_an_acl">Updating an ACL</h5><p>
					Updating an ACL is similar to adding a new ACL. You update an ACL by overriding the ACL using the <code class="literal">--modify</code> parameter with an existing security principal. If <code class="literal">smbcacls</code> finds the security principal in the ACL list, the utility updates the permissions. Otherwise the command fails with an error:
				</p><pre class="literallayout">ACL for SID <span class="emphasis"><em>principal_name</em></span> not found</pre><p>
					For example, to update the permissions of the <code class="literal">AD\Domain Users</code> group and set them to <code class="literal">READ</code> for <code class="literal">This folder, subfolders, and files</code>:
				</p><pre class="literallayout"># <span class="strong strong"><strong>smbcacls //server/example / -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator --modify ACL:"AD\Domain Users":ALLOWED/OI|CI/READ</strong></span></pre><h5 id="deleting_an_acl">Deleting an ACL</h5><p>
					To delete an ACL, pass the <code class="literal">--delete</code> parameter with the exact ACL to the <code class="literal">smbcacls</code> utility. For example:
				</p><pre class="literallayout"># <span class="strong strong"><strong>smbcacls //server/example / -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator --delete ACL:"AD\Domain Users":ALLOWED/OI|CI/READ</strong></span></pre></section></section><section class="section" id="assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.11. Enabling users to share directories on a Samba server</h3></div></div></div><p>
				On a Samba server, you can configure that users can share directories without root permissions.
			</p><section class="section" id="proc_enabling-the-user-shares-feature_assembly_enabling-users-to-share-directories-on-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.11.1. Enabling the user shares feature</h4></div></div></div><p>
					Before users can share directories, the administrator must enable user shares in Samba.
				</p><p>
					For example, to enable only members of the local <code class="literal">example</code> group to create user shares.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the local <code class="literal">example</code> group, if it does not exist:
						</p><pre class="literallayout"># <span class="strong strong"><strong>groupadd example</strong></span></pre></li><li class="listitem"><p class="simpara">
							Prepare the directory for Samba to store the user share definitions and set its permissions properly. For example:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create the directory:
								</p><pre class="literallayout"># <span class="strong strong"><strong>mkdir -p /var/lib/samba/usershares/</strong></span></pre></li><li class="listitem"><p class="simpara">
									Set write permissions for the <code class="literal">example</code> group:
								</p><pre class="literallayout"># <span class="strong strong"><strong>chgrp example /var/lib/samba/usershares/</strong></span>
# <span class="strong strong"><strong>chmod 1770 /var/lib/samba/usershares/</strong></span></pre></li><li class="listitem">
									Set the sticky bit to prevent users to rename or delete files stored by other users in this directory.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file and add the following to the <code class="literal">[global]</code> section:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Set the path to the directory you configured to store the user share definitions. For example:
								</p><pre class="literallayout">usershare path = /var/lib/samba/usershares/</pre></li><li class="listitem"><p class="simpara">
									Set how many user shares Samba allows to be created on this server. For example:
								</p><pre class="literallayout">usershare max shares = 100</pre><p class="simpara">
									If you use the default of <code class="literal">0</code> for the <code class="literal">usershare max shares</code> parameter, user shares are disabled.
								</p></li><li class="listitem"><p class="simpara">
									Optionally, set a list of absolute directory paths. For example, to configure that Samba only allows to share subdirectories of the <code class="literal filename">/data</code> and <code class="literal filename">/srv</code> directory to be shared, set:
								</p><pre class="literallayout">usershare prefix allow list = /data /srv</pre></li></ol></div><p class="simpara">
							For a list of further user share-related parameters you can set, see the <code class="literal">USERSHARES</code> section in the <code class="literal">smb.conf(5)</code> man page.
						</p></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre><p class="simpara">
							Users are now able to create user shares.
						</p></li></ol></div></section><section class="section" id="proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.11.2. Adding a user share</h4></div></div></div><p>
					After you enabled the user share feature in Samba, users can share directories on the Samba server without <code class="literal">root</code> permissions by running the <code class="literal">net usershare add</code> command.
				</p><p>
					Synopsis of the <code class="literal">net usershare add</code> command:
				</p><p>
					<code class="literal">net usershare add</code> share_name path [[ comment ] | [ ACLs ]] [ guest_ok=y|n ]
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						If you set ACLs when you create a user share, you must specify the comment parameter prior to the ACLs. To set an empty comment, use an empty string in double quotes.
					</p></div></rh-alert><p>
					Note that users can only enable guest access on a user share, if the administrator set <code class="literal">usershare allow guests = yes</code> in the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file.
				</p><div class="example" id="idm140443014379552"><p class="title"><strong>Example 1.5. Adding a user share</strong></p><div class="example-contents"><p>
						A user wants to share the <code class="literal filename">/srv/samba/</code> directory on a Samba server. The share should be named <code class="literal">example</code>, have no comment set, and should be accessible by guest users. Additionally, the share permissions should be set to full access for the <code class="literal">AD\Domain Users</code> group and read permissions for other users. To add this share, run as the user:
					</p><pre class="literallayout">$ <span class="strong strong"><strong>net usershare add example /srv/samba/ "" "AD\Domain Users":F,Everyone:R guest_ok=yes</strong></span></pre></div></div></section><section class="section" id="proc_updating-settings-of-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.11.3. Updating settings of a user share</h4></div></div></div><p>
					To update settings of a user share, override the share by using the <code class="literal">net usershare add</code> command with the same share name and the new settings.
				</p><p>
					See <a class="link" href="#proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server" title="1.11.2. Adding a user share">Adding a user share</a>.
				</p></section><section class="section" id="proc_displaying-information-about-existing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.11.4. Displaying information about existing user shares</h4></div></div></div><p>
					Users can enter the <code class="literal">net usershare info</code> command on a Samba server to display user shares and their settings.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A user share is configured on the Samba server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To display all user shares created by any user:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>net usershare info -l</strong></span>
[<span class="emphasis"><em>share_1</em></span>]
path=<span class="emphasis"><em>/srv/samba/</em></span>
comment=
usershare_acl=<span class="emphasis"><em>Everyone:R,host_name\user:F,</em></span>
guest_ok=<span class="emphasis"><em>y</em></span>
...</pre><p class="simpara">
							To list only shares created by the user who runs the command, omit the <code class="literal">-l</code> parameter.
						</p></li><li class="listitem"><p class="simpara">
							To display only the information about specific shares, pass the share name or wild cards to the command. For example, to display the information about shares whose name starts with <code class="literal">share_</code>:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>net usershare info -l share_* </strong></span></pre></li></ol></div></section><section class="section" id="proc_listing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.11.5. Listing user shares</h4></div></div></div><p>
					If you want to list only the available user shares without their settings on a Samba server, use the <code class="literal">net usershare list</code> command.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A user share is configured on the Samba server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To list the shares created by any user:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>net usershare list -l</strong></span>
<span class="emphasis"><em>share_1</em></span>
<span class="emphasis"><em>share_2</em></span>
...</pre><p class="simpara">
							To list only shares created by the user who runs the command, omit the <code class="literal">-l</code> parameter.
						</p></li><li class="listitem"><p class="simpara">
							To list only specific shares, pass the share name or wild cards to the command. For example, to list only shares whose name starts with <code class="literal">share_</code>:
						</p><pre class="literallayout">$ <span class="strong strong"><strong>net usershare list -l share_* </strong></span></pre></li></ol></div></section><section class="section" id="proc_deleting-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.11.6. Deleting a user share</h4></div></div></div><p>
					To delete a user share, use the command <code class="literal">net usershare delete</code> command as the user who created the share or as the <code class="literal">root</code> user.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A user share is configured on the Samba server.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>

</p><pre class="literallayout">$ <span class="strong strong"><strong>net usershare delete <span class="emphasis"><em>share_name</em></span></strong></span></pre>

					<p></p></div></section></section><section class="section" id="assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.12. Configuring a share to allow access without authentication</h3></div></div></div><p class="_abstract _abstract">
				In certain situations, you want to share a directory to which users can connect without authentication. To configure this, enable guest access on a share.
			</p><rh-alert class="admonition warning" state="danger"><div class="admonition_header" slot="header">Warning</div><div><p>
					Shares that do not require authentication can be a security risk.
				</p></div></rh-alert><section class="section" id="proc_enabling-guest-access-to-a-share_assembly_configuring-a-share-to-allow-access-without-authentication"><div class="titlepage"><div><div><h4 class="title">1.12.1. Enabling guest access to a share</h4></div></div></div><p>
					If guest access is enabled on a share, Samba maps guest connections to the operating system account set in the <code class="literal">guest account</code> parameter. Guest users can access files on this share if at least one of the following conditions is satisfied:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The account is listed in file system ACLs
						</li><li class="listitem">
							The POSIX permissions for <code class="literal">other</code> users allow it
						</li></ul></div><div class="example" id="idm140443012274208"><p class="title"><strong>Example 1.6. Guest share permissions</strong></p><div class="example-contents"><p>
						If you configured Samba to map the guest account to <code class="literal">nobody</code>, which is the default, the ACLs in the following example:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Allow guest users to read <code class="literal">file1.txt</code>
							</li><li class="listitem">
								Allow guest users to read and modify <code class="literal">file2.txt</code>
							</li><li class="listitem">
								Prevent guest users to read or modify <code class="literal">file3.txt</code>
							</li></ul></div><pre class="literallayout">-rw-r--r--. 1 root       root      1024 1. Sep 10:00 file1.txt
-rw-r-----. 1 nobody     root      1024 1. Sep 10:00 file2.txt
-rw-r-----. 1 root       root      1024 1. Sep 10:00 file3.txt</pre></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									If this is the first guest share you set up on this server:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
											Set <code class="literal">map to guest = Bad User</code> in the <code class="literal">[global]</code> section:
										</p><pre class="literallayout">[global]
        ...
        map to guest = Bad User</pre><p class="simpara">
											With this setting, Samba rejects login attempts that use an incorrect password unless the user name does not exist. If the specified user name does not exist and guest access is enabled on a share, Samba treats the connection as a guest log in.
										</p></li><li class="listitem"><p class="simpara">
											By default, Samba maps the guest account to the <code class="literal">nobody</code> account on Red Hat Enterprise Linux. Alternatively, you can set a different account. For example:
										</p><pre class="literallayout">[global]
        ...
        guest account = user_name</pre><p class="simpara">
											The account set in this parameter must exist locally on the Samba server. For security reasons, Red Hat recommends using an account that does not have a valid shell assigned.
										</p></li></ol></div></li><li class="listitem"><p class="simpara">
									Add the <code class="literal">guest ok = yes</code> setting to the <code class="literal">[example]</code> share section:
								</p><pre class="literallayout">[example]
        ...
        guest ok = yes</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div></section></section><section class="section" id="assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.13. Configuring Samba for macOS clients</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal systemitem">fruit</code> virtual file system (VFS) Samba module provides enhanced compatibility with Apple server message block (SMB) clients.
			</p><section class="section" id="optimizing-the-samba-configuration-for-providing-file-shares-for-macos-clients_assembly_configuring-samba-for-macos-clients"><div class="titlepage"><div><div><h4 class="title">1.13.1. Optimizing the Samba configuration for providing file shares for macOS clients</h4></div></div></div><p>
					The <code class="literal">fruit</code> module provides enhanced compatibility of Samba with macOS clients. You can configure the module for all shares hosted on a Samba server to optimize the file shares for macOS clients.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Enable the <code class="literal">fruit</code> module globally. Clients using macOS negotiate the server message block version 2 (SMB2) Apple (AAPL) protocol extensions when the client establishes the first connection to the server. If the client first connects to a share without AAPL extensions enabled, the client does not use the extensions for any share of the server.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is configured as a file server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file, and enable the <code class="literal systemitem">fruit</code> and <code class="literal systemitem">streams_xattr</code> VFS modules in the <code class="literal systemitem">[global]</code> section:
						</p><pre class="literallayout">vfs objects = fruit streams_xattr</pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
								You must enable the <code class="literal systemitem">fruit</code> module before enabling <code class="literal systemitem">streams_xattr</code>. The <code class="literal systemitem">fruit</code> module uses alternate data streams (ADS). For this reason, you must also enable the <code class="literal systemitem">streams_xattr</code> module.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Optionally, to provide macOS Time Machine support on a share, add the following setting to the share configuration in the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout">fruit:time machine = yes</pre></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal citetitle">vfs_fruit(8)</code> man page.
						</li><li class="listitem"><p class="simpara">
							Configuring file shares:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<a class="link" href="#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server" title="1.7. Setting up a Samba file share that uses POSIX ACLs">Setting up a Samba file share that uses POSIX ACLs</a>
								</li><li class="listitem">
									<a class="link" href="#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server" title="1.9. Setting up a share that uses Windows ACLs">Setting up a share that uses Windows ACLs</a>.
								</li></ul></div></li></ul></div></section></section><section class="section" id="assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.14. Using the smbclient utility to access an SMB share</h3></div></div></div><p>
				The smbclient utility enables you to access file shares on an SMB server, similarly to a command-line FTP client. You can use it, for example, to upload and download files to and from a share.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal package">samba-client</code> package is installed.
					</li></ul></div><section class="section" id="con_how-the-smbclient-interactive-mode-works_assembly_using-the-smbclient-utility-to-access-an-smb-share"><div class="titlepage"><div><div><h4 class="title">1.14.1. How the smbclient interactive mode works</h4></div></div></div><p>
					For example, to authenticate to the <code class="literal">example</code> share hosted on <code class="literal">server</code> using the <code class="literal"><span class="emphasis"><em>DOMAIN\user</em></span></code> account:
				</p><pre class="literallayout"># <span class="strong strong"><strong>smbclient -U "<span class="emphasis"><em>DOMAIN\user</em></span>" //<span class="emphasis"><em>server</em></span>/<span class="emphasis"><em>example</em></span></strong></span>
Enter <span class="emphasis"><em>domain\user</em></span>'s password:
Try "help" to get a list of possible commands.
smb: \&gt;</pre><p>
					After <code class="literal">smbclient</code> connected successfully to the share, the utility enters the interactive mode and shows the following prompt:
				</p><pre class="literallayout">smb: \&gt;</pre><p>
					To display all available commands in the interactive shell, enter:
				</p><pre class="literallayout">smb: \&gt; <code class="literal command">help</code></pre><p>
					To display the help for a specific command, enter:
				</p><pre class="literallayout">smb: \&gt; <code class="literal command">help <span class="emphasis"><em>command_name</em></span></code></pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smbclient(1)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-smbclient-in-interactive-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share"><div class="titlepage"><div><div><h4 class="title">1.14.2. Using smbclient in interactive mode</h4></div></div></div><p>
					If you use <code class="literal">smbclient</code> without the <code class="literal">-c</code> parameter, the utility enters the interactive mode. The following procedure shows how to connect to an SMB share and download a file from a subdirectory.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Connect to the share:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbclient -U "<span class="emphasis"><em>DOMAIN\user_name</em></span>" //<span class="emphasis"><em>server_name</em></span>/<span class="emphasis"><em>share_name</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Change into the <code class="literal">/example/</code> directory:
						</p><pre class="literallayout">smb: \&gt; <code class="literal command">d /example/</code></pre></li><li class="listitem"><p class="simpara">
							List the files in the directory:
						</p><pre class="literallayout">smb: \example\&gt; <code class="literal command">ls</code>
  .                    D         0  Thu Nov 1 10:00:00 2018
  ..                   D         0  Thu Nov 1 10:00:00 2018
  example.txt          N   1048576  Thu Nov 1 10:00:00 2018

         9950208 blocks of size 1024. 8247144 blocks available</pre></li><li class="listitem"><p class="simpara">
							Download the <code class="literal">example.txt</code> file:
						</p><pre class="literallayout">smb: \example\&gt; <code class="literal command">get example.txt</code>
getting file \directory\subdirectory\example.txt of size 1048576 as example.txt (511975,0 KiloBytes/sec) (average 170666,7 KiloBytes/sec)</pre></li><li class="listitem"><p class="simpara">
							Disconnect from the share:
						</p><pre class="literallayout">smb: \example\&gt; <code class="literal command">exit</code></pre></li></ol></div></section><section class="section" id="proc_using-smbclient-in-scripting-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share"><div class="titlepage"><div><div><h4 class="title">1.14.3. Using smbclient in scripting mode</h4></div></div></div><p>
					If you pass the <code class="literal">-c</code> parameter to <code class="literal">smbclient</code>, you can automatically execute the commands on the remote SMB share. This enables you to use <code class="literal">smbclient</code> in scripts.
				</p><p>
					The following procedure shows how to connect to an SMB share and download a file from a subdirectory.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Use the following command to connect to the share, change into the <code class="literal filename">example</code> directory, download the <code class="literal filename">example.txt</code> file:
						</li></ul></div><pre class="literallayout"># <span class="strong strong"><strong>smbclient -U <span class="emphasis"><em>DOMAIN\user_name</em></span> //<span class="emphasis"><em>server_name</em></span>/<span class="emphasis"><em>share_name</em></span> -c "cd /example/ ; get example.txt ; exit"</strong></span></pre></section></section><section class="section" id="assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.15. Setting up Samba as a print server</h3></div></div></div><p>
				If you set up Samba as a print server, clients in your network can use Samba to print. Additionally, Windows clients can, if configured, download the driver from the Samba server.
			</p><p>
				Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Print_Server">Setting up Samba as a Print Server</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Setting_up_Samba_as_a_Print_Server&amp;action=history">history</a> tab on the Wiki page.
			</p><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					Samba has been set up in one of the following modes:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server" title="1.3. Setting up Samba as a standalone server">Standalone server</a>
					</li><li class="listitem">
						<a class="link" href="#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server" title="1.5. Setting up Samba as an AD domain member server">Domain member</a>
					</li></ul></div><section class="section" id="proc_enabling-print-server-support-in-samba_assembly_setting-up-samba-as-a-print-server"><div class="titlepage"><div><div><h4 class="title">1.15.1. Enabling print server support in Samba</h4></div></div></div><p>
					By default, print server support is not enabled in Samba. To use Samba as a print server, you must configure Samba accordingly.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Print jobs and printer operations require remote procedure calls (RPCs). By default, Samba starts the <code class="literal">rpcd_spoolss</code> service on demand to manage RPCs. During the first RPC call, or when you update the printer list in CUPS, Samba retrieves the printer information from CUPS. This can require approximately 1 second per printer. Therefore, if you have more than 50 printers, tune the <code class="literal">rpcd_spoolss</code> settings.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The printers are configured in a CUPS server.
						</p><p class="simpara">
							For details about configuring printers in CUPS, see the documentation provided in the CUPS web console (https://<span class="emphasis"><em>printserver</em></span>:631/help) on the print server.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add the <code class="literal">[printers]</code> section to enable the printing backend in Samba:
								</p><pre class="literallayout"><span class="strong strong"><strong>[printers]</strong></span>
        <span class="strong strong"><strong>comment = All Printers</strong></span>
        <span class="strong strong"><strong>path = /var/tmp/</strong></span>
        <span class="strong strong"><strong>printable = yes</strong></span>
        <span class="strong strong"><strong>create mask = 0600</strong></span></pre><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
										The <code class="literal">[printers]</code> share name is hard-coded and cannot be changed.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									If the CUPS server runs on a different host or port, specify the setting in the <code class="literal">[printers]</code> section:
								</p><pre class="literallayout"><span class="strong strong"><strong>cups server = <span class="emphasis"><em>printserver.example.com</em></span>:<span class="emphasis"><em>631</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
									If you have many printers, set the number of idle seconds to a higher value than the numbers of printers connected to CUPS. For example, if you have 100 printers, set in the <code class="literal">[global]</code> section:
								</p><pre class="literallayout"><span class="strong strong"><strong>rpcd_spoolss:idle_seconds = 200</strong></span></pre><p class="simpara">
									If this setting does not scale in your environment, also increase the number of <code class="literal">rpcd_spoolss</code> workers in the <code class="literal">[global]</code> section:
								</p><pre class="literallayout"><span class="strong strong"><strong>rpcd_spoolss:num_workers = 10</strong></span></pre><p class="simpara">
									By default, <code class="literal">rpcd_spoolss</code> starts 5 workers.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Open the required ports and reload the firewall configuration using the <code class="literal">firewall-cmd</code> utility:
						</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service=samba</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart smb</strong></span></pre><p class="simpara">
							After restarting the service, Samba automatically shares all printers that are configured in the CUPS back end. If you want to manually share only specific printers, see <a class="link" href="#proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server" title="1.15.2. Manually sharing specific printers">Manually sharing specific printers</a>.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Submit a print job. For example, to print a PDF file, enter:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbclient -U<span class="emphasis"><em>user</em></span> //<span class="emphasis"><em>sambaserver.example.com</em></span>/<span class="emphasis"><em>printer_name</em></span> -c "print <span class="emphasis"><em>example.pdf</em></span>"</strong></span></pre></li></ul></div></section><section class="section" id="proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server"><div class="titlepage"><div><div><h4 class="title">1.15.2. Manually sharing specific printers</h4></div></div></div><p>
					If you configured Samba as a print server, by default, Samba shares all printers that are configured in the CUPS back end. The following procedure explains how to share only specific printers.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is set up as a print server
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the <code class="literal">[global]</code> section, disable automatic printer sharing by setting:
								</p><pre class="literallayout">load printers = no</pre></li><li class="listitem"><p class="simpara">
									Add a section for each printer you want to share. For example, to share the printer named <code class="literal">example</code> in the CUPS back end as <code class="literal">Example-Printer</code> in Samba, add the following section:
								</p><pre class="literallayout">[Example-Printer]
        path = /var/tmp/
        printable = yes
        printer name = example</pre><p class="simpara">
									You do not need individual spool directories for each printer. You can set the same spool directory in the <code class="literal">path</code> parameter for the printer as you set in the <code class="literal">[printers]</code> section.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div></section></section><section class="section" id="assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.16. Setting up automatic printer driver downloads for Windows clients on Samba print servers</h3></div></div></div><p>
				If you are running a Samba print server for Windows clients, you can upload drivers and preconfigure printers. If a user connects to a printer, Windows automatically downloads and installs the driver locally on the client. The user does not require local administrator permissions for the installation. Additionally, Windows applies preconfigured driver settings, such as the number of trays.
			</p><p>
				Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Setting_up_Automatic_Printer_Driver_Downloads_for_Windows_Clients">Setting up Automatic Printer Driver Downloads for Windows Clients</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Setting_up_Automatic_Printer_Driver_Downloads_for_Windows_Clients&amp;action=history">history</a> tab on the Wiki page.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Samba is set up as a print server
					</li></ul></div><section class="section" id="con_basic-information-about-printer-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers"><div class="titlepage"><div><div><h4 class="title">1.16.1. Basic information about printer drivers</h4></div></div></div><p>
					This section provides general information about printer drivers.
				</p><h5 id="supported_driver_model_version">Supported driver model version</h5><p>
					Samba only supports the printer driver model version 3 which is supported in Windows 2000 and later, and Windows Server 2000 and later. Samba does not support the driver model version 4, introduced in Windows 8 and Windows Server 2012. However, these and later Windows versions also support version 3 drivers.
				</p><h5 id="package_aware_drivers">Package-aware drivers</h5><p>
					Samba does not support package-aware drivers.
				</p><h5 id="preparing_a_printer_driver_for_being_uploaded">Preparing a printer driver for being uploaded</h5><p>
					Before you can upload a driver to a Samba print server:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Unpack the driver if it is provided in a compressed format.
						</li><li class="listitem"><p class="simpara">
							Some drivers require to start a setup application that installs the driver locally on a Windows host. In certain situations, the installer extracts the individual files into the operating system’s temporary folder during the setup runs. To use the driver files for uploading:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Start the installer.
								</li><li class="listitem">
									Copy the files from the temporary folder to a new location.
								</li><li class="listitem">
									Cancel the installation.
								</li></ol></div></li></ul></div><p>
					Ask your printer manufacturer for drivers that support uploading to a print server.
				</p><h5 id="providing_32_bit_and_64_bit_drivers_for_a_printer_to_a_client">Providing 32-bit and 64-bit drivers for a printer to a client</h5><p>
					To provide the driver for a printer for both 32-bit and 64-bit Windows clients, you must upload a driver with exactly the same name for both architectures. For example, if you are uploading the 32-bit driver named <code class="literal">Example PostScript</code> and the 64-bit driver named <code class="literal">Example PostScript (v1.0)</code>, the names do not match. Consequently, you can only assign one of the drivers to a printer and the driver will not be available for both architectures.
				</p></section><section class="section" id="proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers"><div class="titlepage"><div><div><h4 class="title">1.16.2. Enabling users to upload and preconfigure drivers</h4></div></div></div><p>
					To be able to upload and preconfigure printer drivers, a user or a group needs to have the <code class="literal">SePrintOperatorPrivilege</code> privilege granted. A user must be added into the <code class="literal">printadmin</code> group. Red Hat Enterprise Linux automatically creates this group when you install the <code class="literal package">samba</code> package. The <code class="literal">printadmin</code> group gets assigned the lowest available dynamic system GID that is lower than 1000.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							For example, to grant the <code class="literal">SePrintOperatorPrivilege</code> privilege to the <code class="literal">printadmin</code> group:
						</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights grant "printadmin" SePrintOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
Successfully granted rights.</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								In a domain environment, grant <code class="literal">SePrintOperatorPrivilege</code> to a domain group. This enables you to centrally manage the privilege by updating a user’s group membership.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							To list all users and groups having <code class="literal">SePrintOperatorPrivilege</code> granted:
						</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights list privileges SePrintOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter administrator's password:
SePrintOperatorPrivilege:
  BUILTIN\Administrators
  <span class="emphasis"><em>DOMAIN</em></span>\printadmin</pre></li></ol></div></section><section class="section" id="proc_setting-up-the-print-share_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers"><div class="titlepage"><div><div><h4 class="title">1.16.3. Setting up the print$ share</h4></div></div></div><p>
					Windows operating systems download printer drivers from a share named <code class="literal">print$</code> from a print server. This share name is hard-coded in Windows and cannot be changed.
				</p><p>
					The following procedure explains how to share the <code class="literal filename">/var/lib/samba/drivers/</code> directory as <code class="literal">print$</code>, and enable members of the local <code class="literal">printadmin</code> group to upload printer drivers.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the <code class="literal">[print$]</code> section to the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout">[print$]
        path = /var/lib/samba/drivers/
        read only = no
        write list = @printadmin
        force group = @printadmin
        create mask = 0664
        directory mask = 2775</pre><p class="simpara">
							Using these settings:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Only members of the <code class="literal">printadmin</code> group can upload printer drivers to the share.
								</li><li class="listitem">
									The group of new created files and directories will be set to <code class="literal">printadmin</code>.
								</li><li class="listitem">
									The permissions of new files will be set to <code class="literal">664</code>.
								</li><li class="listitem">
									The permissions of new directories will be set to <code class="literal">2775</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							To upload only 64-bit drivers for all printers, include this setting in the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout">spoolss: architecture = Windows x64</pre><p class="simpara">
							Without this setting, Windows only displays drivers for which you have uploaded at least the 32-bit version.
						</p></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">printadmin</code> group if it does not exists:
						</p><pre class="literallayout"># <span class="strong strong"><strong>groupadd printadmin</strong></span></pre></li><li class="listitem"><p class="simpara">
							Grant the <code class="literal">SePrintOperatorPrivilege</code> privilege to the <code class="literal">printadmin</code> group.
						</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights grant "printadmin" SePrintOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
Successfully granted rights.</pre></li><li class="listitem"><p class="simpara">
							If you run SELinux in <code class="literal">enforcing</code> mode, set the <code class="literal">samba_share_t</code> context on the directory:
						</p><pre class="literallayout"># <span class="strong strong"><strong>semanage fcontext -a -t samba_share_t "/var/lib/samba/drivers(/.*)?"</strong></span>

# <span class="strong strong"><strong>restorecon -Rv /var/lib/samba/drivers/</strong></span></pre></li><li class="listitem"><p class="simpara">
							Set the permissions on the <code class="literal filename">/var/lib/samba/drivers/</code> directory:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If you use POSIX ACLs, set:
								</p><pre class="literallayout"># <span class="strong strong"><strong>chgrp -R "printadmin" /var/lib/samba/drivers/</strong></span>
# <span class="strong strong"><strong>chmod -R 2775 /var/lib/samba/drivers/</strong></span></pre></li><li class="listitem"><p class="simpara">
									If you use Windows ACLs, set:
								</p><rh-table><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 40%; " class="col_2"><!--Empty--><col style="width: 40%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443014033888" scope="col">Principal</th><th align="left" valign="top" id="idm140443013395360" scope="col">Access</th><th align="left" valign="top" id="idm140443013394272" scope="col">Apply to</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443014033888"> <p>
													<code class="literal">CREATOR OWNER</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140443013395360"> <p>
													Full control
												</p>
												 </td><td align="left" valign="top" headers="idm140443013394272"> <p>
													Subfolders and files only
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140443014033888"> <p>
													<code class="literal">Authenticated Users</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140443013395360"> <p>
													Read &amp; execute, List folder contents, Read
												</p>
												 </td><td align="left" valign="top" headers="idm140443013394272"> <p>
													This folder, subfolders, and files
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140443014033888"> <p>
													<code class="literal">printadmin</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140443013395360"> <p>
													Full control
												</p>
												 </td><td align="left" valign="top" headers="idm140443013394272"> <p>
													This folder, subfolders, and files
												</p>
												 </td></tr></tbody></table></rh-table><p class="simpara">
									For details about setting ACLs on Windows, see the Windows documentation.
								</p></li></ul></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers" title="1.16.2. Enabling users to upload and preconfigure drivers">Enabling users to upload and preconfigure drivers</a>.
						</li></ul></div></section><section class="section" id="proc_creating-a-gpo-to-enable-clients-to-trust-the-samba-print-server_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers"><div class="titlepage"><div><div><h4 class="title">1.16.4. Creating a GPO to enable clients to trust the Samba print server</h4></div></div></div><p>
					For security reasons, recent Windows operating systems prevent clients from downloading non-package-aware printer drivers from an untrusted server. If your print server is a member in an AD, you can create a Group Policy Object (GPO) in your domain to trust the Samba server.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Samba print server is a member of an AD domain.
						</li><li class="listitem">
							The Windows computer you are using to create the GPO must have the Windows Remote Server Administration Tools (RSAT) installed. For details, see the Windows documentation.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Log into a Windows computer using an account that is allowed to edit group policies, such as the AD domain <code class="literal">Administrator</code> user.
						</li><li class="listitem">
							Open the <code class="literal">Group Policy Management Console</code>.
						</li><li class="listitem"><p class="simpara">
							Right-click to your AD domain and select <code class="literal">Create a GPO in this domain, and Link it here</code>.
						</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/69b2671ea9db42debe464230fd46ae2f/samba_create_new_GPO.png" alt="samba create new GPO"></div></div></li><li class="listitem">
							Enter a name for the GPO, such as <code class="literal">Legacy Printer Driver Policy</code> and click <code class="literal">OK</code>. The new GPO will be displayed under the domain entry.
						</li><li class="listitem">
							Right-click to the newly-created GPO and select <code class="literal">Edit</code> to open the <code class="literal">Group Policy Management Editor</code>.
						</li><li class="listitem"><p class="simpara">
							Navigate to <span class="guimenu">Computer Configuration</span> → <span class="guisubmenu">Policies</span> → <span class="guisubmenu">Administrative Templates</span> → <span class="guimenuitem">Printers</span>.
						</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/fe1141efd9320c8f431e894be5679c36/samba_select_printer_GPO_group.png" alt="samba select printer GPO group"></div></div></li><li class="listitem"><p class="simpara">
							On the right side of the window, double-click <code class="literal">Point and Print Restriction</code> to edit the policy:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Enable the policy and set the following options:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											Select <code class="literal">Users can only point and print to these servers</code> and enter the fully-qualified domain name (FQDN) of the Samba print server to the field next to this option.
										</li><li class="listitem"><p class="simpara">
											In both check boxes under <code class="literal">Security Prompts</code>, select <code class="literal">Do not show warning or elevation prompt</code>.
										</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/c2f8df50241de4e5748ba3c8b47324f8/samba_GPO_point_and_print.png" alt="samba GPO point and print"></div></div></li></ol></div></li><li class="listitem">
									Click OK.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Double-click <code class="literal">Package Point and Print - Approved servers</code> to edit the policy:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Enable the policy and click the <code class="literal">Show</code> button.
								</li><li class="listitem"><p class="simpara">
									Enter the FQDN of the Samba print server.
								</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/ee6f8dcf911e6204a6681dd3425d2d9c/samba_GPO_approved_servers.png" alt="samba GPO approved servers"></div></div></li><li class="listitem">
									Close both the <code class="literal">Show Contents</code> and the policy’s properties window by clicking <code class="literal">OK</code>.
								</li></ol></div></li><li class="listitem">
							Close the <code class="literal">Group Policy Management Editor</code>.
						</li><li class="listitem">
							Close the <code class="literal">Group Policy Management Console</code>.
						</li></ol></div><p>
					After the Windows domain members applied the group policy, printer drivers are automatically downloaded from the Samba server when a user connects to a printer.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							For using group policies, see the Windows documentation.
						</li></ul></div></section><section class="section" id="proc_uploading-drivers-and-preconfiguring-printers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers"><div class="titlepage"><div><div><h4 class="title">1.16.5. Uploading drivers and preconfiguring printers</h4></div></div></div><p>
					Use the <code class="literal">Print Management</code> application on a Windows client to upload drivers and preconfigure printers hosted on the Samba print server. For further details, see the Windows documentation.
				</p></section></section><section class="section" id="assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.17. Running Samba on a server with FIPS mode enabled</h3></div></div></div><p class="_abstract _abstract">
				This section provides an overview of the limitations of running Samba with FIPS mode enabled. It also provides the procedure for enabling FIPS mode on a Red Hat Enterprise Linux host running Samba.
			</p><section class="section" id="ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled"><div class="titlepage"><div><div><h4 class="title">1.17.1. Limitations of using Samba in FIPS mode</h4></div></div></div><p class="_abstract _abstract">
					The following Samba modes and features work in FIPS mode under the indicated conditions:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba as a domain member only in Active Directory (AD) or Red Hat Identity Management (IdM) environments with Kerberos authentication that uses AES ciphers.
						</li><li class="listitem">
							Samba as a file server on an Active Directory domain member. However, this requires that clients use Kerberos to authenticate to the server.
						</li></ul></div><p>
					Due to the increased security of FIPS, the following Samba features and modes do not work if FIPS mode is enabled:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							NT LAN Manager (NTLM) authentication because RC4 ciphers are blocked
						</li><li class="listitem">
							The server message block version 1 (SMB1) protocol
						</li><li class="listitem">
							The stand-alone file server mode because it uses NTLM authentication
						</li><li class="listitem">
							NT4-style domain controllers
						</li><li class="listitem">
							NT4-style domain members. Note that Red Hat continues supporting the primary domain controller (PDC) functionality IdM uses in the background.
						</li><li class="listitem">
							Password changes against the Samba server. You can only perform password changes using Kerberos against an Active Directory domain controller.
						</li></ul></div><p>
					The following feature is not tested in FIPS mode and, therefore, is not supported by Red Hat:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Running Samba as a print server
						</li></ul></div></section><section class="section" id="proc_using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled"><div class="titlepage"><div><div><h4 class="title">1.17.2. Using Samba in FIPS mode</h4></div></div></div><p class="_abstract _abstract">
					You can enable the FIPS mode on a RHEL host that runs Samba.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is configured on the Red Hat Enterprise Linux host.
						</li><li class="listitem">
							Samba runs in a mode that is supported in FIPS mode.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable the FIPS mode on RHEL:
						</p><pre class="literallayout"># <span class="strong strong"><strong>fips-mode-setup --enable</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reboot the server:
						</p><pre class="literallayout"># <span class="strong strong"><strong>reboot</strong></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal systemitem">testparm</code> utility to verify the configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm -s</strong></span></pre><p class="simpara">
							If the command displays any errors or incompatibilities, fix them to ensure that Samba works correctly.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="xref" href="#ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled" title="1.17.1. Limitations of using Samba in FIPS mode">Section 1.17.1, “Limitations of using Samba in FIPS mode”</a>
						</li></ul></div></section></section><section class="section" id="assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.18. Tuning the performance of a Samba server</h3></div></div></div><p class="_abstract _abstract">
				Learn what settings can improve the performance of Samba in certain situations, and which settings can have a negative performance impact.
			</p><p>
				Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Performance_Tuning">Performance Tuning</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Performance_Tuning&amp;action=history">history</a> tab on the Wiki page.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Samba is set up as a file or print server
					</li></ul></div><section class="section" id="proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.18.1. Setting the SMB protocol version</h4></div></div></div><p class="_abstract _abstract">
					Each new SMB version adds features and improves the performance of the protocol. The recent Windows and Windows Server operating systems always supports the latest protocol version. If Samba also uses the latest protocol version, Windows clients connecting to Samba benefit from the performance improvements. In Samba, the default value of the server max protocol is set to the latest supported stable SMB protocol version.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						To always have the latest stable SMB protocol version enabled, do not set the <code class="literal">server max protocol</code> parameter. If you set the parameter manually, you will need to modify the setting with each new version of the SMB protocol, to have the latest protocol version enabled.
					</p></div></rh-alert><p>
					The following procedure explains how to use the default value in the <code class="literal">server max protocol</code> parameter.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Remove the <code class="literal">server max protocol</code> parameter from the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file.
						</li><li class="listitem"><p class="simpara">
							Reload the Samba configuration
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div></section><section class="section" id="proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.18.2. Tuning shares with directories that contain a large number of files</h4></div></div></div><p class="_abstract _abstract">
					Linux supports case-sensitive file names. For this reason, Samba needs to scan directories for uppercase and lowercase file names when searching or accessing a file. You can configure a share to create new files only in lowercase or uppercase, which improves the performance.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is configured as a file server
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Rename all files on the share to lowercase.
						</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
								Using the settings in this procedure, files with names other than in lowercase will no longer be displayed.
							</p></div></rh-alert></li><li class="listitem"><p class="simpara">
							Set the following parameters in the share’s section:
						</p><pre class="literallayout">case sensitive = true
default case = lower
preserve case = no
short preserve case = no</pre><p class="simpara">
							For details about the parameters, see their descriptions in the <code class="literal">smb.conf(5)</code> man page.
						</p></li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Reload the Samba configuration:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre></li></ol></div><p>
					After you applied these settings, the names of all newly created files on this share use lowercase. Because of these settings, Samba no longer needs to scan the directory for uppercase and lowercase, which improves the performance.
				</p></section><section class="section" id="con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server"><div class="titlepage"><div><div><h4 class="title">1.18.3. Settings that can have a negative performance impact</h4></div></div></div><p class="_abstract _abstract">
					By default, the kernel in Red Hat Enterprise Linux is tuned for high network performance. For example, the kernel uses an auto-tuning mechanism for buffer sizes. Setting the <code class="literal">socket options</code> parameter in the <code class="literal filename">/etc/samba/smb.conf</code> file overrides these kernel settings. As a result, setting this parameter decreases the Samba network performance in most cases.
				</p><p>
					To use the optimized settings from the Kernel, remove the <code class="literal">socket options</code> parameter from the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code>.
				</p></section></section><section class="section" id="assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.19. Configuring Samba to be compatible with clients that require an SMB version lower than the default</h3></div></div></div><p class="_abstract _abstract">
				Samba uses a reasonable and secure default value for the minimum server message block (SMB) version it supports. However, if you have clients that require an older SMB version, you can configure Samba to support it.
			</p><section class="section" id="setting-the-minimum-smb-protocol-version-supported-by-a-samba-server_assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default"><div class="titlepage"><div><div><h4 class="title">1.19.1. Setting the minimum SMB protocol version supported by a Samba server</h4></div></div></div><p>
					In Samba, the <code class="literal parameter">server min protocol</code> parameter in the <code class="literal filename">/etc/samba/smb.conf</code> file defines the minimum server message block (SMB) protocol version the Samba server supports. You can change the minimum SMB protocol version.
				</p><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						By default, Samba on RHEL 8.2 and later supports only SMB2 and newer protocol versions. Red Hat recommends to not use the deprecated SMB1 protocol. However, if your environment requires SMB1, you can manually set the <code class="literal parameter">server min protocol</code> parameter to <code class="literal">NT1</code> to re-enable SMB1.
					</p></div></rh-alert><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Samba is installed and configured.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/samba/smb.conf</code> file, add the <code class="literal parameter">server min protocol</code> parameter, and set the parameter to the minimum SMB protocol version the server should support. For example, to set the minimum SMB protocol version to <code class="literal">SMB3</code>, add:
						</p><pre class="literallayout">server min protocol = SMB3</pre></li><li class="listitem"><p class="simpara">
							Restart the <code class="literal">smb</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart smb</strong></span></pre></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal citetitle">smb.conf(5)</code> man page
						</li></ul></div></section></section><section class="section" id="assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server"><div class="titlepage"><div><div><h3 class="title">1.20. Frequently used Samba command-line utilities</h3></div></div></div><p>
				This chapter describes frequently used commands when working with a Samba server.
			</p><section class="section" id="proc_using-the-net-ads-join-and-net-rpc-join-commands_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.1. Using the net ads join and net rpc join commands</h4></div></div></div><p>
					Using the <code class="literal">join</code> subcommand of the <code class="literal">net</code> utility, you can join Samba to an AD or NT4 domain. To join the domain, you must create the <code class="literal filename">/etc/samba/smb.conf</code> file manually, and optionally update additional configurations, such as PAM.
				</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
						Red Hat recommends using the <code class="literal">realm</code> utility to join a domain. The <code class="literal">realm</code> utility automatically updates all involved configuration files.
					</p></div></rh-alert><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Manually create the <code class="literal filename">/etc/samba/smb.conf</code> file with the following settings:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									For an AD domain member:
								</p><pre class="literallayout">[global]
workgroup = <span class="emphasis"><em>domain_name</em></span>
security = ads
passdb backend = tdbsam
realm = <span class="emphasis"><em>AD_REALM</em></span></pre></li><li class="listitem"><p class="simpara">
									For an NT4 domain member:
								</p><pre class="literallayout">[global]
workgroup = <span class="emphasis"><em>domain_name</em></span>
security = user
passdb backend = tdbsam</pre></li></ul></div></li><li class="listitem">
							Add an ID mapping configuration for the <code class="literal">*</code> default domain and for the domain you want to join to the <code class="literal">[global</code>] section in the <code class="literal filename">/etc/samba/smb.conf</code> file.
						</li><li class="listitem"><p class="simpara">
							Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
						</p><pre class="literallayout"># <span class="strong strong"><strong>testparm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Join the domain as the domain administrator:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To join an AD domain:
								</p><pre class="literallayout"># <span class="strong strong"><strong>net ads join -U "DOMAIN\administrator"</strong></span></pre></li><li class="listitem"><p class="simpara">
									To join an NT4 domain:
								</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc join -U "DOMAIN\administrator"</strong></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Append the <code class="literal">winbind</code> source to the <code class="literal">passwd</code> and <code class="literal">group</code> database entry in the <code class="literal filename">/etc/nsswitch.conf</code> file:
						</p><pre class="literallayout">passwd:     files <code class="literal">winbind</code>
group:      files <code class="literal">winbind</code></pre></li><li class="listitem"><p class="simpara">
							Enable and start the <code class="literal">winbind</code> service:
						</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now winbind</strong></span></pre></li><li class="listitem"><p class="simpara">
							Optionally, configure PAM using the <code class="literal">authselect</code> utility.
						</p><p class="simpara">
							For details, see the <code class="literal">authselect(8)</code> man page.
						</p></li><li class="listitem"><p class="simpara">
							Optionally for AD environments, configure the Kerberos client.
						</p><p class="simpara">
							For details, see the documentation of your Kerberos client.
						</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="#proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server" title="1.5.1. Joining a RHEL system to an AD domain">Joining Samba to a domain</a>.
						</li><li class="listitem">
							<a class="link" href="#assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server" title="1.4. Understanding and configuring Samba ID mapping">Understanding and configuring Samba ID mapping</a>.
						</li></ul></div></section><section class="section" id="proc_using-the-net-rpc-rights-command_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.2. Using the net rpc rights command</h4></div></div></div><p>
					In Windows, you can assign privileges to accounts and groups to perform special operations, such as setting ACLs on a share or upload printer drivers. On a Samba server, you can use the <code class="literal">net rpc rights</code> command to manage privileges.
				</p><h5 id="listing_privileges_you_can_set">Listing privileges you can set</h5><p>
					To list all available privileges and their owners, use the <code class="literal">net rpc rights list</code> command. For example:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights list -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
     SeMachineAccountPrivilege  Add machines to domain
      SeTakeOwnershipPrivilege  Take ownership of files or other objects
             SeBackupPrivilege  Back up files and directories
            SeRestorePrivilege  Restore files and directories
     SeRemoteShutdownPrivilege  Force shutdown from a remote system
      SePrintOperatorPrivilege  Manage printers
           SeAddUsersPrivilege  Add users and groups to the domain
       SeDiskOperatorPrivilege  Manage disk shares
           SeSecurityPrivilege  System security</pre><h5 id="granting_privileges">Granting privileges</h5><p>
					To grant a privilege to an account or group, use the <code class="literal">net rpc rights grant</code> command.
				</p><p>
					For example, grant the <code class="literal">SePrintOperatorPrivilege</code> privilege to the <code class="literal"><span class="emphasis"><em>DOMAIN</em></span>\printadmin</code> group:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights grant "<span class="emphasis"><em>DOMAIN</em></span>\printadmin" SePrintOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
Successfully granted rights.</pre><h5 id="revoking_privileges">Revoking privileges</h5><p>
					To revoke a privilege from an account or group, use the <code class="literal">net rpc rights revoke</code> command.
				</p><p>
					For example, to revoke the <code class="literal">SePrintOperatorPrivilege</code> privilege from the <code class="literal"><span class="emphasis"><em>DOMAIN</em></span>\printadmin</code> group:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc rights remoke "<span class="emphasis"><em>DOMAIN</em></span>\printadmin" SePrintOperatorPrivilege -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
Successfully revoked rights.</pre></section><section class="section" id="proc_using-the-net-rpc-share-command_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.3. Using the net rpc share command</h4></div></div></div><p>
					The <code class="literal">net rpc share</code> command provides the capability to list, add, and remove shares on a local or remote Samba or Windows server.
				</p><h5 id="listing_shares">Listing shares</h5><p>
					To list the shares on an SMB server, use the <code class="literal">net rpc share list</code> command. Optionally, pass the <code class="literal">-S <span class="emphasis"><em>server_name</em></span></code> parameter to the command to list the shares of a remote server. For example:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc share list -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator" -S <span class="emphasis"><em>server_name</em></span></strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrator's password:
IPC$
<span class="emphasis"><em>share_1</em></span>
<span class="emphasis"><em>share_2</em></span>
...</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Shares hosted on a Samba server that have <code class="literal">browseable = no</code> set in their section in the <code class="literal filename">/etc/samba/smb.conf</code> file are not displayed in the output.
					</p></div></rh-alert><h5 id="adding_a_share">Adding a share</h5><p>
					The <code class="literal">net rpc share add</code> command enables you to add a share to an SMB server.
				</p><p>
					For example, to add a share named <code class="literal">example</code> on a remote Windows server that shares the <code class="literal">C:\example\</code> directory:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc share add example="C:\example" -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator" -S <span class="emphasis"><em>server_name</em></span></strong></span></pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						You must omit the trailing backslash in the path when specifying a Windows directory name.
					</p></div></rh-alert><p>
					To use the command to add a share to a Samba server:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The user specified in the <code class="literal">-U</code> parameter must have the <code class="literal">SeDiskOperatorPrivilege</code> privilege granted on the destination server.
						</li><li class="listitem">
							You must write a script that adds a share section to the <code class="literal filename">/etc/samba/smb.conf</code> file and reloads Samba. The script must be set in the <code class="literal">add share command</code> parameter in the <code class="literal">[global]</code> section in <code class="literal filename">/etc/samba/smb.conf</code>. For further details, see the <code class="literal">add share command</code> description in the <code class="literal">smb.conf(5)</code> man page.
						</li></ul></div><h5 id="removing_a_share">Removing a share</h5><p>
					The <code class="literal">net rpc share delete</code> command enables you to remove a share from an SMB server.
				</p><p>
					For example, to remove the share named example from a remote Windows server:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc share delete example -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator" -S <span class="emphasis"><em>server_name</em></span></strong></span></pre><p>
					To use the command to remove a share from a Samba server:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The user specified in the <code class="literal">-U</code> parameter must have the <code class="literal">SeDiskOperatorPrivilege</code> privilege granted.
						</li><li class="listitem">
							You must write a script that removes the share’s section from the <code class="literal filename">/etc/samba/smb.conf</code> file and reloads Samba. The script must be set in the <code class="literal">delete share command</code> parameter in the <code class="literal">[global]</code> section in <code class="literal filename">/etc/samba/smb.conf</code>. For further details, see the <code class="literal">delete share command</code> description in the <code class="literal">smb.conf(5)</code> man page.
						</li></ul></div></section><section class="section" id="proc_using-the-net-user-command_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.4. Using the net user command</h4></div></div></div><p>
					The <code class="literal">net user</code> command enables you to perform the following actions on an AD DC or NT4 PDC:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							List all user accounts
						</li><li class="listitem">
							Add users
						</li><li class="listitem">
							Remove Users
						</li></ul></div><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
						Specifying a connection method, such as <code class="literal">ads</code> for AD domains or <code class="literal">rpc</code> for NT4 domains, is only required when you list domain user accounts. Other user-related subcommands can auto-detect the connection method.
					</p></div></rh-alert><p>
					Pass the <code class="literal">-U <span class="emphasis"><em>user_name</em></span></code> parameter to the command to specify a user that is allowed to perform the requested action.
				</p><h5 id="listing_domain_user_accounts">Listing domain user accounts</h5><p>
					To list all users in an AD domain:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net ads user -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span></pre><p>
					To list all users in an NT4 domain:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc user -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span></pre><h5 id="adding_a_user_account_to_the_domain">Adding a user account to the domain</h5><p>
					On a Samba domain member, you can use the <code class="literal">net user add</code> command to add a user account to the domain.
				</p><p>
					For example, add the <code class="literal">user</code> account to the domain:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the account:
						</p><pre class="literallayout"># <span class="strong strong"><strong>net user add <span class="emphasis"><em>user</em></span> <span class="emphasis"><em>password</em></span> -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
User <span class="emphasis"><em>user</em></span> added</pre></li><li class="listitem"><p class="simpara">
							Optionally, use the remote procedure call (RPC) shell to enable the account on the AD DC or NT4 PDC. For example:
						</p><pre class="literallayout"># <span class="strong strong"><strong>net rpc shell -U <span class="emphasis"><em>DOMAIN</em></span>\administrator -S <span class="emphasis"><em>DC_or_PDC_name</em></span></strong></span>
Talking to domain DOMAIN (<span class="emphasis"><em>S-1-5-21-1424831554-512457234-5642315751</em></span>)

net rpc&gt; <code class="literal command">user edit disabled <span class="emphasis"><em>user</em></span>: no</code>
Set <span class="emphasis"><em>user</em></span>'s disabled flag from [yes] to [no]

net rpc&gt; <code class="literal command">exit</code></pre></li></ol></div><h5 id="deleting_a_user_account_from_the_domain">Deleting a user account from the domain</h5><p>
					On a Samba domain member, you can use the <code class="literal">net user delete</code> command to remove a user account from the domain.
				</p><p>
					For example, to remove the <code class="literal">user</code> account from the domain:
				</p><pre class="literallayout"># <span class="strong strong"><strong>net user delete <span class="emphasis"><em>user</em></span> -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator"</strong></span>
User <span class="emphasis"><em>user</em></span> deleted</pre></section><section class="section" id="proc_using-the-rpcclient-utility_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.5. Using the rpcclient utility</h4></div></div></div><p>
					The <code class="literal">rpcclient</code> utility enables you to manually execute client-side Microsoft Remote Procedure Call (MS-RPC) functions on a local or remote SMB server. However, most of the features are integrated into separate utilities provided by Samba. Use <code class="literal">rpcclient</code> only for testing MS-PRC functions.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba-client</code> package is installed.
						</li></ul></div><h5 id="examples">Examples</h5><p>
					For example, you can use the <code class="literal">rpcclient</code> utility to:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Manage the printer Spool Subsystem (SPOOLSS).
						</p><div class="example" id="idm140443013338000"><p class="title"><strong>Example 1.7. Assigning a Driver to a Printer</strong></p><div class="example-contents"><pre class="literallayout"># <span class="strong strong"><strong>rpcclient <span class="emphasis"><em>server_name</em></span> -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator" -c 'setdriver "<span class="emphasis"><em>printer_name</em></span>" "<span class="emphasis"><em>driver_name</em></span>"'</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrators password:
Successfully set <span class="emphasis"><em>printer_name</em></span> to driver <span class="emphasis"><em>driver_name</em></span>.</pre></div></div></li><li class="listitem"><p class="simpara">
							Retrieve information about an SMB server.
						</p><div class="example" id="idm140443014796528"><p class="title"><strong>Example 1.8. Listing all File Shares and Shared Printers</strong></p><div class="example-contents"><pre class="literallayout"># <span class="strong strong"><strong>rpcclient <span class="emphasis"><em>server_name</em></span> -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator" -c 'netshareenum'</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrators password:
netname: <span class="emphasis"><em>Example_Share</em></span>
	remark:
	path:   <span class="emphasis"><em>C:\srv\samba\example_share\</em></span>
	password:
netname: <span class="emphasis"><em>Example_Printer</em></span>
	remark:
	path:   <span class="emphasis"><em>C:\var\spool\samba\</em></span>
	password:</pre></div></div></li><li class="listitem"><p class="simpara">
							Perform actions using the Security Account Manager Remote (SAMR) protocol.
						</p><div class="example" id="idm140443014789520"><p class="title"><strong>Example 1.9. Listing Users on an SMB Server</strong></p><div class="example-contents"><pre class="literallayout"># <span class="strong strong"><strong>rpcclient <span class="emphasis"><em>server_name</em></span> -U "<span class="emphasis"><em>DOMAIN</em></span>\administrator" -c 'enumdomusers'</strong></span>
Enter <span class="emphasis"><em>DOMAIN</em></span>\administrators password:
user:[<span class="emphasis"><em>user1</em></span>] rid:[<span class="emphasis"><em>0x3e8</em></span>]
user:[<span class="emphasis"><em>user2</em></span>] rid:[<span class="emphasis"><em>0x3e9</em></span>]</pre></div></div><p class="simpara">
							If you run the command against a standalone server or a domain member, it lists the users in the local database. Running the command against an AD DC or NT4 PDC lists the domain users.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">rpcclient(1)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-samba-regedit-application_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.6. Using the samba-regedit application</h4></div></div></div><p>
					Certain settings, such as printer configurations, are stored in the registry on the Samba server. You can use the ncurses-based <code class="literal">samba-regedit</code> application to edit the registry of a Samba server.
				</p><p>
					<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/833c4a7000838d838a71be969856b715/samba-regedit.png" alt="samba regedit"></span>

				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba-client</code> package is installed.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To start the application, enter:
					</p></div><pre class="literallayout"># <span class="strong strong"><strong>samba-regedit</strong></span></pre><p>
					Use the following keys:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Cursor up and cursor down: Navigate through the registry tree and the values.
						</li><li class="listitem">
							<kbd class="keycap">Enter</kbd>: Opens a key or edits a value.
						</li><li class="listitem">
							<kbd class="keycap">Tab</kbd>: Switches between the <code class="literal">Key</code> and <code class="literal">Value</code> pane.
						</li><li class="listitem">
							<kbd class="keycap">Ctrl</kbd>+<kbd class="keycap">C</kbd>: Closes the application.
						</li></ul></div></section><section class="section" id="proc_using-the-smbcontrol-utility_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.7. Using the smbcontrol utility</h4></div></div></div><p>
					The <code class="literal">smbcontrol</code> utility enables you to send command messages to the <code class="literal">smbd</code>, <code class="literal">nmbd</code>, <code class="literal">winbindd</code>, or all of these services. These control messages instruct the service, for example, to reload its configuration.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba-common-tools</code> package is installed.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Reload the configuration of the <code class="literal">smbd</code>, <code class="literal">nmbd</code>, <code class="literal">winbindd</code> services by sending the <code class="literal">reload-config</code> message type to the <code class="literal">all</code> destination:
						</li></ul></div><pre class="literallayout"># <span class="strong strong"><strong>smbcontrol all reload-config</strong></span></pre><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smbcontrol(1)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-smbpasswd-utility_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.8. Using the smbpasswd utility</h4></div></div></div><p>
					The <code class="literal">smbpasswd</code> utility manages user accounts and passwords in the local Samba database.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba-common-tools</code> package is installed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							If you run the command as a user, <code class="literal">smbpasswd</code> changes the Samba password of the user who run the command. For example:
						</p><pre class="literallayout">[user@server ~]$ <span class="strong strong"><strong>smbpasswd</strong></span>
New SMB password: <span class="emphasis"><em>password</em></span>
Retype new SMB password: <span class="emphasis"><em>password</em></span></pre></li><li class="listitem"><p class="simpara">
							If you run <code class="literal">smbpasswd</code> as the <code class="literal">root</code> user, you can use the utility, for example, to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Create a new user:
								</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>smbpasswd -a <span class="emphasis"><em>user_name</em></span></strong></span>
New SMB password: <span class="strong strong"><strong><code class="literal"><span class="emphasis"><em>password</em></span></code></strong></span>
Retype new SMB password: <span class="strong strong"><strong><code class="literal"><span class="emphasis"><em>password</em></span></code></strong></span>
Added user <span class="emphasis"><em>user_name</em></span>.</pre><rh-alert class="admonition note" state="info"><div class="admonition_header" slot="header">Note</div><div><p>
										Before you can add a user to the Samba database, you must create the account in the local operating system. See the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_basic_system_settings/managing-users-and-groups_configuring-basic-system-settings#adding-a-user-from-the-command-line_managing-users-from-the-command-line">Adding a new user from the command line</a> section in the Configuring basic system settings guide.
									</p></div></rh-alert></li><li class="listitem"><p class="simpara">
									Enable a Samba user:
								</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>smbpasswd -e <span class="emphasis"><em>user_name</em></span></strong></span>
Enabled user <span class="emphasis"><em>user_name</em></span>.</pre></li><li class="listitem"><p class="simpara">
									Disable a Samba user:
								</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>smbpasswd -x <span class="emphasis"><em>user_name</em></span></strong></span>
Disabled user <span class="emphasis"><em>user_name</em></span></pre></li><li class="listitem"><p class="simpara">
									Delete a user:
								</p><pre class="literallayout">[root@server ~]# <span class="strong strong"><strong>smbpasswd -x <span class="emphasis"><em>user_name</em></span></strong></span>
Deleted user <span class="emphasis"><em>user_name</em></span>.</pre></li></ul></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smbpasswd(8)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-smbstatus-utility_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.9. Using the smbstatus utility</h4></div></div></div><p>
					The <code class="literal">smbstatus</code> utility reports on:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Connections per PID of each <code class="literal">smbd</code> daemon to the Samba server. This report includes the user name, primary group, SMB protocol version, encryption, and signing information.
						</li><li class="listitem">
							Connections per Samba share. This report includes the PID of the <code class="literal">smbd</code> daemon, the IP of the connecting machine, the time stamp when the connection was established, encryption, and signing information.
						</li><li class="listitem">
							A list of locked files. The report entries include further details, such as opportunistic lock (oplock) types
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba</code> package is installed.
						</li><li class="listitem">
							The <code class="literal">smbd</code> service is running.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>

</p><pre class="literallayout"># <span class="strong strong"><strong>smbstatus</strong></span>

Samba version 4.15.2
PID  Username              Group                Machine                            Protocol Version  Encryption  Signing
....-------------------------------------------------------------------------------------------------------------------------
963  <span class="emphasis"><em>DOMAIN</em></span>\administrator  <span class="emphasis"><em>DOMAIN</em></span>\domain users  client-pc  (ipv4:192.0.2.1:57786)  SMB3_02           -           AES-128-CMAC

Service  pid  Machine    Connected at                  Encryption  Signing:
....---------------------------------------------------------------------------
example  969  192.0.2.1  Thu Nov  1 10:00:00 2018 CEST  -           AES-128-CMAC

Locked files:
Pid  Uid    DenyMode   Access    R/W     Oplock      SharePath           Name      Time
....--------------------------------------------------------------------------------------------------------
969  10000  DENY_WRITE 0x120089  RDONLY  LEASE(RWH)  /srv/samba/example  file.txt  Thu Nov  1 10:00:00 2018</pre>

					<p></p></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smbstatus(1)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-smbtar-utility_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.10. Using the smbtar utility</h4></div></div></div><p>
					The <code class="literal">smbtar</code> utility backs up the content of an SMB share or a subdirectory of it and stores the content in a <code class="literal">tar</code> archive. Alternatively, you can write the content to a tape device.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba-client</code> package is installed.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Use the following command to back up the content of the <code class="literal">demo</code> directory on the <code class="literal">//server/example/</code> share and store the content in the <code class="literal">/root/example.tar</code> archive:
						</p><pre class="literallayout"># <span class="strong strong"><strong>smbtar -s <span class="emphasis"><em>server</em></span> -x <span class="emphasis"><em>example</em></span> -u <span class="emphasis"><em>user_name</em></span> -p <span class="emphasis"><em>password</em></span> -t <span class="emphasis"><em>/root/example.tar</em></span></strong></span></pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">smbtar(1)</code> man page
						</li></ul></div></section><section class="section" id="proc_using-the-wbinfo-utility_assembly_frequently-used-samba-command-line-utilities"><div class="titlepage"><div><div><h4 class="title">1.20.11. Using the wbinfo utility</h4></div></div></div><p>
					The <code class="literal">wbinfo</code> utility queries and returns information created and used by the <code class="literal">winbindd</code> service.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal package">samba-winbind-clients</code> package is installed.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						You can use <code class="literal">wbinfo</code>, for example, to:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							List domain users:
						</p><pre class="literallayout"># <span class="strong strong"><strong>wbinfo -u</strong></span>
AD\administrator
AD\guest
...</pre></li><li class="listitem"><p class="simpara">
							List domain groups:
						</p><pre class="literallayout"># <span class="strong strong"><strong>wbinfo -g</strong></span>
AD\domain computers
AD\domain admins
AD\domain users
...</pre></li><li class="listitem"><p class="simpara">
							Display the SID of a user:
						</p><pre class="literallayout"># <span class="strong strong"><strong>wbinfo --name-to-sid="AD\administrator"</strong></span>
<span class="emphasis"><em>S-1-5-21-1762709870-351891212-3141221786-500</em></span> SID_USER (1)</pre></li><li class="listitem"><p class="simpara">
							Display information about domains and trusts:
						</p><pre class="literallayout"># <span class="strong strong"><strong>wbinfo --trusted-domains --verbose</strong></span>
Domain Name   DNS Domain            Trust Type  Transitive  In   Out
BUILTIN                             None        Yes         Yes  Yes
<span class="emphasis"><em>server</em></span>                              None        Yes         Yes  Yes
<span class="emphasis"><em>DOMAIN1</em></span>       <span class="emphasis"><em>domain1.example.com</em></span>   None        Yes         Yes  Yes
<span class="emphasis"><em>DOMAIN2</em></span>       <span class="emphasis"><em>domain2.example.com</em></span>   External    No          Yes  Yes</pre></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<code class="literal">wbinfo(1)</code> man page
						</li></ul></div></section></section><section class="section _additional-resources" id="additional_resources_2"><div class="titlepage"><div><div><h3 class="title">1.21. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">smb.conf(5)</code> man page
					</li><li class="listitem">
						<code class="literal">/usr/share/docs/samba-version/</code> directory contains general documentation, example scripts, and LDAP schema files, provided by the Samba project
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_gluster_storage/3.5/html/administration_guide/sect-smb">Setting up Samba and the Clustered Trivial Database (CDTB) to share directories stored on an GlusterFS volume</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/mounting-an-smb-share-on-red-hat-enterprise-linux_managing-file-systems">Mounting an SMB Share on Red Hat Enterprise Linux</a>
					</li></ul></div></section></section><section class="chapter" id="deploying-an-nfs-server_configuring-and-using-network-file-services"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Deploying an NFS server</h2></div></div></div><p class="_abstract _abstract">
			By using the Network File System (NFS) protocol, remote users can mount shared directories over a network and use them as they were mounted locally. This enables you to consolidate resources onto centralized servers on the network.
		</p><section class="section" id="key-features-of-minor-nfsv4-versions_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.1. Key features of minor NFSv4 versions</h3></div></div></div><p class="_abstract _abstract">
				Each minor NFSv4 version brings enhancements aimed at improving performance and security. Use these improvements to utilize the full potential of NFSv4, ensuring efficient and reliable file sharing across networks.
			</p><div class="variablelist"><p class="title"><strong>Key features of NFSv4.2</strong></p><dl class="variablelist"><dt><span class="term">Server-side copy</span></dt><dd>
							Server-side copy is a capability of the NFS server to copy files on the server without transferring the data back and forth over the network.
						</dd><dt><span class="term">Sparse files</span></dt><dd>
							Enables files to have one or more empty spaces, or gaps, which are unallocated or uninitialized data blocks consisting only of zeros. This enables applications to map out the location of holes in the sparse file.
						</dd><dt><span class="term">Space reservation</span></dt><dd>
							Clients can reserve or allocate space on the storage server before writing data. This prevents the server from running out of space.
						</dd><dt><span class="term">Labeled NFS</span></dt><dd>
							Enforces data access rights and enables SELinux labels between a client and a server for individual files on an NFS file system.
						</dd><dt><span class="term">Layout enhancements</span></dt><dd>
							Provides functionality to enable Parallel NFS (pNFS) servers to collect better performance statistics.
						</dd></dl></div><div class="variablelist"><p class="title"><strong>Key features of NFSv4.1</strong></p><dl class="variablelist"><dt><span class="term">Client-side support for pNFS</span></dt><dd>
							The support of high-speed I/O to clustered servers enables you to store data on multiple machines, to provide direct access to data, and synchronization of updates to metadata.
						</dd><dt><span class="term">Sessions</span></dt><dd>
							Sessions maintain the server’s state relative to the connections belonging to a client. These sessions provide improved performance and efficiency by reducing the overhead associated with establishing and terminating connections for each Remote Procedure Call (RPC) operation.
						</dd></dl></div><div class="variablelist"><p class="title"><strong>Key features of NFSv4.0</strong></p><dl class="variablelist"><dt><span class="term">RPC and security</span></dt><dd>
							The <code class="literal">RPCSEC_GSS</code> framework enhances RPC security. The NFSv4 protocol introduces a new operation for in-band security negotiation. This enables clients to query server policies for accessing file system resources securely.
						</dd><dt><span class="term">Procedure and operation structure</span></dt><dd>
							NFS 4.0 introduces the <code class="literal">COMPOUND</code> procedure, which enables clients to merge multiple operations into a single request to reduce RPCs.
						</dd><dt><span class="term">File system model</span></dt><dd><p class="simpara">
							NFS 4.0 retains the hierarchical file system model, treating files as byte streams and encoding names with UTF-8 for internationalization.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>File handle types</strong></span>
								</p><p class="simpara">
									With volatile file handles, servers can adjust to file system changes and enable clients to adapt as needed without requiring permanent file handles.
								</p></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>Attribute types</strong></span>
								</p><p class="simpara">
									The file attribute structure includes required, recommended, and named attributes, each serving distinct purposes. Required attributes, derived from NFSv3, are essential for distinguishing file types, while recommended attributes, such as ACLs, provide enhanced access control.
								</p></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>Multi-server namespace</strong></span>
								</p><p class="simpara">
									Namespaces span across multiple servers, simplify file system transfers based on attributes, support referrals, redundancy, and seamless server migration.
								</p></li></ul></div></dd><dt><span class="term">OPEN and CLOSE operations</span></dt><dd>
							These operations can combine file lookup, creation, and semantic sharing at a single point and make the file access management more efficient.
						</dd><dt><span class="term">File locking</span></dt><dd>
							File locking is part of the protocol, eliminating the need for RPC callbacks. File lock state is managed by the server under a lease-based model, where failure to renew the lease may result in state release by the server.
						</dd><dt><span class="term">Client caching and delegation</span></dt><dd>
							Caching resembles previous versions, with client-determined timeouts for attribute and directory caching. Delegations in NFS 4.0 allow the server to assign certain responsibilities to the client, guaranteeing specific file sharing semantics and enabling local file operations without immediate server interaction.
						</dd></dl></div></section><section class="section" id="the-auth-sys-authentication-method_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.2. The AUTH_SYS authentication method</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">AUTH_SYS</code> method, which is also known as <code class="literal">AUTH_UNIX</code>, is a client authentication mechanism. With <code class="literal">AUTH_SYS</code>, the client sends the User ID (UID) and Group ID (GID) of the user to the server to verify its identity and permissions when accessing files. It is considered less secure as it relies on the client-provided information, making it susceptible to unauthorized access if misconfigured.
			</p><p>
				Mapping mechanisms ensure that NFS clients can access files with the appropriate permissions on the server, even if the UID and GID assignments differ between systems. UIDs and GIDs are mapped between NFS client and server by the following mechanisms:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Direct mapping</span></dt><dd><p class="simpara">
							UIDs and GIDs are directly mapped by NFS servers and clients between local and remote systems. This requires consistent UID and GID assignments across all systems participating in NFS file sharing. For example, a user with UID 1000 on a client can only access the files on a share that a user with UID 1000 on the server has access to.
						</p><p class="simpara">
							For a simplified ID management in an NFS environment, administrators often rely on centralized services, such as LDAP or Network Information Service (NIS) to manage UID and GID mappings across multiple systems.
						</p></dd><dt><span class="term">User and Group ID mapping</span></dt><dd>
							NFS servers and clients can use the <code class="literal">idmapd</code> service to translate UIDs and GIDs between different systems for consistent identification and permission assignment.
						</dd></dl></div></section><section class="section" id="the-auth-gss-authentication-method_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.3. The AUTH_GSS authentication method</h3></div></div></div><p class="_abstract _abstract">
				Kerberos is a network authentication protocol that allows secure authentication for clients and servers over a non-secure network. It uses symmetric key cryptography and requires a trusted Key Distribution Center (KDC) to authenticate users and services.
			</p><p>
				Unlike <code class="literal">AUTH_SYS</code>, with the <code class="literal">RPCSEC_GSS</code> Kerberos mechanism, the server does not depend on the client to correctly represent which user is accessing the file. Instead, cryptography is used to authenticate users to the server, which prevents a malicious client from impersonating a user without having that user’s Kerberos credentials.
			</p><p>
				In the <code class="literal">/etc/exports</code> file, the <code class="literal">sec</code> option defines one or multiple methods of Kerberos security that the share should provide, and clients can mount the share with one of these methods. The <code class="literal">sec</code> option supports the following values:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">sys</code>: no cryptographic protection (default)
					</li><li class="listitem">
						<code class="literal">krb5</code>: authentication only
					</li><li class="listitem">
						<code class="literal">krb5i</code>: authentication and integrity protection
					</li><li class="listitem">
						<code class="literal">krb5p</code>: authentication, integrity checking, and traffic encryption
					</li></ul></div><p>
				Note that the more cryptographic functionality a method provides, the lower is the performance.
			</p></section><section class="section" id="file-permissions-on-exported-file-systems_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.4. File permissions on exported file systems</h3></div></div></div><p class="_abstract _abstract">
				File permissions on exported file systems determine access rights to files and directories for clients accessing them over NFS.
			</p><p>
				Once the NFS file system is mounted by a remote host, the only protection each shared file has is its file system permissions. If two users that share the same User ID (UID) value mount the same NFS file system on different client systems, they can modify each other’s files.
			</p><p>
				NFS treats the <code class="literal">root</code> user on the client as equivalent to the <code class="literal">root</code> user on the server. However, by default, the NFS server maps <code class="literal">root</code> to the <code class="literal">nobody</code> account when accessing an NFS share. The <code class="literal">root_squash</code> option controls this behavior.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">exports(5)</code> man page
					</li></ul></div></section><section class="section" id="services-required-on-an-nfs-server_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.5. Services required on an NFS server</h3></div></div></div><p class="_abstract _abstract">
				Red Hat Enterprise Linux (RHEL) uses a combination of a kernel module and user-space processes to provide NFS file shares:
			</p><rh-table id="idm140443012471040"><table class="lt-4-cols lt-7-rows"><caption>Table 2.1. Services required on an NFS server</caption><colgroup><col style="width: 17%; " class="col_1"><!--Empty--><col style="width: 17%; " class="col_2"><!--Empty--><col style="width: 66%; " class="col_3"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443017052752" scope="col">Service name</th><th align="left" valign="top" id="idm140443017051664" scope="col">NFS versions</th><th align="left" valign="top" id="idm140443017050576" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">nfsd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3, 4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								The NFS kernel module that services requests for shared NFS file systems.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">rpcbind</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This process accepts port reservations from local remote procedure call (RPC) services, makes them available or advertised, allowing corresponding remote RPC services to access them. The <code class="literal">rpcbind</code> service responds to requests and sets up connections to the specified RPC service.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">rpc.mountd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3, 4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This service processes <code class="literal">MOUNT</code> requests from NFSv3 clients, and NFSv4 servers use internal functions of this service.
							</p>
							 <p>
								It checks that the requested NFS share is currently exported by the NFS server and that the client is allowed to access it.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">rpc.nfsd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3, 4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This process advertises explicit NFS versions and protocols the server defines. It works with the kernel to meet the dynamic demands of NFS clients, such as providing server threads each time an NFS client connects.
							</p>
							 <p>
								The <code class="literal">nfs-server</code> service starts this process.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">lockd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This kernel module implements the Network Lock Manager (NLM) protocol, which enables clients to lock files on the server. RHEL loads the module automatically when the NFS server runs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">rpc.rquotad</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3, 4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This service provides user quota information for remote users.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">rpc.idmapd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This process provides NFSv4 client and server upcalls, which map between NFSv4 names (strings in the form of <span class="emphasis"><em>`user@domain`</em></span>) and local user and group IDs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">gssproxy</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3, 4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This service handles <code class="literal">krb5</code> authentication on behalf of <code class="literal">rpc.nfsd</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">nfsdcld</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								4
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This service provides a NFSv4 client tracking daemon that prevents the server from granting lock reclaims when other clients have taken conflicting locks during a network partition combined with a server reboot.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443017052752"> <p>
								<code class="literal">rpc.statd</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443017051664"> <p>
								3
							</p>
							 </td><td align="left" valign="top" headers="idm140443017050576"> <p>
								This service provides notification to other NFSv3 clients when the local host reboots, and to the kernel when a remote NFSv3 host reboots.
							</p>
							 </td></tr></tbody></table></rh-table><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">rpcbind(8)</code>, <code class="literal">rpc.mountd(8)</code>, <code class="literal">rpc.nfsd(8)</code>, <code class="literal">rpc.statd(8)</code>, <code class="literal">rpc.rquotad(8)</code>, <code class="literal">rpc.idmapd(8)</code>, <code class="literal">gssproxy(8)</code>, <code class="literal">nfsdcld(8)</code>, <code class="literal">rpc.statd(8)</code> man pages
					</li></ul></div></section><section class="section" id="the-etc-exports-configuration-file_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.6. The /etc/exports configuration file</h3></div></div></div><p class="_abstract _abstract">
				The <code class="literal">/etc/exports</code> file controls which directories the server exports. Each line contains an export point, a whitespace-separated list of clients that are allowed to mount the directory, and options for each of the clients:
			</p><pre class="screen">&lt;directory&gt; &lt;host_or_network_1&gt;(&lt;options_1&gt;) &lt;host_or_network_n&gt;(&lt;options_n&gt;)...</pre><p>
				The following are the individual parts of an <code class="literal">/etc/exports</code> entry:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="strong strong"><strong>&lt;export&gt;</strong></span></span></dt><dd>
							The directory that is being exported.
						</dd><dt><span class="term"><span class="strong strong"><strong>&lt;host_or_network&gt;</strong></span></span></dt><dd>
							The host or network to which the export is being shared. For example, you can specify a hostname, an IP address, or an IP network.
						</dd><dt><span class="term"><span class="strong strong"><strong>&lt;options&gt;</strong></span></span></dt><dd>
							The options for the host or network.
						</dd></dl></div><p>
				Adding a space between a client and options, changes the behavior. For example, the following lines do not have the same meaning:
			</p><pre class="screen">/projects	client.example.com(rw)
/projects	client.example.com (rw)</pre><p>
				In the first line, the server allows only <code class="literal">client.example.com</code> to mount the <code class="literal">/projects</code> directory in read-write mode, and no other hosts can mount the share. However, due to the space between <code class="literal">client.example.com</code> and <code class="literal">(rw)</code> in the second line, the server exports the directory to <code class="literal">client.example.com</code> in read-only mode (default setting), but all other hosts can mount the share in read-write mode.
			</p><p>
				The NFS server uses the following default settings for each exported directory:
			</p><rh-table id="idm140443013666448"><table class="lt-4-cols lt-7-rows"><caption>Table 2.2. Default options of entries in /etc/exports</caption><colgroup><col style="width: 20%; " class="col_1"><!--Empty--><col style="width: 80%; " class="col_2"><!--Empty--></colgroup><thead><tr><th align="left" valign="top" id="idm140443016295104" scope="col">Default setting</th><th align="left" valign="top" id="idm140443016294016" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140443016295104"> <p>
								<code class="literal">ro</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443016294016"> <p>
								Exports the directory in read-only mode.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443016295104"> <p>
								<code class="literal">sync</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443016294016"> <p>
								The NFS server does not reply to requests before changes made by previous requests are written to disk.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443016295104"> <p>
								<code class="literal">wdelay</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443016294016"> <p>
								The server delays writing to the disk if it suspects another write request is pending..
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140443016295104"> <p>
								<code class="literal">root_squash</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140443016294016"> <p>
								Prevents that the <code class="literal">root</code> user on clients has <code class="literal">root</code> permissions on an exported directory. With <code class="literal">root_squash</code> enabled, the NFS server maps access from <code class="literal">root</code> to the user <code class="literal">nobody</code>.
							</p>
							 </td></tr></tbody></table></rh-table></section><section class="section" id="configuring-an-nfsv4-only-server_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.7. Configuring an NFSv4-only server</h3></div></div></div><p class="_abstract _abstract">
				If you do not have any NFSv3 clients in your network, you can configure the NFS server to support only NFSv4 or specific minor protocol versions of it. Using only NFSv4 on the server reduces the number of ports that are open to the network.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nfs-utils</code> package:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install nfs-utils</strong></span></pre></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/etc/nfs.conf</code> file, and make the following changes:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Disable the <code class="literal">vers3</code> parameter in the <code class="literal">[nfsd]</code> section to disable NFSv3:
							</p><pre class="screen">[nfsd]
vers3=n</pre></li><li class="listitem"><p class="simpara">
								Optional: If you require only specific NFSv4 minor versions, uncomment all <code class="literal">vers4.&lt;minor_version&gt;</code> parameters and set them accordingly, for example:
							</p><pre class="screen">[nfsd]
vers3=n
# vers4=y
vers4.0=n
vers4.1=n
vers4.2=y</pre><p class="simpara">
								With this configuration, the server provides only NFS version 4.2.
							</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
									If you require only a specific NFSv4 minor version, set only the parameters for the minor versions. Do not uncomment the <code class="literal">vers4</code> parameter to avoid an unpredictable activation or deactivation of minor versions. By default, the <code class="literal">vers4</code> parameter enables or disables all NFSv4 minor versions. However, this behavior changes if you set <code class="literal">vers4</code> in conjunction with other <code class="literal">vers</code> parameters.
								</p></div></rh-alert></li></ol></div></li><li class="listitem"><p class="simpara">
						Disable all NFSv3-related services:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl mask --now rpc-statd.service rpcbind.service rpcbind.socket</strong></span></pre></li><li class="listitem"><p class="simpara">
						Configure the <code class="literal">rpc.mountd</code> daemon to not listen for NFSv3 mount requests. Create a <code class="literal">/etc/systemd/system/nfs-mountd.service.d/v4only.conf</code> file with the following content:
					</p><pre class="literallayout">[Service]
ExecStart=
ExecStart=/usr/sbin/rpc.mountd --no-tcp --no-udp</pre></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal">systemd</code> manager configuration and restart the <code class="literal">nfs-mountd</code> service:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl daemon-reload</strong></span>
# <span class="strong strong"><strong>systemctl restart nfs-mountd</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional: Create a directory that you want to share, for example:
					</p><pre class="literallayout"># <span class="strong strong"><strong>mkdir -p <span class="emphasis"><em>/nfs/projects/</em></span></strong></span></pre><p class="simpara">
						If you want to share an existing directory, skip this step.
					</p></li><li class="listitem"><p class="simpara">
						Set the permissions you require on the <code class="literal">/nfs/projects/</code> directory:
					</p><pre class="literallayout"># <span class="strong strong"><strong>chmod 2770 /nfs/projects/</strong></span>
# <span class="strong strong"><strong>chgrp users /nfs/projects/</strong></span></pre><p class="simpara">
						These commands set write permissions for the <code class="literal">users</code> group on the <code class="literal">/nfs/projects/</code> directory and ensure that the same group is automatically set on new entries created in this directory.
					</p></li><li class="listitem"><p class="simpara">
						Add an export point to the <code class="literal">/etc/exports</code> file for each directory that you want to share:
					</p><pre class="screen">/nfs/projects/     192.0.2.0/24(rw) 2001:db8::/32(rw)</pre><p class="simpara">
						This entry shares the <code class="literal">/nfs/projects/</code> directory to be accessible with read and write access to clients in the <code class="literal">192.0.2.0/24</code> and <code class="literal">2001:db8::/32</code> subnets.
					</p></li><li class="listitem"><p class="simpara">
						Open the relevant ports in <code class="literal">firewalld</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service nfs</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
						Enable and start the NFS server:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now nfs-server</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						On the server, verify that the server provides only the NFS versions that you have configured:
					</p><pre class="literallayout"># <span class="strong strong"><strong>cat /proc/fs/nfsd/versions</strong></span>
-3 +4 -4.0 -4.1 +4.2</pre></li><li class="listitem"><p class="simpara">
						On a client, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Install the <code class="literal">nfs-utils</code> package:
							</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install nfs-utils</strong></span></pre></li><li class="listitem"><p class="simpara">
								Mount an exported NFS share:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount <span class="emphasis"><em>server.example.com:/nfs/projects/</em></span> <span class="emphasis"><em>/mnt/</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								As a user which is a member of the <code class="literal">users</code> group, create a file in <code class="literal">/mnt/</code>:
							</p><pre class="literallayout"># <span class="strong strong"><strong>touch <span class="emphasis"><em>/mnt/file</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								List the directory to verify that the file was created:
							</p><pre class="literallayout"># <span class="strong strong"><strong>ls -l <span class="emphasis"><em>/mnt/</em></span></strong></span>
total 0
-rw-r--r--. 1 demo users 0 Jan 16 14:18 file</pre></li></ol></div></li></ul></div></section><section class="section" id="configuring-an-nfsv3-server-with-optional-nfsv4-support_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.8. Configuring an NFSv3 server with optional NFSv4 support</h3></div></div></div><p class="_abstract _abstract">
				In a network which still uses NFSv3 clients, configure the server to provide shares by using the NFSv3 protocol. If you also have newer clients in your network, you can, additionally, enable NFSv4. By default, Red Hat Enterprise Linux NFS clients use the latest NFS version that the server provides.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">nfs-utils</code> package:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install nfs-utils</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional: By default, NFSv3 and NFSv4 are enabled. If you do not require NFSv4 or only specific minor versions, uncomment all <code class="literal">vers4.&lt;minor_version&gt;</code> parameters and set them accordingly:
					</p><pre class="screen">[nfsd]
# vers3=y
# vers4=y
vers4.0=n
vers4.1=n
vers4.2=y</pre><p class="simpara">
						With this configuration, the server provides only the NFS version 3 and 4.2.
					</p><rh-alert class="admonition important" state="warning"><div class="admonition_header" slot="header">Important</div><div><p>
							If you require only a specific NFSv4 minor version, set only the parameters for the minor versions. Do not uncomment the <code class="literal">vers4</code> parameter to avoid an unpredictable activation or deactivation of minor versions. By default, the <code class="literal">vers4</code> parameter enables or disables all NFSv4 minor versions. However, this behavior changes if you set <code class="literal">vers4</code> in conjunction with other <code class="literal">vers</code> parameters.
						</p></div></rh-alert></li><li class="listitem"><p class="simpara">
						By default, NFSv3 RPC services use random ports. To enable a firewall configuration, configure fixed port numbers in the <code class="literal">/etc/nfs.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								In the <code class="literal">[lockd]</code> section, set a fixed port number for the <code class="literal">nlockmgr</code> RPC service, for example:
							</p><pre class="literallayout">[lockd]
port=<span class="emphasis"><em>5555</em></span></pre><p class="simpara">
								With this setting, the service automatically uses this port number for both the UDP and TCP protocol.
							</p></li><li class="listitem"><p class="simpara">
								In the <code class="literal">[statd]</code> section, set a fixed port number for the <code class="literal">rpc.statd</code> service, for example:
							</p><pre class="literallayout">[statd]
port=<span class="emphasis"><em>6666</em></span></pre><p class="simpara">
								With this setting, the service automatically uses this port number for both the UDP and TCP protocol.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: Create a directory that you want to share, for example:
					</p><pre class="literallayout"># <span class="strong strong"><strong>mkdir -p <span class="emphasis"><em>/nfs/projects/</em></span></strong></span></pre><p class="simpara">
						If you want to share an existing directory, skip this step.
					</p></li><li class="listitem"><p class="simpara">
						Set the permissions you require on the <code class="literal">/nfs/projects/</code> directory:
					</p><pre class="literallayout"># <span class="strong strong"><strong>chmod 2770 /nfs/projects/</strong></span>
# <span class="strong strong"><strong>chgrp users /nfs/projects/</strong></span></pre><p class="simpara">
						These commands set write permissions for the <code class="literal">users</code> group on the <code class="literal">/nfs/projects/</code> directory and ensure that the same group is automatically set on new entries created in this directory.
					</p></li><li class="listitem"><p class="simpara">
						Add an export point to the <code class="literal">/etc/exports</code> file for each directory that you want to share:
					</p><pre class="screen">/nfs/projects/     192.0.2.0/24(rw) 2001:db8::/32(rw)</pre><p class="simpara">
						This entry shares the <code class="literal">/nfs/projects/</code> directory to be accessible with read and write access to clients in the <code class="literal">192.0.2.0/24</code> and <code class="literal">2001:db8::/32</code> subnets.
					</p></li><li class="listitem"><p class="simpara">
						Open the relevant ports in <code class="literal">firewalld</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-service={nfs,rpc-bind,mountd}</strong></span>
# <span class="strong strong"><strong>firewall-cmd --permanent --add-port={<span class="emphasis"><em>5555</em></span>/tcp,<span class="emphasis"><em>5555</em></span>/udp,<span class="emphasis"><em>6666</em></span>/tcp,<span class="emphasis"><em>6666</em></span>/udp}</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
						Enable and start the NFS server:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now rpc-statd nfs-server</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						On the server, verify that the server provides only the NFS versions that you have configured:
					</p><pre class="literallayout"># <span class="strong strong"><strong>cat /proc/fs/nfsd/versions</strong></span>
+3 +4 -4.0 -4.1 +4.2</pre></li><li class="listitem"><p class="simpara">
						On a client, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Install the <code class="literal">nfs-utils</code> package:
							</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install nfs-utils</strong></span></pre></li><li class="listitem"><p class="simpara">
								Mount an exported NFS share:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount -o vers=&lt;version&gt; <span class="emphasis"><em>server.example.com:/nfs/projects/</em></span> <span class="emphasis"><em>/mnt/</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								Verify that the share was mounted with the specified NFS version:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount | grep "<span class="emphasis"><em>/mnt</em></span>"</strong></span>
server.example.com:/nfs/projects/ on /mnt type nfs (rw,relatime,<span class="strong strong"><strong>vers=3</strong></span>,...</pre></li><li class="listitem"><p class="simpara">
								As a user which is a member of the <code class="literal">users</code> group, create a file in <code class="literal">/mnt/</code>:
							</p><pre class="literallayout"># <span class="strong strong"><strong>touch <span class="emphasis"><em>/mnt/file</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								List the directory to verify that the file was created:
							</p><pre class="literallayout"># <span class="strong strong"><strong>ls -l <span class="emphasis"><em>/mnt/</em></span></strong></span>
total 0
-rw-r--r--. 1 demo users 0 Jan 16 14:18 file</pre></li></ol></div></li></ul></div></section><section class="section" id="enabling-quota-support-on-an-nfs-server_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.9. Enabling quota support on an NFS server</h3></div></div></div><p class="_abstract _abstract">
				If you want to restrict the amount of data a user or a group can store, you can configure quotas on the file system. On an NFS server, the <code class="literal">rpc-rquotad</code> service ensures that the quota is also applied to users on NFS clients.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The NFS server is running and configured.
					</li><li class="listitem">
						Quotas have been configured on the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/limiting-storage-space-usage-on-ext4-with-quotas_managing-file-systems#doc-wrapper">ext</a> or <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/assembly_limiting-storage-space-usage-on-xfs-with-quotas_managing-file-systems">XFS</a> file system.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify that quotas are enabled on the directories that you export:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For ext file system, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>quotaon -p <span class="emphasis"><em>/nfs/projects/</em></span></strong></span>
group quota on /nfs/projects (/dev/sdb1) is on
user quota on /nfs/projects (/dev/sdb1) is on
project quota on /nfs/projects (/dev/sdb1) is off</pre></li><li class="listitem"><p class="simpara">
								For an XFS file system, enter:
							</p><pre class="literallayout"># <span class="strong strong"><strong>findmnt <span class="emphasis"><em>/nfs/projects</em></span></strong></span>
TARGET    	SOURCE	FSTYPE OPTIONS
/nfs/projects /dev/sdb1 xfs	rw,relatime,seclabel,attr2,inode64,logbufs=8,logbsize=32k,<span class="strong strong"><strong>usrquota,grpquota</strong></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Install the <code class="literal">quota-rpc</code> package:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install quota-rpc</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional. By default, the quota RPC service runs on port 875. If you want to run the service on a different port, append <code class="literal">-p &lt;port_number&gt;</code> to the <code class="literal">RPCRQUOTADOPTS</code> variable in the <code class="literal">/etc/sysconfig/rpc-rquotad</code> file:
					</p><pre class="screen">RPCRQUOTADOPTS="-p __&lt;port_number&gt;__"</pre></li><li class="listitem"><p class="simpara">
						Optional: By default, remote hosts can only read quotas. To allow clients to set quotas, append the <code class="literal">-S</code> option to the <code class="literal">RPCRQUOTADOPTS</code> variable in the <code class="literal">/etc/sysconfig/rpc-rquotad</code> file:
					</p><pre class="screen">RPCRQUOTADOPTS="-S"</pre></li><li class="listitem"><p class="simpara">
						Open the port in <code class="literal">firewalld</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-port=<span class="emphasis"><em>875</em></span>/udp</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre></li><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">rpc-rquotad</code> service:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable --now rpc-rquotad</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On the client:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Mount the exported share:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount <span class="emphasis"><em>server.example.com:/nfs/projects/ /mnt/</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								Display the quota. The command depends on the file system of the exported directory. For example:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										To display the quota of a specific user on all mounted ext file systems, enter:
									</p><pre class="literallayout"># <span class="strong strong"><strong>quota -u &lt;user_name&gt;</strong></span>
Disk quotas for user demo (uid 1000):
     Filesystem     space     quota     limit     grace     files     quota      limit     grace
server.example.com:/nfs/projects
             0K       100M      200M                  0         0         0</pre></li><li class="listitem"><p class="simpara">
										To display the user and group quota on an XFS file system, enter:
									</p><pre class="literallayout"># <span class="strong strong"><strong>xfs_quota -x -c "report -h" <span class="emphasis"><em>/mnt/</em></span></strong></span>
User quota on /nfs/projects (/dev/vdb1)
            Blocks
User ID     Used     Soft     Hard     Warn/Grace
---------- ---------------------------------
root        0        0        0        00 [------]
demo        0        100M     200M     00 [------]</pre></li></ul></div></li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<code class="literal">quota(1)</code> man page
					</li><li class="listitem">
						<code class="literal">xfs_quota(8)</code> man page
					</li></ul></div></section><section class="section" id="enabling-nfs-over-rdma-on-an-nfs-server_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.10. Enabling NFS over RDMA on an NFS server</h3></div></div></div><p class="_abstract _abstract">
				Remote Direct Memory Access (RDMA) is a protocol that enables a client system to directly transfer data from the memory of a storage server into its own memory. This enhances storage throughput, decreases latency in data transfer between the server and client, and reduces CPU load on both ends. If both the NFS server and clients are connected over RDMA, clients can use NFSoRDMA to mount an exported directory.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The NFS service is running and configured
					</li><li class="listitem">
						An InfiniBand or RDMA over Converged Ethernet (RoCE) device is installed on the server.
					</li><li class="listitem">
						IP over InfiniBand (IPoIB) is configured on the server, and the InfiniBand device has an IP address assigned.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal">rdma-core</code> package:
					</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install rdma-core</strong></span></pre></li><li class="listitem"><p class="simpara">
						If the package was already installed, verify that the <code class="literal">xprtrdma</code> and <code class="literal">svcrdma</code> modules in the <code class="literal">/etc/rdma/modules/rdma.conf</code> file are uncommented:
					</p><pre class="screen"># NFS over RDMA client support
xprtrdma
# NFS over RDMA server support
svcrdma</pre></li><li class="listitem"><p class="simpara">
						Optional. By default, NFS over RDMA uses port 20049. If you want to use a different port, set the <code class="literal">rdma-port</code> setting in the <code class="literal">[nfsd]</code> section of the <code class="literal">/etc/nfs.conf</code> file:
					</p><pre class="literallayout">rdma-port=<span class="emphasis"><em>&lt;port&gt;</em></span></pre></li><li class="listitem"><p class="simpara">
						Open the NFSoRDMA port in <code class="literal">firewalld</code>:
					</p><pre class="literallayout"># <span class="strong strong"><strong>firewall-cmd --permanent --add-port={<span class="emphasis"><em>20049</em></span>/tcp,<span class="emphasis"><em>20049</em></span>/udp}</strong></span>
# <span class="strong strong"><strong>firewall-cmd --reload</strong></span></pre><p class="simpara">
						Adjust the port numbers if you set a different port than 20049.
					</p></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">nfs-server</code> service:
					</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl restart nfs-server</strong></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On a client with InfiniBand hardware, perform the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install the following packages:
							</p><pre class="literallayout"># <span class="strong strong"><strong>dnf install nfs-utils rdma-core</strong></span></pre></li><li class="listitem"><p class="simpara">
								Mount an exported NFS share over RDMA:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount -o rdma <span class="emphasis"><em>server.example.com:/nfs/projects/ /mnt/</em></span></strong></span></pre><p class="simpara">
								If you set a port number other than the default (20049), pass <code class="literal">port=<span class="emphasis"><em>&lt;port_number&gt;</em></span></code> to the command:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount -o rdma,port=&lt;port_number&gt; <span class="emphasis"><em>server.example.com:/nfs/projects/ /mnt/</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
								Verify that the share was mounted with the <code class="literal">rdma</code> option:
							</p><pre class="literallayout"># <span class="strong strong"><strong>mount | grep "<span class="emphasis"><em>/mnt</em></span>"</strong></span>
server.example.com:/nfs/projects/ on /mnt type nfs (...,<span class="strong strong"><strong>proto=rdma</strong></span>,...)</pre></li></ol></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_infiniband_and_rdma_networks">Configuring InfiniBand and RDMA networks</a>
					</li></ul></div></section><section class="section" id="setting-up-an-nfs-server-with-kerberos-in-a-red-hat-identity-management-domain_deploying-an-nfs-server"><div class="titlepage"><div><div><h3 class="title">2.11. Setting up an NFS server with Kerberos in a Red Hat Identity Management domain</h3></div></div></div><p class="_abstract _abstract">
				If you use Red Hat Identity Management (IdM), you can join your NFS server to the IdM domain. This enables you to centrally manage users and groups and to use Kerberos for authentication, integrity protection, and traffic encryption.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The NFS server is <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/assembly_installing-an-idm-client_installing-identity-management">enrolled</a> in a Red Hat Identity Management (IdM) domain.
					</li><li class="listitem">
						The NFS server is running and configured.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Obtain a kerberos ticket as an IdM administrator:
					</p><pre class="literallayout"># <span class="strong strong"><strong>kinit admin</strong></span></pre></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">nfs/&lt;FQDN&gt;</code> service principal:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ipa service-add <span class="emphasis"><em>nfs/nfs_server.idm.example.com</em></span></strong></span></pre></li><li class="listitem"><p class="simpara">
						Retrieve the <code class="literal">nfs</code> service principal from IdM, and store it in the <code class="literal">/etc/krb5.keytab</code> file:
					</p><pre class="literallayout"># <span class="strong strong"><strong>ipa-getkeytab -s <span class="emphasis"><em>idm_server.idm.example.com</em></span> -p <span class="emphasis"><em>nfs/nfs_server.idm.example.com</em></span> -k /etc/krb5.keytab</strong></span></pre></li><li class="listitem"><p class="simpara">
						Optional: Display the principals in the <code class="literal">/etc/krb5.keytab</code> file:
					</p><pre class="literallayout"># <span class="strong strong"><strong>klist -k /etc/krb5.keytab</strong></span>
Keytab name: FILE:/etc/krb5.keytab
KVNO Principal
---- --------------------------------------------------------------------------
   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM
   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM</pre><p class="simpara">
						By default, the IdM client adds the host principal to the <code class="literal">/etc/krb5.keytab</code> file when you join the host to the IdM domain. If the host principal is missing, use the <code class="literal"><span class="strong strong"><strong>ipa-getkeytab -s</strong></span> <span class="emphasis"><em>idm_server.idm.example.com</em></span> <span class="strong strong"><strong>-p</strong></span> <span class="emphasis"><em>host/nfs_server.idm.example.com</em></span> <span class="strong strong"><strong>-k /etc/krb5.keytab</strong></span></code> command to add it.
					</p></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">ipa-client-automount</code> utility to configure mapping of IdM IDs:
					</p><pre class="literallayout">#  <span class="strong strong"><strong>ipa-client-automount</strong></span>
Searching for IPA server...
IPA server: DNS discovery
Location: default
Continue to configure the system with these values? [no]: <span class="strong strong"><strong>yes</strong></span>
Configured /etc/idmapd.conf
Restarting sssd, waiting for it to become available.
Started autofs</pre></li><li class="listitem"><p class="simpara">
						Update your <code class="literal">/etc/exports</code> file, and add the Kerberos security method to the client options. For example:
					</p><pre class="literallayout">/nfs/projects/      	192.0.2.0/24(rw,<span class="strong strong"><strong>sec=krb5i</strong></span>)</pre><p class="simpara">
						If you want that your clients can select from multiple security methods, specify them separated by colons:
					</p><pre class="literallayout">/nfs/projects/      	192.0.2.0/24(rw,<span class="strong strong"><strong>sec=krb5:krb5i:krb5p</strong></span>)</pre></li><li class="listitem"><p class="simpara">
						Reload the exported file systems:
					</p><pre class="literallayout"># <span class="strong strong"><strong>exportfs -r</strong></span></pre></li></ol></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140443022784784"><h2 class="legalnotice">Legal Notice</h2><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body></section><!----></div></article><aside id="layout" class="span-xs-12 span-sm-2 span-md-2 content-format-selectors" aria-label="Select page format" data-v-8589d091><div class="sticky-top page-layout-options" data-v-8589d091><label for="page-format" data-v-8589d091>Format</label><select id="page-format" class="page-format-dropdown" data-v-8589d091><option class="page-type" value="html" data-v-8589d091>Multi-page</option><option selected class="page-type" value="html-single" data-v-8589d091>Single-page</option><option class="page-type" value="pdf" data-v-8589d091>View full doc as PDF</option></select></div><!----></aside></div><div class="btn-container hidden" data-v-8589d091><pf-button class="top-scroll-btn" icon="angle-up" icon-set="fas" icon-position="right" data-v-8589d091>Back to top</pf-button></div><!--]--><!--]--></main><rh-footer data-analytics-region="page-footer" data-v-97dd2752><a slot="logo" href="/en" data-analytics-category="Footer" data-analytics-text="Logo" data-v-97dd2752><img alt="Red Hat logo" src="/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg" loading="lazy" width="222" height="40" data-v-97dd2752></a><rh-footer-social-link slot="social-links" icon="github" data-v-97dd2752><a href="https://github.com/redhat-documentation" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="LinkedIn" data-v-97dd2752>Github</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="reddit" data-v-97dd2752><a href="https://www.reddit.com/r/redhat/" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="YouTube" data-v-97dd2752>Reddit</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="youtube" data-v-97dd2752><a href="https://www.youtube.com/@redhat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Facebook" data-v-97dd2752>Youtube</a></rh-footer-social-link><rh-footer-social-link slot="social-links" icon="twitter" data-v-97dd2752><a href="https://twitter.com/RedHat" data-analytics-region="social-links-exit" data-analytics-category="Footer|social-links" data-analytics-text="Twitter" data-v-97dd2752>Twitter</a></rh-footer-social-link><h3 slot="links" data-analytics-text="Learn" data-v-97dd2752>Learn</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://developers.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Developer resources" data-v-97dd2752>Developer resources</a></li><li data-v-97dd2752><a href="https://cloud.redhat.com/learn" data-analytics-category="Footer|Learn" data-analytics-text="Cloud learning hub" data-v-97dd2752>Cloud learning hub</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/interactive-labs" data-analytics-category="Footer|Learn" data-analytics-text="Interactive labs" data-v-97dd2752>Interactive labs</a></li><li data-v-97dd2752><a href="https://www.redhat.com/services/training-and-certification" data-analytics-category="Footer|Learn" data-analytics-text="Training and certification" data-v-97dd2752>Training and certification</a></li><li data-v-97dd2752><a href="https://access.redhat.com/support" data-analytics-category="Footer|Learn" data-analytics-text="Customer support" data-v-97dd2752>Customer support</a></li><li data-v-97dd2752><a href="/products" data-analytics-category="Footer|Learn" data-analytics-text="See all documentation" data-v-97dd2752>See all documentation</a></li></ul><h3 slot="links" data-analytics-text="Try buy sell" data-v-97dd2752>Try, buy, &amp; sell</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/products/trials" data-analytics-category="Footer|Try buy sell" data-analytics-text="Product trial center" data-v-97dd2752>Product trial center</a></li><li data-v-97dd2752><a href="https://marketplace.redhat.com" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Marketplace" data-v-97dd2752>Red Hat Marketplace</a></li><li data-v-97dd2752><a href="https://catalog.redhat.com/" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Ecosystem Catalog" data-v-97dd2752>Red Hat Ecosystem Catalog</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/store" data-analytics-category="Footer|Try buy sell" data-analytics-text="Red Hat Store" data-v-97dd2752>Red Hat Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/japan-buy" data-analytics-category="Footer|Try buy sell" data-analytics-text="Buy online (Japan)" data-v-97dd2752>Buy online (Japan)</a></li></ul><h3 slot="links" data-analytics-text="Communities" data-v-97dd2752>Communities</h3><ul slot="links" data-v-97dd2752><li data-v-97dd2752><a href="https://access.redhat.com/community" data-analytics-category="Footer|Communities" data-analytics-text="Customer Portal Community" data-v-97dd2752>Customer Portal Community</a></li><li data-v-97dd2752><a href="https://www.redhat.com/events" data-analytics-category="Footer|Communities" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://www.redhat.com/about/our-community-contributions" data-analytics-category="Footer|Communities" data-analytics-text="How we contribute" data-v-97dd2752>How we contribute</a></li></ul><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat Documentation" data-v-97dd2752>About Red Hat Documentation</h3><p data-v-97dd2752>We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="Making open source more inclusive" data-v-97dd2752>Making open source more inclusive</h3><p data-v-97dd2752>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the <a href=" https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" data-analytics-category="Footer|Making open source more inclusive" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a>.</p></rh-footer-block><rh-footer-block slot="main-secondary" data-v-97dd2752><h3 slot="header" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</h3><p data-v-97dd2752>We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.</p></rh-footer-block><rh-footer-universal slot="universal" data-v-97dd2752><h3 slot="links-primary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-primary" data-analytics-region="page-footer-bottom-primary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/company" data-analytics-category="Footer|Corporate" data-analytics-text="About Red Hat" data-v-97dd2752>About Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/jobs" data-analytics-category="Footer|Corporate" data-analytics-text="Jobs" data-v-97dd2752>Jobs</a></li><li data-v-97dd2752><a href="https://redhat.com/en/events" data-analytics-category="Footer|Corporate" data-analytics-text="Events" data-v-97dd2752>Events</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/office-locations" data-analytics-category="Footer|Corporate" data-analytics-text="Locations" data-v-97dd2752>Locations</a></li><li data-v-97dd2752><a href="https://redhat.com/en/contact" data-analytics-category="Footer|Corporate" data-analytics-text="Contact Red Hat" data-v-97dd2752>Contact Red Hat</a></li><li data-v-97dd2752><a href="https://redhat.com/en/blog" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Blog" data-v-97dd2752>Red Hat Blog</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/our-culture/diversity-equity-inclusion" data-analytics-category="Footer|Corporate" data-analytics-text="Diversity equity and inclusion" data-v-97dd2752>Diversity, equity, and inclusion</a></li><li data-v-97dd2752><a href="https://coolstuff.redhat.com/" data-analytics-category="Footer|Corporate" data-analytics-text="Cool Stuff Store" data-v-97dd2752>Cool Stuff Store</a></li><li data-v-97dd2752><a href="https://www.redhat.com/en/summit" data-analytics-category="Footer|Corporate" data-analytics-text="Red Hat Summit" data-v-97dd2752>Red Hat Summit</a></li></ul><span data-v-97dd2752 data-v-5f538988></span><rh-footer-copyright slot="links-secondary" data-v-97dd2752>© 2024 Red Hat, Inc.</rh-footer-copyright><h3 slot="links-secondary" data-analytics-text="Red Hat legal and privacy links" hidden data-v-97dd2752>Red Hat legal and privacy links</h3><ul slot="links-secondary" data-analytics-region="page-footer-bottom-secondary" data-v-97dd2752><li data-v-97dd2752><a href="https://redhat.com/en/about/privacy-policy" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Privacy statement" data-v-97dd2752>Privacy statement</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/terms-use" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Terms of use" data-v-97dd2752>Terms of use</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/all-policies-guidelines" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="All policies and guidelines" data-v-97dd2752>All policies and guidelines</a></li><li data-v-97dd2752><a href="https://redhat.com/en/about/digital-accessibility" data-analytics-category="Footer|Red Hat legal and privacy links" data-analytics-text="Digital accessibility" class="active" data-v-97dd2752>Digital accessibility</a></li><li data-v-97dd2752><span id="teconsent" data-v-97dd2752></span></li></ul></rh-footer-universal></rh-footer><div id="consent_blackbar" style="position:fixed;bottom:0;width:100%;z-index:5;padding:10px;"></div><!--]--><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":614,"once":618,"_errors":619,"serverRendered":15,"path":621},["ShallowReactive",3],{"s8LoCEfG4A":4,"uUstF4AIyn":10,"Pn02PlJOas":542,"rFVLKcOK8e":613},[5,6,7,8,9],"fr-fr","en-us","zh-cn","ja-jp","ko-kr",{"name":11,"html":12,"type":-1,"toc":13,"breadcrumbs":471,"error":18,"title":479,"productName":473,"productVersions":488,"pagination":517,"redirect":523,"canonicalLinks":524,"openShiftProducts":526,"tocFromVolume":-1,"jumpLinks":541},"Configuring and using network file services","\u003Cbody>\u003Cdiv xml:lang=\"en-US\" class=\"book\" id=\"idm140443025497056\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv class=\"producttitle\">\u003Cspan class=\"productname\">Red Hat Enterprise Linux\u003C/span> \u003Cspan class=\"productnumber\">9\u003C/span>\u003C/div>\u003Cdiv>\u003Ch3 class=\"subtitle\">A guide to configuring and using network file services in Red Hat Enterprise Linux 9.\u003C/h3>\u003C/div>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"authorgroup\">\u003Cspan class=\"orgname\">Red Hat\u003C/span> \u003Cspan class=\"orgdiv\">Customer Content Services\u003C/span>\u003C/div>\u003C/div>\u003Cdiv>\u003Ca href=\"#idm140443022784784\">Legal Notice\u003C/a>\u003C/div>\u003Cdiv>\u003Cdiv class=\"abstract\">\u003Cp class=\"title\">\u003Cstrong>Abstract\u003C/strong>\u003C/p>\u003Cdiv class=\"para\">\n\t\t\t\tThis document describes how to configure and run network file services on Red Hat Enterprise Linux 9, including Samba server and NFS server.\n\t\t\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003Chr/>\u003C/div>\u003Csection class=\"preface\" id=\"proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Providing feedback on Red Hat documentation\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tWe appreciate your feedback on our documentation. Let us know how we can improve it.\n\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Submitting feedback through Jira (account required)\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\tLog in to the \u003Ca class=\"link\" href=\"https://issues.redhat.com/projects/RHELDOCS/issues\">Jira\u003C/a> website.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> in the top navigation bar\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter a descriptive title in the \u003Cspan class=\"strong strong\">\u003Cstrong>Summary\u003C/strong>\u003C/span> field.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tEnter your suggestion for improvement in the \u003Cspan class=\"strong strong\">\u003Cstrong>Description\u003C/strong>\u003C/span> field. Include links to the relevant parts of the documentation.\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tClick \u003Cspan class=\"strong strong\">\u003Cstrong>Create\u003C/strong>\u003C/span> at the bottom of the dialogue.\n\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"chapter\" id=\"assembly_using-samba-as-a-server_configuring-and-using-network-file-services\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 1. Using Samba as a server\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\tSamba implements the Server Message Block (SMB) protocol in Red Hat Enterprise Linux. The SMB protocol is used to access resources on a server, such as file shares and shared printers. Additionally, Samba implements the Distributed Computing Environment Remote Procedure Call (DCE RPC) protocol used by Microsoft Windows.\n\t\t\u003C/p>\u003Cp>\n\t\t\tYou can run Samba as:\n\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\tAn Active Directory (AD) or NT4 domain member\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\tA standalone server\n\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\tAn NT4 Primary Domain Controller (PDC) or Backup Domain Controller (BDC)\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tRed Hat supports the PDC and BDC modes only in existing installations with Windows versions which support NT4 domains. Red Hat recommends not setting up a new Samba NT4 domain, because Microsoft operating systems later than Windows 7 and Windows Server 2008 R2 do not support NT4 domains.\n\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\tRed Hat does not support running Samba as an AD domain controller (DC).\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\tIndependently of the installation mode, you can optionally share directories and printers. This enables Samba to act as a file and print server.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.1. Understanding the different Samba services and modes\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">samba\u003C/code> package provides multiple services. Depending on your environment and the scenario you want to configure, you require one or more of these services and configure Samba in different modes.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"con_the-samba-services_assembly_understanding-the-different-samba-services-and-modes\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.1.1. The Samba services\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tSamba provides the following services:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">smbd\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis service provides file sharing and printing services using the SMB protocol. Additionally, the service is responsible for resource locking and for authenticating connecting users. For authenticating domain members, \u003Ccode class=\"literal\">smbd\u003C/code> requires \u003Ccode class=\"literal\">winbindd\u003C/code>. The \u003Ccode class=\"literal\">smb\u003C/code> \u003Ccode class=\"literal\">systemd\u003C/code> service starts and stops the \u003Ccode class=\"literal\">smbd\u003C/code> daemon.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo use the \u003Ccode class=\"literal\">smbd\u003C/code> service, install the \u003Ccode class=\"literal package\">samba\u003C/code> package.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">nmbd\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis service provides host name and IP resolution using the NetBIOS over IPv4 protocol. Additionally to the name resolution, the \u003Ccode class=\"literal\">nmbd\u003C/code> service enables browsing the SMB network to locate domains, work groups, hosts, file shares, and printers. For this, the service either reports this information directly to the broadcasting client or forwards it to a local or master browser. The \u003Ccode class=\"literal\">nmb\u003C/code> \u003Ccode class=\"literal\">systemd\u003C/code> service starts and stops the \u003Ccode class=\"literal\">nmbd\u003C/code> daemon.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tNote that modern SMB networks use DNS to resolve clients and IP addresses. For Kerberos a working DNS setup is required.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo use the \u003Ccode class=\"literal\">nmbd\u003C/code> service, install the \u003Ccode class=\"literal package\">samba\u003C/code> package.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">winbindd\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis service provides an interface for the Name Service Switch (NSS) to use AD or NT4 domain users and groups on the local system. This enables, for example, domain users to authenticate to services hosted on a Samba server or to other local services. The \u003Ccode class=\"literal\">winbind\u003C/code> \u003Ccode class=\"literal\">systemd\u003C/code> service starts and stops the \u003Ccode class=\"literal\">winbindd\u003C/code> daemon.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you set up Samba as a domain member, \u003Ccode class=\"literal\">winbindd\u003C/code> must be started before the \u003Ccode class=\"literal\">smbd\u003C/code> service. Otherwise, domain users and groups are not available to the local system..\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tTo use the \u003Ccode class=\"literal\">winbindd\u003C/code> service, install the \u003Ccode class=\"literal package\">samba-winbind\u003C/code> package.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tRed Hat only supports running Samba as a server with the \u003Ccode class=\"literal\">winbindd\u003C/code> service to provide domain users and groups to the local system. Due to certain limitations, such as missing Windows access control list (ACL) support and NT LAN Manager (NTLM) fallback, SSSD is not supported.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_the-samba-security-services_assembly_understanding-the-different-samba-services-and-modes\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.1.2. The Samba security services\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">security\u003C/code> parameter in the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file manages how Samba authenticates users that are connecting to the service. Depending on the mode you install Samba in, the parameter must be set to different values:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">On an AD domain member, set \u003Ccode class=\"literal\">security = ads\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn this mode, Samba uses Kerberos to authenticate AD users.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor details about setting up Samba as a domain member, see \u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server\" title=\"1.5. Setting up Samba as an AD domain member server\">Setting up Samba as an AD domain member server\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">On a standalone server, set \u003Ccode class=\"literal\">security = user\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn this mode, Samba uses a local database to authenticate connecting users.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor details about setting up Samba as a standalone server, see \u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server\" title=\"1.3. Setting up Samba as a standalone server\">Setting up Samba as a standalone server\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">On an NT4 PDC or BDC, set \u003Ccode class=\"literal\">security = user\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tIn this mode, Samba authenticates users to a local or LDAP database.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">On an NT4 domain member, set \u003Ccode class=\"literal\">security = domain\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn this mode, Samba authenticates connecting users to an NT4 PDC or BDC. You cannot use this mode on AD domain members.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor details about setting up Samba as a domain member, see \u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server\" title=\"1.5. Setting up Samba as an AD domain member server\">Setting up Samba as an AD domain member server\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">security\u003C/code> parameter in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.1.3. Scenarios when Samba services and Samba client utilities load and reload their configuration\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe following describes when Samba services and utilities load and reload their configuration:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSamba services reload their configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAutomatically every 3 minutes\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tOn manual request, for example, when you run the \u003Ccode class=\"literal command\">smbcontrol all reload-config\u003C/code> command.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba client utilities read their configuration only when you start them.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tNote that certain parameters, such as \u003Ccode class=\"literal parameter\">security\u003C/code> require a restart of the \u003Ccode class=\"literal systemitem\">smb\u003C/code> service to take effect and a reload is not sufficient.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal citetitle\">How configuration changes are applied\u003C/code> section in the \u003Ccode class=\"literal citetitle\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal citetitle\">smbd(8)\u003C/code>, \u003Ccode class=\"literal citetitle\">nmbd(8)\u003C/code>, and \u003Ccode class=\"literal citetitle\">winbindd(8)\u003C/code> man pages\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_editing-the-samba-configuration-in-a-safe-way_assembly_understanding-the-different-samba-services-and-modes\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.1.4. Editing the Samba configuration in a safe way\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tSamba services automatically reload their configuration every 3 minutes. To prevent that the services reload the changes before you have verified the configuration using the \u003Ccode class=\"literal\">testparm\u003C/code> utility, you can edit the Samba configuration in a safe way.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate a copy of the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cp /etc/samba/smb.conf /etc/samba/samba.conf.\u003Cspan class=\"emphasis\">\u003Cem>copy\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEdit the copied file and make the required changes.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the configuration in the \u003Ccode class=\"literal filename\">/etc/samba/samba.conf.\u003Cspan class=\"emphasis\">\u003Cem>copy\u003C/em>\u003C/span>\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm -s /etc/samba/samba.conf.\u003Cspan class=\"emphasis\">\u003Cem>copy\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf \u003Ccode class=\"literal systemitem\">testparm\u003C/code> reports errors, fix them and run the command again.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOverride the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file with the new configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mv /etc/samba/samba.conf.\u003Cspan class=\"emphasis\">\u003Cem>copy\u003C/em>\u003C/span> /etc/samba/smb.conf\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWait until the Samba services automatically reload their configuration or manually reload the configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes\" title=\"1.1.3. Scenarios when Samba services and Samba client utilities load and reload their configuration\">Scenarios when Samba services and Samba client utilities load and reload their configuration\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.2. Verifying the smb.conf file by using the testparm utility\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">testparm\u003C/code> utility verifies that the Samba configuration in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file is correct. The utility detects invalid parameters and values, but also incorrect settings, such as for ID mapping. If \u003Ccode class=\"literal\">testparm\u003C/code> reports no problem, the Samba services will successfully load the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file. Note that \u003Ccode class=\"literal\">testparm\u003C/code> cannot verify that the configured services will be available or work as expected.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tRed Hat recommends that you verify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file by using \u003Ccode class=\"literal\">testparm\u003C/code> after each modification of this file.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tYou installed Samba.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file exits.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRun the \u003Ccode class=\"literal\">testparm\u003C/code> utility as the \u003Ccode class=\"literal\">root\u003C/code> user:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\nLoad smb config files from /etc/samba/smb.conf\nrlimit_max: increasing rlimit_max (1024) to minimum Windows limit (16384)\n\u003Cspan class=\"strong strong\">\u003Cstrong>Unknown parameter encountered: \"log levell\"\u003C/strong>\u003C/span>\nProcessing section \"[example_share]\"\nLoaded services file OK.\n\u003Cspan class=\"strong strong\">\u003Cstrong>ERROR: The idmap range for the domain * (tdb) overlaps with the range of DOMAIN (ad)!\u003C/strong>\u003C/span>\n\nServer role: ROLE_DOMAIN_MEMBER\n\nPress enter to see a dump of your service definitions\n\n# Global parameters\n[global]\n\t...\n\n[example_share]\n\t...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThe previous example output reports a non-existent parameter and an incorrect ID mapping configuration.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIf \u003Ccode class=\"literal\">testparm\u003C/code> reports incorrect parameters, values, or other errors in the configuration, fix the problem and run the utility again.\n\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.3. Setting up Samba as a standalone server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tYou can set up Samba as a server that is not a member of a domain. In this installation mode, Samba authenticates users to a local database instead of to a central DC. Additionally, you can enable guest access to allow users to connect to one or multiple services without authentication.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_setting-up-the-server-configuration-for-the-standalone-server_assembly_setting-up-samba-as-a-standalone-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.3.1. Setting up the server configuration for the standalone server\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can set up the server configuration for a Samba standalone server.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInstall the \u003Ccode class=\"literal package\">samba\u003C/code> package:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install samba\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file and set the following parameters:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\n\tworkgroup = \u003Cspan class=\"emphasis\">\u003Cem>Example-WG\u003C/em>\u003C/span>\n\tnetbios name = \u003Cspan class=\"emphasis\">\u003Cem>Server\u003C/em>\u003C/span>\n\tsecurity = user\n\n\tlog file = /var/log/samba/%m.log\n\tlog level = 1\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis configuration defines a standalone server named \u003Ccode class=\"literal\">Server\u003C/code> within the \u003Ccode class=\"literal\">Example-WG\u003C/code> work group. Additionally, this configuration enables logging on a minimal level (\u003Ccode class=\"literal\">1\u003C/code>) and log files will be stored in the \u003Ccode class=\"literal filename\">/var/log/samba/\u003C/code> directory. Samba will expand the \u003Ccode class=\"literal\">%m\u003C/code> macro in the \u003Ccode class=\"literal\">log file\u003C/code> parameter to the NetBIOS name of connecting clients. This enables individual log files for each client.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptionally, configure file or printer sharing. See:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server\" title=\"1.7. Setting up a Samba file share that uses POSIX ACLs\">Setting up a share that uses POSIX ACLs\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server\" title=\"1.9. Setting up a share that uses Windows ACLs\">Setting up a share that uses Windows ACLs\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server\" title=\"1.15. Setting up Samba as a print server\">Setting up Samba as a Print Server\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you set up shares that require authentication, create the user accounts.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"#proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server\" title=\"1.3.2. Creating and enabling local user accounts\">Creating and enabling local user accounts\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOpen the required ports and reload the firewall configuration by using the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> utility:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service=samba\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.3.2. Creating and enabling local user accounts\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo enable users to authenticate when they connect to a share, you must create the accounts on the Samba host both in the operating system and in the Samba database. Samba requires the operating system account to validate the Access Control Lists (ACL) on file system objects and the Samba account to authenticate connecting users.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tIf you use the \u003Ccode class=\"literal\">passdb backend = tdbsam\u003C/code> default setting, Samba stores user accounts in the \u003Ccode class=\"literal filename\">/var/lib/samba/private/passdb.tdb\u003C/code> database.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tYou can create a local Samba user named \u003Ccode class=\"literal\">example\u003C/code>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is installed and configured as a standalone server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the operating system account:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>useradd -M -s /sbin/nologin example\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis command adds the \u003Ccode class=\"literal\">example\u003C/code> account without creating a home directory. If the account is only used to authenticate to Samba, assign the \u003Ccode class=\"literal filename\">/sbin/nologin\u003C/code> command as shell to prevent the account from logging in locally.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet a password to the operating system account to enable it:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>passwd example\u003C/strong>\u003C/span>\nEnter new UNIX password: \u003Ccode class=\"literal command\">\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/code>\nRetype new UNIX password: \u003Ccode class=\"literal command\">\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/code>\npasswd: password updated successfully\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSamba does not use the password set on the operating system account to authenticate. However, you need to set a password to enable the account. If an account is disabled, Samba denies access if this user connects.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the user to the Samba database and set a password to the account:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd -a \u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nNew SMB password: \u003Ccode class=\"literal command\">\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/code>\nRetype new SMB password: \u003Ccode class=\"literal command\">\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/code>\nAdded user example.\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse this password to authenticate when using this account to connect to a Samba share.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable the Samba account:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd -e \u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nEnabled user example.\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.4. Understanding and configuring Samba ID mapping\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tWindows domains distinguish users and groups by unique Security Identifiers (SID). However, Linux requires unique UIDs and GIDs for each user and group. If you run Samba as a domain member, the \u003Ccode class=\"literal\">winbindd\u003C/code> service is responsible for providing information about domain users and groups to the operating system.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tTo enable the \u003Ccode class=\"literal\">winbindd\u003C/code> service to provide unique IDs for users and groups to Linux, you must configure ID mapping in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file for:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe local database (default domain)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe AD or NT4 domain the Samba server is a member of\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tEach trusted domain from which users must be able to access resources on this Samba server\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tSamba provides different ID mapping back ends for specific configurations. The most frequently used back ends are:\n\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 80%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443021736688\" scope=\"col\">Back end\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443021735600\" scope=\"col\">Use case\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021736688\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">tdb\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021735600\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">*\u003C/code> default domain only\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021736688\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ad\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021735600\"> \u003Cp>\n\t\t\t\t\t\t\t\tAD domains only\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021736688\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rid\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021735600\"> \u003Cp>\n\t\t\t\t\t\t\t\tAD and NT4 domains\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021736688\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">autorid\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443021735600\"> \u003Cp>\n\t\t\t\t\t\t\t\tAD, NT4, and the \u003Ccode class=\"literal\">*\u003C/code> default domain\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Csection class=\"section\" id=\"con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.4.1. Planning Samba ID ranges\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tRegardless of whether you store the Linux UIDs and GIDs in AD or if you configure Samba to generate them, each domain configuration requires a unique ID range that must not overlap with any of the other domains.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIf you set overlapping ID ranges, Samba fails to work correctly.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"example\" id=\"idm140443021850992\">\u003Cp class=\"title\">\u003Cstrong>Example 1.1. Unique ID Ranges\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tThe following shows non-overlapping ID mapping ranges for the default (\u003Ccode class=\"literal\">*\u003C/code>), \u003Ccode class=\"literal\">AD-DOM\u003C/code>, and the \u003Ccode class=\"literal\">TRUST-DOM\u003C/code> domains.\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\n...\nidmap config * : backend = tdb\nidmap config * : range = 10000-999999\n\nidmap config AD-DOM:backend = rid\nidmap config AD-DOM:range = 2000000-2999999\n\nidmap config TRUST-DOM:backend = rid\nidmap config TRUST-DOM:range = 4000000-4999999\u003C/pre>\u003C/div>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tYou can only assign one range per domain. Therefore, leave enough space between the domains ranges. This enables you to extend the range later if your domain grows.\n\t\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\tIf you later assign a different range to a domain, the ownership of files and directories previously created by these users and groups will be lost.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/section>\u003Csection class=\"section\" id=\"con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.4.2. The * default domain\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIn a domain environment, you add one ID mapping configuration for each of the following:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe domain the Samba server is a member of\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEach trusted domain that should be able to access the Samba server\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tHowever, for all other objects, Samba assigns IDs from the default domain. This includes:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tLocal Samba users and groups\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba built-in accounts and groups, such as \u003Ccode class=\"literal\">BUILTIN\\Administrators\u003C/code>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tYou must configure the default domain as described to enable Samba to operate correctly.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tThe default domain back end must be writable to permanently store the assigned IDs.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor the default domain, you can use one of the following back ends:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">tdb\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWhen you configure the default domain to use the \u003Ccode class=\"literal\">tdb\u003C/code> back end, set an ID range that is big enough to include objects that will be created in the future and that are not part of a defined domain ID mapping configuration.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor example, set the following in the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : backend = tdb\nidmap config * : range = 10000-999999\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor further details, see \u003Ca class=\"link\" href=\"#proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.3. Using the tdb ID mapping back end\">Using the TDB ID mapping back end\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Ccode class=\"literal\">autorid\u003C/code>\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWhen you configure the default domain to use the \u003Ccode class=\"literal\">autorid\u003C/code> back end, adding additional ID mapping configurations for domains is optional.\n\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor example, set the following in the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : backend = autorid\nidmap config * : range = 10000-999999\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor further details, see \u003Ca class=\"link\" href=\"#proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.6. Using the autorid ID mapping back end\">Using the autorid ID mapping back end\u003C/a>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.4.3. Using the tdb ID mapping back end\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">winbindd\u003C/code> service uses the writable \u003Ccode class=\"literal\">tdb\u003C/code> ID mapping back end by default to store Security Identifier (SID), UID, and GID mapping tables. This includes local users, groups, and built-in principals.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tUse this back end only for the \u003Ccode class=\"literal\">*\u003C/code> default domain. For example:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : backend = tdb\nidmap config * : range = 10000-999999\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.2. The * default domain\">The * default domain\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-ad-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.4.4. Using the ad ID mapping back end\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can configure a Samba AD member to use the \u003Ccode class=\"literal\">ad\u003C/code> ID mapping back end.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">ad\u003C/code> ID mapping back end implements a read-only API to read account and group information from AD. This provides the following benefits:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAll user and group settings are stored centrally in AD.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUser and group IDs are consistent on all Samba servers that use this back end.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe IDs are not stored in a local database which can corrupt, and therefore file ownerships cannot be lost.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe \u003Ccode class=\"literal\">ad\u003C/code> ID mapping back end does not support Active Directory domains with one-way trusts. If you configure a domain member in an Active Directory with one-way trusts, use instead one of the following ID mapping back ends: \u003Ccode class=\"literal\">tdb\u003C/code>, \u003Ccode class=\"literal\">rid\u003C/code>, or \u003Ccode class=\"literal\">autorid\u003C/code>.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tThe ad back end reads the following attributes from AD:\n\t\t\t\t\u003C/p>\u003Crh-table id=\"table_proc_using-the-ad-id-mapping-back-end_assembly_the-different-samba-id-mapping-back-ends\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 25%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 25%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 50%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443020857552\" scope=\"col\">AD attribute name\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443020856464\" scope=\"col\">Object type\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443020855376\" scope=\"col\">Mapped to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020857552\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">sAMAccountName\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020856464\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser and group\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020855376\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser or group name, depending on the object\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020857552\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">uidNumber\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020856464\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020855376\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser ID (UID)\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020857552\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gidNumber\u003C/code>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020856464\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tGroup\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020855376\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tGroup ID (GID)\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020857552\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">loginShell\u003C/code> \u003Ca href=\"#ftn.sambaloginshell\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"sambaloginshell\">[a]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020856464\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020855376\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tPath to the shell of the user\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020857552\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">unixHomeDirectory\u003C/code> \u003Ca href=\"#ftn.sambaloginshell\" class=\"footnoteref\">\u003Csup class=\"footnoteref\">[a]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020856464\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020855376\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tPath to the home directory of the user\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020857552\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">primaryGroupID\u003C/code> \u003Ca href=\"#ftn.samba_primarygroupid\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"samba_primarygroupid\">[b]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020856464\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tUser\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020855376\"> \u003Cp>\n\t\t\t\t\t\t\t\t\tPrimary group ID\n\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003Ctbody class=\"footnotes\">\u003Ctr>\u003Ctd colspan=\"3\">\u003Cdiv id=\"ftn.sambaloginshell\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#sambaloginshell\" class=\"simpara\">\u003Csup class=\"simpara\">[a] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\tSamba only reads this attribute if you set \u003Ccode class=\"literal\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>:unix_nss_info = yes\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003Cdiv id=\"ftn.samba_primarygroupid\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#samba_primarygroupid\" class=\"simpara\">\u003Csup class=\"simpara\">[b] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\tSamba only reads this attribute if you set \u003Ccode class=\"literal\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>:unix_primary_group = yes\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tBoth users and groups must have unique IDs set in AD, and the IDs must be within the range configured in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file. Objects whose IDs are outside of the range will not be available on the Samba server.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUsers and groups must have all required attributes set in AD. If required attributes are missing, the user or group will not be available on the Samba server. The required attributes depend on your configuration. .Prerequisites\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou installed Samba.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba configuration, except ID mapping, exists in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAdd an ID mapping configuration for the default domain (\u003Ccode class=\"literal\">*\u003C/code>) if it does not exist. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : backend = tdb\nidmap config * : range = \u003Cspan class=\"emphasis\">\u003Cem>10000-999999\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">ad\u003C/code> ID mapping back end for the AD domain:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : backend = ad\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet the range of IDs that is assigned to users and groups in the AD domain. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : range = \u003Cspan class=\"emphasis\">\u003Cem>2000000-2999999\u003C/em>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThe range must not overlap with any other domain configuration on this server. Additionally, the range must be set big enough to include all IDs assigned in the future. For further details, see \u003Ca class=\"link\" href=\"#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.1. Planning Samba ID ranges\">Planning Samba ID ranges\u003C/a>.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet that Samba uses the \u003Ca class=\"link\" href=\"https://tools.ietf.org/html/rfc2307\">RFC 2307\u003C/a> schema when reading attributes from AD:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : schema_mode = rfc2307\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo enable Samba to read the login shell and the path to the users home directory from the corresponding AD attribute, set:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : unix_nss_info = yes\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAlternatively, you can set a uniform domain-wide home directory path and login shell that is applied to all users. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">template shell = \u003Cspan class=\"emphasis\">\u003Cem>/bin/bash\u003C/em>\u003C/span>\ntemplate homedir = \u003Cspan class=\"emphasis\">\u003Cem>/home/%U\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tBy default, Samba uses the \u003Ccode class=\"literal\">primaryGroupID\u003C/code> attribute of a user object as the user’s primary group on Linux. Alternatively, you can configure Samba to use the value set in the \u003Ccode class=\"literal\">gidNumber\u003C/code> attribute instead:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : unix_primary_group = yes\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.2. The * default domain\">The * default domain\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smb.conf(5)\u003C/code> and \u003Ccode class=\"literal\">idmap_ad(8)\u003C/code> man pages\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">VARIABLE SUBSTITUTIONS\u003C/code> section in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-rid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.4.5. Using the rid ID mapping back end\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can configure a Samba domain member to use the \u003Ccode class=\"literal\">rid\u003C/code> ID mapping back end.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tSamba can use the relative identifier (RID) of a Windows SID to generate an ID on Red Hat Enterprise Linux.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tThe RID is the last part of a SID. For example, if the SID of a user is \u003Ccode class=\"literal\">S-1-5-21-5421822485-1151247151-421485315-30014\u003C/code>, then \u003Ccode class=\"literal\">30014\u003C/code> is the corresponding RID.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">rid\u003C/code> ID mapping back end implements a read-only API to calculate account and group information based on an algorithmic mapping scheme for AD and NT4 domains. When you configure the back end, you must set the lowest and highest RID in the \u003Ccode class=\"literal\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : \u003Cspan class=\"emphasis\">\u003Cem>range\u003C/em>\u003C/span>\u003C/code> parameter. Samba will not map users or groups with a lower or higher RID than set in this parameter.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tAs a read-only back end, \u003Ccode class=\"literal\">rid\u003C/code> cannot assign new IDs, such as for \u003Ccode class=\"literal\">BUILTIN\u003C/code> groups. Therefore, do not use this back end for the \u003Ccode class=\"literal\">*\u003C/code> default domain.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Benefits of using the rid back end\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAll domain users and groups that have an RID within the configured range are automatically available on the domain member.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou do not need to manually assign IDs, home directories, and login shells.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Drawbacks of using the rid back end\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAll domain users get the same login shell and home directory assigned. However, you can use variables.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUser and group IDs are only the same across Samba domain members if all use the \u003Ccode class=\"literal\">rid\u003C/code> back end with the same ID range settings.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou cannot exclude individual users or groups from being available on the domain member. Only users and groups outside of the configured range are excluded.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tBased on the formulas the \u003Ccode class=\"literal\">winbindd\u003C/code> service uses to calculate the IDs, duplicate IDs can occur in multi-domain environments if objects in different domains have the same RID.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou installed Samba.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba configuration, except ID mapping, exists in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAdd an ID mapping configuration for the default domain (\u003Ccode class=\"literal\">*\u003C/code>) if it does not exist. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : backend = tdb\nidmap config * : range = \u003Cspan class=\"emphasis\">\u003Cem>10000-999999\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">rid\u003C/code> ID mapping back end for the domain:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : backend = rid\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet a range that is big enough to include all RIDs that will be assigned in the future. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span> : range = \u003Cspan class=\"emphasis\">\u003Cem>2000000-2999999\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSamba ignores users and groups whose RIDs in this domain are not within the range.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThe range must not overlap with any other domain configuration on this server. Additionally, the range must be set big enough to include all IDs assigned in the future. For further details, see \u003Ca class=\"link\" href=\"#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.1. Planning Samba ID ranges\">Planning Samba ID ranges\u003C/a>.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet a shell and home directory path that will be assigned to all mapped users. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">template shell = \u003Cspan class=\"emphasis\">\u003Cem>/bin/bash\u003C/em>\u003C/span>\ntemplate homedir = \u003Cspan class=\"emphasis\">\u003Cem>/home/%U\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.2. The * default domain\">The * default domain\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">VARIABLE SUBSTITUTIONS\u003C/code> section in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCalculation of the local ID from a RID, see the \u003Ccode class=\"literal\">idmap_rid(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.4.6. Using the autorid ID mapping back end\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can configure a Samba domain member to use the \u003Ccode class=\"literal\">autorid\u003C/code> ID mapping back end.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">autorid\u003C/code> back end works similar to the \u003Ccode class=\"literal\">rid\u003C/code> ID mapping back end, but can automatically assign IDs for different domains. This enables you to use the \u003Ccode class=\"literal\">autorid\u003C/code> back end in the following situations:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOnly for the \u003Ccode class=\"literal\">*\u003C/code> default domain\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFor the \u003Ccode class=\"literal\">*\u003C/code> default domain and additional domains, without the need to create ID mapping configurations for each of the additional domains\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOnly for specific domains\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIf you use \u003Ccode class=\"literal\">autorid\u003C/code> for the default domain, adding additional ID mapping configuration for domains is optional.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tParts of this section were adopted from the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php/Idmap_config_autorid\">idmap config autorid\u003C/a> documentation published in the Samba Wiki. License: \u003Ca class=\"link\" href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0\u003C/a>. Authors and contributors: See the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php?title=Idmap_config_autorid&amp;action=history\">history\u003C/a> tab on the Wiki page.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Benefits of using the autorid back end\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAll domain users and groups whose calculated UID and GID is within the configured range are automatically available on the domain member.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou do not need to manually assign IDs, home directories, and login shells.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNo duplicate IDs, even if multiple objects in a multi-domain environment have the same RID.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Drawbacks\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUser and group IDs are not the same across Samba domain members.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAll domain users get the same login shell and home directory assigned. However, you can use variables.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou cannot exclude individual users or groups from being available on the domain member. Only users and groups whose calculated UID or GID is outside of the configured range are excluded.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou installed Samba.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba configuration, except ID mapping, exists in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">autorid\u003C/code> ID mapping back end for the \u003Ccode class=\"literal\">*\u003C/code> default domain:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : backend = autorid\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet a range that is big enough to assign IDs for all existing and future objects. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : range = \u003Cspan class=\"emphasis\">\u003Cem>10000-999999\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSamba ignores users and groups whose calculated IDs in this domain are not within the range.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tAfter you set the range and Samba starts using it, you can only increase the upper limit of the range. Any other change to the range can result in new ID assignments, and thus in losing file ownerships.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOptionally, set a range size. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config * : rangesize = \u003Cspan class=\"emphasis\">\u003Cem>200000\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSamba assigns this number of continuous IDs for each domain’s object until all IDs from the range set in the \u003Ccode class=\"literal\">idmap config * : \u003Cspan class=\"emphasis\">\u003Cem>range\u003C/em>\u003C/span>\u003C/code> parameter are taken.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tIf you set a rangesize, you need to adapt the range accordingly. The range needs to be a multiple of the rangesize.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet a shell and home directory path that will be assigned to all mapped users. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">template shell = \u003Cspan class=\"emphasis\">\u003Cem>/bin/bash\u003C/em>\u003C/span>\ntemplate homedir = \u003Cspan class=\"emphasis\">\u003Cem>/home/%U\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOptionally, add additional ID mapping configuration for domains. If no configuration for an individual domain is available, Samba calculates the ID using the \u003Ccode class=\"literal\">autorid\u003C/code> back end settings in the previously configured \u003Ccode class=\"literal\">*\u003C/code> default domain.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThe range must not overlap with any other domain configuration on this server. Additionally, the range must be set big enough to include all IDs assigned in the future. For further details, see \u003Ca class=\"link\" href=\"#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping\" title=\"1.4.1. Planning Samba ID ranges\">Planning Samba ID ranges\u003C/a>.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">THE MAPPING FORMULAS\u003C/code> section in the \u003Ccode class=\"literal\">idmap_autorid(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rangesize\u003C/code> parameter description in the \u003Ccode class=\"literal\">idmap_autorid(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">VARIABLE SUBSTITUTIONS\u003C/code> section in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.5. Setting up Samba as an AD domain member server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you are running an AD or NT4 domain, use Samba to add your Red Hat Enterprise Linux server as a member to the domain to gain the following:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAccess domain resources on other domain members\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAuthenticate domain users to local services, such as \u003Ccode class=\"literal\">sshd\u003C/code>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tShare directories and printers hosted on the server to act as a file and print server\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.5.1. Joining a RHEL system to an AD domain\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tSamba Winbind is an alternative to the System Security Services Daemon (SSSD) for connecting a Red Hat Enterprise Linux (RHEL) system with Active Directory (AD). You can join a RHEL system to an AD domain by using \u003Ccode class=\"literal\">realmd\u003C/code> to configure Samba Winbind.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf your AD requires the deprecated RC4 encryption type for Kerberos authentication, enable support for these ciphers in RHEL:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>update-crypto-policies --set DEFAULT:AD-SUPPORT\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInstall the following packages:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install realmd oddjob-mkhomedir oddjob samba-winbind-clients \\\u003C/strong>\u003C/span>\n       \u003Cspan class=\"strong strong\">\u003Cstrong>samba-winbind samba-common-tools samba-winbind-krb5-locator krb5-workstation\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo share directories or printers on the domain member, install the \u003Ccode class=\"literal package\">samba\u003C/code> package:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install samba\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBackup the existing \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> Samba configuration file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mv /etc/samba/smb.conf /etc/samba/smb.conf.bak\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tJoin the domain. For example, to join a domain named \u003Ccode class=\"literal\">ad.example.com\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>realm join --membership-software=samba --client-software=winbind ad.example.com\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsing the previous command, the \u003Ccode class=\"literal\">realm\u003C/code> utility automatically:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCreates a \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file for a membership in the \u003Ccode class=\"literal\">ad.example.com\u003C/code> domain\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tAdds the \u003Ccode class=\"literal\">winbind\u003C/code> module for user and group lookups to the \u003Ccode class=\"literal filename\">/etc/nsswitch.conf\u003C/code> file\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tUpdates the Pluggable Authentication Module (PAM) configuration files in the \u003Ccode class=\"literal filename\">/etc/pam.d/\u003C/code> directory\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tStarts the \u003Ccode class=\"literal\">winbind\u003C/code> service and enables the service to start when the system boots\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOptionally, set an alternative ID mapping back end or customized ID mapping settings in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"#assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server\" title=\"1.4. Understanding and configuring Samba ID mapping\">Understanding and configuring Samba ID mapping\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify that the \u003Ccode class=\"literal\">winbind\u003C/code> service is running:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl status winbind\u003C/strong>\u003C/span>\n...\n   Active: active (running) since Tue 2018-11-06 19:10:40 CET; 15s ago\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tTo enable Samba to query domain user and group information, the \u003Ccode class=\"literal\">winbind\u003C/code> service must be running before you start \u003Ccode class=\"literal\">smb\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you installed the \u003Ccode class=\"literal package\">samba\u003C/code> package to share directories and printers, enable and start the \u003Ccode class=\"literal systemitem\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOptionally, if you are authenticating local logins to Active Directory, enable the \u003Ccode class=\"literal\">winbind_krb5_localauth\u003C/code> plug-in. See \u003Ca class=\"link\" href=\"#using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server\" title=\"1.5.2. Using the local authorization plug-in for MIT Kerberos\">Using the local authorization plug-in for MIT Kerberos\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay an AD user’s details, such as the AD administrator account in the AD domain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>getent passwd \"AD\\administrator\"\u003C/strong>\u003C/span>\nAD\\administrator:*:10000:10000::/home/administrator@AD:/bin/bash\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tQuery the members of the domain users group in the AD domain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>getent group \"AD\\Domain Users\"\u003C/strong>\u003C/span>\n    AD\\domain users:x:10000:user1,user2\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptionally, verify that you can use domain users and groups when you set permissions on files and directories. For example, to set the owner of the \u003Ccode class=\"literal filename\">/srv/samba/example.txt\u003C/code> file to \u003Ccode class=\"literal\">AD\\administrator\u003C/code> and the group to \u003Ccode class=\"literal\">AD\\Domain Users\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chown \"AD\\administrator\":\"AD\\Domain Users\" /srv/samba/example.txt\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify that Kerberos authentication works as expected:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOn the AD domain member, obtain a ticket for the \u003Ccode class=\"literal systemitem\">administrator@AD.EXAMPLE.COM\u003C/code> principal:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>kinit administrator@AD.EXAMPLE.COM\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tDisplay the cached Kerberos ticket:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>klist\u003C/strong>\u003C/span>\nTicket cache: KCM:0\nDefault principal: administrator@AD.EXAMPLE.COM\n\nValid starting       Expires              Service principal\n01.11.2018 10:00:00  01.11.2018 20:00:00  krbtgt/AD.EXAMPLE.COM@AD.EXAMPLE.COM\n        renew until 08.11.2018 05:00:00\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the available domains:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wbinfo --all-domains\u003C/strong>\u003C/span>\nBUILTIN\nSAMBA-SERVER\nAD\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIf you do not want to use the deprecated RC4 ciphers, you can enable the AES encryption type in AD. See\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">Enabling the AES encryption type in Active Directory using a GPO\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">realm(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.5.2. Using the local authorization plug-in for MIT Kerberos\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">winbind\u003C/code> service provides Active Directory users to the domain member. In certain situations, administrators want to enable domain users to authenticate to local services, such as an SSH server, which are running on the domain member. When using Kerberos to authenticate the domain users, enable the \u003Ccode class=\"literal\">winbind_krb5_localauth\u003C/code> plug-in to correctly map Kerberos principals to Active Directory accounts through the \u003Ccode class=\"literal\">winbind\u003C/code> service.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, if the \u003Ccode class=\"literal\">sAMAccountName\u003C/code> attribute of an Active Directory user is set to \u003Ccode class=\"literal\">EXAMPLE\u003C/code> and the user tries to log with the user name lowercase, Kerberos returns the user name in upper case. As a consequence, the entries do not match and authentication fails.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tUsing the \u003Ccode class=\"literal\">winbind_krb5_localauth\u003C/code> plug-in, the account names are mapped correctly. Note that this only applies to GSSAPI authentication and not for getting the initial ticket granting ticket (TGT).\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is configured as a member of an Active Directory.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRed Hat Enterprise Linux authenticates log in attempts against Active Directory.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">winbind\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/krb5.conf\u003C/code> file and add the following section:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cpre class=\"literallayout\">[plugins]\nlocalauth = {\n     module = winbind:/usr/lib64/samba/krb5/winbind_krb5_localauth.so\n     enable_only = winbind\n}\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">winbind_krb5_localauth(8)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.6. Setting up Samba on an IdM domain member\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tYou can set up Samba on a host that is joined to a Red Hat Identity Management (IdM) domain. Users from IdM and also, if available, from trusted Active Directory (AD) domains, can access shares and printer services provided by Samba.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tUsing Samba on an IdM domain member is an unsupported Technology Preview feature and contains certain limitations. For example, IdM trust controllers do not support the Active Directory Global Catalog service, and they do not support resolving IdM groups using the Distributed Computing Environment / Remote Procedure Calls (DCE/RPC) protocols. As a consequence, AD users can only access Samba shares and printers hosted on IdM clients when logged in to other IdM clients; AD users logged into a Windows machine can not access Samba shares hosted on an IdM domain member.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tCustomers deploying Samba on IdM domain members are encouraged to provide feedback to Red Hat.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tIf users from AD domains need to access shares and printer services provided by Samba, ensure the AES encryption type is enabled is AD. For more information, see \u003Ca class=\"link\" href=\"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/installing_identity_management/index#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">Enabling the AES encryption type in Active Directory using a GPO\u003C/a>.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe host is joined as a client to the IdM domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tBoth the IdM servers and the client must run on RHEL 9.0 or later.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.6.1. Preparing the IdM domain for installing Samba on domain members\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tBefore you can set up Samba on an IdM client, you must prepare the IdM domain using the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> utility on an IdM server.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tAny system where you run the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> command automatically becomes an AD trust controller. However, you must run \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> only once on an IdM server.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIdM server is installed.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou need root privileges to install packages and restart IdM services.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInstall the required packages:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install ipa-server-trust-ad samba-client\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAuthenticate as the IdM administrative user:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>kinit admin\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRun the \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> utility:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-adtrust-install\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe DNS service records are created automatically if IdM was installed with an integrated DNS server.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you installed IdM without an integrated DNS server, \u003Ccode class=\"literal\">ipa-adtrust-install\u003C/code> prints a list of service records that you must manually add to DNS before you can continue.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe script prompts you that the \u003Ccode class=\"literal\">/etc/samba/smb.conf\u003C/code> already exists and will be rewritten:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">WARNING: The smb.conf already exists. Running ipa-adtrust-install will break your existing Samba configuration.\n\nDo you wish to continue? [no]: \u003Ccode class=\"literal command\">yes\u003C/code>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe script prompts you to configure the \u003Ccode class=\"literal\">slapi-nis\u003C/code> plug-in, a compatibility plug-in that allows older Linux clients to work with trusted users:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Do you want to enable support for trusted domains in Schema Compatibility plugin?\nThis will allow clients older than SSSD 1.9 and non-Linux clients to work with trusted users.\n\nEnable trusted domains support in slapi-nis? [no]: \u003Ccode class=\"literal command\">yes\u003C/code>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou are prompted to run the SID generation task to create a SID for any existing users:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">Do you want to run the ipa-sidgen task? [no]: \u003Ccode class=\"literal command\">yes\u003C/code>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThis is a resource-intensive task, so if you have a high number of users, you can run this at another time.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>(Optional)\u003C/strong>\u003C/span> By default, the Dynamic RPC port range is defined as \u003Ccode class=\"literal\">49152-65535\u003C/code> for Windows Server 2008 and later. If you need to define a different Dynamic RPC port range for your environment, configure Samba to use different ports and open those ports in your firewall settings. The following example sets the port range to \u003Ccode class=\"literal\">55000-65000\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>net conf setparm global 'rpc server dynamic port range' 55000-65000\u003C/strong>\u003C/span>\n[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --add-port=55000-65000/tcp\u003C/strong>\u003C/span>\n[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --runtime-to-permanent\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal systemitem\">ipa\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipactl restart\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal systemitem\">smbclient\u003C/code> utility to verify that Samba responds to Kerberos authentication from the IdM side:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@ipaserver ~]# \u003Ccode class=\"literal command\">smbclient -L ipaserver.idm.example.com -U \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span> --use-kerberos=required\u003C/code>\nlp_load_ex: changing to config backend registry\n    Sharename       Type      Comment\n    ---------       ----      -------\n    IPC$            IPC       IPC Service (Samba 4.15.2)\n...\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"installing-and-configuring-samba-on-an-idm-client_setting-up-samba-on-an-idm-domain-member\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.6.2. Installing and configuring a Samba server on an IdM client\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can install and configure Samba on a client enrolled in an IdM domain.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tBoth the IdM servers and the client must run on RHEL 9.0 or later.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe IdM domain is prepared as described in \u003Ca class=\"link\" href=\"#preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member\" title=\"1.6.1. Preparing the IdM domain for installing Samba on domain members\">Preparing the IdM domain for installing Samba on domain members\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tIf IdM has a trust configured with AD, enable the AES encryption type for Kerberos. For example, use a group policy object (GPO) to enable the AES encryption type. For details, see \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_trust_between_idm_and_ad/ensuring-support-for-common-encryption-types-in-ad-and-rhel_installing-trust-between-idm-and-ad#enabling-the-aes-encryption-type-in-active-directory-using-a-gpo_ensuring-support-for-common-encryption-types-in-ad-and-rhel\">Enabling AES encryption in Active Directory using a GPO\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tInstall the \u003Ccode class=\"literal package\">ipa-client-samba\u003C/code> package:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install ipa-client-samba\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">ipa-client-samba\u003C/code> utility to prepare the client and create an initial Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-client-samba\u003C/strong>\u003C/span>\nSearching for IPA server...\nIPA server: DNS discovery\nChosen IPA master: \u003Cspan class=\"emphasis\">\u003Cem>idm_server.idm.example.com\u003C/em>\u003C/span>\nSMB principal to be created: cifs/\u003Cspan class=\"emphasis\">\u003Cem>idm_client.idm.example.com\u003C/em>\u003C/span>@\u003Cspan class=\"emphasis\">\u003Cem>IDM.EXAMPLE.COM\u003C/em>\u003C/span>\nNetBIOS name to be used: \u003Cspan class=\"emphasis\">\u003Cem>IDM_CLIENT\u003C/em>\u003C/span>\nDiscovered domains to use:\n\n Domain name: \u003Cspan class=\"emphasis\">\u003Cem>idm.example.com\u003C/em>\u003C/span>\nNetBIOS name: \u003Cspan class=\"emphasis\">\u003Cem>IDM\u003C/em>\u003C/span>\n         SID: \u003Cspan class=\"emphasis\">\u003Cem>S-1-5-21-525930803-952335037-206501584\u003C/em>\u003C/span>\n    ID range: \u003Cspan class=\"emphasis\">\u003Cem>212000000 - 212199999\u003C/em>\u003C/span>\n\n Domain name: \u003Cspan class=\"emphasis\">\u003Cem>ad.example.com\u003C/em>\u003C/span>\nNetBIOS name: \u003Cspan class=\"emphasis\">\u003Cem>AD\u003C/em>\u003C/span>\n         SID: None\n    ID range: \u003Cspan class=\"emphasis\">\u003Cem>1918400000 - 1918599999\u003C/em>\u003C/span>\n\nContinue to configure the system with these values? [no]: \u003Cspan class=\"strong strong\">\u003Cstrong>yes\u003C/strong>\u003C/span>\nSamba domain member is configured. Please check configuration at /etc/samba/smb.conf and start smb and winbind services\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tBy default, \u003Ccode class=\"literal\">ipa-client-samba\u003C/code> automatically adds the \u003Ccode class=\"literal systemitem\">[homes]\u003C/code> section to the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file that dynamically shares a user’s home directory when the user connects. If users do not have home directories on this server, or if you do not want to share them, remove the following lines from \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[homes]\n    read only = no\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tShare directories and printers. For details, see:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server\" title=\"1.7. Setting up a Samba file share that uses POSIX ACLs\">Setting up a Samba file share that uses POSIX ACLs\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server\" title=\"1.9. Setting up a share that uses Windows ACLs\">Setting up a share that uses Windows ACLs\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server\" title=\"1.15. Setting up Samba as a print server\">Setting up Samba as a print server\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOpen the ports required for a Samba client in the local firewall:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service=samba-client\u003C/strong>\u003C/span>\n[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal systemitem\">smb\u003C/code> and \u003Ccode class=\"literal systemitem\">winbind\u003C/code> services:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now smb winbind\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tRun the following verification step on a different IdM domain member that has the \u003Ccode class=\"literal package\">samba-client\u003C/code> package installed:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the shares on the Samba server using Kerberos authentication:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Ccode class=\"literal command\">smbclient -L \u003Cspan class=\"emphasis\">\u003Cem>idm_client.idm.example.com\u003C/em>\u003C/span> -U \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span> --use-kerberos=required\u003C/code>\nlp_load_ex: changing to config backend registry\n\n    Sharename       Type      Comment\n    ---------       ----      -------\n    \u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span>         Disk\n    IPC$            IPC       IPC Service (Samba 4.15.2)\n...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ipa-client-samba(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"manually-adding-an-id-mapping-configuration-if-idm-trusts-a-new-domain_setting-up-samba-on-an-idm-domain-member\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.6.3. Manually adding an ID mapping configuration if IdM trusts a new domain\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tSamba requires an ID mapping configuration for each domain from which users access resources. On an existing Samba server running on an IdM client, you must manually add an ID mapping configuration after the administrator added a new trust to an Active Directory (AD) domain.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou configured Samba on an IdM client. Afterward, a new trust was added to IdM.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe DES and RC4 encryption types for Kerberos must be disabled in the trusted AD domain. For security reasons, RHEL 9 does not support these weak encryption types.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAuthenticate using the host’s keytab:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>kinit -k\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal command\">ipa idrange-find\u003C/code> command to display both the base ID and the ID range size of the new domain. For example, the following command displays the values for the \u003Ccode class=\"literal systemitem\">ad.example.com\u003C/code> domain:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>ipa idrange-find --name=\"\u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM\u003C/em>\u003C/span>_id_range\" --raw\u003C/strong>\u003C/span>\n---------------\n1 range matched\n---------------\n  cn: \u003Cspan class=\"emphasis\">\u003Cem>AD.EXAMPLE.COM\u003C/em>\u003C/span>_id_range\n  ipabaseid: \u003Cspan class=\"emphasis\">\u003Cem>1918400000\u003C/em>\u003C/span>\n  ipaidrangesize: \u003Cspan class=\"emphasis\">\u003Cem>200000\u003C/em>\u003C/span>\n  ipabaserid: 0\n  ipanttrusteddomainsid: \u003Cspan class=\"emphasis\">\u003Cem>S-1-5-21-968346183-862388825-1738313271\u003C/em>\u003C/span>\n  iparangetype: ipa-ad-trust\n----------------------------\nNumber of entries returned 1\n----------------------------\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tYou need the values from the \u003Ccode class=\"literal parameter\">ipabaseid\u003C/code> and \u003Ccode class=\"literal parameter\">ipaidrangesize\u003C/code> attributes in the next steps.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo calculate the highest usable ID, use the following formula:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">maximum_range = ipabaseid + ipaidrangesize - 1\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWith the values from the previous step, the highest usable ID for the \u003Ccode class=\"literal systemitem\">ad.example.com\u003C/code> domain is \u003Ccode class=\"literal command\">1918599999\u003C/code> (1918400000 + 200000 - 1).\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file, and add the ID mapping configuration for the domain to the \u003Ccode class=\"literal parameter\">[global]\u003C/code> section:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">idmap config \u003Cspan class=\"emphasis\">\u003Cem>AD\u003C/em>\u003C/span> : range = \u003Cspan class=\"emphasis\">\u003Cem>1918400000\u003C/em>\u003C/span> - \u003Cspan class=\"emphasis\">\u003Cem>1918599999\u003C/em>\u003C/span>\nidmap config \u003Cspan class=\"emphasis\">\u003Cem>AD\u003C/em>\u003C/span> : backend = sss\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSpecify the value from \u003Ccode class=\"literal parameter\">ipabaseid\u003C/code> attribute as the lowest and the computed value from the previous step as the highest value of the range.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal systemitem\">smb\u003C/code> and \u003Ccode class=\"literal\">winbind\u003C/code> services:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@idm_client]# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb winbind\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the shares on the Samba server using Kerberos authentication:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Ccode class=\"literal command\">smbclient -L \u003Cspan class=\"emphasis\">\u003Cem>idm_client.idm.example.com\u003C/em>\u003C/span> -U \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span> --use-kerberos=required\u003C/code>\nlp_load_ex: changing to config backend registry\n\n    Sharename       Type      Comment\n    ---------       ----      -------\n    \u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span>         Disk\n    IPC$            IPC       IPC Service (Samba 4.15.2)\n...\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.6.4. Additional resources\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/assembly_installing-an-idm-client_installing-identity-management\">Installing an Identity Management client\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.7. Setting up a Samba file share that uses POSIX ACLs\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tAs a Linux service, Samba supports shares with POSIX ACLs. They enable you to manage permissions locally on the Samba server using utilities, such as \u003Ccode class=\"literal\">chmod\u003C/code>. If the share is stored on a file system that supports extended attributes, you can define ACLs with multiple users and groups.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tIf you need to use fine-granular Windows ACLs instead, see \u003Ca class=\"link\" href=\"#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server\" title=\"1.9. Setting up a share that uses Windows ACLs\">Setting up a share that uses Windows ACLs\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tParts of this section were adopted from the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php/Setting_up_a_Share_Using_POSIX_ACLs\">Setting up a Share Using POSIX ACLs\u003C/a> documentation published in the Samba Wiki. License: \u003Ca class=\"link\" href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0\u003C/a>. Authors and contributors: See the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php?title=Setting_up_a_Share_Using_POSIX_ACLs&amp;action=history\">history\u003C/a> tab on the Wiki page.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_adding-a-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.1. Adding a share that uses POSIX ACLs\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can create a share named \u003Ccode class=\"literal\">example\u003C/code> that provides the content of the \u003Ccode class=\"literal filename\">/srv/samba/example/\u003C/code> directory and uses POSIX ACLs.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tSamba has been set up in one of the following modes:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server\" title=\"1.3. Setting up Samba as a standalone server\">Standalone server\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server\" title=\"1.5. Setting up Samba as an AD domain member server\">Domain member\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the folder if it does not exist. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you run SELinux in \u003Ccode class=\"literal\">enforcing\u003C/code> mode, set the \u003Ccode class=\"literal\">samba_share_t\u003C/code> context on the directory:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>semanage fcontext -a -t samba_share_t \"/srv/samba/example(/.*)?\"\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>restorecon -Rv /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet file system ACLs on the directory. For details, see:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls\" title=\"1.7.2. Setting standard Linux ACLs on a Samba share that uses POSIX ACLs\">Setting standard ACLs on a Samba Share that uses POSIX ACLs\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls\" title=\"1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs\">Setting extended ACLs on a share that uses POSIX ACLs\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the example share to the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file. For example, to add the share write-enabled:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[example]\n\tpath = /srv/samba/example/\n\tread only = no\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tRegardless of the file system ACLs; if you do not set \u003Ccode class=\"literal\">read only = no\u003C/code>, Samba shares the directory in read-only mode.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOpen the required ports and reload the firewall configuration using the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> utility:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service=samba\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.2. Setting standard Linux ACLs on a Samba share that uses POSIX ACLs\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe standard ACLs on Linux support setting permissions for one owner, one group, and for all other undefined users. You can use the \u003Ccode class=\"literal\">chown\u003C/code>, \u003Ccode class=\"literal\">chgrp\u003C/code>, and \u003Ccode class=\"literal\">chmod\u003C/code> utility to update the ACLs. If you require precise control, then you use the more complex POSIX ACLs, see\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls\" title=\"1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs\">Setting extended ACLs on a Samba share that uses POSIX ACLs\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following procedure sets the owner of the \u003Ccode class=\"literal filename\">/srv/samba/example/\u003C/code> directory to the \u003Ccode class=\"literal\">root\u003C/code> user, grants read and write permissions to the \u003Ccode class=\"literal\">Domain Users\u003C/code> group, and denies access to all other users.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba share on which you want to set the ACLs exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\t\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chown root:\"Domain Users\" /srv/samba/example/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 2770 /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\n\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tEnabling the set-group-ID (SGID) bit on a directory automatically sets the default group for all new files and subdirectories to that of the directory group, instead of the usual behavior of setting it to the primary group of the user who created the new directory entry.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">chown(1)\u003C/code> and \u003Ccode class=\"literal\">chmod(1)\u003C/code> man pages\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf the file system the shared directory is stored on supports extended ACLs, you can use them to set complex permissions. Extended ACLs can contain permissions for multiple users and groups.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tExtended POSIX ACLs enable you to configure complex ACLs with multiple users and groups. However, you can only set the following permissions:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNo access\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRead access\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tWrite access\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you require the fine-granular Windows permissions, such as \u003Ccode class=\"literal\">Create folder / append data\u003C/code>, configure the share to use Windows ACLs.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tSee \u003Ca class=\"link\" href=\"#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server\" title=\"1.9. Setting up a share that uses Windows ACLs\">Setting up a share that uses Windows ACLs\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following procedure shows how to enable extended ACLs on a share. Additionally, it contains an example about setting extended ACLs.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba share on which you want to set the ACLs exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable the following parameter in the share’s section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file to enable ACL inheritance of extended ACLs:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">inherit acls = yes\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see the parameter description in the \u003Ccode class=\"literal\">smb.conf(5\u003C/code>) man page.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet the ACLs on the directory. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140443012996096\">\u003Cp class=\"title\">\u003Cstrong>Example 1.2. Setting Extended ACLs\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\t\t\tThe following procedure sets read, write, and execute permissions for the \u003Ccode class=\"literal\">Domain Admins\u003C/code> group, read, and execute permissions for the \u003Ccode class=\"literal\">Domain Users\u003C/code> group, and deny access to everyone else on the \u003Ccode class=\"literal filename\">/srv/samba/example/\u003C/code> directory:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tDisable auto-granting permissions to the primary group of user accounts:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m group::--- /srv/samba/example/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m default:group::--- /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tThe primary group of the directory is additionally mapped to the dynamic \u003Ccode class=\"literal\">CREATOR GROUP\u003C/code> principal. When you use extended POSIX ACLs on a Samba share, this principal is automatically added and you cannot remove it.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tSet the permissions on the directory:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tGrant read, write, and execute permissions to the \u003Ccode class=\"literal\">Domain Admins\u003C/code> group:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m group:\"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Admins\":rwx /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tGrant read and execute permissions to the \u003Ccode class=\"literal\">Domain Users\u003C/code> group:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m group:\"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Users\":r-x /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\t\tSet permissions for the \u003Ccode class=\"literal\">other\u003C/code> ACL entry to deny access to users that do not match the other ACL entries:\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -R -m other::--- /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tThese settings apply only to this directory. In Windows, these ACLs are mapped to the \u003Ccode class=\"literal\">This folder only\u003C/code> mode.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tTo enable the permissions set in the previous step to be inherited by new file system objects created in this directory:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m default:group:\"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Admins\":rwx /srv/samba/example/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m default:group:\"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Users\":r-x /srv/samba/example/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>setfacl -m default:other::--- /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tWith these settings, the \u003Ccode class=\"literal\">This folder only\u003C/code> mode for the principals is now set to \u003Ccode class=\"literal\">This folder, subfolders, and files\u003C/code>.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\t\t\t\tSamba maps the permissions set in the procedure to the following Windows ACLs:\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"table_example_proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-acls-on-a-share-that-uses-posix-acls\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 40%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 20%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 40%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443012110960\" scope=\"col\">Principal\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443012109872\" scope=\"col\">Access\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443012108784\" scope=\"col\">Applies to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Domain\u003C/em>\u003C/span>\\Domain Admins\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder, subfolders, and files\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>Domain\u003C/em>\u003C/span>\\Domain Users\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tRead &amp; execute\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder, subfolders, and files\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Everyone\u003C/code> \u003Ca href=\"#ftn.idm140443014062720\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"idm140443014062720\">[a]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tNone\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder, subfolders, and files\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>owner\u003C/em>\u003C/span> (\u003Cspan class=\"emphasis\">\u003Cem>Unix User\\owner\u003C/em>\u003C/span>) \u003Ca href=\"#ftn.idm140443013057088\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"idm140443013057088\">[b]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Cspan class=\"emphasis\">\u003Cem>primary_group\u003C/em>\u003C/span> (\u003Cspan class=\"emphasis\">\u003Cem>Unix User\\primary_group\u003C/em>\u003C/span>) \u003Ca href=\"#ftn.idm140443013050080\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"idm140443013050080\">[c]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tNone\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CREATOR OWNER\u003C/code> \u003Ca href=\"#ftn.idm140443038805872\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"idm140443038805872\">[d]\u003C/sup>\u003C/a> \u003Ca href=\"#ftn.sambawinaclcreatorowner\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"sambawinaclcreatorowner\">[e]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tSubfolders and files only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012110960\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CREATOR GROUP\u003C/code> \u003Ca href=\"#ftn.sambawinaclcreatorowner\" class=\"footnoteref\">\u003Csup class=\"footnoteref\">[e]\u003C/sup>\u003C/a> \u003Ca href=\"#ftn.idm140443038797136\" class=\"footnote\">\u003Csup class=\"footnote\" id=\"idm140443038797136\">[f]\u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012109872\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tNone\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443012108784\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tSubfolders and files only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003Ctbody class=\"footnotes\">\u003Ctr>\u003Ctd colspan=\"3\">\u003Cdiv id=\"ftn.idm140443014062720\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#idm140443014062720\" class=\"simpara\">\u003Csup class=\"simpara\">[a] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSamba maps the permissions for this principal from the \u003Ccode class=\"literal\">other\u003C/code> ACL entry.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003Cdiv id=\"ftn.idm140443013057088\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#idm140443013057088\" class=\"simpara\">\u003Csup class=\"simpara\">[b] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSamba maps the owner of the directory to this entry.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003Cdiv id=\"ftn.idm140443013050080\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#idm140443013050080\" class=\"simpara\">\u003Csup class=\"simpara\">[c] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSamba maps the primary group of the directory to this entry.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003Cdiv id=\"ftn.idm140443038805872\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#idm140443038805872\" class=\"simpara\">\u003Csup class=\"simpara\">[d] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\tOn new file system objects, the creator inherits automatically the permissions of this principal.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003Cdiv id=\"ftn.sambawinaclcreatorowner\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#sambawinaclcreatorowner\" class=\"simpara\">\u003Csup class=\"simpara\">[e] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\tConfiguring or removing these principals from the ACLs not supported on shares that use POSIX ACLs.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003Cdiv id=\"ftn.idm140443038797136\" class=\"footnote\">\u003Cdiv class=\"para\">\u003Ca href=\"#idm140443038797136\" class=\"simpara\">\u003Csup class=\"simpara\">[f] \u003C/sup>\u003C/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\tOn new file system objects, the creator’s primary group inherits automatically the permissions of this principal.\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/div>\u003C/div>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/div>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.8. Setting permissions on a share that uses POSIX ACLs\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tOptionally, to limit or grant access to a Samba share, you can set certain parameters in the share’s section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tShare-based permissions manage if a user, group, or host is able to access a share. These settings do not affect file system ACLs.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\tUse share-based settings to restrict access to shares, for example, to deny access from specific hosts.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tA share with POSIX ACLs has been set up.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"proc_configuring-user-and-group-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.1. Configuring user and group-based share access\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tUser and group-based access control enables you to grant or deny access to a share for certain users and groups.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba share on which you want to set user or group-based access exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, to enable all members of the \u003Ccode class=\"literal\">Domain Users\u003C/code> group to access a share while access is denied for the \u003Ccode class=\"literal\">user\u003C/code> account, add the following parameters to the share’s configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">valid users = +\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\\"Domain Users\"\ninvalid users = \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\user\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">invalid users\u003C/code> parameter has a higher priority than the \u003Ccode class=\"literal\">valid users\u003C/code> parameter. For example, if the \u003Ccode class=\"literal\">user\u003C/code> account is a member of the \u003Ccode class=\"literal\">Domain Users\u003C/code> group, access is denied to this account when you use the previous example.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_configuring-host-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.8.2. Configuring host-based share access\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tHost-based access control enables you to grant or deny access to a share based on client’s host names, IP addresses, or IP range.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following procedure explains how to enable the \u003Ccode class=\"literal\">127.0.0.1\u003C/code> IP address, the \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code> IP range, and the \u003Ccode class=\"literal\">client1.example.com\u003C/code> host to access a share, and additionally deny access for the \u003Ccode class=\"literal\">client2.example.com\u003C/code> host:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba share on which you want to set host-based access exists.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the following parameters to the configuration of the share in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">hosts allow = 127.0.0.1 192.0.2.0/24 client1.example.com\nhosts deny = client2.example.com\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">hosts deny\u003C/code> parameter has a higher priority than \u003Ccode class=\"literal\">hosts allow\u003C/code>. For example, if \u003Ccode class=\"literal\">client1.example.com\u003C/code> resolves to an IP address that is listed in the \u003Ccode class=\"literal\">hosts allow\u003C/code> parameter, access for this host is denied.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.9. Setting up a share that uses Windows ACLs\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tSamba supports setting Windows ACLs on shares and file system object. This enables you to:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tUse the fine-granular Windows ACLs\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tManage share permissions and file system ACLs using Windows\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tAlternatively, you can configure a share to use POSIX ACLs.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server\" title=\"1.7. Setting up a Samba file share that uses POSIX ACLs\">Setting up a Samba file share that uses POSIX ACLs\u003C/a>.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tParts of this section were adopted from the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php/Setting_up_a_Share_Using_Windows_ACLs\">Setting up a Share Using Windows ACLs\u003C/a> documentation published in the Samba Wiki. License: \u003Ca class=\"link\" href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0\u003C/a>. Authors and contributors: See the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php?title=Setting_up_a_Share_Using_Windows_ACLs&amp;action=history\">history\u003C/a> tab on the Wiki page.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.1. Granting the SeDiskOperatorPrivilege privilege\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tOnly users and groups having the \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> privilege granted can configure permissions on shares that use Windows ACLs.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, to grant the \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> privilege to the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Admins\u003C/code> group:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights grant \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Admins\" SeDiskOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nSuccessfully granted rights.\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tIn a domain environment, grant \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> to a domain group. This enables you to centrally manage the privilege by updating a user’s group membership.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list all users and groups having \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> granted:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights list privileges SeDiskOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter administrator's password:\nSeDiskOperatorPrivilege:\n  BUILTIN\\Administrators\n  \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\Domain Admins\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-windows-acl-support_assembly_setting-up-a-share-that-uses-windows-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.2. Enabling Windows ACL support\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo configure shares that support Windows ACLs, you must enable this feature in Samba.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tA user share is configured on the Samba server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo enable it globally for all shares, add the following settings to the \u003Ccode class=\"literal\">[global]\u003C/code> section of the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">vfs objects = acl_xattr\nmap acl inherit = yes\nstore dos attributes = yes\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAlternatively, you can enable Windows ACL support for individual shares, by adding the same parameters to a share’s section instead.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_adding-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.3. Adding a share that uses Windows ACLs\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tYou can create a share named \u003Ccode class=\"literal\">example\u003C/code> that shares the content of the \u003Ccode class=\"literal filename\">/srv/samba/example/\u003C/code> directory and uses Windows ACLs.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the folder if it does not exists. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you run SELinux in \u003Ccode class=\"literal\">enforcing\u003C/code> mode, set the \u003Ccode class=\"literal\">samba_share_t\u003C/code> context on the directory:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>semanage fcontext -a -t samba_share_t \"/srv/samba/example(/.\u003C/strong>\u003C/span>)?\"*\n# \u003Cspan class=\"strong strong\">\u003Cstrong>restorecon -Rv /srv/samba/example/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the example share to the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file. For example, to add the share write-enabled:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[example]\n\tpath = /srv/samba/example/\n\tread only = no\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tRegardless of the file system ACLs; if you do not set \u003Ccode class=\"literal\">read only = no\u003C/code>, Samba shares the directory in read-only mode.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you have not enabled Windows ACL support in the \u003Ccode class=\"literal\">[global]\u003C/code> section for all shares, add the following parameters to the \u003Ccode class=\"literal\">[example]\u003C/code> section to enable this feature for this share:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">vfs objects = acl_xattr\nmap acl inherit = yes\nstore dos attributes = yes\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOpen the required ports and reload the firewall configuration using the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> utility:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service=samba\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_managing-share-permissions-and-file-system-acls-of-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.9.4. Managing share permissions and file system ACLs of a share that uses Windows ACLs\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo manage share permissions and file system ACLs on a Samba share that uses Windows ACLs, use a Windows applications, such as \u003Ccode class=\"literal\">Computer Management\u003C/code>. For details, see the Windows documentation. Alternatively, use the \u003Ccode class=\"literal\">smbcacls\u003C/code> utility to manage ACLs.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tTo modify the file system permissions from Windows, you must use an account that has the \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> privilege granted.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/assembly_using-samba-as-a-server_deploying-different-types-of-servers#assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server\">Managing ACLs on an SMB share using smbcacls\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/assembly_using-samba-as-a-server_deploying-different-types-of-servers#proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls\">Grating the SeDiskOperatorPrivilege privilege\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.10. Managing ACLs on an SMB share using smbcacls\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe \u003Ccode class=\"literal\">smbcacls\u003C/code> utility can list, set, and delete ACLs of files and directories stored on an SMB share. You can use \u003Ccode class=\"literal\">smbcacls\u003C/code> to manage file system ACLs:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn a local or remote Samba server that uses advanced Windows ACLs or POSIX ACLs\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tOn Red Hat Enterprise Linux to remotely manage ACLs on a share hosted on Windows\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.1. Access control entries\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tEach ACL entry of a file system object contains Access Control Entries (ACE) in the following format:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"emphasis\">\u003Cem>security_principal\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>access_right\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>inheritance_information\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>permissions\u003C/em>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140443016980048\">\u003Cp class=\"title\">\u003Cstrong>Example 1.3. Access control entries\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tIf the \u003Ccode class=\"literal\">AD\\Domain Users\u003C/code> group has \u003Ccode class=\"literal\">Modify\u003C/code> permissions that apply to \u003Ccode class=\"literal\">This folder, subfolders, and files\u003C/code> on Windows, the ACL contains the following ACE:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">AD\\Domain Users:ALLOWED/OI|CI/CHANGE\u003C/pre>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tAn ACE contains the following parts:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Security principal\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tThe security principal is the user, group, or SID the permissions in the ACL are applied to.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Access right\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\t\tDefines if access to an object is granted or denied. The value can be \u003Ccode class=\"literal\">ALLOWED\u003C/code> or \u003Ccode class=\"literal\">DENIED\u003C/code>.\n\t\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Inheritance information\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThe following values exist:\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140443012077024\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 1.1. Inheritance settings\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 14%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 29%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 57%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443012071264\" scope=\"col\">Value\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443012070176\" scope=\"col\">Description\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443012069088\" scope=\"col\">Maps to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012071264\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OI\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012070176\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tObject Inherit\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012069088\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder and files\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012071264\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CI\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012070176\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tContainer Inherit\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012069088\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder and subfolders\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012071264\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">IO\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012070176\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tInherit Only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012069088\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThe ACE does not apply to the current file or directory\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012071264\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ID\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012070176\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tInherited\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012069088\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThe ACE was inherited from the parent directory\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAdditionally, the values can be combined as follows:\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"idm140443012233072\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 1.2. Inheritance settings combinations\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 67%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443012228272\" scope=\"col\">Value combinations\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443012227184\" scope=\"col\">Maps to the Windows \u003Ccode class=\"literal\">Applies to\u003C/code> setting\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012228272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OI|CI\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012227184\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tThis folder, subfolders, and files\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012228272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OI|CI|IO\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012227184\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tSubfolders and files only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012228272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CI|IO\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012227184\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tSubfolders only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012228272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OI|IO\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443012227184\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\tFiles only\n\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Permissions\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tThis value can be either a hex value that represents one or more Windows permissions or an \u003Ccode class=\"literal\">smbcacls\u003C/code> alias:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tA hex value that represents one or more Windows permissions.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tThe following table displays the advanced Windows permissions and their corresponding value in hex format:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"table_windows-permissions-hex-values_assembly_managing-acls-on-an-smb-share-using-smbcacls\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 1.3. Windows permissions and their corresponding smbcacls value in hex format\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 67%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 33%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443015041200\" scope=\"col\">Windows permissions\u003C/th>\u003Cth style=\"text-align: left; vertical-align: top; \" id=\"idm140443015040112\" scope=\"col\">Hex values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x001F01FF\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTraverse folder / execute file\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100020\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tList folder / read data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100001\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRead attributes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100080\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRead extended attributes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100008\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCreate files / write data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100002\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCreate folders / append data\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100004\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tWrite attributes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100100\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tWrite extended attributes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100010\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete subfolders and files\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00100040\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00110000\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRead permissions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00120000\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChange permissions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00140000\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015041200\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTake ownership\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd style=\"text-align: left; vertical-align: top; \" headers=\"idm140443015040112\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">0x00180000\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tMultiple permissions can be combined as a single hex value using the bit-wise \u003Ccode class=\"literal\">OR\u003C/code> operation.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\t\tFor details, see \u003Ca class=\"link\" href=\"#con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls\" title=\"1.10.3. ACE mask calculation\">ACE mask calculation\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAn \u003Ccode class=\"literal\">smbcacls\u003C/code> alias. The following table displays the available aliases:\n\t\t\t\t\t\t\u003C/p>\u003Crh-table id=\"table_smbcacls-aliases_assembly_managing-acls-on-an-smb-share-using-smbcacls\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 1.4. Existing smbcacls aliases and their corresponding Windows permission\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 33%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 67%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443020141744\" scope=\"col\">\u003Ccode class=\"literal\">smbcacls\u003C/code> alias\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443017157696\" scope=\"col\">Maps to Windows permission\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">R\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tRead\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">READ\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tRead &amp; execute\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">W\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tSpecial:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tCreate files / write data\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tCreate folders / append data\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tWrite attributes\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tWrite extended attributes\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRead permissions\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">D\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">P\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tChange permissions\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">O\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tTake ownership\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">X\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tTraverse / execute\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CHANGE\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tModify\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443020141744\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">FULL\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017157696\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tYou can combine single-letter aliases when you set permissions. For example, you can set \u003Ccode class=\"literal\">RD\u003C/code> to apply the Windows permission \u003Ccode class=\"literal\">Read\u003C/code> and \u003Ccode class=\"literal\">Delete\u003C/code>. However, you can neither combine multiple non-single-letter aliases nor combine aliases and hex values.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_displaying-acls-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.2. Displaying ACLs using smbcacls\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo display ACLs on an SMB share, use the \u003Ccode class=\"literal\">smbcacls\u003C/code> utility. If you run \u003Ccode class=\"literal\">smbcacls\u003C/code> without any operation parameter, such as \u003Ccode class=\"literal\">--add\u003C/code>, the utility displays the ACLs of a file system object.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tFor example, to list the ACLs of the root directory of the \u003Ccode class=\"literal\">//server/example\u003C/code> share:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cpre class=\"literallayout\"># \u003Ccode class=\"literal command\">smbcacls //server/example / -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/code>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nREVISION:1\nCONTROL:SR|PD|DI|DP\nOWNER:AD\\Administrators\nGROUP:AD\\Domain Users\nACL:AD\\Administrator:ALLOWED/OI|CI/FULL\nACL:AD\\Domain Users:ALLOWED/OI|CI/CHANGE\nACL:AD\\Domain Guests:ALLOWED/OI|CI/0x00100021\u003C/pre>\u003Cp>\n\t\t\t\t\tThe output of the command displays:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">REVISION\u003C/code>: The internal Windows NT ACL revision of the security descriptor\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CONTROL\u003C/code>: Security descriptor control\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">OWNER\u003C/code>: Name or SID of the security descriptor’s owner\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">GROUP\u003C/code>: Name or SID of the security descriptor’s group\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ACL\u003C/code> entries. For details, see \u003Ca class=\"link\" href=\"#con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls\" title=\"1.10.1. Access control entries\">Access control entries\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.3. ACE mask calculation\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIn most situations, when you add or update an ACE, you use the \u003Ccode class=\"literal\">smbcacls\u003C/code> aliases listed in \u003Ca class=\"link\" href=\"#table_smbcacls-aliases_assembly_managing-acls-on-an-smb-share-using-smbcacls\" title=\"Table 1.4. Existing smbcacls aliases and their corresponding Windows permission\">Existing smbcacls aliases and their corresponding Windows permission\u003C/a>.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tHowever, if you want to set advanced Windows permissions as listed in \u003Ca class=\"link\" href=\"#table_windows-permissions-hex-values_assembly_managing-acls-on-an-smb-share-using-smbcacls\" title=\"Table 1.3. Windows permissions and their corresponding smbcacls value in hex format\">Windows permissions and their corresponding smbcacls value in hex format\u003C/a>, you must use the bit-wise \u003Ccode class=\"literal\">OR\u003C/code> operation to calculate the correct value. You can use the following shell command to calculate the value:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo $(printf '0x%X' $(( hex_value_1 | hex_value_2 | ... )))\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"example\" id=\"idm140443016743360\">\u003Cp class=\"title\">\u003Cstrong>Example 1.4. Calculating an ACE Mask\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tYou want to set the following permissions:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tTraverse folder / execute file (0x00100020)\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tList folder / read data (0x00100001)\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tRead attributes (0x00100080)\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\t\tTo calculate the hex value for the previous permissions, enter:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>echo $(printf '0x%X' $(( 0x00100020 | 0x00100001 | 0x00100080 )))\u003C/strong>\u003C/span>\n0x1000A1\u003C/pre>\u003Cp>\n\t\t\t\t\t\tUse the returned value when you set or update an ACE.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_adding-updating-and-removing-an-acl-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.10.4. Adding, updating, and removing an ACL using smbcacls\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tDepending on the parameter you pass to the \u003Ccode class=\"literal\">smbcacls\u003C/code> utility, you can add, update, and remove ACLs from a file or directory.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"adding_an_acl\">Adding an ACL\u003C/h5>\u003Cp>\n\t\t\t\t\tTo add an ACL to the root of the \u003Ccode class=\"literal\">//server/example\u003C/code> share that grants \u003Ccode class=\"literal\">CHANGE\u003C/code> permissions for \u003Ccode class=\"literal\">This folder, subfolders, and files\u003C/code> to the \u003Ccode class=\"literal\">AD\\Domain Users\u003C/code> group:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcacls //server/example / -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator --add ACL:\"AD\\Domain Users\":ALLOWED/OI|CI/CHANGE\u003C/strong>\u003C/span>\u003C/pre>\u003Ch5 id=\"updating_an_acl\">Updating an ACL\u003C/h5>\u003Cp>\n\t\t\t\t\tUpdating an ACL is similar to adding a new ACL. You update an ACL by overriding the ACL using the \u003Ccode class=\"literal\">--modify\u003C/code> parameter with an existing security principal. If \u003Ccode class=\"literal\">smbcacls\u003C/code> finds the security principal in the ACL list, the utility updates the permissions. Otherwise the command fails with an error:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">ACL for SID \u003Cspan class=\"emphasis\">\u003Cem>principal_name\u003C/em>\u003C/span> not found\u003C/pre>\u003Cp>\n\t\t\t\t\tFor example, to update the permissions of the \u003Ccode class=\"literal\">AD\\Domain Users\u003C/code> group and set them to \u003Ccode class=\"literal\">READ\u003C/code> for \u003Ccode class=\"literal\">This folder, subfolders, and files\u003C/code>:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcacls //server/example / -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator --modify ACL:\"AD\\Domain Users\":ALLOWED/OI|CI/READ\u003C/strong>\u003C/span>\u003C/pre>\u003Ch5 id=\"deleting_an_acl\">Deleting an ACL\u003C/h5>\u003Cp>\n\t\t\t\t\tTo delete an ACL, pass the \u003Ccode class=\"literal\">--delete\u003C/code> parameter with the exact ACL to the \u003Ccode class=\"literal\">smbcacls\u003C/code> utility. For example:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcacls //server/example / -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator --delete ACL:\"AD\\Domain Users\":ALLOWED/OI|CI/READ\u003C/strong>\u003C/span>\u003C/pre>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.11. Enabling users to share directories on a Samba server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tOn a Samba server, you can configure that users can share directories without root permissions.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_enabling-the-user-shares-feature_assembly_enabling-users-to-share-directories-on-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.1. Enabling the user shares feature\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tBefore users can share directories, the administrator must enable user shares in Samba.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, to enable only members of the local \u003Ccode class=\"literal\">example\u003C/code> group to create user shares.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the local \u003Ccode class=\"literal\">example\u003C/code> group, if it does not exist:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>groupadd example\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPrepare the directory for Samba to store the user share definitions and set its permissions properly. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCreate the directory:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p /var/lib/samba/usershares/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet write permissions for the \u003Ccode class=\"literal\">example\u003C/code> group:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chgrp example /var/lib/samba/usershares/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 1770 /var/lib/samba/usershares/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tSet the sticky bit to prevent users to rename or delete files stored by other users in this directory.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file and add the following to the \u003Ccode class=\"literal\">[global]\u003C/code> section:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet the path to the directory you configured to store the user share definitions. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">usershare path = /var/lib/samba/usershares/\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tSet how many user shares Samba allows to be created on this server. For example:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">usershare max shares = 100\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you use the default of \u003Ccode class=\"literal\">0\u003C/code> for the \u003Ccode class=\"literal\">usershare max shares\u003C/code> parameter, user shares are disabled.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tOptionally, set a list of absolute directory paths. For example, to configure that Samba only allows to share subdirectories of the \u003Ccode class=\"literal filename\">/data\u003C/code> and \u003Ccode class=\"literal filename\">/srv\u003C/code> directory to be shared, set:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">usershare prefix allow list = /data /srv\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor a list of further user share-related parameters you can set, see the \u003Ccode class=\"literal\">USERSHARES\u003C/code> section in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsers are now able to create user shares.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.2. Adding a user share\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter you enabled the user share feature in Samba, users can share directories on the Samba server without \u003Ccode class=\"literal\">root\u003C/code> permissions by running the \u003Ccode class=\"literal\">net usershare add\u003C/code> command.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tSynopsis of the \u003Ccode class=\"literal\">net usershare add\u003C/code> command:\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Ccode class=\"literal\">net usershare add\u003C/code> share_name path [[ comment ] | [ ACLs ]] [ guest_ok=y|n ]\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tIf you set ACLs when you create a user share, you must specify the comment parameter prior to the ACLs. To set an empty comment, use an empty string in double quotes.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tNote that users can only enable guest access on a user share, if the administrator set \u003Ccode class=\"literal\">usershare allow guests = yes\u003C/code> in the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140443014379552\">\u003Cp class=\"title\">\u003Cstrong>Example 1.5. Adding a user share\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tA user wants to share the \u003Ccode class=\"literal filename\">/srv/samba/\u003C/code> directory on a Samba server. The share should be named \u003Ccode class=\"literal\">example\u003C/code>, have no comment set, and should be accessible by guest users. Additionally, the share permissions should be set to full access for the \u003Ccode class=\"literal\">AD\\Domain Users\u003C/code> group and read permissions for other users. To add this share, run as the user:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>net usershare add example /srv/samba/ \"\" \"AD\\Domain Users\":F,Everyone:R guest_ok=yes\u003C/strong>\u003C/span>\u003C/pre>\u003C/div>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_updating-settings-of-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.3. Updating settings of a user share\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo update settings of a user share, override the share by using the \u003Ccode class=\"literal\">net usershare add\u003C/code> command with the same share name and the new settings.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tSee \u003Ca class=\"link\" href=\"#proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server\" title=\"1.11.2. Adding a user share\">Adding a user share\u003C/a>.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_displaying-information-about-existing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.4. Displaying information about existing user shares\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tUsers can enter the \u003Ccode class=\"literal\">net usershare info\u003C/code> command on a Samba server to display user shares and their settings.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tA user share is configured on the Samba server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo display all user shares created by any user:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>net usershare info -l\u003C/strong>\u003C/span>\n[\u003Cspan class=\"emphasis\">\u003Cem>share_1\u003C/em>\u003C/span>]\npath=\u003Cspan class=\"emphasis\">\u003Cem>/srv/samba/\u003C/em>\u003C/span>\ncomment=\nusershare_acl=\u003Cspan class=\"emphasis\">\u003Cem>Everyone:R,host_name\\user:F,\u003C/em>\u003C/span>\nguest_ok=\u003Cspan class=\"emphasis\">\u003Cem>y\u003C/em>\u003C/span>\n...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list only shares created by the user who runs the command, omit the \u003Ccode class=\"literal\">-l\u003C/code> parameter.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo display only the information about specific shares, pass the share name or wild cards to the command. For example, to display the information about shares whose name starts with \u003Ccode class=\"literal\">share_\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>net usershare info -l share_* \u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_listing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.5. Listing user shares\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you want to list only the available user shares without their settings on a Samba server, use the \u003Ccode class=\"literal\">net usershare list\u003C/code> command.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tA user share is configured on the Samba server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list the shares created by any user:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>net usershare list -l\u003C/strong>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>share_1\u003C/em>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>share_2\u003C/em>\u003C/span>\n...\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list only shares created by the user who runs the command, omit the \u003Ccode class=\"literal\">-l\u003C/code> parameter.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list only specific shares, pass the share name or wild cards to the command. For example, to list only shares whose name starts with \u003Ccode class=\"literal\">share_\u003C/code>:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>net usershare list -l share_* \u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_deleting-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.11.6. Deleting a user share\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo delete a user share, use the command \u003Ccode class=\"literal\">net usershare delete\u003C/code> command as the user who created the share or as the \u003Ccode class=\"literal\">root\u003C/code> user.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tA user share is configured on the Samba server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\t\n\u003Cpre class=\"literallayout\">$ \u003Cspan class=\"strong strong\">\u003Cstrong>net usershare delete \u003Cspan class=\"emphasis\">\u003Cem>share_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\n\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.12. Configuring a share to allow access without authentication\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIn certain situations, you want to share a directory to which users can connect without authentication. To configure this, enable guest access on a share.\n\t\t\t\u003C/p>\u003Crh-alert class=\"admonition warning\" state=\"danger\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Warning\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\tShares that do not require authentication can be a security risk.\n\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Csection class=\"section\" id=\"proc_enabling-guest-access-to-a-share_assembly_configuring-a-share-to-allow-access-without-authentication\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.12.1. Enabling guest access to a share\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf guest access is enabled on a share, Samba maps guest connections to the operating system account set in the \u003Ccode class=\"literal\">guest account\u003C/code> parameter. Guest users can access files on this share if at least one of the following conditions is satisfied:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe account is listed in file system ACLs\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe POSIX permissions for \u003Ccode class=\"literal\">other\u003C/code> users allow it\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"example\" id=\"idm140443012274208\">\u003Cp class=\"title\">\u003Cstrong>Example 1.6. Guest share permissions\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cp>\n\t\t\t\t\t\tIf you configured Samba to map the guest account to \u003Ccode class=\"literal\">nobody\u003C/code>, which is the default, the ACLs in the following example:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tAllow guest users to read \u003Ccode class=\"literal\">file1.txt\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tAllow guest users to read and modify \u003Ccode class=\"literal\">file2.txt\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\tPrevent guest users to read or modify \u003Ccode class=\"literal\">file3.txt\u003C/code>\n\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cpre class=\"literallayout\">-rw-r--r--. 1 root       root      1024 1. Sep 10:00 file1.txt\n-rw-r-----. 1 nobody     root      1024 1. Sep 10:00 file2.txt\n-rw-r-----. 1 root       root      1024 1. Sep 10:00 file3.txt\u003C/pre>\u003C/div>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf this is the first guest share you set up on this server:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tSet \u003Ccode class=\"literal\">map to guest = Bad User\u003C/code> in the \u003Ccode class=\"literal\">[global]\u003C/code> section:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\n        ...\n        map to guest = Bad User\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tWith this setting, Samba rejects login attempts that use an incorrect password unless the user name does not exist. If the specified user name does not exist and guest access is enabled on a share, Samba treats the connection as a guest log in.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tBy default, Samba maps the guest account to the \u003Ccode class=\"literal\">nobody\u003C/code> account on Red Hat Enterprise Linux. Alternatively, you can set a different account. For example:\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\n        ...\n        guest account = user_name\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tThe account set in this parameter must exist locally on the Samba server. For security reasons, Red Hat recommends using an account that does not have a valid shell assigned.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">guest ok = yes\u003C/code> setting to the \u003Ccode class=\"literal\">[example]\u003C/code> share section:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[example]\n        ...\n        guest ok = yes\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.13. Configuring Samba for macOS clients\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal systemitem\">fruit\u003C/code> virtual file system (VFS) Samba module provides enhanced compatibility with Apple server message block (SMB) clients.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"optimizing-the-samba-configuration-for-providing-file-shares-for-macos-clients_assembly_configuring-samba-for-macos-clients\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.13.1. Optimizing the Samba configuration for providing file shares for macOS clients\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">fruit\u003C/code> module provides enhanced compatibility of Samba with macOS clients. You can configure the module for all shares hosted on a Samba server to optimize the file shares for macOS clients.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tEnable the \u003Ccode class=\"literal\">fruit\u003C/code> module globally. Clients using macOS negotiate the server message block version 2 (SMB2) Apple (AAPL) protocol extensions when the client establishes the first connection to the server. If the client first connects to a share without AAPL extensions enabled, the client does not use the extensions for any share of the server.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is configured as a file server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file, and enable the \u003Ccode class=\"literal systemitem\">fruit\u003C/code> and \u003Ccode class=\"literal systemitem\">streams_xattr\u003C/code> VFS modules in the \u003Ccode class=\"literal systemitem\">[global]\u003C/code> section:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">vfs objects = fruit streams_xattr\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tYou must enable the \u003Ccode class=\"literal systemitem\">fruit\u003C/code> module before enabling \u003Ccode class=\"literal systemitem\">streams_xattr\u003C/code>. The \u003Ccode class=\"literal systemitem\">fruit\u003C/code> module uses alternate data streams (ADS). For this reason, you must also enable the \u003Ccode class=\"literal systemitem\">streams_xattr\u003C/code> module.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptionally, to provide macOS Time Machine support on a share, add the following setting to the share configuration in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">fruit:time machine = yes\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal citetitle\">vfs_fruit(8)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConfiguring file shares:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"circle\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server\" title=\"1.7. Setting up a Samba file share that uses POSIX ACLs\">Setting up a Samba file share that uses POSIX ACLs\u003C/a>\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server\" title=\"1.9. Setting up a share that uses Windows ACLs\">Setting up a share that uses Windows ACLs\u003C/a>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.14. Using the smbclient utility to access an SMB share\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThe smbclient utility enables you to access file shares on an SMB server, similarly to a command-line FTP client. You can use it, for example, to upload and download files to and from a share.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-client\u003C/code> package is installed.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"con_how-the-smbclient-interactive-mode-works_assembly_using-the-smbclient-utility-to-access-an-smb-share\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.14.1. How the smbclient interactive mode works\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tFor example, to authenticate to the \u003Ccode class=\"literal\">example\u003C/code> share hosted on \u003Ccode class=\"literal\">server\u003C/code> using the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\\user\u003C/em>\u003C/span>\u003C/code> account:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbclient -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\\user\u003C/em>\u003C/span>\" //\u003Cspan class=\"emphasis\">\u003Cem>server\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>domain\\user\u003C/em>\u003C/span>'s password:\nTry \"help\" to get a list of possible commands.\nsmb: \\&gt;\u003C/pre>\u003Cp>\n\t\t\t\t\tAfter \u003Ccode class=\"literal\">smbclient\u003C/code> connected successfully to the share, the utility enters the interactive mode and shows the following prompt:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\&gt;\u003C/pre>\u003Cp>\n\t\t\t\t\tTo display all available commands in the interactive shell, enter:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\&gt; \u003Ccode class=\"literal command\">help\u003C/code>\u003C/pre>\u003Cp>\n\t\t\t\t\tTo display the help for a specific command, enter:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\&gt; \u003Ccode class=\"literal command\">help \u003Cspan class=\"emphasis\">\u003Cem>command_name\u003C/em>\u003C/span>\u003C/code>\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smbclient(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-smbclient-in-interactive-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.14.2. Using smbclient in interactive mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you use \u003Ccode class=\"literal\">smbclient\u003C/code> without the \u003Ccode class=\"literal\">-c\u003C/code> parameter, the utility enters the interactive mode. The following procedure shows how to connect to an SMB share and download a file from a subdirectory.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tConnect to the share:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbclient -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\\user_name\u003C/em>\u003C/span>\" //\u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>share_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tChange into the \u003Ccode class=\"literal\">/example/\u003C/code> directory:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\&gt; \u003Ccode class=\"literal command\">d /example/\u003C/code>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList the files in the directory:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\example\\&gt; \u003Ccode class=\"literal command\">ls\u003C/code>\n  .                    D         0  Thu Nov 1 10:00:00 2018\n  ..                   D         0  Thu Nov 1 10:00:00 2018\n  example.txt          N   1048576  Thu Nov 1 10:00:00 2018\n\n         9950208 blocks of size 1024. 8247144 blocks available\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDownload the \u003Ccode class=\"literal\">example.txt\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\example\\&gt; \u003Ccode class=\"literal command\">get example.txt\u003C/code>\ngetting file \\directory\\subdirectory\\example.txt of size 1048576 as example.txt (511975,0 KiloBytes/sec) (average 170666,7 KiloBytes/sec)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisconnect from the share:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">smb: \\example\\&gt; \u003Ccode class=\"literal command\">exit\u003C/code>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-smbclient-in-scripting-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.14.3. Using smbclient in scripting mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you pass the \u003Ccode class=\"literal\">-c\u003C/code> parameter to \u003Ccode class=\"literal\">smbclient\u003C/code>, you can automatically execute the commands on the remote SMB share. This enables you to use \u003Ccode class=\"literal\">smbclient\u003C/code> in scripts.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following procedure shows how to connect to an SMB share and download a file from a subdirectory.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUse the following command to connect to the share, change into the \u003Ccode class=\"literal filename\">example\u003C/code> directory, download the \u003Ccode class=\"literal filename\">example.txt\u003C/code> file:\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbclient -U \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\\user_name\u003C/em>\u003C/span> //\u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>share_name\u003C/em>\u003C/span> -c \"cd /example/ ; get example.txt ; exit\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.15. Setting up Samba as a print server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you set up Samba as a print server, clients in your network can use Samba to print. Additionally, Windows clients can, if configured, download the driver from the Samba server.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tParts of this section were adopted from the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Print_Server\">Setting up Samba as a Print Server\u003C/a> documentation published in the Samba Wiki. License: \u003Ca class=\"link\" href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0\u003C/a>. Authors and contributors: See the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php?title=Setting_up_Samba_as_a_Print_Server&amp;action=history\">history\u003C/a> tab on the Wiki page.\n\t\t\t\u003C/p>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\tSamba has been set up in one of the following modes:\n\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server\" title=\"1.3. Setting up Samba as a standalone server\">Standalone server\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server\" title=\"1.5. Setting up Samba as an AD domain member server\">Domain member\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"proc_enabling-print-server-support-in-samba_assembly_setting-up-samba-as-a-print-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.15.1. Enabling print server support in Samba\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tBy default, print server support is not enabled in Samba. To use Samba as a print server, you must configure Samba accordingly.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tPrint jobs and printer operations require remote procedure calls (RPCs). By default, Samba starts the \u003Ccode class=\"literal\">rpcd_spoolss\u003C/code> service on demand to manage RPCs. During the first RPC call, or when you update the printer list in CUPS, Samba retrieves the printer information from CUPS. This can require approximately 1 second per printer. Therefore, if you have more than 50 printers, tune the \u003Ccode class=\"literal\">rpcd_spoolss\u003C/code> settings.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tThe printers are configured in a CUPS server.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details about configuring printers in CUPS, see the documentation provided in the CUPS web console (https://\u003Cspan class=\"emphasis\">\u003Cem>printserver\u003C/em>\u003C/span>:631/help) on the print server.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">[printers]\u003C/code> section to enable the printing backend in Samba:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>[printers]\u003C/strong>\u003C/span>\n        \u003Cspan class=\"strong strong\">\u003Cstrong>comment = All Printers\u003C/strong>\u003C/span>\n        \u003Cspan class=\"strong strong\">\u003Cstrong>path = /var/tmp/\u003C/strong>\u003C/span>\n        \u003Cspan class=\"strong strong\">\u003Cstrong>printable = yes\u003C/strong>\u003C/span>\n        \u003Cspan class=\"strong strong\">\u003Cstrong>create mask = 0600\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">[printers]\u003C/code> share name is hard-coded and cannot be changed.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf the CUPS server runs on a different host or port, specify the setting in the \u003Ccode class=\"literal\">[printers]\u003C/code> section:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>cups server = \u003Cspan class=\"emphasis\">\u003Cem>printserver.example.com\u003C/em>\u003C/span>:\u003Cspan class=\"emphasis\">\u003Cem>631\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you have many printers, set the number of idle seconds to a higher value than the numbers of printers connected to CUPS. For example, if you have 100 printers, set in the \u003Ccode class=\"literal\">[global]\u003C/code> section:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>rpcd_spoolss:idle_seconds = 200\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf this setting does not scale in your environment, also increase the number of \u003Ccode class=\"literal\">rpcd_spoolss\u003C/code> workers in the \u003Ccode class=\"literal\">[global]\u003C/code> section:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">\u003Cspan class=\"strong strong\">\u003Cstrong>rpcd_spoolss:num_workers = 10\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tBy default, \u003Ccode class=\"literal\">rpcd_spoolss\u003C/code> starts 5 workers.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOpen the required ports and reload the firewall configuration using the \u003Ccode class=\"literal\">firewall-cmd\u003C/code> utility:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service=samba\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAfter restarting the service, Samba automatically shares all printers that are configured in the CUPS back end. If you want to manually share only specific printers, see \u003Ca class=\"link\" href=\"#proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server\" title=\"1.15.2. Manually sharing specific printers\">Manually sharing specific printers\u003C/a>.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSubmit a print job. For example, to print a PDF file, enter:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbclient -U\u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> //\u003Cspan class=\"emphasis\">\u003Cem>sambaserver.example.com\u003C/em>\u003C/span>/\u003Cspan class=\"emphasis\">\u003Cem>printer_name\u003C/em>\u003C/span> -c \"print \u003Cspan class=\"emphasis\">\u003Cem>example.pdf\u003C/em>\u003C/span>\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.15.2. Manually sharing specific printers\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIf you configured Samba as a print server, by default, Samba shares all printers that are configured in the CUPS back end. The following procedure explains how to share only specific printers.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is set up as a print server\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">[global]\u003C/code> section, disable automatic printer sharing by setting:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">load printers = no\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tAdd a section for each printer you want to share. For example, to share the printer named \u003Ccode class=\"literal\">example\u003C/code> in the CUPS back end as \u003Ccode class=\"literal\">Example-Printer\u003C/code> in Samba, add the following section:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[Example-Printer]\n        path = /var/tmp/\n        printable = yes\n        printer name = example\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tYou do not need individual spool directories for each printer. You can set the same spool directory in the \u003Ccode class=\"literal\">path\u003C/code> parameter for the printer as you set in the \u003Ccode class=\"literal\">[printers]\u003C/code> section.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.16. Setting up automatic printer driver downloads for Windows clients on Samba print servers\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tIf you are running a Samba print server for Windows clients, you can upload drivers and preconfigure printers. If a user connects to a printer, Windows automatically downloads and installs the driver locally on the client. The user does not require local administrator permissions for the installation. Additionally, Windows applies preconfigured driver settings, such as the number of trays.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tParts of this section were adopted from the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php/Setting_up_Automatic_Printer_Driver_Downloads_for_Windows_Clients\">Setting up Automatic Printer Driver Downloads for Windows Clients\u003C/a> documentation published in the Samba Wiki. License: \u003Ca class=\"link\" href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0\u003C/a>. Authors and contributors: See the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php?title=Setting_up_Automatic_Printer_Driver_Downloads_for_Windows_Clients&amp;action=history\">history\u003C/a> tab on the Wiki page.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSamba is set up as a print server\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"con_basic-information-about-printer-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.1. Basic information about printer drivers\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThis section provides general information about printer drivers.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"supported_driver_model_version\">Supported driver model version\u003C/h5>\u003Cp>\n\t\t\t\t\tSamba only supports the printer driver model version 3 which is supported in Windows 2000 and later, and Windows Server 2000 and later. Samba does not support the driver model version 4, introduced in Windows 8 and Windows Server 2012. However, these and later Windows versions also support version 3 drivers.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"package_aware_drivers\">Package-aware drivers\u003C/h5>\u003Cp>\n\t\t\t\t\tSamba does not support package-aware drivers.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"preparing_a_printer_driver_for_being_uploaded\">Preparing a printer driver for being uploaded\u003C/h5>\u003Cp>\n\t\t\t\t\tBefore you can upload a driver to a Samba print server:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tUnpack the driver if it is provided in a compressed format.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSome drivers require to start a setup application that installs the driver locally on a Windows host. In certain situations, the installer extracts the individual files into the operating system’s temporary folder during the setup runs. To use the driver files for uploading:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tStart the installer.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCopy the files from the temporary folder to a new location.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tCancel the installation.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tAsk your printer manufacturer for drivers that support uploading to a print server.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"providing_32_bit_and_64_bit_drivers_for_a_printer_to_a_client\">Providing 32-bit and 64-bit drivers for a printer to a client\u003C/h5>\u003Cp>\n\t\t\t\t\tTo provide the driver for a printer for both 32-bit and 64-bit Windows clients, you must upload a driver with exactly the same name for both architectures. For example, if you are uploading the 32-bit driver named \u003Ccode class=\"literal\">Example PostScript\u003C/code> and the 64-bit driver named \u003Ccode class=\"literal\">Example PostScript (v1.0)\u003C/code>, the names do not match. Consequently, you can only assign one of the drivers to a printer and the driver will not be available for both architectures.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.2. Enabling users to upload and preconfigure drivers\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tTo be able to upload and preconfigure printer drivers, a user or a group needs to have the \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> privilege granted. A user must be added into the \u003Ccode class=\"literal\">printadmin\u003C/code> group. Red Hat Enterprise Linux automatically creates this group when you install the \u003Ccode class=\"literal package\">samba\u003C/code> package. The \u003Ccode class=\"literal\">printadmin\u003C/code> group gets assigned the lowest available dynamic system GID that is lower than 1000.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor example, to grant the \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> privilege to the \u003Ccode class=\"literal\">printadmin\u003C/code> group:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights grant \"printadmin\" SePrintOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nSuccessfully granted rights.\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tIn a domain environment, grant \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> to a domain group. This enables you to centrally manage the privilege by updating a user’s group membership.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo list all users and groups having \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> granted:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights list privileges SePrintOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter administrator's password:\nSePrintOperatorPrivilege:\n  BUILTIN\\Administrators\n  \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\printadmin\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_setting-up-the-print-share_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.3. Setting up the print$ share\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tWindows operating systems download printer drivers from a share named \u003Ccode class=\"literal\">print$\u003C/code> from a print server. This share name is hard-coded in Windows and cannot be changed.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tThe following procedure explains how to share the \u003Ccode class=\"literal filename\">/var/lib/samba/drivers/\u003C/code> directory as \u003Ccode class=\"literal\">print$\u003C/code>, and enable members of the local \u003Ccode class=\"literal\">printadmin\u003C/code> group to upload printer drivers.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the \u003Ccode class=\"literal\">[print$]\u003C/code> section to the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[print$]\n        path = /var/lib/samba/drivers/\n        read only = no\n        write list = @printadmin\n        force group = @printadmin\n        create mask = 0664\n        directory mask = 2775\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUsing these settings:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tOnly members of the \u003Ccode class=\"literal\">printadmin\u003C/code> group can upload printer drivers to the share.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe group of new created files and directories will be set to \u003Ccode class=\"literal\">printadmin\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe permissions of new files will be set to \u003Ccode class=\"literal\">664\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tThe permissions of new directories will be set to \u003Ccode class=\"literal\">2775\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tTo upload only 64-bit drivers for all printers, include this setting in the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">spoolss: architecture = Windows x64\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tWithout this setting, Windows only displays drivers for which you have uploaded at least the 32-bit version.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tCreate the \u003Ccode class=\"literal\">printadmin\u003C/code> group if it does not exists:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>groupadd printadmin\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tGrant the \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> privilege to the \u003Ccode class=\"literal\">printadmin\u003C/code> group.\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights grant \"printadmin\" SePrintOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nSuccessfully granted rights.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you run SELinux in \u003Ccode class=\"literal\">enforcing\u003C/code> mode, set the \u003Ccode class=\"literal\">samba_share_t\u003C/code> context on the directory:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>semanage fcontext -a -t samba_share_t \"/var/lib/samba/drivers(/.*)?\"\u003C/strong>\u003C/span>\n\n# \u003Cspan class=\"strong strong\">\u003Cstrong>restorecon -Rv /var/lib/samba/drivers/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet the permissions on the \u003Ccode class=\"literal filename\">/var/lib/samba/drivers/\u003C/code> directory:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you use POSIX ACLs, set:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chgrp -R \"printadmin\" /var/lib/samba/drivers/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>chmod -R 2775 /var/lib/samba/drivers/\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tIf you use Windows ACLs, set:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Crh-table>\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 40%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 40%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443014033888\" scope=\"col\">Principal\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443013395360\" scope=\"col\">Access\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443013394272\" scope=\"col\">Apply to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443014033888\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">CREATOR OWNER\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443013395360\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443013394272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubfolders and files only\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443014033888\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">Authenticated Users\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443013395360\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\tRead &amp; execute, List folder contents, Read\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443013394272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\tThis folder, subfolders, and files\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443014033888\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">printadmin\u003C/code>\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443013395360\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\tFull control\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443013394272\"> \u003Cp>\n\t\t\t\t\t\t\t\t\t\t\t\t\tThis folder, subfolders, and files\n\t\t\t\t\t\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor details about setting ACLs on Windows, see the Windows documentation.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers\" title=\"1.16.2. Enabling users to upload and preconfigure drivers\">Enabling users to upload and preconfigure drivers\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_creating-a-gpo-to-enable-clients-to-trust-the-samba-print-server_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.4. Creating a GPO to enable clients to trust the Samba print server\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tFor security reasons, recent Windows operating systems prevent clients from downloading non-package-aware printer drivers from an untrusted server. If your print server is a member in an AD, you can create a Group Policy Object (GPO) in your domain to trust the Samba server.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Samba print server is a member of an AD domain.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe Windows computer you are using to create the GPO must have the Windows Remote Server Administration Tools (RSAT) installed. For details, see the Windows documentation.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tLog into a Windows computer using an account that is allowed to edit group policies, such as the AD domain \u003Ccode class=\"literal\">Administrator\u003C/code> user.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tOpen the \u003Ccode class=\"literal\">Group Policy Management Console\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRight-click to your AD domain and select \u003Ccode class=\"literal\">Create a GPO in this domain, and Link it here\u003C/code>.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/69b2671ea9db42debe464230fd46ae2f/samba_create_new_GPO.png\" alt=\"samba create new GPO\"/>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tEnter a name for the GPO, such as \u003Ccode class=\"literal\">Legacy Printer Driver Policy\u003C/code> and click \u003Ccode class=\"literal\">OK\u003C/code>. The new GPO will be displayed under the domain entry.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRight-click to the newly-created GPO and select \u003Ccode class=\"literal\">Edit\u003C/code> to open the \u003Ccode class=\"literal\">Group Policy Management Editor\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNavigate to \u003Cspan class=\"guimenu\">Computer Configuration\u003C/span> → \u003Cspan class=\"guisubmenu\">Policies\u003C/span> → \u003Cspan class=\"guisubmenu\">Administrative Templates\u003C/span> → \u003Cspan class=\"guimenuitem\">Printers\u003C/span>.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/fe1141efd9320c8f431e894be5679c36/samba_select_printer_GPO_group.png\" alt=\"samba select printer GPO group\"/>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOn the right side of the window, double-click \u003Ccode class=\"literal\">Point and Print Restriction\u003C/code> to edit the policy:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnable the policy and set the following options:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"i\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\t\t\tSelect \u003Ccode class=\"literal\">Users can only point and print to these servers\u003C/code> and enter the fully-qualified domain name (FQDN) of the Samba print server to the field next to this option.\n\t\t\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\t\tIn both check boxes under \u003Ccode class=\"literal\">Security Prompts\u003C/code>, select \u003Ccode class=\"literal\">Do not show warning or elevation prompt\u003C/code>.\n\t\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/c2f8df50241de4e5748ba3c8b47324f8/samba_GPO_point_and_print.png\" alt=\"samba GPO point and print\"/>\u003C/div>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tClick OK.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDouble-click \u003Ccode class=\"literal\">Package Point and Print - Approved servers\u003C/code> to edit the policy:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tEnable the policy and click the \u003Ccode class=\"literal\">Show\u003C/code> button.\n\t\t\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnter the FQDN of the Samba print server.\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"informalfigure\">\u003Cdiv class=\"mediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/ee6f8dcf911e6204a6681dd3425d2d9c/samba_GPO_approved_servers.png\" alt=\"samba GPO approved servers\"/>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\t\tClose both the \u003Ccode class=\"literal\">Show Contents\u003C/code> and the policy’s properties window by clicking \u003Ccode class=\"literal\">OK\u003C/code>.\n\t\t\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClose the \u003Ccode class=\"literal\">Group Policy Management Editor\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tClose the \u003Ccode class=\"literal\">Group Policy Management Console\u003C/code>.\n\t\t\t\t\t\t\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter the Windows domain members applied the group policy, printer drivers are automatically downloaded from the Samba server when a user connects to a printer.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tFor using group policies, see the Windows documentation.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_uploading-drivers-and-preconfiguring-printers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.16.5. Uploading drivers and preconfiguring printers\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tUse the \u003Ccode class=\"literal\">Print Management\u003C/code> application on a Windows client to upload drivers and preconfigure printers hosted on the Samba print server. For further details, see the Windows documentation.\n\t\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.17. Running Samba on a server with FIPS mode enabled\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThis section provides an overview of the limitations of running Samba with FIPS mode enabled. It also provides the procedure for enabling FIPS mode on a Red Hat Enterprise Linux host running Samba.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.1. Limitations of using Samba in FIPS mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tThe following Samba modes and features work in FIPS mode under the indicated conditions:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba as a domain member only in Active Directory (AD) or Red Hat Identity Management (IdM) environments with Kerberos authentication that uses AES ciphers.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba as a file server on an Active Directory domain member. However, this requires that clients use Kerberos to authenticate to the server.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tDue to the increased security of FIPS, the following Samba features and modes do not work if FIPS mode is enabled:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNT LAN Manager (NTLM) authentication because RC4 ciphers are blocked\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe server message block version 1 (SMB1) protocol\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe stand-alone file server mode because it uses NTLM authentication\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNT4-style domain controllers\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tNT4-style domain members. Note that Red Hat continues supporting the primary domain controller (PDC) functionality IdM uses in the background.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tPassword changes against the Samba server. You can only perform password changes using Kerberos against an Active Directory domain controller.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\t\tThe following feature is not tested in FIPS mode and, therefore, is not supported by Red Hat:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRunning Samba as a print server\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.17.2. Using Samba in FIPS mode\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tYou can enable the FIPS mode on a RHEL host that runs Samba.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is configured on the Red Hat Enterprise Linux host.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba runs in a mode that is supported in FIPS mode.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable the FIPS mode on RHEL:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>fips-mode-setup --enable\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReboot the server:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>reboot\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the \u003Ccode class=\"literal systemitem\">testparm\u003C/code> utility to verify the configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm -s\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf the command displays any errors or incompatibilities, fix them to ensure that Samba works correctly.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"xref\" href=\"#ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled\" title=\"1.17.1. Limitations of using Samba in FIPS mode\">Section 1.17.1, “Limitations of using Samba in FIPS mode”\u003C/a>\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.18. Tuning the performance of a Samba server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tLearn what settings can improve the performance of Samba in certain situations, and which settings can have a negative performance impact.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tParts of this section were adopted from the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php/Performance_Tuning\">Performance Tuning\u003C/a> documentation published in the Samba Wiki. License: \u003Ca class=\"link\" href=\"https://creativecommons.org/licenses/by/4.0/\">CC BY 4.0\u003C/a>. Authors and contributors: See the \u003Ca class=\"link\" href=\"https://wiki.samba.org/index.php?title=Performance_Tuning&amp;action=history\">history\u003C/a> tab on the Wiki page.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tSamba is set up as a file or print server\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Csection class=\"section\" id=\"proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.18.1. Setting the SMB protocol version\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tEach new SMB version adds features and improves the performance of the protocol. The recent Windows and Windows Server operating systems always supports the latest protocol version. If Samba also uses the latest protocol version, Windows clients connecting to Samba benefit from the performance improvements. In Samba, the default value of the server max protocol is set to the latest supported stable SMB protocol version.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tTo always have the latest stable SMB protocol version enabled, do not set the \u003Ccode class=\"literal\">server max protocol\u003C/code> parameter. If you set the parameter manually, you will need to modify the setting with each new version of the SMB protocol, to have the latest protocol version enabled.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tThe following procedure explains how to use the default value in the \u003Ccode class=\"literal\">server max protocol\u003C/code> parameter.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRemove the \u003Ccode class=\"literal\">server max protocol\u003C/code> parameter from the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.18.2. Tuning shares with directories that contain a large number of files\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tLinux supports case-sensitive file names. For this reason, Samba needs to scan directories for uppercase and lowercase file names when searching or accessing a file. You can configure a share to create new files only in lowercase or uppercase, which improves the performance.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is configured as a file server\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRename all files on the share to lowercase.\n\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\tUsing the settings in this procedure, files with names other than in lowercase will no longer be displayed.\n\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tSet the following parameters in the share’s section:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">case sensitive = true\ndefault case = lower\npreserve case = no\nshort preserve case = no\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details about the parameters, see their descriptions in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tReload the Samba configuration:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cp>\n\t\t\t\t\tAfter you applied these settings, the names of all newly created files on this share use lowercase. Because of these settings, Samba no longer needs to scan the directory for uppercase and lowercase, which improves the performance.\n\t\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.18.3. Settings that can have a negative performance impact\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\t\tBy default, the kernel in Red Hat Enterprise Linux is tuned for high network performance. For example, the kernel uses an auto-tuning mechanism for buffer sizes. Setting the \u003Ccode class=\"literal\">socket options\u003C/code> parameter in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file overrides these kernel settings. As a result, setting this parameter decreases the Samba network performance in most cases.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tTo use the optimized settings from the Kernel, remove the \u003Ccode class=\"literal\">socket options\u003C/code> parameter from the \u003Ccode class=\"literal\">[global]\u003C/code> section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code>.\n\t\t\t\t\u003C/p>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.19. Configuring Samba to be compatible with clients that require an SMB version lower than the default\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tSamba uses a reasonable and secure default value for the minimum server message block (SMB) version it supports. However, if you have clients that require an older SMB version, you can configure Samba to support it.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"setting-the-minimum-smb-protocol-version-supported-by-a-samba-server_assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.19.1. Setting the minimum SMB protocol version supported by a Samba server\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIn Samba, the \u003Ccode class=\"literal parameter\">server min protocol\u003C/code> parameter in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file defines the minimum server message block (SMB) protocol version the Samba server supports. You can change the minimum SMB protocol version.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tBy default, Samba on RHEL 8.2 and later supports only SMB2 and newer protocol versions. Red Hat recommends to not use the deprecated SMB1 protocol. However, if your environment requires SMB1, you can manually set the \u003Ccode class=\"literal parameter\">server min protocol\u003C/code> parameter to \u003Ccode class=\"literal\">NT1\u003C/code> to re-enable SMB1.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tSamba is installed and configured.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEdit the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file, add the \u003Ccode class=\"literal parameter\">server min protocol\u003C/code> parameter, and set the parameter to the minimum SMB protocol version the server should support. For example, to set the minimum SMB protocol version to \u003Ccode class=\"literal\">SMB3\u003C/code>, add:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">server min protocol = SMB3\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">smb\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart smb\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal citetitle\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section\" id=\"assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.20. Frequently used Samba command-line utilities\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\tThis chapter describes frequently used commands when working with a Samba server.\n\t\t\t\u003C/p>\u003Csection class=\"section\" id=\"proc_using-the-net-ads-join-and-net-rpc-join-commands_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.1. Using the net ads join and net rpc join commands\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tUsing the \u003Ccode class=\"literal\">join\u003C/code> subcommand of the \u003Ccode class=\"literal\">net\u003C/code> utility, you can join Samba to an AD or NT4 domain. To join the domain, you must create the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file manually, and optionally update additional configurations, such as PAM.\n\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tRed Hat recommends using the \u003Ccode class=\"literal\">realm\u003C/code> utility to join a domain. The \u003Ccode class=\"literal\">realm\u003C/code> utility automatically updates all involved configuration files.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tManually create the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file with the following settings:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor an AD domain member:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\nworkgroup = \u003Cspan class=\"emphasis\">\u003Cem>domain_name\u003C/em>\u003C/span>\nsecurity = ads\npassdb backend = tdbsam\nrealm = \u003Cspan class=\"emphasis\">\u003Cem>AD_REALM\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tFor an NT4 domain member:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[global]\nworkgroup = \u003Cspan class=\"emphasis\">\u003Cem>domain_name\u003C/em>\u003C/span>\nsecurity = user\npassdb backend = tdbsam\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAdd an ID mapping configuration for the \u003Ccode class=\"literal\">*\u003C/code> default domain and for the domain you want to join to the \u003Ccode class=\"literal\">[global\u003C/code>] section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tVerify the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>testparm\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tJoin the domain as the domain administrator:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo join an AD domain:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net ads join -U \"DOMAIN\\administrator\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tTo join an NT4 domain:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc join -U \"DOMAIN\\administrator\"\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAppend the \u003Ccode class=\"literal\">winbind\u003C/code> source to the \u003Ccode class=\"literal\">passwd\u003C/code> and \u003Ccode class=\"literal\">group\u003C/code> database entry in the \u003Ccode class=\"literal filename\">/etc/nsswitch.conf\u003C/code> file:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">passwd:     files \u003Ccode class=\"literal\">winbind\u003C/code>\ngroup:      files \u003Ccode class=\"literal\">winbind\u003C/code>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">winbind\u003C/code> service:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now winbind\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptionally, configure PAM using the \u003Ccode class=\"literal\">authselect\u003C/code> utility.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see the \u003Ccode class=\"literal\">authselect(8)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptionally for AD environments, configure the Kerberos client.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor details, see the documentation of your Kerberos client.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server\" title=\"1.5.1. Joining a RHEL system to an AD domain\">Joining Samba to a domain\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ca class=\"link\" href=\"#assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server\" title=\"1.4. Understanding and configuring Samba ID mapping\">Understanding and configuring Samba ID mapping\u003C/a>.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-net-rpc-rights-command_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.2. Using the net rpc rights command\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tIn Windows, you can assign privileges to accounts and groups to perform special operations, such as setting ACLs on a share or upload printer drivers. On a Samba server, you can use the \u003Ccode class=\"literal\">net rpc rights\u003C/code> command to manage privileges.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"listing_privileges_you_can_set\">Listing privileges you can set\u003C/h5>\u003Cp>\n\t\t\t\t\tTo list all available privileges and their owners, use the \u003Ccode class=\"literal\">net rpc rights list\u003C/code> command. For example:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights list -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\n     SeMachineAccountPrivilege  Add machines to domain\n      SeTakeOwnershipPrivilege  Take ownership of files or other objects\n             SeBackupPrivilege  Back up files and directories\n            SeRestorePrivilege  Restore files and directories\n     SeRemoteShutdownPrivilege  Force shutdown from a remote system\n      SePrintOperatorPrivilege  Manage printers\n           SeAddUsersPrivilege  Add users and groups to the domain\n       SeDiskOperatorPrivilege  Manage disk shares\n           SeSecurityPrivilege  System security\u003C/pre>\u003Ch5 id=\"granting_privileges\">Granting privileges\u003C/h5>\u003Cp>\n\t\t\t\t\tTo grant a privilege to an account or group, use the \u003Ccode class=\"literal\">net rpc rights grant\u003C/code> command.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, grant the \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> privilege to the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\printadmin\u003C/code> group:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights grant \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\printadmin\" SePrintOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nSuccessfully granted rights.\u003C/pre>\u003Ch5 id=\"revoking_privileges\">Revoking privileges\u003C/h5>\u003Cp>\n\t\t\t\t\tTo revoke a privilege from an account or group, use the \u003Ccode class=\"literal\">net rpc rights revoke\u003C/code> command.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, to revoke the \u003Ccode class=\"literal\">SePrintOperatorPrivilege\u003C/code> privilege from the \u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\printadmin\u003C/code> group:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc rights remoke \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\printadmin\" SePrintOperatorPrivilege -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nSuccessfully revoked rights.\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-net-rpc-share-command_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.3. Using the net rpc share command\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">net rpc share\u003C/code> command provides the capability to list, add, and remove shares on a local or remote Samba or Windows server.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"listing_shares\">Listing shares\u003C/h5>\u003Cp>\n\t\t\t\t\tTo list the shares on an SMB server, use the \u003Ccode class=\"literal\">net rpc share list\u003C/code> command. Optionally, pass the \u003Ccode class=\"literal\">-S \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span>\u003C/code> parameter to the command to list the shares of a remote server. For example:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc share list -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\" -S \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator's password:\nIPC$\n\u003Cspan class=\"emphasis\">\u003Cem>share_1\u003C/em>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>share_2\u003C/em>\u003C/span>\n...\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tShares hosted on a Samba server that have \u003Ccode class=\"literal\">browseable = no\u003C/code> set in their section in the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file are not displayed in the output.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Ch5 id=\"adding_a_share\">Adding a share\u003C/h5>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">net rpc share add\u003C/code> command enables you to add a share to an SMB server.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, to add a share named \u003Ccode class=\"literal\">example\u003C/code> on a remote Windows server that shares the \u003Ccode class=\"literal\">C:\\example\\\u003C/code> directory:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc share add example=\"C:\\example\" -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\" -S \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tYou must omit the trailing backslash in the path when specifying a Windows directory name.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tTo use the command to add a share to a Samba server:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe user specified in the \u003Ccode class=\"literal\">-U\u003C/code> parameter must have the \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> privilege granted on the destination server.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou must write a script that adds a share section to the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file and reloads Samba. The script must be set in the \u003Ccode class=\"literal\">add share command\u003C/code> parameter in the \u003Ccode class=\"literal\">[global]\u003C/code> section in \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code>. For further details, see the \u003Ccode class=\"literal\">add share command\u003C/code> description in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Ch5 id=\"removing_a_share\">Removing a share\u003C/h5>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">net rpc share delete\u003C/code> command enables you to remove a share from an SMB server.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, to remove the share named example from a remote Windows server:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc share delete example -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\" -S \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\tTo use the command to remove a share from a Samba server:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe user specified in the \u003Ccode class=\"literal\">-U\u003C/code> parameter must have the \u003Ccode class=\"literal\">SeDiskOperatorPrivilege\u003C/code> privilege granted.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tYou must write a script that removes the share’s section from the \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code> file and reloads Samba. The script must be set in the \u003Ccode class=\"literal\">delete share command\u003C/code> parameter in the \u003Ccode class=\"literal\">[global]\u003C/code> section in \u003Ccode class=\"literal filename\">/etc/samba/smb.conf\u003C/code>. For further details, see the \u003Ccode class=\"literal\">delete share command\u003C/code> description in the \u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-net-user-command_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.4. Using the net user command\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">net user\u003C/code> command enables you to perform the following actions on an AD DC or NT4 PDC:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tList all user accounts\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tAdd users\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tRemove Users\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\tSpecifying a connection method, such as \u003Ccode class=\"literal\">ads\u003C/code> for AD domains or \u003Ccode class=\"literal\">rpc\u003C/code> for NT4 domains, is only required when you list domain user accounts. Other user-related subcommands can auto-detect the connection method.\n\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003Cp>\n\t\t\t\t\tPass the \u003Ccode class=\"literal\">-U \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>\u003C/code> parameter to the command to specify a user that is allowed to perform the requested action.\n\t\t\t\t\u003C/p>\u003Ch5 id=\"listing_domain_user_accounts\">Listing domain user accounts\u003C/h5>\u003Cp>\n\t\t\t\t\tTo list all users in an AD domain:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net ads user -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\tTo list all users in an NT4 domain:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc user -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\u003C/pre>\u003Ch5 id=\"adding_a_user_account_to_the_domain\">Adding a user account to the domain\u003C/h5>\u003Cp>\n\t\t\t\t\tOn a Samba domain member, you can use the \u003Ccode class=\"literal\">net user add\u003C/code> command to add a user account to the domain.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, add the \u003Ccode class=\"literal\">user\u003C/code> account to the domain:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tAdd the account:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net user add \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span> -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nUser \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> added\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tOptionally, use the remote procedure call (RPC) shell to enable the account on the AD DC or NT4 PDC. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net rpc shell -U \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator -S \u003Cspan class=\"emphasis\">\u003Cem>DC_or_PDC_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nTalking to domain DOMAIN (\u003Cspan class=\"emphasis\">\u003Cem>S-1-5-21-1424831554-512457234-5642315751\u003C/em>\u003C/span>)\n\nnet rpc&gt; \u003Ccode class=\"literal command\">user edit disabled \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span>: no\u003C/code>\nSet \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span>'s disabled flag from [yes] to [no]\n\nnet rpc&gt; \u003Ccode class=\"literal command\">exit\u003C/code>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Ch5 id=\"deleting_a_user_account_from_the_domain\">Deleting a user account from the domain\u003C/h5>\u003Cp>\n\t\t\t\t\tOn a Samba domain member, you can use the \u003Ccode class=\"literal\">net user delete\u003C/code> command to remove a user account from the domain.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\tFor example, to remove the \u003Ccode class=\"literal\">user\u003C/code> account from the domain:\n\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>net user delete \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\"\u003C/strong>\u003C/span>\nUser \u003Cspan class=\"emphasis\">\u003Cem>user\u003C/em>\u003C/span> deleted\u003C/pre>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-rpcclient-utility_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.5. Using the rpcclient utility\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">rpcclient\u003C/code> utility enables you to manually execute client-side Microsoft Remote Procedure Call (MS-RPC) functions on a local or remote SMB server. However, most of the features are integrated into separate utilities provided by Samba. Use \u003Ccode class=\"literal\">rpcclient\u003C/code> only for testing MS-PRC functions.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-client\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Ch5 id=\"examples\">Examples\u003C/h5>\u003Cp>\n\t\t\t\t\tFor example, you can use the \u003Ccode class=\"literal\">rpcclient\u003C/code> utility to:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tManage the printer Spool Subsystem (SPOOLSS).\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140443013338000\">\u003Cp class=\"title\">\u003Cstrong>Example 1.7. Assigning a Driver to a Printer\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rpcclient \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span> -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\" -c 'setdriver \"\u003Cspan class=\"emphasis\">\u003Cem>printer_name\u003C/em>\u003C/span>\" \"\u003Cspan class=\"emphasis\">\u003Cem>driver_name\u003C/em>\u003C/span>\"'\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrators password:\nSuccessfully set \u003Cspan class=\"emphasis\">\u003Cem>printer_name\u003C/em>\u003C/span> to driver \u003Cspan class=\"emphasis\">\u003Cem>driver_name\u003C/em>\u003C/span>.\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tRetrieve information about an SMB server.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140443014796528\">\u003Cp class=\"title\">\u003Cstrong>Example 1.8. Listing all File Shares and Shared Printers\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rpcclient \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span> -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\" -c 'netshareenum'\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrators password:\nnetname: \u003Cspan class=\"emphasis\">\u003Cem>Example_Share\u003C/em>\u003C/span>\n\tremark:\n\tpath:   \u003Cspan class=\"emphasis\">\u003Cem>C:\\srv\\samba\\example_share\\\u003C/em>\u003C/span>\n\tpassword:\nnetname: \u003Cspan class=\"emphasis\">\u003Cem>Example_Printer\u003C/em>\u003C/span>\n\tremark:\n\tpath:   \u003Cspan class=\"emphasis\">\u003Cem>C:\\var\\spool\\samba\\\u003C/em>\u003C/span>\n\tpassword:\u003C/pre>\u003C/div>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tPerform actions using the Security Account Manager Remote (SAMR) protocol.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"example\" id=\"idm140443014789520\">\u003Cp class=\"title\">\u003Cstrong>Example 1.9. Listing Users on an SMB Server\u003C/strong>\u003C/p>\u003Cdiv class=\"example-contents\">\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>rpcclient \u003Cspan class=\"emphasis\">\u003Cem>server_name\u003C/em>\u003C/span> -U \"\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator\" -c 'enumdomusers'\u003C/strong>\u003C/span>\nEnter \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrators password:\nuser:[\u003Cspan class=\"emphasis\">\u003Cem>user1\u003C/em>\u003C/span>] rid:[\u003Cspan class=\"emphasis\">\u003Cem>0x3e8\u003C/em>\u003C/span>]\nuser:[\u003Cspan class=\"emphasis\">\u003Cem>user2\u003C/em>\u003C/span>] rid:[\u003Cspan class=\"emphasis\">\u003Cem>0x3e9\u003C/em>\u003C/span>]\u003C/pre>\u003C/div>\u003C/div>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you run the command against a standalone server or a domain member, it lists the users in the local database. Running the command against an AD DC or NT4 PDC lists the domain users.\n\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpcclient(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-samba-regedit-application_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.6. Using the samba-regedit application\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tCertain settings, such as printer configurations, are stored in the registry on the Samba server. You can use the ncurses-based \u003Ccode class=\"literal\">samba-regedit\u003C/code> application to edit the registry of a Samba server.\n\t\t\t\t\u003C/p>\u003Cp>\n\t\t\t\t\t\u003Cspan class=\"inlinemediaobject\">\u003Cimg src=\"https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US/images/833c4a7000838d838a71be969856b715/samba-regedit.png\" alt=\"samba regedit\"/>\u003C/span>\n\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-client\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tTo start the application, enter:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>samba-regedit\u003C/strong>\u003C/span>\u003C/pre>\u003Cp>\n\t\t\t\t\tUse the following keys:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tCursor up and cursor down: Navigate through the registry tree and the values.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ckbd class=\"keycap\">Enter\u003C/kbd>: Opens a key or edits a value.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ckbd class=\"keycap\">Tab\u003C/kbd>: Switches between the \u003Ccode class=\"literal\">Key\u003C/code> and \u003Ccode class=\"literal\">Value\u003C/code> pane.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ckbd class=\"keycap\">Ctrl\u003C/kbd>+\u003Ckbd class=\"keycap\">C\u003C/kbd>: Closes the application.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-smbcontrol-utility_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.7. Using the smbcontrol utility\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">smbcontrol\u003C/code> utility enables you to send command messages to the \u003Ccode class=\"literal\">smbd\u003C/code>, \u003Ccode class=\"literal\">nmbd\u003C/code>, \u003Ccode class=\"literal\">winbindd\u003C/code>, or all of these services. These control messages instruct the service, for example, to reload its configuration.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-common-tools\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tReload the configuration of the \u003Ccode class=\"literal\">smbd\u003C/code>, \u003Ccode class=\"literal\">nmbd\u003C/code>, \u003Ccode class=\"literal\">winbindd\u003C/code> services by sending the \u003Ccode class=\"literal\">reload-config\u003C/code> message type to the \u003Ccode class=\"literal\">all\u003C/code> destination:\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbcontrol all reload-config\u003C/strong>\u003C/span>\u003C/pre>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smbcontrol(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-smbpasswd-utility_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.8. Using the smbpasswd utility\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">smbpasswd\u003C/code> utility manages user accounts and passwords in the local Samba database.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-common-tools\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you run the command as a user, \u003Ccode class=\"literal\">smbpasswd\u003C/code> changes the Samba password of the user who run the command. For example:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[user@server ~]$ \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd\u003C/strong>\u003C/span>\nNew SMB password: \u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\nRetype new SMB password: \u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tIf you run \u003Ccode class=\"literal\">smbpasswd\u003C/code> as the \u003Ccode class=\"literal\">root\u003C/code> user, you can use the utility, for example, to:\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tCreate a new user:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd -a \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nNew SMB password: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/code>\u003C/strong>\u003C/span>\nRetype new SMB password: \u003Cspan class=\"strong strong\">\u003Cstrong>\u003Ccode class=\"literal\">\u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span>\u003C/code>\u003C/strong>\u003C/span>\nAdded user \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>.\u003C/pre>\u003Crh-alert class=\"admonition note\" state=\"info\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Note\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\t\tBefore you can add a user to the Samba database, you must create the account in the local operating system. See the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_basic_system_settings/managing-users-and-groups_configuring-basic-system-settings#adding-a-user-from-the-command-line_managing-users-from-the-command-line\">Adding a new user from the command line\u003C/a> section in the Configuring basic system settings guide.\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tEnable a Samba user:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd -e \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nEnabled user \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>.\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tDisable a Samba user:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd -x \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nDisabled user \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tDelete a user:\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[root@server ~]# \u003Cspan class=\"strong strong\">\u003Cstrong>smbpasswd -x \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nDeleted user \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span>.\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smbpasswd(8)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-smbstatus-utility_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.9. Using the smbstatus utility\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">smbstatus\u003C/code> utility reports on:\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tConnections per PID of each \u003Ccode class=\"literal\">smbd\u003C/code> daemon to the Samba server. This report includes the user name, primary group, SMB protocol version, encryption, and signing information.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tConnections per Samba share. This report includes the PID of the \u003Ccode class=\"literal\">smbd\u003C/code> daemon, the IP of the connecting machine, the time stamp when the connection was established, encryption, and signing information.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tA list of locked files. The report entries include further details, such as opportunistic lock (oplock) types\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">smbd\u003C/code> service is running.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\t\n\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbstatus\u003C/strong>\u003C/span>\n\nSamba version 4.15.2\nPID  Username              Group                Machine                            Protocol Version  Encryption  Signing\n....-------------------------------------------------------------------------------------------------------------------------\n963  \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\administrator  \u003Cspan class=\"emphasis\">\u003Cem>DOMAIN\u003C/em>\u003C/span>\\domain users  client-pc  (ipv4:192.0.2.1:57786)  SMB3_02           -           AES-128-CMAC\n\nService  pid  Machine    Connected at                  Encryption  Signing:\n....---------------------------------------------------------------------------\nexample  969  192.0.2.1  Thu Nov  1 10:00:00 2018 CEST  -           AES-128-CMAC\n\nLocked files:\nPid  Uid    DenyMode   Access    R/W     Oplock      SharePath           Name      Time\n....--------------------------------------------------------------------------------------------------------\n969  10000  DENY_WRITE 0x120089  RDONLY  LEASE(RWH)  /srv/samba/example  file.txt  Thu Nov  1 10:00:00 2018\u003C/pre>\n\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smbstatus(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-smbtar-utility_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.10. Using the smbtar utility\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">smbtar\u003C/code> utility backs up the content of an SMB share or a subdirectory of it and stores the content in a \u003Ccode class=\"literal\">tar\u003C/code> archive. Alternatively, you can write the content to a tape device.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-client\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUse the following command to back up the content of the \u003Ccode class=\"literal\">demo\u003C/code> directory on the \u003Ccode class=\"literal\">//server/example/\u003C/code> share and store the content in the \u003Ccode class=\"literal\">/root/example.tar\u003C/code> archive:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>smbtar -s \u003Cspan class=\"emphasis\">\u003Cem>server\u003C/em>\u003C/span> -x \u003Cspan class=\"emphasis\">\u003Cem>example\u003C/em>\u003C/span> -u \u003Cspan class=\"emphasis\">\u003Cem>user_name\u003C/em>\u003C/span> -p \u003Cspan class=\"emphasis\">\u003Cem>password\u003C/em>\u003C/span> -t \u003Cspan class=\"emphasis\">\u003Cem>/root/example.tar\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">smbtar(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"proc_using-the-wbinfo-utility_assembly_frequently-used-samba-command-line-utilities\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch4 class=\"title\">1.20.11. Using the wbinfo utility\u003C/h4>\u003C/div>\u003C/div>\u003C/div>\u003Cp>\n\t\t\t\t\tThe \u003Ccode class=\"literal\">wbinfo\u003C/code> utility queries and returns information created and used by the \u003Ccode class=\"literal\">winbindd\u003C/code> service.\n\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal package\">samba-winbind-clients\u003C/code> package is installed.\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"formalpara\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Cp>\n\t\t\t\t\t\tYou can use \u003Ccode class=\"literal\">wbinfo\u003C/code>, for example, to:\n\t\t\t\t\t\u003C/p>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList domain users:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wbinfo -u\u003C/strong>\u003C/span>\nAD\\administrator\nAD\\guest\n...\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tList domain groups:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wbinfo -g\u003C/strong>\u003C/span>\nAD\\domain computers\nAD\\domain admins\nAD\\domain users\n...\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay the SID of a user:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wbinfo --name-to-sid=\"AD\\administrator\"\u003C/strong>\u003C/span>\n\u003Cspan class=\"emphasis\">\u003Cem>S-1-5-21-1762709870-351891212-3141221786-500\u003C/em>\u003C/span> SID_USER (1)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tDisplay information about domains and trusts:\n\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>wbinfo --trusted-domains --verbose\u003C/strong>\u003C/span>\nDomain Name   DNS Domain            Trust Type  Transitive  In   Out\nBUILTIN                             None        Yes         Yes  Yes\n\u003Cspan class=\"emphasis\">\u003Cem>server\u003C/em>\u003C/span>                              None        Yes         Yes  Yes\n\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN1\u003C/em>\u003C/span>       \u003Cspan class=\"emphasis\">\u003Cem>domain1.example.com\u003C/em>\u003C/span>   None        Yes         Yes  Yes\n\u003Cspan class=\"emphasis\">\u003Cem>DOMAIN2\u003C/em>\u003C/span>       \u003Cspan class=\"emphasis\">\u003Cem>domain2.example.com\u003C/em>\u003C/span>   External    No          Yes  Yes\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\t\u003Ccode class=\"literal\">wbinfo(1)\u003C/code> man page\n\t\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"section _additional-resources\" id=\"additional_resources_2\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">1.21. Additional resources\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">smb.conf(5)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">/usr/share/docs/samba-version/\u003C/code> directory contains general documentation, example scripts, and LDAP schema files, provided by the Samba project\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_gluster_storage/3.5/html/administration_guide/sect-smb\">Setting up Samba and the Clustered Trivial Database (CDTB) to share directories stored on an GlusterFS volume\u003C/a>\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/mounting-an-smb-share-on-red-hat-enterprise-linux_managing-file-systems\">Mounting an SMB Share on Red Hat Enterprise Linux\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003C/section>\u003Csection class=\"chapter\" id=\"deploying-an-nfs-server_configuring-and-using-network-file-services\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch2 class=\"title\">Chapter 2. Deploying an NFS server\u003C/h2>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\tBy using the Network File System (NFS) protocol, remote users can mount shared directories over a network and use them as they were mounted locally. This enables you to consolidate resources onto centralized servers on the network.\n\t\t\u003C/p>\u003Csection class=\"section\" id=\"key-features-of-minor-nfsv4-versions_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.1. Key features of minor NFSv4 versions\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tEach minor NFSv4 version brings enhancements aimed at improving performance and security. Use these improvements to utilize the full potential of NFSv4, ensuring efficient and reliable file sharing across networks.\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Key features of NFSv4.2\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Server-side copy\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tServer-side copy is a capability of the NFS server to copy files on the server without transferring the data back and forth over the network.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Sparse files\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tEnables files to have one or more empty spaces, or gaps, which are unallocated or uninitialized data blocks consisting only of zeros. This enables applications to map out the location of holes in the sparse file.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Space reservation\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tClients can reserve or allocate space on the storage server before writing data. This prevents the server from running out of space.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Labeled NFS\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tEnforces data access rights and enables SELinux labels between a client and a server for individual files on an NFS file system.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Layout enhancements\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tProvides functionality to enable Parallel NFS (pNFS) servers to collect better performance statistics.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Key features of NFSv4.1\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Client-side support for pNFS\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe support of high-speed I/O to clustered servers enables you to store data on multiple machines, to provide direct access to data, and synchronization of updates to metadata.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Sessions\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tSessions maintain the server’s state relative to the connections belonging to a client. These sessions provide improved performance and efficiency by reducing the overhead associated with establishing and terminating connections for each Remote Procedure Call (RPC) operation.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cdiv class=\"variablelist\">\u003Cp class=\"title\">\u003Cstrong>Key features of NFSv4.0\u003C/strong>\u003C/p>\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">RPC and security\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">RPCSEC_GSS\u003C/code> framework enhances RPC security. The NFSv4 protocol introduces a new operation for in-band security negotiation. This enables clients to query server policies for accessing file system resources securely.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Procedure and operation structure\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tNFS 4.0 introduces the \u003Ccode class=\"literal\">COMPOUND\u003C/code> procedure, which enables clients to merge multiple operations into a single request to reduce RPCs.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">File system model\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tNFS 4.0 retains the hierarchical file system model, treating files as byte streams and encoding names with UTF-8 for internationalization.\n\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>File handle types\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tWith volatile file handles, servers can adjust to file system changes and enable clients to adapt as needed without requiring permanent file handles.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Attribute types\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tThe file attribute structure includes required, recommended, and named attributes, each serving distinct purposes. Required attributes, derived from NFSv3, are essential for distinguishing file types, while recommended attributes, such as ACLs, provide enhanced access control.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\u003Cspan class=\"strong strong\">\u003Cstrong>Multi-server namespace\u003C/strong>\u003C/span>\n\t\t\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\tNamespaces span across multiple servers, simplify file system transfers based on attributes, support referrals, redundancy, and seamless server migration.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ul>\u003C/div>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">OPEN and CLOSE operations\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThese operations can combine file lookup, creation, and semantic sharing at a single point and make the file access management more efficient.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">File locking\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tFile locking is part of the protocol, eliminating the need for RPC callbacks. File lock state is managed by the server under a lease-based model, where failure to renew the lease may result in state release by the server.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">Client caching and delegation\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tCaching resembles previous versions, with client-determined timeouts for attribute and directory caching. Delegations in NFS 4.0 allow the server to assign certain responsibilities to the client, guaranteeing specific file sharing semantics and enabling local file operations without immediate server interaction.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"the-auth-sys-authentication-method_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.2. The AUTH_SYS authentication method\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">AUTH_SYS\u003C/code> method, which is also known as \u003Ccode class=\"literal\">AUTH_UNIX\u003C/code>, is a client authentication mechanism. With \u003Ccode class=\"literal\">AUTH_SYS\u003C/code>, the client sends the User ID (UID) and Group ID (GID) of the user to the server to verify its identity and permissions when accessing files. It is considered less secure as it relies on the client-provided information, making it susceptible to unauthorized access if misconfigured.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tMapping mechanisms ensure that NFS clients can access files with the appropriate permissions on the server, even if the UID and GID assignments differ between systems. UIDs and GIDs are mapped between NFS client and server by the following mechanisms:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">Direct mapping\u003C/span>\u003C/dt>\u003Cdd>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tUIDs and GIDs are directly mapped by NFS servers and clients between local and remote systems. This requires consistent UID and GID assignments across all systems participating in NFS file sharing. For example, a user with UID 1000 on a client can only access the files on a share that a user with UID 1000 on the server has access to.\n\t\t\t\t\t\t\u003C/p>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\tFor a simplified ID management in an NFS environment, administrators often rely on centralized services, such as LDAP or Network Information Service (NIS) to manage UID and GID mappings across multiple systems.\n\t\t\t\t\t\t\u003C/p>\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">User and Group ID mapping\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tNFS servers and clients can use the \u003Ccode class=\"literal\">idmapd\u003C/code> service to translate UIDs and GIDs between different systems for consistent identification and permission assignment.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"the-auth-gss-authentication-method_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.3. The AUTH_GSS authentication method\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tKerberos is a network authentication protocol that allows secure authentication for clients and servers over a non-secure network. It uses symmetric key cryptography and requires a trusted Key Distribution Center (KDC) to authenticate users and services.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tUnlike \u003Ccode class=\"literal\">AUTH_SYS\u003C/code>, with the \u003Ccode class=\"literal\">RPCSEC_GSS\u003C/code> Kerberos mechanism, the server does not depend on the client to correctly represent which user is accessing the file. Instead, cryptography is used to authenticate users to the server, which prevents a malicious client from impersonating a user without having that user’s Kerberos credentials.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tIn the \u003Ccode class=\"literal\">/etc/exports\u003C/code> file, the \u003Ccode class=\"literal\">sec\u003C/code> option defines one or multiple methods of Kerberos security that the share should provide, and clients can mount the share with one of these methods. The \u003Ccode class=\"literal\">sec\u003C/code> option supports the following values:\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">sys\u003C/code>: no cryptographic protection (default)\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">krb5\u003C/code>: authentication only\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">krb5i\u003C/code>: authentication and integrity protection\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">krb5p\u003C/code>: authentication, integrity checking, and traffic encryption\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cp>\n\t\t\t\tNote that the more cryptographic functionality a method provides, the lower is the performance.\n\t\t\t\u003C/p>\u003C/section>\u003Csection class=\"section\" id=\"file-permissions-on-exported-file-systems_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.4. File permissions on exported file systems\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tFile permissions on exported file systems determine access rights to files and directories for clients accessing them over NFS.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tOnce the NFS file system is mounted by a remote host, the only protection each shared file has is its file system permissions. If two users that share the same User ID (UID) value mount the same NFS file system on different client systems, they can modify each other’s files.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tNFS treats the \u003Ccode class=\"literal\">root\u003C/code> user on the client as equivalent to the \u003Ccode class=\"literal\">root\u003C/code> user on the server. However, by default, the NFS server maps \u003Ccode class=\"literal\">root\u003C/code> to the \u003Ccode class=\"literal\">nobody\u003C/code> account when accessing an NFS share. The \u003Ccode class=\"literal\">root_squash\u003C/code> option controls this behavior.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">exports(5)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"services-required-on-an-nfs-server_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.5. Services required on an NFS server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tRed Hat Enterprise Linux (RHEL) uses a combination of a kernel module and user-space processes to provide NFS file shares:\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140443012471040\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 2.1. Services required on an NFS server\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 17%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 17%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 66%; \" class=\"col_3\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443017052752\" scope=\"col\">Service name\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443017051664\" scope=\"col\">NFS versions\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443017050576\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nfsd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3, 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe NFS kernel module that services requests for shared NFS file systems.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpcbind\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis process accepts port reservations from local remote procedure call (RPC) services, makes them available or advertised, allowing corresponding remote RPC services to access them. The \u003Ccode class=\"literal\">rpcbind\u003C/code> service responds to requests and sets up connections to the specified RPC service.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpc.mountd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3, 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis service processes \u003Ccode class=\"literal\">MOUNT\u003C/code> requests from NFSv3 clients, and NFSv4 servers use internal functions of this service.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tIt checks that the requested NFS share is currently exported by the NFS server and that the client is allowed to access it.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpc.nfsd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3, 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis process advertises explicit NFS versions and protocols the server defines. It works with the kernel to meet the dynamic demands of NFS clients, such as providing server threads each time an NFS client connects.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003Cp>\n\t\t\t\t\t\t\t\tThe \u003Ccode class=\"literal\">nfs-server\u003C/code> service starts this process.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">lockd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis kernel module implements the Network Lock Manager (NLM) protocol, which enables clients to lock files on the server. RHEL loads the module automatically when the NFS server runs.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpc.rquotad\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3, 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis service provides user quota information for remote users.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpc.idmapd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis process provides NFSv4 client and server upcalls, which map between NFSv4 names (strings in the form of \u003Cspan class=\"emphasis\">\u003Cem>`user@domain`\u003C/em>\u003C/span>) and local user and group IDs.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">gssproxy\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3, 4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis service handles \u003Ccode class=\"literal\">krb5\u003C/code> authentication on behalf of \u003Ccode class=\"literal\">rpc.nfsd\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">nfsdcld\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t4\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis service provides a NFSv4 client tracking daemon that prevents the server from granting lock reclaims when other clients have taken conflicting locks during a network partition combined with a server reboot.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017052752\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">rpc.statd\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017051664\"> \u003Cp>\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443017050576\"> \u003Cp>\n\t\t\t\t\t\t\t\tThis service provides notification to other NFSv3 clients when the local host reboots, and to the kernel when a remote NFSv3 host reboots.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">rpcbind(8)\u003C/code>, \u003Ccode class=\"literal\">rpc.mountd(8)\u003C/code>, \u003Ccode class=\"literal\">rpc.nfsd(8)\u003C/code>, \u003Ccode class=\"literal\">rpc.statd(8)\u003C/code>, \u003Ccode class=\"literal\">rpc.rquotad(8)\u003C/code>, \u003Ccode class=\"literal\">rpc.idmapd(8)\u003C/code>, \u003Ccode class=\"literal\">gssproxy(8)\u003C/code>, \u003Ccode class=\"literal\">nfsdcld(8)\u003C/code>, \u003Ccode class=\"literal\">rpc.statd(8)\u003C/code> man pages\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"the-etc-exports-configuration-file_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.6. The /etc/exports configuration file\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tThe \u003Ccode class=\"literal\">/etc/exports\u003C/code> file controls which directories the server exports. Each line contains an export point, a whitespace-separated list of clients that are allowed to mount the directory, and options for each of the clients:\n\t\t\t\u003C/p>\u003Cpre class=\"screen\">&lt;directory&gt; &lt;host_or_network_1&gt;(&lt;options_1&gt;) &lt;host_or_network_n&gt;(&lt;options_n&gt;)...\u003C/pre>\u003Cp>\n\t\t\t\tThe following are the individual parts of an \u003Ccode class=\"literal\">/etc/exports\u003C/code> entry:\n\t\t\t\u003C/p>\u003Cdiv class=\"variablelist\">\u003Cdl class=\"variablelist\">\u003Cdt>\u003Cspan class=\"term\">\u003Cspan class=\"strong strong\">\u003Cstrong>&lt;export&gt;\u003C/strong>\u003C/span>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe directory that is being exported.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Cspan class=\"strong strong\">\u003Cstrong>&lt;host_or_network&gt;\u003C/strong>\u003C/span>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe host or network to which the export is being shared. For example, you can specify a hostname, an IP address, or an IP network.\n\t\t\t\t\t\t\u003C/dd>\u003Cdt>\u003Cspan class=\"term\">\u003Cspan class=\"strong strong\">\u003Cstrong>&lt;options&gt;\u003C/strong>\u003C/span>\u003C/span>\u003C/dt>\u003Cdd>\n\t\t\t\t\t\t\tThe options for the host or network.\n\t\t\t\t\t\t\u003C/dd>\u003C/dl>\u003C/div>\u003Cp>\n\t\t\t\tAdding a space between a client and options, changes the behavior. For example, the following lines do not have the same meaning:\n\t\t\t\u003C/p>\u003Cpre class=\"screen\">/projects\tclient.example.com(rw)\n/projects\tclient.example.com (rw)\u003C/pre>\u003Cp>\n\t\t\t\tIn the first line, the server allows only \u003Ccode class=\"literal\">client.example.com\u003C/code> to mount the \u003Ccode class=\"literal\">/projects\u003C/code> directory in read-write mode, and no other hosts can mount the share. However, due to the space between \u003Ccode class=\"literal\">client.example.com\u003C/code> and \u003Ccode class=\"literal\">(rw)\u003C/code> in the second line, the server exports the directory to \u003Ccode class=\"literal\">client.example.com\u003C/code> in read-only mode (default setting), but all other hosts can mount the share in read-write mode.\n\t\t\t\u003C/p>\u003Cp>\n\t\t\t\tThe NFS server uses the following default settings for each exported directory:\n\t\t\t\u003C/p>\u003Crh-table id=\"idm140443013666448\">\u003Ctable class=\"lt-4-cols lt-7-rows\">\u003Ccaption>Table 2.2. Default options of entries in /etc/exports\u003C/caption>\u003Ccolgroup>\u003Ccol style=\"width: 20%; \" class=\"col_1\">\u003C!--Empty-->\u003C/col>\u003Ccol style=\"width: 80%; \" class=\"col_2\">\u003C!--Empty-->\u003C/col>\u003C/colgroup>\u003Cthead>\u003Ctr>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443016295104\" scope=\"col\">Default setting\u003C/th>\u003Cth align=\"left\" valign=\"top\" id=\"idm140443016294016\" scope=\"col\">Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016295104\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">ro\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016294016\"> \u003Cp>\n\t\t\t\t\t\t\t\tExports the directory in read-only mode.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016295104\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">sync\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016294016\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe NFS server does not reply to requests before changes made by previous requests are written to disk.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016295104\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">wdelay\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016294016\"> \u003Cp>\n\t\t\t\t\t\t\t\tThe server delays writing to the disk if it suspects another write request is pending..\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003Ctr>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016295104\"> \u003Cp>\n\t\t\t\t\t\t\t\t\u003Ccode class=\"literal\">root_squash\u003C/code>\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003Ctd align=\"left\" valign=\"top\" headers=\"idm140443016294016\"> \u003Cp>\n\t\t\t\t\t\t\t\tPrevents that the \u003Ccode class=\"literal\">root\u003C/code> user on clients has \u003Ccode class=\"literal\">root\u003C/code> permissions on an exported directory. With \u003Ccode class=\"literal\">root_squash\u003C/code> enabled, the NFS server maps access from \u003Ccode class=\"literal\">root\u003C/code> to the user \u003Ccode class=\"literal\">nobody\u003C/code>.\n\t\t\t\t\t\t\t\u003C/p>\n\t\t\t\t\t\t\t \u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\u003C/rh-table>\u003C/section>\u003Csection class=\"section\" id=\"configuring-an-nfsv4-only-server_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.7. Configuring an NFSv4-only server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf you do not have any NFSv3 clients in your network, you can configure the NFS server to support only NFSv4 or specific minor protocol versions of it. Using only NFSv4 on the server reduces the number of ports that are open to the network.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nfs-utils\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nfs-utils\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEdit the \u003Ccode class=\"literal\">/etc/nfs.conf\u003C/code> file, and make the following changes:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDisable the \u003Ccode class=\"literal\">vers3\u003C/code> parameter in the \u003Ccode class=\"literal\">[nfsd]\u003C/code> section to disable NFSv3:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[nfsd]\nvers3=n\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tOptional: If you require only specific NFSv4 minor versions, uncomment all \u003Ccode class=\"literal\">vers4.&lt;minor_version&gt;\u003C/code> parameters and set them accordingly, for example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[nfsd]\nvers3=n\n# vers4=y\nvers4.0=n\nvers4.1=n\nvers4.2=y\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWith this configuration, the server provides only NFS version 4.2.\n\t\t\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\t\t\tIf you require only a specific NFSv4 minor version, set only the parameters for the minor versions. Do not uncomment the \u003Ccode class=\"literal\">vers4\u003C/code> parameter to avoid an unpredictable activation or deactivation of minor versions. By default, the \u003Ccode class=\"literal\">vers4\u003C/code> parameter enables or disables all NFSv4 minor versions. However, this behavior changes if you set \u003Ccode class=\"literal\">vers4\u003C/code> in conjunction with other \u003Ccode class=\"literal\">vers\u003C/code> parameters.\n\t\t\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tDisable all NFSv3-related services:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl mask --now rpc-statd.service rpcbind.service rpcbind.socket\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tConfigure the \u003Ccode class=\"literal\">rpc.mountd\u003C/code> daemon to not listen for NFSv3 mount requests. Create a \u003Ccode class=\"literal\">/etc/systemd/system/nfs-mountd.service.d/v4only.conf\u003C/code> file with the following content:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[Service]\nExecStart=\nExecStart=/usr/sbin/rpc.mountd --no-tcp --no-udp\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReload the \u003Ccode class=\"literal\">systemd\u003C/code> manager configuration and restart the \u003Ccode class=\"literal\">nfs-mountd\u003C/code> service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl daemon-reload\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart nfs-mountd\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Create a directory that you want to share, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p \u003Cspan class=\"emphasis\">\u003Cem>/nfs/projects/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you want to share an existing directory, skip this step.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the permissions you require on the \u003Ccode class=\"literal\">/nfs/projects/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 2770 /nfs/projects/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>chgrp users /nfs/projects/\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThese commands set write permissions for the \u003Ccode class=\"literal\">users\u003C/code> group on the \u003Ccode class=\"literal\">/nfs/projects/\u003C/code> directory and ensure that the same group is automatically set on new entries created in this directory.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd an export point to the \u003Ccode class=\"literal\">/etc/exports\u003C/code> file for each directory that you want to share:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/nfs/projects/     192.0.2.0/24(rw) 2001:db8::/32(rw)\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis entry shares the \u003Ccode class=\"literal\">/nfs/projects/\u003C/code> directory to be accessible with read and write access to clients in the \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code> and \u003Ccode class=\"literal\">2001:db8::/32\u003C/code> subnets.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the relevant ports in \u003Ccode class=\"literal\">firewalld\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service nfs\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable and start the NFS server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now nfs-server\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the server, verify that the server provides only the NFS versions that you have configured:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /proc/fs/nfsd/versions\u003C/strong>\u003C/span>\n-3 +4 -4.0 -4.1 +4.2\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a client, perform the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nfs-utils\u003C/code> package:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nfs-utils\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMount an exported NFS share:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount \u003Cspan class=\"emphasis\">\u003Cem>server.example.com:/nfs/projects/\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>/mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAs a user which is a member of the \u003Ccode class=\"literal\">users\u003C/code> group, create a file in \u003Ccode class=\"literal\">/mnt/\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>touch \u003Cspan class=\"emphasis\">\u003Cem>/mnt/file\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tList the directory to verify that the file was created:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ls -l \u003Cspan class=\"emphasis\">\u003Cem>/mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntotal 0\n-rw-r--r--. 1 demo users 0 Jan 16 14:18 file\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"configuring-an-nfsv3-server-with-optional-nfsv4-support_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.8. Configuring an NFSv3 server with optional NFSv4 support\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIn a network which still uses NFSv3 clients, configure the server to provide shares by using the NFSv3 protocol. If you also have newer clients in your network, you can, additionally, enable NFSv4. By default, Red Hat Enterprise Linux NFS clients use the latest NFS version that the server provides.\n\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nfs-utils\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nfs-utils\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: By default, NFSv3 and NFSv4 are enabled. If you do not require NFSv4 or only specific minor versions, uncomment all \u003Ccode class=\"literal\">vers4.&lt;minor_version&gt;\u003C/code> parameters and set them accordingly:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">[nfsd]\n# vers3=y\n# vers4=y\nvers4.0=n\nvers4.1=n\nvers4.2=y\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tWith this configuration, the server provides only the NFS version 3 and 4.2.\n\t\t\t\t\t\u003C/p>\u003Crh-alert class=\"admonition important\" state=\"warning\">\u003Cdiv class=\"admonition_header\" slot=\"header\">Important\u003C/div>\u003Cdiv>\u003Cp>\n\t\t\t\t\t\t\tIf you require only a specific NFSv4 minor version, set only the parameters for the minor versions. Do not uncomment the \u003Ccode class=\"literal\">vers4\u003C/code> parameter to avoid an unpredictable activation or deactivation of minor versions. By default, the \u003Ccode class=\"literal\">vers4\u003C/code> parameter enables or disables all NFSv4 minor versions. However, this behavior changes if you set \u003Ccode class=\"literal\">vers4\u003C/code> in conjunction with other \u003Ccode class=\"literal\">vers\u003C/code> parameters.\n\t\t\t\t\t\t\u003C/p>\u003C/div>\u003C/rh-alert>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy default, NFSv3 RPC services use random ports. To enable a firewall configuration, configure fixed port numbers in the \u003Ccode class=\"literal\">/etc/nfs.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">[lockd]\u003C/code> section, set a fixed port number for the \u003Ccode class=\"literal\">nlockmgr\u003C/code> RPC service, for example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[lockd]\nport=\u003Cspan class=\"emphasis\">\u003Cem>5555\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWith this setting, the service automatically uses this port number for both the UDP and TCP protocol.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIn the \u003Ccode class=\"literal\">[statd]\u003C/code> section, set a fixed port number for the \u003Ccode class=\"literal\">rpc.statd\u003C/code> service, for example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">[statd]\nport=\u003Cspan class=\"emphasis\">\u003Cem>6666\u003C/em>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tWith this setting, the service automatically uses this port number for both the UDP and TCP protocol.\n\t\t\t\t\t\t\t\u003C/p>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Create a directory that you want to share, for example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mkdir -p \u003Cspan class=\"emphasis\">\u003Cem>/nfs/projects/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you want to share an existing directory, skip this step.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tSet the permissions you require on the \u003Ccode class=\"literal\">/nfs/projects/\u003C/code> directory:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>chmod 2770 /nfs/projects/\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>chgrp users /nfs/projects/\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThese commands set write permissions for the \u003Ccode class=\"literal\">users\u003C/code> group on the \u003Ccode class=\"literal\">/nfs/projects/\u003C/code> directory and ensure that the same group is automatically set on new entries created in this directory.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdd an export point to the \u003Ccode class=\"literal\">/etc/exports\u003C/code> file for each directory that you want to share:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">/nfs/projects/     192.0.2.0/24(rw) 2001:db8::/32(rw)\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tThis entry shares the \u003Ccode class=\"literal\">/nfs/projects/\u003C/code> directory to be accessible with read and write access to clients in the \u003Ccode class=\"literal\">192.0.2.0/24\u003C/code> and \u003Ccode class=\"literal\">2001:db8::/32\u003C/code> subnets.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the relevant ports in \u003Ccode class=\"literal\">firewalld\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-service={nfs,rpc-bind,mountd}\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-port={\u003Cspan class=\"emphasis\">\u003Cem>5555\u003C/em>\u003C/span>/tcp,\u003Cspan class=\"emphasis\">\u003Cem>5555\u003C/em>\u003C/span>/udp,\u003Cspan class=\"emphasis\">\u003Cem>6666\u003C/em>\u003C/span>/tcp,\u003Cspan class=\"emphasis\">\u003Cem>6666\u003C/em>\u003C/span>/udp}\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable and start the NFS server:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now rpc-statd nfs-server\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the server, verify that the server provides only the NFS versions that you have configured:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>cat /proc/fs/nfsd/versions\u003C/strong>\u003C/span>\n+3 +4 -4.0 -4.1 +4.2\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a client, perform the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">nfs-utils\u003C/code> package:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nfs-utils\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMount an exported NFS share:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount -o vers=&lt;version&gt; \u003Cspan class=\"emphasis\">\u003Cem>server.example.com:/nfs/projects/\u003C/em>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>/mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tVerify that the share was mounted with the specified NFS version:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount | grep \"\u003Cspan class=\"emphasis\">\u003Cem>/mnt\u003C/em>\u003C/span>\"\u003C/strong>\u003C/span>\nserver.example.com:/nfs/projects/ on /mnt type nfs (rw,relatime,\u003Cspan class=\"strong strong\">\u003Cstrong>vers=3\u003C/strong>\u003C/span>,...\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tAs a user which is a member of the \u003Ccode class=\"literal\">users\u003C/code> group, create a file in \u003Ccode class=\"literal\">/mnt/\u003C/code>:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>touch \u003Cspan class=\"emphasis\">\u003Cem>/mnt/file\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tList the directory to verify that the file was created:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ls -l \u003Cspan class=\"emphasis\">\u003Cem>/mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ntotal 0\n-rw-r--r--. 1 demo users 0 Jan 16 14:18 file\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-quota-support-on-an-nfs-server_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.9. Enabling quota support on an NFS server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf you want to restrict the amount of data a user or a group can store, you can configure quotas on the file system. On an NFS server, the \u003Ccode class=\"literal\">rpc-rquotad\u003C/code> service ensures that the quota is also applied to users on NFS clients.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe NFS server is running and configured.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tQuotas have been configured on the \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/limiting-storage-space-usage-on-ext4-with-quotas_managing-file-systems#doc-wrapper\">ext\u003C/a> or \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_file_systems/assembly_limiting-storage-space-usage-on-xfs-with-quotas_managing-file-systems\">XFS\u003C/a> file system.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tVerify that quotas are enabled on the directories that you export:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor ext file system, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>quotaon -p \u003Cspan class=\"emphasis\">\u003Cem>/nfs/projects/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\ngroup quota on /nfs/projects (/dev/sdb1) is on\nuser quota on /nfs/projects (/dev/sdb1) is on\nproject quota on /nfs/projects (/dev/sdb1) is off\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tFor an XFS file system, enter:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>findmnt \u003Cspan class=\"emphasis\">\u003Cem>/nfs/projects\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nTARGET    \tSOURCE\tFSTYPE OPTIONS\n/nfs/projects /dev/sdb1 xfs\trw,relatime,seclabel,attr2,inode64,logbufs=8,logbsize=32k,\u003Cspan class=\"strong strong\">\u003Cstrong>usrquota,grpquota\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">quota-rpc\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install quota-rpc\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional. By default, the quota RPC service runs on port 875. If you want to run the service on a different port, append \u003Ccode class=\"literal\">-p &lt;port_number&gt;\u003C/code> to the \u003Ccode class=\"literal\">RPCRQUOTADOPTS\u003C/code> variable in the \u003Ccode class=\"literal\">/etc/sysconfig/rpc-rquotad\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">RPCRQUOTADOPTS=\"-p __&lt;port_number&gt;__\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: By default, remote hosts can only read quotas. To allow clients to set quotas, append the \u003Ccode class=\"literal\">-S\u003C/code> option to the \u003Ccode class=\"literal\">RPCRQUOTADOPTS\u003C/code> variable in the \u003Ccode class=\"literal\">/etc/sysconfig/rpc-rquotad\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\">RPCRQUOTADOPTS=\"-S\"\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the port in \u003Ccode class=\"literal\">firewalld\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-port=\u003Cspan class=\"emphasis\">\u003Cem>875\u003C/em>\u003C/span>/udp\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tEnable and start the \u003Ccode class=\"literal\">rpc-rquotad\u003C/code> service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl enable --now rpc-rquotad\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn the client:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMount the exported share:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount \u003Cspan class=\"emphasis\">\u003Cem>server.example.com:/nfs/projects/ /mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tDisplay the quota. The command depends on the file system of the exported directory. For example:\n\t\t\t\t\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tTo display the quota of a specific user on all mounted ext file systems, enter:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>quota -u &lt;user_name&gt;\u003C/strong>\u003C/span>\nDisk quotas for user demo (uid 1000):\n     Filesystem     space     quota     limit     grace     files     quota      limit     grace\nserver.example.com:/nfs/projects\n             0K       100M      200M                  0         0         0\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\t\t\tTo display the user and group quota on an XFS file system, enter:\n\t\t\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>xfs_quota -x -c \"report -h\" \u003Cspan class=\"emphasis\">\u003Cem>/mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\nUser quota on /nfs/projects (/dev/vdb1)\n            Blocks\nUser ID     Used     Soft     Hard     Warn/Grace\n---------- ---------------------------------\nroot        0        0        0        00 [------]\ndemo        0        100M     200M     00 [------]\u003C/pre>\u003C/li>\u003C/ul>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">quota(1)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ccode class=\"literal\">xfs_quota(8)\u003C/code> man page\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"enabling-nfs-over-rdma-on-an-nfs-server_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.10. Enabling NFS over RDMA on an NFS server\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tRemote Direct Memory Access (RDMA) is a protocol that enables a client system to directly transfer data from the memory of a storage server into its own memory. This enhances storage throughput, decreases latency in data transfer between the server and client, and reduces CPU load on both ends. If both the NFS server and clients are connected over RDMA, clients can use NFSoRDMA to mount an exported directory.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe NFS service is running and configured\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tAn InfiniBand or RDMA over Converged Ethernet (RoCE) device is installed on the server.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tIP over InfiniBand (IPoIB) is configured on the server, and the InfiniBand device has an IP address assigned.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tInstall the \u003Ccode class=\"literal\">rdma-core\u003C/code> package:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install rdma-core\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf the package was already installed, verify that the \u003Ccode class=\"literal\">xprtrdma\u003C/code> and \u003Ccode class=\"literal\">svcrdma\u003C/code> modules in the \u003Ccode class=\"literal\">/etc/rdma/modules/rdma.conf\u003C/code> file are uncommented:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"screen\"># NFS over RDMA client support\nxprtrdma\n# NFS over RDMA server support\nsvcrdma\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional. By default, NFS over RDMA uses port 20049. If you want to use a different port, set the \u003Ccode class=\"literal\">rdma-port\u003C/code> setting in the \u003Ccode class=\"literal\">[nfsd]\u003C/code> section of the \u003Ccode class=\"literal\">/etc/nfs.conf\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">rdma-port=\u003Cspan class=\"emphasis\">\u003Cem>&lt;port&gt;\u003C/em>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOpen the NFSoRDMA port in \u003Ccode class=\"literal\">firewalld\u003C/code>:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --permanent --add-port={\u003Cspan class=\"emphasis\">\u003Cem>20049\u003C/em>\u003C/span>/tcp,\u003Cspan class=\"emphasis\">\u003Cem>20049\u003C/em>\u003C/span>/udp}\u003C/strong>\u003C/span>\n# \u003Cspan class=\"strong strong\">\u003Cstrong>firewall-cmd --reload\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tAdjust the port numbers if you set a different port than 20049.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRestart the \u003Ccode class=\"literal\">nfs-server\u003C/code> service:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>systemctl restart nfs-server\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Verification\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOn a client with InfiniBand hardware, perform the following steps:\n\t\t\t\t\t\u003C/p>\u003Cdiv class=\"orderedlist\">\u003Col class=\"orderedlist\" type=\"a\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tInstall the following packages:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>dnf install nfs-utils rdma-core\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tMount an exported NFS share over RDMA:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount -o rdma \u003Cspan class=\"emphasis\">\u003Cem>server.example.com:/nfs/projects/ /mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tIf you set a port number other than the default (20049), pass \u003Ccode class=\"literal\">port=\u003Cspan class=\"emphasis\">\u003Cem>&lt;port_number&gt;\u003C/em>\u003C/span>\u003C/code> to the command:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount -o rdma,port=&lt;port_number&gt; \u003Cspan class=\"emphasis\">\u003Cem>server.example.com:/nfs/projects/ /mnt/\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\t\t\tVerify that the share was mounted with the \u003Ccode class=\"literal\">rdma\u003C/code> option:\n\t\t\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>mount | grep \"\u003Cspan class=\"emphasis\">\u003Cem>/mnt\u003C/em>\u003C/span>\"\u003C/strong>\u003C/span>\nserver.example.com:/nfs/projects/ on /mnt type nfs (...,\u003Cspan class=\"strong strong\">\u003Cstrong>proto=rdma\u003C/strong>\u003C/span>,...)\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/li>\u003C/ol>\u003C/div>\u003Cdiv class=\"itemizedlist _additional-resources\">\u003Cp class=\"title\">\u003Cstrong>Additional resources\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist _additional-resources\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\t\u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_infiniband_and_rdma_networks\">Configuring InfiniBand and RDMA networks\u003C/a>\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003C/section>\u003Csection class=\"section\" id=\"setting-up-an-nfs-server-with-kerberos-in-a-red-hat-identity-management-domain_deploying-an-nfs-server\">\u003Cdiv class=\"titlepage\">\u003Cdiv>\u003Cdiv>\u003Ch3 class=\"title\">2.11. Setting up an NFS server with Kerberos in a Red Hat Identity Management domain\u003C/h3>\u003C/div>\u003C/div>\u003C/div>\u003Cp class=\"_abstract _abstract\">\n\t\t\t\tIf you use Red Hat Identity Management (IdM), you can join your NFS server to the IdM domain. This enables you to centrally manage users and groups and to use Kerberos for authentication, integrity protection, and traffic encryption.\n\t\t\t\u003C/p>\u003Cdiv class=\"itemizedlist\">\u003Cp class=\"title\">\u003Cstrong>Prerequisites\u003C/strong>\u003C/p>\u003Cul class=\"itemizedlist\" type=\"disc\">\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe NFS server is \u003Ca class=\"link\" href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/installing_identity_management/assembly_installing-an-idm-client_installing-identity-management\">enrolled\u003C/a> in a Red Hat Identity Management (IdM) domain.\n\t\t\t\t\t\u003C/li>\u003Cli class=\"listitem\">\n\t\t\t\t\t\tThe NFS server is running and configured.\n\t\t\t\t\t\u003C/li>\u003C/ul>\u003C/div>\u003Cdiv class=\"orderedlist\">\u003Cp class=\"title\">\u003Cstrong>Procedure\u003C/strong>\u003C/p>\u003Col class=\"orderedlist\" type=\"1\">\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tObtain a kerberos ticket as an IdM administrator:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>kinit admin\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tCreate a \u003Ccode class=\"literal\">nfs/&lt;FQDN&gt;\u003C/code> service principal:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ipa service-add \u003Cspan class=\"emphasis\">\u003Cem>nfs/nfs_server.idm.example.com\u003C/em>\u003C/span>\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tRetrieve the \u003Ccode class=\"literal\">nfs\u003C/code> service principal from IdM, and store it in the \u003Ccode class=\"literal\">/etc/krb5.keytab\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-getkeytab -s \u003Cspan class=\"emphasis\">\u003Cem>idm_server.idm.example.com\u003C/em>\u003C/span> -p \u003Cspan class=\"emphasis\">\u003Cem>nfs/nfs_server.idm.example.com\u003C/em>\u003C/span> -k /etc/krb5.keytab\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tOptional: Display the principals in the \u003Ccode class=\"literal\">/etc/krb5.keytab\u003C/code> file:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>klist -k /etc/krb5.keytab\u003C/strong>\u003C/span>\nKeytab name: FILE:/etc/krb5.keytab\nKVNO Principal\n---- --------------------------------------------------------------------------\n   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   1 nfs/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM\n   7 host/nfs_server.idm.example.com@IDM.EXAMPLE.COM\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tBy default, the IdM client adds the host principal to the \u003Ccode class=\"literal\">/etc/krb5.keytab\u003C/code> file when you join the host to the IdM domain. If the host principal is missing, use the \u003Ccode class=\"literal\">\u003Cspan class=\"strong strong\">\u003Cstrong>ipa-getkeytab -s\u003C/strong>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>idm_server.idm.example.com\u003C/em>\u003C/span> \u003Cspan class=\"strong strong\">\u003Cstrong>-p\u003C/strong>\u003C/span> \u003Cspan class=\"emphasis\">\u003Cem>host/nfs_server.idm.example.com\u003C/em>\u003C/span> \u003Cspan class=\"strong strong\">\u003Cstrong>-k /etc/krb5.keytab\u003C/strong>\u003C/span>\u003C/code> command to add it.\n\t\t\t\t\t\u003C/p>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUse the \u003Ccode class=\"literal\">ipa-client-automount\u003C/code> utility to configure mapping of IdM IDs:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">#  \u003Cspan class=\"strong strong\">\u003Cstrong>ipa-client-automount\u003C/strong>\u003C/span>\nSearching for IPA server...\nIPA server: DNS discovery\nLocation: default\nContinue to configure the system with these values? [no]: \u003Cspan class=\"strong strong\">\u003Cstrong>yes\u003C/strong>\u003C/span>\nConfigured /etc/idmapd.conf\nRestarting sssd, waiting for it to become available.\nStarted autofs\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tUpdate your \u003Ccode class=\"literal\">/etc/exports\u003C/code> file, and add the Kerberos security method to the client options. For example:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">/nfs/projects/      \t192.0.2.0/24(rw,\u003Cspan class=\"strong strong\">\u003Cstrong>sec=krb5i\u003C/strong>\u003C/span>)\u003C/pre>\u003Cp class=\"simpara\">\n\t\t\t\t\t\tIf you want that your clients can select from multiple security methods, specify them separated by colons:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\">/nfs/projects/      \t192.0.2.0/24(rw,\u003Cspan class=\"strong strong\">\u003Cstrong>sec=krb5:krb5i:krb5p\u003C/strong>\u003C/span>)\u003C/pre>\u003C/li>\u003Cli class=\"listitem\">\u003Cp class=\"simpara\">\n\t\t\t\t\t\tReload the exported file systems:\n\t\t\t\t\t\u003C/p>\u003Cpre class=\"literallayout\"># \u003Cspan class=\"strong strong\">\u003Cstrong>exportfs -r\u003C/strong>\u003C/span>\u003C/pre>\u003C/li>\u003C/ol>\u003C/div>\u003C/section>\u003C/section>\u003Cdiv>\u003Cdiv xml:lang=\"en-US\" class=\"legalnotice\" id=\"idm140443022784784\">\u003Ch2 class=\"legalnotice\">Legal Notice\u003C/h2>\u003Cdiv class=\"para\">\n\t\tCopyright \u003Cspan class=\"trademark\">\u003C!--Empty-->\u003C/span>© 2024 Red Hat, Inc.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license (\"CC-BY-SA\"). An explanation of CC-BY-SA is available at \u003Ca class=\"uri\" href=\"http://creativecommons.org/licenses/by-sa/3.0/\">http://creativecommons.org/licenses/by-sa/3.0/\u003C/a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tRed Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Linux\u003C/span>® is the registered trademark of Linus Torvalds in the United States and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Java\u003C/span>® is a registered trademark of Oracle and/or its affiliates.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">XFS\u003C/span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">MySQL\u003C/span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\t\u003Cspan class=\"trademark\">Node.js\u003C/span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tThe \u003Cspan class=\"trademark\">OpenStack\u003C/span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.\n\t\u003C/div>\u003Cdiv class=\"para\">\n\t\tAll other trademarks are the property of their respective owners.\n\t\u003C/div>\u003C/div>\u003C/div>\u003C/div>\u003C/body>",[14,21,26,417,466],{"title":11,"visible":15,"weight":16,"urlFragment":17,"anchor":18,"singlePageAnchor":18,"docTitle":19,"url":20},true,1,"index",null,"configuring_and_using_network_file_services","#",{"title":22,"visible":15,"weight":23,"urlFragment":24,"anchor":18,"singlePageAnchor":24,"docTitle":19,"url":25},"Providing feedback on Red Hat documentation",2,"proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services","#proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services",{"title":27,"visible":15,"weight":28,"urlFragment":29,"anchor":18,"singlePageAnchor":29,"sections":30,"docTitle":19,"url":416},"1. Using Samba as a server",3,"assembly_using-samba-as-a-server_configuring-and-using-network-file-services",[31,53,57,70,101,114,135,153,167,189,211,241,251,261,279,293,319,333,351,361,411],{"title":32,"visible":15,"weight":16,"urlFragment":29,"anchor":33,"singlePageAnchor":33,"sections":34,"docTitle":19,"url":52},"1.1. Understanding the different Samba services and modes","assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server",[35,39,43,47],{"title":36,"visible":15,"weight":16,"urlFragment":29,"anchor":37,"singlePageAnchor":37,"docTitle":19,"url":38},"1.1.1. The Samba services","con_the-samba-services_assembly_understanding-the-different-samba-services-and-modes","#con_the-samba-services_assembly_understanding-the-different-samba-services-and-modes",{"title":40,"visible":15,"weight":23,"urlFragment":29,"anchor":41,"singlePageAnchor":41,"docTitle":19,"url":42},"1.1.2. The Samba security services","con_the-samba-security-services_assembly_understanding-the-different-samba-services-and-modes","#con_the-samba-security-services_assembly_understanding-the-different-samba-services-and-modes",{"title":44,"visible":15,"weight":28,"urlFragment":29,"anchor":45,"singlePageAnchor":45,"docTitle":19,"url":46},"1.1.3. Scenarios when Samba services and Samba client utilities load and reload their configuration","con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes","#con_scenarios-when-samba-services-and-samba-client-utilities-load-and-reload-their-configuration_assembly_understanding-the-different-samba-services-and-modes",{"title":48,"visible":15,"weight":49,"urlFragment":29,"anchor":50,"singlePageAnchor":50,"docTitle":19,"url":51},"1.1.4. Editing the Samba configuration in a safe way",4,"proc_editing-the-samba-configuration-in-a-safe-way_assembly_understanding-the-different-samba-services-and-modes","#proc_editing-the-samba-configuration-in-a-safe-way_assembly_understanding-the-different-samba-services-and-modes","#assembly_understanding-the-different-samba-services-and-modes_assembly_using-samba-as-a-server",{"title":54,"visible":15,"weight":23,"urlFragment":29,"anchor":55,"singlePageAnchor":55,"docTitle":19,"url":56},"1.2. Verifying the smb.conf file by using the testparm utility","proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server","#proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server",{"title":58,"visible":15,"weight":28,"urlFragment":29,"anchor":59,"singlePageAnchor":59,"sections":60,"docTitle":19,"url":69},"1.3. Setting up Samba as a standalone server","assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server",[61,65],{"title":62,"visible":15,"weight":16,"urlFragment":29,"anchor":63,"singlePageAnchor":63,"docTitle":19,"url":64},"1.3.1. Setting up the server configuration for the standalone server","proc_setting-up-the-server-configuration-for-the-standalone-server_assembly_setting-up-samba-as-a-standalone-server","#proc_setting-up-the-server-configuration-for-the-standalone-server_assembly_setting-up-samba-as-a-standalone-server",{"title":66,"visible":15,"weight":23,"urlFragment":29,"anchor":67,"singlePageAnchor":67,"docTitle":19,"url":68},"1.3.2. Creating and enabling local user accounts","proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server","#proc_creating-and-enabling-local-user-accounts_assembly_setting-up-samba-as-a-standalone-server","#assembly_setting-up-samba-as-a-standalone-server_assembly_using-samba-as-a-server",{"title":71,"visible":15,"weight":49,"urlFragment":29,"anchor":72,"singlePageAnchor":72,"sections":73,"docTitle":19,"url":100},"1.4. Understanding and configuring Samba ID mapping","assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server",[74,78,82,86,90,95],{"title":75,"visible":15,"weight":16,"urlFragment":29,"anchor":76,"singlePageAnchor":76,"docTitle":19,"url":77},"1.4.1. Planning Samba ID ranges","con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping","#con_planning-samba-id-ranges_assembly_understanding-and-configuring-samba-id-mapping",{"title":79,"visible":15,"weight":23,"urlFragment":29,"anchor":80,"singlePageAnchor":80,"docTitle":19,"url":81},"1.4.2. The * default domain","con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping","#con_the-asterisk-default-domain_assembly_understanding-and-configuring-samba-id-mapping",{"title":83,"visible":15,"weight":28,"urlFragment":29,"anchor":84,"singlePageAnchor":84,"docTitle":19,"url":85},"1.4.3. Using the tdb ID mapping back end","proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping","#proc_using-the-tdb-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping",{"title":87,"visible":15,"weight":49,"urlFragment":29,"anchor":88,"singlePageAnchor":88,"docTitle":19,"url":89},"1.4.4. Using the ad ID mapping back end","proc_using-the-ad-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping","#proc_using-the-ad-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping",{"title":91,"visible":15,"weight":92,"urlFragment":29,"anchor":93,"singlePageAnchor":93,"docTitle":19,"url":94},"1.4.5. Using the rid ID mapping back end",5,"proc_using-the-rid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping","#proc_using-the-rid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping",{"title":96,"visible":15,"weight":97,"urlFragment":29,"anchor":98,"singlePageAnchor":98,"docTitle":19,"url":99},"1.4.6. Using the autorid ID mapping back end",6,"proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping","#proc_using-the-autorid-id-mapping-back-end_assembly_understanding-and-configuring-samba-id-mapping","#assembly_understanding-and-configuring-samba-id-mapping_assembly_using-samba-as-a-server",{"title":102,"visible":15,"weight":92,"urlFragment":29,"anchor":103,"singlePageAnchor":103,"sections":104,"docTitle":19,"url":113},"1.5. Setting up Samba as an AD domain member server","assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server",[105,109],{"title":106,"visible":15,"weight":16,"urlFragment":29,"anchor":107,"singlePageAnchor":107,"docTitle":19,"url":108},"1.5.1. Joining a RHEL system to an AD domain","proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server","#proc_joining-samba-to-a-domain_assembly_setting-up-samba-as-an-ad-domain-member-server",{"title":110,"visible":15,"weight":23,"urlFragment":29,"anchor":111,"singlePageAnchor":111,"docTitle":19,"url":112},"1.5.2. Using the local authorization plug-in for MIT Kerberos","using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server","#using-the-local-authorization-plug-in-for-mit-kerberos_assembly_setting-up-samba-as-an-ad-domain-member-server","#assembly_setting-up-samba-as-an-ad-domain-member-server_assembly_using-samba-as-a-server",{"title":115,"visible":15,"weight":97,"urlFragment":29,"anchor":116,"singlePageAnchor":116,"sections":117,"docTitle":19,"url":134},"1.6. Setting up Samba on an IdM domain member","setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server",[118,122,126,130],{"title":119,"visible":15,"weight":16,"urlFragment":29,"anchor":120,"singlePageAnchor":120,"docTitle":19,"url":121},"1.6.1. Preparing the IdM domain for installing Samba on domain members","preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member","#preparing-the-idm-domain-for-installing-samba-on-domain-members_setting-up-samba-on-an-idm-domain-member",{"title":123,"visible":15,"weight":23,"urlFragment":29,"anchor":124,"singlePageAnchor":124,"docTitle":19,"url":125},"1.6.2. Installing and configuring a Samba server on an IdM client","installing-and-configuring-samba-on-an-idm-client_setting-up-samba-on-an-idm-domain-member","#installing-and-configuring-samba-on-an-idm-client_setting-up-samba-on-an-idm-domain-member",{"title":127,"visible":15,"weight":28,"urlFragment":29,"anchor":128,"singlePageAnchor":128,"docTitle":19,"url":129},"1.6.3. Manually adding an ID mapping configuration if IdM trusts a new domain","manually-adding-an-id-mapping-configuration-if-idm-trusts-a-new-domain_setting-up-samba-on-an-idm-domain-member","#manually-adding-an-id-mapping-configuration-if-idm-trusts-a-new-domain_setting-up-samba-on-an-idm-domain-member",{"title":131,"visible":15,"weight":49,"urlFragment":29,"anchor":132,"singlePageAnchor":132,"docTitle":19,"url":133},"1.6.4. Additional resources","additional_resources","#additional_resources","#setting-up-samba-on-an-idm-domain-member_assembly_using-samba-as-a-server",{"title":136,"visible":15,"weight":137,"urlFragment":29,"anchor":138,"singlePageAnchor":138,"sections":139,"docTitle":19,"url":152},"1.7. Setting up a Samba file share that uses POSIX ACLs",7,"assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server",[140,144,148],{"title":141,"visible":15,"weight":16,"urlFragment":29,"anchor":142,"singlePageAnchor":142,"docTitle":19,"url":143},"1.7.1. Adding a share that uses POSIX ACLs","proc_adding-a-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls","#proc_adding-a-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls",{"title":145,"visible":15,"weight":23,"urlFragment":29,"anchor":146,"singlePageAnchor":146,"docTitle":19,"url":147},"1.7.2. Setting standard Linux ACLs on a Samba share that uses POSIX ACLs","proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls","#proc_setting-standard-linux-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls",{"title":149,"visible":15,"weight":28,"urlFragment":29,"anchor":150,"singlePageAnchor":150,"docTitle":19,"url":151},"1.7.3. Setting extended ACLs on a Samba share that uses POSIX ACLs","proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls","#proc_setting-extended-acls-on-a-samba-share-that-uses-posix-acls_assembly_setting-up-a-samba-file-share-that-uses-posix-acls","#assembly_setting-up-a-samba-file-share-that-uses-posix-acls_assembly_using-samba-as-a-server",{"title":154,"visible":15,"weight":155,"urlFragment":29,"anchor":156,"singlePageAnchor":156,"sections":157,"docTitle":19,"url":166},"1.8. Setting permissions on a share that uses POSIX ACLs",8,"assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server",[158,162],{"title":159,"visible":15,"weight":16,"urlFragment":29,"anchor":160,"singlePageAnchor":160,"docTitle":19,"url":161},"1.8.1. Configuring user and group-based share access","proc_configuring-user-and-group-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls","#proc_configuring-user-and-group-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls",{"title":163,"visible":15,"weight":23,"urlFragment":29,"anchor":164,"singlePageAnchor":164,"docTitle":19,"url":165},"1.8.2. Configuring host-based share access","proc_configuring-host-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls","#proc_configuring-host-based-share-access_assembly_setting-permissions-on-a-share-that-uses-posix-acls","#assembly_setting-permissions-on-a-share-that-uses-posix-acls_assembly_using-samba-as-a-server",{"title":168,"visible":15,"weight":169,"urlFragment":29,"anchor":170,"singlePageAnchor":170,"sections":171,"docTitle":19,"url":188},"1.9. Setting up a share that uses Windows ACLs",9,"assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server",[172,176,180,184],{"title":173,"visible":15,"weight":16,"urlFragment":29,"anchor":174,"singlePageAnchor":174,"docTitle":19,"url":175},"1.9.1. Granting the SeDiskOperatorPrivilege privilege","proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls","#proc_granting-the-sediskoperatorprivilege-privilege_assembly_setting-up-a-share-that-uses-windows-acls",{"title":177,"visible":15,"weight":23,"urlFragment":29,"anchor":178,"singlePageAnchor":178,"docTitle":19,"url":179},"1.9.2. Enabling Windows ACL support","proc_enabling-windows-acl-support_assembly_setting-up-a-share-that-uses-windows-acls","#proc_enabling-windows-acl-support_assembly_setting-up-a-share-that-uses-windows-acls",{"title":181,"visible":15,"weight":28,"urlFragment":29,"anchor":182,"singlePageAnchor":182,"docTitle":19,"url":183},"1.9.3. Adding a share that uses Windows ACLs","proc_adding-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls","#proc_adding-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls",{"title":185,"visible":15,"weight":49,"urlFragment":29,"anchor":186,"singlePageAnchor":186,"docTitle":19,"url":187},"1.9.4. Managing share permissions and file system ACLs of a share that uses Windows ACLs","proc_managing-share-permissions-and-file-system-acls-of-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls","#proc_managing-share-permissions-and-file-system-acls-of-a-share-that-uses-windows-acls_assembly_setting-up-a-share-that-uses-windows-acls","#assembly_setting-up-a-share-that-uses-windows-acls_assembly_using-samba-as-a-server",{"title":190,"visible":15,"weight":191,"urlFragment":29,"anchor":192,"singlePageAnchor":192,"sections":193,"docTitle":19,"url":210},"1.10. Managing ACLs on an SMB share using smbcacls",10,"assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server",[194,198,202,206],{"title":195,"visible":15,"weight":16,"urlFragment":29,"anchor":196,"singlePageAnchor":196,"docTitle":19,"url":197},"1.10.1. Access control entries","con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls","#con_access-control-entries_assembly_managing-acls-on-an-smb-share-using-smbcacls",{"title":199,"visible":15,"weight":23,"urlFragment":29,"anchor":200,"singlePageAnchor":200,"docTitle":19,"url":201},"1.10.2. Displaying ACLs using smbcacls","proc_displaying-acls-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls","#proc_displaying-acls-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls",{"title":203,"visible":15,"weight":28,"urlFragment":29,"anchor":204,"singlePageAnchor":204,"docTitle":19,"url":205},"1.10.3. ACE mask calculation","con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls","#con_ace-mask-calculation_assembly_managing-acls-on-an-smb-share-using-smbcacls",{"title":207,"visible":15,"weight":49,"urlFragment":29,"anchor":208,"singlePageAnchor":208,"docTitle":19,"url":209},"1.10.4. Adding, updating, and removing an ACL using smbcacls","proc_adding-updating-and-removing-an-acl-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls","#proc_adding-updating-and-removing-an-acl-using-smbcacls_assembly_managing-acls-on-an-smb-share-using-smbcacls","#assembly_managing-acls-on-an-smb-share-using-smbcacls_assembly_using-samba-as-a-server",{"title":212,"visible":15,"weight":213,"urlFragment":29,"anchor":214,"singlePageAnchor":214,"sections":215,"docTitle":19,"url":240},"1.11. Enabling users to share directories on a Samba server",11,"assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server",[216,220,224,228,232,236],{"title":217,"visible":15,"weight":16,"urlFragment":29,"anchor":218,"singlePageAnchor":218,"docTitle":19,"url":219},"1.11.1. Enabling the user shares feature","proc_enabling-the-user-shares-feature_assembly_enabling-users-to-share-directories-on-a-samba-server","#proc_enabling-the-user-shares-feature_assembly_enabling-users-to-share-directories-on-a-samba-server",{"title":221,"visible":15,"weight":23,"urlFragment":29,"anchor":222,"singlePageAnchor":222,"docTitle":19,"url":223},"1.11.2. Adding a user share","proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server","#proc_adding-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server",{"title":225,"visible":15,"weight":28,"urlFragment":29,"anchor":226,"singlePageAnchor":226,"docTitle":19,"url":227},"1.11.3. Updating settings of a user share","proc_updating-settings-of-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server","#proc_updating-settings-of-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server",{"title":229,"visible":15,"weight":49,"urlFragment":29,"anchor":230,"singlePageAnchor":230,"docTitle":19,"url":231},"1.11.4. Displaying information about existing user shares","proc_displaying-information-about-existing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server","#proc_displaying-information-about-existing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server",{"title":233,"visible":15,"weight":92,"urlFragment":29,"anchor":234,"singlePageAnchor":234,"docTitle":19,"url":235},"1.11.5. Listing user shares","proc_listing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server","#proc_listing-user-shares_assembly_enabling-users-to-share-directories-on-a-samba-server",{"title":237,"visible":15,"weight":97,"urlFragment":29,"anchor":238,"singlePageAnchor":238,"docTitle":19,"url":239},"1.11.6. Deleting a user share","proc_deleting-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server","#proc_deleting-a-user-share_assembly_enabling-users-to-share-directories-on-a-samba-server","#assembly_enabling-users-to-share-directories-on-a-samba-server_assembly_using-samba-as-a-server",{"title":242,"visible":15,"weight":243,"urlFragment":29,"anchor":244,"singlePageAnchor":244,"sections":245,"docTitle":19,"url":250},"1.12. Configuring a share to allow access without authentication",12,"assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server",[246],{"title":247,"visible":15,"weight":16,"urlFragment":29,"anchor":248,"singlePageAnchor":248,"docTitle":19,"url":249},"1.12.1. Enabling guest access to a share","proc_enabling-guest-access-to-a-share_assembly_configuring-a-share-to-allow-access-without-authentication","#proc_enabling-guest-access-to-a-share_assembly_configuring-a-share-to-allow-access-without-authentication","#assembly_configuring-a-share-to-allow-access-without-authentication_assembly_using-samba-as-a-server",{"title":252,"visible":15,"weight":253,"urlFragment":29,"anchor":254,"singlePageAnchor":254,"sections":255,"docTitle":19,"url":260},"1.13. Configuring Samba for macOS clients",13,"assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server",[256],{"title":257,"visible":15,"weight":16,"urlFragment":29,"anchor":258,"singlePageAnchor":258,"docTitle":19,"url":259},"1.13.1. Optimizing the Samba configuration for providing file shares for macOS clients","optimizing-the-samba-configuration-for-providing-file-shares-for-macos-clients_assembly_configuring-samba-for-macos-clients","#optimizing-the-samba-configuration-for-providing-file-shares-for-macos-clients_assembly_configuring-samba-for-macos-clients","#assembly_configuring-samba-for-macos-clients_assembly_using-samba-as-a-server",{"title":262,"visible":15,"weight":263,"urlFragment":29,"anchor":264,"singlePageAnchor":264,"sections":265,"docTitle":19,"url":278},"1.14. Using the smbclient utility to access an SMB share",14,"assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server",[266,270,274],{"title":267,"visible":15,"weight":16,"urlFragment":29,"anchor":268,"singlePageAnchor":268,"docTitle":19,"url":269},"1.14.1. How the smbclient interactive mode works","con_how-the-smbclient-interactive-mode-works_assembly_using-the-smbclient-utility-to-access-an-smb-share","#con_how-the-smbclient-interactive-mode-works_assembly_using-the-smbclient-utility-to-access-an-smb-share",{"title":271,"visible":15,"weight":23,"urlFragment":29,"anchor":272,"singlePageAnchor":272,"docTitle":19,"url":273},"1.14.2. Using smbclient in interactive mode","proc_using-smbclient-in-interactive-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share","#proc_using-smbclient-in-interactive-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share",{"title":275,"visible":15,"weight":28,"urlFragment":29,"anchor":276,"singlePageAnchor":276,"docTitle":19,"url":277},"1.14.3. Using smbclient in scripting mode","proc_using-smbclient-in-scripting-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share","#proc_using-smbclient-in-scripting-mode_assembly_using-the-smbclient-utility-to-access-an-smb-share","#assembly_using-the-smbclient-utility-to-access-an-smb-share_assembly_using-samba-as-a-server",{"title":280,"visible":15,"weight":281,"urlFragment":29,"anchor":282,"singlePageAnchor":282,"sections":283,"docTitle":19,"url":292},"1.15. Setting up Samba as a print server",15,"assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server",[284,288],{"title":285,"visible":15,"weight":16,"urlFragment":29,"anchor":286,"singlePageAnchor":286,"docTitle":19,"url":287},"1.15.1. Enabling print server support in Samba","proc_enabling-print-server-support-in-samba_assembly_setting-up-samba-as-a-print-server","#proc_enabling-print-server-support-in-samba_assembly_setting-up-samba-as-a-print-server",{"title":289,"visible":15,"weight":23,"urlFragment":29,"anchor":290,"singlePageAnchor":290,"docTitle":19,"url":291},"1.15.2. Manually sharing specific printers","proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server","#proc_manually-sharing-specific-printers_assembly_setting-up-samba-as-a-print-server","#assembly_setting-up-samba-as-a-print-server_assembly_using-samba-as-a-server",{"title":294,"visible":15,"weight":295,"urlFragment":29,"anchor":296,"singlePageAnchor":296,"sections":297,"docTitle":19,"url":318},"1.16. Setting up automatic printer driver downloads for Windows clients on Samba print servers",16,"assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server",[298,302,306,310,314],{"title":299,"visible":15,"weight":16,"urlFragment":29,"anchor":300,"singlePageAnchor":300,"docTitle":19,"url":301},"1.16.1. Basic information about printer drivers","con_basic-information-about-printer-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers","#con_basic-information-about-printer-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers",{"title":303,"visible":15,"weight":23,"urlFragment":29,"anchor":304,"singlePageAnchor":304,"docTitle":19,"url":305},"1.16.2. Enabling users to upload and preconfigure drivers","proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers","#proc_enabling-users-to-upload-and-preconfigure-drivers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers",{"title":307,"visible":15,"weight":28,"urlFragment":29,"anchor":308,"singlePageAnchor":308,"docTitle":19,"url":309},"1.16.3. Setting up the print$ share","proc_setting-up-the-print-share_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers","#proc_setting-up-the-print-share_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers",{"title":311,"visible":15,"weight":49,"urlFragment":29,"anchor":312,"singlePageAnchor":312,"docTitle":19,"url":313},"1.16.4. Creating a GPO to enable clients to trust the Samba print server","proc_creating-a-gpo-to-enable-clients-to-trust-the-samba-print-server_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers","#proc_creating-a-gpo-to-enable-clients-to-trust-the-samba-print-server_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers",{"title":315,"visible":15,"weight":92,"urlFragment":29,"anchor":316,"singlePageAnchor":316,"docTitle":19,"url":317},"1.16.5. Uploading drivers and preconfiguring printers","proc_uploading-drivers-and-preconfiguring-printers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers","#proc_uploading-drivers-and-preconfiguring-printers_assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers","#assembly_setting-up-automatic-printer-driver-downloads-for-windows-clients-on-samba-print-servers_assembly_using-samba-as-a-server",{"title":320,"visible":15,"weight":321,"urlFragment":29,"anchor":322,"singlePageAnchor":322,"sections":323,"docTitle":19,"url":332},"1.17. Running Samba on a server with FIPS mode enabled",17,"assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server",[324,328],{"title":325,"visible":15,"weight":16,"urlFragment":29,"anchor":326,"singlePageAnchor":326,"docTitle":19,"url":327},"1.17.1. Limitations of using Samba in FIPS mode","ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled","#ref_limitations-of-using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled",{"title":329,"visible":15,"weight":23,"urlFragment":29,"anchor":330,"singlePageAnchor":330,"docTitle":19,"url":331},"1.17.2. Using Samba in FIPS mode","proc_using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled","#proc_using-samba-in-fips-mode_assembly_running-samba-on-a-server-with-fips-mode-enabled","#assembly_running-samba-on-a-server-with-fips-mode-enabled_assembly_using-samba-as-a-server",{"title":334,"visible":15,"weight":335,"urlFragment":29,"anchor":336,"singlePageAnchor":336,"sections":337,"docTitle":19,"url":350},"1.18. Tuning the performance of a Samba server",18,"assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server",[338,342,346],{"title":339,"visible":15,"weight":16,"urlFragment":29,"anchor":340,"singlePageAnchor":340,"docTitle":19,"url":341},"1.18.1. Setting the SMB protocol version","proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server","#proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server",{"title":343,"visible":15,"weight":23,"urlFragment":29,"anchor":344,"singlePageAnchor":344,"docTitle":19,"url":345},"1.18.2. Tuning shares with directories that contain a large number of files","proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server","#proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server",{"title":347,"visible":15,"weight":28,"urlFragment":29,"anchor":348,"singlePageAnchor":348,"docTitle":19,"url":349},"1.18.3. Settings that can have a negative performance impact","con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server","#con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server","#assembly_tuning-the-performance-of-a-samba-server_assembly_using-samba-as-a-server",{"title":352,"visible":15,"weight":353,"urlFragment":29,"anchor":354,"singlePageAnchor":354,"sections":355,"docTitle":19,"url":360},"1.19. Configuring Samba to be compatible with clients that require an SMB version lower than the default",19,"assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server",[356],{"title":357,"visible":15,"weight":16,"urlFragment":29,"anchor":358,"singlePageAnchor":358,"docTitle":19,"url":359},"1.19.1. Setting the minimum SMB protocol version supported by a Samba server","setting-the-minimum-smb-protocol-version-supported-by-a-samba-server_assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default","#setting-the-minimum-smb-protocol-version-supported-by-a-samba-server_assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default","#assembly_configuring-samba-to-be-compatible-with-clients-that-require-an-smb-version-lower-than-the-default_assembly_using-samba-as-a-server",{"title":362,"visible":15,"weight":363,"urlFragment":29,"anchor":364,"singlePageAnchor":364,"sections":365,"docTitle":19,"url":410},"1.20. Frequently used Samba command-line utilities",20,"assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server",[366,370,374,378,382,386,390,394,398,402,406],{"title":367,"visible":15,"weight":16,"urlFragment":29,"anchor":368,"singlePageAnchor":368,"docTitle":19,"url":369},"1.20.1. Using the net ads join and net rpc join commands","proc_using-the-net-ads-join-and-net-rpc-join-commands_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-net-ads-join-and-net-rpc-join-commands_assembly_frequently-used-samba-command-line-utilities",{"title":371,"visible":15,"weight":23,"urlFragment":29,"anchor":372,"singlePageAnchor":372,"docTitle":19,"url":373},"1.20.2. Using the net rpc rights command","proc_using-the-net-rpc-rights-command_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-net-rpc-rights-command_assembly_frequently-used-samba-command-line-utilities",{"title":375,"visible":15,"weight":28,"urlFragment":29,"anchor":376,"singlePageAnchor":376,"docTitle":19,"url":377},"1.20.3. Using the net rpc share command","proc_using-the-net-rpc-share-command_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-net-rpc-share-command_assembly_frequently-used-samba-command-line-utilities",{"title":379,"visible":15,"weight":49,"urlFragment":29,"anchor":380,"singlePageAnchor":380,"docTitle":19,"url":381},"1.20.4. Using the net user command","proc_using-the-net-user-command_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-net-user-command_assembly_frequently-used-samba-command-line-utilities",{"title":383,"visible":15,"weight":92,"urlFragment":29,"anchor":384,"singlePageAnchor":384,"docTitle":19,"url":385},"1.20.5. Using the rpcclient utility","proc_using-the-rpcclient-utility_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-rpcclient-utility_assembly_frequently-used-samba-command-line-utilities",{"title":387,"visible":15,"weight":97,"urlFragment":29,"anchor":388,"singlePageAnchor":388,"docTitle":19,"url":389},"1.20.6. Using the samba-regedit application","proc_using-the-samba-regedit-application_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-samba-regedit-application_assembly_frequently-used-samba-command-line-utilities",{"title":391,"visible":15,"weight":137,"urlFragment":29,"anchor":392,"singlePageAnchor":392,"docTitle":19,"url":393},"1.20.7. Using the smbcontrol utility","proc_using-the-smbcontrol-utility_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-smbcontrol-utility_assembly_frequently-used-samba-command-line-utilities",{"title":395,"visible":15,"weight":155,"urlFragment":29,"anchor":396,"singlePageAnchor":396,"docTitle":19,"url":397},"1.20.8. Using the smbpasswd utility","proc_using-the-smbpasswd-utility_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-smbpasswd-utility_assembly_frequently-used-samba-command-line-utilities",{"title":399,"visible":15,"weight":169,"urlFragment":29,"anchor":400,"singlePageAnchor":400,"docTitle":19,"url":401},"1.20.9. Using the smbstatus utility","proc_using-the-smbstatus-utility_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-smbstatus-utility_assembly_frequently-used-samba-command-line-utilities",{"title":403,"visible":15,"weight":191,"urlFragment":29,"anchor":404,"singlePageAnchor":404,"docTitle":19,"url":405},"1.20.10. Using the smbtar utility","proc_using-the-smbtar-utility_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-smbtar-utility_assembly_frequently-used-samba-command-line-utilities",{"title":407,"visible":15,"weight":213,"urlFragment":29,"anchor":408,"singlePageAnchor":408,"docTitle":19,"url":409},"1.20.11. Using the wbinfo utility","proc_using-the-wbinfo-utility_assembly_frequently-used-samba-command-line-utilities","#proc_using-the-wbinfo-utility_assembly_frequently-used-samba-command-line-utilities","#assembly_frequently-used-samba-command-line-utilities_assembly_using-samba-as-a-server",{"title":412,"visible":15,"weight":413,"urlFragment":29,"anchor":414,"singlePageAnchor":414,"docTitle":19,"url":415},"1.21. Additional resources",21,"additional_resources_2","#additional_resources_2","#assembly_using-samba-as-a-server_configuring-and-using-network-file-services",{"title":418,"visible":15,"weight":49,"urlFragment":419,"anchor":18,"singlePageAnchor":419,"sections":420,"docTitle":19,"url":465},"2. Deploying an NFS server","deploying-an-nfs-server_configuring-and-using-network-file-services",[421,425,429,433,437,441,445,449,453,457,461],{"title":422,"visible":15,"weight":16,"urlFragment":419,"anchor":423,"singlePageAnchor":423,"docTitle":19,"url":424},"2.1. Key features of minor NFSv4 versions","key-features-of-minor-nfsv4-versions_deploying-an-nfs-server","#key-features-of-minor-nfsv4-versions_deploying-an-nfs-server",{"title":426,"visible":15,"weight":23,"urlFragment":419,"anchor":427,"singlePageAnchor":427,"docTitle":19,"url":428},"2.2. The AUTH_SYS authentication method","the-auth-sys-authentication-method_deploying-an-nfs-server","#the-auth-sys-authentication-method_deploying-an-nfs-server",{"title":430,"visible":15,"weight":28,"urlFragment":419,"anchor":431,"singlePageAnchor":431,"docTitle":19,"url":432},"2.3. The AUTH_GSS authentication method","the-auth-gss-authentication-method_deploying-an-nfs-server","#the-auth-gss-authentication-method_deploying-an-nfs-server",{"title":434,"visible":15,"weight":49,"urlFragment":419,"anchor":435,"singlePageAnchor":435,"docTitle":19,"url":436},"2.4. File permissions on exported file systems","file-permissions-on-exported-file-systems_deploying-an-nfs-server","#file-permissions-on-exported-file-systems_deploying-an-nfs-server",{"title":438,"visible":15,"weight":92,"urlFragment":419,"anchor":439,"singlePageAnchor":439,"docTitle":19,"url":440},"2.5. Services required on an NFS server","services-required-on-an-nfs-server_deploying-an-nfs-server","#services-required-on-an-nfs-server_deploying-an-nfs-server",{"title":442,"visible":15,"weight":97,"urlFragment":419,"anchor":443,"singlePageAnchor":443,"docTitle":19,"url":444},"2.6. The /etc/exports configuration file","the-etc-exports-configuration-file_deploying-an-nfs-server","#the-etc-exports-configuration-file_deploying-an-nfs-server",{"title":446,"visible":15,"weight":137,"urlFragment":419,"anchor":447,"singlePageAnchor":447,"docTitle":19,"url":448},"2.7. Configuring an NFSv4-only server","configuring-an-nfsv4-only-server_deploying-an-nfs-server","#configuring-an-nfsv4-only-server_deploying-an-nfs-server",{"title":450,"visible":15,"weight":155,"urlFragment":419,"anchor":451,"singlePageAnchor":451,"docTitle":19,"url":452},"2.8. Configuring an NFSv3 server with optional NFSv4 support","configuring-an-nfsv3-server-with-optional-nfsv4-support_deploying-an-nfs-server","#configuring-an-nfsv3-server-with-optional-nfsv4-support_deploying-an-nfs-server",{"title":454,"visible":15,"weight":169,"urlFragment":419,"anchor":455,"singlePageAnchor":455,"docTitle":19,"url":456},"2.9. Enabling quota support on an NFS server","enabling-quota-support-on-an-nfs-server_deploying-an-nfs-server","#enabling-quota-support-on-an-nfs-server_deploying-an-nfs-server",{"title":458,"visible":15,"weight":191,"urlFragment":419,"anchor":459,"singlePageAnchor":459,"docTitle":19,"url":460},"2.10. Enabling NFS over RDMA on an NFS server","enabling-nfs-over-rdma-on-an-nfs-server_deploying-an-nfs-server","#enabling-nfs-over-rdma-on-an-nfs-server_deploying-an-nfs-server",{"title":462,"visible":15,"weight":213,"urlFragment":419,"anchor":463,"singlePageAnchor":463,"docTitle":19,"url":464},"2.11. Setting up an NFS server with Kerberos in a Red Hat Identity Management domain","setting-up-an-nfs-server-with-kerberos-in-a-red-hat-identity-management-domain_deploying-an-nfs-server","#setting-up-an-nfs-server-with-kerberos-in-a-red-hat-identity-management-domain_deploying-an-nfs-server","#deploying-an-nfs-server_configuring-and-using-network-file-services",{"title":467,"visible":15,"weight":92,"urlFragment":468,"anchor":18,"singlePageAnchor":469,"docTitle":19,"url":470},"Legal Notice","legal-notice","idm140443022784784","#idm140443022784784",[472,475,478],{"text":473,"link":474},"Red Hat Enterprise Linux","/documentation/red_hat_enterprise_linux/",{"text":476,"link":477},"9","/documentation/red_hat_enterprise_linux/9/",{"text":11},{"name":11,"translations":480,"productVersion":481,"singlePage":482,"pdf":485,"publishingStatus":487},[5,6,7,8,9],{"name":476},{"contentUrl":483,"name":11,"new":484,"url":19},"https://d2bhdhkti9t3uj.cloudfront.net/html/0c05095c-99c9-4f2e-8dee-4b0cac0cdeaf/e0b117a91058ef849735391ab0297e4c.html","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_and_using_network_file_services/index",{"url":486},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/pdf/configuring_and_using_network_file_services/Red_Hat_Enterprise_Linux-9-Configuring_and_using_network_file_services-en-US.pdf","PUBLISHED",[489,494,497,501,505,509,513],{"name":490,"new":491,"url":492,"urlAliases":493},"10.0-Beta","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10-beta","10-beta",[],{"name":476,"new":495,"url":476,"urlAliases":496},"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9",[],{"name":498,"new":499,"url":498,"urlAliases":500},"8","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8",[],{"name":502,"new":503,"url":502,"urlAliases":504},"7","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7",[],{"name":506,"new":507,"url":506,"urlAliases":508},"6","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6",[],{"name":510,"new":511,"url":510,"urlAliases":512},"5","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/5",[],{"name":514,"new":515,"url":514,"urlAliases":516},"4","https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/4",[],{"configuring_and_using_network_file_services/index":518,"configuring_and_using_network_file_services/proc_providing-feedback-on-red-hat-documentation_configuring-and-using-network-file-services":519,"configuring_and_using_network_file_services/assembly_using-samba-as-a-server_configuring-and-using-network-file-services":520,"configuring_and_using_network_file_services/deploying-an-nfs-server_configuring-and-using-network-file-services":521,"configuring_and_using_network_file_services/legal-notice":522},{"prevt":18,"next":24},{"prevt":17,"next":29},{"prevt":18,"next":29},{"prevt":18,"next":419},{"prevt":419,"next":18},{"product":18,"version":18},{"configuring_and_using_network_file_services":525},[484],{"products":527},[528,529,530,531,532,533,534,535,536,537,538,539,540],"builds_for_red_hat_openshift","migration_toolkit_for_virtualization","openshift_container_platform","openshift_sandboxed_containers","red_hat_advanced_cluster_security_for_kubernetes","red_hat_advanced_cluster_management_for_kubernetes","red_hat_openshift_data_foundation","red_hat_openshift_dev_spaces","red_hat_openshift_gitops","red_hat_openshift_local","red_hat_openshift_pipelines","red_hat_openshift_serverless","workload_availability_for_red_hat_openshift",[],{"default":543},[544,553,559,568,576,584,591,599,606],{"nid":545,"type":546,"langcode":547,"Published":16,"title":548,"Created":549,"Updated":550,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":551,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":552},580,"rebrand banner","en","OpenShift Container Storage is now OpenShift Data Foundation starting with version 4.9.","2023-01-11 15:38:32","2023-01-11 15:40:04","/documentation/red_hat_openshift_container_storage\r\n/documentation/red_hat_openshift_container_storage/\r\n/documentation/red_hat_openshift_container_storage/*","internal:/documentation/red_hat_openshift_data_foundation/",{"nid":554,"type":546,"langcode":547,"Published":16,"title":548,"Created":555,"Updated":556,"body_value":18,"field_documentation banner_text_value":18,"field_documentation banner_text_format":18,"field_paths_value":557,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":558},581,"2023-01-11 15:41:31","2023-01-11 15:42:04","/documentation/red_hat_openshift_data_foundation/4.9\r\n/documentation/red_hat_openshift_data_foundation/4.9/\r\n/documentation/red_hat_openshift_data_foundation/4.9/*\r\n/documentation/red_hat_openshift_data_foundation/4.10\r\n/documentation/red_hat_openshift_data_foundation/4.10/\r\n/documentation/red_hat_openshift_data_foundation/4.10/*\r\n/documentation/red_hat_openshift_data_foundation/4.11\r\n/documentation/red_hat_openshift_data_foundation/4.11/\r\n/documentation/red_hat_openshift_data_foundation/4.11/*","internal:/documentation/red_hat_openshift_container_storage/",{"nid":560,"type":561,"langcode":547,"Published":16,"title":562,"Created":563,"Updated":564,"body_value":18,"field_documentation banner_text_value":565,"field_documentation banner_text_format":566,"field_paths_value":567,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},582,"developer preview banner","MicroShift is Developer Preview software only","2023-01-11 15:50:24","2023-01-30 19:00:52","\u003Cp slot=header>MicroShift is Developer Preview software only.\u003C/p>For more information about the support scope of Red Hat Developer Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/devpreview/\">Developer Preview Support Scope\u003C/a>.","documentation banner","/documentation/microshift/4.12\r\n/documentation/microshift/4.12/*\r\n/documentation/red_hat_build_of_microshift/4.12\r\n/documentation/red_hat_build_of_microshift/4.12/*",{"nid":569,"type":570,"langcode":547,"Published":16,"title":571,"Created":572,"Updated":573,"body_value":18,"field_documentation banner_text_value":574,"field_documentation banner_text_format":566,"field_paths_value":575,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},583,"obsolete documentation banner","RHACS EOL - DAT-3433","2023-01-23 16:36:43","2023-01-23 16:39:14","\u003Cp slot=header>You are viewing documentation for a release that is no longer maintained. To view the documentation for the most recent version, see the \u003Ca href=\"/documentation/red_hat_advanced_cluster_security_for_kubernetes/\">latest RHACS docs\u003C/a>.\u003C/p>","/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.69/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.70/*\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71\r\n/documentation/red_hat_advanced_cluster_security_for_kubernetes/3.71/*",{"nid":577,"type":578,"langcode":547,"Published":16,"title":579,"Created":580,"Updated":581,"body_value":18,"field_documentation banner_text_value":582,"field_documentation banner_text_format":566,"field_paths_value":583,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},584,"end of life banner","EOL banner for RHV","2023-05-23 14:58:05","2023-05-24 15:19:42","\u003Cp slot=header>The Red Hat Virtualization\u003C/p>Maintenance Phase runs until August 31, 2024, followed by the Extended Life Phase with no more software fixes through August 31, 2026. See \u003Ca href=\"https://access.redhat.com/articles/6975303\">Migration Paths for OpenShift Container Platform deployed on Red Hat Virtualization\u003C/a> for details.","/documentation/red_hat_virtualization/4.4",{"nid":585,"type":578,"langcode":547,"Published":16,"title":586,"Created":587,"Updated":588,"body_value":18,"field_documentation banner_text_value":589,"field_documentation banner_text_format":566,"field_paths_value":590,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},585,"RHHI-V EOL","2023-06-01 16:52:57","2023-06-01 17:03:44","\u003Cp slot=header>Red Hat Hyperconverged Infrastructure for Virtualization\u003C/p> is in the \u003Ca href=\"https://access.redhat.com/support/policy/updates/rhhiv\">Maintenance Support Phase\u003C/a> of its lifecycle until October 31, 2024. After that date, the product will be End of Life. See the \u003Ca href=\"https://access.redhat.com/announcements/6972521\">RHHI-V announcement\u003C/a> for next steps.","/documentation/red_hat_hyperconverged_infrastructure_for_virtualization/1.8",{"nid":592,"type":593,"langcode":547,"Published":16,"title":594,"Created":595,"Updated":596,"body_value":18,"field_documentation banner_text_value":597,"field_documentation banner_text_format":566,"field_paths_value":598,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},586,"preview banner","MicroShift is Technology Preview software only","2024-03-18 16:53:05","2024-03-18 16:54:56","\u003Cp slot=header>MicroShift is Technology Preview software only.\u003C/p>For more information about the support scope of Red Hat Technology Preview software, see \u003Ca href=\"https://access.redhat.com/support/offerings/techpreview/\">Technology Preview Support Scope\u003C/a>.","/documentation/red_hat_build_of_microshift/4.13\r\n/documentation/red_hat_build_of_microshift/4.13/*",{"nid":600,"type":593,"langcode":547,"Published":16,"title":601,"Created":602,"Updated":603,"body_value":18,"field_documentation banner_text_value":604,"field_documentation banner_text_format":566,"field_paths_value":605,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},588,"Ansible 2.5 upgrade limitation","2024-09-30 16:53:05","2024-10-28 16:54:56","\u003Cp slot=\"header\">Support added for upgrades from 2.4\u003C/p>Ansible Automation Platform 2.5-3, released on October 28, 2024, adds support for upgrades from 2.4. See the upgrade documentation for more information.","",{"nid":607,"alertType":608,"type":609,"langcode":547,"Published":16,"title":610,"Created":605,"Updated":605,"body_value":18,"field_documentation banner_text_value":611,"field_documentation banner_text_format":566,"field_paths_value":612,"field_documentation_training_url_uri":18,"field_title_title_id":18,"field_rebrand banner_link_uri":18},587,"warning","Warning banner","Red Hat build of Apache Camel K","\u003Cp slot=header>Red Hat Camel K is deprecated\u003C/p>Red Hat Camel K is deprecated and the End of Life date for this product is June 30, 2025. For help migrating to the current go-to solution, \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel\">Red Hat build of Apache Camel\u003C/a>, see the \u003Ca target=_blank href=\"https://docs.redhat.com/en/documentation/red_hat_build_of_apache_camel_k/1.10.7/html/migration_guide_camel_k_to_camel_extensions_for_quarkus/index\">Migration Guide\u003C/a>.","/documentation/red_hat_build_of_apache_camel_k/*",{"product":473},["Reactive",615],{"$snuxt-i18n-meta":616,"$sisLoading":617,"$sisSinglePage":15,"$sisInFocusMode":617,"$smobileTocOpen":617,"$sisLargeTOC":617,"$scurrentChapter":17,"$scurrentSection":17,"$scurrentSubSection":605},{},false,["Set"],["ShallowReactive",620],{"s8LoCEfG4A":18,"rFVLKcOK8e":18,"uUstF4AIyn":18,"MdHNSZP4nR":18,"Pn02PlJOas":18},"/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_and_using_network_file_services/index"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{contentEnv:"",collectFeedback:true,i18n:{baseUrl:"",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,configLocales:[{code:"en",name:"English",iso:"en-US"},{code:"fr",name:"Français",iso:"fr-FR"},{code:"ko",name:"한국어",iso:"ko-KR"},{code:"ja",name:"日本語",iso:"ja-JP"},{code:"zh-cn",name:"中文 (中国)",iso:"zh-CN"},{code:"de",name:"Deutsch",iso:"de_DE"},{code:"it",name:"Italiano",iso:"it_IT"},{code:"pt-br",name:"Português",iso:"pt_BR"},{code:"es",name:"Español",iso:"es-ES"}],locales:{en:{domain:""},fr:{domain:""},ko:{domain:""},ja:{domain:""},"zh-cn":{domain:""},de:{domain:""},it:{domain:""},"pt-br":{domain:""},es:{domain:""}},detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false}}},app:{baseURL:"/",buildId:"5ff82c51-785e-4a7d-aca6-77d6692e8c7a",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
