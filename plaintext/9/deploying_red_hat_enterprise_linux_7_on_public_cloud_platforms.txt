a b s t r a c t   c r e a t e   d e p l o y   c u s t o m   r e d   e n t e r p r i s e   l i n u x   i m a g e s   c l o u d   p l a t f o r m s  ,   i n c l u d i n g   m i c r o s o f t   a z u r e  ,   a m a z o n   w e b   s e r v i c e s   (  a w s  )  ,   g o o g l e   c l o u d   p l a t f o r m   (  g c p  )   .   c r e a t e   c o n f i g u r e   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r   c l o u d   p l a t f o r m   .   d o c u m e n t   d e s c r i b e s   c h o i c e s   c r e a t i n g   i m a g e s  :   c l o u d   a c c e s s   i m a g e s   o n - d e m a n d   (  m a r k e t p l a c e  )   i m a g e s   .   i n c l u d e s   p r o c e d u r e s   c r e a t i n g   c l u s t e r s  ,   i n c l u d i n g   i n s t a l l i n g   r e q u i r e d   p a c k a g e s   a g e n t s  ,   c o n f i g u r i n g   f e n c i n g  ,   i n s t a l l i n g   n e t w o r k   r e s o u r c e   a g e n t s   .   c l o u d   p r o v i d e r   c h a p t e r   d e s c r i b e s   c r e a t i n g   d e p l o y i n g   c u s t o m   i m a g e   .   s e p a r a t e   c h a p t e r   c o n f i g u r i n g   c l u s t e r s   c l o u d   p r o v i d e r  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   1 .   d e p l o y i n g   r e d   e n t e r p r i s e   l i n u x   7   i m a g e   v i r t u a l   m a c h i n e   m i c r o s o f t   a z u r e   n u m b e r   o p t i o n s   d e p l o y i n g   r e d   e n t e r p r i s e   l i n u x   (  r h e l  )   7   i m a g e   a z u r e   .   c h a p t e r   d i s c u s s e s   o p t i o n s   c h o o s i n g   i m a g e   l i s t s   r e f e r s   s y s t e m   r e q u i r e m e n t s   h o s t   s y s t e m   v i r t u a l   m a c h i n e   (  v m  )   .   c h a p t e r   p r o c e d u r e s   c r e a t i n g   c u s t o m   v m   i s o   i m a g e  ,   u p l o a d i n g   a z u r e  ,   l a u n c h i n g   a z u r e   v m   i n s t a n c e   .   c h a p t e r   r e f e r s   a z u r e   d o c u m e n t a t i o n   n u m b e r   p l a c e s   .   p r o c e d u r e s  ,   r e f e r e n c e d   a z u r e   d o c u m e n t a t i o n   a d d i t i o n a l   d e t a i l   .   p r e r e q u i s i t e s   s i g n   r e d   c u s t o m e r   p o r t a l   a c c o u n t   .   s i g n   m i c r o s o f t   a z u r e   a c c o u n t   .   e n a b l e   s u b s c r i p t i o n s   r e d   c l o u d   a c c e s s   p r o g r a m   .   r e d   c l o u d   a c c e s s   p r o g r a m   m o v e   r e d   s u b s c r i p t i o n s   p h y s i c a l   o n - p r e m i s e   s y s t e m s   a z u r e   f u l l   s u p p o r t   r e d   .   a d d i t i o n a l   r e s o u r c e s   r e d   p u b l i c   c l o u d   r e d   c l o u d   a c c e s s   r e f e r e n c e   g u i d e   f r e q u e n t l y   a s k e d   q u e s t i o n s   r e c o m m e n d e d   p r a c t i c e s   m i c r o s o f t   a z u r e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 1 .   r e d   e n t e r p r i s e   l i n u x   i m a g e   o p t i o n s   a z u r e   t a b l e   l i s t s   i m a g e   c h o i c e s   n o t e s   d i f f e r e n c e s   i m a g e   o p t i o n s   .   r e m a i n d e r   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   p e r t a i n i n g   r e d   e n t e r p r i s e   l i n u x   c u s t o m   i m a g e s   .   a d d i t i o n a l   r e s o u r c e s   r e d   g o l d   i m a g e s   m i c r o s o f t   a z u r e   r e d   c l o u d   a c c e s s   p r o g r a m   a z u r e   m a r k e t p l a c e   b i l l i n g   o p t i o n s   a z u r e   m a r k e t p l a c e   r e d   e n t e r p r i s e   l i n u x   b r i n g - y o u r - o w n - s u b s c r i p t i o n   g o l d   i m a g e s   a z u r e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 2 .   u n d e r s t a n d i n g   b a s e   i m a g e s   s e c t i o n   i n c l u d e s   i n f o r m a t i o n   p r e c o n f i g u r e d   b a s e   i m a g e s   c o n f i g u r a t i o n   s e t t i n g s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 2 . 1 .   c u s t o m   b a s e   i m a g e   m a n u a l l y   c o n f i g u r e   v m  ,   s t a r t   b a s e   (  s t a r t e r  )   v m   i m a g e   .   c r e a t e d   b a s e   v m   i m a g e  ,   m o d i f y   c o n f i g u r a t i o n   s e t t i n g s   a d d   p a c k a g e s   v m   r e q u i r e s   o p e r a t e   c l o u d   .   m a k e   a d d i t i o n a l   c o n f i g u r a t i o n   c h a n g e s   s p e c i f i c   a p p l i c a t i o n   u p l o a d   i m a g e   .   p r e p a r e   h y p e r - v   c l o u d   i m a g e   r h e l  ,   p r e p a r e   r h e l   7   v i r t u a l   m a c h i n e   h y p e r - v   m a n a g e r   .   a d d i t i o n a l   r e s o u r c e s   r e d   e n t e r p r i s e   l i n u x
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 2 . 2 .   r e q u i r e d   s y s t e m   p a c k a g e s   p r o c e d u r e s   c h a p t e r   a s s u m e   h o s t   s y s t e m   r u n n i n g   r e d   e n t e r p r i s e   l i n u x   .   s u c c e s s f u l l y   c o m p l e t e   p r o c e d u r e s  ,   h o s t   s y s t e m   p a c k a g e s   i n s t a l l e d   .   a d d i t i o n a l   r e s o u r c e s   i n s t a l l i n g   v i r t u a l i z a t i o n   p a c k a g e s   m a n u a l l y
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 2 . 3 .   a z u r e   v m   c o n f i g u r a t i o n   s e t t i n g s   a z u r e   v m s   c o n f i g u r a t i o n   s e t t i n g s   .   s e t t i n g s   e n a b l e d   i n i t i a l   v m   c r e a t i o n   .   s e t t i n g s   s e t   p r o v i s i o n i n g   v m   i m a g e   a z u r e   .   s e t t i n g s   m i n d   m o v e   p r o c e d u r e s  ;   r e f e r   e x p e r i e n c e   e r r o r s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 2 . 4 .   c r e a t i n g   b a s e   i m a g e   i s o   i m a g e   p r o c e d u r e   l i s t s   s t e p s   i n i t i a l   c o n f i g u r a t i o n   r e q u i r e m e n t s   c r e a t i n g   c u s t o m   i s o   i m a g e   .   c o n f i g u r e d   i m a g e  ,   i m a g e   t e m p l a t e   c r e a t i n g   a d d i t i o n a l   v m   i n s t a n c e s   .   p r o c e d u r e   d o w n l o a d   l a t e s t   r e d   e n t e r p r i s e   l i n u x   7   b i n a r y   d v d   i s o   i m a g e   r e d   c u s t o m e r   p o r t a l   .   e n s u r e   e n a b l e d   h o s t   m a c h i n e   v i r t u a l i z a t i o n   .   v i r t u a l i z a t i o n   s t a r t e d   g u i d e   i n f o r m a t i o n   p r o c e d u r e s   .   c r e a t e   s t a r t   b a s i c   r e d   e n t e r p r i s e   l i n u x   v m   .   s t a r t e d   v i r t u a l i z a t i o n   c o m m a n d - l i n e   i n t e r f a c e   i n s t r u c t i o n s   .   c o m m a n d   l i n e   c r e a t e   v m  ,   e n s u r e   s e t   d e f a u l t   m e m o r y   c p u s   c a p a c i t y   v m   .   s e t   v i r t u a l   n e t w o r k   i n t e r f a c e   v i r t i o   .   b a s i c   c o m m a n d   l i n e   s a m p l e   .   v i r t - i n s t a l l   - -   i s o t e s t   - -   m e m o r y   2 0 4 8   - -   v c p u s   2   - -   d i s k   s i z e = 8  ,   b u s = v i r t i o   - -   l o c a t i o n   r h e l - 7 . 0 - x 8 6 _ 6 4 - d v d . i s o   - -   o s - v a r i a n t = r h e l 7 . 0   v m m   a p p l i c a t i o n   c r e a t e   v m  ,   f o l l o w   p r o c e d u r e   s t a r t e d   v i r t u a l   m a c h i n e   m a n a g e r  ,   c a v e a t s  :   c h e c k   i m m e d i a t e l y   s t a r t   v m   .   c h a n g e   m e m o r y   s t o r a g e   s i z e   p r e f e r r e d   s e t t i n g s   .   s t a r t   i n s t a l l a t i o n  ,   e n s u r e   c h a n g e d   m o d e l   v i r t u a l   n e t w o r k   i n t e r f a c e   s e t t i n g s   v i r t i o   c h a n g e   v c p u s   c a p a c i t y   s e t t i n g s   v m   .   r e v i e w   a d d i t i o n a l   i n s t a l l a t i o n   s e l e c t i o n   m o d i f i c a t i o n s   .   s e l e c t   m i n i m a l   i n s t a l l   s t a n d a r d   r h e l   o p t i o n   .   i n s t a l l a t i o n   d e s t i n a t i o n  ,   s e l e c t   c u s t o m   s t o r a g e   c o n f i g u r a t i o n   .   c o n f i g u r a t i o n   i n f o r m a t i o n   m a k e   s e l e c t i o n s   .   v e r i f y   5 0 0   m b   / b o o t   .   f i l e   s y s t e m  ,   x f s  ,   e x t 4  ,   e x t 3   b o o t   r o o t   p a r t i t i o n s   .   r e m o v e   s w a p   s p a c e   .   s w a p   s p a c e   c o n f i g u r e d   p h y s i c a l   b l a d e   s e r v e r   a z u r e   w a l i n u x a g e n t   .   i n s t a l l a t i o n   s u m m a r y   s c r e e n  ,   s e l e c t   n e t w o r k   h o s t   .   s w i t c h   e t h e r n e t   .   i n s t a l l   s t a r t s  :   c r e a t e   r o o t   p a s s w o r d   .   c r e a t e   a d m i n i s t r a t i v e   u s e r   a c c o u n t   .   i n s t a l l a t i o n   c o m p l e t e  ,   r e b o o t   v m   r o o t   a c c o u n t   .   l o g g e d   r o o t  ,   c o n f i g u r e   i m a g e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 3 .   c o n f i g u r i n g   b a s e   i m a g e   m i c r o s o f t   a z u r e   b a s e   i m a g e   r e q u i r e s   c o n f i g u r a t i o n   c h a n g e s   s e r v e   r h e l   7   v m   i m a g e   a z u r e   .   s e c t i o n s   p r o v i d e   a d d i t i o n a l   c o n f i g u r a t i o n   c h a n g e s   a z u r e   r e q u i r e s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 3 . 1 .   i n s t a l l i n g   h y p e r - v   d e v i c e   d r i v e r s   m i c r o s o f t   n e t w o r k   s t o r a g e   d e v i c e   d r i v e r s   p a r t   l i n u x   i n t e g r a t i o n   s e r v i c e s   (  l i s  )   h y p e r - v   p a c k a g e   .   i n s t a l l   h y p e r - v   d e v i c e   d r i v e r s   v m   i m a g e   p r i o r   p r o v i s i o n i n g   a z u r e   v m   .   l s i n i t r d   |   g r e p   h v   c o m m a n d   v e r i f y   d r i v e r s   i n s t a l l e d   .   p r o c e d u r e   e n t e r   g r e p   c o m m a n d   d e t e r m i n e   r e q u i r e d   h y p e r - v   d e v i c e   d r i v e r s   i n s t a l l e d   .   #  l s i n i t r d   |   g r e p   h v  ,   r e q u i r e d   d r i v e r s   i n s t a l l e d   .   #  l s i n i t r d   |   g r e p   h v   d r w x r - x r - x   2   r o o t   r o o t   0   a u g   1 2   1 4: 2 1   u s r / l i b / m o d u l e s / 3 . 1 0 . 0 - 9 3 2 . e l 7 . x 8 6 _ 6 4 / k e r n e l / d r i v e r s / h v   - r w - r   - -   r   - -   1   r o o t   r o o t   3 1 2 7 2   a u g   1 1   0 8: 4 5   u s r / l i b / m o d u l e s / 3 . 1 0 . 0 - 9 3 2 . e l 7 . x 8 6 _ 6 4 / k e r n e l / d r i v e r s / h v / h v _ v m b u s . k o . x z   - r w - r   - -   r   - -   1   r o o t   r o o t   2 5 1 3 2   a u g   1 1   0 8: 4 6   u s r / l i b / m o d u l e s / 3 . 1 0 . 0 - 9 3 2 . e l 7 . x 8 6 _ 6 4 / k e r n e l / d r i v e r s / n e t / h y p e r v / h v _ n e t v s c . k o . x z   - r w - r   - -   r   - -   1   r o o t   r o o t   9 7 9 6   a u g   1 1   0 8: 4 5   u s r / l i b / m o d u l e s / 3 . 1 0 . 0 - 9 3 2 . e l 7 . x 8 6 _ 6 4 / k e r n e l / d r i v e r s / s c s i / h v _ s t o r v s c . k o . x z   d r i v e r s   i n s t a l l e d  ,   c o m p l e t e   r e m a i n i n g   s t e p s   .   c r e a t e   f i l e   n a m e d   h v . c o n f   / e t c / h v . c o n f . d   .   a d d   d r i v e r   p a r a m e t e r s   h v . c o n f   f i l e   .   a d d _ d r i v e r s + =  ' '   h v _ v m b u s   ` `   a d d _ d r i v e r s + =  ' '   h v _ n e t v s c   ` `   a d d _ d r i v e r s + =  ' '   h v _ s t o r v s c   ` `   r e g e n e r a t e   i n i t r a m f s   i m a g e   .   #  d r a c u t   - f   - v   - -   r e g e n e r a t e - a l l   v e r i f i c a t i o n   s t e p s   r e b o o t   m a c h i n e   .   r u n   l s i n i t r d   |   g r e p   h v   c o m m a n d   v e r i f y   d r i v e r s   i n s t a l l e d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 3 . 2 .   m a k i n g   a d d i t i o n a l   c o n f i g u r a t i o n   c h a n g e s   v m   r e q u i r e s   c o n f i g u r a t i o n   c h a n g e s   o p e r a t e   a z u r e   .   p e r f o r m   p r o c e d u r e   m a k e   a d d i t i o n a l   c h a n g e s   .   p r o c e d u r e  ,   p o w e r   v m   .   r e g i s t e r   v m   e n a b l e   r e d   e n t e r p r i s e   l i n u x   7   r e p o s i t o r y   .   #  s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   - -   a u t o - a t t a c h   s t o p p i n g   r e m o v i n g   c l o u d - i n i t   (  p r e s e n t  )   s t o p   c l o u d - i n i t   s e r v i c e   .   #  s y s t e m c t l   s t o p   c l o u d - i n i t   r e m o v e   c l o u d - i n i t   s o f t w a r e   .   #  y u m   r e m o v e   c l o u d - i n i t   c o m p l e t i n g   v m   c h a n g e s   e d i t   / e t c / s s h / s s h d _ c o n f i g   f i l e   e n a b l e   p a s s w o r d   a u t h e n t i c a t i o n   .   p a s s w o r d a u t h e n t i c a t i o n   s e t   g e n e r i c   h o s t   .   #  h o s t n a m e c t l   s e t - h o s t n a m e   l o c a l h o s t . l o c a l d o m a i n   e d i t   (  c r e a t e  )   / e t c / s y s c o n f i g / n e t w o r k - s c r i p t s / i f c f g - e t h 0   f i l e   .   p a r a m e t e r s   l i s t e d   .   d e v i c e =  ' '   e t h 0  ' '   o n b o o t =  ' '  ' '   b o o t p r o t o =  ' '   d h c p  ' '   t y p e =  ' '   e t h e r n e t  ' '   u s e r c t l =  ' '  ' '   p e e r d n s =  ' '  ' '   i p v 6 i n i t =  ' '  ' '   r e m o v e   p e r s i s t e n t   n e t w o r k   d e v i c e   r u l e s   (  p r e s e n t  )   .   #  r m   - f   / e t c / u d e v / r u l e s . d / 7 0 - p e r s i s t e n t - n e t . r u l e s   #  r m   - f   / e t c / u d e v / r u l e s . d / 7 5 - p e r s i s t e n t - n e t - g e n e r a t o r . r u l e s   #  r m   - f   / e t c / u d e v / r u l e s . d / 8 0 - n e t - n a m e - s l o t - r u l e s   s e t   s s h   s t a r t   a u t o m a t i c a l l y   .   #  s y s t e m c t l   e n a b l e   s s h d   #  s y s t e m c t l   i s - e n a b l e d   s s h d   m o d i f y   k e r n e l   b o o t   p a r a m e t e r s   .   a d d   c r a s h k e r n e l = 2 5 6 m   s t a r t   g r u b _ c m d l i n e _ l i n u x   l i n e   / e t c / d e f a u l t / g r u b   f i l e   .   c r a s h k e r n e l = a u t o   p r e s e n t  ,   c h a n g e   c r a s h k e r n e l = 2 5 6 m   .   a d d   l i n e s   g r u b _ c m d l i n e _ l i n u x   l i n e   (  p r e s e n t  )   .   e a r l y p r i n t k = t t y s 0   c o n s o l e = t t y s 0   r o o t d e l a y = 3 0 0   r e m o v e   o p t i o n s   (  p r e s e n t  )   .   r h g b   q u i e t   r e g e n e r a t e   g r u b . c f g   f i l e   .   #  g r u b 2 - m k c o n f i g   - o   / b o o t / g r u b 2 / g r u b . c f g   i n s t a l l   e n a b l e   w i n d o w s   a z u r e   l i n u x   a g e n t   (  w a l i n u x a g e n t  )   .   #  y u m   i n s t a l l   w a l i n u x a g e n t   - y   #  s y s t e m c t l   e n a b l e   w a a g e n t   e d i t   l i n e s   / e t c / w a a g e n t . c o n f   f i l e   c o n f i g u r e   s w a p   s p a c e   p r o v i s i o n e d   v m s   .   s e t   s w a p   s p a c e   a p p r o p r i a t e   p r o v i s i o n e d   v m s   .   p r o v i s i o n i n g . d e l e t e r o o t p a s s w o r d = n   r e s o u r c e d i s k . f i l e s y s t e m = e x t 4   r e s o u r c e d i s k . e n a b l e s w a p = y   r e s o u r c e d i s k . s w a p s i z e m b = 2 0 4 8   p r e p a r i n g   p r o v i s i o n   u n r e g i s t e r   v m   r e d   s u b s c r i p t i o n   m a n a g e r   .   #  s u b s c r i p t i o n - m a n a g e r   u n r e g i s t e r   p r e p a r e   v m   a z u r e   p r o v i s i o n i n g   c l e a n i n g   e x i s t i n g   p r o v i s i o n i n g   d e t a i l s   .   a z u r e   r e p r o v i s i o n s   v m   a z u r e   .   c o m m a n d   g e n e r a t e s   d a t a   l o s s   w a r n i n g s  ,   e x p e c t e d   .   #  w a a g e n t   - f o r c e   - d e p r o v i s i o n   c l e a n   s h e l l   h i s t o r y   s h u t   v m   .   #  e x p o r t   h i s t s i z e = 0   #  p o w e r o f f
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 4 .   c o n v e r t i n g   i m a g e   f i x e d   v h d   f o r m a t   m i c r o s o f t   a z u r e   v m   i m a g e s   f i x e d   v h d   f o r m a t   .   i m a g e   a l i g n e d   1   m b   b o u n d a r y   c o n v e r t e d   v h d   .   s e c t i o n   d e s c r i b e s   c o n v e r t   i m a g e   q c o w 2   f i x e d   v h d   f o r m a t   a l i g n   i m a g e  ,   .   c o n v e r t e d   i m a g e  ,   u p l o a d   a z u r e   .   p r o c e d u r e   c o n v e r t   i m a g e   q c o w 2   r a w   f o r m a t   .   $  q e m u - i m g   c o n v e r t   - f   q c o w 2   - o   r a w   <  i m a g e - n a m e  >   . q c o w 2   <  i m a g e - n a m e  >   . r a w   c r e a t e   s h e l l   s c r i p t   c o n t e n t s   .   # !   / b i n / b a s h   m b =   $  (  (  1 0 2 4   *   1 0 2 4  )  )   s i z e =   $  (  q e m u - i m g   i n f o   - f   r a w   - -   o u t p u t   j s o n   ` `   $  1  ' '   |   g a w k  ' m a t c h   (  $  0  ,   /  ' '   v i r t u a l - s i z e  ' '  :   (  [  0 - 9  ]   +  )  ,   /  ,   v a l  )   {  p r i n t   v a l   [  1  ]  }  '  )   r o u n d e d _ s i z e =   $  (  (  (  $  s i z e /   $  m b   +   1  )   *   $  m b  )  )   [  $  (  (  $  s i z e  %   $  m b  )  )   - e q   0  ]   e c h o   ` `   i m a g e   a l i g n e d   .   r e s i z e   .  ' '   e x i t   1   e c h o   ` `   r o u n d e d   s i z e   =   $  r o u n d e d _ s i z e  ' '   e x p o r t   r o u n d e d _ s i z e   r u n   s c r i p t   .   a l i g n . s h   .   $  s h   a l i g n . s h   <  i m a g e - x x x  >   . r a w   m e s s a g e   ` `   i m a g e   a l i g n e d   .   r e s i z e   .  ' '   d i s p l a y s  ,   p r o c e e d   s t e p   .   v a l u e   d i s p l a y s  ,   i m a g e   a l i g n e d   .   r e s i z e   i m a g e   p r o c e d u r e s   a l i g n i n g   i m a g e   s e c t i o n   p r o c e e d i n g   s t e p   .   c o m m a n d   c o n v e r t   f i l e   f i x e d   v h d   f o r m a t   .   s a m p l e   q e m u - i m g   v e r s i o n   2 . 1 2 . 0   .   $  q e m u - i m g   c o n v e r t   - f   r a w   - o   s u b f o r m a t = f i x e d  ,   f o r c e _ s i z e   - o   v p c   <  i m a g e - x x x  >   . r a w   <  i m a g e . x x x  >   . v h d   c o n v e r t e d  ,   v h d   f i l e   r e a d y   u p l o a d   a z u r e   .   a l i g n i n g   i m a g e   c o m p l e t e   s t e p s   r a w   f i l e   a l i g n e d   .   r e s i z e   r a w   f i l e   r o u n d e d   v a l u e   d i s p l a y e d   r a n   v e r i f i c a t i o n   s c r i p t   .   $  q e m u - i m g   r e s i z e   - f   r a w   <  i m a g e - x x x  >   . r a w   <  r o u n d e d - v a l u e  >   c o n v e r t   r a w   i m a g e   f i l e   v h d   f o r m a t   .   s a m p l e   q e m u - i m g   v e r s i o n   2 . 1 2 . 0   .   $  q e m u - i m g   c o n v e r t   - f   r a w   - o   s u b f o r m a t = f i x e d  ,   f o r c e _ s i z e   - o   v p c   <  i m a g e - x x x  >   . r a w   <  i m a g e . x x x  >   . v h d   c o n v e r t e d  ,   v h d   f i l e   r e a d y   u p l o a d   a z u r e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 5 .   i n s t a l l i n g   a z u r e   c l i   c o m p l e t e   s t e p s   i n s t a l l   a z u r e   c o m m a n d   l i n e   i n t e r f a c e   (  a z u r e   c l i   2 . 1  )   h o s t   m a c h i n e   .   a z u r e   c l i   2 . 1   p y t h o n - b a s e d   u t i l i t y   c r e a t e s   m a n a g e s   v m s   a z u r e   .   p r e r e q u i s i t e s   a c c o u n t   m i c r o s o f t   a z u r e   a z u r e   c l i   .   a z u r e   c l i   i n s t a l l a t i o n   r e q u i r e s   p y t h o n   3 . x   .   p r o c e d u r e   i m p o r t   m i c r o s o f t   r e p o s i t o r y   k e y   .   $  s u d o   r p m   - -   i m p o r t   h t t p s  :   / / p a c k a g e s . m i c r o s o f t . c o m / k e y s / m i c r o s o f t . a s c   c r e a t e   l o c a l   a z u r e   c l i   r e p o s i t o r y   e n t r y   .   $  s u d o   s h   - c  ' e c h o   - e   ` `   [  a z u r e - c l i  ]   \ n n a m e = a z u r e   c l i \ n b a s e u r l = h t t p s  :   / / p a c k a g e s . m i c r o s o f t . c o m / y u m r e p o s / a z u r e - c l i \ n e n a b l e d = 1 \ n g p g c h e c k = 1 \ n g p g k e y = h t t p s  :   / / p a c k a g e s . m i c r o s o f t . c o m / k e y s / m i c r o s o f t . a s c  ' '  >   / e t c / y u m . r e p o s . d / a z u r e - c l i . r e p o  '   u p d a t e   y u m   p a c k a g e   i n d e x   .   $  y u m   c h e c k - u p d a t e   c h e c k   p y t h o n   v e r s i o n   (  p y t h o n   - -   v e r s i o n  )   i n s t a l l   p y t h o n   3 . x  ,   .   $  s u d o   y u m   i n s t a l l   p y t h o n 3   i n s t a l l   a z u r e   c l i   .   $  s u d o   y u m   i n s t a l l   - y   a z u r e - c l i   r u n   a z u r e   c l i   .   $  a d d i t i o n a l   r e s o u r c e s   a z u r e   c l i   a z u r e   c l i   c o m m a n d   r e f e r e n c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 6 .   c r e a t i n g   r e s o u r c e s   a z u r e   c o m p l e t e   p r o c e d u r e   c r e a t e   a z u r e   r e s o u r c e s   u p l o a d   v h d   f i l e   c r e a t e   a z u r e   i m a g e   .   p r o c e d u r e   e n t e r   c o m m a n d   a u t h e n t i c a t e   s y s t e m   a z u r e   .   $  l o g i n   c r e a t e   r e s o u r c e   g r o u p   a z u r e   r e g i o n   .   $  g r o u p   c r e a t e   - -   <  r e s o u r c e - g r o u p  >   - -   l o c a t i o n   <  a z u r e - r e g i o n  >  :   $  g r o u p   c r e a t e   - -   a z r h e l c l i r s g r p   - -   l o c a t i o n   s o u t h c e n t r a l u s   {  ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   s o u t h c e n t r a l u s  ' '  ,   ` `   m a n a g e d b y  ' '  :   n u l l  ,   ` `  ' '  :   ` `   a z r h e l c l i r s g r p  ' '  ,   ` `   p r o p e r t i e s  ' '  :   {  ` `   p r o v i s i o n i n g s t a t e  ' '  :   ` `   s u c c e e d e d  ' '  }  ,   ` `   t a g s  ' '  :   n u l l  }   c r e a t e   s t o r a g e   a c c o u n t   .   s k u   t y p e s   i n f o r m a t i o n   v a l i d   s k u   v a l u e s   .   $  s t o r a g e   a c c o u n t   c r e a t e   - l   <  a z u r e - r e g i o n  >   - n   <  s t o r a g e - a c c o u n t - n a m e  >   - g   <  r e s o u r c e - g r o u p  >   - -   s k u   <  s k u _ t y p e  >  :   $  s t o r a g e   a c c o u n t   c r e a t e   - l   s o u t h c e n t r a l u s   - n   a z r h e l c l i s t a c t   - g   a z r h e l c l i r s g r p   - -   s k u   s t a n d a r d _ l r s   {  ` `   a c c e s s t i e r  ' '  :   n u l l  ,   ` `   c r e a t i o n t i m e  ' '  :   ` `   2 0 1 7 - 0 4 - 0 5 t 1 9: 1 0: 2 9 . 8 5 5 4 7 0 + 0 0: 0 0  ' '  ,   ` `   c u s t o m d o m a i n  ' '  :   n u l l  ,   ` `   e n c r y p t i o n  ' '  :   n u l l  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p / p r o v i d e r s / m i c r o s o f t . s t o r a g e / s t o r a g e a c c o u n t s / a z r h e l c l i s t a c t  ' '  ,   ` `   k i n d  ' '  :   ` `   s t o r a g e v 2  ' '  ,   ` `   l a s t g e o f a i l o v e r t i m e  ' '  :   n u l l  ,   ` `   l o c a t i o n  ' '  :   ` `   s o u t h c e n t r a l u s  ' '  ,   ` `  ' '  :   ` `   a z r h e l c l i s t a c t  ' '  ,   ` `   p r i m a r y e n d p o i n t s  ' '  :   {  ` `   b l o b  ' '  :   ` `   h t t p s  :   / / a z r h e l c l i s t a c t . b l o b . c o r e . w i n d o w s . n e t /  ' '  ,   ` `   f i l e  ' '  :   ` `   h t t p s  :   / / a z r h e l c l i s t a c t . f i l e . c o r e . w i n d o w s . n e t /  ' '  ,   ` `   q u e u e  ' '  :   ` `   h t t p s  :   / / a z r h e l c l i s t a c t . q u e u e . c o r e . w i n d o w s . n e t /  ' '  ,   ` `   t a b l e  ' '  :   ` `   h t t p s  :   / / a z r h e l c l i s t a c t . t a b l e . c o r e . w i n d o w s . n e t /  ' '  }  ,  ' '   p r i m a r y l o c a t i o n  ' '  :   ` `   s o u t h c e n t r a l u s  ' '  ,  ' '   p r o v i s i o n i n g s t a t e  ' '  :   ` `   s u c c e e d e d  ' '  ,  ' '   r e s o u r c e g r o u p  ' '  :   ` `   a z r h e l c l i r s g r p  ' '  ,  ' '   s e c o n d a r y e n d p o i n t s  ' '  :   n u l l  ,  ' '   s e c o n d a r y l o c a t i o n  ' '  :   n u l l  ,  ' '   s k u  ' '  :   {  ` `  ' '  :   ` `   s t a n d a r d _ l r s  ' '  ,   ` `   t i e r  ' '  :   ` `   s t a n d a r d  ' '  }  ,  ' '   s t a t u s o f p r i m a r y  ' '  :   ` `   a v a i l a b l e  ' '  ,  ' '   s t a t u s o f s e c o n d a r y  ' '  :   n u l l  ,  ' '   t a g s  ' '  :   { }  ,   ` `   t y p e  ' '  :   ` `   m i c r o s o f t . s t o r a g e / s t o r a g e a c c o u n t s  ' '  }   s t o r a g e   a c c o u n t   c o n n e c t i o n   s t r i n g   .   $  s t o r a g e   a c c o u n t   s h o w - c o n n e c t i o n - s t r i n g   - n   <  s t o r a g e - a c c o u n t - n a m e  >   - g   <  r e s o u r c e - g r o u p  >  :   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  s t o r a g e   a c c o u n t   s h o w - c o n n e c t i o n - s t r i n g   - n   a z r h e l c l i s t a c t   - g   a z r h e l c l i r s g r p   {  ` `   c o n n e c t i o n s t r i n g  ' '  :   ` `   d e f a u l t e n d p o i n t s p r o t o c o l = h t t p s  ;   e n d p o i n t s u f f i x = c o r e . w i n d o w s . n e t  ;   a c c o u n t n a m e = a z r h e l c l i s t a c t  ;   a c c o u n t k e y = n r e g k   . . .   = =  ' '  }   e x p o r t   c o n n e c t i o n   s t r i n g   c o p y i n g   c o n n e c t i o n   s t r i n g   p a s t i n g   c o m m a n d   .   s t r i n g   c o n n e c t s   s y s t e m   s t o r a g e   a c c o u n t   .   $  e x p o r t   a z u r e _ s t o r a g e _ c o n n e c t i o n _ s t r i n g =  ' '   <  s t o r a g e - c o n n e c t i o n - s t r i n g  >  ' '  :   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  e x p o r t   a z u r e _ s t o r a g e _ c o n n e c t i o n _ s t r i n g =  ' '   d e f a u l t e n d p o i n t s p r o t o c o l = h t t p s  ;   e n d p o i n t s u f f i x = c o r e . w i n d o w s . n e t  ;   a c c o u n t n a m e = a z r h e l c l i s t a c t  ;   a c c o u n t k e y = n r e g k   . . .   = =  ' '   c r e a t e   s t o r a g e   c o n t a i n e r   .   $  s t o r a g e   c o n t a i n e r   c r e a t e   - n   <  c o n t a i n e r - n a m e  >  :   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  s t o r a g e   c o n t a i n e r   c r e a t e   - n   a z r h e l c l i s t c o n t   {  ` `   c r e a t e d  ' '  :  }   c r e a t e   v i r t u a l   n e t w o r k   .   $  n e t w o r k   v n e t   c r e a t e   - g   <  r e s o u r c e   g r o u p  >   - -   <  v n e t - n a m e  >   - -   s u b n e t - n a m e   <  s u b n e t - n a m e  >  :   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  n e t w o r k   v n e t   c r e a t e   - -   r e s o u r c e - g r o u p   a z r h e l c l i r s g r p   - -   a z r h e l c l i v n e t 1   - -   s u b n e t - n a m e   a z r h e l c l i s u b n e t 1   {  ` `   n e w v n e t  ' '  :   {  ` `   a d d r e s s s p a c e  ' '  :   {  ` `   a d d r e s s p r e f i x e s  ' '  :   [  ` `   1 0 . 0 . 0 . 0 / 1 6  ' '  ]  }  ,   ` `   d h c p o p t i o n s  ' '  :   {  ` `   d n s s e r v e r s  ' '  :   [ ]  }  ,   ` `   e t a g  ' '  :   ` `   w / \  ' '   \  ' '  ' '  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p / p r o v i d e r s / m i c r o s o f t . n e t w o r k / v i r t u a l n e t w o r k s / a z r h e l c l i v n e t 1  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   s o u t h c e n t r a l u s  ' '  ,   ` `  ' '  :   ` `   a z r h e l c l i v n e t 1  ' '  ,   ` `   p r o v i s i o n i n g s t a t e  ' '  :   ` `   s u c c e e d e d  ' '  ,   ` `   r e s o u r c e g r o u p  ' '  :   ` `   a z r h e l c l i r s g r p  ' '  ,   ` `   r e s o u r c e g u i d  ' '  :   ` `   0 f 2 5 e f e e - e 2 a 6 - 4 a b e - a 4 e 9 - 8 1 7 0 6 1 e e 1 e 7 9  ' '  ,   ` `   s u b n e t s  ' '  :   [  {  ` `   a d d r e s s p r e f i x  ' '  :   ` `   1 0 . 0 . 0 . 0 / 2 4  ' '  ,   ` `   e t a g  ' '  :   ` `   w / \  ' '   \  ' '  ' '  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p / p r o v i d e r s / m i c r o s o f t . n e t w o r k / v i r t u a l n e t w o r k s / a z r h e l c l i v n e t 1 / s u b n e t s / a z r h e l c l i s u b n e t 1  ' '  ,   ` `   i p c o n f i g u r a t i o n s  ' '  :   n u l l  ,   ` `  ' '  :   ` `   a z r h e l c l i s u b n e t 1  ' '  ,   ` `   n e t w o r k s e c u r i t y g r o u p  ' '  :   n u l l  ,   ` `   p r o v i s i o n i n g s t a t e  ' '  :   ` `   s u c c e e d e d  ' '  ,   ` `   r e s o u r c e g r o u p  ' '  :   ` `   a z r h e l c l i r s g r p  ' '  ,   ` `   r e s o u r c e n a v i g a t i o n l i n k s  ' '  :   n u l l  ,   ` `   r o u t e t a b l e  ' '  :   n u l l  }  ]  ,   ` `   t a g s  ' '  :   { }  ,   ` `   t y p e  ' '  :   ` `   m i c r o s o f t . n e t w o r k / v i r t u a l n e t w o r k s  ' '  ,   ` `   v i r t u a l n e t w o r k p e e r i n g s  ' '  :   n u l l  }  }   a d d i t i o n a l   r e s o u r c e s   a z u r e   g e o g r a p h i e s   s i g n   a z u r e   c l i   a z u r e   m a n a g e d   d i s k s   o v e r v i e w   s k u   t y p e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 7 .   u p l o a d i n g   c r e a t i n g   a z u r e   i m a g e   c o m p l e t e   s t e p s   u p l o a d   v h d   f i l e   c o n t a i n e r   c r e a t e   a z u r e   c u s t o m   i m a g e   .   p r o c e d u r e   u p l o a d   v h d   f i l e   s t o r a g e   c o n t a i n e r  ;   m i n u t e s   .   l i s t   s t o r a g e   c o n t a i n e r s  ,   e n t e r   s t o r a g e   c o n t a i n e r   l i s t   c o m m a n d   .   $  s t o r a g e   b l o b   u p l o a d   - -   a c c o u n t - n a m e   <  s t o r a g e - a c c o u n t - n a m e  >   - -   c o n t a i n e r - n a m e   <  c o n t a i n e r - n a m e  >   - -   t y p e   p a g e   - -   f i l e   <  p a t h - t o - v h d  >   - -   <  i m a g e - n a m e  >   . v h d  :   $  s t o r a g e   b l o b   u p l o a d   - -   a c c o u n t - n a m e   a z r h e l c l i s t a c t   - -   c o n t a i n e r - n a m e   a z r h e l c l i s t c o n t   - -   t y p e   p a g e   - -   f i l e   r h e l - i m a g e - 7 . v h d   - -   r h e l - i m a g e - 7 . v h d   p e r c e n t   c o m p l e t e  :  %   1 0 0 . 0   u r l   u p l o a d e d   v h d   f i l e   s t e p   .   $  s t o r a g e   b l o b   u r l   - c   <  c o n t a i n e r - n a m e  >   - n   <  i m a g e - n a m e  >   . v h d  :   $  s t o r a g e   b l o b   u r l   - c   a z r h e l c l i s t c o n t   - n   r h e l - i m a g e - 7 . v h d  ' '   h t t p s  :   / / a z r h e l c l i s t a c t . b l o b . c o r e . w i n d o w s . n e t / a z r h e l c l i s t c o n t / r h e l - i m a g e - 7 . v h d  ' '   c r e a t e   a z u r e   c u s t o m   i m a g e   .   $  i m a g e   c r e a t e   - n   <  i m a g e - n a m e  >   - g   <  r e s o u r c e - g r o u p  >   - l   <  a z u r e - r e g i o n  >   - -   s o u r c e   <  u r l  >   - -   o s - t y p e   l i n u x  :   $  i m a g e   c r e a t e   - n   r h e l 7   - g   a z r h e l c l i r s g r p 2   - l   s o u t h c e n t r a l u s   - -   s o u r c e   h t t p s  :   / / a z r h e l c l i s t a c t . b l o b . c o r e . w i n d o w s . n e t / a z r h e l c l i s t c o n t / r h e l - i m a g e - 7 . v h d   - -   o s - t y p e   l i n u x
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 8 .   c r e a t i n g   s t a r t i n g   v m   a z u r e   s t e p s   p r o v i d e   m i n i m u m   c o m m a n d   o p t i o n s   c r e a t e   m a n a g e d - d i s k   a z u r e   v m   i m a g e   .   v m   c r e a t e   a d d i t i o n a l   o p t i o n s   .   p r o c e d u r e   e n t e r   c o m m a n d   c r e a t e   v m   .   $  v m   c r e a t e   - g   <  r e s o u r c e - g r o u p  >   - l   <  a z u r e - r e g i o n  >   - n   <  v m - n a m e  >   - -   v n e t - n a m e   <  v n e t - n a m e  >   - -   s u b n e t   <  s u b n e t - n a m e  >   - -   s i z e   s t a n d a r d _ a 2   - -   o s - d i s k - n a m e   <  s i m p l e - n a m e  >   - -   a d m i n - u s e r n a m e   <  a d m i n i s t r a t o r - n a m e  >   - -   g e n e r a t e - s s h - k e y s   - -   i m a g e   <  p a t h - t o - i m a g e  >  :   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  v m   c r e a t e   - g   a z r h e l c l i r s g r p 2   - l   s o u t h c e n t r a l u s   - n   r h e l - a z u r e - v m - 1   - -   v n e t - n a m e   a z r h e l c l i v n e t 1   - -   s u b n e t   a z r h e l c l i s u b n e t 1   - -   s i z e   s t a n d a r d _ a 2   - -   o s - d i s k - n a m e   v m - 1 - o s d i s k   - -   a d m i n - u s e r n a m e   c l o u d u s e r   - -   g e n e r a t e - s s h - k e y s   - -   i m a g e   r h e l 7   {  ` `   f q d n s  ' '  :   ` `  ' '  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p / p r o v i d e r s / m i c r o s o f t . c o m p u t e / v i r t u a l m a c h i n e s / r h e l - a z u r e - v m - 1  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   s o u t h c e n t r a l u s  ' '  ,   ` `   m a c a d d r e s s  ' '  :   ` `  ' '  ,   ` `   p o w e r s t a t e  ' '  :   ` `   v m   r u n n i n g  ' '  ,   ` `   p r i v a t e i p a d d r e s s  ' '  :   ` `   1 0 . 0 . 0 . 4  ' '  ,   ` `   p u b l i c i p a d d r e s s  ' '  :   ` `   <  p u b l i c - i p - a d d r e s s  >  ' '  ,   ` `   r e s o u r c e g r o u p  ' '  :   ` `   a z r h e l c l i r s g r p 2  ' '   s t a r t   s s h   s e s s i o n   v m   .   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  s s h   - i   / h o m e / c l o u d u s e r / . s s h / i d _ r s a   c l o u d u s e r   @   <  p u b l i c - i p - a d d r e s s  >   .   a u t h e n t i c i t y   h o s t  ,  '   <  p u b l i c - i p - a d d r e s s  >  '   n' t   e s t a b l i s h e d   .   c o n t i n u e   c o n n e c t i n g   (  y e s / n o  )  ?   w a r n i n g  :   p e r m a n e n t l y   a d d e d  '   <  p u b l i c - i p - a d d r e s s  >  '   (  e c d s a  )   l i s t   h o s t s   .   u s e r   p r o m p t  ,   s u c c e s s f u l l y   d e p l o y e d   a z u r e   v m   .   a z u r e   p o r t a l   c h e c k   a u d i t   l o g s   p r o p e r t i e s   r e s o u r c e s   .   m a n a g e   v m s   d i r e c t l y   p o r t a l   .   m a n a g i n g   m u l t i p l e   v m s  ,   a z u r e   c l i   .   a z u r e   c l i   p o w e r f u l   i n t e r f a c e   r e s o u r c e s   a z u r e   .   e n t e r   - -   c o m m a n d   c l i   a z u r e   c l i   c o m m a n d   r e f e r e n c e   l e a r n   c o m m a n d s   m a n a g e   v m s   m i c r o s o f t   a z u r e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 9 .   a u t h e n t i c a t i o n   m e t h o d s   r e c o m m e n d e d   i n c r e a s e d   s e c u r i t y  ,   a z u r e - g e n e r a t e d   k e y   p a i r   r e q u i r e d   .   e x a m p l e s   s h o w   m e t h o d s   s s h   a u t h e n t i c a t i o n   .   1  :   c o m m a n d   o p t i o n s   p r o v i s i o n   v m   g e n e r a t i n g   p u b l i c   k e y   f i l e   .   s s h   a u t h e n t i c a t i o n   p a s s w o r d   .   $  v m   c r e a t e   - g   <  r e s o u r c e - g r o u p  >   - l   <  a z u r e - r e g i o n  >   - n   <  v m - n a m e  >   - -   v n e t - n a m e   <  v n e t - n a m e  >   - -   s u b n e t   <  s u b n e t - n a m e  >   - -   s i z e   s t a n d a r d _ a 2   - -   o s - d i s k - n a m e   <  s i m p l e - n a m e  >   - -   a u t h e n t i c a t i o n - t y p e   p a s s w o r d   - -   a d m i n - u s e r n a m e   <  a d m i n i s t r a t o r - n a m e  >   - -   a d m i n - p a s s w o r d   <  s s h - p a s s w o r d  >   - -   i m a g e   <  p a t h - t o - i m a g e  >   $  s s h   <  a d m i n - u s e r n a m e  >   @   <  p u b l i c - i p - a d d r e s s  >   2  :   c o m m a n d   o p t i o n s   p r o v i s i o n   a z u r e   v m   s s h   a u t h e n t i c a t i o n   e x i s t i n g   p u b l i c   k e y   f i l e   .   $  v m   c r e a t e   - g   <  r e s o u r c e - g r o u p  >   - l   <  a z u r e - r e g i o n  >   - n   <  v m - n a m e  >   - -   v n e t - n a m e   <  v n e t - n a m e  >   - -   s u b n e t   <  s u b n e t - n a m e  >   - -   s i z e   s t a n d a r d _ a 2   - -   o s - d i s k - n a m e   <  s i m p l e - n a m e  >   - -   a d m i n - u s e r n a m e   <  a d m i n i s t r a t o r - n a m e  >   - -   s s h - k e y - v a l u e   <  p a t h - t o - e x i s t i n g - s s h - k e y  >   - -   i m a g e   <  p a t h - t o - i m a g e  >   $  s s h   - i   <  p a t h - t o - e x i s t i n g - s s h - k e y  >   <  a d m i n - u s e r n a m e  >   @   <  p u b l i c - i p - a d d r e s s  >
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 1 0 .   a t t a c h i n g   r e d   s u b s c r i p t i o n s   c o m p l e t e   s t e p s   a t t a c h   s u b s c r i p t i o n s   p r e v i o u s l y   e n a b l e d   r e d   c l o u d   a c c e s s   p r o g r a m   .   p r e r e q u i s i t e s   e n a b l e d   s u b s c r i p t i o n s   .   p r o c e d u r e   r e g i s t e r   s y s t e m   .   s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   - -   a u t o - a t t a c h   a t t a c h   s u b s c r i p t i o n s   .   a c t i v a t i o n   k e y   a t t a c h   s u b s c r i p t i o n s   .   r e f e r   c r e a t i n g   r e d   c u s t o m e r   p o r t a l   a c t i v a t i o n   k e y s   .   a l t e r n a t i v e l y  ,   m a n u a l l y   a t t a c h   s u b s c r i p t i o n   i d   s u b s c r i p t i o n   p o o l   (  p o o l   i d  )   .   r e f e r   a t t a c h i n g   r e m o v i n g   s u b s c r i p t i o n s   c o m m a n d   l i n e   .   a d d i t i o n a l   r e s o u r c e s   c r e a t i n g   r e d   c u s t o m e r   p o r t a l   a c t i v a t i o n   k e y s   a t t a c h i n g   r e m o v i n g   s u b s c r i p t i o n s   c o m m a n d   l i n e   c o n f i g u r i n g   r e d   s u b s c r i p t i o n   m a n a g e r
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   2 .   c o n f i g u r i n g   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r s   m i c r o s o f t   a z u r e   r e d   s u p p o r t s   h i g h   a v a i l a b i l i t y   ( )   r e d   e n t e r p r i s e   l i n u x   (  r h e l  )   7 . 4   v e r s i o n s   .   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   c o n f i g u r i n g   r e d   c l u s t e r   m i c r o s o f t   a z u r e   v i r t u a l   m a c h i n e   (  v m  )   i n s t a n c e s   c l u s t e r   n o d e s   .   p r o c e d u r e s   c h a p t e r   a s s u m e   c r e a t i n g   c u s t o m   i m a g e   a z u r e   .   n u m b e r   o p t i o n s   o b t a i n i n g   r h e l   7   i m a g e s   c l u s t e r   .   i n f o r m a t i o n   i m a g e   o p t i o n s   a z u r e  ,   r e d   e n t e r p r i s e   l i n u x   i m a g e   o p t i o n s   a z u r e   .   c h a p t e r   i n c l u d e s   p r e r e q u i s i t e   p r o c e d u r e s   s e t t i n g   e n v i r o n m e n t   a z u r e   .   s e t   e n v i r o n m e n t  ,   c r e a t e   c o n f i g u r e   a z u r e   v m   i n s t a n c e s   .   c h a p t e r   i n c l u d e s   p r o c e d u r e s   s p e c i f i c   c r e a t i o n   c l u s t e r s  ,   t r a n s f o r m   i n d i v i d u a l   v m   n o d e s   c l u s t e r   n o d e s   a z u r e   .   i n c l u d e   p r o c e d u r e s   i n s t a l l i n g   h i g h   a v a i l a b i l i t y   p a c k a g e s   a g e n t s   c l u s t e r   n o d e  ,   c o n f i g u r i n g   f e n c i n g  ,   i n s t a l l i n g   a z u r e   n e t w o r k   r e s o u r c e   a g e n t s   .   c h a p t e r   r e f e r s   m i c r o s o f t   a z u r e   d o c u m e n t a t i o n   n u m b e r   p l a c e s   .   p r o c e d u r e s  ,   r e f e r e n c e d   a z u r e   d o c u m e n t a t i o n   i n f o r m a t i o n   .   p r e r e q u i s i t e s   i n s t a l l   a z u r e   c o m m a n d   l i n e   i n t e r f a c e   (  c l i  )   .   i n f o r m a t i o n  ,   i n s t a l l i n g   a z u r e   c l i   .   e n a b l e   s u b s c r i p t i o n s   r e d   c l o u d   a c c e s s   p r o g r a m   .   r e d   c l o u d   a c c e s s   p r o g r a m   m o v e   r e d   s u b s c r i p t i o n s   p h y s i c a l   o n - p r e m i s e   s y s t e m s   a z u r e   f u l l   s u p p o r t   r e d   .   a d d i t i o n a l   r e s o u r c e s   s u p p o r t   p o l i c i e s   r h e l   h i g h   a v a i l a b i l i t y   c l u s t e r s   -   m i c r o s o f t   a z u r e   v i r t u a l   m a c h i n e s   c l u s t e r   m e m b e r s   h i g h   a v a i l a b i l i t y   a d d - o n   o v e r v i e w
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 1 .   c r e a t i n g   r e s o u r c e s   a z u r e   c o m p l e t e   p r o c e d u r e   c r e a t e   a v a i l a b i l i t y   s e t   .   r e s o u r c e s   c o m p l e t e   s u b s e q u e n t   t a s k s   c h a p t e r   .   p r o c e d u r e   c r e a t e   a v a i l a b i l i t y   s e t   .   c l u s t e r   n o d e s   a v a i l a b i l i t y   s e t   .   $  v m   a v a i l a b i l i t y - s e t   c r e a t e   - -   _ m y a v a i l a b i l i t y s e t _   - -   r e s o u r c e - g r o u p   _ m y r e s o u r c e g r o u p _  :   [  c l o u d u s e r   @   l o c a l h o s t  ]   $  v m   a v a i l a b i l i t y - s e t   c r e a t e   - -   r h e l h a - a v s e t 1   - -   r e s o u r c e - g r o u p   a z r h e l c l i r s g r p   {  ` `   a d d i t i o n a l p r o p e r t i e s  ' '  :   { }  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s /   . . .   / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p / p r o v i d e r s / m i c r o s o f t . c o m p u t e / a v a i l a b i l i t y s e t s / r h e l h a - a v s e t 1  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   s o u t h c e n t r a l u s  ' '  ,   ` `  ' '  :   “   r h e l h a - a v s e t 1  ' '  ,   ` `   p l a t f o r m f a u l t d o m a i n c o u n t  ' '  :   2  ,   ` `   p l a t f o r m u p d a t e d o m a i n c o u n t  ' '  :   5  ,   . . .   o m i t t e d   a d d i t i o n a l   r e s o u r c e s   s i g n   a z u r e   c l i   s k u   t y p e s   a z u r e   m a n a g e d   d i s k s   o v e r v i e w
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 2 .   c r e a t i n g   a z u r e   a c t i v e   d i r e c t o r y   a p p l i c a t i o n   c o m p l e t e   p r o c e d u r e s   c r e a t e   a z u r e   a c t i v e   d i r e c t o r y   ( )   a p p l i c a t i o n   .   a z u r e   a p p l i c a t i o n   a u t h o r i z e s   a u t o m a t e s   a c c e s s   o p e r a t i o n s   n o d e s   c l u s t e r   .   p r e r e q u i s i t e s   i n s t a l l   a z u r e   c o m m a n d   l i n e   i n t e r f a c e   (  c l i  )   .   p r o c e d u r e   e n s u r e   a d m i n i s t r a t o r   o w n e r   m i c r o s o f t   a z u r e   s u b s c r i p t i o n   .   a u t h o r i z a t i o n   c r e a t e   a z u r e   a p p l i c a t i o n   .   a z u r e   a c c o u n t   .   $  l o g i n   e n t e r   c o m m a n d   c r e a t e   a z u r e   a p p l i c a t i o n   .   p a s s w o r d  ,   a d d   - -   p a s s w o r d   o p t i o n   c o m m a n d   .   e n s u r e   c r e a t e   s t r o n g   p a s s w o r d   .   $  s p   c r e a t e - f o r - r b a c   - -   _ f e n c i n g a p p l i c a t i o n n a m e _   - -   r o l e   o w n e r   - -   s c o p e s   ` `   / s u b s c r i p t i o n s / _ s u b s c r i p t i o n i d _ / r e s o u r c e g r o u p s / _ m y r e s o u r s e g r o u p _  ' '  :   [  c l o u d u s e r   @   l o c a l h o s t   ~  ]   $  s p   c r e a t e - f o r - r b a c   - -   f e n c i n g a p p   - -   r o l e   o w n e r   - -   s c o p e s   ` `   / s u b s c r i p t i o n s / 2 5 8 6 c 6 4 b - x x x x x x - x x x x x x x - x x x x x x x / r e s o u r c e g r o u p s / a z r h e l c l i r s g r p  ' '   r e t r y i n g   r o l e   a s s i g n m e n t   c r e a t i o n  :   1 / 3 6   r e t r y i n g   r o l e   a s s i g n m e n t   c r e a t i o n  :   2 / 3 6   r e t r y i n g   r o l e   a s s i g n m e n t   c r e a t i o n  :   3 / 3 6   {  ` `   a p p i d  ' '  :   ` `   1 a 3 d f e 0 6 - d f 5 5 - 4 2 a d - 9 3 7 b - 3 2 6 d 1 c 2 1 1 7 3 9  ' '  ,   ` `   d i s p l a y n a m e  ' '  :   ` `   f e n c i n g a p p  ' '  ,   ` `  ' '  :   ` `   h t t p  :   / / f e n c i n g a p p  ' '  ,   ` `   p a s s w o r d  ' '  :   ` `   4 3 a 6 0 3 f 0 - 6 4 b b - 4 8 2 e - 8 0 0 d - 4 0 2 e f e 5 f 3 d 4 7  ' '  ,   ` `   t e n a n t  ' '  :   ` `   7 7 e c e f b 6 - x x x x x x x x x x - x x x x x x x - 7 5 7 a 6 9 c b 9 4 8 5  ' '  }   s a v e   i n f o r m a t i o n   p r o c e e d i n g   .   i n f o r m a t i o n   s e t   f e n c i n g   a g e n t   .   a z u r e   a p p l i c a t i o n   i d   a z u r e   a p p l i c a t i o n   p a s s w o r d   t e n a n t   i d   m i c r o s o f t   a z u r e   s u b s c r i p t i o n   i d   a d d i t i o n a l   r e s o u r c e s   v i e w   a c c e s s   u s e r   a z u r e   r e s o u r c e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 3 .   i n s t a l l i n g   r e d   p a c k a g e s   a g e n t s   c o m p l e t e   s t e p s   n o d e s   .   p r o c e d u r e   r e g i s t e r   v m   r e d   .   $  s u d o   - i   #  s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   - -   a u t o - a t t a c h   d i s a b l e   r e p o s i t o r i e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   d i s a b l e =   *   e n a b l e   r h e l   7   s e r v e r   r h e l   7   s e r v e r   r e p o s i t o r i e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - 7 - s e r v e r - r p m s   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - h a - f o r - r h e l - 7 - s e r v e r - r p m s   u p d a t e   p a c k a g e s   .   #  y u m   u p d a t e   - y   r e b o o t   k e r n e l   u p d a t e d   .   #  r e b o o t   i n s t a l l   p c s  ,   p a c e m a k e r  ,   f e n c e   a g e n t  ,   r e s o u r c e   a g e n t  ,   n m a p - n c a t   .   #  y u m   i n s t a l l   - y   p c s   p a c e m a k e r   f e n c e - a g e n t s - a z u r e - a r m   r e s o u r c e - a g e n t s   n m a p - n c a t
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 4 .   c o n f i g u r i n g   s e r v i c e s   c o m p l e t e   s t e p s   n o d e s   .   p r o c e d u r e   u s e r   h a c l u s t e r   c r e a t e d   p c s   p a c e m a k e r   i n s t a l l a t i o n   p r e v i o u s   s e c t i o n   .   c r e a t e   p a s s w o r d   h a c l u s t e r   c l u s t e r   n o d e s   .   p a s s w o r d   n o d e s   .   #  p a s s w d   h a c l u s t e r   a d d   h i g h   a v a i l a b i l i t y   s e r v i c e   r h e l   f i r e w a l l   f i r e w a l l d . s e r v i c e   e n a b l e d   .   #  f i r e w a l l - c m d   - -   p e r m a n e n t   - -   a d d - s e r v i c e = h i g h - a v a i l a b i l i t y   #  f i r e w a l l - c m d   - -   r e l o a d   s t a r t   p c s   s e r v i c e   e n a b l e   s t a r t   b o o t   .   #  s y s t e m c t l   e n a b l e   p c s d . s e r v i c e   - -   v e r i f i c a t i o n   s t e p   e n s u r e   p c s   s e r v i c e   r u n n i n g   .   #  s y s t e m c t l   i s - a c t i v e   p c s d . s e r v i c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 5 .   c r e a t i n g   c l u s t e r   c o m p l e t e   s t e p s   c r e a t e   c l u s t e r   n o d e s   .   p r o c e d u r e   n o d e s  ,   e n t e r   c o m m a n d   a u t h e n t i c a t e   p c s   u s e r   h a c l u s t e r   .   s p e c i f y   n o d e   c l u s t e r   .   #  p c s   h o s t   a u t h   _ h o s t n a m e 1 _   _ h o s t n a m e 2 _   _ h o s t n a m e 3 _  :   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   h o s t   a u t h   n o d e 0 1   n o d e 0 2   n o d e 0 3   u s e r n a m e  :   h a c l u s t e r   p a s s w o r d  :   n o d e 0 1  :   a u t h o r i z e d   n o d e 0 2  :   a u t h o r i z e d   n o d e 0 3  :   a u t h o r i z e d   c r e a t e   c l u s t e r   .   #  p c s   c l u s t e r   s e t u p   - -   _ h o s t n a m e 1 _   _ h o s t n a m e 2 _   _ h o s t n a m e 3 _  :   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   c l u s t e r   s e t u p   - -   n e w c l u s t e r   n o d e 0 1   n o d e 0 2   n o d e 0 3   . . .   o m i t t e d   s y n c h r o n i z i n g   p c s d   c e r t i f i c a t e s   n o d e s   n o d e 0 1  ,   n o d e 0 2  ,   n o d e 0 3   . . .   n o d e 0 2  :   s u c c e s s   n o d e 0 3  :   s u c c e s s   n o d e 0 1  :   s u c c e s s   r e s t a r t i n g   p c s d   n o d e s   o r d e r   r e l o a d   c e r t i f i c a t e s   . . .   n o d e 0 2  :   s u c c e s s   n o d e 0 3  :   s u c c e s s   n o d e 0 1  :   s u c c e s s   v e r i f i c a t i o n   s t e p s   e n a b l e   c l u s t e r   .   #  p c s   c l u s t e r   e n a b l e   - -   s t a r t   c l u s t e r   .   #  p c s   c l u s t e r   s t a r t   - -  :   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   c l u s t e r   e n a b l e   - -   n o d e 0 2  :   c l u s t e r   e n a b l e d   n o d e 0 3  :   c l u s t e r   e n a b l e d   n o d e 0 1  :   c l u s t e r   e n a b l e d   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   c l u s t e r   s t a r t   - -   n o d e 0 2  :   s t a r t i n g   c l u s t e r   . . .   n o d e 0 3  :   s t a r t i n g   c l u s t e r   . . .   n o d e 0 1  :   s t a r t i n g   c l u s t e r   . . .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 6 .   c r e a t i n g   f e n c e   d e v i c e   c o m p l e t e   s t e p s   c o n f i g u r e   f e n c i n g   n o d e   c l u s t e r   .   p r o c e d u r e   i d e n t i f y   a v a i l a b l e   i n s t a n c e s   f e n c e d   .   #  f e n c e _ a z u r e _ a r m   - l   [  a p p i d  ]   - p   [  a u t h k e y  ]   - -   r e s o u r c e g r o u p =   [ ]   - -   s u b s c r i p t i o n i d =   [ ]   - -   t e n a n t i d =   [ ]   - o   l i s t  :   [  r o o t   @   n o d e 1   ~  ]   #  f e n c e _ a z u r e _ a r m   - l   x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   - p   x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   - -   r e s o u r c e g r o u p = h a c l u s t e r - r g   - -   s u b s c r i p t i o n i d = x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   - -   t e n a n t i d = x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   - o   l i s t   n o d e 0 1 - v m  ,   n o d e 0 2 - v m  ,   n o d e 0 3 - v m  ,   c r e a t e   f e n c e   d e v i c e   .   p c m k _ h o s t _ m a p   c o m m a n d   m a p   r h e l   h o s t   i n s t a n c e   i d   .   #  p c s   s t o n i t h   c r e a t e   _ c l u s t e r f e n c e _   f e n c e _ a z u r e _ a r m   l o g i n = _ a d - a p p l i c a t i o n - i d _   p a s s w d = _ a d - p a s s w d _   p c m k _ h o s t _ m a p =  ' '   _ p c m k - h o s t - m a p _   r e s o u r c e g r o u p =   _ m y r e s o u r c e g r o u p _   t e n a n t i d = _ t e n a n t i d _   s u b s c r i p t i o n i d = _ s u b s c r i p t i o n i d _   v e r i f i c a t i o n   s t e p s   t e s t   f e n c i n g   a g e n t   n o d e s   .   #  p c s   s t o n i t h   f e n c e   _ a z u r e n o d e n a m e _  :   [  r o o t   @   n o d e 0 1   ~  ]   #  p c s   s t o n i t h   f e n c e   f e n c e a z u r e   r e s o u r c e  :   f e n c e a z u r e   (  c l a s s = s t o n i t h   t y p e = f e n c e _ a z u r e _ a r m  )   a t t r i b u t e s  :   l o g i n = x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   p a s s w d = x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   p c m k _ h o s t _ m a p = n o d e a  :   n o d e a - v m  ;   n o d e b  :   n o d e b - v m  ;   n o d e c  :   n o d e c - v m   p c m k _ r e b o o t _ r e t r i e s = 4   p c m k _ r e b o o t _ t i m e o u t = 4 8 0   p o w e r _ t i m e o u t = 2 4 0   r e s o u r c e g r o u p = r g   s u b s c r i p t i o n i d = x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   t e n a n t i d = x x x x x x x x - x x x x - x x x x - x x x x - x x x x x x x x x x x x   o p e r a t i o n s  :   m o n i t o r   i n t e r v a l = 6 0 s   (  f e n c e a z u r e - m o n i t o r - i n t e r v a l - 6 0 s  )   [  r o o t   @   n o d e 0 1   ~  ]   #  p c s   s t o n i t h   f e n c e a z u r e   (  s t o n i t h  :   f e n c e _ a z u r e _ a r m  )  :   s t a r t e d   n o d e a   c h e c k   s t a t u s   v e r i f y   n o d e   s t a r t e d   .   #  w a t c h   p c s   s t a t u s  :   [  r o o t   @   n o d e 0 1   ~  ]   #  w a t c h   p c s   s t a t u s   f e n c e a z u r e   (  s t o n i t h  :   f e n c e _ a z u r e _ a r m  )  :   s t a r t e d   n o d e a   a d d i t i o n a l   r e s o u r c e s   f e n c i n g   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r   h i g h   a v a i l a b i l i t y   a d d - o n   a d m i n i s t r a t i o n
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 7 .   c r e a t i n g   a z u r e   i n t e r n a l   l o a d   b a l a n c e r   a z u r e   i n t e r n a l   l o a d   b a l a n c e r   r e m o v e s   c l u s t e r   n o d e s   a n s w e r   h e a l t h   p r o b e   r e q u e s t s   .   p e r f o r m   p r o c e d u r e   c r e a t e   a z u r e   i n t e r n a l   l o a d   b a l a n c e r   .   s t e p   r e f e r e n c e s   s p e c i f i c   m i c r o s o f t   p r o c e d u r e   i n c l u d e s   s e t t i n g s   c u s t o m i z i n g   l o a d   b a l a n c e r   .   p r e r e q u i s i t e s   a c c e s s   a z u r e   c o n t r o l   p a n e l   p r o c e d u r e   c r e a t e   b a s i c   l o a d   b a l a n c e r   .   s e l e c t   i n t e r n a l   l o a d   b a l a n c e r  ,   b a s i c   s k u  ,   d y n a m i c   t y p e   i p   a d d r e s s   a s s i g n m e n t   .   c r e a t e   b a c k e n d   a d d r e s s   p o o l   .   a s s o c i a t e   b a c k e n d   p o o l   a v a i l a b i l i t y   s e t   c r e a t e d   c r e a t i n g   a z u r e   r e s o u r c e s   .   s e t   t a r g e t   n e t w o r k   i p   c o n f i g u r a t i o n s   .   c r e a t e   h e a l t h   p r o b e   .   h e a l t h   p r o b e  ,   s e l e c t   t c p   e n t e r   p o r t   6 1 0 0 0 .   t c p   p o r t   n u m b e r   i n t e r f e r e   s e r v i c e   .   p r o d u c t   a p p l i c a t i o n s  ,  ,   h a n a   s q l   s e r v e r  ,   w o r k   m i c r o s o f t   i d e n t i f y   c o r r e c t   p o r t   .   c r e a t e   l o a d   b a l a n c e r   r u l e   .   c r e a t e   l o a d   b a l a n c i n g   r u l e  ,   d e f a u l t   v a l u e s   p r e p o p u l a t e d   .   e n s u r e   s e t   f l o a t i n g   i p   (  d i r e c t   s e r v e r   r e t u r n  )   e n a b l e d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 8 .   c o n f i g u r i n g   a z u r e   l o a d   b a l a n c e r   r e s o u r c e   a g e n t   c r e a t e d   h e a l t h   p r o b e  ,   c o n f i g u r e   l o a d   b a l a n c e r   r e s o u r c e   a g e n t   .   r e s o u r c e   a g e n t   r u n s   s e r v i c e   a n s w e r s   h e a l t h   p r o b e   r e q u e s t s   a z u r e   l o a d   b a l a n c e r   r e m o v e s   c l u s t e r   n o d e s   a n s w e r   r e q u e s t s   .   p r o c e d u r e   e n t e r   a z u r e   i d   c o m m a n d   v i e w   a z u r e   l o a d   b a l a n c e r   r e s o u r c e   a g e n t   d e s c r i p t i o n   .   s h o w s   o p t i o n s   d e f a u l t   o p e r a t i o n s   a g e n t   .   #  p c s   r e s o u r c e   d e s c r i b e   _ a z u r e - i d _   c r e a t e   i p a d d r 2   r e s o u r c e   m a n a g i n g   i p   n o d e   .   #  p c s   r e s o u r c e   c r e a t e   _ r e s o u r c e - i d _   i p a d d r 2   i p = _ v i r t u a l / f l o a t i n g - i p _   c i d r _ n e t m a s k = _ v i r t u a l / f l o a t i n g - m a s k _   - -   g r o u p   _ g r o u p - i d _   n i c = _ n e t w o r k - i n t e r f a c e _   m o n i t o r   i n t e r v a l = 3 0 s  :   [  r o o t   @   n o d e 0 1   ~  ]   #  p c s   r e s o u r c e   c r e a t e   c l u s t e r i p   o c f  :   h e a r t b e a t  :   i p a d d r 2   i p = 1 7 2 . 1 6 . 6 6 . 9 9   c i d r _ n e t m a s k = 2 4   - -   g r o u p   c l o u d i p   n i c = e t h 0   m o n i t o r   i n t e r v a l = 3 0 s   c o n f i g u r e   l o a d   b a l a n c e r   r e s o u r c e   a g e n t   .   #  p c s   r e s o u r c e   c r e a t e   _ r e s o u r c e - l o a d b a l a n c e r - n a m e _   a z u r e - l b   p o r t = _ p o r t - n u m b e r _   - -   g r o u p   _ c l u s t e r - r e s o u r c e s - g r o u p _   v e r i f i c a t i o n   s t e p   r u n   p c s   s t a t u s   c o m m a n d   r e s u l t s   .   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   s t a t u s  :   [  r o o t   @   n o d e 0 1   ~  ]   #  p c s   s t a t u s   c l u s t e r  :   h a c l u s t e r   w a r n i n g s  :   s t o n i t h   d e v i c e s   s t o n i t h - e n a b l e d   f a l s e   s t a c k  :   c o r o s y n c   c u r r e n t   d c  :   n o d e b   (  v e r s i o n   1 . 1 . 2 2 - 1 . e l 7 - 6 3 d 2 d 7 9 0 0 5  )   -   p a r t i t i o n   q u o r u m   u p d a t e d  :   w e d   s e p   9   1 6: 4 7: 0 7   2 0 2 0   c h a n g e  :   w e d   s e p   9   1 6: 4 4: 3 2   2 0 2 0   h a c l u s t e r   c r m d   n o d e b   3   n o d e s   c o n f i g u r e d   0   r e s o u r c e   i n s t a n c e s   c o n f i g u r e d   o n l i n e  :   [  n o d e 0 1   n o d e 0 2   n o d e 0 3  ]   r e s o u r c e s   d a e m o n   s t a t u s  :   c o r o s y n c  :   a c t i v e / e n a b l e d   p a c e m a k e r  :   a c t i v e / e n a b l e d   p c s d  :   a c t i v e / e n a b l e d   a d d i t i o n a l   r e s o u r c e s   c l u s t e r   o p e r a t i o n
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 9 .   c o n f i g u r i n g   s h a r e d   b l o c k   s t o r a g e   s e c t i o n   o p t i o n a l   p r o c e d u r e   c o n f i g u r i n g   s h a r e d   b l o c k   s t o r a g e   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r   m i c r o s o f t   a z u r e   s h a r e d   d i s k s   .   p r o c e d u r e   a s s u m e s   a z u r e   v m s   (  t h r e e - n o d e   c l u s t e r  )   1 t b   s h a r e d   d i s k   .   p r e r e q u i s i t e s   i n s t a l l e d   a z u r e   c l i   h o s t   s y s t e m  ,   c r e a t e d   s s h   k e y   ( )   .   c r e a t e d   c l u s t e r   e n v i r o n m e n t   a z u r e  ,   i n c l u d e s   c r e a t i n g   .   l i n k s   m i c r o s o f t   a z u r e   d o c u m e n t a t i o n   .   r e s o u r c e   g r o u p   v i r t u a l   n e t w o r k   n e t w o r k   s e c u r i t y   g r o u p   ( )   n e t w o r k   s e c u r i t y   g r o u p   r u l e s   s u b n e t   ( )   l o a d   b a l a n c e r   (  o p t i o n a l  )   s t o r a g e   a c c o u n t   p r o x i m i t y   p l a c e m e n t   g r o u p   a v a i l a b i l i t y   s e t   p r o c e d u r e   c r e a t e   s h a r e d   b l o c k   v o l u m e   a z u r e   c o m m a n d   d i s k   c r e a t e   .   $  d i s k   c r e a t e   - g   r e s o u r c e _ g r o u p   - n   s h a r e d _ b l o c k _ v o l u m e _ n a m e   - -   s i z e - g b   d i s k _ s i z e   - -   m a x - s h a r e s   n u m b e r _ v m s   - l   l o c a t i o n  ,   c o m m a n d   c r e a t e s   s h a r e d   b l o c k   v o l u m e   n a m e d   s h a r e d - b l o c k - v o l u m e . v h d   r e s o u r c e   g r o u p   s h a r e d b l o c k   a z u r e   a v a i l a b i l i t y   z o n e   w e s t c e n t r a l u s   .   $  d i s k   c r e a t e   - g   s h a r e d b l o c k - r g   - n   s h a r e d - b l o c k - v o l u m e . v h d   - -   s i z e - g b   1 0 2 4   - -   m a x - s h a r e s   3   - l   w e s t c e n t r a l u s   {  ` `   c r e a t i o n d a t a  ' '  :   {  ` `   c r e a t e o p t i o n  ' '  :   ` `   e m p t y  ' '  ,   ` `   g a l l e r y i m a g e r e f e r e n c e  ' '  :   n u l l  ,   ` `   i m a g e r e f e r e n c e  ' '  :   n u l l  ,   ` `   s o u r c e r e s o u r c e i d  ' '  :   n u l l  ,   ` `   s o u r c e u n i q u e i d  ' '  :   n u l l  ,   ` `   s o u r c e u r i  ' '  :   n u l l  ,   ` `   s t o r a g e a c c o u n t i d  ' '  :   n u l l  ,   ` `   u p l o a d s i z e b y t e s  ' '  :   n u l l  }  ,   ` `   d i s k a c c e s s i d  ' '  :   n u l l  ,   ` `   d i s k i o p s r e a d o n l y  ' '  :   n u l l  ,   ` `   d i s k i o p s r e a d w r i t e  ' '  :   5 0 0 0  ,   ` `   d i s k m b p s r e a d o n l y  ' '  :   n u l l  ,   ` `   d i s k m b p s r e a d w r i t e  ' '  :   2 0 0  ,   ` `   d i s k s i z e b y t e s  ' '  :   1 0 9 9 5 1 1 6 2 7 7 7 6  ,   ` `   d i s k s i z e g b  ' '  :   1 0 2 4  ,   ` `   d i s k s t a t e  ' '  :   ` `   u n a t t a c h e d  ' '  ,   ` `   e n c r y p t i o n  ' '  :   {  ` `   d i s k e n c r y p t i o n s e t i d  ' '  :   n u l l  ,   ` `   t y p e  ' '  :   ` `   e n c r y p t i o n a t r e s t w i t h p l a t f o r m k e y  ' '  }  ,   ` `   e n c r y p t i o n s e t t i n g s c o l l e c t i o n  ' '  :   n u l l  ,   ` `   h y p e r v g e n e r a t i o n  ' '  :   ` `   v 1  ' '  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / 1 2 3 4 5 6 7 8 9 1 0 - 1 2 3 4 5 6 7 8 9 1 0 / r e s o u r c e g r o u p s / s h a r e d b l o c k - r g / p r o v i d e r s / m i c r o s o f t . c o m p u t e / d i s k s / s h a r e d - b l o c k - v o l u m e . v h d  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   w e s t c e n t r a l u s  ' '  ,   ` `   m a n a g e d b y  ' '  :   n u l l  ,   ` `   m a n a g e d b y e x t e n d e d  ' '  :   n u l l  ,   ` `   m a x s h a r e s  ' '  :   3  ,   ` `  ' '  :   ` `   s h a r e d - b l o c k - v o l u m e . v h d  ' '  ,   ` `   n e t w o r k a c c e s s p o l i c y  ' '  :   ` `   a l l o w a l l  ' '  ,   ` `   o s t y p e  ' '  :   n u l l  ,   ` `   p r o v i s i o n i n g s t a t e  ' '  :   ` `   s u c c e e d e d  ' '  ,   ` `   r e s o u r c e g r o u p  ' '  :   ` `   s h a r e d b l o c k - r g  ' '  ,   ` `   s h a r e i n f o  ' '  :   n u l l  ,   ` `   s k u  ' '  :   {  ` `  ' '  :   ` `   p r e m i u m _ l r s  ' '  ,   ` `   t i e r  ' '  :   ` `   p r e m i u m  ' '  }  ,   ` `   t a g s  ' '  :   { }  ,   ` `   t i m e c r e a t e d  ' '  :   ` `   2 0 2 0 - 0 8 - 2 7 t 1 5: 3 6: 5 6 . 2 6 3 3 8 2 + 0 0: 0 0  ' '  ,   ` `   t y p e  ' '  :   ` `   m i c r o s o f t . c o m p u t e / d i s k s  ' '  ,   ` `   u n i q u e i d  ' '  :   ` `   c d 8 b 0 a 2 5 - 6 f b e - 4 7 7 9 - 9 3 1 2 - 8 d 9 c b b 8 9 b 6 f 2  ' '  ,   ` `   z o n e s  ' '  :   n u l l  }   v e r i f y   c r e a t e d   s h a r e d   b l o c k   v o l u m e   a z u r e   c o m m a n d   d i s k   s h o w   .   $  d i s k   s h o w   - g   r e s o u r c e _ g r o u p   - n   s h a r e d _ b l o c k _ v o l u m e _ n a m e  ,   c o m m a n d   s h o w s   d e t a i l s   s h a r e d   b l o c k   v o l u m e   s h a r e d - b l o c k - v o l u m e . v h d   r e s o u r c e   g r o u p   s h a r e d b l o c k - r g   .   $  d i s k   s h o w   - g   s h a r e d b l o c k - r g   - n   s h a r e d - b l o c k - v o l u m e . v h d   {  ` `   c r e a t i o n d a t a  ' '  :   {  ` `   c r e a t e o p t i o n  ' '  :   ` `   e m p t y  ' '  ,   ` `   g a l l e r y i m a g e r e f e r e n c e  ' '  :   n u l l  ,   ` `   i m a g e r e f e r e n c e  ' '  :   n u l l  ,   ` `   s o u r c e r e s o u r c e i d  ' '  :   n u l l  ,   ` `   s o u r c e u n i q u e i d  ' '  :   n u l l  ,   ` `   s o u r c e u r i  ' '  :   n u l l  ,   ` `   s t o r a g e a c c o u n t i d  ' '  :   n u l l  ,   ` `   u p l o a d s i z e b y t e s  ' '  :   n u l l  }  ,   ` `   d i s k a c c e s s i d  ' '  :   n u l l  ,   ` `   d i s k i o p s r e a d o n l y  ' '  :   n u l l  ,   ` `   d i s k i o p s r e a d w r i t e  ' '  :   5 0 0 0  ,   ` `   d i s k m b p s r e a d o n l y  ' '  :   n u l l  ,   ` `   d i s k m b p s r e a d w r i t e  ' '  :   2 0 0  ,   ` `   d i s k s i z e b y t e s  ' '  :   1 0 9 9 5 1 1 6 2 7 7 7 6  ,   ` `   d i s k s i z e g b  ' '  :   1 0 2 4  ,   ` `   d i s k s t a t e  ' '  :   ` `   u n a t t a c h e d  ' '  ,   ` `   e n c r y p t i o n  ' '  :   {  ` `   d i s k e n c r y p t i o n s e t i d  ' '  :   n u l l  ,   ` `   t y p e  ' '  :   ` `   e n c r y p t i o n a t r e s t w i t h p l a t f o r m k e y  ' '  }  ,   ` `   e n c r y p t i o n s e t t i n g s c o l l e c t i o n  ' '  :   n u l l  ,   ` `   h y p e r v g e n e r a t i o n  ' '  :   ` `   v 1  ' '  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / 1 2 3 4 5 6 7 8 9 1 0 - 1 2 3 4 5 6 7 8 9 1 0 / r e s o u r c e g r o u p s / s h a r e d b l o c k - r g / p r o v i d e r s / m i c r o s o f t . c o m p u t e / d i s k s / s h a r e d - b l o c k - v o l u m e . v h d  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   w e s t c e n t r a l u s  ' '  ,   ` `   m a n a g e d b y  ' '  :   n u l l  ,   ` `   m a n a g e d b y e x t e n d e d  ' '  :   n u l l  ,   ` `   m a x s h a r e s  ' '  :   3  ,   ` `  ' '  :   ` `   s h a r e d - b l o c k - v o l u m e . v h d  ' '  ,   ` `   n e t w o r k a c c e s s p o l i c y  ' '  :   ` `   a l l o w a l l  ' '  ,   ` `   o s t y p e  ' '  :   n u l l  ,   ` `   p r o v i s i o n i n g s t a t e  ' '  :   ` `   s u c c e e d e d  ' '  ,   ` `   r e s o u r c e g r o u p  ' '  :   ` `   s h a r e d b l o c k - r g  ' '  ,   ` `   s h a r e i n f o  ' '  :   n u l l  ,   ` `   s k u  ' '  :   {  ` `  ' '  :   ` `   p r e m i u m _ l r s  ' '  ,   ` `   t i e r  ' '  :   ` `   p r e m i u m  ' '  }  ,   ` `   t a g s  ' '  :   { }  ,   ` `   t i m e c r e a t e d  ' '  :   ` `   2 0 2 0 - 0 8 - 2 7 t 1 5: 3 6: 5 6 . 2 6 3 3 8 2 + 0 0: 0 0  ' '  ,   ` `   t y p e  ' '  :   ` `   m i c r o s o f t . c o m p u t e / d i s k s  ' '  ,   ` `   u n i q u e i d  ' '  :   ` `   c d 8 b 0 a 2 5 - 6 f b e - 4 7 7 9 - 9 3 1 2 - 8 d 9 c b b 8 9 b 6 f 2  ' '  ,   ` `   z o n e s  ' '  :   n u l l  }   c r e a t e   n e t w o r k   i n t e r f a c e s   a z u r e   c o m m a n d   n e t w o r k   n i c   c r e a t e   .   r u n   c o m m a n d   t i m e s   d i f f e r e n t   <  n i c _ n a m e  >   .   $  n e t w o r k   n i c   c r e a t e   - g   r e s o u r c e _ g r o u p   - n   n i c _ n a m e   - -   s u b n e t   s u b n e t _ n a m e   - -   v n e t - n a m e   v i r t u a l _ n e t w o r k   - -   l o c a t i o n   l o c a t i o n   - -   n e t w o r k - s e c u r i t y - g r o u p   n e t w o r k _ s e c u r i t y _ g r o u p   - -   p r i v a t e - i p - a d d r e s s - v e r s i o n   i p v 4  ,   c o m m a n d   c r e a t e s   n e t w o r k   i n t e r f a c e   s h a r e b l o c k - n o d e a - v m - n i c - p r o t e c t e d   .   $  n e t w o r k   n i c   c r e a t e   - g   s h a r e d b l o c k - r g   - n   s h a r e d b l o c k - n o d e a - v m - n i c - p r o t e c t e d   - -   s u b n e t   s h a r e d b l o c k - s u b n e t - p r o t e c t e d   - -   v n e t - n a m e   s h a r e d b l o c k - v n   - -   l o c a t i o n   w e s t c e n t r a l u s   - -   n e t w o r k - s e c u r i t y - g r o u p   s h a r e d b l o c k - n s g   - -   p r i v a t e - i p - a d d r e s s - v e r s i o n   i p v 4   c r e a t e   v i r t u a l   m a c h i n e s   a t t a c h   s h a r e d   b l o c k   v o l u m e   a z u r e   c o m m a n d   v m   c r e a t e   .   o p t i o n   v a l u e s   v m   v m   <  v m _ n a m e  >  ,   <  n e w _ v m _ d i s k _ n a m e  >  ,   <  n i c _ n a m e  >   .   $  v m   c r e a t e   - n   v m _ n a m e   - g   r e s o u r c e _ g r o u p   - -   a t t a c h - d a t a - d i s k s   s h a r e d _ b l o c k _ v o l u m e _ n a m e   - -   d a t a - d i s k - c a c h i n g   - -   o s - d i s k - c a c h i n g   r e a d w r i t e   - -   o s - d i s k - n a m e   n e w - v m - d i s k - n a m e   - -   o s - d i s k - s i z e - g b   d i s k _ s i z e   - -   l o c a t i o n   l o c a t i o n   - -   s i z e   v i r t u a l _ m a c h i n e _ s i z e   - -   i m a g e   i m a g e _ n a m e   - -   a d m i n - u s e r n a m e   v m _ u s e r n a m e   - -   a u t h e n t i c a t i o n - t y p e   s s h   - -   s s h - k e y - v a l u e s   s s h _ k e y   - -   n i c s   - n i c _ n a m e _   - -   a v a i l a b i l i t y - s e t   a v a i l a b i l i t y _ s e t   - -   p p g   p r o x i m i t y _ p l a c e m e n t _ g r o u p  ,   c o m m a n d   c r e a t e s   v i r t u a l   m a c h i n e   n a m e d   s h a r e d b l o c k - n o d e a - v m   .   $  v m   c r e a t e   - n   s h a r e d b l o c k - n o d e a - v m   - g   s h a r e d b l o c k - r g   - -   a t t a c h - d a t a - d i s k s   s h a r e d - b l o c k - v o l u m e . v h d   - -   d a t a - d i s k - c a c h i n g   - -   o s - d i s k - c a c h i n g   r e a d w r i t e   - -   o s - d i s k - n a m e   s h a r e d b l o c k - n o d e a - v m . v h d   - -   o s - d i s k - s i z e - g b   6 4   - -   l o c a t i o n   w e s t c e n t r a l u s   - -   s i z e   s t a n d a r d _ d 2 s _ v 3   - -   i m a g e   / s u b s c r i p t i o n s / 1 2 3 4 5 6 7 8 9 1 0 - 1 2 3 4 5 6 7 8 9 1 0 / r e s o u r c e g r o u p s / s a m p l e - a z u r e i m a g e s g r o u p w e s t c e n t r a l u s / p r o v i d e r s / m i c r o s o f t . c o m p u t e / i m a g e s / s a m p l e - a z u r e - r h e l - 7 . 0 - 2 0 2 0 0 7 1 3 . n . 0 . x 8 6 _ 6 4   - -   a d m i n - u s e r n a m e   s h a r e d b l o c k - u s e r   - -   a u t h e n t i c a t i o n - t y p e   s s h   - -   s s h - k e y - v a l u e s   @   s h a r e d b l o c k - k e y . p u b   - -   n i c s   s h a r e d b l o c k - n o d e a - v m - n i c - p r o t e c t e d   - -   a v a i l a b i l i t y - s e t   s h a r e d b l o c k - a s   - -   p p g   s h a r e d b l o c k - p p g   {  ` `   f q d n s  ' '  :   ` `  ' '  ,   ` `   i d  ' '  :   ` `   / s u b s c r i p t i o n s / 1 2 3 4 5 6 7 8 9 1 0 - 1 2 3 4 5 6 7 8 9 1 0 / r e s o u r c e g r o u p s / s h a r e d b l o c k - r g / p r o v i d e r s / m i c r o s o f t . c o m p u t e / v i r t u a l m a c h i n e s / s h a r e d b l o c k - n o d e a - v m  ' '  ,   ` `   l o c a t i o n  ' '  :   ` `   w e s t c e n t r a l u s  ' '  ,   ` `   m a c a d d r e s s  ' '  :   ` `   0 0 - 2 2 - 4 8 - 5 d - e e - f b  ' '  ,   ` `   p o w e r s t a t e  ' '  :   ` `   v m   r u n n i n g  ' '  ,   ` `   p r i v a t e i p a d d r e s s  ' '  :   ` `   1 9 8 . 5 1 . 1 0 0 . 3  ' '  ,   ` `   p u b l i c i p a d d r e s s  ' '  :   ` `  ' '  ,   ` `   r e s o u r c e g r o u p  ' '  :   ` `   s h a r e d b l o c k - r g  ' '  ,   ` `   z o n e s  ' '  :   ` `  ' '  }   v e r i f i c a t i o n   s t e p s   v m   c l u s t e r  ,   v e r i f y   b l o c k   d e v i c e   a v a i l a b l e   s s h   c o m m a n d   v m   <  i p _ a d d r e s s  >   .   #  s s h   i p _ a d d r e s s   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '  ' '  ,   c o m m a n d   l i s t s   d e t a i l s   i n c l u d i n g   h o s t   b l o c k   d e v i c e   v m   i p   1 9 8 . 5 1 . 1 0 0 . 3   .   #  s s h   1 9 8 . 5 1 . 1 0 0 . 3   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '  ' '   n o d e a   s d b   8: 1 6   0   1 t   0   d i s k   s s h   c o m m a n d   v e r i f y   v m   c l u s t e r   s h a r e d   d i s k   .   #  s s h   _ i p _ a d d r e s s _ s   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '   |   a w k  '   {  p r i n t   \   $  1  }  '   |   x a r g s   - i   u d e v a d m   i n f o   - -   q u e r y = a l l   - -   n a m e = / d e v /   { }   |   g r e p  ' ^ e  :   i d _ s e r i a l =  '  ' '  ,   c o m m a n d   l i s t s   d e t a i l s   i n c l u d i n g   h o s t   s h a r e d   d i s k   v o l u m e   i d   i n s t a n c e   i p   a d d r e s s   1 9 8 . 5 1 . 1 0 0 . 3   .   #  s s h   1 9 8 . 5 1 . 1 0 0 . 3   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '   |   a w k  '   {  p r i n t   \   $  1  }  '   |   x a r g s   - i   u d e v a d m   i n f o   - -   q u e r y = a l l   - -   n a m e = / d e v /   { }   |   g r e p  ' ^ e  :   i d _ s e r i a l =  '  ' '   n o d e a  :   i d _ s e r i a l = 3 6 0 0 2 2 4 8 0 8 d d 8 e b 1 0 2 f 6 f f c 5 8 2 2 c 4 1 d 8 9   v e r i f i e d   s h a r e d   d i s k   a t t a c h e d   v m  ,   c o n f i g u r e   r e s i l i e n t   s t o r a g e   c l u s t e r   .   i n f o r m a t i o n   c o n f i g u r i n g   r e s i l i e n t   s t o r a g e   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r  ,   c o n f i g u r i n g   g f s 2   f i l e   s y s t e m   c l u s t e r   .   g e n e r a l   i n f o r m a t i o n   g f s 2   f i l e   s y s t e m s  ,   c o n f i g u r i n g   m a n a g i n g   g f s 2   f i l e   s y s t e m s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   3 .   d e p l o y i n g   r e d   e n t e r p r i s e   l i n u x   i m a g e   e c 2   i n s t a n c e   a m a z o n   w e b   s e r v i c e s   n u m b e r   o p t i o n s   d e p l o y i n g   r e d   e n t e r p r i s e   l i n u x   (  r h e l  )   7   i m a g e   e c 2   i n s t a n c e   a m a z o n   w e b   s e r v i c e s   (  a w s  )   .   c h a p t e r   d i s c u s s e s   o p t i o n s   c h o o s i n g   i m a g e   l i s t s   r e f e r s   s y s t e m   r e q u i r e m e n t s   h o s t   s y s t e m   v i r t u a l   m a c h i n e   (  v m  )   .   c h a p t e r   p r o c e d u r e s   c r e a t i n g   c u s t o m   v m   i s o   i m a g e  ,   u p l o a d i n g   e c 2  ,   l a u n c h i n g   e c 2   i n s t a n c e   .   c h a p t e r   r e f e r s   a m a z o n   d o c u m e n t a t i o n   n u m b e r   p l a c e s   .   p r o c e d u r e s  ,   r e f e r e n c e d   a m a z o n   d o c u m e n t a t i o n   a d d i t i o n a l   d e t a i l   .   p r e r e q u i s i t e s   s i g n   r e d   c u s t o m e r   p o r t a l   a c c o u n t   .   s i g n   a w s   s e t   a w s   r e s o u r c e s   .   s e t t i n g   a m a z o n   e c 2   i n f o r m a t i o n   .   e n a b l e   s u b s c r i p t i o n s   r e d   c l o u d   a c c e s s   p r o g r a m   .   r e d   c l o u d   a c c e s s   p r o g r a m   m o v e   r e d   s u b s c r i p t i o n s   p h y s i c a l   o n - p r e m i s e   s y s t e m s   a w s   f u l l   s u p p o r t   r e d   .   a d d i t i o n a l   r e s o u r c e s   r e d   c l o u d   a c c e s s   r e f e r e n c e   g u i d e   r e d   p u b l i c   c l o u d   r e d   e n t e r p r i s e   l i n u x   a m a z o n   e c 2   -   f a q s   s e t t i n g   a m a z o n   e c 2   r e d   a m a z o n   w e b   s e r v i c e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 1 .   r e d   e n t e r p r i s e   l i n u x   i m a g e   o p t i o n s   a w s   t a b l e   l i s t s   i m a g e   c h o i c e s   n o t e s   d i f f e r e n c e s   i m a g e   o p t i o n s   .   r e m a i n d e r   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   p e r t a i n i n g   c u s t o m   i m a g e s   .   a d d i t i o n a l   r e s o u r c e s   r e d   g o l d   i m a g e s   r e d   c l o u d   a c c e s s   p r o g r a m   i m a g e   b u i l d e r   g u i d e   a w s   m a n a g e m e n t   c o n s o l e   a w s   m a r k e t p l a c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 2 .   i n s t a l l i n g   a w s   c l i   p r o c e d u r e s   c h a p t e r   i n c l u d e   a w s   c l i   .   c o m p l e t e   s t e p s   i n s t a l l   a w s   c l i   .   p r e r e q u i s i t e s   c r e a t e d   a c c e s s   a w s   a c c e s s   k e y   i d   a w s   s e c r e t   a c c e s s   k e y   .   q u i c k l y   c o n f i g u r i n g   a w s   c l i   i n f o r m a t i o n   i n s t r u c t i o n s   .   p r o c e d u r e   i n s t a l l   p y t h o n   3   p i p   t o o l   .   #  y u m   i n s t a l l   p y t h o n 3   #  y u m   i n s t a l l   p y t h o n 3 - p i p   i n s t a l l   a w s   c o m m a n d   l i n e   t o o l s   p i p   c o m m a n d   .   #  p i p 3   i n s t a l l   a w s c l i   r u n   a w s   - -   v e r s i o n   c o m m a n d   v e r i f y   i n s t a l l e d   a w s   c l i   .   $  a w s   - -   v e r s i o n   a w s - c l i / 1 . 1 6 . 1 8 2   p y t h o n / 2 . 7 . 5   l i n u x / 3 . 1 0 . 0 - 9 5 7 . 2 1 . 3 . e l 7 . x 8 6 _ 6 4   b o t o c o r e / 1 . 1 2 . 1 7 2   c o n f i g u r e   a w s   c o m m a n d   l i n e   c l i e n t   a w s   a c c e s s   d e t a i l s   .   $  a w s   c o n f i g u r e   a w s   a c c e s s   k e y   i d   [ ]  :   a w s   s e c r e t   a c c e s s   k e y   [ ]  :   d e f a u l t   r e g i o n   [ ]  :   d e f a u l t   o u t p u t   f o r m a t   [ ]  :   a d d i t i o n a l   r e s o u r c e s   q u i c k l y   c o n f i g u r i n g   a w s   c l i   a w s   c o m m a n d   l i n e   t o o l s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 3 .   v i r t u a l   m a c h i n e   c o n f i g u r a t i o n   s e t t i n g s   c l o u d   v m s   c o n f i g u r a t i o n   s e t t i n g s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 .   c r e a t i n g   b a s e   v m   i s o   i m a g e   f o l l o w   p r o c e d u r e s   s e c t i o n   c r e a t e   b a s e   i m a g e   i s o   i m a g e   .   p r e r e q u i s i t e s   e n a b l e   v i r t u a l i z a t i o n   r e d   e n t e r p r i s e   l i n u x   7   h o s t   m a c h i n e   v i r t u a l i z a t i o n   d e p l o y m e n t   a d m i n i s t r a t i o n   g u i d e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 . 1 .   d o w n l o a d i n g   i s o   i m a g e   p r o c e d u r e   d o w n l o a d   l a t e s t   r e d   e n t e r p r i s e   l i n u x   i s o   i m a g e   r e d   c u s t o m e r   p o r t a l   .   m o v e   i m a g e   / v a r / l i b / l i b v i r t / i m a g e s   d i r e c t o r y  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 . 2 .   c r e a t i n g   v m   i s o   i m a g e   p r o c e d u r e   e n s u r e   e n a b l e d   h o s t   m a c h i n e   v i r t u a l i z a t i o n   .   i n f o r m a t i o n   p r o c e d u r e s   i n s t a l l   v i r u t a l i z a t i o n   p a c k a g e s  ,   i n s t a l l i n g   v i r t u a l i z a t i o n   p a c k a g e s   e x i s t i n g   r e d   e n t e r p r i s e   l i n u x   s y s t e m   c r e a t e   s t a r t   b a s i c   r e d   e n t e r p r i s e   l i n u x   v m   .   i n s t r u c t i o n s   c r e a t e   v m  ,   r e f e r   c r e a t i n g   v i r t u a l   m a c h i n e   .   c o m m a n d   l i n e   c r e a t e   v m  ,   e n s u r e   s e t   d e f a u l t   m e m o r y   c p u s   c a p a c i t y   v m   .   s e t   v i r t u a l   n e t w o r k   i n t e r f a c e   v i r t i o   .   b a s i c   c o m m a n d   l i n e   s a m p l e   .   v i r t - i n s t a l l   - -   _ v m n a m e _   - -   m e m o r y   2 0 4 8   - -   v c p u s   2   - -   d i s k   s i z e = 8  ,   b u s = v i r t i o   - -   l o c a t i o n   r h e l - 7 . 0 - x 8 6 _ 6 4 - d v d . i s o   - -   o s - v a r i a n t = r h e l 7 . 0   v i r t - m a n a g e r   a p p l i c a t i o n   c r e a t e   v m  ,   f o l l o w   p r o c e d u r e   c r e a t i n g   g u e s t s   v i r t - m a n a g e r  ,   c a v e a t s  :   c h e c k   i m m e d i a t e l y   s t a r t   v m   .   c h a n g e   m e m o r y   s t o r a g e   s i z e   p r e f e r r e d   s e t t i n g s   .   s t a r t   i n s t a l l a t i o n  ,   e n s u r e   c h a n g e d   m o d e l   v i r t u a l   n e t w o r k   i n t e r f a c e   s e t t i n g s   v i r t i o   c h a n g e   v c p u s   c a p a c i t y   s e t t i n g s   v m  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 . 3 .   c o m p l e t i n g   r h e l   i n s t a l l a t i o n   p e r f o r m   s t e p s   c o m p l e t e   i n s t a l l a t i o n   e n a b l e   r o o t   a c c e s s   v m   l a u n c h e s   .   p r o c e d u r e   c h o o s e   l a n g u a g e   i n s t a l l a t i o n   p r o c e s s   .   i n s t a l l a t i o n   s u m m a r y   v i e w  :   c l i c k   s o f t w a r e   s e l e c t i o n   c h e c k   m i n i m a l   i n s t a l l   .   c l i c k   .   c l i c k   i n s t a l l a t i o n   d e s t i n a t i o n   c h e c k   c u s t o m   s t o r a g e   c o n f i g u r a t i o n   .   v e r i f y   5 0 0   m b   / b o o t   .   r e m a i n i n g   s p a c e   r o o t   /   .   s t a n d a r d   p a r t i t i o n s   r e c o m m e n d e d  ,   l o g i c a l   v o l u m e   m a n a g e m e n t   (  l v m  )   .   x f s  ,   e x t 4  ,   e x t 3   f i l e   s y s t e m   .   c l i c k   f i n i s h e d   c h a n g e s   .   c l i c k   b e g i n   i n s t a l l a t i o n   .   s e t   r o o t   p a s s w o r d   .   r e b o o t   v m   r o o t   i n s t a l l a t i o n   c o m p l e t e s   .   c o n f i g u r e   i m a g e   .   p o w e r   v m  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 .   u p l o a d i n g   r e d   e n t e r p r i s e   l i n u x   i m a g e   a w s   f o l l o w   p r o c e d u r e s   s e c t i o n   h o s t   m a c h i n e   u p l o a d   i m a g e   a w s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 1 .   c r e a t i n g   s 3   b u c k e t   i m p o r t i n g   a w s   r e q u i r e s   a m a z o n   s 3   b u c k e t   .   a m a z o n   s 3   b u c k e t   a m a z o n   r e s o u r c e   s t o r e   o b j e c t s   .   p a r t   p r o c e s s   u p l o a d i n g   i m a g e  ,   c r e a t e   s 3   b u c k e t   m o v e   i m a g e   b u c k e t   .   c o m p l e t e   s t e p s   c r e a t e   b u c k e t   .   p r e r e q u i s i t e s   a w s   c l i   i n s t a l l e d   .   i n f o r m a t i o n  ,   i n s t a l l i n g   a w s   c l i   .   p r o c e d u r e   l a u n c h   a m a z o n   s 3   c o n s o l e   .   c l i c k   c r e a t e   b u c k e t   .   c r e a t e   b u c k e t   d i a l o g   a p p e a r s   .   r e g i o n   v i e w  :   e n t e r   b u c k e t   .   s e l e c t   r e g i o n   .   e n t e r   r e g i o n   f i e l d  ,   c l i c k   d r o p - d o w n   s e l e c t   r e g i o n   a v a i l a b l e   r e g i o n s   .   c l i c k   .   c o n f i g u r e   o p t i o n s   v i e w  ,   s e l e c t   d e s i r e d   o p t i o n s   c l i c k   .   s e t   p e r m i s s i o n s   v i e w  ,   c h a n g e   a c c e p t   d e f a u l t   o p t i o n s   c l i c k   .   r e v i e w   b u c k e t   c o n f i g u r a t i o n   .   c l i c k   c r e a t e   b u c k e t   .   a d d i t i o n a l   r e s o u r c e s   a m a z o n   s 3   c o n s o l e   a w s   c l i   c o m m a n d   r e f e r e n c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 2 .   c r e a t i n g   v m i m p o r t   r o l e   p e r f o r m   p r o c e d u r e   c r e a t e   v m i m p o r t   r o l e  ,   r e q u i r e d   v m   i m p o r t   .   v m   i m p o r t   s e r v i c e   r o l e   a m a z o n   d o c u m e n t a t i o n   i n f o r m a t i o n   .   p r o c e d u r e   c r e a t e   f i l e   n a m e d   t r u s t - p o l i c y . j s o n   i n c l u d e   p o l i c y   .   s a v e   f i l e   s y s t e m   n o t e   l o c a t i o n   .   {  ` `   v e r s i o n  ' '  :   ` `   2 0 1 2 - 1 0 - 1 7  ' '  ,   ` `   s t a t e m e n t  ' '  :   [  {  ` `   e f f e c t  ' '  :   ` `  ' '  ,   ` `   p r i n c i p a l  ' '  :   {  ` `   s e r v i c e  ' '  :   ` `   v m i e . a m a z o n a w s . c o m  ' '  }  ,   ` `   a c t i o n  ' '  :   ` `   s t s  :   a s s u m e r o l e  ' '  ,   ` `   c o n d i t i o n  ' '  :   {  ` `   s t r i n g e q u a l s  ' '  :   {  ` `   s t s  :   e x t e r n a l i d  ' '  :   ` `   v m i m p o r t  ' '  }  }  }  ]  }   c r e a t e   r o l e   c o m m a n d   c r e a t e   v m i m p o r t   r o l e   .   s p e c i f y   f u l l   p a t h   l o c a t i o n   t r u s t - p o l i c y . j s o n   f i l e   .   p r e f i x   f i l e  :   / /   p a t h   .   s a m p l e   .   a w s   i a m   c r e a t e - r o l e   - -   r o l e - n a m e   v m i m p o r t   - -   a s s u m e - r o l e - p o l i c y - d o c u m e n t   f i l e  :   / / / h o m e / s a m p l e / i m p o r t s e r v i c e / t r u s t - p o l i c y . j s o n   c r e a t e   f i l e   n a m e d   r o l e - p o l i c y . j s o n   i n c l u d e   p o l i c y   .   r e p l a c e   s 3 - b u c k e t - n a m e   s 3   b u c k e t   .   {  ` `   v e r s i o n  ' '  :  ' '   2 0 1 2 - 1 0 - 1 7  ' '  ,   ` `   s t a t e m e n t  ' '  :   [  {  ` `   e f f e c t  ' '  :  ' '  ' '  ,   ` `   a c t i o n  ' '  :   [  ` `   s 3  :   g e t b u c k e t l o c a t i o n  ' '  ,   ` `   s 3  :   g e t o b j e c t  ' '  ,   ` `   s 3  :   l i s t b u c k e t  ' '  ]  ,   ` `   r e s o u r c e  ' '  :   [  ` `   a r n  :   a w s  :   s 3  :  :  :   s 3 - b u c k e t - n a m e  ' '  ,   ` `   a r n  :   a w s  :   s 3  :  :  :   s 3 - b u c k e t - n a m e /   *  ' '  ]  }  ,   {  ` `   e f f e c t  ' '  :  ' '  ' '  ,   ` `   a c t i o n  ' '  :   [  ` `   e c 2  :   m o d i f y s n a p s h o t a t t r i b u t e  ' '  ,   ` `   e c 2  :   c o p y s n a p s h o t  ' '  ,   ` `   e c 2  :   r e g i s t e r i m a g e  ' '  ,   ` `   e c 2  :   d e s c r i b e   *  ' '  ]  ,   ` `   r e s o u r c e  ' '  :  ' '   *  ' '  }  ]  }   p u t - r o l e - p o l i c y   c o m m a n d   a t t a c h   p o l i c y   r o l e   c r e a t e d   .   s p e c i f y   f u l l   p a t h   r o l e - p o l i c y . j s o n   f i l e   .   s a m p l e   .   a w s   i a m   p u t - r o l e - p o l i c y   - -   r o l e - n a m e   v m i m p o r t   - -   p o l i c y - n a m e   v m i m p o r t   - -   p o l i c y - d o c u m e n t   f i l e  :   / / / h o m e / s a m p l e / i m p o r t s e r v i c e / r o l e - p o l i c y . j s o n   a d d i t i o n a l   r e s o u r c e s   v m   i m p o r t   s e r v i c e   r o l e   r e q u i r e d   s e r v i c e   r o l e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 3 .   c o n v e r t i n g   p u s h i n g   s 3   c o m p l e t e   p r o c e d u r e   c o n v e r t   p u s h   a m a z o n   m a c h i n e   i m a g e   ( )   s 3   .   s a m p l e s   r e p r e s e n t a t i v e  ;   c o n v e r t   i m a g e   f o r m a t t e d   q c o w 2   f i l e   f o r m a t   r a w   f o r m a t   .   a m a z o n   a c c e p t s   i m a g e s   o v a  ,   v h d  ,   v h d x  ,   v m d k  ,   r a w   f o r m a t s   .   i n f o r m a t i o n  ,   v m   i m p o r t / e x p o r t   w o r k s   i m a g e   f o r m a t s   a m a z o n   a c c e p t s   .   p r o c e d u r e   r u n   q e m u - i m g   c o m m a n d   c o n v e r t   i m a g e   .   s a m p l e   .   q e m u - i m g   c o n v e r t   - f   q c o w 2   - o   r a w   r h e l - s e r v e r - 7 . 7 - 1 - x 8 6 _ 6 4 - k v m . q c o w 2   r h e l - s e r v e r - 7 . 7 - 1 - x 8 6 _ 6 4 - k v m . r a w   p u s h   i m a g e   s 3   .   a w s   s 3   c p   r h e l - s e r v e r - 7 . 7 . 1 - x 8 6 _ 6 4 - k v m . r a w   s 3  :   / / s 3 - _ b u c k e t - n a m e _   a d d i t i o n a l   r e s o u r c e s   v m   i m p o r t / e x p o r t   w o r k s   a w s   s 3   c o n s o l e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 4 .   c r e a t i n g   r a w   i m a g e   p e r f o r m   p r o c e d u r e   c r e a t e   r a w   i m a g e   .   p r e r e q u i s i t e s   a w s   c l i   i n s t a l l e d   .   i n f o r m a t i o n  ,   i n s t a l l i n g   a w s   c l i   .   p r o c e d u r e   r u n   a w s   e c 2   i m p o r t - i m a g e   c o m m a n d   a w s   c l i   c r e a t e   r a w   i m a g e   .   #  a w s   e c 2   i m p o r t - i m a g e   - -   p l a t f o r m   l i n u x   - -   l i c e n s e - t y p e   b y o l   - -   n o - e n c r y p t e d   - -   d e s c r i p t i o n   _ i m a g e d e s c r i p t i o n _   - -   a r c h i t e c t u r e   x 8 6 _ 6 4   - -   d i s k - c o n t a i n e r s   f o r m a t = r a w  ,   u s e r b u c k e t =  ' '   {  s 3 b u c k e t = v i r t q e s 1  ,   s 3 k e y = r h e l - s e r v e r - e c 2 - 7 . 9 - 3 0 . x 8 6 _ 6 4 . r a w  }  ' '   - -   r e g i o n   _ r e g i o n n a m e _   a d d i t i o n a l   r e s o u r c e s   i m p o r t   v m   i m a g e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 5 .   l a u n c h i n g   i n s t a n c e   p e r f o r m   p r o c e d u r e   l a u n c h   c o n f i g u r e   i n s t a n c e   .   p r o c e d u r e   a w s   e c 2   d a s h b o a r d  ,   s e l e c t   i m a g e s   a m i s   .   r i g h t - c l i c k   i m a g e   s e l e c t   l a u n c h   .   c h o o s e   i n s t a n c e   t y p e   m e e t s   e x c e e d s   r e q u i r e m e n t s   w o r k l o a d   .   a m a z o n   e c 2   i n s t a n c e   t y p e s   i n f o r m a t i o n   i n s t a n c e   t y p e s   .   c l i c k  :   c o n f i g u r e   i n s t a n c e   d e t a i l s   .   e n t e r   n u m b e r   i n s t a n c e s   c r e a t e   .   n e t w o r k  ,   s e l e c t   v p c   c r e a t e d   s e t t i n g   a w s   e n v i r o n m e n t   .   s e l e c t   s u b n e t   i n s t a n c e   c r e a t e   s u b n e t   .   s e l e c t   e n a b l e   a u t o - a s s i g n   p u b l i c   i p   .   c l i c k  :   a d d   s t o r a g e   .   v e r i f y   d e f a u l t   s t o r a g e   s u f f i c i e n t   .   c l i c k  :   a d d   t a g s   .   c l i c k  :   c o n f i g u r e   s e c u r i t y   g r o u p   .   s e l e c t   s e c u r i t y   g r o u p   c r e a t e d   s e t t i n g   a w s   e n v i r o n m e n t   .   c l i c k   r e v i e w   l a u n c h   .   v e r i f y   s e l e c t i o n s   .   c l i c k   l a u n c h   .   p r o m p t e d   s e l e c t   e x i s t i n g   k e y   p a i r   c r e a t e   k e y   p a i r   .   s e l e c t   k e y   p a i r   c r e a t e d   s e t t i n g   a w s   e n v i r o n m e n t   .   c l i c k   l a u n c h   i n s t a n c e s   .   c l i c k   v i e w   i n s t a n c e s   .   i n s t a n c e   ( )   .   l a u n c h   s s h   s e s s i o n   i n s t a n c e   ( )   s e l e c t i n g   i n s t a n c e   c l i c k i n g   c o n n e c t   .   c o m m a n d   p r o v i d e d   s t a n d a l o n e   s s h   c l i e n t   .   a d d i t i o n a l   r e s o u r c e s   a w s   m a n a g e m e n t   c o n s o l e   s e t t i n g   a m a z o n   e c 2   a m a z o n   e c 2   i n s t a n c e s   a m a z o n   e c 2   i n s t a n c e   t y p e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 6 .   a t t a c h i n g   r e d   s u b s c r i p t i o n s   c o m p l e t e   s t e p s   a t t a c h   s u b s c r i p t i o n s   p r e v i o u s l y   e n a b l e d   r e d   c l o u d   a c c e s s   p r o g r a m   .   p r e r e q u i s i t e s   e n a b l e d   s u b s c r i p t i o n s   .   p r o c e d u r e   r e g i s t e r   s y s t e m   .   s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   - -   a u t o - a t t a c h   a t t a c h   s u b s c r i p t i o n s   .   a c t i v a t i o n   k e y   a t t a c h   s u b s c r i p t i o n s   .   r e f e r   c r e a t i n g   r e d   c u s t o m e r   p o r t a l   a c t i v a t i o n   k e y s   .   a l t e r n a t i v e l y  ,   m a n u a l l y   a t t a c h   s u b s c r i p t i o n   i d   s u b s c r i p t i o n   p o o l   (  p o o l   i d  )   .   r e f e r   a t t a c h i n g   r e m o v i n g   s u b s c r i p t i o n s   c o m m a n d   l i n e   .   a d d i t i o n a l   r e s o u r c e s   c r e a t i n g   r e d   c u s t o m e r   p o r t a l   a c t i v a t i o n   k e y s   a t t a c h i n g   r e m o v i n g   s u b s c r i p t i o n s   c o m m a n d   l i n e   c o n f i g u r i n g   r e d   s u b s c r i p t i o n   m a n a g e r
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   4 .   c o n f i g u r i n g   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r s   a w s   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   c o n f i g u r i n g   r e d   h i g h   a v a i l a b i l i t y   ( )   c l u s t e r   a m a z o n   w e b   s e r v i c e s   (  a w s  )   e c 2   i n s t a n c e s   c l u s t e r   n o d e s   .   n u m b e r   o p t i o n s   o b t a i n i n g   r e d   e n t e r p r i s e   l i n u x   (  r h e l  )   i m a g e s   c l u s t e r   .   i n f o r m a t i o n   i m a g e   o p t i o n s   a w s  ,   r e d   e n t e r p r i s e   l i n u x   i m a g e   o p t i o n s   a w s   .   c h a p t e r   i n c l u d e s   p r e r e q u i s i t e   p r o c e d u r e s   s e t t i n g   e n v i r o n m e n t   a w s   .   s e t   e n v i r o n m e n t  ,   c r e a t e   c o n f i g u r e   e c 2   i n s t a n c e s   .   c h a p t e r   i n c l u d e s   p r o c e d u r e s   s p e c i f i c   c r e a t i o n   c l u s t e r s  ,   t r a n s f o r m   i n d i v i d u a l   n o d e s   c l u s t e r   n o d e s   a w s   .   i n c l u d e   p r o c e d u r e s   i n s t a l l i n g   h i g h   a v a i l a b i l i t y   p a c k a g e s   a g e n t s   c l u s t e r   n o d e  ,   c o n f i g u r i n g   f e n c i n g  ,   i n s t a l l i n g   a w s   n e t w o r k   r e s o u r c e   a g e n t s   .   c h a p t e r   r e f e r s   a m a z o n   d o c u m e n t a t i o n   n u m b e r   p l a c e s   .   p r o c e d u r e s  ,   r e f e r e n c e d   a m a z o n   d o c u m e n t a t i o n   i n f o r m a t i o n   .   p r e r e q u i s i t e s   i n s t a l l   a w s   c o m m a n d   l i n e   i n t e r f a c e   (  c l i  )   .   i n f o r m a t i o n   i n s t a l l i n g   a w s   c l i  ,   i n s t a l l i n g   a w s   c l i   .   e n a b l e   s u b s c r i p t i o n s   r e d   c l o u d   a c c e s s   p r o g r a m   .   r e d   c l o u d   a c c e s s   p r o g r a m   m o v e   r e d   s u b s c r i p t i o n s   p h y s i c a l   o n - p r e m i s e   s y s t e m s   a w s   f u l l   s u p p o r t   r e d   .   a d d i t i o n a l   r e s o u r c e s   r e d   c l o u d   a c c e s s   r e f e r e n c e   g u i d e   r e d   p u b l i c   c l o u d   r e d   e n t e r p r i s e   l i n u x   a m a z o n   e c 2   -   f a q s   s e t t i n g   a m a z o n   e c 2   r e d   a m a z o n   w e b   s e r v i c e s   s u p p o r t   p o l i c i e s   r h e l   h i g h   a v a i l a b i l i t y   c l u s t e r s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 1 .   c r e a t i n g   a w s   a c c e s s   k e y   a w s   s e c r e t   a c c e s s   k e y   c r e a t e   a w s   a c c e s s   k e y   a w s   s e c r e t   a c c e s s   k e y   i n s t a l l   a w s   c l i   .   f e n c i n g   r e s o u r c e   a g e n t   a p i s   a w s   a c c e s s   k e y   s e c r e t   a c c e s s   k e y   c o n n e c t   n o d e   c l u s t e r   .   c o m p l e t e   s t e p s   c r e a t e   k e y s   .   p r e r e q u i s i t e s   i a m   u s e r   a c c o u n t   p r o g r a m m a t i c   a c c e s s   .   s e t t i n g   a w s   e n v i r o n m e n t   i n f o r m a t i o n   .   p r o c e d u r e   l a u n c h   a w s   c o n s o l e   .   c l i c k   a w s   a c c o u n t   i d   d i s p l a y   d r o p - d o w n   m e n u   s e l e c t   s e c u r i t y   c r e d e n t i a l s   .   c l i c k   u s e r s   .   s e l e c t   u s e r   o p e n   s u m m a r y   s c r e e n   .   c l i c k   s e c u r i t y   c r e d e n t i a l s   .   c l i c k   c r e a t e   a c c e s s   k e y   .   d o w n l o a d   . c s v   f i l e   (  s a v e   k e y s  )   .   e n t e r   k e y s   c r e a t i n g   f e n c i n g   d e v i c e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 2 .   i n s t a l l i n g   p a c k a g e s   a g e n t s   c o m p l e t e   s t e p s   n o d e s   i n s t a l l   p a c k a g e s   a g e n t s   .   p r o c e d u r e   e n t e r   c o m m a n d   r e m o v e   a w s   r e d   u p d a t e   i n f r a s t r u c t u r e   (  r h u i  )   c l i e n t   .   r e d   c l o u d   a c c e s s   s u b s c r i p t i o n  ,   a w s   r h u i   a d d i t i o n   s u b s c r i p t i o n   .   $  s u d o   - i   #  y u m   - y   r e m o v e   r h - a m a z o n - r h u i - c l i e n t   *   r e g i s t e r   v m   r e d   .   #  s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   - -   a u t o - a t t a c h   d i s a b l e   r e p o s i t o r i e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   d i s a b l e =   *   e n a b l e   r h e l   7   s e r v e r   r h e l   7   s e r v e r   r e p o s i t o r i e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - 7 - s e r v e r - r p m s   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - h a - f o r - r h e l - 7 - s e r v e r - r p m s   u p d a t e   p a c k a g e s   .   #  y u m   u p d a t e   - y   r e b o o t   k e r n e l   u p d a t e d   .   #  r e b o o t   i n s t a l l   p c s  ,   p a c e m a k e r  ,   f e n c e   a g e n t  ,   r e s o u r c e   a g e n t   .   #  y u m   - y   i n s t a l l   p c s   p a c e m a k e r   f e n c e - a g e n t s - a w s   r e s o u r c e - a g e n t s   u s e r   h a c l u s t e r   c r e a t e d   p c s   p a c e m a k e r   i n s t a l l a t i o n   p r e v i o u s   s t e p   .   c r e a t e   p a s s w o r d   h a c l u s t e r   c l u s t e r   n o d e s   .   p a s s w o r d   n o d e s   .   #  p a s s w d   h a c l u s t e r   a d d   h i g h   a v a i l a b i l i t y   s e r v i c e   r h e l   f i r e w a l l   f i r e w a l l d . s e r v i c e   e n a b l e d   .   #  f i r e w a l l - c m d   - -   p e r m a n e n t   - -   a d d - s e r v i c e = h i g h - a v a i l a b i l i t y   #  f i r e w a l l - c m d   - -   r e l o a d   s t a r t   p c s   s e r v i c e   e n a b l e   s t a r t   b o o t   .   #  s y s t e m c t l   e n a b l e   p c s d . s e r v i c e   - -   v e r i f i c a t i o n   s t e p   e n s u r e   p c s   s e r v i c e   r u n n i n g   .   #  s y s t e m c t l   i s - a c t i v e   p c s d . s e r v i c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 3 .   c r e a t i n g   c l u s t e r   c o m p l e t e   s t e p s   c r e a t e   c l u s t e r   n o d e s   .   p r o c e d u r e   n o d e s  ,   e n t e r   c o m m a n d   a u t h e n t i c a t e   p c s   u s e r   h a c l u s t e r   .   s p e c i f y   n o d e   c l u s t e r   .   #  p c s   h o s t   a u t h   _ h o s t n a m e 1 _   _ h o s t n a m e 2 _   _ h o s t n a m e 3 _  :   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   h o s t   a u t h   n o d e 0 1   n o d e 0 2   n o d e 0 3   u s e r n a m e  :   h a c l u s t e r   p a s s w o r d  :   n o d e 0 1  :   a u t h o r i z e d   n o d e 0 2  :   a u t h o r i z e d   n o d e 0 3  :   a u t h o r i z e d   c r e a t e   c l u s t e r   .   #  p c s   c l u s t e r   s e t u p   - -   _ h o s t n a m e 1 _   _ h o s t n a m e 2 _   _ h o s t n a m e 3 _  :   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   c l u s t e r   s e t u p   - -   n e w c l u s t e r   n o d e 0 1   n o d e 0 2   n o d e 0 3   . . .   o m i t t e d   s y n c h r o n i z i n g   p c s d   c e r t i f i c a t e s   n o d e s   n o d e 0 1  ,   n o d e 0 2  ,   n o d e 0 3   . . .   n o d e 0 2  :   s u c c e s s   n o d e 0 3  :   s u c c e s s   n o d e 0 1  :   s u c c e s s   r e s t a r t i n g   p c s d   n o d e s   o r d e r   r e l o a d   c e r t i f i c a t e s   . . .   n o d e 0 2  :   s u c c e s s   n o d e 0 3  :   s u c c e s s   n o d e 0 1  :   s u c c e s s   v e r i f i c a t i o n   s t e p s   e n a b l e   c l u s t e r   .   #  p c s   c l u s t e r   e n a b l e   - -   s t a r t   c l u s t e r   .   #  p c s   c l u s t e r   s t a r t   - -  :   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   c l u s t e r   e n a b l e   - -   n o d e 0 2  :   c l u s t e r   e n a b l e d   n o d e 0 3  :   c l u s t e r   e n a b l e d   n o d e 0 1  :   c l u s t e r   e n a b l e d   [  r o o t   @   n o d e 0 1   c l o u d u s e r  ]   #  p c s   c l u s t e r   s t a r t   - -   n o d e 0 2  :   s t a r t i n g   c l u s t e r   . . .   n o d e 0 3  :   s t a r t i n g   c l u s t e r   . . .   n o d e 0 1  :   s t a r t i n g   c l u s t e r   . . .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 4 .   c r e a t i n g   f e n c i n g   d e v i c e   c o m p l e t e   s t e p s   c o n f i g u r e   f e n c i n g   .   p r o c e d u r e   e n t e r   a w s   m e t a d a t a   q u e r y   i n s t a n c e   i d   n o d e   .   i d s   c o n f i g u r e   f e n c e   d e v i c e   .   i n s t a n c e   m e t a d a t a   u s e r   d a t a   a d d i t i o n a l   i n f o r m a t i o n   .   #  e c h o   $  (  c u r l   - s   h t t p  :   / / 1 6 9 . 2 5 4 . 1 6 9 . 2 5 4 / l a t e s t / m e t a - d a t a / i n s t a n c e - i d  )  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  e c h o   $  (  c u r l   - s   h t t p  :   / / 1 6 9 . 2 5 4 . 1 6 9 . 2 5 4 / l a t e s t / m e t a - d a t a / i n s t a n c e - i d  )   i - 0 7 f 1 a c 6 3 a f 0 e c 0 a c 6   c r e a t e   f e n c e   d e v i c e   .   p c m k _ h o s t _ m a p   c o m m a n d   m a p   r h e l   h o s t   i n s t a n c e   i d   .   a w s   a c c e s s   k e y   a w s   s e c r e t   a c c e s s   k e y   p r e v i o u s l y   s e t   c r e a t i n g   a w s   a c c e s s   k e y   a w s   s e c r e t   a c c e s s   k e y   .   #  p c s   s t o n i t h   c r e a t e   c l u s t e r _ f e n c e   f e n c e _ a w s   a c c e s s _ k e y = a c c e s s - k e y   s e c r e t _ k e y = _ s e c r e t - a c c e s s - k e y _   r e g i o n = _ r e g i o n _   p c m k _ h o s t _ m a p =  ' '   r h e l - h o s t n a m e - 1  :   i n s t a n c e - i d - 1  ;   r h e l - h o s t n a m e - 2  :   i n s t a n c e - i d - 2  ;   r h e l - h o s t n a m e - 3  :   i n s t a n c e - i d - 3  ' '  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  p c s   s t o n i t h   c r e a t e   c l u s t e r f e n c e   f e n c e _ a w s   a c c e s s _ k e y = a k i a i   *   *   *   *   *   *   *   6 m r m j a   s e c r e t _ k e y = a 7 5 e y i g 4 r v l 3 h   *   *   *   *   *   *   *   k 7 k o q 8 d z a d y n 5 y o i z /   r e g i o n = u s - e a s t - 1   p c m k _ h o s t _ m a p =  ' '   i p - 1 0 - 0 - 0 - 4 8  :   i - 0 7 f 1 a c 6 3 a f 0 e c 0 a c 6  ;   i p - 1 0 - 0 - 0 - 4 6  :   i - 0 6 3 f c 5 f e 9 3 b 4 1 6 7 b 2  ;   i p - 1 0 - 0 - 0 - 5 8  :   i - 0 8 b d 3 9 e b 0 3 a 6 f d 2 c 7  ' '   p o w e r _ t i m e o u t = 2 4 0   p c m k _ r e b o o t _ t i m e o u t = 4 8 0   p c m k _ r e b o o t _ r e t r i e s = 4   v e r i f i c a t i o n   s t e p s   t e s t   f e n c i n g   a g e n t   n o d e s   .   #  p c s   s t o n i t h   f e n c e   _ a w s n o d e n a m e _  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  p c s   s t o n i t h   f e n c e   i p - 1 0 - 0 - 0 - 5 8   n o d e  :   i p - 1 0 - 0 - 0 - 5 8   f e n c e d   c h e c k   s t a t u s   v e r i f y   n o d e   f e n c e d   .   #  w a t c h   p c s   s t a t u s  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  p c s   s t a t u s   c l u s t e r  :   n e w c l u s t e r   s t a c k  :   c o r o s y n c   c u r r e n t   d c  :   i p - 1 0 - 0 - 0 - 4 6   (  v e r s i o n   1 . 1 . 1 8 - 1 1 . e l 7 - 2 b 0 7 d 5 c 5 a 9  )   -   p a r t i t i o n   q u o r u m   u p d a t e d  :   f r i   2   2 0: 0 1: 3 1   2 0 1 8   c h a n g e  :   f r i   2   1 9: 2 4: 5 9   2 0 1 8   r o o t   c i b a d m i n   i p - 1 0 - 0 - 0 - 4 8   3   n o d e s   c o n f i g u r e d   1   r e s o u r c e   c o n f i g u r e d   o n l i n e  :   [  i p - 1 0 - 0 - 0 - 4 6   i p - 1 0 - 0 - 0 - 4 8   i p - 1 0 - 0 - 0 - 5 8  ]   f u l l   l i s t   r e s o u r c e s  :   c l u s t e r f e n c e   (  s t o n i t h  :   f e n c e _ a w s  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 6   d a e m o n   s t a t u s  :   c o r o s y n c  :   a c t i v e / d i s a b l e d   p a c e m a k e r  :   a c t i v e / d i s a b l e d   p c s d  :   a c t i v e / e n a b l e d
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 5 .   i n s t a l l i n g   a w s   c l i   c l u s t e r   n o d e s   p r e v i o u s l y  ,   i n s t a l l e d   a w s   c l i   h o s t   s y s t e m   .   i n s t a l l   a w s   c l i   c l u s t e r   n o d e s   c o n f i g u r e   n e t w o r k   r e s o u r c e   a g e n t s   .   c o m p l e t e   p r o c e d u r e   c l u s t e r   n o d e   .   p r e r e q u i s i t e s   c r e a t e d   a w s   a c c e s s   k e y   a w s   s e c r e t   a c c e s s   k e y   .   i n f o r m a t i o n  ,   c r e a t i n g   a w s   a c c e s s   k e y   a w s   s e c r e t   a c c e s s   k e y   .   p r o c e d u r e   p e r f o r m   p r o c e d u r e   i n s t a l l i n g   a w s   c l i   .   e n t e r   c o m m a n d   v e r i f y   a w s   c l i   c o n f i g u r e d   p r o p e r l y   .   i n s t a n c e   i d s   i n s t a n c e   n a m e s   d i s p l a y   .  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  a w s   e c 2   d e s c r i b e - i n s t a n c e s   - -   o u t p u t   t e x t   - -   q u e r y  ' r e s e r v a t i o n s   [  *  ]   . i n s t a n c e s   [  *  ]   .   [  i n s t a n c e i d  ,   t a g s   [ ?   k e y = =   `   `  ]   . v a l u e  ]  '   i - 0 7 f 1 a c 6 3 a f 0 e c 0 a c 6   i p - 1 0 - 0 - 0 - 4 8   i - 0 6 3 f c 5 f e 9 3 b 4 1 6 7 b 2   i p - 1 0 - 0 - 0 - 4 6   i - 0 8 b d 3 9 e b 0 3 a 6 f d 2 c 7   i p - 1 0 - 0 - 0 - 5 8
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 6 .   i n s t a l l i n g   n e t w o r k   r e s o u r c e   a g e n t s   o p e r a t i o n s   w o r k  ,   c l u s t e r   a w s   n e t w o r k i n g   r e s o u r c e   a g e n t s   e n a b l e   f a i l o v e r   f u n c t i o n a l i t y   .   n o d e   r e s p o n d   h e a r t b e a t   c h e c k   s e t   t i m e  ,   n o d e   f e n c e d   o p e r a t i o n s   f a i l   a d d i t i o n a l   n o d e   c l u s t e r   .   n e t w o r k   r e s o u r c e   a g e n t s   c o n f i g u r e d   w o r k   .   a d d   r e s o u r c e s   g r o u p   e n f o r c e   o r d e r   c o l o c a t i o n   c o n s t r a i n t s   .   c r e a t e   s e c o n d a r y   p r i v a t e   i p   r e s o u r c e   v i r t u a l   i p   r e s o u r c e   c o m p l e t e   p r o c e d u r e   a d d   s e c o n d a r y   p r i v a t e   i p   a d d r e s s   c r e a t e   v i r t u a l   i p   .   c o m p l e t e   p r o c e d u r e   n o d e   c l u s t e r   .   p r o c e d u r e   e n t e r   c o m m a n d   v i e w   a w s   s e c o n d a r y   p r i v a t e   i p   a d d r e s s   r e s o u r c e   a g e n t   (  a w s v i p  )   d e s c r i p t i o n   .   s h o w s   o p t i o n s   d e f a u l t   o p e r a t i o n s   a g e n t   .   #  p c s   r e s o u r c e   d e s c r i b e   a w s v i p   e n t e r   c o m m a n d   c r e a t e   s e c o n d a r y   p r i v a t e   i p   a d d r e s s   u n u s e d   p r i v a t e   i p   a d d r e s s   v p c   c i d r   b l o c k   .   #  p c s   r e s o u r c e   c r e a t e   p r i v i p   a w s v i p   s e c o n d a r y _ p r i v a t e _ i p = _ u n u s e d - i p - a d d r e s s _   - -   g r o u p   _ g r o u p - n a m e _  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  p c s   r e s o u r c e   c r e a t e   p r i v i p   a w s v i p   s e c o n d a r y _ p r i v a t e _ i p = 1 0 . 0 . 0 . 6 8   - -   g r o u p   n e t w o r k i n g - g r o u p   c r e a t e   v i r t u a l   i p   r e s o u r c e   .   v p c   i p   a d d r e s s   r a p i d l y   r e m a p p e d   f e n c e d   n o d e   f a i l o v e r   n o d e  ,   m a s k i n g   f a i l u r e   f e n c e d   n o d e   s u b n e t   .   #  p c s   r e s o u r c e   c r e a t e   v i p   i p a d d r 2   i p = _ s e c o n d a r y - p r i v a t e - i p _   - -   g r o u p   _ g r o u p - n a m e _  :   r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  p c s   r e s o u r c e   c r e a t e   v i p   i p a d d r 2   i p = 1 0 . 0 . 0 . 6 8   - -   g r o u p   n e t w o r k i n g - g r o u p   v e r i f i c a t i o n   s t e p   e n t e r   p c s   s t a t u s   c o m m a n d   v e r i f y   r e s o u r c e s   r u n n i n g   .   #  p c s   s t a t u s  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  p c s   s t a t u s   c l u s t e r  :   n e w c l u s t e r   s t a c k  :   c o r o s y n c   c u r r e n t   d c  :   i p - 1 0 - 0 - 0 - 4 6   (  v e r s i o n   1 . 1 . 1 8 - 1 1 . e l 7 - 2 b 0 7 d 5 c 5 a 9  )   -   p a r t i t i o n   q u o r u m   u p d a t e d  :   f r i   2   2 2: 3 4: 2 4   2 0 1 8   c h a n g e  :   f r i   2   2 2: 1 4: 5 8   2 0 1 8   r o o t   c i b a d m i n   i p - 1 0 - 0 - 0 - 4 6   3   n o d e s   c o n f i g u r e d   3   r e s o u r c e s   c o n f i g u r e d   o n l i n e  :   [  i p - 1 0 - 0 - 0 - 4 6   i p - 1 0 - 0 - 0 - 4 8   i p - 1 0 - 0 - 0 - 5 8  ]   f u l l   l i s t   r e s o u r c e s  :   c l u s t e r f e n c e   (  s t o n i t h  :   f e n c e _ a w s  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 6   r e s o u r c e   g r o u p  :   n e t w o r k i n g - g r o u p   p r i v i p   (  o c f  :  : h e a r t b e a t  :   a w s v i p  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 8   v i p   (  o c f  :  : h e a r t b e a t  :   i p a d d r 2  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 5 8   d a e m o n   s t a t u s  :   c o r o s y n c  :   a c t i v e / d i s a b l e d   p a c e m a k e r  :   a c t i v e / d i s a b l e d   p c s d  :   a c t i v e / e n a b l e d   c r e a t e   e l a s t i c   i p   a d d r e s s   e l a s t i c   i p   a d d r e s s   p u b l i c   i p   a d d r e s s   r a p i d l y   r e m a p p e d   f e n c e d   n o d e   f a i l o v e r   n o d e  ,   m a s k i n g   f a i l u r e   f e n c e d   n o d e   .   n o t e   d i f f e r e n t   v i r t u a l   i p   r e s o u r c e   c r e a t e d   e a r l i e r   .   e l a s t i c   i p   a d d r e s s   p u b l i c - f a c i n g   i n t e r n e t   c o n n e c t i o n s   i n s t e a d   s u b n e t   c o n n e c t i o n s   .   a d d   r e s o u r c e s   g r o u p   p r e v i o u s l y   c r e a t e d   e n f o r c e   o r d e r   c o l o c a t i o n   c o n s t r a i n t s   .   e n t e r   a w s   c l i   c o m m a n d   c r e a t e   e l a s t i c   i p   a d d r e s s   .   [  r o o t   @   i p - 1 0 - 0 - 0 - 4 8   ~  ]   #  a w s   e c 2   a l l o c a t e - a d d r e s s   - -   d o m a i n   v p c   - -   o u t p u t   t e x t   e i p a l l o c - 4 c 4 a 2 c 4 5   v p c   3 5 . 1 6 9 . 1 5 3 . 1 2 2   e n t e r   c o m m a n d   v i e w   a w s   s e c o n d a r y   e l a s t i c   i p   a d d r e s s   r e s o u r c e   a g e n t   (  a w s e i p  )   d e s c r i p t i o n   .   s h o w s   o p t i o n s   d e f a u l t   o p e r a t i o n s   a g e n t   .   #  p c s   r e s o u r c e   d e s c r i b e   a w s e i p   c r e a t e   s e c o n d a r y   e l a s t i c   i p   a d d r e s s   r e s o u r c e   a l l o c a t e d   i p   a d d r e s s   c r e a t e d   s t e p   1   .   #  p c s   r e s o u r c e   c r e a t e   e l a s t i c   a w s e i p   e l a s t i c _ i p = _ e l a s t i c - i p - a d d r e s s _ a l l o c a t i o n _ i d = _ e l a s t i c - i p - a s s o c i a t i o n - i d _   - -   g r o u p   n e t w o r k i n g - g r o u p  :   #  p c s   r e s o u r c e   c r e a t e   e l a s t i c   a w s e i p   e l a s t i c _ i p = 3 5 . 1 6 9 . 1 5 3 . 1 2 2   a l l o c a t i o n _ i d = e i p a l l o c - 4 c 4 a 2 c 4 5   - -   g r o u p   n e t w o r k i n g - g r o u p   v e r i f i c a t i o n   s t e p   e n t e r   p c s   s t a t u s   c o m m a n d   v e r i f y   r e s o u r c e   r u n n i n g   .   #  p c s   s t a t u s  :   [  r o o t   @   i p - 1 0 - 0 - 0 - 5 8   ~  ]   #  p c s   s t a t u s   c l u s t e r  :   n e w c l u s t e r   s t a c k  :   c o r o s y n c   c u r r e n t   d c  :   i p - 1 0 - 0 - 0 - 5 8   (  v e r s i o n   1 . 1 . 1 8 - 1 1 . e l 7 - 2 b 0 7 d 5 c 5 a 9  )   -   p a r t i t i o n   q u o r u m   u p d a t e d  :   5   1 6: 2 7: 5 5   2 0 1 8   c h a n g e  :   5   1 5: 5 7: 5 1   2 0 1 8   r o o t   c i b a d m i n   i p - 1 0 - 0 - 0 - 4 6   3   n o d e s   c o n f i g u r e d   4   r e s o u r c e s   c o n f i g u r e d   o n l i n e  :   [  i p - 1 0 - 0 - 0 - 4 6   i p - 1 0 - 0 - 0 - 4 8   i p - 1 0 - 0 - 0 - 5 8  ]   f u l l   l i s t   r e s o u r c e s  :   c l u s t e r f e n c e   (  s t o n i t h  :   f e n c e _ a w s  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 6   r e s o u r c e   g r o u p  :   n e t w o r k i n g - g r o u p   p r i v i p   (  o c f  :  : h e a r t b e a t  :   a w s v i p  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 8   v i p   (  o c f  :  : h e a r t b e a t  :   i p a d d r 2  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 8   e l a s t i c   (  o c f  :  : h e a r t b e a t  :   a w s e i p  )  :   s t a r t e d   i p - 1 0 - 0 - 0 - 4 8   d a e m o n   s t a t u s  :   c o r o s y n c  :   a c t i v e / d i s a b l e d   p a c e m a k e r  :   a c t i v e / d i s a b l e d   p c s d  :   a c t i v e / e n a b l e d   t e s t   e l a s t i c   i p   a d d r e s s   e n t e r   c o m m a n d s   v e r i f y   v i r t u a l   i p   (  a w s v i p  )   e l a s t i c   i p   (  a w s e i p  )   r e s o u r c e s   w o r k i n g   .   p r o c e d u r e   l a u n c h   s s h   s e s s i o n   l o c a l   w o r k s t a t i o n   e l a s t i c   i p   a d d r e s s   p r e v i o u s l y   c r e a t e d   .   $  s s h   - l   e c 2 - u s e r   - i   ~ / . s s h /   <  k e y n a m e  >   . p e m   e l a s t i c - i p  :   $  s s h   - l   e c 2 - u s e r   - i   ~ / . s s h / c l u s t e r - a d m i n . p e m   3 5 . 1 6 9 . 1 5 3 . 1 2 2   v e r i f y   h o s t   c o n n e c t e d   s s h   h o s t   a s s o c i a t e d   e l a s t i c   r e s o u r c e   c r e a t e d   .   a d d i t i o n a l   r e s o u r c e s   h i g h   a v a i l a b i l i t y   a d d - o n   o v e r v i e w   h i g h   a v a i l a b i l i t y   a d d - o n   a d m i n i s t r a t i o n   h i g h   a v a i l a b i l i t y   a d d - o n   r e f e r e n c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 7 .   c o n f i g u r i n g   s h a r e d   b l o c k   s t o r a g e   s e c t i o n   o p t i o n a l   p r o c e d u r e   c o n f i g u r i n g   s h a r e d   b l o c k   s t o r a g e   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r   a m a z o n   e b s   m u l t i - a t t a c h   v o l u m e s   .   p r o c e d u r e   a s s u m e s   i n s t a n c e s   (  t h r e e - n o d e   c l u s t e r  )   1 t b   s h a r e d   d i s k   .   p r o c e d u r e   c r e a t e   s h a r e d   b l o c k   v o l u m e   a w s   c o m m a n d   c r e a t e - v o l u m e   .   $  a w s   e c 2   c r e a t e - v o l u m e   - -   a v a i l a b i l i t y - z o n e   a v a i l a b i l i t y _ z o n e   - -   n o - e n c r y p t e d   - -   s i z e   1 0 2 4   - -   v o l u m e - t y p e   i o 1   - -   i o p s   5 1 2 0 0   - -   m u l t i - a t t a c h - e n a b l e d  ,   c o m m a n d   c r e a t e s   v o l u m e   u s - e a s t - 1 a   a v a i l a b i l i t y   z o n e   .   $  a w s   e c 2   c r e a t e - v o l u m e   - -   a v a i l a b i l i t y - z o n e   u s - e a s t - 1 a   - -   n o - e n c r y p t e d   - -   s i z e   1 0 2 4   - -   v o l u m e - t y p e   i o 1   - -   i o p s   5 1 2 0 0   - -   m u l t i - a t t a c h - e n a b l e d   {  ` `   a v a i l a b i l i t y z o n e  ' '  :   ` `   u s - e a s t - 1 a  ' '  ,   ` `   c r e a t e t i m e  ' '  :   ` `   2 0 2 0 - 0 8 - 2 7 t 1 9: 1 6: 4 2 . 0 0 0 z  ' '  ,   ` `   e n c r y p t e d  ' '  :   f a l s e  ,   ` `   s i z e  ' '  :   1 0 2 4  ,   ` `   s n a p s h o t i d  ' '  :   ` `  ' '  ,   ` `   s t a t e  ' '  :   ` `   c r e a t i n g  ' '  ,   ` `   v o l u m e i d  ' '  :   ` `   v o l - 0 4 2 a 5 6 5 2 8 6 7 3 0 4 f 0 9  ' '  ,   ` `   i o p s  ' '  :   5 1 2 0 0  ,   ` `   t a g s  ' '  :   [ ]  ,   ` `   v o l u m e t y p e  ' '  :   ` `   i o 1  ' '  }   i n s t a n c e   c l u s t e r  ,   a t t a c h   s h a r e d   b l o c k   v o l u m e   a w s   c o m m a n d   a t t a c h - v o l u m e   .   <  i n s t a n c e _ i d  >   <  v o l u m e _ i d  >   .   $  a w s   e c 2   a t t a c h - v o l u m e   - -   d e v i c e   / d e v / x v d d   - -   i n s t a n c e - i d   i n s t a n c e _ i d   - -   v o l u m e - i d   v o l u m e _ i d  ,   c o m m a n d   a t t a c h e s   s h a r e d   b l o c k   v o l u m e   v o l - 0 4 2 a 5 6 5 2 8 6 7 3 0 4 f 0 9   i n s t a n c e   i - 0 e b 8 0 3 3 6 1 c 2 c 8 8 7 f 2   .   $  a w s   e c 2   a t t a c h - v o l u m e   - -   d e v i c e   / d e v / x v d d   - -   i n s t a n c e - i d   i - 0 e b 8 0 3 3 6 1 c 2 c 8 8 7 f 2   - -   v o l u m e - i d   v o l - 0 4 2 a 5 6 5 2 8 6 7 3 0 4 f 0 9   {  ` `   a t t a c h t i m e  ' '  :   ` `   2 0 2 0 - 0 8 - 2 7 t 1 9: 2 6: 1 6 . 0 8 6 z  ' '  ,   ` `   d e v i c e  ' '  :   ` `   / d e v / x v d d  ' '  ,   ` `   i n s t a n c e i d  ' '  :   ` `   i - 0 e b 8 0 3 3 6 1 c 2 c 8 8 7 f 2  ' '  ,   ` `   s t a t e  ' '  :   ` `   a t t a c h i n g  ' '  ,   ` `   v o l u m e i d  ' '  :   ` `   v o l - 0 4 2 a 5 6 5 2 8 6 7 3 0 4 f 0 9  ' '  }   v e r i f i c a t i o n   s t e p s   i n s t a n c e   c l u s t e r  ,   v e r i f y   b l o c k   d e v i c e   a v a i l a b l e   s s h   c o m m a n d   i n s t a n c e   <  i p _ a d d r e s s  >   .   #  s s h   <  i p _ a d d r e s s  >   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '  ' '  ,   c o m m a n d   l i s t s   d e t a i l s   i n c l u d i n g   h o s t   b l o c k   d e v i c e   i n s t a n c e   i p   1 9 8 . 5 1 . 1 0 0 . 3   .   #  s s h   1 9 8 . 5 1 . 1 0 0 . 3   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '  ' '   n o d e a   n v m e 2 n 1   2 5 9: 1   0   1 t   0   d i s k   s s h   c o m m a n d   v e r i f y   i n s t a n c e   c l u s t e r   s h a r e d   d i s k   .   #  s s h   i p _ a d d r e s s   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '   |   a w k  '   {  p r i n t   \   $  1  }  '   |   x a r g s   - i   u d e v a d m   i n f o   - -   q u e r y = a l l   - -   n a m e = / d e v /   { }   |   g r e p  ' ^ e  :   i d _ s e r i a l =  '  ' '  ,   c o m m a n d   l i s t s   d e t a i l s   i n c l u d i n g   h o s t   s h a r e d   d i s k   v o l u m e   i d   i n s t a n c e   i p   a d d r e s s   1 9 8 . 5 1 . 1 0 0 . 3   .   #  s s h   1 9 8 . 5 1 . 1 0 0 . 3   ` `   h o s t n a m e  ;   l s b l k   - d   |   g r e p  '   1 t  '   |   a w k  '   {  p r i n t   \   $  1  }  '   |   x a r g s   - i   u d e v a d m   i n f o   - -   q u e r y = a l l   - -   n a m e = / d e v /   { }   |   g r e p  ' ^ e  :   i d _ s e r i a l =  '  ' '   n o d e a  :   i d _ s e r i a l = a m a z o n   e l a s t i c   b l o c k   s t o r e _ v o l 0 f a 5 3 4 2 e 7 a e d f 0 9 f 7   v e r i f i e d   s h a r e d   d i s k   a t t a c h e d   i n s t a n c e  ,   c o n f i g u r e   r e s i l i e n t   s t o r a g e   c l u s t e r   .   i n f o r m a t i o n   c o n f i g u r i n g   r e s i l i e n t   s t o r a g e   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r  ,   c o n f i g u r i n g   g f s 2   f i l e   s y s t e m   c l u s t e r   .   g e n e r a l   i n f o r m a t i o n   g f s 2   f i l e   s y s t e m s  ,   c o n f i g u r i n g   m a n a g i n g   g f s 2   f i l e   s y s t e m s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   5 .   d e p l o y i n g   r e d   e n t e r p r i s e   l i n u x   i m a g e   g o o g l e   c o m p u t e   e n g i n e   i n s t a n c e   g o o g l e   c l o u d   p l a t f o r m   n u m b e r   o p t i o n s   d e p l o y i n g   r e d   e n t e r p r i s e   l i n u x   (  r h e l  )   7   i m a g e   g o o g l e   c o m p u t e   e n g i n e   (  g c e  )   i n s t a n c e   g o o g l e   c l o u d   p l a t f o r m   (  g c p  )   .   c h a p t e r   d i s c u s s e s   o p t i o n s   c h o o s i n g   i m a g e   l i s t s   r e f e r s   s y s t e m   r e q u i r e m e n t s   h o s t   s y s t e m   v m   .   c h a p t e r   p r o c e d u r e s   c r e a t i n g   c u s t o m   v m   i s o   i m a g e  ,   u p l o a d i n g   g c e  ,   l a u n c h i n g   i n s t a n c e   .   c h a p t e r   r e f e r s   g o o g l e   d o c u m e n t a t i o n   n u m b e r   p l a c e s   .   p r o c e d u r e s  ,   r e f e r e n c e d   g o o g l e   d o c u m e n t a t i o n   a d d i t i o n a l   d e t a i l   .   p r e r e q u i s i t e s   r e d   c u s t o m e r   p o r t a l   a c c o u n t   c o m p l e t e   p r o c e d u r e s   c h a p t e r   .   c r e a t e   a c c o u n t   g c p   a c c e s s   g o o g l e   c l o u d   p l a t f o r m   c o n s o l e   .   g o o g l e   c l o u d   i n f o r m a t i o n   .   e n a b l e   r e d   s u b s c r i p t i o n s   r e d   c l o u d   a c c e s s   p r o g r a m   .   r e d   c l o u d   a c c e s s   p r o g r a m   m o v e   r e d   s u b s c r i p t i o n s   p h y s i c a l   o n - p r e m i s e   s y s t e m s   g c p   f u l l   s u p p o r t   r e d   .   a d d i t i o n a l   r e s o u r c e s   r e d   p u b l i c   c l o u d   g o o g l e   c l o u d
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 1 .   r e d   e n t e r p r i s e   l i n u x   i m a g e   o p t i o n s   g c p   t a b l e   l i s t s   i m a g e   c h o i c e s   d i f f e r e n c e s   i m a g e   o p t i o n s   .   r e m a i n d e r   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   p e r t a i n i n g   c u s t o m   i m a g e s   .   a d d i t i o n a l   r e s o u r c e s   r e d   p u b l i c   c l o u d   i m a g e s   r e d   c l o u d   a c c e s s   r e f e r e n c e   g u i d e   c r e a t i n g   i n s t a n c e   c u s t o m   i m a g e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 2 .   u n d e r s t a n d i n g   b a s e   i m a g e s   s e c t i o n   i n c l u d e s   i n f o r m a t i o n   p r e c o n f i g u r e d   b a s e   i m a g e s   c o n f i g u r a t i o n   s e t t i n g s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 2 . 1 .   c u s t o m   b a s e   i m a g e   m a n u a l l y   c o n f i g u r e   v m  ,   s t a r t   b a s e   (  s t a r t e r  )   v m   i m a g e   .   c r e a t e d   b a s e   v m   i m a g e  ,   m o d i f y   c o n f i g u r a t i o n   s e t t i n g s   a d d   p a c k a g e s   v m   r e q u i r e s   o p e r a t e   c l o u d   .   m a k e   a d d i t i o n a l   c o n f i g u r a t i o n   c h a n g e s   s p e c i f i c   a p p l i c a t i o n   u p l o a d   i m a g e   .   a d d i t i o n a l   r e s o u r c e s   r e d   e n t e r p r i s e   l i n u x
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 2 . 2 .   v i r t u a l   m a c h i n e   c o n f i g u r a t i o n   s e t t i n g s   c l o u d   v m s   c o n f i g u r a t i o n   s e t t i n g s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 3 .   c r e a t i n g   b a s e   v m   i s o   i m a g e   f o l l o w   p r o c e d u r e s   s e c t i o n   c r e a t e   b a s e   i m a g e   i s o   i m a g e   .   p r e r e q u i s i t e s   e n a b l e   v i r t u a l i z a t i o n   r e d   e n t e r p r i s e   l i n u x   7   h o s t   m a c h i n e   v i r t u a l i z a t i o n   d e p l o y m e n t   a d m i n i s t r a t i o n   g u i d e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 3 . 1 .   d o w n l o a d i n g   i s o   i m a g e   p r o c e d u r e   d o w n l o a d   l a t e s t   r e d   e n t e r p r i s e   l i n u x   i s o   i m a g e   r e d   c u s t o m e r   p o r t a l   .   m o v e   i m a g e   / v a r / l i b / l i b v i r t / i m a g e s   d i r e c t o r y  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 3 . 2 .   c r e a t i n g   v m   i s o   i m a g e   p r o c e d u r e   e n s u r e   e n a b l e d   h o s t   m a c h i n e   v i r t u a l i z a t i o n   .   i n f o r m a t i o n   p r o c e d u r e s   i n s t a l l   v i r u t a l i z a t i o n   p a c k a g e s  ,   i n s t a l l i n g   v i r t u a l i z a t i o n   p a c k a g e s   e x i s t i n g   r e d   e n t e r p r i s e   l i n u x   s y s t e m   c r e a t e   s t a r t   b a s i c   r e d   e n t e r p r i s e   l i n u x   v m   .   i n s t r u c t i o n s   c r e a t e   v m  ,   r e f e r   c r e a t i n g   v i r t u a l   m a c h i n e   .   c o m m a n d   l i n e   c r e a t e   v m  ,   e n s u r e   s e t   d e f a u l t   m e m o r y   c p u s   c a p a c i t y   v m   .   s e t   v i r t u a l   n e t w o r k   i n t e r f a c e   v i r t i o   .   b a s i c   c o m m a n d   l i n e   s a m p l e   .   v i r t - i n s t a l l   - -   _ v m n a m e _   - -   m e m o r y   2 0 4 8   - -   v c p u s   2   - -   d i s k   s i z e = 8  ,   b u s = v i r t i o   - -   l o c a t i o n   r h e l - 7 . 0 - x 8 6 _ 6 4 - d v d . i s o   - -   o s - v a r i a n t = r h e l 7 . 0   v i r t - m a n a g e r   a p p l i c a t i o n   c r e a t e   v m  ,   f o l l o w   p r o c e d u r e   c r e a t i n g   g u e s t s   v i r t - m a n a g e r  ,   c a v e a t s  :   c h e c k   i m m e d i a t e l y   s t a r t   v m   .   c h a n g e   m e m o r y   s t o r a g e   s i z e   p r e f e r r e d   s e t t i n g s   .   s t a r t   i n s t a l l a t i o n  ,   e n s u r e   c h a n g e d   m o d e l   v i r t u a l   n e t w o r k   i n t e r f a c e   s e t t i n g s   v i r t i o   c h a n g e   v c p u s   c a p a c i t y   s e t t i n g s   v m  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 3 . 3 .   c o m p l e t i n g   r h e l   i n s t a l l a t i o n   p e r f o r m   s t e p s   c o m p l e t e   i n s t a l l a t i o n   e n a b l e   r o o t   a c c e s s   v m   l a u n c h e s   .   p r o c e d u r e   c h o o s e   l a n g u a g e   i n s t a l l a t i o n   p r o c e s s   .   i n s t a l l a t i o n   s u m m a r y   v i e w  :   c l i c k   s o f t w a r e   s e l e c t i o n   c h e c k   m i n i m a l   i n s t a l l   .   c l i c k   .   c l i c k   i n s t a l l a t i o n   d e s t i n a t i o n   c h e c k   c u s t o m   s t o r a g e   c o n f i g u r a t i o n   .   v e r i f y   5 0 0   m b   / b o o t   .   r e m a i n i n g   s p a c e   r o o t   /   .   s t a n d a r d   p a r t i t i o n s   r e c o m m e n d e d  ,   l o g i c a l   v o l u m e   m a n a g e m e n t   (  l v m  )   .   x f s  ,   e x t 4  ,   e x t 3   f i l e   s y s t e m   .   c l i c k   f i n i s h e d   c h a n g e s   .   c l i c k   b e g i n   i n s t a l l a t i o n   .   s e t   r o o t   p a s s w o r d   .   r e b o o t   v m   r o o t   i n s t a l l a t i o n   c o m p l e t e s   .   c o n f i g u r e   i m a g e   .   p o w e r   v m  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 .   u p l o a d i n g   r h e l   i m a g e   g c p   f o l l o w   p r o c e d u r e s   s e c t i o n   h o s t   m a c h i n e   u p l o a d   i m a g e   g c p  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 1 .   c r e a t i n g   p r o j e c t   g c p   c o m p l e t e   s t e p s   c r e a t e   p r o j e c t   g c p   .   p r e r e q u i s i t e s   c r e a t e d   a c c o u n t   g c p   .  ,   g o o g l e   c l o u d   i n f o r m a t i o n   .   p r o c e d u r e   l a u n c h   g c p   c o n s o l e   .   c l i c k   d r o p - d o w n   m e n u   g o o g l e   c l o u d   p l a t f o r m   .   p o p - u p   m e n u  ,   c l i c k   p r o j e c t   .   p r o j e c t   w i n d o w  ,   e n t e r   p r o j e c t   .   c h e c k   o r g a n i z a t i o n   .   c l i c k   d r o p - d o w n   m e n u   c h a n g e   o r g a n i z a t i o n  ,   .   c o n f i r m   l o c a t i o n   p a r e n t   o r g a n i z a t i o n   f o l d e r   .   c l i c k   b r o w s e   s e a r c h   c h a n g e   v a l u e  ,   .   c l i c k   c r e a t e   c r e a t e   g c p   p r o j e c t   .   a d d i t i o n a l   r e s o u r c e s   c r e a t i n g   m a n a g i n g   r e s o u r c e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 2 .   i n s t a l l i n g   g o o g l e   c l o u d   s d k   c o m p l e t e   s t e p s   i n s t a l l   g o o g l e   c l o u d   s d k   .   p r e r e q u i s i t e s   c r e a t e   p r o j e c t   g c p   .   c r e a t i n g   p r o j e c t   g o o g l e   c l o u d   p l a t f o r m   i n f o r m a t i o n   .   e n s u r e   h o s t   s y s t e m   i n c l u d e s   p y t h o n   2 . 7   .  ,   i n s t a l l   p y t h o n   2 . 7 .   p r o c e d u r e   f o l l o w   g c p   i n s t r u c t i o n s   d o w n l o a d i n g   e x t r a c t i n g   g o o g l e   c l o u d   s d k   a r c h i v e   .   g c p   d o c u m e n t   q u i c k s t a r t   l i n u x   d e t a i l s   .   f o l l o w   i n s t r u c t i o n s   i n i t i a l i z i n g   g o o g l e   c l o u d   s d k   .   a d d i t i o n a l   r e s o u r c e s   q u i c k s t a r t   l i n u x   g c l o u d   c o m m a n d   r e f e r e n c e   g c l o u d   c o m m a n d - l i n e   t o o l   o v e r v i e w
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 3 .   c r e a t i n g   s s h   k e y s   g o o g l e   c o m p u t e   e n g i n e   p e r f o r m   p r o c e d u r e   g e n e r a t e   r e g i s t e r   s s h   k e y s   g c e   s s h   d i r e c t l y   i n s t a n c e   p u b l i c   i p   a d d r e s s   .   p r o c e d u r e   s s h - k e y g e n   c o m m a n d   g e n e r a t e   s s h   k e y   p a i r   g c e   .   #  s s h - k e y g e n   - t   r s a   - f   ~ / . s s h / g o o g l e _ c o m p u t e _ e n g i n e   g c p   c o n s o l e   d a s h b o a r d   p a g e  ,   c l i c k   n a v i g a t i o n   m e n u   l e f t   g o o g l e   c l o u d   c o n s o l e   b a n n e r   s e l e c t   c o m p u t e   e n g i n e   s e l e c t   m e t a d a t a   .   c l i c k   s s h   k e y s   c l i c k   e d i t   .   e n t e r   o u t p u t   g e n e r a t e d   ~ / . s s h / g o o g l e _ c o m p u t e _ e n g i n e . p u b   f i l e   c l i c k   s a v e   .   c o n n e c t   i n s t a n c e   s t a n d a r d   s s h   .   #  s s h   - i   ~ / . s s h / g o o g l e _ c o m p u t e _ e n g i n e   <  u s e r n a m e  >   @   <  i n s t a n c e _ e x t e r n a l _ i p  >   a d d i t i o n a l   r e s o u r c e s   g c l o u d   c o m p u t e   c o n f i g - s s h   c o n n e c t i n g   i n s t a n c e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 4 .   c r e a t i n g   s t o r a g e   b u c k e t   g c p   s t o r a g e   i m p o r t i n g   g c p   r e q u i r e s   g c p   s t o r a g e   b u c k e t   .   c o m p l e t e   s t e p s   c r e a t e   b u c k e t   .   p r o c e d u r e   l o g g e d   g c p  ,   c o m m a n d   .   #  g c l o u d   a u t h   l o g i n   c r e a t e   s t o r a g e   b u c k e t   .   #  g s u t i l   m b   g s  :   / / b u c k e t _ n a m e   a d d i t i o n a l   r e s o u r c e s   c r e a t e   b u c k e t
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 5 .   c o n v e r t i n g   u p l o a d i n g   i m a g e   g c p   b u c k e t   c o m p l e t e   p r o c e d u r e   c o n v e r t   u p l o a d   i m a g e   g c p   b u c k e t   .   s a m p l e s   r e p r e s e n t a t i v e  ;   c o n v e r t   q c o w 2   i m a g e   r a w   f o r m a t   t a r   i m a g e   u p l o a d   .   p r o c e d u r e   r u n   q e m u - i m g   c o m m a n d   c o n v e r t   i m a g e   .   c o n v e r t e d   i m a g e   d i s k . r a w   .   #  q e m u - i m g   c o n v e r t   - f   q c o w 2   - o   r a w   r h e l - s a m p l e . q c o w 2   d i s k . r a w   t a r   i m a g e   .   #  t a r   - -   f o r m a t = o l d g n u   - s c z f   d i s k . r a w . t a r . g z   d i s k . r a w   u p l o a d   i m a g e   b u c k e t   c r e a t e d   p r e v i o u s l y   .   u p l o a d   m i n u t e s   .   #  g s u t i l   c p   d i s k . r a w . t a r . g z   g s  :   / / b u c k e t _ n a m e   v e r i f i c a t i o n   s t e p s   g o o g l e   c l o u d   p l a t f o r m   h o m e   s c r e e n  ,   c l i c k   c o l l a p s e d   m e n u   i c o n   s e l e c t   s t o r a g e   s e l e c t   b r o w s e r   .   c l i c k   b u c k e t   .   t a r r e d   i m a g e   l i s t e d   b u c k e t   .   a d d i t i o n a l   r e s o u r c e s   m a n u a l l y   i m p o r t i n g   v i r t u a l   d i s k s   c h o o s i n g   i m p o r t   m e t h o d
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 6 .   c r e a t i n g   i m a g e   o b j e c t   g c p   b u c k e t   p e r f o r m   p r o c e d u r e   c r e a t e   i m a g e   o b j e c t   g c p   b u c k e t   .   p r o c e d u r e   r u n   c o m m a n d   c r e a t e   i m a g e   g c e   .   s p e c i f y   i m a g e   c r e a t i n g  ,   b u c k e t  ,   t a r r e d   i m a g e   .   #  g c l o u d   c o m p u t e   i m a g e s   c r e a t e   m y - i m a g e - n a m e   - -   s o u r c e - u r i   g s  :   / / m y - b u c k e t - n a m e / d i s k . r a w . t a r . g z   o p t i o n a l l y  ,   f i n d   i m a g e   g c p   c o n s o l e   .   c l i c k   n a v i g a t i o n   m e n u   l e f t   g o o g l e   c l o u d   c o n s o l e   b a n n e r   .   s e l e c t   c o m p u t e   e n g i n e   i m a g e s   .   a d d i t i o n a l   r e s o u r c e s   c r e a t i n g  ,   d e l e t i n g  ,   d e p r e c a t i n g   c u s t o m   i m a g e s   g c l o u d   c o m p u t e   i m a g e s   c r e a t e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 7 .   c r e a t i n g   g o o g l e   c o m p u t e   e n g i n e   i n s t a n c e   i m a g e   c o m p l e t e   s t e p s   c o n f i g u r e   g c e   v m   i n s t a n c e   g c p   c o n s o l e   .   p r o c e d u r e   g c p   c o n s o l e   d a s h b o a r d   p a g e  ,   c l i c k   n a v i g a t i o n   m e n u   l e f t   g o o g l e   c l o u d   c o n s o l e   b a n n e r  ,   s e l e c t   c o m p u t e   e n g i n e  ,   s e l e c t   i m a g e s   .   s e l e c t   i m a g e   .   c l i c k   c r e a t e   i n s t a n c e   .   c r e a t e   i n s t a n c e   p a g e  ,   e n t e r   i n s t a n c e   .   c h o o s e   r e g i o n   z o n e   .   c h o o s e   m a c h i n e   c o n f i g u r a t i o n   m e e t s   e x c e e d s   r e q u i r e m e n t s   w o r k l o a d   .   e n s u r e   b o o t   d i s k   s p e c i f i e s   i m a g e   .   o p t i o n a l l y  ,   f i r e w a l l  ,   s e l e c t   h t t p   t r a f f i c   h t t p s   t r a f f i c   .   c l i c k   c r e a t e   .   f i n d   i m a g e   v m   i n s t a n c e s   .   g c p   c o n s o l e   d a s h b o a r d  ,   c l i c k   n a v i g a t i o n   m e n u   l e f t   g o o g l e   c l o u d   c o n s o l e   b a n n e r  ,   s e l e c t   c o m p u t e   e n g i n e  ,   s e l e c t   v m   i n s t a n c e s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 8 .   c o n n e c t i n g   i n s t a n c e   p e r f o r m   p r o c e d u r e   c o n n e c t   g c e   i n s t a n c e   p u b l i c   i p   a d d r e s s   .   p r o c e d u r e   r u n   c o m m a n d   e n s u r e   i n s t a n c e   r u n n i n g   .   c o m m a n d   l i s t s   i n f o r m a t i o n   g c e   i n s t a n c e  ,   i n c l u d i n g   i n s t a n c e   r u n n i n g  ,  ,  ,   p u b l i c   i p   a d d r e s s   r u n n i n g   i n s t a n c e   .   #  g c l o u d   c o m p u t e   i n s t a n c e s   l i s t   c o n n e c t   i n s t a n c e   s t a n d a r d   s s h   .   g o o g l e _ c o m p u t e _ e n g i n e   k e y   c r e a t e d   e a r l i e r   .   #  s s h   - i   ~ / . s s h / g o o g l e _ c o m p u t e _ e n g i n e   <  u s e r _ n a m e  >   @   <  i n s t a n c e _ e x t e r n a l _ i p  >   a d d i t i o n a l   r e s o u r c e s   g c l o u d   c o m p u t e   i n s t a n c e s   l i s t   c o n n e c t i n g   i n s t a n c e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 . 9 .   a t t a c h i n g   r e d   s u b s c r i p t i o n s   c o m p l e t e   s t e p s   a t t a c h   s u b s c r i p t i o n s   p r e v i o u s l y   e n a b l e d   r e d   c l o u d   a c c e s s   p r o g r a m   .   p r e r e q u i s i t e s   e n a b l e d   s u b s c r i p t i o n s   .   p r o c e d u r e   r e g i s t e r   s y s t e m   .   s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   - -   a u t o - a t t a c h   a t t a c h   s u b s c r i p t i o n s   .   a c t i v a t i o n   k e y   a t t a c h   s u b s c r i p t i o n s   .   r e f e r   c r e a t i n g   r e d   c u s t o m e r   p o r t a l   a c t i v a t i o n   k e y s   .   a l t e r n a t i v e l y  ,   m a n u a l l y   a t t a c h   s u b s c r i p t i o n   i d   s u b s c r i p t i o n   p o o l   (  p o o l   i d  )   .   r e f e r   a t t a c h i n g   r e m o v i n g   s u b s c r i p t i o n s   c o m m a n d   l i n e   .   a d d i t i o n a l   r e s o u r c e s   c r e a t i n g   r e d   c u s t o m e r   p o r t a l   a c t i v a t i o n   k e y s   a t t a c h i n g   r e m o v i n g   s u b s c r i p t i o n s   c o m m a n d   l i n e   c o n f i g u r i n g   r e d   s u b s c r i p t i o n   m a n a g e r
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   6 .   c o n f i g u r i n g   r e d   h i g h   a v a i l a b i l i t y   c l u s t e r s   g o o g l e   c l o u d   p l a t f o r m   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   c o n f i g u r i n g   r e d   h i g h   a v a i l a b i l i t y   ( )   c l u s t e r   g o o g l e   c l o u d   p l a t f o r m   (  g c p  )   g o o g l e   c o m p u t e   e n g i n e   (  g c e  )   v i r t u a l   m a c h i n e   (  v m  )   i n s t a n c e s   c l u s t e r   n o d e s   .   c h a p t e r   i n c l u d e s   p r e r e q u i s i t e   p r o c e d u r e s   s e t t i n g   e n v i r o n m e n t   g c p   .   s e t   e n v i r o n m e n t  ,   c r e a t e   c o n f i g u r e   g c p   v m   i n s t a n c e s   .   c h a p t e r   i n c l u d e s   p r o c e d u r e s   s p e c i f i c   c r e a t i o n   c l u s t e r s  ,   t r a n s f o r m   i n d i v i d u a l   n o d e s   c l u s t e r   n o d e s   g c p   .   i n c l u d e   p r o c e d u r e s   i n s t a l l i n g   h i g h   a v a i l a b i l i t y   p a c k a g e s   a g e n t s   c l u s t e r   n o d e  ,   c o n f i g u r i n g   f e n c i n g  ,   i n s t a l l i n g   g c p   n e t w o r k   r e s o u r c e   a g e n t s   .   c h a p t e r   r e f e r s   g c p   d o c u m e n t a t i o n   n u m b e r   p l a c e s   .   i n f o r m a t i o n  ,   r e f e r e n c e d   g c p   d o c u m e n t a t i o n   .   p r e r e q u i s i t e s   i n s t a l l   g c p   s o f t w a r e   d e v e l o p m e n t   k i t   (  s d k  )   .   i n f o r m a t i o n  ,   i n s t a l l i n g   g o o g l e   c l o u d   s d k   .   e n a b l e   s u b s c r i p t i o n s   r e d   c l o u d   a c c e s s   p r o g r a m   .   r e d   c l o u d   a c c e s s   p r o g r a m   m o v e   r e d   s u b s c r i p t i o n   p h y s i c a l   o n - p r e m i s e   s y s t e m s   g c p   f u l l   s u p p o r t   r e d   .   b e l o n g   a c t i v e   g c p   p r o j e c t   s u f f i c i e n t   p e r m i s s i o n s   c r e a t e   r e s o u r c e s   p r o j e c t   .   p r o j e c t   s e r v i c e   a c c o u n t   b e l o n g s   v m   i n s t a n c e   i n d i v i d u a l   u s e r   .   c o m p u t e   e n g i n e   d e f a u l t   s e r v i c e   a c c o u n t   i n f o r m a t i o n   d e f a u l t   s e r v i c e   a c c o u n t   i n s t e a d   c r e a t i n g   s e p a r a t e   s e r v i c e   a c c o u n t   .   p r o j e c t   a d m i n i s t r a t o r   c r e a t e   c u s t o m   s e r v i c e   a c c o u n t  ,   s e r v i c e   a c c o u n t   c o n f i g u r e d   r o l e s   .   c l o u d   t r a c e   a g e n t   c o m p u t e   a d m i n   c o m p u t e   n e t w o r k   a d m i n   c l o u d   d a t a s t o r e   u s e r   l o g g i n g   a d m i n   m o n i t o r i n g   e d i t o r   m o n i t o r i n g   m e t r i c   w r i t e r   s e r v i c e   a c c o u n t   a d m i n i s t r a t o r   s t o r a g e   a d m i n   a d d i t i o n a l   r e s o u r c e s   s u p p o r t   p o l i c i e s   r h e l   h i g h   a v a i l a b i l i t y   c l u s t e r s   -   g o o g l e   c l o u d   p l a t f o r m   v i r t u a l   m a c h i n e s   c l u s t e r   m e m b e r s   s u p p o r t   p o l i c i e s   r h e l   h i g h   a v a i l a b i l i t y   c l u s t e r s   -   t r a n s p o r t   p r o t o c o l s   v p c   n e t w o r k   o v e r v i e w   e x p l o r i n g   r h e l   h i g h   a v a i l a b i l i t y   ’   c o m p o n e n t s  ,   c o n c e p t s  ,   f e a t u r e s   -   o v e r v i e w   t r a n s p o r t   p r o t o c o l s   d e s i g n   g u i d a n c e   r h e l   h i g h   a v a i l a b i l i t y   c l u s t e r s   -   s e l e c t i n g   t r a n s p o r t   p r o t o c o l   q u i c k s t a r t   r e d   c e n t o s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 1 .   r e d   e n t e r p r i s e   l i n u x   i m a g e   o p t i o n s   g c p   t a b l e   l i s t s   i m a g e   c h o i c e s   d i f f e r e n c e s   i m a g e   o p t i o n s   .   r e m a i n d e r   c h a p t e r   i n c l u d e s   i n f o r m a t i o n   p r o c e d u r e s   p e r t a i n i n g   c u s t o m   i m a g e s   .   a d d i t i o n a l   r e s o u r c e s   r e d   p u b l i c   c l o u d   i m a g e s   r e d   c l o u d   a c c e s s   r e f e r e n c e   g u i d e   c r e a t i n g   i n s t a n c e   c u s t o m   i m a g e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 2 .   r e q u i r e d   s y s t e m   p a c k a g e s   p r o c e d u r e s   c h a p t e r   a s s u m e   h o s t   s y s t e m   r u n n i n g   r e d   e n t e r p r i s e   l i n u x   .   s u c c e s s f u l l y   c o m p l e t e   p r o c e d u r e s  ,   h o s t   s y s t e m   p a c k a g e s   i n s t a l l e d   .   a d d i t i o n a l   r e s o u r c e s   i n s t a l l i n g   v i r t u a l i z a t i o n   p a c k a g e s   m a n u a l l y
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 3 .   i n s t a l l i n g   p a c k a g e s   a g e n t s   c o m p l e t e   s t e p s   n o d e s   i n s t a l l   h i g h   a v a i l a b i l i t y   p a c k a g e s   a g e n t s   .   p r o c e d u r e   d i s a b l e   r e p o s i t o r i e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   d i s a b l e =   *   e n a b l e   r h e l   7   s e r v e r   r h e l   7   s e r v e r   r e p o s i t o r i e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - 7 - s e r v e r - r p m s   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - h a - f o r - r h e l - 7 - s e r v e r - r p m s   u p d a t e   p a c k a g e s   .   #  y u m   u p d a t e   - y   i n s t a l l   p c s   p a c e m a k e r   f e n c e   a g e n t   r e s o u r c e   a g e n t   .   #  y u m   i n s t a l l   - y   p c s   p a c e m a k e r   f e n c e - a g e n t s - g c e   r e s o u r c e - a g e n t s - g c p   r e b o o t   m a c h i n e   k e r n e l   u p d a t e d   .   #  r e b o o t
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 4 .   c o n f i g u r i n g   s e r v i c e s   c o m p l e t e   s t e p s   n o d e s   c o n f i g u r e   h i g h   a v a i l a b i l i t y   s e r v i c e s   .   p r o c e d u r e   u s e r   h a c l u s t e r   c r e a t e d   p c s   p a c e m a k e r   i n s t a l l a t i o n   p r e v i o u s   s t e p   .   c r e a t e   p a s s w o r d   u s e r   h a c l u s t e r   c l u s t e r   n o d e s   .   p a s s w o r d   n o d e s   .   #  p a s s w d   h a c l u s t e r   f i r e w a l l d   s e r v i c e   e n a b l e d  ,   a d d   h i g h   a v a i l a b i l i t y   s e r v i c e   r h e l   .   #  f i r e w a l l - c m d   - -   p e r m a n e n t   - -   a d d - s e r v i c e = h i g h - a v a i l a b i l i t y   #  f i r e w a l l - c m d   - -   r e l o a d   s t a r t   p c s   s e r v i c e   e n a b l e   s t a r t   b o o t   .   #  s y s t e m c t l   e n a b l e   p c s d . s e r v i c e   - -   v e r i f i c a t i o n   s t e p s   e n s u r e   p c s   s e r v i c e   r u n n i n g   .   #  s y s t e m c t l   i s - a c t i v e   p c s d . s e r v i c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 5 .   c r e a t i n g   c l u s t e r   c o m p l e t e   s t e p s   c r e a t e   c l u s t e r   n o d e s   .   p r o c e d u r e   n o d e s  ,   e n t e r   c o m m a n d   a u t h e n t i c a t e   p c s   u s e r   c l u s t e r   .   s p e c i f y   n o d e   c l u s t e r   .   #  p c s   c l u s t e r   a u t h   _ h o s t n a m e 1 _   _ h o s t n a m e 2 _   _ h o s t n a m e 3 _   - u   h a c l u s t e r  :   [  r o o t   @   n o d e 0 1   ~  ]   #  p c s   c l u s t e r   a u t h   n o d e 0 1   n o d e 0 2   n o d e 0 3   - u   h a c l u s t e r   n o d e 0 1  :   a u t h o r i z e d   n o d e 0 2  :   a u t h o r i z e d   n o d e 0 3  :   a u t h o r i z e d   c r e a t e   c l u s t e r   .   #  p c s   c l u s t e r   s e t u p   - -   c l u s t e r - n a m e   _ h o s t n a m e 1 _   _ h o s t n a m e 2 _   _ h o s t n a m e 3 _   v e r i f i c a t i o n   s t e p s   e n a b l e   c l u s t e r   .   #  p c s   c l u s t e r   e n a b l e   - -   s t a r t   c l u s t e r   .   #  p c s   c l u s t e r   s t a r t   - -
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 6 .   c r e a t i n g   f e n c e   d e v i c e   d e f a u l t   c o n f i g u r a t i o n s  ,   g c p   i n s t a n c e   n a m e s   r h e l   h o s t   n a m e s   i d e n t i c a l   .   c o m p l e t e   s t e p s   c o n f i g u r e   f e n c i n g   n o d e   c l u s t e r   .   p r o c e d u r e   g c p   i n s t a n c e   n a m e s   n o d e   c l u s t e r   .   n o t e   o u t p u t   s h o w s   i n t e r n a l   i d   i n s t a n c e   .   #  f e n c e _ g c e   - -   z o n e   _ g c p _   _ r e g i o n _   - -   p r o j e c t =   _ g c p _   _ p r o j e c t _   - o   l i s t  :   [  r o o t   @   r h e l 7 1 - n o d e - 0 1   ~  ]   #  f e n c e _ g c e   - -   z o n e   u s - w e s t 1 - b   - -   p r o j e c t = r h e l - h a - t e s t i n g - o n - g c p   - o   l i s t   4 4 3 5 8   *   *   *   *   *   *   *   *   *   *   3 1 8 1  ,   i n s t a n c e n a m e - 3   4 0 8 1 9   *   *   *   *   *   *   *   *   *   *   6 8 1 1  ,   i n s t a n c e n a m e - 1   7 1 7 3 6   *   *   *   *   *   *   *   *   *   *   3 3 4 1  ,   i n s t a n c e n a m e - 2   c r e a t e   f e n c e   d e v i c e   .   p c m k _ h o s t - n a m e   c o m m a n d   m a p   r h e l   h o s t   i n s t a n c e   i d   .   #  p c s   s t o n i t h   c r e a t e   _ c l u s t e r f e n c e _   f e n c e _ g c e   p c m k _ h o s t _ m a p = _ p c m k - h p s t - m a p _   f e n c e _ g c e   z o n e = _ g c p - z o n e _   p r o j e c t = _ g c p p r o j e c t _  :   [  r o o t   @   n o d e 0 1   ~  ]   #  p c s   s t o n i t h   c r e a t e   f e n c e g c e   f e n c e _ g c e   p c m k _ h o s t _ m a p =  ' '   n o d e 0 1  :   n o d e 0 1 - v m  ;   n o d e 0 2  :   n o d e 0 2 - v m  ;   n o d e 0 3  :   n o d e 0 3 - v m  ' '   p r o j e c t = h a c l u s t e r   z o n e = u s - e a s t 1 - b   v e r i f i c a t i o n   s t e p s   t e s t   f e n c i n g   a g e n t   n o d e s   .   #  p c s   s t o n i t h   f e n c e   g c p   n o d e n a m e   c h e c k   s t a t u s   v e r i f y   n o d e   f e n c e d   .   #  w a t c h   p c s   s t a t u s  :   [  r o o t   @   n o d e 0 1   ~  ]   #  w a t c h   p c s   s t a t u s   c l u s t e r  :   g c p - c l u s t e r   s t a c k  :   c o r o s y n c   c u r r e n t   d c  :   r h e l 7 1 - n o d e - 0 2   (  v e r s i o n   1 . 1 . 1 8 - 1 1 . e l 7 _ 5 . 3 - 2 b 0 7 d 5 c 5 a 9  )   -   p a r t i t i o n   q u o r u m   u p d a t e d  :   f r i   j u l   2 7   1 2: 5 3: 2 5   2 0 1 8   c h a n g e  :   f r i   j u l   2 7   1 2: 5 1: 4 3   2 0 1 8   r o o t   c i b a d m i n   r h e l 7 1 - n o d e - 0 1   3   n o d e s   c o n f i g u r e d   3   r e s o u r c e s   c o n f i g u r e d   o n l i n e  :   [  r h e l 7 1 - n o d e - 0 1   r h e l 7 1 - n o d e - 0 2   r h e l 7 1 - n o d e - 0 3  ]   f u l l   l i s t   r e s o u r c e s  :   u s - e a s t 1 - b - f e n c e   (  s t o n i t h  :   f e n c e _ g c e  )  :   s t a r t e d   r h e l 7 1 - n o d e - 0 1   d a e m o n   s t a t u s  :   c o r o s y n c  :   a c t i v e / e n a b l e d   p a c e m a k e r  :   a c t i v e / e n a b l e d   p c s d  :   a c t i v e / e n a b l e d
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 7 .   c o n f i g u r i n g   g c p   n o d e   a u t h o r i z a t i o n   c o n f i g u r e   c l o u d   s d k   t o o l s   a c c o u n t   c r e d e n t i a l s   a c c e s s   g c p   .   p r o c e d u r e   e n t e r   c o m m a n d   n o d e   i n i t i a l i z e   n o d e   p r o j e c t   i d   a c c o u n t   c r e d e n t i a l s   .   #  g c l o u d - r a   i n i t
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
6 . 8 .   c o n f i g u r i n g   g c p   n e t w o r k   r e s o u r c e   a g e n t   c l u s t e r   g c p   n e t w o r k   r e s o u r c e   a g e n t s   a t t a c h e d   s e c o n d a r y   i p   a d d r e s s   (  a l i a s   i p  )   r u n n i n g   i n s t a n c e   .   f l o a t i n g   i p   a d d r e s s   p a s s e d   d i f f e r e n t   n o d e s   c l u s t e r   .   p r o c e d u r e   e n t e r   c o m m a n d   v i e w   g c p   v i r t u a l   i p   a d d r e s s   r e s o u r c e   a g e n t   (  g c p - v p c - m o v e - v i p  )   d e s c r i p t i o n   .   s h o w s   o p t i o n s   d e f a u l t   o p e r a t i o n s   a g e n t   .   #  p c s   r e s o u r c e   d e s c r i b e   g c p - v p c - m o v e - v i p   c o n f i g u r e   r e s o u r c e   a g e n t   p r i m a r y   s u b n e t   a d d r e s s   r a n g e   s e c o n d a r y   s u b n e t   a d d r e s s   r a n g e   .   s e c t i o n   i n c l u d e s   p r o c e d u r e s   .   p r i m a r y   s u b n e t   a d d r e s s   r a n g e   p r o c e d u r e   c o m p l e t e   s t e p s   c o n f i g u r e   r e s o u r c e   p r i m a r y   v p c   s u b n e t   .   c r e a t e   a l i a s i p   r e s o u r c e   .   i n c l u d e   u n u s e d   i n t e r n a l   i p   a d d r e s s   .   i n c l u d e   c i d r   b l o c k   c o m m a n d   .   #  p c s   r e s o u r c e   c r e a t e   a l i a s i p   g c p - v p c - m o v e - v i p   a l i a s _ i p = _ u n u s e d i p a d d r e s s / c i d r b l o c k _   - -   g r o u p   _ g r o u p - n a m e _   - -   g r o u p   _ n e t w o r k i n g - g r o u p _   c r e a t e   i p a d d r 2   r e s o u r c e   m a n a g i n g   i p   n o d e   .   #  p c s   r e s o u r c e   c r e a t e   v i p   i p a d d r 2   n i c = _ i n t e r f a c e _   i p = _ a l i a s i p a d d r e s s _   c i d r _ n e t m a s k = 3 2   - -   g r o u p   _ g r o u p - n a m e _   - -   g r o u p   _ n e t w o r k i n g - g r o u p _   g r o u p   n e t w o r k   r e s o u r c e s   v i p g r p   .   #  p c s   r e s o u r c e   g r o u p   a d d   v i p g r p   a l i a s i p   v i p   v e r i f i c a t i o n   s t e p s   v e r i f y   r e s o u r c e s   s t a r t e d   g r o u p e d   v i p g r p   .   #  p c s   s t a t u s   v e r i f y   r e s o u r c e   m o v e   d i f f e r e n t   n o d e   .   #  p c s   r e s o u r c e   m o v e   v i p   _ n o d e _  :   #  p c s   r e s o u r c e   m o v e   v i p   r h e l 7 1 - n o d e - 0 3   v e r i f y   v i p   s u c c e s s f u l l y   s t a r t e d   d i f f e r e n t   n o d e   .   #  p c s   s t a t u s   s e c o n d a r y   s u b n e t   a d d r e s s   r a n g e   c o m p l e t e   s t e p s   c o n f i g u r e   r e s o u r c e   s e c o n d a r y   s u b n e t   a d d r e s s   r a n g e   .   p r e r e q u i s i t e s   c r e a t e   c u s t o m   n e t w o r k   s u b n e t   p r o c e d u r e   c r e a t e   s e c o n d a r y   s u b n e t   a d d r e s s   r a n g e   .   #  g c l o u d - r a   c o m p u t e   n e t w o r k s   s u b n e t s   u p d a t e   _ s u b n e t n a m e _   - -   r e g i o n   _ r e g i o n n a m e _   - -   a d d - s e c o n d a r y - r a n g e s   _ s e c o n d a r y s u b n e t n a m e _ = _ s e c o n d a r y s u b n e t r a n g e _  :   #  g c l o u d - r a   c o m p u t e   n e t w o r k s   s u b n e t s   u p d a t e   r a n g e 0   - -   r e g i o n   u s - w e s t 1   - -   a d d - s e c o n d a r y - r a n g e s   r a n g e 1 = 1 0 . 1 0 . 2 0 . 0 / 2 4   c r e a t e   a l i a s i p   r e s o u r c e   .   c r e a t e   u n u s e d   i n t e r n a l   i p   a d d r e s s   s e c o n d a r y   s u b n e t   a d d r e s s   r a n g e   .   i n c l u d e   c i d r   b l o c k   c o m m a n d   .   #  p c s   r e s o u r c e   c r e a t e   a l i a s i p   g c p - v p c - m o v e - v i p   a l i a s _ i p = _ u n u s e d i p a d d r e s s / c i d r b l o c k _   - -   g r o u p   _ g r o u p - n a m e _   - -   g r o u p   _ n e t w o r k i n g - g r o u p _   c r e a t e   i p a d d r 2   r e s o u r c e   m a n a g i n g   i p   n o d e   .   #  p c s   r e s o u r c e   c r e a t e   v i p   i p a d d r 2   n i c = _ i n t e r f a c e _   i p = _ a l i a s i p a d d r e s s _   c i d r _ n e t m a s k = 3 2   - -   g r o u p   _ g r o u p - n a m e _   - -   g r o u p   _ n e t w o r k i n g - g r o u p _   v e r i f i c a t i o n   s t e p s   v e r i f y   r e s o u r c e s   s t a r t e d   g r o u p e d   v i p g r p   .   #  p c s   s t a t u s   v e r i f y   r e s o u r c e   m o v e   d i f f e r e n t   n o d e   .   #  p c s   r e s o u r c e   m o v e   v i p   _ n o d e _  :   [  r o o t   @   r h e l 7 1 - n o d e - 0 1   ~  ]   #  p c s   r e s o u r c e   m o v e   v i p   r h e l 7 1 - n o d e - 0 3   v e r i f y   v i p   s u c c e s s f u l l y   s t a r t e d   d i f f e r e n t   n o d e   .   #  p c s   s t a t u s   l e g a l   n o t i c e   c o p y r i g h t   ©   2 0 2 3   r e d  ,   i n c .   t e x t   i l l u s t r a t i o n s   d o c u m e n t   l i c e n s e d   r e d   c r e a t i v e   c o m m o n s   a t t r i b u t i o n – s h a r e   a l i k e   3 . 0   u n p o r t e d   l i c e n s e   (  ` `   c c - b y - s a  ' '  )   .   e x p l a n a t i o n   c c - b y - s a   a v a i l a b l e   h t t p  :   / / c r e a t i v e c o m m o n s . o r g / l i c e n s e s / b y - s a / 3 . 0 /   .   a c c o r d a n c e   c c - b y - s a  ,   d i s t r i b u t e   d o c u m e n t   a d a p t a t i o n  ,   p r o v i d e   u r l   o r i g i n a l   v e r s i o n   .   r e d  ,   l i c e n s o r   d o c u m e n t  ,   w a i v e s   e n f o r c e  ,   a g r e e s   a s s e r t  ,   s e c t i o n   4 d   c c - b y - s a   f u l l e s t   e x t e n t   p e r m i t t e d   a p p l i c a b l e   l a w   .   r e d  ,   r e d   e n t e r p r i s e   l i n u x  ,   s h a d o w m a n   l o g o  ,   r e d   l o g o  ,   j b o s s  ,   o p e n s h i f t  ,   f e d o r a  ,   i n f i n i t y   l o g o  ,   r h c e   t r a d e m a r k s   r e d  ,   i n c .  ,   r e g i s t e r e d   u n i t e d   s t a t e s   c o u n t r i e s   .   l i n u x ®   r e g i s t e r e d   t r a d e m a r k   l i n u s   t o r v a l d s   u n i t e d   s t a t e s   c o u n t r i e s   .   j a v a ®   r e g i s t e r e d   t r a d e m a r k   o r a c l e   a n d / o r   a f f i l i a t e s   .   x f s ®   t r a d e m a r k   s i l i c o n   g r a p h i c s   i n t e r n a t i o n a l   c o r p .   s u b s i d i a r i e s   u n i t e d   s t a t e s   a n d / o r   c o u n t r i e s   .   m y s q l ®   r e g i s t e r e d   t r a d e m a r k   m y s q l   u n i t e d   s t a t e s  ,   e u r o p e a n   u n i o n   c o u n t r i e s   .   n o d e . j s ®   o f f i c i a l   t r a d e m a r k   j o y e n t   .   r e d   f o r m a l l y   r e l a t e d   e n d o r s e d   o f f i c i a l   j o y e n t   n o d e . j s   o p e n   s o u r c e   c o m m e r c i a l   p r o j e c t   .   o p e n s t a c k ®   w o r d   m a r k   o p e n s t a c k   l o g o   r e g i s t e r e d   t r a d e m a r k s / s e r v i c e   m a r k s   t r a d e m a r k s / s e r v i c e   m a r k s   o p e n s t a c k   f o u n d a t i o n  ,   u n i t e d   s t a t e s   c o u n t r i e s   o p e n s t a c k   f o u n d a t i o n  ' s   p e r m i s s i o n   .   a f f i l i a t e d  ,   e n d o r s e d   s p o n s o r e d   o p e n s t a c k   f o u n d a t i o n  ,   o p e n s t a c k   c o m m u n i t y   .   t r a d e m a r k s   p r o p e r t y   r e s p e c t i v e   o w n e r s  .
