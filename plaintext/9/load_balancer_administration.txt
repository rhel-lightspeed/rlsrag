a b s t r a c t   b u i l d i n g   l o a d   b a l a n c e r   s y s t e m   o f f e r s   h i g h l y   a v a i l a b l e   s c a l a b l e   s o l u t i o n   p r o d u c t i o n   s e r v i c e s   s p e c i a l i z e d   l i n u x   v i r t u a l   s e r v e r s   (  l v s  )   r o u t i n g   l o a d - b a l a n c i n g   t e c h n i q u e s   c o n f i g u r e d   k e e p a l i v e d   h a p r o x y   .   b o o k   d i s c u s s e s   c o n f i g u r a t i o n   h i g h - p e r f o r m a n c e   s y s t e m s   s e r v i c e s   l o a d   b a l a n c e r   t e c h n o l o g i e s   r e d   e n t e r p r i s e   l i n u x   7  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   1 .   l o a d   b a l a n c e r   o v e r v i e w   l o a d   b a l a n c e r   s e t   i n t e g r a t e d   s o f t w a r e   c o m p o n e n t s   p r o v i d e   b a l a n c i n g   i p   t r a f f i c   s e t   r e a l   s e r v e r s   .   c o n s i s t s   t e c h n o l o g i e s   m o n i t o r   c l u s t e r   m e m b e r s   c l u s t e r   s e r v i c e s  :   k e e p a l i v e d   h a p r o x y   .   k e e p a l i v e d   l i n u x   v i r t u a l   s e r v e r   ( )   p e r f o r m   l o a d   b a l a n c i n g   f a i l o v e r   t a s k s   a c t i v e   p a s s i v e   r o u t e r s  ,   h a p r o x y   p e r f o r m s   l o a d   b a l a n c i n g   h i g h - a v a i l a b i l i t y   s e r v i c e s   t c p   h t t p   a p p l i c a t i o n s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 1 .   k e e p a l i v e d   k e e p a l i v e d   d a e m o n   r u n s   a c t i v e   p a s s i v e   l v s   r o u t e r s   .   r o u t e r s   r u n n i n g   k e e p a l i v e d   v i r t u a l   r e d u n d a n c y   r o u t i n g   p r o t o c o l   (  v r r p  )   .   a c t i v e   r o u t e r   s e n d s   v r r p   a d v e r t i s e m e n t s   p e r i o d i c   i n t e r v a l s  ;   b a c k u p   r o u t e r s   f a i l   r e c e i v e   a d v e r t i s e m e n t s  ,   a c t i v e   r o u t e r   e l e c t e d   .   a c t i v e   r o u t e r  ,   k e e p a l i v e d   p e r f o r m   l o a d   b a l a n c i n g   t a s k s   r e a l   s e r v e r s   .   k e e p a l i v e d   c o n t r o l l i n g   p r o c e s s   r e l a t e d   l v s   r o u t e r s   .   b o o t   t i m e  ,   d a e m o n   s t a r t e d   s y s t e m c t l   c o m m a n d  ,   r e a d s   c o n f i g u r a t i o n   f i l e   / e t c / k e e p a l i v e d / k e e p a l i v e d . c o n f   .   a c t i v e   r o u t e r  ,   k e e p a l i v e d   d a e m o n   s t a r t s   l v s   s e r v i c e   m o n i t o r s   h e a l t h   s e r v i c e s   b a s e d   c o n f i g u r e d   t o p o l o g y   .   v r r p  ,   a c t i v e   r o u t e r   s e n d s   p e r i o d i c   a d v e r t i s e m e n t s   b a c k u p   r o u t e r s   .   b a c k u p   r o u t e r s  ,   v r r p   i n s t a n c e   d e t e r m i n e s   r u n n i n g   s t a t u s   a c t i v e   r o u t e r   .   a c t i v e   r o u t e r   f a i l s   a d v e r t i s e   u s e r - c o n f i g u r a b l e   i n t e r v a l  ,   k e e p a l i v e d   i n i t i a t e s   f a i l o v e r   .   f a i l o v e r  ,   v i r t u a l   s e r v e r s   c l e a r e d   .   a c t i v e   r o u t e r   t a k e s   c o n t r o l   v i r t u a l   i p   a d d r e s s   ( )  ,   s e n d s   a r p   m e s s a g e  ,   s e t s   i p v s   t a b l e   e n t r i e s   (  v i r t u a l   s e r v e r s  )  ,   b e g i n s   h e a l t h   c h e c k s  ,   s t a r t s   s e n d i n g   v r r p   a d v e r t i s e m e n t s   .   k e e p a l i v e d   p e r f o r m s   f a i l o v e r   l a y e r   4  ,   t r a n s p o r t   l a y e r  ,   t c p   c o n d u c t s   c o n n e c t i o n - b a s e d   d a t a   t r a n s m i s s i o n s   .   r e a l   s e r v e r   f a i l s   r e p l y   s i m p l e   t i m e o u t   t c p   c o n n e c t i o n  ,   k e e p a l i v e d   d e t e c t s   s e r v e r   f a i l e d   r e m o v e s   s e r v e r   p o o l  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 2 .   h a p r o x y   h a p r o x y   o f f e r s   l o a d   b a l a n c e d   s e r v i c e s   h t t p   t c p - b a s e d   s e r v i c e s  ,   i n t e r n e t - c o n n e c t e d   s e r v i c e s   w e b - b a s e d   a p p l i c a t i o n s   .   d e p e n d i n g   l o a d   b a l a n c e r   s c h e d u l i n g   a l g o r i t h m   c h o s e n  ,   h a p r o x y   p r o c e s s   e v e n t s   t h o u s a n d s   c o n n e c t i o n s   p o o l   m u l t i p l e   r e a l   s e r v e r s   a c t i n g   v i r t u a l   s e r v e r   .   s c h e d u l e r   d e t e r m i n e s   v o l u m e   c o n n e c t i o n s   a s s i g n s   e q u a l l y   n o n - w e i g h t e d   s c h e d u l e s   h i g h e r   c o n n e c t i o n   v o l u m e   s e r v e r s   h a n d l e   h i g h e r   c a p a c i t y   w e i g h t e d   a l g o r i t h m s   .   h a p r o x y   u s e r s   d e f i n e   p r o x y   s e r v i c e s  ,   p e r f o r m s   l o a d   b a l a n c i n g   s e r v i c e s   t r a f f i c   p r o x i e s   .   p r o x i e s   m a d e   f r o n t e n d   s y s t e m   b a c k - e n d   s y s t e m s   .   f r o n t - e n d   s y s t e m   d e f i n e s   i p   a d d r e s s   (  v i p  )   p o r t   p r o x y   l i s t e n s  ,   b a c k - e n d   s y s t e m s   p a r t i c u l a r   p r o x y   .   b a c k - e n d   s y s t e m   p o o l   r e a l   s e r v e r s  ,   d e f i n e s   l o a d   b a l a n c i n g   a l g o r i t h m   .   h a p r o x y   p e r f o r m s   l o a d - b a l a n c i n g   m a n a g e m e n t   l a y e r   7  ,   a p p l i c a t i o n   l a y e r   .   c a s e s  ,   a d m i n i s t r a t o r s   d e p l o y   h a p r o x y   h t t p - b a s e d   l o a d   b a l a n c i n g  ,   p r o d u c t i o n   w e b   a p p l i c a t i o n s  ,   h i g h   a v a i l a b i l i t y   i n f r a s t r u c t u r e   p a r t   b u s i n e s s   c o n t i n u i t y  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
1 . 3 .   k e e p a l i v e d   h a p r o x y   a d m i n i s t r a t o r s   k e e p a l i v e d   h a p r o x y   r o b u s t   s c a l a b l e   h i g h   a v a i l a b i l i t y   e n v i r o n m e n t   .   s p e e d   s c a l a b i l i t y   h a p r o x y   p e r f o r m   l o a d   b a l a n c i n g   h t t p   t c p - b a s e d   s e r v i c e s   c o n j u n c t i o n   k e e p a l i v e d   f a i l o v e r   s e r v i c e s  ,   a d m i n i s t r a t o r s   i n c r e a s e   a v a i l a b i l i t y   d i s t r i b u t i n g   l o a d   r e a l   s e r v e r s   e n s u r i n g   c o n t i n u i t y   e v e n t   r o u t e r   u n a v a i l a b i l i t y   p e r f o r m i n g   f a i l o v e r   b a c k u p   r o u t e r s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   2 .   k e e p a l i v e d   o v e r v i e w   k e e p a l i v e d   r u n s   a c t i v e   l v s   r o u t e r   o p t i o n a l   b a c k u p   l v s   r o u t e r s   .   a c t i v e   l v s   r o u t e r   s e r v e s   r o l e s  :   b a l a n c e   l o a d   r e a l   s e r v e r s   .   c h e c k   i n t e g r i t y   s e r v i c e s   r e a l   s e r v e r   .   a c t i v e   (  m a s t e r  )   r o u t e r   i n f o r m s   b a c k u p   r o u t e r s   a c t i v e   s t a t u s   v i r t u a l   r o u t e r   r e d u n d a n c y   p r o t o c o l   (  v r r p  )  ,   r e q u i r e s   m a s t e r   r o u t e r   s e n d   a d v e r t i s e m e n t s   r e g u l a r   i n t e r v a l s   .   a c t i v e   r o u t e r   s t o p s   s e n d i n g   a d v e r t i s e m e n t s  ,   m a s t e r   e l e c t e d   .   n o t e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 1 .   b a s i c   k e e p a l i v e d   l o a d   b a l a n c e r   c o n f i g u r a t i o n   f i g u r e   2 . 1  ,   “   b a s i c   l o a d   b a l a n c e r   c o n f i g u r a t i o n   ”   s h o w s   s i m p l e   k e e p a l i v e d   l o a d   b a l a n c e r   c o n f i g u r a t i o n   c o n s i s t i n g   l a y e r s   .   l a y e r   a c t i v e   b a c k u p   l v s   r o u t e r s   .   l v s   r o u t e r   n e t w o r k   i n t e r f a c e s  ,   i n t e r f a c e   i n t e r n e t   p r i v a t e   n e t w o r k  ,   e n a b l i n g   r e g u l a t e   t r a f f i c   n e t w o r k s   .   a c t i v e   r o u t e r   n e t w o r k   a d d r e s s   t r a n s l a t i o n   n a t   d i r e c t   t r a f f i c   i n t e r n e t   v a r i a b l e   n u m b e r   r e a l   s e r v e r s   l a y e r  ,   t u r n   p r o v i d e   s e r v i c e s   .  ,   r e a l   s e r v e r s   c o n n e c t e d   d e d i c a t e d   p r i v a t e   n e t w o r k   s e g m e n t   p a s s   p u b l i c   t r a f f i c   b a c k   a c t i v e   l v s   r o u t e r   .   w o r l d  ,   s e r v e r s   e n t i t y   .   f i g u r e   2 . 1 .   b a s i c   l o a d   b a l a n c e r   c o n f i g u r a t i o n   s e r v i c e   r e q u e s t s   a r r i v i n g   l v s   r o u t e r   a d d r e s s e d   v i r t u a l   i p   a d d r e s s  ,   v i p   .   p u b l i c l y - r o u t a b l e   a d d r e s s   a d m i n i s t r a t o r   s i t e   a s s o c i a t e s   f u l l y - q u a l i f i e d   d o m a i n  ,   w w w . e x a m p l e . c o m  ,   a s s i g n e d   v i r t u a l   s e r v e r s   .   v i r t u a l   s e r v e r   s e r v i c e   c o n f i g u r e d   l i s t e n   s p e c i f i c   v i r t u a l   i p   .   v i p   a d d r e s s   m i g r a t e s   l v s   r o u t e r   f a i l o v e r  ,   m a i n t a i n i n g   p r e s e n c e   i p   a d d r e s s   .   v i p   f l o a t i n g   i p   a d d r e s s e s   .   v i p   a d d r e s s e s   a s s i g n e d   d e v i c e   c o n n e c t s   l v s   r o u t e r   i n t e r n e t   .  ,   e t h 0   c o n n e c t e d   i n t e r n e t  ,   m u l t i p l e   v i r t u a l   s e r v e r s   a s s i g n e d   e t h 0   .   a l t e r n a t i v e l y  ,   v i r t u a l   s e r v e r   a s s o c i a t e d   s e p a r a t e   d e v i c e   s e r v i c e   .  ,   h t t p   t r a f f i c   h a n d l e d   e t h 0   1 9 2 . 1 6 8 . 1 . 1 1 1   f t p   t r a f f i c   h a n d l e d   e t h 0   1 9 2 . 1 6 8 . 1 . 2 2 2 .   d e p l o y m e n t   s c e n a r i o   i n v o l v i n g   a c t i v e   p a s s i v e   r o u t e r  ,   r o l e   a c t i v e   r o u t e r   r e d i r e c t   s e r v i c e   r e q u e s t s   v i r t u a l   i p   a d d r e s s e s   r e a l   s e r v e r s   .   r e d i r e c t i o n   b a s e d   s u p p o r t e d   l o a d - b a l a n c i n g   a l g o r i t h m s   d e s c r i b e d   s e c t i o n   2 . 3  ,   “   k e e p a l i v e d   s c h e d u l i n g   o v e r v i e w   ”   .   a c t i v e   r o u t e r   d y n a m i c a l l y   m o n i t o r s   h e a l t h   s p e c i f i c   s e r v i c e s   r e a l   s e r v e r s   b u i l t - i n   h e a l t h   c h e c k s  :   s i m p l e   t c p   c o n n e c t  ,   h t t p  ,   h t t p s   .   t c p   c o n n e c t  ,   a c t i v e   r o u t e r   p e r i o d i c a l l y   c h e c k   c o n n e c t   r e a l   s e r v e r s   p o r t   .   h t t p   h t t p s  ,   a c t i v e   r o u t e r   p e r i o d i c a l l y   f e t c h   u r l   r e a l   s e r v e r s   v e r i f y   c o n t e n t   .   b a c k u p   r o u t e r s   p e r f o r m   r o l e   s t a n d b y   s y s t e m s   .   r o u t e r   f a i l o v e r   h a n d l e d   v r r p   .   s t a r t u p  ,   r o u t e r s   j o i n   m u l t i c a s t   g r o u p   .   m u l t i c a s t   g r o u p   s e n d   r e c e i v e   v r r p   a d v e r t i s e m e n t s   .   v r r p   p r i o r i t y   b a s e d   p r o t o c o l  ,   r o u t e r   h i g h e s t   p r i o r i t y   e l e c t e d   m a s t e r   .   r o u t e r   e l e c t e d   m a s t e r  ,   r e s p o n s i b l e   s e n d i n g   v r r p   a d v e r t i s e m e n t s   p e r i o d i c   i n t e r v a l s   m u l t i c a s t   g r o u p   .   b a c k u p   r o u t e r s   f a i l   r e c e i v e   a d v e r t i s e m e n t s   t i m e   p e r i o d   (  b a s e d   a d v e r t i s e m e n t   i n t e r v a l  )  ,   m a s t e r   e l e c t e d   .   m a s t e r   v i p   s e n d   a d d r e s s   r e s o l u t i o n   p r o t o c o l   (  a r p  )   m e s s a g e   .   r o u t e r   r e t u r n s   a c t i v e   s e r v i c e  ,   b a c k u p   m a s t e r   .   b e h a v i o r   d e t e r m i n e d   r o u t e r  ' s   p r i o r i t y   .   s i m p l e  ,   t w o - l a y e r e d   c o n f i g u r a t i o n   f i g u r e   2 . 1  ,   “   b a s i c   l o a d   b a l a n c e r   c o n f i g u r a t i o n   ”   s e r v i n g   d a t a   c h a n g e   f r e q u e n t l y   —   s t a t i c   w e b   p a g e s   —   i n d i v i d u a l   r e a l   s e r v e r s   a u t o m a t i c a l l y   s y n c   d a t a   n o d e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 2 .   t h r e e - t i e r   k e e p a l i v e d   l o a d   b a l a n c e r   c o n f i g u r a t i o n   f i g u r e   2 . 2  ,   “   t h r e e - t i e r   l o a d   b a l a n c e r   c o n f i g u r a t i o n   ”   s h o w s   t y p i c a l   t h r e e - t i e r   k e e p a l i v e d   l o a d   b a l a n c e r   t o p o l o g y   .  ,   a c t i v e   l v s   r o u t e r   r o u t e s   r e q u e s t s   i n t e r n e t   p o o l   r e a l   s e r v e r s   .   r e a l   s e r v e r s   a c c e s s e s   s h a r e d   d a t a   s o u r c e   n e t w o r k   .   f i g u r e   2 . 2 .   t h r e e - t i e r   l o a d   b a l a n c e r   c o n f i g u r a t i o n   c o n f i g u r a t i o n   i d e a l   b u s y   f t p   s e r v e r s  ,   a c c e s s i b l e   d a t a   s t o r e d   c e n t r a l  ,   h i g h l y   a v a i l a b l e   s e r v e r   a c c e s s e d   r e a l   s e r v e r   m e a n s   e x p o r t e d   n f s   d i r e c t o r y   s a m b a   s h a r e   .   t o p o l o g y   r e c o m m e n d e d   w e b s i t e s   a c c e s s   c e n t r a l  ,   h i g h l y   a v a i l a b l e   d a t a b a s e   t r a n s a c t i o n s   .   a d d i t i o n a l l y  ,   a c t i v e - a c t i v e   c o n f i g u r a t i o n   l o a d   b a l a n c e r  ,   a d m i n i s t r a t o r s   c o n f i g u r e   h i g h - a v a i l a b i l i t y   c l u s t e r   s e r v e   r o l e s   s i m u l t a n e o u s l y   .   t i e r   l o a d   b a l a n c e r  ,   f a i l i n g   h i g h l y   a v a i l a b l e   s o l u t i o n   i n t r o d u c e   c r i t i c a l   s i n g l e   p o i n t   f a i l u r e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 3 .   k e e p a l i v e d   s c h e d u l i n g   o v e r v i e w   k e e p a l i v e d   g r e a t   d e a l   f l e x i b i l i t y   d i s t r i b u t i n g   t r a f f i c   r e a l   s e r v e r s  ,   p a r t   d u e   v a r i e t y   s c h e d u l i n g   a l g o r i t h m s   s u p p o r t e d   .   l o a d   b a l a n c i n g   s u p e r i o r   f l e x i b l e   m e t h o d s  ,   r o u n d - r o b i n   d n s   h i e r a r c h i c a l   n a t u r e   d n s   c a c h i n g   c l i e n t   m a c h i n e s   l e a d   l o a d   i m b a l a n c e s   .   a d d i t i o n a l l y  ,   l o w - l e v e l   f i l t e r i n g   e m p l o y e d   l v s   r o u t e r   a d v a n t a g e s   a p p l i c a t i o n - l e v e l   r e q u e s t   f o r w a r d i n g   b a l a n c i n g   l o a d s   n e t w o r k   p a c k e t   l e v e l   m i n i m a l   c o m p u t a t i o n a l   o v e r h e a d   g r e a t e r   s c a l a b i l i t y   .   a s s i g n e d   w e i g h t s   a r b i t r a r y   p r i o r i t i e s   i n d i v i d u a l   m a c h i n e s   .   f o r m   s c h e d u l i n g  ,   p o s s i b l e   c r e a t e   g r o u p   r e a l   s e r v e r s   v a r i e t y   h a r d w a r e   s o f t w a r e   c o m b i n a t i o n s   a c t i v e   r o u t e r   e v e n l y   l o a d   r e a l   s e r v e r   .   s c h e d u l i n g   m e c h a n i s m   k e e p a l i v e d   p r o v i d e d   c o l l e c t i o n   k e r n e l   p a t c h e s   c a l l e d   i p   v i r t u a l   s e r v e r   i p v s   m o d u l e s   .   m o d u l e s   e n a b l e   l a y e r   4   (  l 4  )   t r a n s p o r t   l a y e r   s w i t c h i n g  ,   d e s i g n e d   w o r k   m u l t i p l e   s e r v e r s   s i n g l e   i p   a d d r e s s   .   t r a c k   r o u t e   p a c k e t s   r e a l   s e r v e r s   e f f i c i e n t l y  ,   i p v s   b u i l d s   i p v s   t a b l e   k e r n e l   .   t a b l e   a c t i v e   l v s   r o u t e r   r e d i r e c t   r e q u e s t s   v i r t u a l   s e r v e r   a d d r e s s   r e t u r n i n g   r e a l   s e r v e r s   p o o l  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 3 . 1 .   k e e p a l i v e d   s c h e d u l i n g   a l g o r i t h m s   s t r u c t u r e   i p v s   t a b l e   t a k e s   d e p e n d s   s c h e d u l i n g   a l g o r i t h m   a d m i n i s t r a t o r   c h o o s e s   v i r t u a l   s e r v e r   .   m a x i m u m   f l e x i b i l i t y   t y p e s   s e r v i c e s   c l u s t e r   s e r v i c e s   s c h e d u l e d  ,   k e e p a l i v e d   s u p p o r t s   s c h e d u l i n g   a l g o r i t h m s   l i s t e d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 3 . 2 .   s e r v e r   w e i g h t   s c h e d u l i n g   a d m i n i s t r a t o r   l o a d   b a l a n c e r   a s s i g n   w e i g h t   n o d e   r e a l   s e r v e r   p o o l   .   w e i g h t   i n t e g e r   v a l u e   f a c t o r e d   w e i g h t - a w a r e   s c h e d u l i n g   a l g o r i t h m s   (  w e i g h t e d   l e a s t - c o n n e c t i o n s  )   h e l p s   l v s   r o u t e r   e v e n l y   l o a d   h a r d w a r e   d i f f e r e n t   c a p a b i l i t i e s   .   w e i g h t s   w o r k   r a t i o   r e l a t i v e   .   i n s t a n c e  ,   r e a l   s e r v e r   w e i g h t   1   s e r v e r   w e i g h t   5  ,   s e r v e r   w e i g h t   5   5   c o n n e c t i o n s   1   c o n n e c t i o n   s e r v e r   .   d e f a u l t   v a l u e   r e a l   s e r v e r   w e i g h t   1 .   a d d i n g   w e i g h t   v a r y i n g   h a r d w a r e   c o n f i g u r a t i o n s   r e a l   s e r v e r   p o o l   l o a d - b a l a n c e   c l u s t e r   e f f i c i e n t l y  ,   t e m p o r a r y   i m b a l a n c e s   r e a l   s e r v e r   i n t r o d u c e d   r e a l   s e r v e r   p o o l   v i r t u a l   s e r v e r   s c h e d u l e d   w e i g h t e d   l e a s t - c o n n e c t i o n s   .  ,   s u p p o s e   s e r v e r s   r e a l   s e r v e r   p o o l   .   s e r v e r s   b   w e i g h t e d   1  ,   s e r v e r  ,   w e i g h t e d   2 .   s e r v e r   r e a s o n  ,   s e r v e r s   b   e v e n l y   d i s t r i b u t e s   a b a n d o n e d   l o a d   .  ,   s e r v e r   b a c k   o n l i n e  ,   l v s   r o u t e r   s e e s   z e r o   c o n n e c t i o n s   f l o o d s   s e r v e r   i n c o m i n g   r e q u e s t s   s e r v e r s   b  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 4 .   r o u t i n g   m e t h o d s   r e d   e n t e r p r i s e   l i n u x   n e t w o r k   a d d r e s s   t r a n s l a t i o n   (  n a t   r o u t i n g  )   d i r e c t   r o u t i n g   k e e p a l i v e d   .   a d m i n i s t r a t o r   t r e m e n d o u s   f l e x i b i l i t y   u t i l i z i n g   a v a i l a b l e   h a r d w a r e   i n t e g r a t i n g   l o a d   b a l a n c e r   e x i s t i n g   n e t w o r k  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 4 . 1 .   n a t   r o u t i n g   f i g u r e   2 . 3  ,   “   l o a d   b a l a n c e r   i m p l e m e n t e d   n a t   r o u t i n g   ”  ,   i l l u s t r a t e s   l o a d   b a l a n c e r   u t i l i z i n g   n a t   r o u t i n g   m o v e   r e q u e s t s   i n t e r n e t   p r i v a t e   n e t w o r k   .   f i g u r e   2 . 3 .   l o a d   b a l a n c e r   i m p l e m e n t e d   n a t   r o u t i n g  ,   n i c s   a c t i v e   l v s   r o u t e r   .   n i c   i n t e r n e t   r e a l   i p   a d d r e s s   f l o a t i n g   i p   a d d r e s s   e t h 0   .   n i c   p r i v a t e   n e t w o r k   i n t e r f a c e   r e a l   i p   a d d r e s s   f l o a t i n g   i p   a d d r e s s   e t h 1   .   e v e n t   f a i l o v e r  ,   v i r t u a l   i n t e r f a c e   f a c i n g   i n t e r n e t   p r i v a t e   f a c i n g   v i r t u a l   i n t e r f a c e   b a c k u p   l v s   r o u t e r   s i m u l t a n e o u s l y   .   r e a l   s e r v e r s   l o c a t e d   p r i v a t e   n e t w o r k   f l o a t i n g   i p   n a t   r o u t e r   d e f a u l t   r o u t e   c o m m u n i c a t e   a c t i v e   l v s   r o u t e r   a b i l i t i e s   r e s p o n d   r e q u e s t s   i n t e r n e t   i m p a i r e d   .  ,   l v s   r o u t e r  ' s   p u b l i c   f l o a t i n g   i p   a d d r e s s   p r i v a t e   n a t   f l o a t i n g   i p   a d d r e s s   a s s i g n e d   p h y s i c a l   n i c s   .   p o s s i b l e   a s s o c i a t e   f l o a t i n g   i p   a d d r e s s   p h y s i c a l   d e v i c e   l v s   r o u t e r   n o d e s  ,   n i c s   r e q u i r e m e n t   .   t o p o l o g y  ,   a c t i v e   l v s   r o u t e r   r e c e i v e s   r e q u e s t   r o u t e s   a p p r o p r i a t e   s e r v e r   .   r e a l   s e r v e r   p r o c e s s e s   r e q u e s t   r e t u r n s   p a c k e t s   l v s   r o u t e r   n e t w o r k   a d d r e s s   t r a n s l a t i o n   r e p l a c e   a d d r e s s   r e a l   s e r v e r   p a c k e t s   l v s   r o u t e r  ' s   p u b l i c   v i p   a d d r e s s   .   p r o c e s s   c a l l e d   i p   m a s q u e r a d i n g   a c t u a l   i p   a d d r e s s e s   r e a l   s e r v e r s   h i d d e n   r e q u e s t i n g   c l i e n t s   .   n a t   r o u t i n g  ,   r e a l   s e r v e r s   k i n d   m a c h i n e   r u n n i n g   o p e r a t i n g   s y s t e m s   .   d i s a d v a n t a g e   l v s   r o u t e r   b o t t l e n e c k   l a r g e   c l u s t e r   d e p l o y m e n t s   p r o c e s s   o u t g o i n g   i n c o m i n g   r e q u e s t s   .   i p v s   m o d u l e s   u t i l i z e   i n t e r n a l   n a t   r o u t i n e s   i n d e p e n d e n t   i p t a b l e s   i p 6 t a b l e s   n a t   .   f a c i l i t a t e   i p v 4   i p v 6   n a t   r e a l   s e r v e r   c o n f i g u r e d   n a t   o p p o s e d   d r   / e t c / k e e p a l i v e d / k e e p a l i v e d . c o n f   f i l e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 4 . 2 .   d i r e c t   r o u t i n g   b u i l d i n g   l o a d   b a l a n c e r   s e t u p   d i r e c t   r o u t i n g   i n c r e a s e d   p e r f o r m a n c e   b e n e f i t s   c o m p a r e d   l o a d   b a l a n c e r   n e t w o r k i n g   t o p o l o g i e s   .   d i r e c t   r o u t i n g   r e a l   s e r v e r s   p r o c e s s   r o u t e   p a c k e t s   d i r e c t l y   r e q u e s t i n g   u s e r   p a s s i n g   o u t g o i n g   p a c k e t s   l v s   r o u t e r   .   d i r e c t   r o u t i n g   r e d u c e s   p o s s i b i l i t y   n e t w o r k   p e r f o r m a n c e   i s s u e s   r e l e g a t i n g   j o b   l v s   r o u t e r   p r o c e s s i n g   i n c o m i n g   p a c k e t s   .   f i g u r e   2 . 4 .   l o a d   b a l a n c e r   i m p l e m e n t e d   d i r e c t   r o u t i n g   t y p i c a l   d i r e c t   r o u t i n g   l o a d   b a l a n c e r   s e t u p  ,   l v s   r o u t e r   r e c e i v e s   i n c o m i n g   s e r v e r   r e q u e s t s   v i r t u a l   i p   (  v i p  )   s c h e d u l i n g   a l g o r i t h m   r o u t e   r e q u e s t   r e a l   s e r v e r s   .   r e a l   s e r v e r   p r o c e s s e s   r e q u e s t   s e n d s   r e s p o n s e   d i r e c t l y   c l i e n t  ,   b y p a s s i n g   l v s   r o u t e r   .   m e t h o d   r o u t i n g   s c a l a b i l i t y   r e a l   s e r v e r s   a d d e d   a d d e d   b u r d e n   l v s   r o u t e r   r o u t e   o u t g o i n g   p a c k e t s   r e a l   s e r v e r   c l i e n t  ,   b o t t l e n e c k   h e a v y   n e t w o r k   l o a d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 4 . 2 . 1 .   d i r e c t   r o u t i n g   a r p   l i m i t a t i o n   a d v a n t a g e s   d i r e c t   r o u t i n g   l o a d   b a l a n c e r  ,   l i m i t a t i o n s   .   c o m m o n   i s s u e   l o a d   b a l a n c e r   d i r e c t   r o u t i n g   a d d r e s s   r e s o l u t i o n   p r o t o c o l   ( )   .   t y p i c a l   s i t u a t i o n s  ,   c l i e n t   i n t e r n e t   s e n d s   r e q u e s t   i p   a d d r e s s   .   n e t w o r k   r o u t e r s   t y p i c a l l y   s e n d   r e q u e s t s   d e s t i n a t i o n   r e l a t i n g   i p   a d d r e s s e s   m a c h i n e  ' s   m a c   a d d r e s s   a r p   .   a r p   r e q u e s t s   b r o a d c a s t   c o n n e c t e d   m a c h i n e s   n e t w o r k  ,   m a c h i n e   c o r r e c t   i p / m a c   a d d r e s s   c o m b i n a t i o n   r e c e i v e s   p a c k e t   .   i p / m a c   a s s o c i a t i o n s   s t o r e d   a r p   c a c h e  ,   c l e a r e d   p e r i o d i c a l l y   (  1 5   m i n u t e s  )   r e f i l l e d   i p / m a c   a s s o c i a t i o n s   .   i s s u e   a r p   r e q u e s t s   d i r e c t   r o u t i n g   l o a d   b a l a n c e r   s e t u p   c l i e n t   r e q u e s t   i p   a d d r e s s   a s s o c i a t e d   m a c   a d d r e s s   r e q u e s t   h a n d l e d  ,   v i r t u a l   i p   a d d r e s s   l o a d   b a l a n c e r   s y s t e m   a s s o c i a t e d   m a c   .  ,   l v s   r o u t e r   r e a l   s e r v e r s   v i p  ,   a r p   r e q u e s t   b r o a d c a s t   m a c h i n e s   a s s o c i a t e d   v i p   .   p r o b l e m s  ,   v i p   a s s o c i a t e d   d i r e c t l y   r e a l   s e r v e r s   p r o c e s s i n g   r e q u e s t s   d i r e c t l y  ,   b y p a s s i n g   l v s   r o u t e r   c o m p l e t e l y   d e f e a t i n g   p u r p o s e   l o a d   b a l a n c e r   s e t u p   .   s o l v e   i s s u e  ,   e n s u r e   i n c o m i n g   r e q u e s t s   l v s   r o u t e r   r e a l   s e r v e r s   .   f i l t e r i n g   a r p   r e q u e s t s   f i l t e r i n g   i p   p a c k e t s   .   a r p   f i l t e r i n g   a r p t a b l e s   u t i l i t y   i p   p a c k e t s   f i l t e r e d   i p t a b l e s   f i r e w a l l d   .   a p p r o a c h e s   d i f f e r  :   a r p   f i l t e r i n g   m e t h o d   b l o c k s   r e q u e s t s   r e a c h i n g   r e a l   s e r v e r s   .   p r e v e n t s   a r p   a s s o c i a t i n g   v i p s   r e a l   s e r v e r s  ,   l e a v i n g   a c t i v e   v i r t u a l   s e r v e r   r e s p o n d   m a c   a d d r e s s e s   .   i p   p a c k e t   f i l t e r i n g   m e t h o d   p e r m i t s   r o u t i n g   p a c k e t s   r e a l   s e r v e r s   i p   a d d r e s s e s   .   c o m p l e t e l y   s i d e s t e p s   a r p   p r o b l e m   c o n f i g u r i n g   v i p s   r e a l   s e r v e r s   p l a c e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 5 .   p e r s i s t e n c e   f i r e w a l l   m a r k s   k e e p a l i v e d   s i t u a t i o n s  ,   d e s i r a b l e   c l i e n t   r e c o n n e c t   r e p e a t e d l y   r e a l   s e r v e r  ,   l o a d   b a l a n c i n g   a l g o r i t h m   s e n d   r e q u e s t   a v a i l a b l e   s e r v e r   .   e x a m p l e s   s i t u a t i o n s   i n c l u d e   m u l t i - s c r e e n   w e b   f o r m s  ,   c o o k i e s  ,   s s l  ,   f t p   c o n n e c t i o n s   .   c a s e s  ,   c l i e n t   w o r k   p r o p e r l y   t r a n s a c t i o n s   h a n d l e d   s e r v e r   r e t a i n   c o n t e x t   .   k e e p a l i v e d   d i f f e r e n t   f e a t u r e s   h a n d l e  :   p e r s i s t e n c e   f i r e w a l l   m a r k s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 5 . 1 .   p e r s i s t e n c e   e n a b l e d  ,   p e r s i s t e n c e   a c t s   t i m e r   .   c l i e n t   c o n n e c t s   s e r v i c e  ,   l o a d   b a l a n c e r   r e m e m b e r s   c o n n e c t i o n   s p e c i f i e d   p e r i o d   t i m e   .   c l i e n t   i p   a d d r e s s   c o n n e c t s   p e r i o d  ,   s e r v e r   c o n n e c t e d   p r e v i o u s l y   —   b y p a s s i n g   l o a d - b a l a n c i n g   m e c h a n i s m s   .   c o n n e c t i o n   o c c u r s   t i m e   w i n d o w  ,   h a n d l e d   s c h e d u l i n g   r u l e s   p l a c e   .   p e r s i s t e n c e   a d m i n i s t r a t o r   s p e c i f y   s u b n e t   m a s k   a p p l y   c l i e n t   i p   a d d r e s s   t e s t   t o o l   c o n t r o l l i n g   a d d r e s s e s   h i g h e r   l e v e l   p e r s i s t e n c e  ,   g r o u p i n g   c o n n e c t i o n s   s u b n e t   .   g r o u p i n g   c o n n e c t i o n s   d e s t i n e d   d i f f e r e n t   p o r t s   i m p o r t a n t   p r o t o c o l s   p o r t   c o m m u n i c a t e  ,   f t p   .  ,   p e r s i s t e n c e   e f f i c i e n t   d e a l   p r o b l e m   g r o u p i n g   c o n n e c t i o n s   d e s t i n e d   d i f f e r e n t   p o r t s   .   s i t u a t i o n s  ,   f i r e w a l l   m a r k s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2 . 5 . 2 .   f i r e w a l l   m a r k s   f i r e w a l l   m a r k s   e a s y   e f f i c i e n t   g r o u p   p o r t s   p r o t o c o l   g r o u p   r e l a t e d   p r o t o c o l s   .   i n s t a n c e  ,   l o a d   b a l a n c e r   d e p l o y e d   r u n   e - c o m m e r c e   s i t e  ,   f i r e w a l l   m a r k s   b u n d l e   h t t p   c o n n e c t i o n s   p o r t   8 0   s e c u r e  ,   h t t p s   c o n n e c t i o n s   p o r t   4 4 3 .   a s s i g n i n g   f i r e w a l l   m a r k   v i r t u a l   s e r v e r   p r o t o c o l  ,   s t a t e   i n f o r m a t i o n   t r a n s a c t i o n   p r e s e r v e d   l v s   r o u t e r   f o r w a r d s   r e q u e s t s   r e a l   s e r v e r   c o n n e c t i o n   o p e n e d   .   e f f i c i e n c y   e a s e - o f - u s e  ,   a d m i n i s t r a t o r s   l o a d   b a l a n c e r   f i r e w a l l   m a r k s   i n s t e a d   p e r s i s t e n c e   p o s s i b l e   g r o u p i n g   c o n n e c t i o n s   .  ,   a d m i n i s t r a t o r s   a d d   p e r s i s t e n c e   v i r t u a l   s e r v e r s   c o n j u n c t i o n   f i r e w a l l   m a r k s   e n s u r e   c l i e n t s   r e c o n n e c t e d   s e r v e r   a d e q u a t e   p e r i o d   t i m e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   3 .   s e t t i n g   l o a d   b a l a n c e r   p r e r e q u i s i t e s   k e e p a l i v e d   l o a d   b a l a n c e r   k e e p a l i v e d   c o n s i s t s   b a s i c   g r o u p s  :   l v s   r o u t e r s   r e a l   s e r v e r s   .   p r e v e n t   s i n g l e   p o i n t   f a i l u r e  ,   g r o u p   m e m b e r s   .   l v s   r o u t e r   g r o u p   c o n s i s t   i d e n t i c a l   s i m i l a r   s y s t e m s   r u n n i n g   r e d   e n t e r p r i s e   l i n u x   .   a c t   a c t i v e   l v s   r o u t e r   s t a y s   h o t   s t a n d b y  ,   c l o s e   c a p a b i l i t i e s   p o s s i b l e   .   c h o o s i n g   c o n f i g u r i n g   h a r d w a r e   r e a l   s e r v e r   g r o u p  ,   d e t e r m i n e   l o a d   b a l a n c e r   t o p o l o g i e s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 1 .   n a t   l o a d   b a l a n c e r   n e t w o r k   n a t   t o p o l o g y   g r e a t   l a t i t u d e   u t i l i z i n g   e x i s t i n g   h a r d w a r e  ,   l i m i t e d   a b i l i t y   h a n d l e   l a r g e   l o a d s   p a c k e t s   c o m i n g   p o o l   p a s s   l o a d   b a l a n c e r   r o u t e r  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 1 . 1 .   c o n f i g u r i n g   n e t w o r k   i n t e r f a c e s   l o a d   b a l a n c e r   n a t   s e t   l o a d   b a l a n c e r   n a t  ,   c o n f i g u r e   n e t w o r k   i n t e r f a c e s   p u b l i c   n e t w o r k   p r i v a t e   n e t w o r k   l v s   r o u t e r s   .  ,   l v s   r o u t e r s  '   p u b l i c   i n t e r f a c e s   (  e t h 0  )   2 0 3 . 0 . 1 1 3 . 0 / 2 4   n e t w o r k   p r i v a t e   i n t e r f a c e s   l i n k   r e a l   s e r v e r s   (  e t h 1  )   1 0 . 1 1 . 1 2 . 0 / 2 4   n e t w o r k   .   i m p o r t a n t   a c t i v e   p r i m a r y   l v s   r o u t e r   n o d e  ,   p u b l i c   i n t e r f a c e  ' s   n e t w o r k   c o n f i g u r a t i o n   f i l e  ,   / e t c / s y s c o n f i g / n e t w o r k - s c r i p t s / i f c f g - e t h 0  ,  :   d e v i c e = e t h 0   b o o t p r o t o = s t a t i c   o n b o o t = y e s   i p a d d r = 2 0 3 . 0 . 1 1 3 . 9   n e t m a s k = 2 5 5 . 2 5 5 . 2 5 5 . 0   g a t e w a y = 2 0 3 . 0 . 1 1 3 . 2 5 4   c o n f i g u r a t i o n   f i l e  ,   / e t c / s y s c o n f i g / n e t w o r k - s c r i p t s / i f c f g - e t h 1  ,   p r i v a t e   n a t   i n t e r f a c e   l v s   r o u t e r  :   d e v i c e = e t h 1   b o o t p r o t o = s t a t i c   o n b o o t = y e s   i p a d d r = 1 0 . 1 1 . 1 2 . 9   n e t m a s k = 2 5 5 . 2 5 5 . 2 5 5 . 0   v i p   a d d r e s s   d i f f e r e n t   s t a t i c   a d d r e s s   r a n g e   .  ,   v i p   l v s   r o u t e r  ' s   p u b l i c   i n t e r f a c e   c o n f i g u r e d   2 0 3 . 0 . 1 1 3 . 1 0   v i p   p r i v a t e   i n t e r f a c e   1 0 . 1 1 . 1 2 . 1 0 .   v i p   a d d r e s s e s   s e t   v i r t u a l _ i p a d d r e s s   o p t i o n   / e t c / k e e p a l i v e d / k e e p a l i v e d . c o n f   f i l e   .   i n f o r m a t i o n  ,   s e c t i o n   4 . 1  ,   “   b a s i c   k e e p a l i v e d   c o n f i g u r a t i o n   ”   .   e n s u r e   r e a l   s e r v e r s   r o u t e   r e q u e s t s   b a c k   v i p   n a t   i n t e r f a c e   .   i m p o r t a n t   c o n f i g u r i n g   p r i m a r y   l v s   r o u t e r   n o d e  ' s   n e t w o r k   i n t e r f a c e s  ,   c o n f i g u r e   b a c k u p   l v s   r o u t e r  ' s   r e a l   n e t w o r k   i n t e r f a c e s   (  t a k i n g   i p   a d d r e s s   c o n f l i c t   i p   a d d r e s s e s   n e t w o r k  )   .   i m p o r t a n t
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 1 . 2 .   r o u t i n g   r e a l   s e r v e r s   i m p o r t a n t   r e m e m b e r   c o n f i g u r i n g   r e a l   s e r v e r s   n e t w o r k   i n t e r f a c e s   n a t   t o p o l o g y   s e t   g a t e w a y   n a t   f l o a t i n g   i p   a d d r e s s   l v s   r o u t e r   .  ,   a d d r e s s   1 0 . 1 1 . 1 2 . 1 0 .   n o t e   r e a l   s e r v e r  ' s   c o n f i g u r a t i o n   f i l e  ,   / e t c / s y s c o n f i g / n e t w o r k - s c r i p t s / i f c f g - e t h 0  ,   f i l e   s i m i l a r  :   d e v i c e = e t h 0   o n b o o t = y e s   b o o t p r o t o = s t a t i c   i p a d d r = 1 0 . 1 1 . 1 2 . 1   n e t m a s k = 2 5 5 . 2 5 5 . 2 5 5 . 0   g a t e w a y = 1 0 . 1 1 . 1 2 . 1 0   w a r n i n g
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 1 . 3 .   e n a b l i n g   n a t   r o u t i n g   l v s   r o u t e r s   s i m p l e   n a t   l o a d   b a l a n c e r   c o n f i g u r a t i o n   c l u s t e r e d   s e r v i c e   p o r t  ,   h t t p   p o r t   8 0  ,   a d m i n i s t r a t o r   e n a b l e   p a c k e t   f o r w a r d i n g   l v s   r o u t e r s   r e q u e s t s   p r o p e r l y   r o u t e d   w o r l d   r e a l   s e r v e r s   .  ,   c o n f i g u r a t i o n   c l u s t e r e d   s e r v i c e s   r e q u i r e   p o r t   r e a l   s e r v e r   u s e r   s e s s i o n   .   f o r w a r d i n g   e n a b l e d   l v s   r o u t e r s   r e a l   s e r v e r s   s e t   c l u s t e r e d   s e r v i c e s   r u n n i n g  ,   k e e p a l i v e d   c o n f i g u r e   i p   i n f o r m a t i o n   .   w a r n i n g   f i n i s h e d  ,   s t a r t   k e e p a l i v e d   s e r v i c e   .   r u n n i n g  ,   a c t i v e   l v s   r o u t e r   b e g i n   r o u t i n g   r e q u e s t s   p o o l   r e a l   s e r v e r s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 2 .   l o a d   b a l a n c e r   d i r e c t   r o u t i n g   d i r e c t   r o u t i n g   r e a l   s e r v e r s   p r o c e s s   r o u t e   p a c k e t s   d i r e c t l y   r e q u e s t i n g   u s e r   p a s s i n g   o u t g o i n g   p a c k e t s   l v s   r o u t e r   .   d i r e c t   r o u t i n g   r e q u i r e s   r e a l   s e r v e r s   p h y s i c a l l y   c o n n e c t e d   n e t w o r k   s e g m e n t   l v s   r o u t e r   p r o c e s s   d i r e c t   o u t g o i n g   p a c k e t s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 2 . 1 .   d i r e c t   r o u t i n g   a r p t a b l e s   o r d e r   c o n f i g u r e   d i r e c t   r o u t i n g   a r p t a b l e s  ,   r e a l   s e r v e r   v i r t u a l   i p   a d d r e s s   c o n f i g u r e d  ,   d i r e c t l y   r o u t e   p a c k e t s   .   a r p   r e q u e s t s   v i p   i g n o r e d   e n t i r e l y   r e a l   s e r v e r s  ,   a r p   p a c k e t s   c o n t a i n i n g   v i p s   m a n g l e d   c o n t a i n   r e a l   s e r v e r  ' s   i p   i n s t e a d   v i p s   .   a r p t a b l e s   m e t h o d  ,   a p p l i c a t i o n s   b i n d   i n d i v i d u a l   v i p   p o r t   r e a l   s e r v e r   s e r v i c i n g   .  ,   a r p t a b l e s   m e t h o d   m u l t i p l e   i n s t a n c e s   a p a c h e   h t t p   s e r v e r   r u n n i n g   b o u n d   e x p l i c i t l y   d i f f e r e n t   v i p s   s y s t e m   .  ,   a r p t a b l e s   m e t h o d  ,   v i p s   c o n f i g u r e d   s t a r t   b o o t   s t a n d a r d   r e d   e n t e r p r i s e   l i n u x   s y s t e m   c o n f i g u r a t i o n   t o o l s   .   c o n f i g u r e   r e a l   s e r v e r   i g n o r e   a r p   r e q u e s t s   v i r t u a l   i p   a d d r e s s e s  ,   p e r f o r m   s t e p s  :   c r e a t e   a r p   t a b l e   e n t r i e s   v i r t u a l   i p   a d d r e s s   r e a l   s e r v e r   (  r e a l _ i p   i p   d i r e c t o r   c o m m u n i c a t e   r e a l   s e r v e r  ;   i p   b o u n d   e t h 0  )  :   a r p t a b l e s   - a   - d   <  v i r t u a l _ i p  >   - j   d r o p   a r p t a b l e s   - a   - s   <  v i r t u a l _ i p  >   - j   m a n g l e   - -   m a n g l e - i p - s   <  r e a l _ i p  >   r e a l   s e r v e r s   i g n o r e   a r p   r e q u e s t s   v i r t u a l   i p   a d d r e s s e s  ,   c h a n g e   o u t g o i n g   a r p   r e s p o n s e s   c o n t a i n   v i r t u a l   i p   c o n t a i n   r e a l   i p   s e r v e r   i n s t e a d   .   n o d e   r e s p o n d   a r p   r e q u e s t s   v i p s   c u r r e n t   a c t i v e   l v s   n o d e   .   c o m p l e t e d   r e a l   s e r v e r  ,   s a v e   a r p   t a b l e   e n t r i e s   t y p i n g   c o m m a n d s   r e a l   s e r v e r  :   a r p t a b l e s - s a v e  >   / e t c / s y s c o n f i g / a r p t a b l e s   s y s t e m c t l   e n a b l e   a r p t a b l e s . s e r v i c e   s y s t e m c t l   e n a b l e   c o m m a n d   s y s t e m   r e l o a d   a r p t a b l e s   c o n f i g u r a t i o n   b o o t u p   n e t w o r k   s t a r t e d   .   c o n f i g u r e   v i r t u a l   i p   a d d r e s s   r e a l   s e r v e r s   i p   a d d r   c r e a t e   i p   a l i a s   .  :   #  i p   a d d r   a d d   1 9 2 . 1 6 8 . 7 6 . 2 4   d e v   e t h 0   c o n f i g u r e   k e e p a l i v e d   d i r e c t   r o u t i n g   .   a d d i n g   l b _ k i n d   d r   k e e p a l i v e d . c o n f   f i l e   .   r e f e r   c h a p t e r   4  ,   i n i t i a l   l o a d   b a l a n c e r   c o n f i g u r a t i o n   k e e p a l i v e d   i n f o r m a t i o n  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 2 . 2 .   d i r e c t   r o u t i n g   f i r e w a l l d   w o r k   a r p   i s s u e   d i r e c t   r o u t i n g   m e t h o d   c r e a t i n g   f i r e w a l l   r u l e s   f i r e w a l l d   .   c o n f i g u r e   d i r e c t   r o u t i n g   f i r e w a l l d  ,   a d d   r u l e s   c r e a t e   t r a n s p a r e n t   p r o x y   r e a l   s e r v e r   s e r v i c e   p a c k e t s   v i p   a d d r e s s  ,   v i p   a d d r e s s   e x i s t   s y s t e m   .   f i r e w a l l d   m e t h o d   s i m p l e r   c o n f i g u r e   a r p t a b l e s   m e t h o d   .   m e t h o d   c i r c u m v e n t s   l v s   a r p   i s s u e   e n t i r e l y  ,   v i r t u a l   i p   a d d r e s s   a d d r e s s e s   e x i s t   a c t i v e   l v s   d i r e c t o r   .  ,   p e r f o r m a n c e   i s s u e s   f i r e w a l l d   m e t h o d   c o m p a r e d   a r p t a b l e s  ,   o v e r h e a d   f o r w a r d i n g   r e t u r n   p a c k e t   .   r e u s e   p o r t s   f i r e w a l l d   m e t h o d   .  ,   p o s s i b l e   r u n   s e p a r a t e   a p a c h e   h t t p   s e r v e r   s e r v i c e s   b o u n d   p o r t   8 0  ,   b i n d   i n a d d r _ a n y   i n s t e a d   v i r t u a l   i p   a d d r e s s e s   .   c o n f i g u r e   d i r e c t   r o u t i n g   f i r e w a l l d   m e t h o d  ,   p e r f o r m   s t e p s   r e a l   s e r v e r  :   e n s u r e   f i r e w a l l d   r u n n i n g   .   #  s y s t e m c t l   s t a r t   f i r e w a l l d   e n s u r e   f i r e w a l l d   e n a b l e d   s t a r t   s y s t e m   s t a r t   .   #  s y s t e m c t l   e n a b l e   f i r e w a l l d   e n t e r   c o m m a n d   v i p  ,   p o r t  ,   p r o t o c o l   (  t c p   u d p  )   c o m b i n a t i o n   i n t e n d e d   s e r v i c e d   r e a l   s e r v e r   .   c o m m a n d   r e a l   s e r v e r s   p r o c e s s   p a c k e t s   d e s t i n e d   v i p   p o r t   .   #  f i r e w a l l - c m d   - -   p e r m a n e n t   - -   d i r e c t   - -   a d d - r u l e   i p v 4   n a t   p r e r o u t i n g   0   - d   v i p   - p   t c p | u d p   - m   t c p | u d p   - -   d p o r t   p o r t   - j   r e d i r e c t   r e l o a d   f i r e w a l l   r u l e s   s t a t e   i n f o r m a t i o n   .   #  f i r e w a l l - c m d   - -   r e l o a d   c u r r e n t   p e r m a n e n t   c o n f i g u r a t i o n   f i r e w a l l d   r u n t i m e   c o n f i g u r a t i o n   c o n f i g u r a t i o n   s y s t e m   s t a r t  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 2 . 3 .   d i r e c t   r o u t i n g   i p t a b l e s   w o r k   a r p   i s s u e   d i r e c t   r o u t i n g   m e t h o d   c r e a t i n g   i p t a b l e s   f i r e w a l l   r u l e s   .   c o n f i g u r e   d i r e c t   r o u t i n g   i p t a b l e s  ,   a d d   r u l e s   c r e a t e   t r a n s p a r e n t   p r o x y   r e a l   s e r v e r   s e r v i c e   p a c k e t s   v i p   a d d r e s s  ,   v i p   a d d r e s s   e x i s t   s y s t e m   .   i p t a b l e s   m e t h o d   s i m p l e r   c o n f i g u r e   a r p t a b l e s   m e t h o d   .   m e t h o d   c i r c u m v e n t s   l v s   a r p   i s s u e   e n t i r e l y  ,   v i r t u a l   i p   a d d r e s s   ( )   e x i s t   a c t i v e   l v s   d i r e c t o r   .  ,   p e r f o r m a n c e   i s s u e s   i p t a b l e s   m e t h o d   c o m p a r e d   a r p t a b l e s  ,   o v e r h e a d   f o r w a r d i n g / m a s q u e r a d i n g   p a c k e t   .   r e u s e   p o r t s   i p t a b l e s   m e t h o d   .  ,   p o s s i b l e   r u n   s e p a r a t e   a p a c h e   h t t p   s e r v e r   s e r v i c e s   b o u n d   p o r t   8 0  ,   b i n d   i n a d d r _ a n y   i n s t e a d   v i r t u a l   i p   a d d r e s s e s   .   c o n f i g u r e   d i r e c t   r o u t i n g   i p t a b l e s   m e t h o d  ,   p e r f o r m   s t e p s  :   r e a l   s e r v e r  ,   e n t e r   c o m m a n d   v i p  ,   p o r t  ,   p r o t o c o l   (  t c p   u d p  )   c o m b i n a t i o n   i n t e n d e d   s e r v i c e d   r e a l   s e r v e r  :   i p t a b l e s   - t   n a t   - a   p r e r o u t i n g   - p   <  t c p | u d p  >   - d   <  v i p  >   - -   d p o r t   <  p o r t  >   - j   r e d i r e c t   c o m m a n d   r e a l   s e r v e r s   p r o c e s s   p a c k e t s   d e s t i n e d   v i p   p o r t   .   s a v e   c o n f i g u r a t i o n   r e a l   s e r v e r  :   #  i p t a b l e s - s a v e  >   / e t c / s y s c o n f i g / i p t a b l e s   #  s y s t e m c t l   e n a b l e   i p t a b l e s . s e r v i c e   s y s t e m c t l   e n a b l e   c o m m a n d   s y s t e m   r e l o a d   i p t a b l e s   c o n f i g u r a t i o n   b o o t u p   n e t w o r k   s t a r t e d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 2 . 4 .   d i r e c t   r o u t i n g   s y s c t l   d e a l   a r p   l i m i t a t i o n   e m p l o y i n g   d i r e c t   r o u t i n g   s y s c t l   i n t e r f a c e   .   a d m i n i s t r a t o r s   c o n f i g u r e   s y s t c l   s e t t i n g s   r e a l   s e r v e r   a n n o u n c e   v i p   a r p   r e q u e s t s   r e p l y   a r p   r e q u e s t s   v i p   a d d r e s s   .   e n a b l e  ,   e n t e r   c o m m a n d s  :   e c h o   1  >   / p r o c / s y s / n e t / i p v 4 / c o n f / e t h 0 / a r p _ i g n o r e   e c h o   2  >   / p r o c / s y s / n e t / i p v 4 / c o n f / e t h 0 / a r p _ a n n o u n c e   a l t e r n a t i v e l y  ,   a d d   l i n e s   / e t c / s y s c t l . d / a r p . c o n f   f i l e  :   n e t . i p v 4 . c o n f . e t h 0 . a r p _ i g n o r e   =   1   n e t . i p v 4 . c o n f . e t h 0 . a r p _ a n n o u n c e   =   2
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 3 .   p u t t i n g   c o n f i g u r a t i o n   d e t e r m i n i n g   p r e c e d i n g   r o u t i n g   m e t h o d s  ,   h a r d w a r e   c o n n e c t e d   c o n f i g u r e d   .   i m p o r t a n t   c o n n e c t i n g   h a r d w a r e   n e t w o r k  ,   c o n f i g u r e   n e t w o r k   i n t e r f a c e s   p r i m a r y   b a c k u p   l v s   r o u t e r s   .   e d i t i n g   n e t w o r k   c o n f i g u r a t i o n   f i l e s   m a n u a l l y   .   i n f o r m a t i o n   w o r k i n g   n e t w o r k   c o n f i g u r a t i o n   f i l e s  ,   r e d   e n t e r p r i s e   l i n u x   7   n e t w o r k i n g   g u i d e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 3 . 1 .   g e n e r a l   l o a d   b a l a n c e r   n e t w o r k i n g   t i p s   c o n f i g u r e   r e a l   i p   a d d r e s s e s   p u b l i c   p r i v a t e   n e t w o r k s   l v s   r o u t e r s   a t t e m p t i n g   c o n f i g u r e   l o a d   b a l a n c e r   k e e p a l i v e d   .   s e c t i o n s   t o p o l o g y   g i v e   n e t w o r k   a d d r e s s e s  ,   a c t u a l   n e t w o r k   a d d r e s s e s   n e e d e d   .   c o m m a n d s   b r i n g i n g   n e t w o r k   i n t e r f a c e s   c h e c k i n g   s t a t u s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 3 . 2 .   f i r e w a l l   r e q u i r e m e n t s   r u n n i n g   f i r e w a l l   (  m e a n s   f i r e w a l l d   i p t a b l e s  )  ,   v r r p   t r a f f i c   p a s s   k e e p a l i v e d   n o d e s   .   c o n f i g u r e   f i r e w a l l   v r r p   t r a f f i c   f i r e w a l l d  ,   r u n   c o m m a n d s  :   #  f i r e w a l l - c m d   - -   a d d - r i c h - r u l e =' r u l e   p r o t o c o l   v a l u e =  ' '   v r r p  ' '   a c c e p t  '   - -   p e r m a n e n t   #  f i r e w a l l - c m d   - -   r e l o a d   z o n e   o m i t t e d   d e f a u l t   z o n e   .  ,  ,   v r r p   t r a f f i c   i p t a b l e s  ,   r u n   c o m m a n d s  :   #  i p t a b l e s   - i   i n p u t   - p   v r r p   - j   a c c e p t   #  i p t a b l e s - s a v e  >   / e t c / s y s c o n f i g / i p t a b l e s   #  s y s t e m c t l   r e s t a r t   i p t a b l e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 .   m u l t i - p o r t   s e r v i c e s   l o a d   b a l a n c e r   l v s   r o u t e r s   t o p o l o g y   r e q u i r e   e x t r a   c o n f i g u r a t i o n   c r e a t i n g   m u l t i - p o r t   l o a d   b a l a n c e r   s e r v i c e s   .   m u l t i - p o r t   s e r v i c e s   c r e a t e d   a r t i f i c i a l l y   f i r e w a l l   m a r k s   b u n d l e   d i f f e r e n t  ,   r e l a t e d   p r o t o c o l s  ,   h t t p   (  p o r t   8 0  )   h t t p s   (  p o r t   4 4 3  )  ,   l o a d   b a l a n c e r   m u l t i - p o r t   p r o t o c o l s  ,   f t p   .   c a s e  ,   l v s   r o u t e r   f i r e w a l l   m a r k s   r e c o g n i z e   p a c k e t s   d e s t i n e d   d i f f e r e n t   p o r t s  ,   b e a r i n g   f i r e w a l l   m a r k  ,   h a n d l e d   i d e n t i c a l l y   .  ,   c o m b i n e d   p e r s i s t e n c e  ,   f i r e w a l l   m a r k s   e n s u r e   c o n n e c t i o n s   c l i e n t   m a c h i n e   r o u t e d   h o s t  ,   l o n g   c o n n e c t i o n s   o c c u r   l e n g t h   t i m e   s p e c i f i e d   p e r s i s t e n c e   p a r a m e t e r   .   m e c h a n i s m   b a l a n c e   l o a d s   r e a l   s e r v e r s  ,   i p v s  ,   r e c o g n i z e   f i r e w a l l   m a r k s   a s s i g n e d   p a c k e t  ,   a s s i g n   f i r e w a l l   m a r k s   .   j o b   a s s i g n i n g   f i r e w a l l   m a r k s   p e r f o r m e d   n e t w o r k   p a c k e t   f i l t e r  ,   i p t a b l e s   .   d e f a u l t   f i r e w a l l   a d m i n i s t r a t i o n   t o o l   r e d   e n t e r p r i s e   l i n u x   7   f i r e w a l l d  ,   c o n f i g u r e   i p t a b l e s   .   p r e f e r r e d  ,   i p t a b l e s   d i r e c t l y   .   r e d   e n t e r p r i s e   l i n u x   7   s e c u r i t y   g u i d e   i n f o r m a t i o n   w o r k i n g   i p t a b l e s   r e d   e n t e r p r i s e   l i n u x   7  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 . 1 .   a s s i g n i n g   f i r e w a l l   m a r k s   f i r e w a l l d   a s s i g n   f i r e w a l l   m a r k s   p a c k e t   d e s t i n e d   p a r t i c u l a r   p o r t  ,   a d m i n i s t r a t o r   f i r e w a l l d  ' s   f i r e w a l l - c m d   u t i l i t y   .   r e q u i r e d  ,   c o n f i r m   f i r e w a l l d   r u n n i n g  :   #  s y s t e m c t l   s t a t u s   f i r e w a l l d   f i r e w a l l d . s e r v i c e   -   f i r e w a l l d   -   d y n a m i c   f i r e w a l l   d a e m o n   l o a d e d  :   l o a d e d   (  / u s r / l i b / s y s t e m d / s y s t e m / f i r e w a l l d . s e r v i c e  ;   e n a b l e d  )   a c t i v e  :   a c t i v e   (  r u n n i n g  )   2 0 1 6 - 0 1 - 2 6   0 5: 2 3: 5 3  ;   7 h   a g o   s t a r t   f i r e w a l l d  ,   e n t e r  :   #  s y s t e m c t l   s t a r t   f i r e w a l l d   e n s u r e   f i r e w a l l d   e n a b l e d   s t a r t   s y s t e m   s t a r t  :   #  s y s t e m c t l   e n a b l e   f i r e w a l l d   s e c t i o n   i l l u s t r a t e s   b u n d l e   h t t p   h t t p s  ;  ,   f t p   c o m m o n l y   c l u s t e r e d   m u l t i - p o r t   p r o t o c o l   .   b a s i c   r u l e   r e m e m b e r   f i r e w a l l   m a r k s   p r o t o c o l   f i r e w a l l   m a r k   k e e p a l i v e d   c o m m e n s u r a t e   f i r e w a l l   r u l e   a s s i g n   m a r k s   n e t w o r k   p a c k e t s   .   c r e a t i n g   n e t w o r k   p a c k e t   f i l t e r   r u l e s  ,   m a k e   r u l e s   p l a c e   .  ,   o p e n   s h e l l   p r o m p t  ,   l o g i n   r o o t  ,   e n t e r   c o m m a n d  :   #  f i r e w a l l - c m d   - -   l i s t - r i c h - r u l e s   r i c h   r u l e s   p r e s e n t   p r o m p t   i n s t a n t l y   r e a p p e a r   .   f i r e w a l l d   a c t i v e   r i c h   r u l e s   p r e s e n t  ,   d i s p l a y s   s e t   r u l e s   .   r u l e s   p l a c e   i m p o r t a n t  ,   c h e c k   c o n t e n t s   / e t c / f i r e w a l l d / z o n e s /   c o p y   r u l e s   w o r t h   k e e p i n g   s a f e   p l a c e   p r o c e e d i n g   .   d e l e t e   u n w a n t e d   r i c h   r u l e s   c o m m a n d   f o r m a t  :   f i r e w a l l - c m d   - -   z o n e = z o n e   - -   r e m o v e - r i c h - r u l e =' r u l e  '   - -   p e r m a n e n t   - -   p e r m a n e n t   o p t i o n   m a k e s   s e t t i n g   p e r s i s t e n t  ,   c o m m a n d   e f f e c t   s y s t e m   s t a r t   .   r e q u i r e d   m a k e   s e t t i n g   e f f e c t   i m m e d i a t e l y  ,   r e p e a t   c o m m a n d   o m i t t i n g   - -   p e r m a n e n t   o p t i o n   .   l o a d   b a l a n c e r   r e l a t e d   f i r e w a l l   r u l e   c o n f i g u r e d   v r r p   t r a f f i c   k e e p a l i v e d   s e r v i c e   f u n c t i o n   .   e n t e r   c o m m a n d  :   #  f i r e w a l l - c m d   - -   a d d - r i c h - r u l e =' r u l e   p r o t o c o l   v a l u e =  ' '   v r r p  ' '   a c c e p t  '   - -   p e r m a n e n t   z o n e   o m i t t e d   d e f a u l t   z o n e   .   r u l e s   a s s i g n   f i r e w a l l   m a r k  ,   8 0  ,   i n c o m i n g   t r a f f i c   d e s t i n e d   f l o a t i n g   i p   a d d r e s s  ,   n . n . n . n  ,   p o r t s   8 0   4 4 3   .   #  f i r e w a l l - c m d   - -   a d d - r i c h - r u l e =' r u l e   f a m i l y =  ' '   i p v 4  ' '   d e s t i n a t i o n   a d d r e s s =  ' '   n . n . n . n / 3 2  ' '   p o r t   p o r t =  ' '   8 0  ' '   p r o t o c o l =  ' '   t c p  ' '   m a r k   s e t =  ' '   8 0  ' '  '   - -   p e r m a n e n t   #  f i r e w a l l - c m d   - -   a d d - r i c h - r u l e =' r u l e   f a m i l y =  ' '   i p v 4  ' '   d e s t i n a t i o n   a d d r e s s =  ' '   n . n . n . n / 3 2  ' '   p o r t   p o r t =  ' '   4 4 3  ' '   p r o t o c o l =  ' '   t c p  ' '   m a r k   s e t =  ' '   8 0  ' '  '   - -   p e r m a n e n t   #  f i r e w a l l - c m d   - -   r e l o a d   s u c c e s s   #  f i r e w a l l - c m d   - -   l i s t - r i c h - r u l e s   r u l e   p r o t o c o l   v a l u e =  ' '   v r r p  ' '   a c c e p t   r u l e   f a m i l y =  ' '   i p v 4  ' '   d e s t i n a t i o n   a d d r e s s =  ' '   n . n . n . n / 3 2  ' '   p o r t   p o r t =  ' '   8 0  ' '   p r o t o c o l =  ' '   t c p  ' '   m a r k   s e t = 8 0   r u l e   f a m i l y =  ' '   i p v 4  ' '   d e s t i n a t i o n   a d d r e s s =  ' '   n . n . n . n / 3 2  ' '   p o r t   p o r t =  ' '   4 4 3  ' '   p r o t o c o l =  ' '   t c p  ' '   m a r k   s e t = 8 0   z o n e   o m i t t e d   d e f a u l t   z o n e   .   r e d   e n t e r p r i s e   l i n u x   7   s e c u r i t y   g u i d e   i n f o r m a t i o n   f i r e w a l l d  ' s   r i c h   l a n g u a g e   c o m m a n d s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 4 . 2 .   a s s i g n i n g   f i r e w a l l   m a r k s   i p t a b l e s   a s s i g n   f i r e w a l l   m a r k s   p a c k e t   d e s t i n e d   p a r t i c u l a r   p o r t  ,   a d m i n i s t r a t o r   i p t a b l e s   .   s e c t i o n   i l l u s t r a t e s   b u n d l e   h t t p   h t t p s  ;  ,   f t p   c o m m o n l y   c l u s t e r e d   m u l t i - p o r t   p r o t o c o l   .   b a s i c   r u l e   r e m e m b e r   f i r e w a l l   m a r k s   p r o t o c o l   f i r e w a l l   m a r k   k e e p a l i v e d   c o m m e n s u r a t e   f i r e w a l l   r u l e   a s s i g n   m a r k s   n e t w o r k   p a c k e t s   .   c r e a t i n g   n e t w o r k   p a c k e t   f i l t e r   r u l e s  ,   m a k e   r u l e s   p l a c e   .  ,   o p e n   s h e l l   p r o m p t  ,   l o g i n   r o o t  ,   e n t e r   c o m m a n d  :   / u s r / s b i n / s e r v i c e   i p t a b l e s   s t a t u s   i p t a b l e s   r u n n i n g  ,   p r o m p t   i n s t a n t l y   r e a p p e a r   .   i p t a b l e s   a c t i v e  ,   d i s p l a y s   s e t   r u l e s   .   r u l e s   p r e s e n t  ,   e n t e r   c o m m a n d  :   / s b i n / s e r v i c e   i p t a b l e s   s t o p   r u l e s   p l a c e   i m p o r t a n t  ,   c h e c k   c o n t e n t s   / e t c / s y s c o n f i g / i p t a b l e s   c o p y   r u l e s   w o r t h   k e e p i n g   s a f e   p l a c e   p r o c e e d i n g   .   l o a d   b a l a n c e r   r e l a t e d   c o n f i g u r i n g   f i r e w a l l   r u l e s   v r r p   t r a f f i c   k e e p a l i v e d   s e r v i c e   f u n c t i o n   .   / u s r / s b i n / i p t a b l e s   - i   i n p u t   - p   v r r p   - j   a c c e p t   r u l e s   a s s i g n   f i r e w a l l   m a r k  ,   8 0  ,   i n c o m i n g   t r a f f i c   d e s t i n e d   f l o a t i n g   i p   a d d r e s s  ,   n . n . n . n  ,   p o r t s   8 0   4 4 3   .   / u s r / s b i n / i p t a b l e s   - t   m a n g l e   - a   p r e r o u t i n g   - p   t c p   - d   n . n . n . n / 3 2   - m   m u l t i p o r t   - -   d p o r t s   8 0, 4 4 3   - j   m a r k   - -   s e t - m a r k   8 0   n o t e   r o o t   l o a d   m o d u l e   i p t a b l e s   i s s u i n g   r u l e s   t i m e   .   i p t a b l e s   c o m m a n d s  ,   n . n . n . n   r e p l a c e d   f l o a t i n g   i p   h t t p   h t t p s   v i r t u a l   s e r v e r s   .   c o m m a n d s   n e t   e f f e c t   a s s i g n i n g   t r a f f i c   a d d r e s s e d   v i p   a p p r o p r i a t e   p o r t s   f i r e w a l l   m a r k   8 0  ,   t u r n   r e c o g n i z e d   i p v s   f o r w a r d e d   a p p r o p r i a t e l y   .   w a r n i n g
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 .   c o n f i g u r i n g   f t p   f i l e   t r a n s p o r t   p r o t o c o l   (  f t p  )   c o m p l e x   m u l t i - p o r t   p r o t o c o l   p r e s e n t s   d i s t i n c t   s e t   c h a l l e n g e s   l o a d   b a l a n c e r   e n v i r o n m e n t   .   u n d e r s t a n d   n a t u r e   c h a l l e n g e s  ,   u n d e r s t a n d   k e y   t h i n g s   f t p   w o r k s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 1 .   f t p   w o r k s   s e r v e r   c l i e n t   r e l a t i o n s h i p s  ,   c l i e n t   m a c h i n e   o p e n s   c o n n e c t i o n   s e r v e r   p a r t i c u l a r   p o r t   s e r v e r   r e s p o n d s   c l i e n t   p o r t   .   f t p   c l i e n t   c o n n e c t s   f t p   s e r v e r   o p e n s   c o n n e c t i o n   f t p   c o n t r o l   p o r t   2 1 .   c l i e n t   t e l l s   f t p   s e r v e r   e s t a b l i s h   a c t i v e   p a s s i v e   c o n n e c t i o n   .   t y p e   c o n n e c t i o n   c h o s e n   c l i e n t   d e t e r m i n e s   s e r v e r   r e s p o n d s   p o r t s   t r a n s a c t i o n s   o c c u r   .   t y p e s   d a t a   c o n n e c t i o n s  :   n o t e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 2 .   a f f e c t s   l o a d   b a l a n c e r   r o u t i n g   i p v s   p a c k e t   f o r w a r d i n g   c o n n e c t i o n s   c l u s t e r   b a s e d   r e c o g n i z i n g   p o r t   n u m b e r   f i r e w a l l   m a r k   .   c l i e n t   c l u s t e r   a t t e m p t s   o p e n   p o r t   i p v s   c o n f i g u r e d   h a n d l e  ,   d r o p s   c o n n e c t i o n   .   s i m i l a r l y  ,   r e a l   s e r v e r   a t t e m p t s   o p e n   c o n n e c t i o n   b a c k   i n t e r n e t   p o r t   i p v s  ,   d r o p s   c o n n e c t i o n   .   m e a n s   c o n n e c t i o n s   f t p   c l i e n t s   i n t e r n e t   f i r e w a l l   m a r k   a s s i g n e d   c o n n e c t i o n s   f t p   s e r v e r   p r o p e r l y   f o r w a r d e d   i n t e r n e t   n e t w o r k   p a c k e t   f i l t e r i n g   r u l e s   .   n o t e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 3 .   c r e a t i n g   n e t w o r k   p a c k e t   f i l t e r   r u l e s   a s s i g n i n g   i p t a b l e s   r u l e s   f t p   s e r v i c e  ,   r e v i e w   i n f o r m a t i o n   s e c t i o n   3 . 4  ,   “   m u l t i - p o r t   s e r v i c e s   l o a d   b a l a n c e r   ”   c o n c e r n i n g   m u l t i - p o r t   s e r v i c e s   t e c h n i q u e s   c h e c k i n g   e x i s t i n g   n e t w o r k   p a c k e t   f i l t e r i n g   r u l e s   .   r u l e s   a s s i g n   f i r e w a l l   m a r k  ,   2 1  ,   f t p   t r a f f i c  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 3 . 1 .   r u l e s   a c t i v e   c o n n e c t i o n s   r u l e s   a c t i v e   c o n n e c t i o n s   k e r n e l   a c c e p t   f o r w a r d   c o n n e c t i o n s   c o m i n g   i n t e r n a l   f l o a t i n g   i p   a d d r e s s   p o r t   2 0   (  f t p   d a t a   p o r t  )   .   i p t a b l e s   c o m m a n d   l v s   r o u t e r   a c c e p t   o u t g o i n g   c o n n e c t i o n s   r e a l   s e r v e r s   i p v s  :   / u s r / s b i n / i p t a b l e s   - t   n a t   - a   p o s t r o u t i n g   - p   t c p   - s   n . n . n . 0 / 2 4   - -   s p o r t   2 0   - j   m a s q u e r a d e   i p t a b l e s   c o m m a n d  ,   n . n . n   r e p l a c e d   v a l u e s   f l o a t i n g   i p   n a t   i n t e r f a c e  ' s   i n t e r n a l   n e t w o r k   i n t e r f a c e   d e f i n e d   v i r t u a l _ s e r v e r   s e c t i o n   k e e p a l i v e d . c o n f   f i l e  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 5 . 3 . 2 .   r u l e s   p a s s i v e   c o n n e c t i o n s   r u l e s   p a s s i v e   c o n n e c t i o n s   a s s i g n   a p p r o p r i a t e   f i r e w a l l   m a r k   c o n n e c t i o n s   c o m i n g   i n t e r n e t   f l o a t i n g   i p   a d d r e s s   s e r v i c e   w i d e   r a n g e   p o r t s  :   1 0, 0 0 0   2 0, 0 0 0 .   w a r n i n g   r a n g e   w i d e   s i t u a t i o n s  ;  ,   i n c r e a s e   n u m b e r   i n c l u d e   a v a i l a b l e   n o n - s e c u r e d   p o r t s   c h a n g i n g   1 0 0 0 0: 2 0 0 0 0   c o m m a n d s   1 0 2 4: 6 5 5 3 5 .   i p t a b l e s   c o m m a n d s   n e t   e f f e c t   a s s i g n i n g   t r a f f i c   a d d r e s s e d   f l o a t i n g   i p   a p p r o p r i a t e   p o r t s   f i r e w a l l   m a r k   2 1  ,   t u r n   r e c o g n i z e d   i p v s   f o r w a r d e d   a p p r o p r i a t e l y  :   / u s r / s b i n / i p t a b l e s   - t   m a n g l e   - a   p r e r o u t i n g   - p   t c p   - d   n . n . n . n / 3 2   - -   d p o r t   2 1   - j   m a r k   - -   s e t - m a r k   2 1   / u s r / s b i n / i p t a b l e s   - t   m a n g l e   - a   p r e r o u t i n g   - p   t c p   - d   n . n . n . n / 3 2   - -   d p o r t   1 0 0 0 0: 2 0 0 0 0   - j   m a r k   - -   s e t - m a r k   2 1   i p t a b l e s   c o m m a n d s  ,   n . n . n . n   r e p l a c e d   f l o a t i n g   i p   f t p   v i r t u a l   s e r v e r   d e f i n e d   v i r t u a l _ s e r v e r   s u b s e c t i o n   k e e p a l i v e d . c o n f   f i l e   .   c o m m a n d s   e f f e c t   i m m e d i a t e l y  ,   p e r s i s t   r e b o o t   s y s t e m   s a v e d   .   s a v e   c h a n g e s  ,   e n t e r   c o m m a n d  :   #  i p t a b l e s - s a v e  >   / e t c / s y s c o n f i g / i p t a b l e s   e n s u r e   i p t a b l e s   s e r v i c e   s t a r t e d   s y s t e m   s t a r t  ,   e n t e r   c o m m a n d  :   #  s y s t e m c t l   e n a b l e   i p t a b l e s   v e r i f y   c h a n g e s   p e r s i s t   r e b o o t   r u n n i n g   c o m m a n d   c h e c k i n g   c h a n g e s   r e m a i n  :   #  s y s t e m c t l   r e s t a r t   i p t a b l e s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 6 .   s a v i n g   n e t w o r k   p a c k e t   f i l t e r   s e t t i n g s   c o n f i g u r i n g   a p p r o p r i a t e   n e t w o r k   p a c k e t   f i l t e r s   s i t u a t i o n  ,   s a v e   s e t t i n g s   r e s t o r e d   r e b o o t   .   i p t a b l e s  ,   e n t e r   c o m m a n d  :   #  i p t a b l e s - s a v e  >   / e t c / s y s c o n f i g / i p t a b l e s   e n s u r e   i p t a b l e s   s e r v i c e   s t a r t e d   s y s t e m   s t a r t  ,   e n t e r   c o m m a n d  :   #  s y s t e m c t l   e n a b l e   i p t a b l e s   v e r i f y   c h a n g e s   p e r s i s t   r e b o o t   r u n n i n g   c o m m a n d   c h e c k i n g   c h a n g e s   r e m a i n  :   #  s y s t e m c t l   r e s t a r t   i p t a b l e s   r e d   e n t e r p r i s e   l i n u x   7   s e c u r i t y   g u i d e   i n f o r m a t i o n   w o r k i n g   i p t a b l e s   r e d   e n t e r p r i s e   l i n u x   7
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 7 .   t u r n i n g   p a c k e t   f o r w a r d i n g   n o n l o c a l   b i n d i n g   o r d e r   k e e p a l i v e d   s e r v i c e   f o r w a r d   n e t w o r k   p a c k e t s   p r o p e r l y   r e a l   s e r v e r s  ,   r o u t e r   n o d e   i p   f o r w a r d i n g   t u r n e d   k e r n e l   .   r o o t   c h a n g e   l i n e   r e a d s   n e t . i p v 4 . i p _ f o r w a r d   =   0   / e t c / s y s c t l . c o n f  :   n e t . i p v 4 . i p _ f o r w a r d   =   1   c h a n g e s   e f f e c t   r e b o o t   s y s t e m   .   l o a d   b a l a n c i n g   h a p r o x y   k e e p a l i v e d   t i m e   r e q u i r e s   a b i l i t y   b i n d   i p   a d d r e s s   n o n l o c a l  ,   m e a n i n g   a s s i g n e d   d e v i c e   l o c a l   s y s t e m   .   r u n n i n g   l o a d   b a l a n c e r   i n s t a n c e   b i n d   i p   l o c a l   f a i l o v e r   .   e n a b l e  ,   e d i t   l i n e   / e t c / s y s c t l . c o n f   r e a d s   n e t . i p v 4 . i p _ n o n l o c a l _ b i n d  :   n e t . i p v 4 . i p _ n o n l o c a l _ b i n d   =   1   c h a n g e s   e f f e c t   r e b o o t   s y s t e m   .   c h e c k   i p   f o r w a r d i n g   t u r n e d  ,   i s s u e   c o m m a n d   r o o t  :   / u s r / s b i n / s y s c t l   n e t . i p v 4 . i p _ f o r w a r d   c h e c k   n o n l o c a l   b i n d i n g   t u r n e d  ,   i s s u e   c o m m a n d   r o o t  :   / u s r / s b i n / s y s c t l   n e t . i p v 4 . i p _ n o n l o c a l _ b i n d   c o m m a n d s   r e t u r n   1  ,   r e s p e c t i v e   s e t t i n g s   e n a b l e d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
3 . 8 .   c o n f i g u r i n g   s e r v i c e s   r e a l   s e r v e r s   r e a l   s e r v e r s   r e d   e n t e r p r i s e   l i n u x   s y s t e m s  ,   s e t   a p p r o p r i a t e   s e r v e r   d a e m o n s   a c t i v a t e   b o o t   t i m e   .   d a e m o n s   i n c l u d e   h t t p d   w e b   s e r v i c e s   x i n e t d   f t p   t e l n e t   s e r v i c e s   .   a c c e s s   r e a l   s e r v e r s   r e m o t e l y  ,   s s h d   d a e m o n   i n s t a l l e d   r u n n i n g  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   4 .   i n i t i a l   l o a d   b a l a n c e r   c o n f i g u r a t i o n   k e e p a l i v e d   i n s t a l l i n g   l o a d   b a l a n c e r   p a c k a g e s  ,   b a s i c   s t e p s   s e t   l v s   r o u t e r   r e a l   s e r v e r s   k e e p a l i v e d   .   c h a p t e r   c o v e r s   i n i t i a l   s t e p s   d e t a i l  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 1 .   b a s i c   k e e p a l i v e d   c o n f i g u r a t i o n   b a s i c  ,   s y s t e m s   c o n f i g u r e d   l o a d   b a l a n c e r s   .   l b 1   (  a c t i v e  )   l b 2   (  b a c k u p  )   r o u t i n g   r e q u e s t s   p o o l   w e b   s e r v e r s   r u n n i n g   h t t p d   r e a l   i p   a d d r e s s e s   n u m b e r e d   1 9 2 . 1 6 8 . 1 . 2 0   1 9 2 . 1 6 8 . 1 . 2 4  ,   s h a r i n g   v i r t u a l   i p   a d d r e s s   1 0 . 0 . 0 . 1 .   l o a d   b a l a n c e r   i n t e r f a c e s   (  e t h 0   e t h 1  )  ,   h a n d l i n g   e x t e r n a l   i n t e r n e t   t r a f f i c  ,   r o u t i n g   r e q u e s t s   r e a l   s e r v e r s   .   l o a d   b a l a n c i n g   a l g o r i t h m   r o u n d   r o b i n   r o u t i n g   m e t h o d   n e t w o r k   a d d r e s s   t r a n s l a t i o n  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 1 . 1 .   c r e a t i n g   k e a p a l i v e d . c o n f   f i l e   k e e p a l i v e d   c o n f i g u r e d   m e a n s   k e e p a l i v e d . c o n f   f i l e   s y s t e m   c o n f i g u r e d   l o a d   b a l a n c e r   .   c r e a t e   l o a d   b a l a n c e r   t o p o l o g y   s h o w n   s e c t i o n   4 . 1  ,   “   b a s i c   k e e p a l i v e d   c o n f i g u r a t i o n   ”  ,   t e x t   e d i t o r   o p e n   k e e p a l i v e d . c o n f   a c t i v e   b a c k u p   l o a d   b a l a n c e r s  ,   l b 1   l b 2   .  :   / e t c / k e e p a l i v e d / k e e p a l i v e d . c o n f   b a s i c   l o a d   b a l a n c e d   s y s t e m   c o n f i g u r a t i o n   d e t a i l e d   s e c t i o n   4 . 1  ,   “   b a s i c   k e e p a l i v e d   c o n f i g u r a t i o n   ”   k e e p a l i v e d . c o n f   f i l e   e x p l a i n e d   c o d e   s e c t i o n s   .  ,   k e e p a l i v e d . c o n f   f i l e   a c t i v e   b a c k u p   r o u t e r s   e x c e p t i o n   v r r p   i n s t a n c e  ,   n o t e d   s e c t i o n   4 . 1 . 1 . 2  ,   “   v r r p   i n s t a n c e   ”
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 1 . 1 . 1 .   g l o b a l   d e f i n i t i o n s   g l o b a l   d e f i n i t i o n s   s e c t i o n   k e e p a l i v e d . c o n f   f i l e   a d m i n i s t r a t o r s   s p e c i f y   n o t i f i c a t i o n   d e t a i l s   c h a n g e s   l o a d   b a l a n c e r   o c c u r s   .   n o t e   g l o b a l   d e f i n i t i o n s   o p t i o n a l   r e q u i r e d   k e e p a l i v e d   c o n f i g u r a t i o n   .   s e c t i o n   k e e p a l i v e d . c o n f   f i l e   l b 1   l b 2   .   g l o b a l _ d e f s   {  n o t i f i c a t i o n _ e m a i l   {  a d m i n   @   e x a m p l e . c o m  }   n o t i f i c a t i o n _ e m a i l _ f r o m   n o r e p l y   @   e x a m p l e . c o m   s m t p _ s e r v e r   1 2 7 . 0 . 0 . 1   s m t p _ c o n n e c t _ t i m e o u t   6 0  }   n o t i f i c a t i o n _ e m a i l   a d m i n i s t r a t o r   l o a d   b a l a n c e r  ,   n o t i f i c a t i o n _ e m a i l _ f r o m   a d d r e s s   s e n d s   l o a d   b a l a n c e r   s t a t e   c h a n g e s   .   s m t p   s p e c i f i c   c o n f i g u r a t i o n   s p e c i f i e s   m a i l   s e r v e r   n o t i f i c a t i o n s   m a i l e d  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 1 . 1 . 2 .   v r r p   i n s t a n c e   e x a m p l e s   s h o w   v r r p _ s y n c _ g r o u p   s t a n z a   k e e p l a l i v e d . c o n f   f i l e   m a s t e r   r o u t e r   b a c k u p   r o u t e r   .   n o t e   s t a t e   p r i o r i t y   v a l u e s   d i f f e r   s y s t e m s   .   s h o w s   v r r p _ s y n c _ g r o u p   s t a n z a   k e e p a l i v e d . c o n f   f i l e   l b 1  ,   m a s t e r   r o u t e r   .   v r r p _ s y n c _ g r o u p   v g 1   {  g r o u p   {  r h _ e x t   r h _ i n t  }  }   v r r p _ i n s t a n c e   r h _ e x t   {  s t a t e   m a s t e r   i n t e r f a c e   e t h 0   v i r t u a l _ r o u t e r _ i d   5 0   p r i o r i t y   1 0 0   a d v e r t _ i n t   1   a u t h e n t i c a t i o n   {  a u t h _ t y p e   p a s s   a u t h _ p a s s   p a s s w 1 2 3  }   v i r t u a l _ i p a d d r e s s   {  1 0 . 0 . 0 . 1  }  }   v r r p _ i n s t a n c e   r h _ i n t   {  s t a t e   m a s t e r   i n t e r f a c e   e t h 1   v i r t u a l _ r o u t e r _ i d   2   p r i o r i t y   1 0 0   a d v e r t _ i n t   1   a u t h e n t i c a t i o n   {  a u t h _ t y p e   p a s s   a u t h _ p a s s   p a s s w 1 2 3  }   v i r t u a l _ i p a d d r e s s   {  1 9 2 . 1 6 8 . 1 . 1  }  }   s h o w s   v r r p _ s y n c _ g r o u p   s t a n z a   k e e p a l i v e d . c o n f   f i l e   l b 2  ,   b a c k u p   r o u t e r   .   v r r p _ s y n c _ g r o u p   v g 1   {  g r o u p   {  r h _ e x t   r h _ i n t  }  }   v r r p _ i n s t a n c e   r h _ e x t   {  s t a t e   b a c k u p   i n t e r f a c e   e t h 0   v i r t u a l _ r o u t e r _ i d   5 0   p r i o r i t y   9 9   a d v e r t _ i n t   1   a u t h e n t i c a t i o n   {  a u t h _ t y p e   p a s s   a u t h _ p a s s   p a s s w 1 2 3  }   v i r t u a l _ i p a d d r e s s   {  1 0 . 0 . 0 . 1  }  }   v r r p _ i n s t a n c e   r h _ i n t   {  s t a t e   b a c k u p   i n t e r f a c e   e t h 1   v i r t u a l _ r o u t e r _ i d   2   p r i o r i t y   9 9   a d v e r t _ i n t   1   a u t h e n t i c a t i o n   {  a u t h _ t y p e   p a s s   a u t h _ p a s s   p a s s w 1 2 3  }   v i r t u a l _ i p a d d r e s s   {  1 9 2 . 1 6 8 . 1 . 1  }  }  ,   v r r p _ s y n c _ g r o u p   s t a n z a   d e f i n e s   v r r p   g r o u p   s t a y s   s t a t e   c h a n g e s   (  f a i l o v e r  )   .   i n s t a n c e   d e f i n e d   e x t e r n a l   i n t e r f a c e   c o m m u n i c a t e s   i n t e r n e t   (  r h _ e x t  )  ,   i n t e r n a l   i n t e r f a c e   (  r h _ i n t  )   .   v r r p _ i n s t a n c e   l i n e   d e t a i l s   v i r t u a l   i n t e r f a c e   c o n f i g u r a t i o n   v r r p   s e r v i c e   d a e m o n  ,   c r e a t e s   v i r t u a l   i p   i n s t a n c e s   .   s t a t e   m a s t e r   d e s i g n a t e s   a c t i v e   s e r v e r  ,   s t a t e   b a c k u p   d e s i g n a t e s   b a c k u p   s e r v e r   .   i n t e r f a c e   p a r a m e t e r   a s s i g n s   p h y s i c a l   i n t e r f a c e   p a r t i c u l a r   v i r t u a l   i p   i n s t a n c e   .   v i r t u a l _ r o u t e r _ i d   n u m e r i c a l   i d e n t i f i e r   v i r t u a l   r o u t e r   i n s t a n c e   .   l v s   r o u t e r   s y s t e m s   p a r t i c i p a t i n g   v i r t u a l   r o u t e r   .   d i f f e r e n t i a t e   m u l t i p l e   i n s t a n c e s   k e e p a l i v e d   r u n n i n g   n e t w o r k   i n t e r f a c e   .   p r i o r i t y   s p e c i f i e s   o r d e r   a s s i g n e d   i n t e r f a c e   t a k e s   f a i l o v e r  ;   h i g h e r   n u m b e r  ,   h i g h e r   p r i o r i t y   .   p r i o r i t y   v a l u e   r a n g e   0   2 5 5  ,   l o a d   b a l a n c i n g   s e r v e r   c o n f i g u r e d   s t a t e   m a s t e r   p r i o r i t y   v a l u e   s e t   h i g h e r   n u m b e r   p r i o r i t y   v a l u e   s e r v e r   c o n f i g u r e d   s t a t e   b a c k u p   .   a u t h e n t i c a t i o n   b l o c k   s p e c i f i e s   a u t h e n t i c a t i o n   t y p e   (  a u t h _ t y p e  )   p a s s w o r d   (  a u t h _ p a s s  )   a u t h e n t i c a t e   s e r v e r s   f a i l o v e r   s y n c h r o n i z a t i o n   .   p a s s   s p e c i f i e s   p a s s w o r d   a u t h e n t i c a t i o n  ;   k e e p a l i v e d   s u p p o r t s  ,   a u t h e n t i c a t i o n   h e a d e r s   c o n n e c t i o n   i n t e g r i t y   .   f i n a l l y  ,   v i r t u a l _ i p a d d r e s s   o p t i o n   s p e c i f i e s   i n t e r f a c e   v i r t u a l   i p   a d d r e s s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 1 . 1 . 3 .   v i r t u a l   s e r v e r   d e f i n i t i o n s   v i r t u a l   s e r v e r   d e f i n i t i o n s   s e c t i o n   k e e p a l i v e d . c o n f   f i l e   l b 1   l b 2   .   v i r t u a l _ s e r v e r   1 0 . 0 . 0 . 1   8 0   {  d e l a y _ l o o p   6   l b _ a l g o   r r   l b _ k i n d   n a t   p r o t o c o l   t c p   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 1 . 2 0   8 0   {  t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 1 . 2 1   8 0   {  t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 1 . 2 2   8 0   {  t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 1 . 2 3   8 0   {  t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0  }  }  }   b l o c k  ,   v i r t u a l _ s e r v e r   c o n f i g u r e d   i p   a d d r e s s   .   d e l a y _ l o o p   c o n f i g u r e s   a m o u n t   t i m e   (  s e c o n d s  )   h e a l t h   c h e c k s   .   l b _ a l g o   o p t i o n   s p e c i f i e s   k i n d   a l g o r i t h m   a v a i l a b i l i t y   (  c a s e  ,   r r   r o u n d - r o b i n  ;   l i s t   p o s s i b l e   l b _ a l g o   v a l u e s   t a b l e   4 . 1  ,   “   l v _ a l g o   v a l u e s   v i r t u a l   s e r v e r   ”  )   .   l b _ k i n d   o p t i o n   d e t e r m i n e s   r o u t i n g   m e t h o d  ,   c a s e   n e t w o r k   a d d r e s s   t r a n s l a t i o n   (  n a t  )   .   c o n f i g u r i n g   v i r t u a l   s e r v e r   d e t a i l s  ,   r e a l _ s e r v e r   o p t i o n s   c o n f i g u r e d  ,   s p e c i f y i n g   i p   a d d r e s s   .   t c p _ c h e c k   s t a n z a   c h e c k s   a v a i l a b i l i t y   r e a l   s e r v e r   t c p   .   c o n n e c t _ t i m e o u t   c o n f i g u r e s   t i m e   s e c o n d s   t i m e o u t   o c c u r s   .   n o t e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 2 .   k e e p a l i v e d   d i r e c t   r o u t i n g   c o n f i g u r a t i o n   d i r e c t   r o u t i n g   c o n f i g u r a t i o n   k e e p a l i v e d   s i m i l a r   c o n f i g u r a t i o n   n a t   .  ,   k e e p a l i v e d   c o n f i g u r e d   p r o v i d e   l o a d   b a l a n c i n g   g r o u p   r e a l   s e r v e r s   r u n n i n g   h t t p   p o r t   8 0 .   c o n f i g u r e   d i r e c t   r o u t i n g  ,   c h a n g e   l b _ k i n d   p a r a m e t e r   d r .   c o n f i g u r a t i o n   o p t i o n s   d i s c u s s e d   s e c t i o n   4 . 1  ,   “   b a s i c   k e e p a l i v e d   c o n f i g u r a t i o n   ”   .   s h o w s   k e e p a l i v e d . c o n f   f i l e   a c t i v e   s e r v e r   k e e p a l i v e d   c o n f i g u r a t i o n   d i r e c t   r o u t i n g   .   g l o b a l _ d e f s   {  n o t i f i c a t i o n _ e m a i l   {  a d m i n   @   e x a m p l e . c o m  }   n o t i f i c a t i o n _ e m a i l _ f r o m   n o r e p l y _ a d m i n   @   e x a m p l e . c o m   s m t p _ s e r v e r   1 2 7 . 0 . 0 . 1   s m t p _ c o n n e c t _ t i m e o u t   6 0  }   v r r p _ i n s t a n c e   r h _ 1   {  s t a t e   m a s t e r   i n t e r f a c e   e t h 0   v i r t u a l _ r o u t e r _ i d   5 0   p r i o r i t y   1 0 0   a d v e r t _ i n t   1   a u t h e n t i c a t i o n   {  a u t h _ t y p e   p a s s   a u t h _ p a s s   p a s s w 1 2 3  }   v i r t u a l _ i p a d d r e s s   {  1 7 2 . 3 1 . 0 . 1  }  }   v i r t u a l _ s e r v e r   1 7 2 . 3 1 . 0 . 1   8 0   {  d e l a y _ l o o p   1 0   l b _ a l g o   r r   l b _ k i n d   d r   p e r s i s t e n c e _ t i m e o u t   9 6 0 0   p r o t o c o l   t c p   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 0 . 1   8 0   {  w e i g h t   1   t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0   c o n n e c t _ p o r t   8 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 0 . 2   8 0   {  w e i g h t   1   t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0   c o n n e c t _ p o r t   8 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 0 . 3   8 0   {  w e i g h t   1   t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0   c o n n e c t _ p o r t   8 0  }  }  }   s h o w s   k e e p a l i v e d . c o n f   f i l e   b a c k u p   s e r v e r   k e e p a l i v e d   c o n f i g u r a t i o n   d i r e c t   r o u t i n g   .   n o t e   s t a t e   p r i o r i t y   v a l u e s   d i f f e r   k e e p a l i v e d . c o n f   f i l e   a c t i v e   s e r v e r   .   g l o b a l _ d e f s   {  n o t i f i c a t i o n _ e m a i l   {  a d m i n   @   e x a m p l e . c o m  }   n o t i f i c a t i o n _ e m a i l _ f r o m   n o r e p l y _ a d m i n   @   e x a m p l e . c o m   s m t p _ s e r v e r   1 2 7 . 0 . 0 . 1   s m t p _ c o n n e c t _ t i m e o u t   6 0  }   v r r p _ i n s t a n c e   r h _ 1   {  s t a t e   b a c k u p   i n t e r f a c e   e t h 0   v i r t u a l _ r o u t e r _ i d   5 0   p r i o r i t y   9 9   a d v e r t _ i n t   1   a u t h e n t i c a t i o n   {  a u t h _ t y p e   p a s s   a u t h _ p a s s   p a s s w 1 2 3  }   v i r t u a l _ i p a d d r e s s   {  1 7 2 . 3 1 . 0 . 1  }  }   v i r t u a l _ s e r v e r   1 7 2 . 3 1 . 0 . 1   8 0   {  d e l a y _ l o o p   1 0   l b _ a l g o   r r   l b _ k i n d   d r   p e r s i s t e n c e _ t i m e o u t   9 6 0 0   p r o t o c o l   t c p   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 0 . 1   8 0   {  w e i g h t   1   t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0   c o n n e c t _ p o r t   8 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 0 . 2   8 0   {  w e i g h t   1   t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0   c o n n e c t _ p o r t   8 0  }  }   r e a l _ s e r v e r   1 9 2 . 1 6 8 . 0 . 3   8 0   {  w e i g h t   1   t c p _ c h e c k   {  c o n n e c t _ t i m e o u t   1 0   c o n n e c t _ p o r t   8 0  }  }  }
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
4 . 3 .   s t a r t i n g   s e r v i c e   s t a r t   s e r v i c e   e n t e r i n g   c o m m a n d   s e r v e r s   l o a d   b a l a n c e r   c o n f i g u r a t i o n  :   #  s y s t e m c t l   s t a r t   k e e p a l i v e d . s e r v i c e   m a k e   k e e p a l i v e d   s e r v i c e   p e r s i s t   r e b o o t s  ,   e n t e r   c o m m a n d   s e r v e r s   l o a d   b a l a n c e r   c o n f i g u r a t i o n  :   #  s y s t e m c t l   e n a b l e   k e e p a l i v e d . s e r v i c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
c h a p t e r   5 .   h a p r o x y   c o n f i g u r a t i o n   c h a p t e r   e x p l a i n s   c o n f i g u r a t i o n   b a s i c   s e t u p   h i g h l i g h t s   c o m m o n   c o n f i g u r a t i o n   o p t i o n s   a d m i n i s t r a t o r   e n c o u n t e r   d e p l o y i n g   h a p r o x y   s e r v i c e s   h i g h   a v a i l a b i l i t y   e n v i r o n m e n t s   .   h a p r o x y   s e t   s c h e d u l i n g   a l g o r i t h m s   l o a d   b a l a n c i n g   .   a l g o r i t h m s   d e s c r i b e d   s e c t i o n   5 . 1  ,   “   h a p r o x y   s c h e d u l i n g   a l g o r i t h m s   ”   .   h a p r o x y   c o n f i g u r e d   e d i t i n g   / e t c / h a p r o x y / h a p r o x y . c f g   f i l e   .   l o a d   b a l a n c e r   c o n f i g u r a t i o n   h a p r o x y   c o n s i s t s   s e c t i o n s   c o n f i g u r a t i o n  :   s e c t i o n   5 . 2  ,   “   g l o b a l   s e t t i n g s   ”   p r o x i e s   s e c t i o n  ,   c o n s i s t s   4   s u b s e c t i o n s  :   s e c t i o n   5 . 3  ,   “   d e f a u l t   s e t t i n g s   ”   s e t t i n g s   s e c t i o n   5 . 4  ,   “   f r o n t e n d   s e t t i n g s   ”   s e t t i n g s   s e c t i o n   5 . 5  ,   “   b a c k e n d   s e t t i n g s   ”   s e t t i n g s
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 1 .   h a p r o x y   s c h e d u l i n g   a l g o r i t h m s   h a p r o x y   s c h e d u l i n g   a l g o r i t h m s   l o a d   b a l a n c i n g   e d i t e d   b a l a n c e   p a r a m e t e r   b a c k e n d   s e c t i o n   / e t c / h a p r o x y / h a p r o x y . c f g   c o n f i g u r a t i o n   f i l e   .   n o t e   h a p r o x y   s u p p o r t s   c o n f i g u r a t i o n   m u l t i p l e   b a c k   e n d s  ,   b a c k   c o n f i g u r e d   s c h e d u l i n g   a l g o r i t h m  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 2 .   g l o b a l   s e t t i n g s   g l o b a l   s e t t i n g s   c o n f i g u r e   p a r a m e t e r s   a p p l y   s e r v e r s   r u n n i n g   h a p r o x y   .   t y p i c a l   g l o b a l   s e c t i o n  :   g l o b a l   1 2 7 . 0 . 0 . 1   l o c a l 2   m a x c o n n   4 0 0 0   u s e r   h a p r o x y   g r o u p   h a p r o x y   d a e m o n   c o n f i g u r a t i o n  ,   a d m i n i s t r a t o r   c o n f i g u r e d   s e r v i c e   e n t r i e s   l o c a l   s y s l o g   s e r v e r   .   d e f a u l t  ,   / v a r / l o g / s y s l o g   u s e r - d e s i g n a t e d   l o c a t i o n   .   m a x c o n n   p a r a m e t e r   s p e c i f i e s   m a x i m u m   n u m b e r   c o n c u r r e n t   c o n n e c t i o n s   s e r v i c e   .   d e f a u l t  ,   m a x i m u m   2 0 0 0 .   u s e r   g r o u p   p a r a m e t e r s   s p e c i f i e s   u s e r   g r o u p   h a p r o x y   p r o c e s s   b e l o n g s   .   f i n a l l y  ,   d a e m o n   p a r a m e t e r   s p e c i f i e s   h a p r o x y   r u n   b a c k g r o u n d   p r o c e s s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 3 .   d e f a u l t   s e t t i n g s   d e f a u l t   s e t t i n g s   c o n f i g u r e   p a r a m e t e r s   a p p l y   p r o x y   s u b s e c t i o n s   c o n f i g u r a t i o n   (  f r o n t e n d  ,   b a c k e n d  ,   l i s t e n  )   .   t y p i c a l   d e f a u l t   s e c t i o n  :   n o t e   d e f a u l t s   h t t p   g l o b a l   o p t i o n   h t t p l o g   o p t i o n   d o n t l o g n u l l   r e t r i e s   3   t i m e o u t   h t t p - r e q u e s t   1 0 s   t i m e o u t   q u e u e   1 m   t i m e o u t   c o n n e c t   1 0 s   t i m e o u t   c l i e n t   1 m   t i m e o u t   s e r v e r   1 m   s p e c i f i e s   p r o t o c o l   h a p r o x y   i n s t a n c e   .   h t t p   c o n n e c t s   s o u r c e   r e q u e s t s   r e a l   s e r v e r s   b a s e d   h t t p  ,   i d e a l   l o a d   b a l a n c i n g   w e b   s e r v e r s   .   a p p l i c a t i o n s  ,   t c p   .   s p e c i f i e s   a d d r e s s   s y s l o g   f a c i l i t i e s   e n t r i e s   w r i t t e n   .   g l o b a l   v a l u e   r e f e r s   h a p r o x y   i n s t a n c e   s p e c i f i e d   p a r a m e t e r   g l o b a l   s e c t i o n   .   o p t i o n   h t t p l o g   e n a b l e s   l o g g i n g   v a l u e s   h t t p   s e s s i o n  ,   i n c l u d i n g   h t t p   r e q u e s t s  ,   s e s s i o n   s t a t u s  ,   c o n n e c t i o n   n u m b e r s  ,   s o u r c e   a d d r e s s  ,   c o n n e c t i o n   t i m e r s   v a l u e s   .   o p t i o n   d o n t l o g n u l l   d i s a b l e s   l o g g i n g   n u l l   c o n n e c t i o n s  ,   m e a n i n g   h a p r o x y   c o n n e c t i o n s   d a t a   t r a n s f e r r e d   .   r e c o m m e n d e d   e n v i r o n m e n t s   w e b   a p p l i c a t i o n s   i n t e r n e t   n u l l   c o n n e c t i o n s   i n d i c a t e   m a l i c i o u s   a c t i v i t i e s   o p e n   p o r t - s c a n n i n g   v u l n e r a b i l i t i e s   .   r e t r i e s   s p e c i f i e s   n u m b e r   t i m e s   r e a l   s e r v e r   r e t r y   c o n n e c t i o n   r e q u e s t   f a i l i n g   c o n n e c t   .   t i m e o u t   v a l u e s   s p e c i f y   l e n g t h   t i m e   i n a c t i v i t y   r e q u e s t  ,   c o n n e c t i o n  ,   r e s p o n s e   .   v a l u e s   g e n e r a l l y   e x p r e s s e d   m i l l i s e c o n d s   (  e x p l i c i t l y   s t a t e d  )   e x p r e s s e d   u n i t   s u f f i x i n g   u n i t   n u m e r i c   v a l u e   .   s u p p o r t e d   u n i t s   (  m i c r o s e c o n d s  )  ,   m s   (  m i l l i s e c o n d s  )  ,   (  s e c o n d s  )  ,   (  m i n u t e s  )  ,   (  h o u r s  )   (  d a y s  )   .   h t t p - r e q u e s t   1 0 s   1 0   s e c o n d s   w a i t   c o m p l e t e   h t t p   r e q u e s t   c l i e n t   .   q u e u e   1 m   s e t s   m i n u t e   a m o u n t   t i m e   w a i t   c o n n e c t i o n   d r o p p e d   c l i e n t   r e c e i v e s   5 0 3   ` `   s e r v i c e   u n a v a i l a b l e  ' '   e r r o r   .   c o n n e c t   1 0 s   s p e c i f i e s   n u m b e r   s e c o n d s   w a i t   s u c c e s s f u l   c o n n e c t i o n   s e r v e r   .   c l i e n t   1 m   s p e c i f i e s   a m o u n t   t i m e   (  m i n u t e s  )   c l i e n t   r e m a i n   i n a c t i v e   (  a c c e p t s   s e n d s   d a t a  )   .   s e r v e r   1 m   s p e c i f i e s   a m o u n t   t i m e   (  m i n u t e s  )   s e r v e r   a c c e p t   s e n d   d a t a   t i m e o u t   o c c u r s  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 4 .   f r o n t e n d   s e t t i n g s   f r o n t e n d   s e t t i n g s   c o n f i g u r e   s e r v e r s  '   l i s t e n i n g   s o c k e t s   c l i e n t   c o n n e c t i o n   r e q u e s t s   .   t y p i c a l   h a p r o x y   c o n f i g u r a t i o n   f r o n t e n d  :   f r o n t e n d   b i n d   1 9 2 . 1 6 8 . 0 . 1 0: 8 0   d e f a u l t _ b a c k e n d   a p p   f r o n t e n d   c a l l e d   c o n f i g u r e d   1 9 2 . 1 6 8 . 0 . 1 0   i p   a d d r e s s   l i s t e n i n g   p o r t   8 0   b i n d   p a r a m e t e r   .   c o n n e c t e d  ,   b a c k e n d   s p e c i f i e s   s e s s i o n s   c o n n e c t   a p p   b a c k  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 5 .   b a c k e n d   s e t t i n g s   b a c k e n d   s e t t i n g s   s p e c i f y   r e a l   s e r v e r   i p   a d d r e s s e s   l o a d   b a l a n c e r   s c h e d u l i n g   a l g o r i t h m   .   s h o w s   t y p i c a l   b a c k e n d   s e c t i o n  :   b a c k e n d   a p p   b a l a n c e   r o u n d r o b i n   s e r v e r   a p p 1   1 9 2 . 1 6 8 . 1 . 1: 8 0   c h e c k   s e r v e r   a p p 2   1 9 2 . 1 6 8 . 1 . 2: 8 0   c h e c k   s e r v e r   a p p 3   1 9 2 . 1 6 8 . 1 . 3: 8 0   c h e c k   i n t e r   2 s   r i s e   4   f a l l   3   s e r v e r   a p p 4   1 9 2 . 1 6 8 . 1 . 4: 8 0   b a c k u p   b a c k - e n d   s e r v e r   n a m e d   a p p   .   b a l a n c e   s p e c i f i e s   l o a d   b a l a n c e r   s c h e d u l i n g   a l g o r i t h m  ,   c a s e   r o u n d   r o b i n   (  r o u n d r o b i n  )  ,   s c h e d u l e r   s u p p o r t e d   h a p r o x y   .   i n f o r m a t i o n   c o n f i g u r i n g   s c h e d u l e r s   h a p r o x y  ,   s e c t i o n   5 . 1  ,   “   h a p r o x y   s c h e d u l i n g   a l g o r i t h m s   ”   .   s e r v e r   l i n e s   s p e c i f y   s e r v e r s   a v a i l a b l e   b a c k   .   a p p 1   a p p 4   n a m e s   a s s i g n e d   i n t e r n a l l y   r e a l   s e r v e r   .   f i l e s   s p e c i f y   s e r v e r   m e s s a g e s   .   a d d r e s s   a s s i g n e d   i p   a d d r e s s   .   v a l u e   c o l o n   i p   a d d r e s s   p o r t   n u m b e r   c o n n e c t i o n   o c c u r s   p a r t i c u l a r   s e r v e r   .   c h e c k   o p t i o n   f l a g s   s e r v e r   p e r i o d i c   h e a l t h c h e c k s   e n s u r e   a v a i l a b l e   r e c e i v e   s e n d   d a t a   s e s s i o n   r e q u e s t s   .   s e r v e r   a p p 3   c o n f i g u r e s   h e a l t h c h e c k   i n t e r v a l   s e c o n d s   (  i n t e r   2 s  )  ,   a m o u n t   c h e c k s   a p p 3   p a s s   d e t e r m i n e   s e r v e r   c o n s i d e r e d   h e a l t h y   (  r i s e   4  )  ,   n u m b e r   t i m e s   s e r v e r   c o n s e c u t i v e l y   f a i l s   c h e c k   c o n s i d e r e d   f a i l e d   (  f a l l   3  )  .
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 6 .   s t a r t i n g   h a p r o x y   s t a r t   h a p r o x y   s e r v i c e  ,   e n t e r   c o m m a n d  :   #  s y s t e m c t l   s t a r t   h a p r o x y . s e r v i c e   m a k e   h a p r o x y   s e r v i c e   p e r s i s t   r e b o o t s  ,   e n t e r   c o m m a n d  :   #  s y s t e m c t l   e n a b l e   h a p r o x y . s e r v i c e
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
5 . 7 .   l o g g i n g   h a p r o x y   m e s s a g e s   r s y s l o g   c o n f i g u r e   s y s t e m   h a p r o x y   m e s s a g e s   r s y s l o g   w r i t i n g   / d e v / l o g   s o c k e t   .   a l t e r n a t e l y   t a r g e t   t c p   l o o p b a c k   a d d r e s s  ,   r e s u l t s   s l o w e r   p e r f o r m a n c e   .   p r o c e d u r e   c o n f i g u r e s   h a p r o x y   m e s s a g e s   r s y s l o g   .   g l o b a l   s e c t i o n   h a p r o x y   c o n f i g u r a t i o n   f i l e  ,   d i r e c t i v e   t a r g e t   / d e v / l o g   s o c k e t   .   / d e v / l o g   l o c a l 0   u p d a t e   f r o n t e n d  ,   b a c k e n d  ,   l i s t e n   p r o x i e s   s e n d   m e s s a g e s   r s y s l o g   s e r v i c e   c o n f i g u r e d   g l o b a l   s e c t i o n   h a p r o x y   c o n f i g u r a t i o n   f i l e   .  ,   a d d   g l o b a l   d i r e c t i v e   d e f a u l t s   s e c t i o n   c o n f i g u r a t i o n   f i l e  ,   s h o w n   .   d e f a u l t s   g l o b a l   o p t i o n   h t t p l o g   r u n n i n g   h a p r o x y   c h r o o t e d   e n v i r o n m e n t  ,   h a p r o x y   c r e a t e   c h r o o t   d i r e c t o r y   c h r o o t   c o n f i g u r a t i o n   d i r e c t i v e  ,   s o c k e t   m a d e   a v a i l a b l e   c h r o o t   d i r e c t o r y   .   m o d i f y i n g   r s y s l o g   c o n f i g u r a t i o n   c r e a t e   l i s t e n i n g   s o c k e t   c h r o o t   f i l e s y s t e m   .  ,   a d d   l i n e s   r s y s l o g   c o n f i g u r a t i o n   f i l e   .   $  m o d l o a d   i m u x s o c k   $  a d d u n i x l i s t e n s o c k e t   p a t h _ t o _ c h r o o t / d e v / l o g   c u s t o m i z e   h a p r o x y   m e s s a g e s  ,   r s y s l o g   f i l t e r s   d e s c r i b e d   b a s i c   c o n f i g u r a t i o n   r s y s l o g   s y s t e m   a d m i n i s t r a t o r  ' s   g u i d e   .   a p p e n d i x   a .   c o n f i g u r a t i o n  :   l o a d   b a l a n c i n g   c e p h   o b j e c t   g a t e w a y   s e r v e r s   h a p r o x y   k e e p a l i v e d   a p p e n d i x   s h o w i n g   c o n f i g u r a t i o n   h a p r o x y   k e e p a l i v e d   c e p h   c l u s t e r   .   c e p h   o b j e c t   g a t e w a y   a s s i g n   i n s t a n c e s   o b j e c t   g a t e w a y   s i n g l e   z o n e   s c a l e   l o a d   i n c r e a s e s   .   o b j e c t   g a t e w a y   i n s t a n c e   i p   a d d r e s s  ,   h a p r o x y   k e e p a l i v e d   b a l a n c e   l o a d   c e p h   o b j e c t   g a t e w a y   s e r v e r s   .   c o n f i g u r a t i o n  ,   h a p r o x y   p e r f o r m s   l o a d   b a l a n c i n g   c e p h   o b j e c t   g a t e w a y   s e r v e r s   k e e p a l i v e d   m a n a g e   v i r t u a l   i p   a d d r e s s e s   c e p h   o b j e c t   g a t e w a y   s e r v e r s   m o n i t o r   h a p r o x y   .   c a s e   h a p r o x y   k e e p a l i v e d   t e r m i n a t e   h t t p s   h a p r o x y   s e r v e r   .   r e d   c e p h   s t o r a g e   (  r h c s  )   1 . 3 . x   c i v e t w e b  ,   i m p l e m e n t a t i o n   r h c s   1 . 3 . x   s u p p o r t   h t t p s   .   h a p r o x y   s e r v e r   t e r m i n a t e   h t t p s   h a p r o x y   s e r v e r   h t t p   h a p r o x y   s e r v e r   c i v e t w e b   g a t e w a y   i n s t a n c e s   .   i n c l u d e s   c o n f i g u r a t i o n   p a r t   p r o c e d u r e   .   a . 1   .   p r e r e q u i s i t e s   s e t   h a p r o x y   c e p h   o b j e c t   g a t e w a y  ,  :   r u n n i n g   c e p h   c l u s t e r  ;   c e p h   o b j e c t   g a t e w a y   s e r v e r s   z o n e   c o n f i g u r e d   r u n   p o r t   8 0  ;   s e r v e r s   h a p r o x y   k e e p a l i v e d   .   n o t e   a . 2   .   p r e p a r i n g   h a p r o x y   n o d e s   s e t u p   a s s u m e s   h a p r o x y   n o d e s   n a m e d   h a p r o x y   h a p r o x y 2  ,   c e p h   o b j e c t   g a t e w a y   s e r v e r s   n a m e d   r g w 1   r g w 2   .   n a m i n g   c o n v e n t i o n   p r e f e r   .   p e r f o r m   p r o c e d u r e   h a p r o x y   n o d e s  :   i n s t a l l   r e d   e n t e r p r i s e   l i n u x   7 .   r e g i s t e r   n o d e s   .   #  s u b s c r i p t i o n - m a n a g e r   r e g i s t e r   e n a b l e   r e d   e n t e r p r i s e   l i n u x   7   s e r v e r   r e p o s i t o r y   .   #  s u b s c r i p t i o n - m a n a g e r   r e p o s   - -   e n a b l e = r h e l - 7 - s e r v e r - r p m s   u p d a t e   s e r v e r   .   #  y u m   u p d a t e   - y   i n s t a l l   a d m i n   t o o l s   ( ,   w g e t  ,   v i m  ,  )   n e e d e d   .   o p e n   p o r t   8 0   .   #  f i r e w a l l - c m d   - -   z o n e = p u b l i c   - -   a d d - p o r t   8 0 / t c p   - -   p e r m a n e n t   #  f i r e w a l l - c m d   - -   r e l o a d   h t t p s  ,   o p e n   p o r t   4 4 3   .   #  f i r e w a l l - c m d   - -   z o n e = p u b l i c   - -   a d d - p o r t   4 4 3 / t c p   - -   p e r m a n e n t   #  f i r e w a l l - c m d   - -   r e l o a d   a . 3   .   i n s t a l l   c o n f i g u r e   k e e p a l i v e d   p e r f o r m   p r o c e d u r e   h a p r o x y   n o d e s  :   i n s t a l l   k e e p a l i v e d   .   #  y u m   i n s t a l l   - y   k e e p a l i v e d   c o n f i g u r e   k e e p a l i v e d   .   #  v i m   / e t c / k e e p a l i v e d / k e e p a l i v e d . c o n f   c o n f i g u r a t i o n  ,   s c r i p t   c h e c k   h a p r o x y   p r o c e s s e s   .   i n s t a n c e   e t h 0   n e t w o r k   i n t e r f a c e   c o n f i g u r e s   h a p r o x y   m a s t e r   s e r v e r   h a p r o x y 2   b a c k u p   s e r v e r   .   a s s i g n s   v i r t u a l   i p   a d d r e s s   1 9 2 . 1 6 8 . 0 . 1 0 0 .   v r r p _ s c r i p t   c h k _ h a p r o x y   {  s c r i p t   ` `   k i l l a l l   - 0   h a p r o x y  ' '   #  c h e c k   h a p r o x y   p r o c e s s   i n t e r v a l   2   #  2   s e c o n d s   w e i g h t   2   #  a d d   2   p o i n t s  }   v r r p _ i n s t a n c e   v i _ 1   {  i n t e r f a c e   e t h 0   #  i n t e r f a c e   m o n i t o r   s t a t e   m a s t e r   #  m a s t e r   h a p r o x y  ,   b a c k u p   h a p r o x y 2   v i r t u a l _ r o u t e r _ i d   5 1   p r i o r i t y   1 0 1   #  1 0 1   h a p r o x y  ,   1 0 0   h a p r o x y 2   v i r t u a l _ i p a d d r e s s   {  1 9 2 . 1 6 8 . 0 . 1 0 0   #  v i r t u a l   i p   a d d r e s s  }   t r a c k _ s c r i p t   {  c h k _ h a p r o x y  }  }   e n a b l e   s t a r t   k e e p a l i v e d   .   #  s y s t e m c t l   e n a b l e   k e e p a l i v e d   #  s y s t e m c t l   s t a r t   k e e p a l i v e d   a . 4   .   i n s t a l l   c o n f i g u r e   h a p r o x y   p e r f o r m   p r o c e d u r e   h a p r o x y   n o d e s  :   i n s t a l l   h a p r o x y   .   #  y u m   i n s t a l l   h a p r o x y   c o n f i g u r e   h a p r o x y   s e l i n u x   h t t p   .   #  v i m   / e t c / f i r e w a l l d / s e r v i c e s / h a p r o x y - h t t p . x m l   a d d   l i n e s  :   < ?   x m l   v e r s i o n =  ' '   1 . 0  ' '   e n c o d i n g =  ' '   u t f - 8  ' '  ?  >   <  s e r v i c e  >   <  s h o r t  >   h a p r o x y - h t t p   <  / s h o r t  >   <  d e s c r i p t i o n  >   h a p r o x y   l o a d - b a l a n c e r   <  / d e s c r i p t i o n  >   <  p o r t   p r o t o c o l =  ' '   t c p  ' '   p o r t =  ' '   8 0  ' '   /  >   <  / s e r v i c e  >   r o o t  ,   a s s i g n   c o r r e c t   s e l i n u x   c o n t e x t   f i l e   p e r m i s s i o n s   h a p r o x y - h t t p . x m l   f i l e   .   #  c d   / e t c / f i r e w a l l d / s e r v i c e s   #  r e s t o r e c o n   h a p r o x y - h t t p . x m l   #  c h m o d   6 4 0   h a p r o x y - h t t p . x m l   i n t e n d   h t t p s  ,   c o n f i g u r e   h a p r o x y   s e l i n u x   h t t p s   .   #  v i m   / e t c / f i r e w a l l d / s e r v i c e s / h a p r o x y - h t t p s . x m l   a d d   l i n e s  :   < ?   x m l   v e r s i o n =  ' '   1 . 0  ' '   e n c o d i n g =  ' '   u t f - 8  ' '  ?  >   <  s e r v i c e  >   <  s h o r t  >   h a p r o x y - h t t p s   <  / s h o r t  >   <  d e s c r i p t i o n  >   h a p r o x y   l o a d - b a l a n c e r   <  / d e s c r i p t i o n  >   <  p o r t   p r o t o c o l =  ' '   t c p  ' '   p o r t =  ' '   4 4 3  ' '   /  >   <  / s e r v i c e  >   r o o t  ,   a s s i g n   c o r r e c t   s e l i n u x   c o n t e x t   f i l e   p e r m i s s i o n s   h a p r o x y - h t t p s . x m l   f i l e   .   #  c d   / e t c / f i r e w a l l d / s e r v i c e s   #  r e s t o r e c o n   h a p r o x y - h t t p s . x m l   #  c h m o d   6 4 0   h a p r o x y - h t t p s . x m l   i n t e n d   h t t p s  ,   g e n e r a t e   k e y s   s s l   .   c e r t i f i c a t e  ,   s e l f - s i g n e d   c e r t i f i c a t e   .   i n f o r m a t i o n   g e n e r a t i n g   k e y s   s e l f - s i g n e d   c e r t i f i c a t e s  ,   r e d   e n t e r p r i s e   l i n u x   s y s t e m   a d m i n i s t r a t o r  ' s   g u i d e   .   f i n a l l y  ,   p u t   c e r t i f i c a t e   k e y   p e m   f i l e   .   #  e x a m p l e . c o m . c r t   e x a m p l e . c o m . k e y  >   e x a m p l e . c o m . p e m   #  c p   e x a m p l e . c o m . p e m   / e t c / s s l / p r i v a t e /   c o n f i g u r e   h a p r o x y   .   #  v i m   / e t c / h a p r o x y / h a p r o x y . c f g   g l o b a l   d e f a u l t s   s e c t i o n s   h a p r o x y . c f g   r e m a i n   u n c h a n g e d   .   d e f a u l t s   s e c t i o n s  ,   c o n f i g u r e   f r o n t e n d   b a c k e n d   s e c t i o n s  ,  :   f r o n t e n d   h t t p _ w e b   *  : 8 0   h t t p   d e f a u l t _ b a c k e n d   r g w   f r o n t e n d   r g w ­ - h t t p s   b i n d   <  i n s e r t   v i p   i p v 4  >  : 4 4 3   s s l   c r t   / e t c / s s l / p r i v a t e / e x a m p l e . c o m . p e m   d e f a u l t _ b a c k e n d   r g w   b a c k e n d   r g w   b a l a n c e   r o u n d r o b i n   h t t p   s e r v e r   r g w 1   1 0 . 0 . 0 . 7 1: 8 0   c h e c k   s e r v e r   r g w 2   1 0 . 0 . 0 . 8 0: 8 0   c h e c k   e n a b l e / s t a r t   h a p r o x y   #  s y s t e m c t l   e n a b l e   h a p r o x y   #  s y s t e m c t l   s t a r t   h a p r o x y   a . 5   .   t e s t   h a p r o x y   c o n f i g u r a t i o n   h a p r o x y   n o d e s  ,   c h e c k   e n s u r e   v i r t u a l   i p   a d d r e s s   k e e p a l i v e d   c o n f i g u r a t i o n   a p p e a r s   .   $  i p   a d d r   s h o w   c a l a m a r i   n o d e  ,   r e a c h   g a t e w a y   n o d e s   m e a n s   l o a d   b a l a n c e r   c o n f i g u r a t i o n   .  :   $  w g e t   h a p r o x y   r e t u r n   r e s u l t  :   $  w g e t   r g w 1   r e t u r n s   i n d e x . h t m l   f i l e   c o n t e n t s   c o n f i g u r a t i o n   w o r k i n g   p r o p e r l y   .   < ?   x m l   v e r s i o n =  ' '   1 . 0  ' '   e n c o d i n g =  ' '   u t f - 8  ' '  ?  >   <  l i s t a l l m y b u c k e t s r e s u l t   x m l n s =  ' '   h t t p  :   / / s 3 . a m a z o n a w s . c o m / d o c / 2 0 0 6 - 0 3 - 0 1 /  ' '  >   <  o w n e r  >   <  i d  >   a n o n y m o u s   <  / i d  >   <  d i s p l a y n a m e  >   <  / d i s p l a y n a m e  >   <  / o w n e r  >   <  b u c k e t s  >   <  / b u c k e t s  >   <  / l i s t a l l m y b u c k e t s r e s u l t  >   a p p e n d i x   b .   r e v i s i o n   h i s t o r y   r e v i s i o n   h i s t o r y   r e v i s i o n   4 . 1 - 1   w e d   a u g   7   2 0 1 9   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 7   p u b l i c a t i o n   .   r e v i s i o n   3 . 1 - 2   t h u   o c t   4   2 0 1 8   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 6   p u b l i c a t i o n   .   r e v i s i o n   2 . 1 - 1   t h u   1 5   2 0 1 8   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 5   p u b l i c a t i o n   .   r e v i s i o n   2 . 1 - 0   t h u   d e c   1 4   2 0 1 7   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 5   b e t a   p u b l i c a t i o n   .   r e v i s i o n   0 . 6 - 5   w e d   n o v   2 2   2 0 1 7   s t e v e n   l e v i n e   u p d a t e d   v e r s i o n   7 . 4 .   r e v i s i o n   0 . 6 - 3   t h u   j u l   2 7   2 0 1 7   s t e v e n   l e v i n e   d o c u m e n t   v e r s i o n   7 . 4   p u b l i c a t i o n   .   r e v i s i o n   0 . 6 - 1   w e d   1 0   2 0 1 7   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 4   b e t a   p u b l i c a t i o n   .   r e v i s i o n   0 . 5 - 9   d e c   5   2 0 1 6   s t e v e n   l e v i n e   u p d a t e d   v e r s i o n   7 . 3 .   r e v i s i o n   0 . 5 - 7   o c t   1 7   2 0 1 6   s t e v e n   l e v i n e   v e r s i o n   7 . 3   p u b l i c a t i o n   .   r e v i s i o n   0 . 5 - 6   t h u   a u g   1 8   2 0 1 6   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 3   b e t a   p u b l i c a t i o n   .   r e v i s i o n   0 . 3 - 2   n o v   9   2 0 1 5   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 2   p u b l i c a t i o n   .   r e v i s i o n   0 . 3 - 0   w e d   a u g   1 9   2 0 1 5   s t e v e n   l e v i n e   p r e p a r i n g   d o c u m e n t   7 . 2   b e t a   p u b l i c a t i o n   .   r e v i s i o n   0 . 2 - 6   f e b   1 6   2 0 1 5   s t e v e n   l e v i n e   v e r s i o n   7 . 1   r e l e a s e   r e v i s i o n   0 . 2 - 5   t h u   d e c   1 1   2 0 1 4   s t e v e n   l e v i n e   v e r s i o n   7 . 1   b e t a   r e l e a s e   r e v i s i o n   0 . 2 - 4   t h u   d e c   0 4   2 0 1 4   s t e v e n   l e v i n e   v e r s i o n   7 . 1   b e t a   r e l e a s e   r e v i s i o n   0 . 1 - 1 2   j u n   0 3   2 0 1 4   j o h n   v e r s i o n   7 . 0   r e l e a s e   r e v i s i o n   0 . 1 - 6   j u n   1 3   2 0 1 3   j o h n   b u i l d   b e t a   r e d   e n t e r p r i s e   l i n u x   7   r e v i s i o n   0 . 1 - 1   w e d   j a n   1 6   2 0 1 3   j o h n   b r a n c h e d   r e d   e n t e r p r i s e   l i n u x   6   v e r s i o n   d o c u m e n t   i n d e x   f   p   r   w   l e g a l   n o t i c e   c o p y r i g h t   ©   2 0 1 8   r e d  ,   i n c .   d o c u m e n t   l i c e n s e d   r e d   c r e a t i v e   c o m m o n s   a t t r i b u t i o n - s h a r e a l i k e   3 . 0   u n p o r t e d   l i c e n s e   .   d i s t r i b u t e   d o c u m e n t  ,   m o d i f i e d   v e r s i o n  ,   p r o v i d e   a t t r i b u t i o n   r e d  ,   i n c .   p r o v i d e   l i n k   o r i g i n a l   .   d o c u m e n t   m o d i f i e d  ,   r e d   t r a d e m a r k s   r e m o v e d   .   r e d  ,   l i c e n s o r   d o c u m e n t  ,   w a i v e s   e n f o r c e  ,   a g r e e s   a s s e r t  ,   s e c t i o n   4 d   c c - b y - s a   f u l l e s t   e x t e n t   p e r m i t t e d   a p p l i c a b l e   l a w   .   r e d  ,   r e d   e n t e r p r i s e   l i n u x  ,   s h a d o w m a n   l o g o  ,   r e d   l o g o  ,   j b o s s  ,   o p e n s h i f t  ,   f e d o r a  ,   i n f i n i t y   l o g o  ,   r h c e   t r a d e m a r k s   r e d  ,   i n c .  ,   r e g i s t e r e d   u n i t e d   s t a t e s   c o u n t r i e s   .   l i n u x ®   r e g i s t e r e d   t r a d e m a r k   l i n u s   t o r v a l d s   u n i t e d   s t a t e s   c o u n t r i e s   .   j a v a ®   r e g i s t e r e d   t r a d e m a r k   o r a c l e   a n d / o r   a f f i l i a t e s   .   x f s ®   t r a d e m a r k   s i l i c o n   g r a p h i c s   i n t e r n a t i o n a l   c o r p .   s u b s i d i a r i e s   u n i t e d   s t a t e s   a n d / o r   c o u n t r i e s   .   m y s q l ®   r e g i s t e r e d   t r a d e m a r k   m y s q l   u n i t e d   s t a t e s  ,   e u r o p e a n   u n i o n   c o u n t r i e s   .   n o d e . j s ®   o f f i c i a l   t r a d e m a r k   j o y e n t   .   r e d   f o r m a l l y   r e l a t e d   e n d o r s e d   o f f i c i a l   j o y e n t   n o d e . j s   o p e n   s o u r c e   c o m m e r c i a l   p r o j e c t   .   o p e n s t a c k ®   w o r d   m a r k   o p e n s t a c k   l o g o   r e g i s t e r e d   t r a d e m a r k s / s e r v i c e   m a r k s   t r a d e m a r k s / s e r v i c e   m a r k s   o p e n s t a c k   f o u n d a t i o n  ,   u n i t e d   s t a t e s   c o u n t r i e s   o p e n s t a c k   f o u n d a t i o n  ' s   p e r m i s s i o n   .   a f f i l i a t e d  ,   e n d o r s e d   s p o n s o r e d   o p e n s t a c k   f o u n d a t i o n  ,   o p e n s t a c k   c o m m u n i t y   .   t r a d e m a r k s   p r o p e r t y   r e s p e c t i v e   o w n e r s  .
